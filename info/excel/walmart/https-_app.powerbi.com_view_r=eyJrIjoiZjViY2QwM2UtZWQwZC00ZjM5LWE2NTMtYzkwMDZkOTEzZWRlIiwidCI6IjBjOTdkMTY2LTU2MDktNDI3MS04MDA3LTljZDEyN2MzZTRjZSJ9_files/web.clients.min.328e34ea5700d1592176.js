"use strict";var marker,yn=Object.defineProperty,_n=(me,j,e)=>j in me?yn(me,j,{enumerable:!0,configurable:!0,writable:!0,value:e}):me[j]=e,fr=(me,j,e)=>_n(me,"symbol"!=typeof j?j+"":j,e);this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[8],{83751:function(me,j,e){e.d(j,{F7:function(){return h},FM:function(){return s},Kf:function(){return O},Pb:function(){return N},Qq:function(){return i},dw:function(){return d},g5:function(){return w},jn:function(){return P},rv:function(){return I},x5:function(){return v}});var r=e(157912),i="contentPackDirty",d=-1,s="#loading#",h="#error#",v="CannotDeleteModelPublishedToOrganizationalApp",w=!1,P="/"+(0,r.ls)()+"/images/modelPlaceholder.png",N=function(R){return R[R.Large=0]="Large",R[R.Regular=1]="Regular",R[R.Small=2]="Small",R}({}),I="1.7",O="No visual type"},84127:function(me,j,e){e.d(j,{$u:function(){return r},Hd:function(){return i},I7:function(){return a}});var r=function(t){return t.Light="Light",t.Dark="Dark",t.ColorBlindFriendly="Color-blind friendly",t}({}),i={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function a(){return{[r.Light]:{name:r.Light,foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},[r.Dark]:{name:r.Dark,foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},[r.ColorBlindFriendly]:{name:r.ColorBlindFriendly,background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}}}}},187317:function(me,j,e){e.d(j,{Ig:function(){return i},gH:function(){return a},nb:function(){return r}});var r=function(t){return t[t.composite=0]="composite",t[t.iframe=1]="iframe",t[t.image=2]="image",t[t.model=3]="model",t[t.ssrs=4]="ssrs",t[t.workbook=5]="workbook",t[t.report=6]="report",t[t.realTime=8]="realTime",t}({}),i=function(t){return t[t.NamedRange=0]="NamedRange",t[t.Parameter=1]="Parameter",t[t.Table=2]="Table",t[t.PivotTable=3]="PivotTable",t[t.Chart=4]="Chart",t[t.WebExtension=5]="WebExtension",t}({}),a=function(t){return t[t.PowerBIServiceException=0]="PowerBIServiceException",t[t.DSRException=1]="DSRException",t}({})},390628:function(me,j,e){e.d(j,{w:function(){return r}});var r=function(i){return i.Home="home",i.Report="report",i.Dashboard="dashboard",i.GoalsHub="goalshub",i.Apps="contentprovider",i.DataHub="datahub",i}({})},403625:function(me,j,e){e.d(j,{GU:function(){return a},y$:function(){return i}});var r=e(212554),i={name:"syncServiceDashboardEdited",type:r.U.Global},a={name:"syncServiceDashboardDeepEdited",type:r.U.Global}},680201:function(me,j,e){e.d(j,{fv:function(){return a}});var a={color:"#374649",fontColor:"#FFF"}},133169:function(me,j,e){e.d(j,{B:function(){return r}});var r=function(i){return i[i.Dashboard=0]="Dashboard",i[i.Report=1]="Report",i[i.Model=2]="Model",i[i.Workbook=3]="Workbook",i}({})},109925:function(me,j,e){e.d(j,{x:function(){return l}});var r=e(774973),i=e(795169),a=e(422758);class l{constructor(n){this.contract=n,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=n&&null!=n.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId=`${r.u9.Dashboard}_${this.contract.id}`}getPermissions(){var n;return this.getPermissionsCallback&&null!=(n=this.getPermissionsCallback())?n:this.contract&&this.contract.permissions}increaseHitCount(){this.hitCount++}get tiles(){return this.lazyTiles||(this.lazyTiles=new i.d(()=>[])),this.lazyTiles.getValue()}get id(){return this.contract.id}set id(n){this.contract.id=n}get folderId(){return this.contract.folderId}set folderId(n){this.contract.folderId=n}get objectId(){return this.contract.objectId}get canEdit(){return(0,a.mW)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)}get contentTileType(){return r.u9.Dashboard}isFilled(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length}calculateLayout(){this.layoutRequired=!1;var n=this.tiles;if(!_.isEmpty(n))for(var d of n)d.calculateLayout()}applyLayout(){var n=this.tiles;if(!_.isEmpty(n))for(var d of n)d.applyLayout()}runLayoutIfRequired(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())}scheduleDelayedLayout(n=!1){this.layoutRequired||(this.layoutRequired=!0,n||setTimeout(()=>{this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},100))}findTile(n){return _.find(this.tiles,d=>d.id===n)}findTileByObjectIdOrOriginalObjectId(n,d){if(n||d)return _.find(this.tiles,s=>!_.isEmpty(n)&&s.contract.objectId===n||!_.isEmpty(d)&&s.contract.originalTileObjectId===d)}getTileIndex(n){return _.findIndex(this.tiles,d=>d.id===n)}getTileContractIndex(n){return _.findIndex(this.contract.tiles,d=>d.id===n)}getUniquePackageId(){var n=this.contract;return n.originalPackageId?n.originalPackageId:n.packageIds&&1===n.packageIds.length?n.packageIds[0]:void 0}hasModel(n){return _.some(this.tiles,d=>d.contract.modelId===n)}hasOwnerInfo(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)}}},261438:function(me,j,e){e.d(j,{f:function(){return t}});var r=e(187317),i=e(634235),a=e(467201);function t(l,g){if(l&&l.type===r.nb.realTime){var n=g.tileModelConverter.convertTileConfig(l);g.tileModelConverter.convertTileLayoutConfig(l);var d=new a.N(l,g.visualPlugin,g.visualPluginOps,g.featureSwitchService,g.geolocationService,g.geocoder,g.promiseFactory,g.moduleLoader,g.telemetryService,g.themeService,g.authenticationService,g.localizationService,g.visualHostTooltipService,g.azureMapTokenCache,g.azureMapsEndpoint,g.geocoderIndexedDB);n&&n.realTimeVisual&&(d.config=n.realTimeVisual),d.displayText=l.displayText,d.subDisplayText=l.subDisplayText;var s=(0,i.mO)(l);return d.size={rowSpan:s.height,colSpan:s.width},d}}},140235:function(me,j,e){e.d(j,{PS:function(){return M},RQ:function(){return w},hN:function(){return P},lB:function(){return I},pf:function(){return B},pr:function(){return N}});var r=e(372454),i=e(826991),a=e(419216),t=e(717312),l=e(4509),g=e(445536),n=e(399204),d=e(372706),s=e(781594),h=e(785463),o=e(928912),v=e(168376),m=e(437849),p=e(83751),y=e(187317),S=e(634235),C=e(134939),u=e(662785),E=100;function M(x,A,L){h.Y.assertValue(x,"pinData");var Y=function(x,A){var L=function(x,A){var L={$visualContainer:x.visualContainer,$modelExtensions:x.modelExtensions,themeCollection:m.T.cloneThemeCollection(x.themeCollection),dataSourceVariables:x.dataSourceVariables};return function(x,A,L,Y,z,H,Z,k,K){Y&&(x.layoutType=Y),L&&(x.elements=L),z&&(x.queryMetadata=z),Z&&(x.heading1=Z),H&&(x.heading2=H),k&&(x.heading3=k),A&&(x.transform=t.R.serializeTransformActions(t.R.serializeDataViewTransformActions(A,K&&K.objects)))}(L,x.dataTransforms,x.elements,x.tileLayoutType,x.queryMetadata,x.tileFilterDetails,x.tileHeading,x.tileSubDisplay,A),L}(x,A),Y={version:p.rv},z=x.visualContainer.config.singleVisual.vcObjects?.title?.find(Z=>!Z.selector);if(Y.hideTitle=!1===z?.properties?.show?.value,null!=x.realTimeDataWindow){var H=L;H.dataWindow=x.realTimeDataWindow,Y.realTimeVisual=H}else Y.visualContainer=L;return Y}(x,A);x.tileDataType&&(Y.tileDataType=x.tileDataType);var z=function(x,A,L,Y,z){h.Y.assert(()=>A===y.nb.composite||A===y.nb.realTime,"Invalid type"),h.Y.assertValue(x,"tileConfig");var H=d.um,Z=d.m3;(0,C.d)(x)===s.N.card.name&&(H=d.aI,Z=d.AQ);var k=L?{modelQuery:{sq:JSON.stringify(L)}}:null,K=(0,S.Z5)({width:H,height:Z}),ee={id:++E,type:A,query:k,$config:x,tileData:Y?R(Y.data):null,tileDataSet:Y,layoutConfig:JSON.stringify(K),$layoutConfig:K},Q=x.visualContainer;return Q&&(ee.displayText=Q.heading1,ee.subDisplayText=Q.heading3),z&&(ee.modelId=z.id),ee}(Y,null!=x.realTimeDataWindow?y.nb.realTime:y.nb.composite,x.query,x.dataViewSource,L);return z.publishState=r.li.Completed,x.action&&(z.action=JSON.stringify(x.action)),null!=x.utterance&&(z.query.modelQuery.utterance=x.utterance),x.name&&(z.name=x.name),z.reportId=x.reportId,x.modelId&&(z.modelId=x.modelId),x.packageId&&(z.packageId=x.packageId),z.resourcePackageIds=x.resourcePackageIds,z}function w(x,A,L,Y,z,H,Z,k,K,ee,Q,J){var ne,X={version:p.rv};(k||K)&&(X.reportTile={pod:k,filters:K}),ee&&(ne={modelQuery:{utterance:ee}});var Me=Q?Q/(2*n.MW):2,Ye=J?J/(2*n.n3):2;0===Math.round(Me)&&(Me=2),0===Math.round(Ye)&&(Me=2);var Le=Math.round(d.um*Me),lt=Math.round(d.m3*Ye);Le=Le>(0,g.D8)()?(0,g.D8)():Le,lt=lt>(0,g.v7)()?(0,g.v7)():lt;var ut=(0,S.Z5)({width:Le,height:lt});return{id:++E,type:y.nb.report,displayText:z,subDisplayText:H,action:JSON.stringify(Z),reportId:x,sectionId:Y,modelId:A,packageId:L,publishState:r.li.Completed,query:ne,config:X?JSON.stringify(X):void 0,$config:X,layoutConfig:JSON.stringify(ut),$layoutConfig:ut}}function P(x){return x.publishState===r.li.InProgress}function N(x){return x.errorCode===r.Oc.permissionLocked}function I(x,A){var L=[],Y=function(x,A){var L=[{id:r.Fi.WebContent,title:A.get("AddWidgetModal_IframeOption_Title"),description:A.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:y.nb.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:r.Fi.WebContent,name:"webContent"}},$layoutConfig:(0,S.Z5)()},disabled:!x,tooltip:x?void 0:A.get("Dashboard_WebContentTiles_Disabled")},{id:r.Fi.Image,title:A.get("Image"),description:A.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:y.nb.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:r.Fi.Image,name:"image"}},$layoutConfig:(0,S.Z5)()}},{id:r.Fi.TextBox,title:A.get("Textbox"),description:A.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:y.nb.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:i.XO.Default,$visualContainer:{name:o.n4.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:r.Fi.TextBox,name:"textbox"}},$layoutConfig:(0,S.Z5)()}},{id:r.Fi.Video,title:A.get("AddWidgetModal_VideoOption_Title"),description:A.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:y.nb.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:r.Fi.Video,name:"video"}},$layoutConfig:(0,S.Z5)()},disabled:!x,tooltip:x?void 0:A.get("Dashboard_WebContentTiles_Disabled")}];return{title:A.get("Add_Widgets_Section_Title"),tiles:L}}(x,A);Y&&!_.isEmpty(Y.tiles)&&L.push(Y);var z=function(x){var A=[];return A.push({id:r.Fi.RealtimeCard,title:x.get("Realtime_TileTitle"),description:x.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:y.nb.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:i.XO.Default,$visualContainer:{name:o.n4.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,S.Z5)({width:d.aI,height:d.AQ})}}),{title:x.get("Add_Realtime_Section_Title"),tiles:A}}(A);return z&&!_.isEmpty(z.tiles)&&L.push(z),_.cloneDeep(L)}function R(x){if(void 0!==x)return JSON.stringify(x,(A,L)=>A&&A.charAt&&"$"===A.charAt(0)?void 0:L)}function B(x,A,L,Y){if(x){var z=_.cloneDeep(x),H=z.realTimeVisual||z.visualContainer;if(H){if(h.Y.assertValue(A,"Exploration serializer is required when serializing a composite tile"),Y)H.visualContainer=A.serializeVisualContainer((x.realTimeVisual||x.visualContainer).$visualContainer);else{var Z=H.$visualContainer.config.singleVisual,k=(0,v._W)(Z.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);k&&(0,u.VO)(k)&&k.value&&(H.stylePresetName=k.value),H.visual=Z.visualType,H.columnProperties=Z.columnProperties;var K=x.realTimeVisual||x.visualContainer,ee=K.$visualContainer.config.singleVisual.objects;if(ee){var Q=L.capabilities(Z.visualType);Q&&Q.objects&&(H.objects=(0,a.Eo)(ee,Q.objects,void 0,!0))}var J=x.visualContainer&&K.$visualContainer.config.singleVisual.vcObjects;J&&(H.vcObjects=(0,a.Eo)(J,l.Xe,void 0,!0)),z.visualContainer&&(z.visual=H,delete z.visualContainer),z.version="0.1"}H.$modelExtensions&&(H.modelExtensions=A.serializeModelExtensions(H.$modelExtensions)),delete H.$visualContainer,delete H.$modelExtensions}return JSON.stringify(z)}}},805818:function(me,j,e){e.d(j,{O:function(){return v}});var r=e(566296),i=e(785463),a=e(659956),t=e(507345),l=e(928912),g=e(187317),n=e(713681),d=e(634235),s=e(695029),h=e(140235),o=e(130439);function v(p,y,S,C,u,E,c,f,D,b,T,M,V,w,P,N,I,O){return new m(p,y,S,C,u,E,c,f,D,b,T,M,V,w,P,N,I,O)}class m{constructor(y,S,C,u,E,c,f,D,b,T,M,V,w,P,N,I,O,R){this.geolocationService=y,this.telemetryService=S,this.visualPlugins=C,this.visualPluginOps=u,this.featureSwitchService=E,this.geocoder=c,this.promiseFactory=f,this.moduleLoader=D,this.tileConfigUpgraderService=b,this.explorationSerializer=T,this.themeService=M,this.authenticationService=V,this.localizationService=w,this.visualHostTooltipService=P,this.licenseUIManagerFactory=N,this.azureMapTokenCache=I,this.azureMapsEndpoint=O,this.geocoderIndexedDB=R}convertCompositeTile(y){if(!y||y.type!==g.nb.composite)return null;var C,S=this.convertTileConfig(y);if(this.convertTileLayoutConfig(y),!S||!S.visualContainer)return i.Y.assertFail("Invalid composite tile type"),null;(C=new o.xi(y,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.azureMapTokenCache,this.azureMapsEndpoint,this.geocoderIndexedDB,this.licenseUIManagerFactory)).config=S.visualContainer,C.displayText=y.displayText,C.subDisplayText=y.subDisplayText;var u=(0,d.mO)(y);if(C.size={rowSpan:u.height,colSpan:u.width},C.isLoading=(0,h.hN)(y),y.queryResultError){C.isError=!0;var E=y.queryResultError;this.telemetryService.logEvent(n.tp,{tileType:g.nb[g.nb.composite],message:(0,t.G)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,a.dI)(g.gH,E.type),E.errorDetail,E.rootActivityId,y.modelId.toString(),y.id.toString())});var c=(0,s.W9)(E,this.localizationService);c?(C.errorDetails=c,C.errorText=c.message):C.errorText=this.localizationService.get("Tile_ErrorText")}return C}convertTileData(y){if(y.tileDataSet)return y.tileDataSet;var S=this.convertTileConfig(y);try{y.tileDataSet=this.parseTileData(y,S.tileDataType)}catch(C){throw this.telemetryService.logEvent(n.tp,{tileType:g.nb[g.nb.composite],message:(0,t.G)("DsrParseError:{0} with modelId:{1} and tileId:{2}",C.message,y.modelId.toString(),y.id.toString())}),l.n4.ensureError(C)}return y.tileDataSet}convertTileConfig(y){i.Y.assertValue(y,"contract");var S=y.$config;if(!S){var C=(0,l.ni)("Parse tile config");try{var u=(S=y.$config=(0,s.Eu)(y.config)).visualContainer||S.realTimeVisual;this.deserializeVisualContainer(u),this.deserializeModelExtensions(u||S.visual),this.tileConfigUpgraderService.upgrade(y.id,S,y.query)}catch{i.Y.assertFail("Unable to parse tile config")}finally{C()}}return S}convertTileLayoutConfig(y){if(i.Y.assertValue(y,"contract"),!y.$layoutConfig){var S=(0,s.SS)(y);y.$layoutConfig=S,y.layoutConfig=JSON.stringify(S)}return y.$layoutConfig}deserializeVisualContainer(y){y&&y.visualContainer&&!y.$visualContainer&&(y.$visualContainer=this.explorationSerializer.deserializeCanvasItem(y.visualContainer))}deserializeModelExtensions(y){y&&y.modelExtensions&&!y.$modelExtensions&&(y.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(y.modelExtensions))}parseTileData(y,S){var u,C=(0,l.ni)("Parse tile data");try{if(y.tileDataBinaryBase64Encoded){var E=(0,r.kU)(y.tileDataBinaryBase64Encoded);u=JSON.parse(E)}else y.tileData&&(u=JSON.parse(y.tileData));return{type:S,data:u}}finally{C()}}}},130439:function(me,j,e){e.d(j,{xi:function(){return b}});var r=e(619584),i=e(372454),a=e(826991),t=e(748958),l=e(717312),g=e(943175),n=e(712813),d=e(535678),s=e(587814),h=e(833377),o=e(445536),v=e(372706),m=e(785463),p=e(147293),y=e(51926),S=e(168376),C=e(713681),u=e(695029),E=e(947939),c=e(662785);class f{constructor(M,V,w){this.useSmallPlotArea=!1,m.Y.assertValue(M,"contract"),m.Y.assertValue(V,"visualPlugins"),m.Y.assertValue(w,"visualPluginOps"),this.contract=M,this.visualPluginService=V,this.pluginOps=w}get type(){return m.Y.assertFail("this is an abstract property!"),null}get tileData(){return m.Y.assertFail("this is an abstract property!"),null}set tileData(M){m.Y.assertFail("this is an abstract property!")}get tileDataIsVolatile(){return m.Y.assertFail("this is an abstract function!"),!1}get isError(){return this._isError}isDataStale(M){return m.Y.assertFail("this is an abstract function!"),!1}set isError(M){this._isError=M,this.onErrorDelegate&&this.onErrorDelegate()}get heading1(){return this.config.heading1||""}setDependencies(M){this.dataProxy=M}setDataLoadEventDelegate(M){this.dataLoadEventDelegate=M}copyDependencies(M){M.dataProxy&&this.setDependencies(M.dataProxy)}}class b extends f{constructor(M,V,w,P,N,I,O,R,W,F,U,B,x,A,L,Y,z){super(M,V,w),this.featureSwitchService=P,this.geolocationService=N,this.geocoder=I,this.promiseFactory=O,this.moduleLoader=R,this.telemetryService=W,this.themeService=F,this.authenticationService=U,this.localizationService=B,this.visualHostTooltipService=x,this.azureMapTokenCache=A,this.azureMapsEndpoint=L,this.geocoderIndexedDB=Y,this.requiresResize=!1,m.Y.assertAnyValue(N,"geolocationService"),z&&(this.licenseUIManager=z.create()),this._visual={hostServices:this.createHostServices(z?{onNotifyLicense:Z=>this.onNotifyLicense(Z),onClearLicenseNotification:()=>this.onClearLicenseNotification(),onNotifyFeatureBlocked:Z=>this.onNotifyFeatureBlocked(Z)}:void 0),themeCollection:{}}}get type(){return i.gd.SingleVisual}get visual(){return this._visual}get themeCollection(){return this._visual&&this._visual.themeCollection}get heading1(){var M=this.config.heading1||"";if(!this.visual)return M;var V,w,P=this.visual.dataTransforms;P&&(V=P.selects);var N=this.visual.data;if(N&&(w=N.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var I=(0,n.xC)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,w,V);if(I.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,y._W)(I.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var O=(0,y._W)(I.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==O?this.cachedHeading=O:_.isEmpty(M)&&(M=" ")}}return this.cachedHeading||M}setThemeName(M){this.ensureVisual();var V=this._visual.themeCollection;V.customTheme=V.customTheme||(0,g.T3)(M,t.X.RegisteredResources),V.customTheme.name=M}isDataStale(M){if(!M)return!1;var w=(0,h.t8)(this.contract.tileDataUpdatedTime),P=w&&w.getTime();return!!P&&M-P>36e5}setData(M,V,w){try{this.ensureVisual(),this._visual.data=M,this._visual.dataTransforms=V,this._visual.type=w,this.clearCache()}catch(P){this.telemetryService.logEvent(C.Tn,{visualType:w,source:P.fileName,lineNumber:P.lineNumber,columnNumber:P.columnNumber,stack:P.stack,message:P.message})}}createHostServices(M){return(0,d.H)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,getAzureMapToken:()=>this.azureMapTokenCache.getAzureMapToken(),azureMapsEndpoint:this.azureMapsEndpoint,geocoderIndexedDB:this.geocoderIndexedDB,canExpandCollapse:()=>!0,onNotifyLicense:M&&M.onNotifyLicense,onClearLicenseNotification:M&&M.onClearLicenseNotification,onNotifyFeatureBlocked:M&&M.onNotifyFeatureBlocked})}ensureVisual(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())}set config(M){if(m.Y.assertValue(M,"The tile config must exist while setting it in a composite tile"),this._config=M,this._visual){var V=M.$visualContainer.config.singleVisual,w=V.visualType;this._visual.type=w;var P=(0,S._W)(V.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=P&&(0,c.VO)(P)&&P.value,this._visual.themeCollection=_.cloneDeep(M.themeCollection);var N,I,O=this.visualPluginService.capabilities(w);O&&(N=O.objects,I=V.objects);var R=(0,s.p)(M.transform);this._visual.dataTransforms=R?l.R.deserializeDataViewTransformActions(R,O):l.R.createTransformActions(M.queryMetadata,M.elements,N,I)}}get config(){return this._config}get tileData(){return this._tileData}set tileData(M){this._tileData=M,this.readDataView(!0)}get tileDataIsVolatile(){return this.contract.tileDataIsVolatile}refreshData(){this.readDataView(!1)}setDependencies(M){var V=!this.dataProxy&&this._tileData&&!this.isLoading;super.setDependencies(M),V&&this.refreshData()}readDataView(M){var V=this;return(0,r.A)(function*(){var w=V._visual.type;if(!V.visual||V.requiresData()){m.Y.assertValue(V._tileData,"tileData should be defined.");var P=V.dataProxy;if(P){if(V.contract.queryResultError){var N=(0,u.W9)(V.contract.queryResultError,V.localizationService);N?(V.isError=!0,V.errorDetails=N,V.errorText=N.message):V.errorText=V.localizationService.get("Tile_ErrorText")}if(!V._tileData||!V._tileData.data)return void(V.isLoading=!V.isError);var I=V._tileData,O={type:I.type,query:{dataSources:null,command:I.data},allowResultFromClientCache:M,perfId:w,kinds:V.pluginOps.dataViewKinds(w)},R=null;V.dataLoadEventDelegate&&(R=V.dataLoadEventDelegate(),V.dataLoadEventDelegate=null);try{var W=yield P.execute(O),U=W.dataReaderResult.error;V._visual.data={dataView:W&&W.dataReaderResult?W.dataReaderResult.dataView:null,dataViewSource:W&&W.dataViewSource?W.dataViewSource:null},V.isError=V.isError||null!=U,R&&(V.isError?R.reject():R.resolve())}catch{V.isError=!0,R&&R.reject()}}}else V._visual.data={dataView:null}})()}applyLayout(M,V){if(this.requiresResize){if(!V){var w=this.visual;w&&w.visual&&w.visual.update({viewport:w.viewport,dataViews:w.dataViews,suppressAnimations:!0,type:p.YL.Resize,resizeMode:M===o.JA.resized?p.OJ.Resized:M===o.JA.resizing?p.OJ.Resizing:void 0})}this.requiresResize=!1}}calculateLayout(M,V,w=1){if(M&&((!this.viewport||this.viewport.height!==M.height||this.viewport.width!==M.width)&&(this.requiresResize=!0),this.viewport=M),null!=V&&this.useSmallPlotArea!==V&&(this.useSmallPlotArea=V,this.requiresResize=!0),this.viewport){var P=this.viewport.height,N=this.viewport.width;(this._config&&this._config.layoutType)===a.XO.Full||(P-=this.useSmallPlotArea?E.Wo:E.Ju,N-=E.Ft),this._visual&&(this._visual.viewport={height:P,width:N,scale:w})}}canResizeTo(M){var V=this._visual&&this._visual.visual;return!!V&&(!V.canResizeTo||V.canResizeTo((0,v.$x)(M)))}getErrorLocId(M,V){return""}requiresData(){var M=this.visual,V=this.pluginOps;if(M){if(M&&M.type){if(!V)return!0;if(!V.isQueryVisual(M.type))return!1}return!0}}updateVisualInteractivityOptions(M){var V=this.visualPluginService.getInteractivityOptions(this._visual.type);typeof V.mobileTileInteractive<"u"&&(V.mobileTileInteractive=V.mobileTileInteractive&&M),this._visual.interactivityOptions=V}clearCache(){this.cachedHeading=void 0}onNotifyLicense(M){M!==p.Zb.General&&this.licenseUIManager.displayNotification(M)}onNotifyFeatureBlocked(M){this.licenseUIManager.displayFeatureBlockedBanner(M)}onClearLicenseNotification(){this.licenseUIManager.clearNotification()}}},949734:function(me,j,e){e.d(j,{Q:function(){return i}});var r=e(372706);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===r.m3||t.colSpan===r.aI}getErrorLocId(t,l){return""}}},930901:function(me,j,e){e.d(j,{R:function(){return a}});var r=e(372706),i=e(928912);class a{constructor(l){this.contract=l}get imageUrl(){return this._imageUrl}set imageUrl(l){this._imageUrl=l,l&&!this.isStatic&&0!==l.indexOf("data:")&&(this._imageUrl=i.n4.getAbsoluteUri(l))}canResizeTo(l){return l.rowSpan===r.m3||l.colSpan===r.aI}getErrorLocId(l,g){return""}}},27933:function(me,j,e){e.d(j,{X:function(){return i}});var r=e(372706);class i{constructor(t){this.contract=t}canResizeTo(t){return t.rowSpan===r.AQ}getErrorLocId(t,l){return""}}},467201:function(me,j,e){e.d(j,{N:function(){return v}});var r=e(619584),i=e(510281),a=e(830189),t=e(785463),l=e(659956),g=e(160800),n=e(191941),d=e(816028),s=e(634235),h=e(130439),o=e(349317);class v extends h.xi{constructor(p,y,S,C,u,E,c,f,D,b,T,M,V,w,P,N){super(p,y,S,C,u,E,c,f,D,b,T,M,V,w,P,N),this._visual=null,this._localizationService=M}setModelId(p){var y=this;return(0,r.A)(function*(){t.Y.assertAnyValue(p,"id"),y.contract.modelId=p,yield y.initialize()})()}getRealTimeModelId(){var p=this;return(0,r.A)(function*(){if(p.datasetStore){var y=p.contract;return p.datasetStore.findAll(y.modelId,!0).then(S=>{if(!_.isEmpty(S)){var C=_.find(S,E=>null==y.packageId||E.packageId===y.packageId);return C||(C=_.find(S,E=>(0,l.Lt)(E.permissions,i.M6.All))),C||(C=_.first(S)),{id:C.id,originalModelId:C.originalModelId,tableName:p.getSchemaTableName(),schema:p.getRealTimeConceptualSchema(),packageId:y.packageId}}})}})()}setRealTimeModelDependencies(p,y,S,C,u){super.setDependencies(p),t.Y.assertValue(y,"visualQueryGenerator"),t.Y.assertValue(S,"conceptualSchemaProxy"),t.Y.assertValue(C,"realTimeDataService"),this.visualQueryGenerator=y,this.conceptualSchemaProxy=S,this.realTimeDataService=C,this.datasetStore=u}copyRealTimeModelDependencies(p){var y=this;return(0,r.A)(function*(){if(t.Y.assertValue(p,"other"),p.schema&&(y.schema=p.schema),p.dataProxy&&p.realTimeDataService&&p.visualQueryGenerator&&p.conceptualSchemaProxy){y.setRealTimeModelDependencies(p.dataProxy,p.visualQueryGenerator,p.conceptualSchemaProxy,p.realTimeDataService,p.datasetStore),p.onErrorDelegate&&!y.onErrorDelegate&&(y.onErrorDelegate=p.onErrorDelegate);var S=yield p.getRealTimeModelId();y.realTimeDataService.replaceListener(S,p,y)}})()}onDataChanged(){var p=this;return(0,r.A)(function*(){if(t.Y.assertValue(p.visualQueryGenerator,"visualQueryGenerator"),t.Y.assertValue(p.dataProxy,"dataProxy"),p.singleVisualConfig){var y=d.t3,S=p.config;S&&S.dataWindow&&(y=S.dataWindow);var E,C=yield p.getDatasources(),u=p.visualQueryGenerator.execute({dataSources:C,schema:p.schema,config:p.singleVisualConfig,additionalFilters:null,dataWindow:y});!u||u.error?(u&&u.error&&(E=u.error.getDetails(p._localizationService)),p.onError(E)):p.dataProxy.execute(u.options).then(c=>{p.isError=!1;var f={dataView:c&&c.dataReaderResult?c.dataReaderResult.dataView:null},D=p.lastCategoryValue;try{var b=(0,o.ON)(f.dataView);if(null!=D&&null!=b&&D.valueOf()>=b.valueOf())return;p.lastCategoryValue=b}catch(T){}p.setData(f,u.transforms,p.config.$visualContainer.config.singleVisual.visualType),p.isLoading=!1},c=>{if(!(c instanceof a.$X)){var f=c&&c.getDetails(p._localizationService);p.onError(f)}})}})()}onError(p){p||(p=(new a.ND).getDetails(this._localizationService)),this.setErrorDetails(p)}getDatasources(){var p=this;return(0,r.A)(function*(){var y=yield p.getRealTimeModelId();if(y)return(0,o.hT)(y.id,y.originalModelId)})()}set singleVisualConfig(p){t.Y.assertValue(p,"config"),this.config.$visualContainer.config.singleVisual=p,this.onDataChanged()}get singleVisualConfig(){return this.config.$visualContainer.config.singleVisual}isDataStale(){return!1}initialize(){var p=this;return(0,r.A)(function*(){var y=(0,s.mO)(p.contract);return p.size={rowSpan:y.height,colSpan:y.width},p.getDatasources().then(S=>{if(S)return p.conceptualSchemaProxy.get(S).then(C=>(p.fixUpSchema(C),p.schema=C,p.getRealTimeModelId().then(u=>{p.realTimeDataService.subscribe(u,p)})))})})()}unsubscribe(){var p=this;return(0,r.A)(function*(){return p.getRealTimeModelId().then(y=>{if(y&&y.tableName)return p.realTimeDataService.unsubscribe(y,p)})})()}fixUpSchema(p){var y=p.schema(d.kU).entities;t.Y.assert(()=>y&&1===y.length,"Exactly 1 entity is expected.");var S=y[0].properties;for(var C of S)(C.type===n.eV.fromDescriptor({numeric:!0})||C.type===n.eV.fromDescriptor({integer:!0}))&&(C.kind=g.ye.Measure)}getSchemaTableName(){var p=this.getRealTimeConceptualSchema();if(p){var y=p.entities;return t.Y.assert(()=>1===y.length,"Expecting only one entity"),_.head(y).name}}getRealTimeConceptualSchema(){if(this.schema)return this.schema.schema(d.kU)}setErrorDetails(p){t.Y.assertValue(p,"errorDetails should be set"),this.errorDetails=p,this.errorText=p.message,this.isError=!0}}},944460:function(me,j,e){e.d(j,{O:function(){return i}});var r=e(372706);class i{constructor(t){this.contract=t,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}canResizeTo(t){return t.rowSpan===r.m3||t.colSpan===r.aI}getErrorLocId(t,l){return""}}},249725:function(me,j,e){e.d(j,{f:function(){return a}});var r=e(372706),i=e(928912);class a{constructor(l){this.contract=l}get imageUrl(){return this._imageUrl}set imageUrl(l){l&&(this._imageUrl=0!==l.indexOf("data:")?i.n4.getAbsoluteUri(l):l)}canResizeTo(l){return l.rowSpan===r.Ug||l.colSpan===r.pk}getErrorLocId(l,g){return""}}},947939:function(me,j,e){e.d(j,{Bi:function(){return S},FA:function(){return x},Ft:function(){return U},Ju:function(){return F},VE:function(){return u},Wo:function(){return B},gs:function(){return N},lT:function(){return I},r4:function(){return c},vB:function(){return p},zJ:function(){return C}});var r=e(826991),i=e(339131),a=e(727695),t=e(844938),l=e(833377),g=e(935236),n=e(785463),d=e(899448),s=e(83751),h=e(84127),o=e(187317),v=e(634235),m=e(695029),p=function(k){return k[k.Dashboard=0]="Dashboard",k[k.Report=1]="Report",k[k.RdlReport=2]="RdlReport",k}({});function S(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(f)}function C(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(D)}function u(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(b)}function c(k){return S(k)||C(k)||u(k)||function(k){return!_.isEmpty(k)&&0===k.toLowerCase().indexOf(T)}(k)}var f="/dashboards/",D="/reports/",b="/rdlreports/",T="/workbooks/",N=65,I=55,F=20,U=20,B=8;class x{constructor(K,ee,Q){this.forceOpenCustomLinksInNewTab=Q,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=K,this.tileHeaderSize=s.Pb.Regular,this.layoutPosition={},this.localizationService=ee,this.themeName=h.$u.Light,this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}get gridLayouts(){return this.contract.$layoutConfig.layouts}get id(){return this.contract.id}set id(K){this.contract.id=K}get objectId(){return this.contract.objectId}get details(){switch(this.type){case o.nb.composite:return this.composite;case o.nb.iframe:return this.iframe;case o.nb.image:return this.image;case o.nb.model:return this.model;case o.nb.ssrs:return this.ssrs;case o.nb.workbook:return this.workbook;case o.nb.report:return this.reportTile;case o.nb.realTime:return this.realTime;default:return n.Y.assertFail("Invalid tile type"),null}}get shouldBeIncludedInTelemetryMeasurement(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement}get isTemporary(){return this.id<=0}get isTileLoading(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading}calculateLayout(K,ee){var Q=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(K)&&!_.isNil(ee)&&(K=this.currentViewPort),this.compositeTile&&K){var J=K,X=this.tileHeaderSize===s.Pb.Small;if(_.isNil(ee)||_.isNil(this.currentViewPort))X?this.hasTitle()?J.height-=Q:(this.composite&&this.composite.config&&this.composite.config.layoutType)!==r.XO.Full&&(J.height-=10):this.hasTitle()&&(this.hasSubtitle()?J.height-=Q:J.height-=Q-10),this.currentViewPort=J;else if(ee>0){var ne={width:this.currentViewPort.width,height:this.currentViewPort.height};ne.height-=ee,ne.height<=0?n.Y.assert(()=>ne.height>0,"ViewPort height is zero or negative"):J=ne}this.compositeTile.calculateLayout(J,X)}}getTileHeight(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0}applyLayout(K,ee){this.compositeTile&&this.compositeTile.applyLayout(K,ee)}invalidateLayout(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()}tryPopulateLayoutPositionValues(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var K=this.gridLayoutContext.getActiveLayout(),Q=(0,g.u_)(this.contract.$layoutConfig.layouts).withId(K);return Q&&Q.position&&(this.layoutPosition=_.cloneDeep(Q.position)),!0}applyChanges(){if(this.contract&&this.gridLayoutContext){var K=_.cloneDeep(this.layoutPosition);(0,m.$X)(this.contract.$layoutConfig,K,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}}static isValidUrl(K,ee){return!_.isEmpty(K)&&((0,d.U8)(K,!1)||ee&&c(K))}getDisplayText(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""}getSubDisplayText(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var K=this.compositeTile.config;if(!this.displayText&&K&&!_.isEmpty(K.heading3))return K.heading3}return""}shouldPlaceBulletSeperator(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled}get hrefTarget(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"}get lastRefreshTimeInLocaleString(){var K=(0,l.t8)(this.contract.tileDataUpdatedTime),ee="";return K?ee=K.toLocaleString():this.datasetModel&&(ee=this.datasetModel.lastRefreshTimeInLocaleString),ee||""}get formattedTime(){var K;if(this.workbook){var ee=this.contract.tilePackage;K=ee?(0,l.t8)(ee.lastRefreshTime):null}else K=(0,l.t8)(this.contract.tileDataUpdatedTime);return K?this.cachedRefreshTime&&K.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=K,this.cachedRefreshString=this.getFormattedDateString(K)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0}getFormattedDateString(K){var ee=a.ZG,Q=(0,a.Yh)();return Q&&ee(K,A,Y,!1)?(0,t.xz)(K,this.localizationService):Q&&ee(K,L,z,!0)?(0,a.iN)(this.localizationService.currentLanguageLocale,K):Q&&ee(K,L,H,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,a.iN)(this.localizationService.currentLanguageLocale,K)]):Q&&ee(K,L,Z,!0)?(0,a.KJ)(this.localizationService.currentLanguageLocale,K):(0,a.BD)(this.localizationService.currentLanguageLocale,K)}setDatasetModelAndPackageInfo(K,ee){K&&(this.datasetModel=K,ee&&(this.datasetModel.packagePublishStatus=ee.publishOrRefreshStatus))}hasTitle(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))}hasSubtitle(){var K=this.config;return(!K||!K.hideTitle)&&(!_.isEmpty(this.subDisplayText)||K&&K.lastRefreshTimeEnabled)}lastRefreshTimeInLocaleWithLabel(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])}setTileHeaderSize(K){this.tileHeaderSize!==K&&(this.tileHeaderSize=K,this.invalidateLayout())}get compositeTile(){return this.composite||this.realTime}hasLayoutDefinition(K){return!!(0,g.u_)(this.contract.$layoutConfig.layouts).withId(K)}hasLayoutPosition(K){return!!(0,v.kY)(this.contract,K)}removeLayoutPosition(K=i.v.PhonePortrait){return n.Y.assert(()=>K!==i.v.Master,"Cannot remove position for Master position"),this.hasLayoutDefinition(K)&&(this.addLayout({id:K,position:null},K),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}resetTileLayoutSizeAndPosition(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null}removeLayoutDefinition(K=i.v.PhonePortrait,ee=!0){return n.Y.assert(()=>K!==i.v.Master,"Cannot remove layout for Master position"),this.hasLayoutDefinition(K)&&(_.remove(this.contract.$layoutConfig.layouts,Q=>Q.id===K),ee&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()}applyLayoutSize(K,ee,Q){n.Y.assertValue(K,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:K.colSpan,rowSpan:K.rowSpan}),this.applyLayout(ee,Q)}getCurrentTileLayoutDescriptor(K,ee,Q){return(0,m.XE)(this.contract,K||this.contract.$layoutConfig,ee,Q)}buildLayoutDescriptor(){var K=_.cloneDeep(this.layoutPosition),ee=_.cloneDeep(this.contract.$layoutConfig);(0,m.$X)(ee,K,this.gridLayoutContext.getActiveLayout());var Q=this.composite&&this.composite.contract&&this.composite.contract.query,J=Q&&(0,m.fv)(Q,K),X=null;return Q&&J&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(J),X=JSON.stringify(this.composite.contract.query)),(0,m.XE)(this.contract,ee,Q,X)}addLayout(K,ee){return n.Y.assert(()=>ee!==i.v.Master,"Cannot remove position for Master position"),n.Y.assertValue(K,"Cannot update with undefined"),this.removeLayoutDefinition(ee),this.contract.$layoutConfig.layouts.push(K),this.getCurrentTileLayoutDescriptor()}getHeaderSizeByType(K){switch(K){case s.Pb.Large:return N;case s.Pb.Small:return 42;default:return 50}}}var A="minute",L="day",Y=15,z=0,H=1,Z=6},588542:function(me,j,e){e.d(j,{i:function(){return a}});var r=e(372454),i=e(372706);class a{constructor(l,g){this.contract=l,this.tileModel=g}canResizeTo(l){return l.rowSpan===i.m3||l.colSpan===i.aI}getErrorLocId(l,g){var n,d=[];switch(l){case r.Oc.workbookTileGeneralError:n="WorkbookTile_GeneralError";break;case r.Oc.workbookTileFileNotFound:n="WorkbookTile_FileNotFound";break;case r.Oc.workbookTileObjectNotFound:n="WorkbookTile_ObjectNotFound",d=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case r.Oc.workbookTileUnauthorized:n="WorkbookTile_Unauthorized";break;default:return""}return g.format(n,d)}hasImages(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0}get images(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null}get hasWorkbookTileConfig(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile}}},893601:function(me,j,e){e.d(j,{v:function(){return n}});var r=e(510281),i=e(220631),a=e(681497),t=e(774973),l=e(662031),g=e(659956);class n extends i.X{constructor(s){super(typeof s>"u"?0:s.id,a.v.Workbook,typeof s>"u"?0:s.packageId),this.contract=s}getPermissions(){var s;return this.getPermissionsCallback&&(s=this.getPermissionsCallback()),s||this.contract&&this.contract.permissions}get contentTileType(){return t.u9.Workbook}isOwner(){return(0,g.Lt)(this.getPermissions(),r.M6.All)}isPersonalized(){var s=this.getPermissions();return(0,g.Lt)(s,r.M6.ReadWrite|r.M6.Explore)&&!(0,g.Lt)(s,r.M6.All)}isEditable(){var s=this.editUrl;return this.isOwner()&&null!=s&&""!==s}get displayNameWithExtension(){var s=(0,l.Q)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(s)}}},713681:function(me,j,e){e.d(j,{Tn:function(){return a},tp:function(){return l}});var r=e(817491),i="PBI.TileDataUpdateException",a=r.Xi[i]=(0,r.Vp)(i),t="PBI.Dashboard.TileError",l=r.Xi[t]=(0,r.Vp)(t)},369758:function(me,j,e){e.d(j,{C:function(){return m},CV:function(){return h},K_:function(){return g},Ru:function(){return d},V$:function(){return v},Y4:function(){return y},wg:function(){return o},zb:function(){return p}});var r=e(774973),i=e(618644),a=e(785463),t=e(928912),l=e(197669);function g(S){return S&&S.category===r.r8.OrganizationalApp}function d(S){return S.originalPackageId?S.originalPackageId:S.packageIds&&1===S.packageIds.length?S.packageIds[0]:void 0}function h(S,C){var u=(0,l.i)(S);return u&&u.toLocaleDateString(C.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function o(S){return a.Y.assertValue(S,"AppUtils hasAppLogoImage appModel"),!(S.icon||_.isEmpty(S.iconUrl)&&_.isEmpty(S.localAppLogoImageData))}function v(S,C){if(a.Y.assertValue(S,"AppUtils getAppLogoImageUrl appModel"),a.Y.assertValue(C,"AppUtils getAppLogoImageUrl backendUri"),o(S)){if(S.localAppLogoImageData)return S.localAppLogoImageData;if(S.iconUrl)return t.n4.urlCombine(C,S.iconUrl)}}function m(S,C){if(o(S))return`url(${v(S,C)})`}function p(S){if(!S)return"inherit";var C=(0,i.IO)(S);return.299*C.R+.587*C.G+.144*C.B>125?"#000":"#FFF"}function y(S){if(S)return(0,i.KY)((0,i.IO)(S),.8,.2)}},634235:function(me,j,e){e.d(j,{Ls:function(){return n},Th:function(){return g},Z5:function(){return d},bI:function(){return o},kY:function(){return h},mO:function(){return s}});var r=e(339131),i=e(813220),a=e(935236),t=e(785463);function g(y){var S=n(y);if(S&&S.Commands&&S.Commands.length>0){var C=S.Commands[0].SemanticQueryDataShapeCommand;return{defn:C.Query,shape:C.Binding}}return null}function n(y){if(y&&y.modelQuery&&y.modelQuery.sq){var S;try{S=JSON.parse(y.modelQuery.sq)}catch(u){}if(!S)return;var C=null;return function(y){return y.dataQuery&&y.dataQuery.Commands&&y.dataQuery.Commands.length>0}(S)?C=S.dataQuery:function(y){return y.Commands&&y.Commands.length>0}(S)?C=S:function(y){return y.defn}(S)&&(C={Commands:[{SemanticQueryDataShapeCommand:{Query:S.defn,Binding:S.shape}}]}),C}}function d(y={}){return{layouts:[{id:r.v.Master,position:y}]}}function s(y){var S=h(y,r.v.Master);return t.Y.assertValue(S,"masterLayout should always exist on tile"),S}function h(y,S){t.Y.assertValue(y,"tile"),t.Y.assertValue(y.$layoutConfig,"tile.$layoutConfig"),t.Y.assertValue(y.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var u=(0,a.u_)(y.$layoutConfig.layouts).withId(S);return u?u.position:null}function o(y){switch(y){case i.nI.PowerBI:return"pbix";case i.nI.RdlReport:return"rdl";default:return"unknown"}}},422758:function(me,j,e){e.d(j,{dV:function(){return o},s0:function(){return h},mW:function(){return d},TT:function(){return v}});var r=function(E){return E[E.Rows=0]="Rows",E[E.Columns=1]="Columns",E}({}),t=e(510281),l=e(833377),g=e(785463),n=3;function d(E){return(E.permissions&t.M6.Write)===t.M6.Write}function h(E){return!!E&&(0,l.Xc)(E)}function o(E,c){var f=[];if(!E)return f;var D=[],b=E.modelIds;if(_.isEmpty(b)||(D=b.slice(0)),_.map(E.tiles,P=>{null!=P.modelId&&D.push(P.modelId)}),_.isEmpty(D))return f;D=_.uniq(D);for(var M=0,V=D.length;M<V;M++){var w=_.filter(c,P=>P.id===D[M]);_.isEmpty(w)||f.push(w[0])}return f}function v(E,c){g.Y.assertValue(E,"items");var f=_.filter(E,ee=>ee.pos?.x>0&&ee.pos?.y>0),D=[],T=_.sortBy(f,ee=>{var Q=ee.pos;return 1e3*Q.y+Q.x});for(var M of T){var V=M.pos;m(D,V.y,V.height)}var w=[],N=_.sortBy(f,ee=>{var Q=ee.pos;return 1e3*Q.x+Q.y});for(var I of N){var O=I.pos;m(w,O.x,O.width)}var R=function(E,c){g.Y.assertValue(E,"rowContexts"),g.Y.assertValue(c,"columnContexts");var D=_.isEmpty(E)?-1/0:_.maxBy(E,V=>V.size).size,b=_.isEmpty(c)?-1/0:_.maxBy(c,V=>V.size).size,T=_.every(E,V=>V.size===E[0].size),M=_.every(c,V=>V.size===c[0].size);return y(E,D,T)?r.Rows:y(c,b,M)?r.Columns:D<=b?r.Rows:r.Columns}(D,w),W=R===r.Rows?D:w,F=R===r.Rows?N:T,U=[],B=0;for(var x of W){for(var A=B+1;A<x.startPosition;A++)U.push(void 0);for(var L=x.startPosition;L<x.startPosition+x.size;L++)U.push(x.startPosition),B=L}var Y=_.groupBy(F,ee=>U[(R===r.Rows?ee.pos.y:ee.pos.x)-1]),z=[];for(var H of W)z=z.concat(Y[H.startPosition]);var Z=_.map(z,ee=>ee.item);if(c){var k=_.filter(E,ee=>!(ee.pos?.x>0&&ee.pos?.y>0)),K=_.map(k,ee=>ee.item);Z.push(...K)}return Z}function m(E,c,f){g.Y.assertValue(E,"contexts");var b=E[E.length-1];!_.isEmpty(E)&&c>=b.startPosition&&c<b.startPosition+b.size?c+f>b.startPosition+b.size&&(b.size=c+f-b.startPosition):E.push({startPosition:c,size:f})}function y(E,c,f){return E.length>1&&f&&c<=n}},197669:function(me,j,e){e.d(j,{i:function(){return t}});var r=e(727695),i=e(785463),a=e(928912);function t(l){var g=a.n4.getDateFromWcfJsonString(l,!0);return g||(g=(0,r.jT)(l)),i.Y.assertValue(g,"could not parse dateTime"),g}},28523:function(me,j,e){e.d(j,{WR:function(){return t},vk:function(){return l}});var r=e(510281),i=e(774973),a=e(659956);function t(n){return!(!n||n.packageType!==i.Rn.AppInstance||!n.contentProviderId&&!n.serviceContentProviderId)}function l(n){return(0,a.Lt)(n,r.M6.Write|r.M6.ReShare)}},134939:function(me,j,e){function r(i){if(i){var a=i.visualContainer||i.realTimeVisual;if(a&&a.$visualContainer)return a.$visualContainer.config.singleVisual.visualType}}e.d(j,{d:function(){return r}})},695029:function(me,j,e){e.d(j,{$X:function(){return T},Eu:function(){return P},SS:function(){return b},W9:function(){return D},Wc:function(){return p},XE:function(){return M},fv:function(){return w},if:function(){return m}});var r=e(826991),i=e(339131),a=e(67667),t=e(4509),l=e(587814),g=e(201991),n=e(399204),d=e(935236),s=e(785463),h=e(140235),o=e(634235);class m{get hasScriptVisuals(){return this.rScriptCount>0||this.pythonScriptCount>0}constructor(){this.rScriptCount=0,this.pythonScriptCount=0}}function p(N,I,O,R,W,F,U,B){s.Y.assertValue(I,"singleVisualConfig"),s.Y.assertValue(O,"dataWindow"),s.Y.assertValue(R,"dataModel"),s.Y.assertValue(W,"schema"),s.Y.assertValue(F,"pinVisualService"),s.Y.assertValue(U,"visualPluginService");var x=B.execute({dataSources:N,schema:W,config:I,additionalFilters:null,dataWindow:O}),A=F.getPinData({name:"tile",config:{singleVisual:I},layouts:void 0},r.XO.Default,N,{},null,null,x,W);A.realTimeDataWindow=O;var L=U.capabilities((0,t.dP)(A));return(0,h.PS)(A,L,R)}function D(N,I){s.Y.assertValue(N,"getTileErrorDetailsFromQueryResultError: queryResultError");var O=(0,l.p)(N.errorDetail);if(O&&!_.isEmpty(O.DataShapes)){var R=O.DataShapes[0]["odata.error"];if(R)return new a.zx(R).getDetails(I)}}function b(N){if(s.Y.assertValue(N,"contract"),N.$layoutConfig)return N.$layoutConfig;var O,I={x:N.col,y:N.row,width:N.colSpan,height:N.rowSpan};if(N.layoutConfig)try{O=JSON.parse(N.layoutConfig),(0,d.u_)(O.layouts).withId(i.v.Master).position=I}catch{s.Y.assertFail("Unable to parse tile layout config")}else O={layouts:[{id:i.v.Master,position:I}]};return O}function T(N,I,O){var R=(0,d.u_)(N.layouts),W=R.withId(O);W||R.push(W={id:O,position:{}}),W.position=I}function M(N,I,O,R){return function(N){var I=N.layouts?.find(W=>W.id===i.v.Master);if(I?.position){var O=I.position;Object.assign(O,{x:O.x||void 0,y:O.y||void 0,width:O.width,height:O.height})}}(I),{id:N.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(I),query:R?O:null,updatedQuery:R,modelId:N.modelId,objectId:N.objectId}}function w(N,I){var O=(0,o.Ls)(N);if(O){var R=I.width*n.MW,W=I.height*n.n3,F=!1;for(var U of O.Commands){var B=U.ScriptVisualCommand;B&&(B.ViewportWidthPx!==R||B.ViewportHeightPx!==W)&&(B.ViewportWidthPx=R,B.ViewportHeightPx=W,U.ScriptVisualCommand=B,F=!0)}if(F)return O}}function P(N){var I=(0,l.p)(N);return null==I&&(I={version:g.e3}),I}},401960:function(me,j,e){e.d(j,{$q:function(){return s},AH:function(){return o},EP:function(){return b},F2:function(){return E},JD:function(){return w},Kt:function(){return l},Ly:function(){return L},O$:function(){return U},P5:function(){return m},Rx:function(){return f},U6:function(){return M},_Q:function(){return y},f0:function(){return a},pv:function(){return N},s3:function(){return O},tM:function(){return x},v0:function(){return W},xA:function(){return C}});var r=e(817491),i="PBI.Dashboard.RenameReport",a=r.Xi[i]=(0,r.Vp)(i),t="PBI.Dashboard.DeleteReport",l=r.Xi[t]=(0,r.Vp)(t),g="PBI.Dashboard.InitializeNavigationPaneModels",d=(r.Xi[g]=(0,r.Vp)(g),"PBI.Dashboard.RenameDataset"),s=r.Xi[d]=(0,r.Vp)(d),h="PBI.Dashboard.UpdateModelQnaFeatures",o=r.Xi[h]=(0,r.Vp)(h),v="PBI.Dashboard.UpdateFeaturedQuestions",m=r.Xi[v]=(0,r.Vp)(v),p="PBI.Dashboard.DeleteDataset",y=r.Xi[p]=(0,r.Vp)(p),S="PBI.Dashboard.AddUpdateDashboard",C=r.Xi[S]=(0,r.Vp)(S),u="PBI.Dashboard.RenameWorkbook",E=r.Xi[u]=(0,r.Vp)(u),c="PBI.Dashboard.RemoveWorkbook",f=r.Xi[c]=(0,r.Vp)(c),D="PBI.Dashboard.GetWorkbookWopiAccessInformation",b=r.Xi[D]=(0,r.Vp)(D),T="PBI.Dashboard.ImportResourcePackagesOnLoad",M=r.Xi[T]=(0,r.Vp)(T),V="PBI.Dashboard.GetNavigationPanePackage",w=r.Xi[V]=(0,r.Vp)(V),P="PBI.TileConfig.UpgradeTileConfig",N=r.Xi[P]=(0,r.Vp)(P),I="PBI.Permissions.UpdateArtifactVisibility",O=r.Xi[I]=(0,r.Vp)(I),R="PBI.Datapool.UpdateProperties",W=r.Xi[R]=(0,r.Vp)(R),F="PBI.Http.RequestThrottled",U=r.Xi[F]=(0,r.Vp)(F),B="PBI.Dataset.GetSharedDatasets",x=r.Xi[B]=(0,r.Vp)(B),A="PBI.Dataset.GetReadonlySharedDatasets",L=r.Xi[A]=(0,r.Vp)(A)},649886:function(me,j,e){function r(i,a,t,l,g,n){var d={filtersNamesAndRestatements:[]};if(!a||_.isEmpty(a.dataFiltersUnmerged))return d;var s=l.capabilities(t.visualType);for(var h of a.dataFiltersUnmerged)if(!h.isHidden){var o=g.getFilterRestatementForOverlay(h,i,s,null,t);if(!_.isEmpty(o))for(var v of o)d.filtersNamesAndRestatements.push({displayName:v.fieldName,qualifiedDisplayName:v.fieldNameToolTip,restatement:v.restatements.join(n.get("ListJoin_Separator"))})}return d}e.d(j,{X:function(){return r}})},516849:function(me,j,e){e.d(j,{Y:function(){return l},g:function(){return t}});var r=e(135267),i=e(785463),a=e(61917);function t(g){switch(g){case r.pe.Binary:return a.W.Binary;case r.pe.Boolean:return a.W.Boolean;case r.pe.Currency:return a.W.Decimal;case r.pe.Number:return a.W.Double;case r.pe.Date:return a.W.Date;case r.pe.DateTime:return a.W.DateTime;case r.pe.Time:return a.W.Time;case r.pe.WholeNumber:return a.W.Integer;case r.pe.Text:return a.W.Text;case r.pe.Variant:return a.W.Variant;default:i.Y.assertNever(g)}}function l(g){if(null!=g)switch(g){case a.W.Null:return;case a.W.Text:return r.pe.Text;case a.W.Decimal:return r.pe.Currency;case a.W.Double:return r.pe.Number;case a.W.Integer:return r.pe.WholeNumber;case a.W.Boolean:return r.pe.Boolean;case a.W.Date:return r.pe.Date;case a.W.DateTime:case a.W.DateTimeZone:return r.pe.DateTime;case a.W.Time:return r.pe.Time;case a.W.Duration:return r.pe.DateTime;case a.W.Binary:return r.pe.Binary;case a.W.None:return;case a.W.Variant:return r.pe.Variant;case a.W.Json:return r.pe.Text;default:i.Y.assertNever(g)}}},869574:function(me,j,e){e.d(j,{Ae:function(){return h},E2:function(){return n},JD:function(){return l},Xf:function(){return g},w$:function(){return a},y9:function(){return d}});var r=e(785463),i=e(446024);function a(m,p){return new t(m,p)}class t{constructor(p,y){if(r.Y.assertValue(p,"plugins"),y){var S=function(u){r.Y.assert(()=>!!_.find(p,E=>E.name===y[u].extends),`plugin extension type '${u}' extends a plugin '${y[u].extends}' which doesn't exist`),r.Y.assert(()=>!_.some(p,E=>E.name===y[u].name),`Cannot register plugin extension type '${u}'. A plugin with that name already exists.`)};for(var C in y)S(C)}this.plugins=p,this.extensions=y||{}}getPlugin(p){return this.plugins[v(p)]}getExtension(p){return this.extensions[p]}}function l(m,p){return s(m,d(p))}function g(m,p){if(_.isEmpty(m))return[];var y;if(!_.isEmpty(p)){for(var S of(y=[],p))if(S instanceof i.Dw){var C=S.getTargetEntity();y.push(C.schema)}y=_.uniq(y)}return s(m,y)}function n(m){return r.Y.assertValue(m,"reference"),v(m.type)}function d(m){if(r.Y.assertAnyValue(m,"query"),m){var p=[];return new o(p).run(m),p}}function s(m,p){var y=[];for(var S of m)if(_.isEmpty(p)||_.includes(p,S.name)){var C=n(S);_.includes(y,C)||y.push(C)}return y}function h(m){return _.chain(m).map(p=>n(p)).uniq().value()}class o{constructor(p){this.schemas=p}run(p){var y=p.from();for(var S of y.keys())y.source(S).accept(this,void 0)}visitEntity(p){this.visitEntityOrPod(p)}visitPod(p){this.visitEntityOrPod(p)}visitSubquery(p){this.run(p.subquery)}visitExpr(p){}visitEntityOrPod(p){r.Y.assertValue(p,"source");var y=p.schema,S=this.schemas;_.includes(S,y)||S.push(y)}}function v(m){return m||"dsr"}},141451:function(me,j,e){e.d(j,{H:function(){return t}});var r=e(935236),i=e(785463),a=e(869574);function t(d,s){return new l(d,s)}class l{constructor(s,h){i.Y.assertValue(s,"factory"),i.Y.assertValue(h,"hostServices"),this.factory=s,this.hostServices=h,this.readers={},this.queryGen={},this.schemaReaders={}}reader(s){return i.Y.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,r.eC)(s),h=>h.reader(this.hostServices),_.noop,this.readers)}readerType(s){i.Y.assertAnyValue(s,"typeOrTypes");var h=this.resolvePluginProperty((0,r.eC)(s),o=>o.reader(this.hostServices),_.noop,this.readers);return h&&h.type}queryGenerator(s){return i.Y.assertAnyValue(s,"typeOrTypes"),this.findSinglePropertyDefinition((0,r.eC)(s),h=>h.queryGenerator&&h.queryGenerator(),_.noop,this.queryGen)}queryExtensionLookup(s){i.Y.assertAnyValue(s,"referenceOrReferences");var h=(0,r.eC)(s),o=_.chain(h).map(p=>(0,a.E2)(p)).uniq().value(),v=this.findSingleBasePropertyDefinition(o,p=>p.queryExtensionProvider&&g(p.name,h,p.queryExtensionProvider));return function(d,s){if(d||s)return d?(h,o)=>d(h,o,s):s}(this.findSingleExtensionPropertyDefinition(o,p=>p.queryExtensionProvider&&g(p.name,h,p.queryExtensionProvider)),v)}schemaReader(s){return i.Y.assertAnyValue(s,"type"),this.findSinglePropertyDefinition([s],h=>h.schemaReader&&h.schemaReader(this.hostServices),h=>h.schemaReader&&h.schemaReader(this.hostServices),this.schemaReaders)}getCacheKey(s){var h=(0,r.eC)(s);return h.length<2?h[0]:"["+h.join(",")+"]"}findSinglePropertyDefinition(s,h,o,v){var m=this.getCacheKey(s),p=v[m];if(p)return p;var y=this.resolvePluginProperty(s,h,o,v);return y?v[m]=y.property:void 0}findSingleExtensionPropertyDefinition(s,h){var o,v;for(var m of s){var p=this.factory.getPlugin(m);if(p){if(v&&v!==p.name)return;v=p.name}else{var y=this.factory.getExtension(m);if(!y||v&&v!==y.extends)return;v=y.extends;var S=h(y);if(S){if(o&&S!==o)return;o=S}}}return o}findSingleBasePropertyDefinition(s,h){var o,v;for(var m of s){var p=this.factory.getPlugin(m);if(p){if(v&&v!==p.name)return;v=p.name;var y=h(p);if(y){if(o&&y!==o)return;o=y}}}return o}resolvePluginProperty(s,h,o,v){var m;for(var p of s){var y=this.resolveProperty(p,h,o,v);if(!y||m&&y.property!==m.property)return;m=y}return m}resolveProperty(s,h,o,v){var m,p;if(v&&(p=v[m=this.getCacheKey(s)]))return{type:s,property:p};var y=this.factory.getPlugin(s);if(y)return(p=h(y))?(v&&(v[m]=p),{type:s,property:p}):void 0;var S=this.factory.getExtension(s);return S?(p=o(S))?(v&&(v[m]=p),{type:s,property:p}):this.resolveProperty(S.extends,h,o,v):void 0}}function g(d,s,h){var o=[];for(var v of s){var m=(0,a.E2)(v);m===d&&o.push(v[m])}return h(o)}},984092:function(me,j,e){e.d(j,{Eg:function(){return f},_w:function(){return E},Bv:function(){return c}});var r=e(978450),i=e(785463),a=e(928912),t=e(446024),l=e(20502),g=e(935236),n=e(482478);function p(O,R){i.Y.assertValue(O,"collection"),i.Y.assertValue(R,"toRemove");var W=O.indexOf(R);i.Y.assert(()=>W>=0,"the metadata column to be removed should exist in the collection before the removal"),W>=0&&O.splice(W,1)}function y(O,R){i.Y.assertValue(R,"dataViewCategorical");var W=R.categories;if(W)for(var F of W)F.values.splice(0),F.identity.splice(0);var U=R.values;if(U){var B=U.grouped();if(!_.isEmpty(B)){var x=B[0],A=O.columns,L=function(){var X=Y.source;if(X.groupName){var ne=_.find(A,ae=>!ae.groupName&&ae.index===X.index&&ae.isMeasure===X.isMeasure);ne?(Y.source=ne,p(A,X)):delete X.groupName}};for(var Y of x.values)L();var z=[{values:x.values,objects:x.objects}];if(U.grouped=()=>z,B.length>=2){var H=x.values.length;if(H>0){for(var k=H*(B.length-1),K=H,ee=H+k;K<ee;K++)p(A,U[K].source);U.splice(H,k)}}}for(var J of U)J.values.splice(0),delete J.identity}i.Y.assert(()=>!W||_.every(W,X=>_.isEmpty(X.values)&&_.isEmpty(X.identity)),"values and identity should be cleared in all category columns"),i.Y.assert(()=>!U||_.every(U.grouped(),X=>!X.name&&!X.identity),"name and identity should be cleared in all series instances"),i.Y.assert(()=>!U||_.every(U,X=>_.isEmpty(X.values)),"All values in measure columns should be removed")}function C(O,R){if(i.Y.assertValue(O,"values"),i.Y.assertValue(R,"indicesToRemove"),i.Y.assert(()=>(0,g.zW)(R,!0),"indicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(R).length===R.length,"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(R)){if(i.Y.assert(()=>0<=_.last(R)&&_.head(R)<O.length,"elements in indicesToRemove must be valid indices to the values array."),O.length===R.length)return void O.splice(0);var W,F=0;for(var U of R)void 0===W||W===U+1?(W=U,F++):(O.splice(W,F),W=U,F=1);i.Y.assertValue(W,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),O.splice(W,F)}}var u=e(868257);function E(O,R){if(i.Y.assertValue(O,"restrictiveFilter"),i.Y.assertValue(R,"baseFilter"),!(0,r.fB)(O,R))return!1;var W=O.condition,F=R.condition;if(W instanceof t.v6&&F instanceof t.v6){var U=I(W),B=I(F);if(U&&B&&(0,r.aI)(U.otherSide,B.otherSide))return(0,a.gR)(P(U.constantValue),P(B.constantValue))}return!1}function c(O,R){i.Y.assertNonEmpty(O,"selects"),i.Y.assertNonEmpty(R,"filters");var W=_.some(R,B=>!function(O){return i.Y.assertValue(O,"filter"),!O.target}(B));if(!W){var F=new N(O);for(var U of R)U.condition.accept(F);return F.getClientSideFiltersIfAllSupported()}}function f(O,R){if(i.Y.assertValue(O,"queryDataView"),i.Y.assertAnyValue(R,"clientSideFilters"),!_.isEmpty(R)&&!_.isEmpty(O.metadata.columns)){i.Y.assert(()=>_.every(R,B=>_.some(O.metadata.columns,x=>!x.isMeasure&&x.index===b(B))),"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var W=O.categorical;if(W){var F=function(O,R){if(i.Y.assertAnyValue(O,"seriesMetadataColumn"),i.Y.assertValue(R,"clientSideFilters"),O){var W=T(R,[O]);if(!_.isEmpty(W)){return U=>{if(U.identity){var x=U.name;for(var A of W)if(w(A,x))return!0}return!1}}}}(W.values&&W.values.source,R),U=function(O,R){i.Y.assertValue(O,"categories"),i.Y.assertValue(R,"clientSideFilters");var W=T(R,_.map(O,U=>U.source));if(!_.isEmpty(W)){return(U,B)=>{var A,x=function(Y){if(_.every(B,H=>w(Y,H.values[U])))return{v:!0}};for(var L of W)if(A=x(L))return A.v;return!1}}}(W.categories,R);!function(O,R,W,F){i.Y.assertValue(R,"dataViewCategorical"),i.Y.assertAnyValue(W,"categoryRemovalPredicate"),i.Y.assertAnyValue(F,"seriesRemovalPredicate"),F&&function(O,R,W){i.Y.assertValue(R,"dataViewCategorical"),i.Y.assertValue(W,"removalPredicate");var F=R.values&&R.values.grouped();if(!_.isEmpty(F)){var B=function(O,R,W){i.Y.assertAnyValue(O,"seriesMetadataColumn"),i.Y.assertValue(R,"seriesInstances"),i.Y.assertValue(W,"removalPredicate");for(var F=[],U=R.length-1;U>=0;U--)W(R[U],O)&&F.push(U);return F}(R.values&&R.values.source,F,W);!function(O,R,W){if(i.Y.assertValue(R&&R.values&&!_.isEmpty(R.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),i.Y.assertValue(W,"seriesIndicesToRemove"),i.Y.assert(()=>(0,g.zW)(W,!0),"seriesIndicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(W).length===W.length,"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){var F=R.values,U=F.grouped();if(U.length===W.length)return void y(O,R);var B=U[0].values.length;if(i.Y.assert(()=>_.every(U,Y=>Y.values.length===B),"all series instances returned by grouped() are expected to have the same number of measure columns"),B>0){var x=O.columns,A=function(){var Y=L*B;i.Y.assert(()=>Y+B-1<F.length,"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var z=Y,H=Y+B;z<H;z++)p(x,F[z].source);F.splice(Y,B)};for(var L of W)A()}C(U,W),F.grouped=()=>U}}(O,R,B)}}(O,R,F),W&&function(O,R,W){i.Y.assertValue(R,"dataViewCategorical"),i.Y.assertValue(W,"removalPredicate");var F=R.categories;if(!_.isEmpty(F)){var U=function(O,R){i.Y.assertNonEmpty(O,"categories"),i.Y.assertValue(R,"removalPredicate");var W=O[0].values.length;i.Y.assert(()=>_.every(O,B=>B.values.length===W),"Expecting all category columns to have the same number of values.");for(var F=[],U=W-1;U>=0;U--)R(U,O)&&F.push(U);return F}(F,W);!function(O,R,W){if(i.Y.assertValue(R,"dataViewCategorical"),i.Y.assertValue(W,"rowIndicesToRemove"),i.Y.assert(()=>(0,g.zW)(W,!0),"rowIndicesToRemove is expected to be in descending order"),i.Y.assert(()=>_.uniq(W).length===W.length,"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(W)){if((0,n.sN)(R)===W.length)return void y(O,R);i.Y.assert(()=>(0,n.sN)(R)>0,"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var F=R.categories;if(!_.isEmpty(F))for(var U of F)C(U.values,W),C(U.identity,W);var B=R.values;if(!_.isEmpty(B))for(var x of B)C(x.values,W)}}(O,R,U)}}(O,R,W)}(O.metadata,W,U,F)}return O}}function b(O){i.Y.assertValue(O,"clientSideFilter");var R=O.Condition;if(R.Contains)return R.Contains.SelectIndex;i.Y.assertFail("Unknown filter condition type: "+JSON.stringify(R))}function T(O,R){if(i.Y.assertValue(O,"clientSideFilters"),i.Y.assertValue(R,"metadataColumns"),_.isEmpty(O)||_.isEmpty(R))return[];var W={};for(var F of R)W[F.index]=!0;return _.filter(O,U=>{var B=b(U);return!!W[B]})}function w(O,R){i.Y.assertValue(O,"filter");var W=!1,F=O.Condition;if(F.Contains)if(i.Y.assert(()=>F.Contains.LiteralValue===P(F.Contains.LiteralValue),"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(R)){var U=P(R);W=!(0,a.gR)(U,F.Contains.LiteralValue)}else W=!0;else i.Y.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(F));return W}function P(O){return O&&(0,a._k)(O)}class N extends l.nP{constructor(R){super(),i.Y.assertNonEmpty(R,"selects"),this.clientSideFilters=[],this.selects=R}visitContains(R){if(!this.hasUnsupportedFilter()){var W=!1,F=I(R);if(F){var U=F.constantValue,B=(0,u.s)(this.selects,F.otherSide);if(B>=0&&U){var x={Condition:{Contains:{SelectIndex:B,LiteralValue:P(U)}}};this.clientSideFilters.push(x),W=!0}}W||this.setUnsupportedFilter()}}visitAnd(R){this.hasUnsupportedFilter()||(R.left.accept(this),R.right.accept(this))}visitDefault(R){this.setUnsupportedFilter()}getClientSideFiltersIfAllSupported(){if(!this.hasUnsupportedFilter())return this.clientSideFilters}hasUnsupportedFilter(){return void 0===this.clientSideFilters}setUnsupportedFilter(){this.clientSideFilters=void 0}}function I(O){if(O){var R=(0,t.q7)(O.left);return R?{constantValue:R,otherSide:O.right}:{constantValue:R=(0,t.q7)(O.right),otherSide:O.left}}}},169513:function(me,j,e){e.d(j,{BH:function(){return w},FL:function(){return N},LV:function(){return H},PO:function(){return k},X$:function(){return P}});var r=e(935236),i=e(785463),a=e(507345),t=e(147293),l=e(464205),g=e(266357),n=e(811880),d=e(850396),s=e(709099),h=e(168376),o=e(624550),v=e(289239),m=e(118307),p=e(329332),y=e(892066),S=e(364472),C=e(337276),u=e(446024),E=e(177328),c=e(669129),f=e(15721),D=e(14445),b=e(191941),T=e(662785),M=e(978450),V=e(922044);class w{columnNameFromIndex(J){}get code(){switch(this.warningType){case n.Mr.InvalidType:return"DataBoundObjectQueryExtensionWarningInvalidType";case n.Mr.MissingReference:return"DataBoundObjectQueryExtensionWarningMissingReference";case n.Mr.InvalidValue:case n.Mr.UndefinedStylePreset:return void i.Y.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value nor Undefined style preset type.");default:i.Y.assertNever(this.warningType)}}constructor(J,X,ne,ae,oe,Me,Ye){this.warningType=J,this.propertyId=X,this.valueExpr=ne,this.selector=ae,this.objectDiplayName=oe,this.propertyDisplayName=Me,this.expectedValueType=Ye}getDetails(J,X){if(X){var ne=[],ae=J.get("NamePattern_Colon"),oe=this.warningType===n.Mr.InvalidType,Ye=oe?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";if(ne.push((0,a.G)(J.get(oe?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,p.M)(this.propertyDisplayName,J))),ne.push((0,a.G)(ae,J.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,p.M)(this.objectDiplayName,J))),this.valueExpr){var Le=X(this.valueExpr);ne.push((0,a.G)(ae,J.get("Field_Source"),Le))}return oe&&this.expectedValueType&&ne.push((0,a.G)(ae,J.get("DataBoundExprWarning_ExpectedDataType"),g.u.getPrimitiveValueType(this.expectedValueType,J))),ne.push(J.get(Ye)),{message:ne.join("\n"),displayableErrorInfo:[]}}i.Y.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")}}function P(Q,J,X,ne,ae,oe,Me,Ye,Le){return i.Y.assertValue(Q,"queryDefn"),i.Y.assertValue(J,"schema"),i.Y.assertAnyValue(X,"objectDescs"),i.Y.assertAnyValue(ne,"queryRefsByRole"),i.Y.assertAnyValue(ae,"projections"),i.Y.assertAnyValue(oe,"roleKindByQueryRef"),i.Y.assertAnyValue(Me,"additionalFilters"),I(Q,J,X,ne,ae,oe,Me,Ye,Le)}function N(Q,J){return!!I(Q,null,J,{},{},{},void 0,void 0)}function I(Q,J,X,ne,ae,oe,Me,Ye,Le){if(!_.isEmpty(X)){var lt=Q.select(),ut=[],St=[],ze=[],Be=[];for(var Ae of X)Ae.objects&&Ae.descriptors&&(0,h.po)(Ae.objects,Ae.descriptors,Ce);for(var be of ze)for(var Ie of Be)if((0,l.aI)(be.selector,Ie)){O(St,be,lt,ne);break}var ve=[],xe=[],Ee={},Ne=Le?.dataBoundAddingQueryExprs;for(var ye of St){var Xe=ye.selector,fe=Ne?R(ye,Q,Ee,Me,Ye):W(ye,Q,Me,Ye);Q=fe.queryDefn,fe.objectDefinitionRewrite&&xe.push(fe.objectDefinitionRewrite);var Se={queryName:fe.queryName,selector:Xe};if(_.isEmpty(fe.relatedQueryNames)||(Se.relatedQueryNames=fe.relatedQueryNames),_.isEmpty(ye.targetsQueryName)||(Se.relatedProjectionsQueryName=ye.targetsQueryName),ye.aggregates&&(Se.aggregates=ye.aggregates),ye.relatedObjects&&(Se.relatedObjects=ye.relatedObjects),Xe&&!_.isEmpty(Xe.data)&&(Se.joinPredicate=t.gD.None),J){var qe=c.B.buildExprEvaluationContext(Q.from()),Ue=ye.expr.getMetadata(J,qe);Ue?.format&&(Se.format=Ue.format)}ve.push(Se)}return _.isEmpty(ve)&&_.isEmpty(ut)?void 0:{queryDefn:Q,warnings:ut,additionalProjections:ve,objectDefinitionRewrites:xe}}function Ce(_e,at,ot,mt,yt){var je,Nt=yt&&yt.properties[at],Bt=_e[at],he=Nt.type,Qe=null==ot?ot:(0,l.o8)(ot);if(Nt.rule){if(i.Y.assertValue(Nt.type.fillRule&&(0,D.Z$)(Bt),"Property rule descriptor is valid only for FillRule properties"),!H(Nt.rule.conditions,ae,oe))return;var Ke=function(Q,J,X,ne){var ae=Q.inputRole;if(ae){var oe=X[ae],Me=ne[ae];if(!_.isEmpty(oe)&&!_.isEmpty(Me)){var Ye=_.map(Me.projected(),ut=>ut.queryRef),Le=_.intersection(oe,Ye),lt=_.chain(J.select()).filter(ut=>_.includes(Le,ut.name)).map(ut=>ut.expr).value();return lt}}}(Nt.rule,Q,ne,ae);if(_.isEmpty(Ke))return;i.Y.assert(()=>1===_.size(Ke),"Property Rules supports only one input Expr"),ot={data:_.map(Ke,vt=>(0,v.UQ)(vt))},je=(0,o.TW)(Bt,ot,lt,Ke[0])}else if(he&&he.dataBars)ot&&ot.metadata&&lt.withName(ot.metadata)&&(_.isEmpty(ot.data)&&((ot=_.cloneDeep(ot)).data=[(0,m.vt)()]),je=(0,o.TW)(Bt,ot,lt,lt.withName(ot.metadata).expr));else{var $e=(0,o.yR)(_e[at],ot,lt);Nt.ignoreUnreferenced?(i.Y.assert(()=>_.isEmpty($e.references),"References should be empty"),ze.push(...$e.expressions)):(je=$e.expressions,Be.push(...$e.references.map(vt=>vt.selector)))}if(!_.isEmpty(je)&&(!ot||function(Q,J){i.Y.assertValue(Q,"selector");var X=Q.metadata;if(!X)return!0;for(var ne of(i.Y.assertNonEmpty(J,"querySelects"),J))if(ne.name===X)return!0}(ot,lt))){var de=k(ot?.data,lt,ne);if(void 0!==de)for(var De of je){var re=!1,ce=void 0;if(De.expr){if(J){var te=c.B.buildExprEvaluationContext(Q.from());re=null==(ce=De.expr.getMetadata(J,te))||!b.eV.isCompatibleFromAny(he,ce.type)}}else re=!0;if(re){var Te=ce?n.Mr.InvalidType:n.Mr.MissingReference,Fe=ce?b.eV.fromDescriptor(he):null,et=new w(Te,{objectName:mt,propertyName:at},De.expr,ot,yt.displayName,Nt.displayName,Fe);ut.push(et)}else De.relatedObjects={[mt]:{[at]:[Qe]}},De.scopeRefs=de,O(St,De,lt,ne)}}}}function O(Q,J,X,ne){i.Y.assertValue(J,"source");var oe=_.find(Q,Ee=>((Ee,Ne)=>{if(!(0,M.aI)(Ee.expr,Ne.expr))return!1;var ye=k(Ee.selector?.data,X,ne),Xe=k(Ne.selector?.data,X,ne);return _.isEmpty(_.xor(ye,Xe))})(Ee,J));if(oe){var Me=J.targetsQueryName;if(!_.isEmpty(Me)){var Ye=oe.targetsQueryName;_.isEmpty(Ye)&&(Ye=oe.targetsQueryName=[]),Ye.push(...Me)}var Le=J.aggregates;if(null!=Le){var lt=oe.aggregates;if(lt){if(Le.min&&(lt.min=!0),Le.max&&(lt.max=!0),Le.average&&(lt.average=!0),Le.median&&(lt.median=!0),Le.percentiles)if(lt.percentiles){var ut=function(Ee){_.find(lt.percentiles,Ne=>_.isEqual(Ee,Ne))||lt.percentiles.push(Ee)};for(var St of Le.percentiles)ut(St)}else lt.percentiles=Le.percentiles}else oe.aggregates=Le}var ze=J.relatedObjects;if(null!=ze){var Be=oe.relatedObjects;if(Be){var Ce,Ae,be,Ie;for(Ce in ze){if(Ie)break;for(Ae in ze[Ce]){be=_.first(ze[Ce][Ae]),Ie=!0;break}}if(null!=Ce&&null!=Ae){var ve=Be[Ce]=Be[Ce]||{},xe=ve[Ae]=ve[Ae]||[];_.some(xe,Ee=>(0,l.aI)(Ee,be))||xe.push(be)}}else oe.relatedObjects=ze}}else Q.push(J)}function R(Q,J,X,ne,ae){var oe=Q.selector,Me=F(Q.expr,Q.context,ne),Ye=J.selectNamesOf(Me);for(var Le of Ye){var lt=X[Le];if(Q.aggregates&&_.isEmpty(Q.scopeRefs))return{queryName:Le,queryDefn:J,objectDefinitionRewrite:void 0};if(void 0!==lt){if(_.isEmpty(_.xor(lt,Q.scopeRefs)))return{queryName:Le,queryDefn:J,objectDefinitionRewrite:void 0}}else if(oe&&!_.isEmpty(oe.data))return X[Le]=Q.scopeRefs,{queryName:Le,queryDefn:J,objectDefinitionRewrite:void 0}}J=J.addSelect(Me);var ze,ut=_.last(J.select()),St=ut.name;if(i.Y.assert(()=>(0,M.aI)(ut.expr,Me),"Incorrect queryName"),!(Q.aggregates||oe&&!_.isEmpty(oe.data))&&ae){var Be=new C.M(J);J=Be.rewrite(),Be.didRewrite&&(ze={from:Q.expr,to:(0,u.o4)(St),selector:Q.selector})}return X[St]=Q.scopeRefs,{queryName:St,relatedQueryNames:Ye,queryDefn:J,objectDefinitionRewrite:ze}}function W(Q,J,X,ne){var lt,St,ae=Q.aggregates,oe=Q.selector,Ye=Q.expr,Le=F(Q.expr,Q.context,X),ut=J.selectNameOf(Le);if(ae||oe&&!_.isEmpty(oe.data))return(St=ut)?{queryName:St,queryDefn:J,objectDefinitionRewrite:void 0}:{queryName:(J=J.addSelect(Le)).selectNameOf(Le),queryDefn:J,objectDefinitionRewrite:void 0};J=J.addSelect(Le);var ze=_.last(J.select());if(i.Y.assert(()=>(0,M.aI)(ze.expr,Le),"Incorrect queryName"),ne){var Be=new C.M(J);J=Be.rewrite(),Be.didRewrite&&(lt={from:Ye,to:(0,u.o4)(ze.name),selector:Q.selector})}return{queryName:ze.name,relatedQueryNames:_.isEmpty(ut)?void 0:[ut],queryDefn:J,objectDefinitionRewrite:lt}}function F(Q,J,X){if(!(0,T.b9)(Q)||!(0,T.R3)(Q.arg)||!(0,T.EP)(Q.arg.source))return Q;var ne=Q.arg.source.query;if(!ne)return Q;var ae=J&&J.filterContext;if(_.isEmpty(ae)&&!X)return Q;if(X){var oe=X.conditions(),Me=_.some(oe,ut=>(0,y.m)(ut)===d.l0.Measure);i.Y.assert(()=>!Me,"additional filters should not contain measure filters")}var lt=B(ne,_.isEmpty(ae)?[X]:A(_.map(ae,ut=>ut.filter),X,!0,!1));return Q.accept(new z(lt))}function B(Q,J){if((Ye=>{var Le=!1,lt=Ye.from().sources();for(var ut in lt)if((0,f.lj)(lt[ut])){Le=!0;break}return Le})(Q))return function(Q,J){if(!S.DC.willFiltersAffectQuery(Q))return Q;var ne,X=S.b0.unmerge(S.b0.fromSQFromAndSQFilters(Q.from(),Q.where()));ne=_.isEmpty(X)?J:A(X,S.b0.merge(J),!1,!0);var ae=S.b0.merge(ne);return Q.where(ae.where(),ae.from())}(Q,J);var ne=Q.from().sources();for(var ae in ne){var oe=ne[ae];if((0,V.c)(oe)){var Me=B(oe.subquery,J);return ne[ae]=new f.m$(Me),Q.from(new f.l0(ne))}}}function A(Q,J,X,ne){i.Y.assertNonEmpty(Q,"filters should not be empty"),i.Y.assertAnyValue(J,"additionalFilters");var ae=[],oe=function(Q,J){i.Y.assertNonEmpty(Q,"filters should not be empty"),i.Y.assertAnyValue(J,"additionalFilters");var X=[];J&&X.push({filters:[J],kind:void 0});var ne=function(Q){return i.Y.assertNonEmpty(Q,"filters should not be empty"),_.groupBy(Q,J=>{var X=J.conditions();return i.Y.assert(()=>1===_.size(X),"expecting only 1 condition in filter"),(0,y.m)(X[0])})}(Q);return ne[d.l0.Column]&&X.push({filters:ne[d.l0.Column],kind:d.l0.Column}),ne[d.l0.Subquery]&&X.push({filters:ne[d.l0.Subquery],kind:d.l0.Subquery}),ne[d.l0.Exists]&&X.push({filters:ne[d.l0.Exists],kind:d.l0.Exists}),ne[d.l0.Measure]&&X.push({filters:ne[d.l0.Measure],kind:d.l0.Measure}),X}(Q,J);for(var Me of oe){var Ye=Me.filters;Me.kind===d.l0.Subquery||Me.kind===d.l0.Measure?(Me.kind===d.l0.Measure&&X&&(Ye=[Y(Me.filters)]),ne?(i.Y.assertValue(J,"additionalFilters"),Ye=_.map(Ye,Le=>(0,S.Aj)(Le,[J]))):_.isEmpty(ae)||(Ye=_.map(Ye,Le=>(0,S.Aj)(Le,ae))),ae.push(...Ye)):ae.push(...Ye)}return ae}function Y(Q){var X,J=S.DC.create(),ne=function(){J=J.addSemanticFilter(ae);var oe=ae.where()[0].target;_.isEmpty(X)||i.Y.assert(()=>(0,r.RD)(oe,X,(Me,Ye)=>(0,M.aI)(Me,Ye)),"targets should be same between all measure filters"),X=X||oe||[]};for(var ae of Q)ne();return i.Y.assert(()=>!_.isEmpty(X),"targets should not be empty for measure filters"),_.forEach(X,oe=>{J=J.addSelect(oe)}),S.b0.fromSubquery(J,X)}class z extends E.k{constructor(J){super(),this.query=J}visitSubqueryRef(J){return(0,u.a_)(this.query,J.getAnnotations())}}function H(Q,J,X){if(!Q)return!0;for(var ne of Q){var ae=(0,s.AV)(J,ne,X);if(_.isEmpty(ae))return!0}return!1}function k(Q,J,X){if(i.Y.assertValue(J,"querySelects"),i.Y.assertValue(X,"queryRefsByRole"),_.isEmpty(Q))return null;var ne=[];for(var ae of Q)if((0,l.jG)(ae)){var oe=K(X,ae.roles,J);ne.push(...oe||[])}else if((0,l.z2)(ae)){var Me=K(X,Object.keys(X),J);ne.push(...Me||[])}else(0,l.rh)(ae)||(0,l.pB)(ae)?ne.push(...ae.exprs||[]):(0,l.fF)(ae)?ne.push(ae.expr):i.Y.assertNever(ae);if(0!==ne.length){var Ye=[];for(var Le of J){var lt=c.B.indexOfExpr(ne,Le.expr);if(!(lt<0)&&(ne.splice(lt,1),Ye.push(Le.name),0===ne.length))break}if(!(ne.length>0||0===Ye.length))return Ye}}function K(Q,J,X){var ne=[];for(var ae of J)ne.push(...Q[ae]||[]);var oe=_.filter(X,Me=>_.includes(ne,Me.name));return _.map(oe,Me=>Me.expr)}},601718:function(me,j,e){e.d(j,{$:function(){return C},e:function(){return S}});var r=e(662785),i=e(978450),a=e(935236),t=e(785463),l=e(469550),g=e(147293);class n{constructor(c,f){this.strategy=c,this.roles=f}compileMapping(c){t.Y.assertValue(c,"mapping");var f=this.compileMetadata(),D={metadata:f};return c.categorical&&(D.categorical=this.compileCategorical(c.categorical)),c.table&&(D.table=this.compileTable(c.table)),c.single&&(D.single=this.compileSingle(c.single)),c.tree&&(D.tree=this.compileTree(c.tree)),c.matrix&&(D.matrix=this.compileMatrix(c.matrix)),c.scriptResult&&(D.scriptResult=this.compileScriptResult(c.scriptResult,f)),c.usage&&(D.usage=this.compileUsage(c.usage)),D}compileMetadata(){return this.strategy.compileMetadata()}compileCategorical(c){t.Y.assertValue(c,"mapping");var f={};c.categories&&(f.categories=this.compileRoleMappingWithReduction(c.categories));var D=c.values;if(D){var b=this.compileGrouped(D),T=this.compileList(D),M=this.compileRoleMapping(D);f.values=d(b,T,M)}return c.includeEmptyGroups&&(f.includeEmptyGroups=c.includeEmptyGroups),null!=c.dataVolume&&(f.dataVolume=c.dataVolume),c.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),f}compileTable(c){t.Y.assertValue(c,"mapping");var T={rows:d(this.compileRoleMappingWithReduction(c.rows),this.compileListWithReduction(c.rows))};return null!=c.dataVolume&&(T.dataVolume=c.dataVolume),T}compileSingle(c){return t.Y.assertValue(c,"mapping"),{role:this.compileRole(c.role)}}compileScriptResult(c,f){return t.Y.assertValue(c,"mapping"),{dataInput:this.compileMapping(c.dataInput),script:this.compileScriptDefinition(c.script,f)}}compileScriptDefinition(c,f){return this.strategy.compileScriptDefinition(c,f)}compileTree(c){t.Y.assertValue(c,"mapping");var f={};return c.nodes&&(f.nodes=this.compileForWithReduction(c.nodes)),c.values&&(f.values=this.compileFor(c.values)),null!=c.dataVolume&&(f.dataVolume=c.dataVolume),f}compileMatrix(c){t.Y.assertValue(c,"mapping");var f={};if(c.rows){var D=this.compileForWithReduction(c.rows),b=this.compileListWithCompositeWithReduction(c.rows);f.rows=d(D,b)}if(c.columns&&(f.columns=this.compileForWithReduction(c.columns)),c.values){var T=this.compileRoleMapping(c.values),M=this.compileList(c.values);f.values=d(T,M)}return null!=c.dataVolume&&(f.dataVolume=c.dataVolume),c.includeEmptyGroups&&(f.includeEmptyGroups=c.includeEmptyGroups),f}compileUsage(c){if(t.Y.assertValue(c,"usage"),c.regression||c.forecast||c.anomalyDetection)return c}compileListWithReduction(c){t.Y.assertValue(c,"mapping");var f=this.compileList(c);if(f)return c.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),f}compileList(c){if(t.Y.assertValue(c,"mapping"),c.select)return{select:_.map(c.select,D=>this.compileRoleMapping(D))}}compileListWithCompositeWithReduction(c){t.Y.assertValue(c,"mapping");var f=this.compileListWithComposite(c);if(f){if(c.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),c.values){var D=this.compileRoleMapping(c.values),b=this.compileList(c.values);f.values=d(D,b)}return f}}compileListWithComposite(c){if(t.Y.assertValue(c,"mapping"),c.select)return{select:_.map(c.select,(D,b)=>this.compileRoleMappingWithComposite(D,0===b))}}compileGrouped(c){if(t.Y.assertValue(c,"mapping"),c.group){var b={group:{by:this.compileRole(c.group.by),select:_.map(c.group.select,T=>this.compileRoleMapping(T))}};return c.group.dataReductionAlgorithm&&(b.group.dataReductionAlgorithm=this.compileReduction(c.group.dataReductionAlgorithm)),b}}compileRoleMapping(c){return t.Y.assertValue(c,"mapping"),d(this.compileBind(c),this.compileFor(c))}compileRoleMappingWithComposite(c,f){return t.Y.assertValue(c,"mapping"),d(this.compileBind(c),this.compileFor(c),this.compileComposite(c,f))}compileRoleMappingWithReduction(c){t.Y.assertValue(c,"mapping");var f=this.compileRoleMapping(c),D=this.compileList(c);if(f||D){var b=d(f,D);return b&&c.dataReductionAlgorithm&&(b.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),b}}compileBind(c){if(t.Y.assertValue(c,"mapping"),c.bind)return{bind:{to:this.compileRole(c.bind.to,c.bind.aggregates)}}}compileForWithReduction(c){t.Y.assertValue(c,"mapping");var f=this.compileFor(c);if(f)return c.dataReductionAlgorithm&&(f.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),f}compileFor(c){if(t.Y.assertValue(c,"mapping"),c.for)return{for:{in:this.compileRole(c.for.in)}}}compileComposite(c,f){if(t.Y.assertValue(c,"mapping"),c.composite){var b={composite:_.map(c.composite,T=>this.compileRoleMapping(T))};return t.Y.assert(()=>f||!(c.dataReductionAlgorithm&&c.dataReductionAlgorithm.window)||c.synchronized,"window data reduction requires synchronization except in the first mapping"),c.synchronized&&(b.synchronized=c.synchronized),c.dataReductionAlgorithm&&(b.dataReductionAlgorithm=this.compileReduction(c.dataReductionAlgorithm)),b}}compileRole(c,f){return this.strategy.compileRole(c,f)}compileReduction(c){if(t.Y.assertAnyValue(c,"algorithm"),c){var f={};if(c.top&&(f.top={},c.top.count&&(f.top.count=c.top.count)),c.bottom&&(f.bottom={},c.bottom.count&&(f.bottom.count=c.bottom.count)),c.sample&&(f.sample={},c.sample.count&&(f.sample.count=c.sample.count)),c.window&&(f.window={},c.window.count&&(f.window.count=c.window.count)),c.binnedLineSample&&(f.binnedLineSample={},c.binnedLineSample.count&&(f.binnedLineSample.count=c.binnedLineSample.count),c.binnedLineSample.warningCount&&(f.binnedLineSample.warningCount=c.binnedLineSample.warningCount)),c.overlappingPointsSample){var D=c.overlappingPointsSample;f.overlappingPointsSample={},D.count&&(f.overlappingPointsSample.count=D.count);var b=this.getCompiledRoleForCartesianRoleKind(g.Xk.X);b&&(f.overlappingPointsSample.x={role:b});var T=this.getCompiledRoleForCartesianRoleKind(g.Xk.Y);T&&(f.overlappingPointsSample.y={role:T})}return c.topNPerLevel&&(f.topNPerLevel={count:c.topNPerLevel.count,fallbackTopCount:c.topNPerLevel.fallbackTopCount}),f}}getCompiledRoleForCartesianRoleKind(c){var f=_.filter(this.roles,D=>D.cartesianKind===c);if(t.Y.assert(()=>_.size(f)<=1,"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(f))return this.compileRole(f[0].name)}}function d(E,c,f){if(E||c||f)return!E||c||f?E||!c||f?E||c||!f?$.extend(E,c,f):f:c:E}var s=e(51926),h=e(332055),o=e(968462),v=e(417647),m=e(899846),p=e(350226),y=e(669129);function S(E){return t.Y.assertValue(E,"options"),new u(E.queryDefn,E.queryProjections,E.schema,E.objectDescriptors,E.objectDefinitions,E.roles||[],E.featureSwitches,E.transformPluginService).compileMetadata().columns}function C(E){t.Y.assertValue(E,"options");var c=E.mappings;if(!c)return[];var f=E.roles||[],D=new u(E.queryDefn,E.queryProjections,E.schema,E.objectDescriptors,E.objectDefinitions,E.roles||[],E.featureSwitches,E.transformPluginService),b=new n(D,f);return _.map(c,T=>b.compileMapping(T))}class u{constructor(c,f,D,b,T,M,V,w){this.featureSwitches=V,this.transformPluginService=w,t.Y.assertValue(c,"queryDefn"),t.Y.assertValue(f,"queryProjections"),t.Y.assertValue(D,"schema"),t.Y.assertAnyValue(b,"objectDescriptors"),t.Y.assertAnyValue(T,"objectDefinitions"),t.Y.assertValue(M,"roles"),t.Y.assertValue(w,"transformPluginService"),this.queryDefn=c,this.queryProjections=f,this.schema=D,this.objectDescriptors=b,this.objectDefinitions=T,this.roles=M,this.exprEvaluationContext=y.B.buildExprEvaluationContext(this.queryDefn.from())}compileRole(c,f){t.Y.assertValue(c,"role");var D,b=this.queryDefn.select(),T=this.queryProjections[c],M=(0,a.q7)(this.roles,c);if(T&&T.all().length>0){var V=!1;M&&(V=!(this.queryDefn.hasVisualCalculations()&&!this.featureSwitches.visualCalculationOnComboChart)&&(0,p.DB)(this.schema,this.queryDefn,this.queryProjections,M.name));var w=this.getScalarKeyRoleItemQueryRef(T);D=_.map(T.all(),I=>{var O=I.queryRef===w,R=b.withName(I.queryRef);return R&&this.createDataViewRoleItem(R,M,V,O,I.hidden)}),_.some(D,I=>null==I)&&(t.Y.assertFail("Some projections aren't in the query select"),D=_.filter(D,I=>null!=I)),t.Y.assert(()=>D.filter(I=>I.scalarKeyInfo&&I.scalarKeyInfo.hasScalarKey).length<=1,"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var P={role:c,items:D},N=this.queryProjections[c];return N&&(N.showAll&&(P.showAll=!0),N.activeProjectionRefs&&(P.activeItems=N.activeProjectionRefs)),f&&(P.aggregates=_.cloneDeep(f)),P}getScalarKeyRoleItemQueryRef(c){t.Y.assertValue(c,"projections"),t.Y.assertValue(!_.isEmpty(c.all()),"projections.all");var f=c.activeProjectionRefs;return _.isEmpty(f)?c.all()[0].queryRef:_.last(f)}createDataViewRoleItem(c,f,D,b,T){t.Y.assertValue(c,"select");var M={queryName:c.name},V=this.tryGetExprType(c.expr);if(V&&(M.type=V),f&&null!=f.joinPredicate)M.joinPredicate=f.joinPredicate;else if((0,r.VT)(c.expr)){var w=this.queryDefn.transforms();if(!_.isEmpty(w)){var P=!1;for(var N of w){var I=this.transformPluginService.getTransformPlugin(N.algorithm)?.outputRoles;if(!_.isEmpty(I))for(var O of I)if(O.algorithmRole===c.expr.role&&null!=O.joinPredicateBehavior){M.joinPredicate=O.joinPredicateBehavior,P=!0;break}if(P)break}}}return M.scalarKeyInfo={hasScalarKey:D&&b},M.hidden=T,M}tryGetExprType(c){t.Y.assertValue(c,"expr");var f=c.getMetadata(this.schema,this.exprEvaluationContext);if(f)return f.type}compileMetadata(){var c=this,f={columns:[]},D=this.queryDefn.orderBy(),b=function(W){var F=_.find(D,B=>(0,i.aI)(B.expr,W.expr)),U=y.B.getParameterMetadata(W.expr,c.schema);f.columns.push({displayName:void 0,queryName:W.name,type:c.tryGetExprType(W.expr),sort:F&&F.direction,parameter:U})};for(var T of this.queryDefn.select())b(T);var V=this.objectDefinitions;if(!V||!this.objectDescriptors)return f;var w=(0,h.qM)(V),P=(0,v.b)(),N=(0,l.vt)();if(!_.isEmpty(w.metadataOnce)){var I=this.evaluateMetadataOnceObjects(w.metadataOnce,P,N);I&&(f.objects=I)}if(!_.isEmpty(w.metadata))for(var O of f.columns){var R=this.evaluateMetadataObjects(O,w.metadata,P,N);R&&(O.objects=R)}return f}evaluateMetadataOnceObjects(c,f,D){var b,T=new o.q(this.featureSwitches,D);for(var M of c){var V=M.selector&&M.selector.id,w=M.selector?.order,P=(0,h.po)(T,f,this.objectDescriptors,M.objects);P&&(b||(b={}),(0,s.rL)(b,P,V,w))}return b}evaluateMetadataObjects(c,f,D,b){var T,M=new o.q(this.featureSwitches,b);for(var V of f){var w=V.selector;if(w.metadata&&w.metadata===c.queryName){var P=(0,h.po)(M,D,this.objectDescriptors,V.objects);P&&(T||(T={}),(0,s.rL)(T,P,w.id,w.order))}}return T}compileScriptDefinition(c,f){t.Y.assertValue(c,"mapping");var D=(0,m.oi)(this.queryProjections,this.queryDefn.select(),this.schema,c,f.objects);return{source:c.source,provider:c.provider,scriptInput:D,scriptSourceDefault:c.scriptSourceDefault,scriptProviderDefault:c.scriptProviderDefault,scriptOutputType:c.scriptOutputType}}}},439513:function(me,j,e){e.d(j,{A7:function(){return t},PP:function(){return n},nj:function(){return g},p7:function(){return h},pl:function(){return a}});var r=e(201991),i=e(785463),a="*";function t(o,v,m,p,y){return i.Y.assertValue(y,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),l(y[o],v,m,p)||l(y[a],v,m,p)||{objectName:v,propertyName:m}}function l(o,v,m,p){var y=o&&o[v]&&o[v][m];if(y){for(var S=y.currentId;y&&(0,r.lt)(p,y.version);)S=y.previousId,y=y.previous;return S}}function g(o,v,m,p,y,S){return n(o,v,null,m,p,y,S,()=>!1)===r.e3}function n(o,v,m,p,y,S,C,u){return i.Y.assertValue(o,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,r.T9)(d(o[a],y,S,v,m,C,u),d(o[p],y,S,v,m,C,u))}function d(o,v,m,p,y,S,C){var u=o&&o[v];return u?(0,r.T9)(s(u[a],p,y,S,C),s(u[m],p,y,S,C)):r.e3}function s(o,v,m,p,y){if(!o)return r.e3;for(var C,S=function(E){var c=o[E];if(i.Y.assert(()=>!E||!(0,r.lt)(c.version,o[E-1].version),"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,r.lt)(p,c.version))return 0;var f=c.property.matchByContents;return f&&!f(v,m)||c.property.isExprBound&&!y()?void 0:{v:c.version}},u=o.length-1;u>=0&&0!==(C=S(u));u--)if(C)return C.v;return r.e3}function h(o,v,m){var p=o[m];if(p){var y=p[v.objectName];if(y)return _.reduce(y[v.propertyName],(C,u)=>u.property.matchByContents||u.property.isExprBound?C:(0,r.T9)(C,u.version),y["*"]?.[0].version??r.e3)}return r.e3}},862907:function(me,j,e){e.d(j,{SQ:function(){return t}});var r=e(785463),i=e(147293),a=e(309746);function t(m,p){r.Y.assertValue(m,"mappings"),r.Y.assertValue(p,"indicesByName");var y=m.length;if(1===y)return{mapping:m[0]};for(var S,C=[],u=m[0].updateType,E=0;E<y;E++){var c=m[E];if(u=l(c.updateType,u),!c.categorical)return;0===E&&(S={metadata:c.metadata,categorical:{}}),g(S.categorical,c.categorical),C.push(o(p,c.categorical))}return S.updateType=u,{mapping:S,splits:C}}function l(m,p){return null===m||m===i.FU.Immediate||null===p||p===i.FU.Immediate?i.FU.Immediate:m===p?m:m===i.FU.Deferred||p===i.FU.Deferred?i.FU.Deferred:i.FU.MetadataOnly}function g(m,p){if(p.categories)if(m.categories){var y=function(m,p){if(r.Y.assertValue(m,"target"),r.Y.assertValue(p,"source"),!m&&!p)return!0;if(m&&p){if(!m.categories&&!p.categories)return!0;if(m.categories&&p.categories){var y=m.categories,S=p.categories;return!!d(y.dataReductionAlgorithm,S.dataReductionAlgorithm)&&(y.bind||S.bind?_.isEqual(y.bind,S.bind):y.for||S.for?_.isEqual(y.for,S.for):!y.select&&!S.select||_.isEqual(y.select,S.select))}}return!1}(m,p);r.Y.assert(()=>y,"target.categories & source.categories must match when multiple mappings are used.")}else m.categories=p.categories;if(null!=p.dataVolume||null!=m.dataVolume){var S=Math.max(p.dataVolume||0,m.dataVolume||0);p.dataVolume=m.dataVolume=S}if(p.dataReductionAlgorithm)if(m.dataReductionAlgorithm){var C=d(p.dataReductionAlgorithm,m.dataReductionAlgorithm);r.Y.assert(()=>C,"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else m.dataReductionAlgorithm=p.dataReductionAlgorithm;if(p.values){var u=m.values;u||(u=m.values={});var E=p.values,c=E.group;if(function(m,p){(p.bind||p.for)&&(m.select||(m.select=[]),m.select.push(p))}(u,E),h(u,E.select),c){var f=m.values.group;f?h(f,c.select):m.values.group={select:c.select.concat([]),by:c.by,dataReductionAlgorithm:c.dataReductionAlgorithm}}}}function d(m,p){return!m||!p||_.isEqual(m,p)}function h(m,p){p&&(m.select||(m.select=[]),m.select.push(...p||[]))}function o(m,p){var y={selects:{}},S={visitRole:C=>function(m,p,y){r.Y.assertValue(m,"split"),r.Y.assertValue(p,"indicesByName"),r.Y.assertValue(y,"role");var S=y.items;if(!_.isEmpty(y.items)){var C=[];for(var u of S){var c=p[u.queryName];C[c]||(m.selects[c]=!0,C[c]=!0)}}}(y,m,C)};return(0,a.Ax)(p.categories,S),(0,a.Cn)(p.values,S),(0,a.AS)(p.values,S),y}},91814:function(me,j,e){e.d(j,{Nl:function(){return o},tA:function(){return h}});var r=e(113577),i=e(935236),a=e(785463),t=e(507345),l=e(928912),g=e(661249),n=e(160800),d=e(191941),s=e(891843);function h(F){return a.Y.assertValue(F,"loc"),{kpiGoalFmt:F.get("KpiGoalDisplayName"),kpiStatusFmt:F.get("KpiStatusDisplayName"),kpiTrendFmt:F.get("KpiTrendDisplayName")}}function o(F,U,B,x){var A=new g.G4;for(var L of(A.name=U,A.cubeName=x,A.entities=(0,i.OX)(),F.canEdit&&(F.Capabilities||(F.Capabilities={}),F.Capabilities.CanEdit=F.canEdit),A.capabilities=function(F){return{canEdit:F&&F.CanEdit||!1,discourageQueryAggregateUsage:F&&F.DiscourageQueryAggregateUsage||!1,isExtendable:F&&F.IsExtendable||!1,isQnaEnabled:F&&F.IsQnaEnabled||!1,normalizedFiveStateKpiRange:F&&F.NormalizedFiveStateKpiRange||!1,supportsMedian:F&&F.SupportsMedian||!1,supportsPercentile:F&&F.SupportsPercentile||!1,supportsScopedEval:F&&F.SupportsScopedEval||!1,supportsStringMinMax:F&&F.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:F&&F.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:F&&F.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:F&&!1!==F.SupportsCalculatedColumns||!1,supportsGrouping:F&&!1!==F.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:F&&F.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:F&&F.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:F&&F.SupportsOverlappingPointsSample||!1,supportsQna:F&&F.SupportsQna||!1,supportsInstanceFilters:F&&F.SupportsInstanceFilters||!1,supportsDataSourceVariables:F&&F.SupportsDataSourceVariables||!1,insights:F?R(F.Insights):{},supportsFastRefresh:F&&F.SupportsFastRefresh||!1,supportsSubqueryRegrouping:F&&F.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:F&&F.SupportsTopNPerLevel||!1,supportsExtensionColumns:F&&F.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:F&&F.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:F&&F.SupportsGroupSynchronization||!1,supportsScopedDataReduction:F&&F.SupportsScopedDataReduction||!1,transformCapabilities:W(F&&F.TransformCapabilities),supportChangeDetectionMeasureRefresh:F&&F.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:F&&F.SupportsSparklineData||!1,supportsVisualCalculations:F&&F.SupportsVisualCalculations||!1}}(F.Capabilities),F.Entities))A.entities.push(v(L,A.capabilities,B));for(var Y=0,z=F.Entities.length;Y<z;++Y)w(A.entities[Y],F.Entities[Y],A.entities);return A}function v(F,U,B){var x=F.Capabilities,A=F.Source,L={name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,visibility:V(F.Hidden,F.ShowAsVariationsOnly,F.Private),calculated:F.Calculated,queryable:F.Queryable,properties:(0,i.OX)(),hierarchies:(0,i.OX)(),displayFolders:(0,i.OX)(),navigationProperties:(0,i.OX)(),errorMessage:F.ErrorMessage,isDateTable:!0===F.IsDateTable,isCalculationGroup:F.IsCalculationGroup,source:{refreshedTime:A&&A.RefreshedTime,directQuerySourceType:A&&A.DirectQuerySourceType,directQuerySourceName:A&&A.DirectQuerySourceName},capabilities:{canRefresh:!x||!1!==x.CanRefresh,canHaveMeasures:!x||!1!==x.CanHaveMeasures,canEditSource:U.canEdit&&(!x||!1!==x.CanEditSource),canRename:U.canEdit&&(!x||!1!==x.CanRename),canDelete:U.canEdit&&(!x||!1!==x.CanDelete),canEditStorageMode:U.canEdit&&(!x||!1!==x.CanEditStorageMode),supportsClustering:U.canEdit&&(!x||!1!==x.SupportsClustering),supportsBinByCount:U.canEdit&&(!x||!1!==x.SupportsBinByCount),limitOnNumberOfGroups:x&&x.LimitOnNumberOfGroups||null,dataView:x&&x.DataView||null}};for(var Y of F.Properties)L.properties.push(E(Y));a.Y.assert(()=>L.properties.length===F.Properties.length,"Converted schema properties array is not the expected length.");for(var z=0,H=F.Properties.length;z<H;++z){var Z=L.properties[z],k=F.Properties[z];a.Y.assertValue(Z,"no result property for contract property"),Z.canDelete=U.canEdit&&!1!==k.CanDelete;var K=k.Column;if(K){var ee=Z.column=Z.column||{};K.Keys&&(ee.keys=S(K.Keys,L.properties)),K.OrderBy&&(ee.orderBy=S(K.OrderBy,L.properties))}var Q=k.Measure;if(Q){var J=Z.measure=Z.measure||{};if(J.canEdit=!1!==Q.canEdit,Q.FormatBy&&(J.formatBy=Q.FormatBy),Q.Kpi){var X=J.kpi=C(Q.Kpi,L.properties,U);u(X.goal,Z,r.v7.Goal,B),u(X.status,Z,r.v7.Status,B),u(X.trend,Z,r.v7.Trend,B)}Q.Template&&(J.template={name:Q.Template.DaxTemplateName}),Q.ChangeDetectionMetadata&&(J.changeDetectionMetadata={refreshInterval:Q.ChangeDetectionMetadata.RefreshInterval}),null!=Q.DistributiveAggregate&&(J.distributiveAggregate=Q.DistributiveAggregate)}}if(F.Hierarchies)for(var ne of F.Hierarchies)L.hierarchies.push(p(ne,L.properties));if(F.DisplayFolders)for(var ae of F.DisplayFolders)L.displayFolders.push(m(ae,L.properties,L.hierarchies));return F.DefaultLabelColumnRef&&(L.defaultLabel=L.properties.withName(F.DefaultLabelColumnRef)),F.DefaultFieldPropertyRefs&&(L.defaultFields=_.map(F.DefaultFieldPropertyRefs,oe=>L.properties.withName(oe))),L}function m(F,U,B){var x={name:F.Name,displayName:F.DisplayName||F.Name,description:F.Description,properties:(0,i.OX)(),hierarchies:(0,i.OX)(),displayFolders:(0,i.OX)()};if(F.DisplayItems)for(var A of F.DisplayItems)A.PropertyRef&&U?x.properties.push(U.withName(A.PropertyRef)):A.HierarchyRef&&B?x.hierarchies.push(B.withName(A.HierarchyRef)):A.DisplayFolder&&x.displayFolders.push(m(A.DisplayFolder,U,B));return x}function p(F,U){var B={name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,hidden:F.Hidden,levels:(0,i.OX)(),canDelete:!1!==F.CanDelete};for(var x of F.Levels)B.levels.push(y(x,U));return B}function y(F,U){return{name:F.Name,displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,column:U.withName(F.Column),canDelete:!1!==F.CanDelete}}function S(F,U){a.Y.assertValue(F,"names"),a.Y.assertValue(U,"properties");var B=(0,i.OX)();for(var x of F)B.push(U.withName(x));return B}function C(F,U,B){var x=B.normalizedFiveStateKpiRange,A={statusMetadata:{graphic:F.StatusGraphic,normalizedFiveStateKpiRange:x},status:U.withName(F.Status),goal:U.withName(F.Goal),trend:U.withName(F.Trend)};return F.TrendGraphic&&(A.trendMetadata={graphic:F.TrendGraphic,normalizedFiveStateKpiRange:x}),A}function u(F,U,B,x){if(F){var A=U.displayName;switch(B){case r.v7.Goal:A=(0,t.G)(x.kpiGoalFmt,A);break;case r.v7.Status:A=(0,t.G)(x.kpiStatusFmt,A);break;case r.v7.Trend:A=(0,t.G)(x.kpiTrendFmt,A);break;default:a.Y.assertFail("Unsupported Kpi Type")}F.displayName=A,F.hidden=!1,F.kpiValue=U}}function E(F){return a.Y.assertValue(F,"contract"),{displayName:F.DisplayName||F.Name,stableName:F.StableName,description:F.Description,name:F.Name,type:d.eV.fromPrimitiveTypeAndCategory(F.DataType,F.DataCategory),column:F.Column?c(F.Column):null,kind:M(F),format:F.FormatString,hidden:F.Hidden,isPrivate:F.Private,queryable:F.Queryable,errorMessage:F.ErrorMessage}}function c(F){a.Y.assertValue(F,"contract");var U={defaultAggregate:F.DefaultAggregate,idOnEntityKey:F.IdOnEntityKey,calculated:F.Calculated,variations:(0,i.OX)(),aggregateBehavior:F.AggregateBehavior};return void 0!==F.DefaultValue&&(U.defaultValue=(0,s.bq)(F.DefaultValue)),U}function f(F,U){return a.Y.assertValue(F,"contract"),a.Y.assertValue(U,"entity"),{kind:null!=F.Kind?F.Kind:n.S_.WhatIf,mappedMParameterNames:F.MappedMParameterNames,supportsMultipleValues:F.SupportsMultipleValues,supportsSelectAll:F.SupportsSelectAll}}function D(F,U){a.Y.assertValue(F,"contract"),a.Y.assertValue(U,"entity");var B={groupedColumns:_.map(F.GroupedColumns,x=>x.ColumnRef&&!x.LevelRef?U.properties.withName(x.ColumnRef):x.LevelRef&&!x.ColumnRef?U.hierarchies.withName(x.LevelRef.Hierarchy).levels.withName(x.LevelRef.Level):void a.Y.assertFail("unknown ClientConceptualGroupedColumnContainer"))};return F.BinningMetadata&&(B.binningMetadata=function(F){a.Y.assertValue(F,"contract");var U={};return F.BinSize&&(U.binSize=function(F){return a.Y.assertValue(F,"contract"),{value:F.Value,unit:F.Unit}}(F.BinSize)),U}(F.BinningMetadata)),B}function M(F){return F.Measure?n.ye.Measure:n.ye.Column}function V(F,U,B){var x=n.Tg.Visible;return F&&(x|=n.Tg.Hidden),U&&(x|=n.Tg.ShowAsVariationsOnly),B&&(x|=n.Tg.IsPrivate),x}function w(F,U,B){if(a.Y.assertValue(F,"entity"),a.Y.assertValue(U,"contract"),a.Y.assertValue(B,"entities"),U.NavigationProperties)for(var x of U.NavigationProperties)F.navigationProperties.push(P(x,F,B));if(U.Properties)for(var A=0,L=U.Properties.length;A<L;++A){var Y=U.Properties[A],z=Y.Column;if(z&&z.Variations&&N(F.properties[A].column,z,F),z&&z.GroupingMetadata&&(F.properties[A].column.groupingMetadata=D(z.GroupingMetadata,F)),z&&z.ParameterMetadata){var H=f(z.ParameterMetadata,F);if(F.properties[A].column.parameterMetadata=H,H.kind===n.S_.Field)for(var Z of F.properties)if(Z?.column?.keys&&1===Z.column.keys.length&&null!=Z.column.keys[0].column?.parameterMetadata?.kind&&Z.column.keys[0].column.parameterMetadata.kind===n.S_.Field){Z.column.parameterMetadata=H;break}}var k=Y.Measure;k&&!_.isEmpty(k.DistributiveBy)&&(F.properties[A].measure.distributiveBy=_.map(k.DistributiveBy,K=>B.withName(K)))}}function P(F,U,B){a.Y.assertValue(F,"contract");var x={name:F.Name,isActive:F.Active,sourceColumn:null,targetEntity:B.withName(F.TargetEntity),sourceMultiplicity:F.SourceMultiplicity,targetMultiplicity:F.TargetMultiplicity,behavior:F.Behavior||n.JD.Default,crossFilterDirection:l.n4.valueOrDefault(F.CrossFilterDirection,n.kD.Single)};if(F.SourceColumn){var A=U.properties.withName(F.SourceColumn);A&&(x.sourceColumn=A.column)}return x}function N(F,U,B){for(var x of(a.Y.assertValue(F,"column"),a.Y.assertValue(U,"contract"),U.Variations))F.variations.push(I(x,B))}function I(F,U){a.Y.assertValue(F,"contract");var B={name:F.Name,isDefault:F.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},x=U;return F.NavigationProperty&&(B.navigationProperty=U.navigationProperties.withName(F.NavigationProperty),x=B.navigationProperty.targetEntity),F.DefaultHierarchy&&(B.defaultHierarchy=x.hierarchies.withName(F.DefaultHierarchy)),F.DefaultProperty&&(B.defaultProperty=x.properties.withName(F.DefaultProperty)),B}function R(F){return F?{supportsDistributionFactors:F.SupportsDistributionFactors||!1,supportsExplainChange:F.SupportsExplainChange||!1,supportsExplore:F.SupportsExplore||!1,supportsKeyDrivers:F.SupportsKeyDrivers||!1,supportsRelatedInsights:F.SupportsRelatedInsights||!1,supportsDecomposition:F.SupportsDecomposition||!1,supportsExplainAnomalies:F.SupportsExplainAnomalies||!1,supportsCompatibleFields:F.SupportsCompatibleFields||!1,supportsQuerySuggestions:F.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:F.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:F.SupportsGenerateSummaries||!1}:{}}function W(F){return F?{supportedTransforms:F.SupportedTransforms}:{supportedTransforms:[]}}},61453:function(me,j,e){e.d(j,{SO:function(){return m},ZL:function(){return v}});var r=e(523324),i=e(600441),a=e(864508),t=e(566982),l=e(208309),g=e(785463),n=e(736668),d=e(741799),s=e(589604),h=e(91814);function v(S,C,u,E,c,f,D){return new y(S,C,u,E,c,f,D)}function m(S,C,u,E,c){return new p(S,C,u,E,c)}class p{constructor(C,u,E,c,f){this.httpService=C,this.promiseFactory=u,this.uri=E,this.featureSwitches=c,this.preloadConceptualSchemaService=f}execute(C,u){var c,f,D,E=this.promiseFactory.defer(!1);return u.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(c=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),f=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),D=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(C)===D&&this.uri===f&&c?(c.then(b=>{1!==b.schemas.length||b.schemas[0].modelId!==C.modelIds[0]||b.error?this.httpExecute(C,u,E):((0,l.aP)(this.uri,u.event.info),E.resolve({requestId:this.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:b.schemas}))},b=>{this.httpExecute(C,u,E)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(C,u,E),E.promise}httpExecute(C,u,E){this.httpService.post(this.uri,C,this.httpService.powerbiRequestOptions(u.event,"GetConceptualSchema")).then(c=>{this.setTelemetryEventInfo(u.event,c),E.resolve({requestId:c.responseRequestId||c.requestId,schemas:c.data.schemas})},c=>{var f=c||{};this.setTelemetryEventInfo(u.event,f),E.reject({requestId:f.responseRequestId||f.requestId,error:f.error,status:f.status,schemas:void 0})})}setTelemetryEventInfo(C,u){C.info.clientAndServerRequestIdMatch=(0,l.$L)(u),C.info.responseRequestId=(0,l.u_)(u),C.info.requestId=u.requestId,(0,l.aP)(this.uri,C.info)}}var y=(()=>{class S{constructor(u,E,c,f,D,b,T){this.promiseFactory=u,this.telemetryService=E,this.localeProvider=c,this.conceptualSchemaProxyCommunication=f,this.locOptions=D,this.featureSwitches=b,this.embedModeService=T,g.Y.assertValue(u,"promiseFactory"),g.Y.assertValue(f,"conceptualSchemaProxyCommunication"),g.Y.assertValue(D,"locOptions")}execute(u){g.Y.assertValue(u,"options");var E=u.dataSources;if(g.Y.assertNonEmpty(E,"dataSources"),!E||E.length>1)return this.promiseFactory.reject({},!1);var c=this.promiseFactory.defer(!1),f=_.map(E,w=>w.name),D={modelIds:_.map(E,w=>w.id),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};E.some(w=>w.perspectiveId)&&(D.perspectiveIds=_.map(E,w=>w.perspectiveId));var T=JSON.stringify(D.modelIds),M=JSON.stringify(E.map(w=>w.objectId)),V=this.telemetryService.startEvent(s._Z,{endPoint:"",datasetIds:T,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription(),modelObjectIds:M});return this.conceptualSchemaProxyCommunication.execute(D,V).then(w=>this.onSuccess(w,f,c,V),w=>this.onError(w,c,V)),c.promise}transform(u){var E=u;if(!E.data)return{schema:null,error:E.error};var c=E.data;g.Y.assertValue(c,"schemaResponse");var f=c.schemas;g.Y.assertNonEmpty(f,"schemaResponses");var D=E.schemaNames;g.Y.assert(()=>D.length===f.length,"schemaNames.length === schemaResponsess.length");for(var b={},T=0,M=f.length;T<M;T++){var V=D[T];b[V]=(0,h.Nl)(f[T].schema,V,this.locOptions,f[T].cubeName)}return{schema:new d.I({schemas:b})}}onSuccess(u,E,c,f){if(_.isEmpty(u.schemas))this.onError(u,c,f);else{for(var D of u.schemas){var b=D.error;if(b){c.reject({data:null,error:{requestId:u.requestId,serviceError:b,clientError:null,ignorable:!0}});var T=(0,t.b7)(b);return T.asErrorCode=b.parameters&&b.parameters.ASErrorCode,void f.reject(T)}}c.resolve({data:u,schemaNames:E,error:null}),this.setTelemetryEventInfo(f,u),f.resolve()}}setTelemetryEventInfo(u,E){var c={measure:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0},column:{count:0,descriptionCount:0,descriptionMinLength:Number.MAX_VALUE,descriptionMaxLength:0,descriptionCombinedLength:0}};try{E.schemas.forEach(f=>{f.schema.Entities.forEach(D=>{D.Properties.forEach(b=>{var T=null!=b.Column?"column":null!=b.Measure?"measure":null;null!=T&&(c[T].count++,c[T].descriptionCount+=b.Description?.length>0?1:0,c[T].descriptionMinLength=Math.min(c[T].descriptionMinLength,b.Description?.length||Number.MAX_VALUE),c[T].descriptionMaxLength=Math.max(c[T].descriptionMaxLength,b.Description?.length||0),c[T].descriptionCombinedLength+=b.Description?.length||0)})})}),u.event.info.measureCount=c.measure.count,u.event.info.measureDescriptionCount=c.measure.descriptionCount,u.event.info.measureDescriptionMinLength=c.measure.descriptionCount>0?c.measure.descriptionMinLength:void 0,u.event.info.measureDescriptionMaxLength=c.measure.descriptionCount>0?c.measure.descriptionMaxLength:void 0,u.event.info.measureDescriptionCombinedLength=c.measure.descriptionCount>0?c.measure.descriptionCombinedLength:void 0,u.event.info.columnCount=c.column.count,u.event.info.columnDescriptionCount=c.column.descriptionCount,u.event.info.columnDescriptionMinLength=c.column.descriptionCount>0?c.column.descriptionMinLength:void 0,u.event.info.columnDescriptionMaxLength=c.column.descriptionCount>0?c.column.descriptionMaxLength:void 0,u.event.info.columnDescriptionCombinedLength=c.column.descriptionCount>0?c.column.descriptionCombinedLength:void 0}catch{return}}onError(u,E,c){var f=u.error,D=f||u.status!==i.k.TooManyRequests?new n.D(u.error||{code:"<no-PowerBIApiErrorObject>"}):new n.bQ;E.reject({data:null,error:{requestId:u.requestId,clientError:D,status:u.status}}),c.reject((0,t.M8)(f,u.status))}}return(0,r.__decorate)([(0,a.Xr)(s.V8),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],S.prototype,"execute",null),S})()},677851:function(me,j,e){e.d(j,{c:function(){return i},q:function(){return a}});var r=e(785463);function i(t){return r.Y.assertValue(t,"dataQuery"),r.Y.assertNonEmpty(t.Commands,"dataQuery.Commands must not be empty"),r.Y.assertValue(t.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),r.Y.assertValue(t.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),r.Y.assertValue(1===t.Commands.length||2===t.Commands.length&&(t.Commands[1].ScriptVisualCommand||t.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),t.Commands[0].SemanticQueryDataShapeCommand}function a(t){return r.Y.assert(()=>t&&t.Commands&&t.Commands.length>0,"data query should not be empty"),t.Commands.length>1}},308090:function(me,j,e){e.d(j,{I:function(){return P}});var r=e(61453),i=e(180666),a=e(785463),t=e(928912),l=e(446024),g=e(177328),n=e(113577),d=e(364515);function h(I){return(O,R,W)=>{var F={query:O,extensions:void 0,queryRewrites:R},U=new y(R,W);return F.query=O.rewrite(U),F.extensions=U.extensionSchema,F.queryRewrites=U.queryRewrites,F}}class y extends g.k{constructor(O,R){super(),this.queryRewrites=O,this.extensionSchema=R,this.existingEntityNames={},this.existingExtensionFieldNames={},a.Y.assertAnyValue(O,"queryRewrites"),a.Y.assertAnyValue(R,"extensionSchema")}visitNativeMeasure(O){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,t.uL)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:n.GH.Flexible,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var R=_.find(this.nativeMeasuresTargetEntity.Measures,U=>U.DataType===O.dataType&&U.Expression===O.expression);if(R)return(0,l.K6)((0,l.EG)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),R.Name);var W=(0,t.uL)(this.existingExtensionFieldNames,O.proposedName||"NativeMeasure");this.existingExtensionFieldNames[W]=!0;var F=(0,l.K6)((0,l.EG)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),W);return this.nativeMeasuresTargetEntity.Measures.push({Name:W,DataType:O.dataType,Expression:O.expression}),F}visitNativeColumn(O){this.ensureSchemaInitialized();var W=O.source.getTargetEntity(),F=_.find(this.extensionSchema.Entities,A=>A.Name===W.entity);F||this.extensionSchema.Entities.push(F={Name:W.entity,Extends:W.entity,Columns:[]}),F.Columns||(F.Columns=[]);var U=_.find(F.Columns,A=>A.DataType===O.dataType&&A.Expression===O.expression);if(U)return(0,l.sX)((0,l.EG)(this.extensionSchema.Name,F.Name),U.Name);var B=(0,t.uL)(this.existingExtensionFieldNames,O.proposedName||"NativeColumn");this.existingExtensionFieldNames[B]=!0;var x=(0,l.sX)((0,l.EG)(this.extensionSchema.Name,F.Name),B);return F.Columns.push({Name:B,DataType:O.dataType,Expression:O.expression,NamingBehavior:n.GH.Flexible}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:O,replacedExpr:x}}),x}ensureSchemaInitialized(){if(!this.schemaInitialized){for(var O of(this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,n.fn.Version1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:n.fn.Version1,Extends:d.CF},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={},this.extensionSchema.Entities)){if(this.existingEntityNames[O.Name]=!0,O.Measures)for(var R of O.Measures)this.existingExtensionFieldNames[R.Name]=!0;if(O.Columns)for(var W of O.Columns)this.existingExtensionFieldNames[W.Name]=!0}this.schemaInitialized=!0}}}var S=e(971437),C=e(523324),u=e(337536),E=e(864508),c=e(589604),f=e(871090),D=e(899448),b=e(125129),T=e(566982),M=e(208309),V=(()=>{class I{constructor(R,W,F,U,B,x,A,L,Y=!1){this.useSynchronous=!1,a.Y.assertValue(R,"httpService"),a.Y.assertValue(F,"localeProvider"),a.Y.assertValue(W,"telemetryService"),a.Y.assertValue(U,"promiseFactory"),a.Y.assertValue(B,"uri"),this.httpService=R,this.impersonationStateProvider=x,this.promiseFactory=U,this.telemetryService=W,this.localeProvider=F,this.uri=B,this.featureSwitches=A,this.directToMwcConnectionInfoService=L,this.useSynchronous=Y}execute(R){var W=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),F=(0,u.Fx)(R,this.localeProvider,this.impersonationStateProvider);for(var U of R.enqueueActivities)U.resolve();var B=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,x=this.promiseFactory.defer(!1),A=R.cacheOptions,L=R.useSynchronous||this.useSynchronous,Y=R.dataSources[0].dbName,z=!1;(!Y||R.dataSources.length>1)&&(this.telemetryService.logEvent(f.$D,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),z=!0);var H=this.uri;if(L){var Z={};L&&(Z.synchronous="true"),H=(0,D.LF)(H,Z,!0)}if(B){var k,K,ee=R.queryOptions?.[0]?.command?.Commands;ee&&(k=function(oe){if(0!==oe.length){for(var Me=0,Ye=0;Ye<oe.length;Ye++)Me=(Me<<5)-Me+oe.charCodeAt(Ye),Me|=0;return Me.toString()}}(JSON.stringify(ee))),K=R.queryOptions?.[0]?.applicationContext?.Sources?.[0]?.VisualId,(k||K)&&(W.params||(W.params={}),k&&(W.params.$httpBodyHash=k),K&&(W.params.$visualId=K))}var J=H,X=W.authorizationHeaderOverride,ne=F.modelId;if(!B&&this.directToMwcConnectionInfoService){var ae=this.directToMwcConnectionInfoService.checkModelConnectionInfo(ne);!ae||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||z?this.sendHttpRequest(H,F,W,x,A,R.queryActivities,L):this.sendDirectToMwcRequestWithFallbackOnFailure(ne,ae,H,F,W,x,ne,J,X,A,Y,R.queryActivities,L)}else this.sendHttpRequest(H,F,W,x,A,R.queryActivities,L);return x.promise}sendDirectToMwcRequestWithFallbackOnFailure(R,W,F,U,B,x,A,L,Y,z,H,Z,k){var K=this.telemetryService.startEvent(c.h3,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:k,cacheOptions:z});F=W.capacityUri+"query",(0,u.Zs)(B,W.mwcToken,H);var ee=[];for(var Q of Z){var J=Q.createChildActivity({name:b.n.QueryExecuting});J&&ee.push(J)}var X=U;this.featureSwitches().disallowLongRunningQueries||(X={...X,allowLongRunningQueries:!0}),this.httpService.post(F,X,B).then(ne=>{this.attachHttpMetadataToTelemetry(K.event.info,ne,F),this.attachCacheMetadataToTelemetryDirectToMwc(K.event,ne);var ae=ne.headers("x-ms-mwc-throttling-delay");for(var oe of(_.isEmpty(ae)||this.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar(),ee))this.attachHttpMetadataToContextActivity(oe,ne),oe.resolve();K.resolve(),x.resolve({...this.attachHttpMetadataToResult(ne),mwcModelId:R,mwcDbName:H})},ne=>{for(var ae of(this.attachHttpMetadataToTelemetry(K.event.info,ne,F),this.attachCacheMetadataToTelemetryDirectToMwc(K.event,ne),ee))this.attachHttpMetadataToContextActivity(ae,ne),ae.reject();K.reject((0,T.M8)(ne.error,ne.status)),this.directToMwcConnectionInfoService.removeModelConnectionInfo(A),B.authorizationHeaderOverride=Y,B.useMwcTokenAuthorization=null,this.sendHttpRequest(L,U,B,x,z,Z,k)})}sendHttpRequest(R,W,F,U,B,x,A){var L=this.telemetryService.startEvent(c.h3,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:A,cacheOptions:B}),Y=[];for(var z of x){var H=z.createChildActivity({name:b.n.QueryExecuting});H&&Y.push(H)}this.httpService.post(R,W,F).then(Z=>{for(var k of(this.attachHttpMetadataToTelemetry(L.event.info,Z,R),Y))this.attachHttpMetadataToContextActivity(k,Z),k.resolve();L.resolve(),U.resolve(this.attachHttpMetadataToResult(Z))},Z=>{for(var k of(this.attachHttpMetadataToTelemetry(L.event.info,Z,R),Y))this.attachHttpMetadataToContextActivity(k,Z),k.reject();L.reject((0,T.M8)(Z.error,Z.status)),U.reject(this.attachHttpMetadataToResult(Z))})}attachHttpMetadataToContextActivity(R,W){R.isRunning()&&W.performanceTimings&&(R.setProperty("transferSize",W.performanceTimings?.transferSize),R.setProperty("contentType",W.headers("content-type")),R.setProperty("httpStatus",W.status.toString()),R.setProperty("requestId",W.requestId),R.setProperty("requestStart",W.performanceTimings?.requestStart),R.setProperty("responseStart",W.performanceTimings?.responseStart),R.setProperty("start",W.performanceTimings.startTime),R.setProperty("end",W.performanceTimings.responseEnd))}attachHttpMetadataToTelemetry(R,W,F){R.endPoint=F,R.clientAndServerRequestIdMatch=(0,M.$L)(W),R.responseRequestId=(0,M.u_)(W),R.requestId=W.requestId,R.status=W.status,W.performanceTimings&&(0,M.wH)(W.performanceTimings,R)}attachCacheMetadataToTelemetryDirectToMwc(R,W){W.data.results&&(R.info.fromCache=_.reduce(W.data.results,(F,U)=>U.fromCache?++F:F,0),R.info.resultCount=W.data.results.length)}attachHttpMetadataToResult(R){if(R&&R.data){var W=R.data;return W.requestId=R.responseRequestId||R.requestId,W.httpStatusCode=R.status,W}return{jobIds:null,results:null,requestId:R.responseRequestId||R.requestId,httpStatusCode:R.status}}}return(0,C.__decorate)([(0,E.Xr)(c.EC),(0,C.__metadata)("design:type",Function),(0,C.__metadata)("design:paramtypes",[Object]),(0,C.__metadata)("design:returntype",Object)],I.prototype,"execute",null),I})();function P(I,O){var R=N(O.reader.communication)?function(I,O,R,W,F,U,B,x,A,L=!1){return new V(I,O,R,W,F,U,B,x,L)}(O.reader.communication.httpService,O.telemetryService,O.localeProvider,O.promiseFactory,O.reader.communication.uri,O.reader.communication.impersinationStateProvider,O.reader.featureSwitches,O.reader.directToMwcConnectionInfoService,0,O.useSynchronous):O.reader.communication,W=N(O.schemaReader.communication)?(0,r.SO)(O.schemaReader.communication.httpService,O.promiseFactory,O.schemaReader.communication.uri,O.reader.featureSwitches,O.schemaReader.preloadConceptualSchemaService):O.schemaReader.communication;I.dsr={name:"dsr",reader:U=>new i.Z(U,R,O.telemetryService,O.reader.featureSwitches(),O.reader.timeoutService,O.reader.delayedQueryResultResolver,O.reader.preferredMaxConnections,O.queryContextProvider,O.appContextHostDataProvider),queryGenerator:()=>(0,S.OK)(O.reader.featureSwitches()),schemaReader:()=>(0,r.ZL)(O.promiseFactory,O.telemetryService,O.localeProvider,W,O.schemaReader.localizationOptions,O.reader.featureSwitches,O.embedModeService),queryExtensionProvider:h}}function N(I){return _.isPlainObject(I)}},985036:function(me,j,e){e.d(j,{Cx:function(){return n},Ro:function(){return s},XU:function(){return d}});var r=e(113577),i=e(61917),a=e(460169),t=e(785463),l=e(191941),g=e(891843);class n{static findAndParseCalculation(o,v){var m=this.findCalculation(o,v);if(m)return(0,g.$x)(m.Value)}static findAndParseCalculationToSQExpr(o,v){var m=this.findCalculation(o,v);if(m)return(0,g.bq)(m.Value)}static findCalculation(o,v){t.Y.assertValue(o,"calcs");for(var m=0,p=o.length;m<p;m++){var y=o[m];if(y.Id===v)return y}}static describeDataType(o,v){var m=i.W.Null;switch(o=o||a.r$.None){case a.r$.String:m=i.W.Text;break;case a.r$.Number:m=i.W.Double;break;case a.r$.Integer:m=i.W.Integer;break;case a.r$.Boolean:m=i.W.Boolean;break;case a.r$.Date:m=i.W.Date;break;case a.r$.DateTime:m=i.W.DateTime;break;case a.r$.Time:m=i.W.Time;break;case a.r$.Year:m=i.W.Integer,t.Y.assert(()=>!v||"Years"===v,"Unexpected category for Year type."),v="Years";break;case a.r$.Month:m=i.W.Integer,t.Y.assert(()=>!v||"Months"===v,"Unexpected category for Month type."),v="Months"}return l.eV.fromPrimitiveTypeAndCategory(m,v)}static getTopLevelSecondaryDynamicMember(o,v){t.Y.assertValue(o,"DsrV1.DataShape");var m=o.SecondaryHierarchy;return m?v&&v.Secondary?n.getDynamicMember(m,v.Secondary.Groupings,0):n.getDynamicMemberFallback(m):null}static getTopLevelPrimaryDynamicMember(o,v,m){t.Y.assertValue(o,"DsrV1.DataShape");var y,p=o.PrimaryHierarchy;return p?(m&&(y=void 0!==o.Calculations),v&&v.Primary?n.getDynamicMember(p,v.Primary.Groupings,0,y):n.getDynamicMemberFallback(p,y)):null}static getDynamicMember(o,v,m,p){if(t.Y.assertValue(o,"dataShapeMembers"),0===o.length)return null;if(!v||0===v.length)return n.getDynamicMemberFallback(o,p);var y=v[m].Member;if(!y)return n.getDynamicMemberFallback(o,p);for(var S of o)if(S.Id===y)return S;return null}static getDynamicMemberFallback(o,v){return 2===o.length?o[1]:void 0===v||!0===v?o[0]:null}static fillMetadataColumnAggregate(o,v,m=!0){t.Y.assertValue(v,"aggregateMetdata");var p=v.source.aggregates;switch(p||(v.source.aggregates=p={}),v.aggregateKind){case r.B8.Subtotal:return void(p.subtotal=o);case r.B8.Max:return void(p.max=o);case r.B8.Min:return void(p.min=o);case r.B8.Single:return void(m||(p.single=o));case r.B8.Count:return t.Y.assert(()=>"number"==typeof o,"unexpected count calc value"),void(p.count=o);case r.B8.Average:return void(p.average=o);case r.B8.Median:return void(p.median=o);case r.B8.Percentile:var y=v.aggregate.Percentile,S=p.percentiles;S||(S=p.percentiles=[]);var C={k:y.K,value:o};return null!=y.Exclusive&&(C.exclusive=y.Exclusive),void S.push(C);default:t.Y.assertFail("unknown AggregateKind")}}static copyAggregates(o,v){t.Y.assertValue(o,"source Aggregates"),t.Y.assertValue(v,"target Aggregates"),void 0!==o.subtotal&&(v.subtotal=o.subtotal),void 0!==o.min&&(v.min=o.min),void 0!==o.max&&(v.max=o.max),void 0!==o.minLocal&&(v.minLocal=o.minLocal),void 0!==o.maxLocal&&(v.maxLocal=o.maxLocal),void 0!==o.count&&(v.count=o.count)}static computeAggIdx(o,v,m,p){return o+(p-v)*(m+1)}}class d{get name(){return"maxLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var v=this.current;this.current=void 0===v?o:Math.max(v,o)}}value(){return this.current}}class s{get name(){return"minLocal"}update(o){if("number"==typeof o&&!isNaN(o)){var v=this.current;this.current=void 0===v?o:Math.min(v||0,o)}}value(){return this.current}}},738658:function(me,j,e){e.d(j,{y:function(){return a}});var r=e(879460),i=e(785463),a=(()=>{class t extends r.qQ{constructor(g){i.Y.assertValue(g,"jobId"),super(t.Code),this.jobId=g}getDetails(g){var n=super.getDetails(g);return n.debugErrorInfo=n.debugErrorInfo||[],n.debugErrorInfo.push({errorInfoKey:r.T5,errorInfoValue:this.jobId}),n}}return t.Code="DelayedQueryTimeoutError",t})()},67667:function(me,j,e){e.d(j,{AE:function(){return B},AX:function(){return F},Bw:function(){return w},Es:function(){return P},Hb:function(){return c},IJ:function(){return b},IO:function(){return Z},MS:function(){return S},Qp:function(){return W},RY:function(){return L},SM:function(){return o},V9:function(){return T},WP:function(){return z},WW:function(){return V},X3:function(){return h},Xt:function(){return K},YI:function(){return N},Yl:function(){return H},_V:function(){return I},aC:function(){return s},cT:function(){return y},cl:function(){return p},eO:function(){return v},gk:function(){return Y},lN:function(){return E},ly:function(){return O},nK:function(){return D},oy:function(){return f},s9:function(){return m},tX:function(){return u},v5:function(){return C},w6:function(){return M},x0:function(){return U},xL:function(){return A},yW:function(){return R},zq:function(){return x},zx:function(){return Q}});var r=e(830295),i=e(879460),a=e(51161),t=e(785463),l=e(507345),g=e(928912),n=e(640700),d=e(607055),s="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",h="DMTS_DatasourceHasNoCredentialError",o="DMTS_OAuthTokenRefreshFailedError",v="DM_GWPipeline_Client_GatewayUnreachable",m="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",p="DMTS_UserLostPermissionToDatasourceError",y="DMTS_UserNotFoundInADGraphError",S="DM_GWPipeline_Gateway_DataSourceAccessError",C="DM_GWPipeline_Gateway_ImpersonationError",u="DM_GWPipeline_Gateway_InvalidMashupConnectionString",E="DM_GWPipeline_Gateway_DatabaseLoginError",c="DM_GWPipeline_Gateway_SqlTimeoutException",f="DM_GWPipeline_Gateway_AdomdTimeoutException",D="DM_GWPipeline_Gateway_InvalidObjectNameException",b="DM_GWPipeline_Gateway_InvalidConnectionCredentials",T="DM_GWPipeline_Gateway_ConnectionBrokenException",M="DM_GWPipeline_Gateway_MemoryError",V="DM_GWPipeline_Gateway_MissingStructureError",w="DM_GWPipeline_Gateway_UnprocessedStructureError",P="DM_GWPipeline_Gateway_ModelLoadError",N="DM_GWPipeline_Gateway_CancellationError",I="DM_GWPipeline_Gateway_CancellationOrTimeoutError",O="DM_GWPipeline_Gateway_QueryExecutionError",R="DM_GWPipeline_Gateway_RecalculationRequiredError",W="DM_GWPipeline_Gateway_TimeoutError",F="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",U="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",B="DM_GWPipeline_Gateway_AdomdConnectError",x="DM_GWPipeline_Gateway_GatewayOverloadedMemory",A="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",L="DM_GWPipeline_Gateway_MashupDataAccessError",Y="DM_GWPipeline_Gateway_DatabaseConnectError",z="DM_GWPipeline_Gateway_ServerUnreachable",H="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",Z="rsAccessDenied",k="azure:values",K=function(J){return J.ComplexSlicerNotAllowedWithMeasures="ComplexSlicerNotAllowedWithMeasures",J.ComplexHighlightsNotAllowed="ComplexHighlightsNotAllowed",J.ExclusivePercentileOutOfRange="ExclusivePercentileOutOfRange",J.InvalidDataShapeNoOutputData="InvalidDataShapeNoOutputData",J.InvalidFilterComparisonIncompatibleExpressions="InvalidFilterComparisonIncompatibleExpressions",J.InvalidFilterConditionIncompatibleDataType="InvalidFilterConditionIncompatibleDataType",J.InvalidUnconstrainedJoin="InvalidUnconstrainedJoin",J.ModelUnavailable="ModelUnavailable",J.OverlappingKeysOnOppositeHierarchies="OverlappingKeysOnOppositeHierarchies",J.rsQueryMemoryLimitExceeded="rsQueryMemoryLimitExceeded",J.rsQueryTimeoutExceeded="rsQueryTimeoutExceeded",J.CouldNotResolveModelReferencesInSemanticQuery="CouldNotResolveModelReferencesInSemanticQuery",J.QueryExtensionMeasureUnexpectedEndOfUserInput="QueryExtensionMeasureUnexpectedEndOfUserInput",J.NativeVisualCalculationUnexpectedEndOfUserInput="NativeVisualCalculationUnexpectedEndOfUserInput",J.rsAccessDenied="rsAccessDenied",J.NoUniqueKeyForDetailTable="NoUniqueKeyForDetailTable",J.IsRelatedToManyNotSupportedForDetailTable="IsRelatedToManyNotSupportedForDetailTable",J.ModelMeasuresNotSupportedForDetailTable="ModelMeasuresNotSupportedForDetailTable",J.UnsupportedDateTimeLiteral="UnsupportedDateTimeLiteral",J.InvalidExtensionDax_UnclosedBracketIdentifier="InvalidExtensionDax_UnclosedBracketIdentifier",J.InvalidExtensionDax_UnexpectedCloseParenthesis="InvalidExtensionDax_UnexpectedCloseParenthesis",J.ExtensionMeasureEmptyExpression="ExtensionMeasureEmptyExpression",J.ExtensionMeasureNameNotUniqueModel="ExtensionMeasureNameNotUniqueModel",J.ExtensionMeasureNameNotUnique="ExtensionMeasureNameNotUnique",J.CouldNotResolveModelReferencesInQueryExtensionSchema="CouldNotResolveModelReferencesInQueryExtensionSchema",J.QueryExtensionMeasureError="QueryExtensionMeasureError",J.NativeVisualCalculationError="NativeVisualCalculationError",J.UnsupportedDataSourceVariables="UnsupportedDataSourceVariables",J.DataExtensionMissingResultSet="DataExtensionMissingResultSet",J.ProxyModelChainLimitExceeded="ProxyModelChainLimitExceeded",J.FabricThrottled="FabricThrottled",J.AA_PowerBIScriptPayloadTooLargeError="AA_PowerBIScriptPayloadTooLargeError",J.AA_PowerBIScriptResultTooLargeError="AA_PowerBIScriptResultTooLargeError",J.AA_PowerBIScriptReturnedNoImageError="AA_PowerBIScriptReturnedNoImageError",J.AA_PowerBIScriptRuntimeErrorError="AA_PowerBIScriptRuntimeErrorError",J.RScriptVisualRenderingUnsupportedError="RScriptVisualRenderingUnsupportedError",J.PythonScriptVisualRenderingUnsupportedError="PythonScriptVisualRenderingUnsupportedError",J.ScriptExecutionFailedError="ScriptExecutionFailedError",J.SparkCoreExecutionLongScriptRunningTimedOutError="SparkCoreExecutionLongScriptRunningTimedOutError",J.AA_PowerBIScriptTimeoutError="AA_PowerBIScriptTimeoutError",J.AA_PowerBIRequestsQueueOverflowError="AA_PowerBIRequestsQueueOverflowError",J.AA_PowerBIScriptRuntimeMaxMemoryError="AA_PowerBIScriptRuntimeMaxMemoryError",J.AA_PowerBIScriptRuntimeMaxDiskIOError="AA_PowerBIScriptRuntimeMaxDiskIOError",J.AA_PowerBIScriptMissingDependencyError="AA_PowerBIScriptMissingDependencyError",J.AA_PowerBIScriptSpecificPackageWithMissingDependencyError="AA_PowerBIScriptSpecificPackageWithMissingDependencyError",J.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError="AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError",J.AA_PowerBIScriptMissingSpecificPackageError="AA_PowerBIScriptMissingSpecificPackageError",J.InvalidExtensionDax_UnclosedMultiLineComment="InvalidExtensionDax_UnclosedMultiLineComment",J.InvalidExtensionDax_UnclosedParenthesis="InvalidExtensionDax_UnclosedParenthesis",J.InvalidExtensionDax_UnclosedQuoteIdentifier="InvalidExtensionDax_UnclosedQuoteIdentifier",J.InvalidExtensionDax_UnclosedStringLiteral="InvalidExtensionDax_UnclosedStringLiteral",J.CannotUseMultiColumnFilteringWithMappedColumns="CannotUseMultiColumnFilteringWithMappedColumns",J.DifferentMappingsWithinSubqueries="DifferentMappingsWithinSubqueries",J.FilterIncompatibleWithParameter="FilterIncompatibleWithParameter",J.FoundMultipleTargetsWithAtLeastOneMapping="FoundMultipleTargetsWithAtLeastOneMapping",J.FoundParameterMappingOnUnsupportedFilter="FoundParameterMappingOnUnsupportedFilter",J.InTableConditionNotSupportedWithMappedParameters="InTableConditionNotSupportedWithMappedParameters",J.InvalidMappedParameterValueExpression="InvalidMappedParameterValueExpression",J.MappedTargetMustMatchMappedCondition="MappedTargetMustMatchMappedCondition",J.MixOfAssignedAndUnassignedColumnsWithinORExpression="MixOfAssignedAndUnassignedColumnsWithinORExpression",J.MultipleParameterAssignmentsWithinORUnsupported="MultipleParameterAssignmentsWithinORUnsupported",J.MultipleParameterMappingsUnsupported="MultipleParameterMappingsUnsupported",J.ParameterMappingFilterConflict="ParameterMappingFilterConflict",J.ParameterMappingsFoundWithinFilteredEvalExpressionFilter="ParameterMappingsFoundWithinFilteredEvalExpressionFilter",J.ParameterMappingsNotSupportedOnHighlights="ParameterMappingsNotSupportedOnHighlights",J.SingleValueParameterWithMultipleValues="SingleValueParameterWithMultipleValues",J}({}),ee={[K.ComplexSlicerNotAllowedWithMeasures]:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},[K.ComplexHighlightsNotAllowed]:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},[K.CouldNotResolveModelReferencesInSemanticQuery]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},[K.ExclusivePercentileOutOfRange]:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},[K.InvalidDataShapeNoOutputData]:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},[K.InvalidUnconstrainedJoin]:{localizedMessage:"DsrError_InvalidUnconstrainedJoinKey",localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},[K.IsRelatedToManyNotSupportedForDetailTable]:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},[K.AA_PowerBIScriptPayloadTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},[K.AA_PowerBIScriptResultTooLargeError]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},[K.AA_PowerBIScriptReturnedNoImageError]:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},[K.AA_PowerBIScriptRuntimeErrorError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[K.ScriptExecutionFailedError]:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[K.RScriptVisualRenderingUnsupportedError]:{localizedTitle:"DsrError_ScriptRenderingUnsupportedErrorTitle",localizedMessage:"DsrError_ScriptRenderingUnsupportedErrorMessage",localizedContent:"DsrError_ScriptRenderingUnsupportedErrorContent",helpLink:"https://go.microsoft.com/fwlink/?linkid=2306197"},[K.PythonScriptVisualRenderingUnsupportedError]:{localizedTitle:"DsrError_ScriptRenderingUnsupportedErrorTitle",localizedMessage:"DsrError_ScriptRenderingUnsupportedErrorMessage",localizedContent:"DsrError_ScriptRenderingUnsupportedErrorContent",helpLink:"https://go.microsoft.com/fwlink/?linkid=2303578"},[K.SparkCoreExecutionLongScriptRunningTimedOutError]:{localizedTitle:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedMessage:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",localizedContent:"DsrError_SparkCoreExecutionLongScriptRunningTimedOutError",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},[K.AA_PowerBIScriptTimeoutError]:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},[K.AA_PowerBIRequestsQueueOverflowError]:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},[K.AA_PowerBIScriptRuntimeMaxMemoryError]:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},[K.AA_PowerBIScriptRuntimeMaxDiskIOError]:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},[K.AA_PowerBIScriptMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},[K.AA_PowerBIScriptSpecificPackageWithMissingDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},[K.AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError]:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},[K.AA_PowerBIScriptMissingSpecificPackageError]:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},[K.ModelMeasuresNotSupportedForDetailTable]:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},[K.ModelUnavailable]:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[K.NoUniqueKeyForDetailTable]:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},[K.OverlappingKeysOnOppositeHierarchies]:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},[K.rsQueryMemoryLimitExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[K.rsQueryTimeoutExceeded]:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},[K.rsAccessDenied]:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},[K.UnsupportedDateTimeLiteral]:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},[K.InvalidExtensionDax_UnclosedBracketIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},[K.InvalidExtensionDax_UnexpectedCloseParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},[K.InvalidExtensionDax_UnclosedParenthesis]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedParenthesis"},[K.InvalidExtensionDax_UnclosedQuoteIdentifier]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedQuoteIdentifier"},[K.InvalidExtensionDax_UnclosedStringLiteral]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedStringLiteral"},[K.InvalidExtensionDax_UnclosedMultiLineComment]:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedMultiLineComment"},[K.InvalidFilterComparisonIncompatibleExpressions]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[K.InvalidFilterConditionIncompatibleDataType]:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},[K.ExtensionMeasureEmptyExpression]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},[K.ExtensionMeasureNameNotUniqueModel]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},[K.ExtensionMeasureNameNotUnique]:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},[K.CouldNotResolveModelReferencesInQueryExtensionSchema]:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},[K.QueryExtensionMeasureError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},[K.QueryExtensionMeasureUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},[K.NativeVisualCalculationError]:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},[K.NativeVisualCalculationUnexpectedEndOfUserInput]:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},[K.UnsupportedDataSourceVariables]:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},[K.DataExtensionMissingResultSet]:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},[K.ProxyModelChainLimitExceeded]:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},[K.CannotUseMultiColumnFilteringWithMappedColumns]:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.DifferentMappingsWithinSubqueries]:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.FilterIncompatibleWithParameter]:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.FoundMultipleTargetsWithAtLeastOneMapping]:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.FoundParameterMappingOnUnsupportedFilter]:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.InTableConditionNotSupportedWithMappedParameters]:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.InvalidMappedParameterValueExpression]:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.MappedTargetMustMatchMappedCondition]:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.MixOfAssignedAndUnassignedColumnsWithinORExpression]:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.MultipleParameterAssignmentsWithinORUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.MultipleParameterMappingsUnsupported]:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.ParameterMappingFilterConflict]:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.ParameterMappingsFoundWithinFilteredEvalExpressionFilter]:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.ParameterMappingsNotSupportedOnHighlights]:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.SingleValueParameterWithMultipleValues]:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},[K.FabricThrottled]:{localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"},[d.Zpm]:{localizedMessage:"DsrError_OnPremiseServiceExceptionMessage"}};class Q{static get maxNumberOfCommaValues(){return 9}get code(){return this.oDataCode}get oDataErrorMessage(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value}get source(){switch(this.oDataError.source){case"PowerBI":return a.gf.PowerBI;case"External":return a.gf.External;case"Unknown":return;case"User":return Q.isCodeKnown(this.code)?a.gf.User:void 0}t.Y.assertFail(`unknown DsrClientError source: ${this.oDataError.source}`)}get ignorable(){return!1}get AdditionalErrorMessages(){if(this.oDataError){var X=this.oDataError[k];if(!_.isEmpty(X))for(var ne of X)if(!_.isEmpty(ne.additionalMessages))return ne.additionalMessages}}get powerBiErrorDetails(){if(this.oDataError){var X=this.oDataError[k];if(!_.isEmpty(X))for(var ne of X)if(!_.isEmpty(ne.powerBiErrorDetails))return ne.powerBiErrorDetails}}constructor(X){this.oDataError=X,this.oDataCode=this.parseCode()}getDetails(X){var ne=this.oDataError[k],ae=null;if(ne)for(var oe of ne)if(oe.details){ae=oe.details;break}var Me=Q.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,ae,this.AdditionalErrorMessages,X),Ye=Me.displayableErrorInfo[0].errorInfoKey;if(!Q.isCodeKnown(this.code)&&ae&&(Me.displayableErrorInfo=[]),ae){var Le=0===Me.displayableErrorInfo.length?Ye:X.get("DsrError_MoreInfo");Me.displayableErrorInfo.push({errorInfoKey:Le,errorInfoValue:ae})}return Q.isDynamicQueryParameterErrorCode(this.code)&&(Me.hideDebugInfo=!0),Me}static getErrorDetailsFromStatusCode(X,ne,ae,oe,Me){var Ye=Me.get("DsrError_Key"),Le=Me.get("DsrError_UnknownErrorValue"),lt=Me.get("DsrError_Key"),ut=r.So,St=ee[X];St&&(Ye=St.localizedTitle?Me.get(St.localizedTitle):Ye,Le=Q.getContent(X,ae,oe,St,Me)||Le,lt=St.localizedMessage?Me.get(St.localizedMessage):lt,ut=St.helpLink||ut,St.useODataErrorMessageAsContent&&(Le=ne||lt));var Be={message:lt,displayableErrorInfo:[{errorInfoKey:Ye,errorInfoValue:Le}],helpLink:ut,debugErrorInfo:[]};return!St&&X&&Be.debugErrorInfo.push({errorInfoKey:i.O4,errorInfoValue:X}),(!St||!St.useODataErrorMessageAsContent)&&ne&&Be.debugErrorInfo.push({errorInfoKey:i.Hk,errorInfoValue:ne}),Be}static getContent(X,ne,ae,oe,Me){if(oe.localizedContentWithAffectedItemsAndPosition||oe.localizedContentWithAffectedItemsAndPositionAndDetails){var Ye=Q.findAdditionalMessageWithAffectedItemsAndPosition(X,ae);if(oe.localizedContentWithAffectedItemsAndPositionAndDetails&&ne&&Ye)return(0,l.G)(Me.get(oe.localizedContentWithAffectedItemsAndPositionAndDetails),(0,g.O4)(Ye.AffectedItems,Me,Q.maxNumberOfCommaValues),n.r9.formatValue(Ye.Line),n.r9.formatValue(Ye.Position),ne);if(oe.localizedContentWithAffectedItemsAndPosition&&Ye)return(0,l.G)(Me.get(oe.localizedContentWithAffectedItemsAndPosition),(0,g.O4)(Ye.AffectedItems,Me,Q.maxNumberOfCommaValues),n.r9.formatValue(Ye.Line),n.r9.formatValue(Ye.Position))}if(oe.localizedContentWithAffectedItems){var Le=Q.getAffectedItemsFromStatusCode(X,ae);if(Le.length>0)return(0,l.G)(Me.get(oe.localizedContentWithAffectedItems),(0,g.O4)(Le,Me,Q.maxNumberOfCommaValues))}if(oe.localizedContent)return Me.get(oe.localizedContent)}static findAdditionalMessageWithAffectedItemsAndPosition(X,ne){return _.find(ne,ae=>ae.Code===X&&!_.isEmpty(ae.AffectedItems)&&null!=ae.Position&&null!=ae.Line)}static getAffectedItemsFromStatusCode(X,ne){for(var ae of ne)if(ae.Code===X)return ae.AffectedItems||[];return[]}parseCode(){var X=this.oDataError.code,ne=this.oDataError[k],ae=[];if(ne)for(var oe of ne)oe.additionalMessages&&(ae=oe.additionalMessages);if(ae.length>0)for(var Me of ae)if(Q.isCodeKnown(Me.Code)){X=Me.Code;break}return X}static isCodeKnown(X){return Q.isGeneralKnownErrorCode(X)||Q.isDynamicQueryParameterErrorCode(X)}static isGeneralKnownErrorCode(X){switch(X){case K.ComplexSlicerNotAllowedWithMeasures:case K.ComplexHighlightsNotAllowed:case K.ExclusivePercentileOutOfRange:case K.InvalidDataShapeNoOutputData:case K.InvalidFilterComparisonIncompatibleExpressions:case K.InvalidFilterConditionIncompatibleDataType:case K.InvalidUnconstrainedJoin:case K.ModelUnavailable:case K.OverlappingKeysOnOppositeHierarchies:case K.rsQueryMemoryLimitExceeded:case K.rsQueryTimeoutExceeded:case K.CouldNotResolveModelReferencesInSemanticQuery:case K.QueryExtensionMeasureUnexpectedEndOfUserInput:case K.NativeVisualCalculationUnexpectedEndOfUserInput:case K.rsAccessDenied:case K.NoUniqueKeyForDetailTable:case K.IsRelatedToManyNotSupportedForDetailTable:case K.ModelMeasuresNotSupportedForDetailTable:case K.UnsupportedDateTimeLiteral:case K.InvalidExtensionDax_UnclosedBracketIdentifier:case K.InvalidExtensionDax_UnexpectedCloseParenthesis:case K.InvalidExtensionDax_UnclosedQuoteIdentifier:case K.InvalidExtensionDax_UnclosedParenthesis:case K.InvalidExtensionDax_UnclosedStringLiteral:case K.InvalidExtensionDax_UnclosedMultiLineComment:case K.ExtensionMeasureEmptyExpression:case K.ExtensionMeasureNameNotUniqueModel:case K.ExtensionMeasureNameNotUnique:case K.CouldNotResolveModelReferencesInQueryExtensionSchema:case K.QueryExtensionMeasureError:case K.NativeVisualCalculationError:case K.UnsupportedDataSourceVariables:case K.DataExtensionMissingResultSet:case K.ProxyModelChainLimitExceeded:case K.FabricThrottled:return!0;default:return!1}}static isDynamicQueryParameterErrorCode(X){switch(X){case K.CannotUseMultiColumnFilteringWithMappedColumns:case K.DifferentMappingsWithinSubqueries:case K.FilterIncompatibleWithParameter:case K.FoundMultipleTargetsWithAtLeastOneMapping:case K.FoundParameterMappingOnUnsupportedFilter:case K.InTableConditionNotSupportedWithMappedParameters:case K.InvalidMappedParameterValueExpression:case K.MappedTargetMustMatchMappedCondition:case K.MixOfAssignedAndUnassignedColumnsWithinORExpression:case K.MultipleParameterAssignmentsWithinORUnsupported:case K.MultipleParameterMappingsUnsupported:case K.ParameterMappingFilterConflict:case K.ParameterMappingsFoundWithinFilteredEvalExpressionFilter:case K.ParameterMappingsNotSupportedOnHighlights:case K.SingleValueParameterWithMultipleValues:return!0;default:return!1}}}},180666:function(me,j,e){e.d(j,{Z:function(){return xe}});var r=e(785463),i=e(829017),a=e(619584),t=e(125129),l=e(56175),g=e(566982),n=e(879460),d=e(736668),s=e(589604),h=e(189087);class o{constructor(Ne,ye){this.requestId=Ne,this.errorCode=ye}get code(){return this.errorCode}get ignorable(){return!1}getDetails(Ne){return{message:Ne.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:Ne.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:Ne.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:Ne.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:n.JM,errorInfoValue:this.code}]}}}class v{constructor(){this._head=new m,this._tail=new m,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}insertToHead(Ne){Ne.next=this._head.next,Ne.prev=this._head,this._head.next=Ne,Ne.next.prev=Ne,this._length++}head(){if(this._length>0)return this._head.next}tail(){if(this._length>0)return this._tail.prev}removeFromTail(){this._length>0&&this.remove(this._tail.prev)}remove(Ne){this._length<=0||void 0===Ne.prev||void 0===Ne.next||(Ne.prev.next=Ne.next,Ne.next.prev=Ne.prev,this._length--)}length(){return this._length}}class m{constructor(Ne=void 0){this.value=Ne}}class p{constructor(Ne){this.cache={},this.capacity=Ne,this.linkedList=new v}get(Ne){if(Ne in this.cache){var ye=this.cache[Ne].value;return ye?.value}}remove(Ne){this.cache[Ne]&&(this.linkedList.remove(this.cache[Ne]),delete this.cache[Ne])}put(Ne,ye){Ne in this.cache&&this.remove(Ne);var Xe=new S(Ne,ye),fe=new m(Xe);if(this.cache[Ne]=fe,this.linkedList.insertToHead(fe),this.size()>this.capacity){r.Y.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Se=this.linkedList.tail();delete this.cache[Se.value.key],this.linkedList.removeFromTail()}}containsKey(Ne){return Ne in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class y{constructor(Ne){this.cache={},this.capacity=Ne,this.linkedList=new v}get(Ne){if(Ne in this.cache){var ye=this.cache[Ne];return this.linkedList.remove(ye),this.linkedList.insertToHead(ye),ye.value.value}}remove(Ne){Ne in this.cache&&(this.linkedList.remove(this.cache[Ne]),delete this.cache[Ne])}put(Ne,ye){Ne in this.cache&&this.remove(Ne);var Xe=new S(Ne,ye),fe=new m(Xe);if(this.cache[Ne]=fe,this.linkedList.insertToHead(fe),this.size()>this.capacity){r.Y.assert(()=>this.size()===this.capacity+1,"cache has exceeded expected maximum capacity");var Se=this.linkedList.tail();delete this.cache[Se.value.key],this.linkedList.removeFromTail()}}containsKey(Ne){return Ne in this.cache}size(){return this.keys().length}keys(){return Object.keys(this.cache)}isFull(){return this.size()===this.capacity}}class S{constructor(Ne,ye){this.key=Ne,this.value=ye}}var C=function(Ee){return Ee[Ee.FIFO=0]="FIFO",Ee[Ee.LRU=1]="LRU",Ee}({});class E{constructor(Ne,ye,Xe){Xe||(Xe=500),this.cache=ye===C.LRU?new y(Xe):new p(Xe),this.promiseFactory=Ne}getEntryCount(){return this.cache.size()}hasCacheEntry(Ne){return r.Y.assertValue(Ne,"cacheKey"),!!this.getCacheEntry(Ne)}createCacheEntry(Ne,ye,Xe,fe,Se){r.Y.assertValue(Ne,"cacheKey");var qe=this.getCacheEntry(Ne);if(Ne&&!qe){var Ue=this.promiseFactory,_e=this.cache,at=Ue.defer(Se),ot=(0,l.L)(at),mt=Ue.defer(Se),yt=(0,l.Z)(mt);return this.appendCacheEntryInternal(Ne,qe={promise:yt,refCount:0,context:ye}),ot.then(Nt=>{qe.updateResult&&(Nt=qe.updateResult(Nt)),Nt&&Xe&&(Nt=Xe(Nt)),qe.result=fe?fe(Nt):Nt,mt.resolve(Nt)},Nt=>mt.reject(Nt)).finally(()=>{delete qe.updateResult}),yt.finally(()=>{_e.containsKey(Ne)&&(delete _e.get(Ne).promise,yt.rejected()&&this.removeCacheEntryInternal(Ne))}).catch(Nt=>ot.reject(Nt)),{deferred:at,promise:ot}}}clearEntry(Ne,ye){var Xe=this.getCacheEntry(Ne);if(Xe){var fe=Xe.promise;return ye&&fe?fe.reject():this.removeCacheEntryInternal(Ne),!0}return!1}clearAllEntries(Ne){for(var ye of this.cache.keys())this.clearEntry(ye,Ne)}bindCacheEntry(Ne,ye,Xe){r.Y.assertValue(Ne,"cacheKey");var fe=this.getCacheEntry(Ne);if(void 0!==fe){var Se=this.promiseFactory.defer(Xe),qe=(0,l.Z)(Se);if(fe.result){var Ue=ye?ye(fe.result):fe.result;return Se.resolve(Ue),qe}var _e=fe.promise;if(!_e)return Se.reject(new Error("RejectablePromiseCache.bindCacheEntry: cache promise is not defined")),qe;fe.refCount++;var at=ot=>{fe.refCount--,0===fe.refCount&&_e.pending()&&_e.reject(ot)};return qe.then(()=>at(),ot=>at(ot)),_e.then(ot=>{var mt=ye?ye(ot):ot;Se.resolve(mt)},ot=>Se.reject(ot)),qe}}getEntryContext(Ne){r.Y.assertValue(Ne,"cacheKey");var ye=this.getCacheEntry(Ne);if(ye)return ye.context}keys(){return this.cache.keys()}isFull(){return this.cache.isFull()}rewriteAllEntries(Ne){var ye=[],Xe=!!Ne.rewriteKey,fe=!!Ne.rewriteResult,Se=this.cache,qe=function(ot){if(Xe){var mt=Ne.rewriteKey(ot);mt!==ot&&ye.push({oldKey:ot,newKey:mt})}if(fe){var yt=Se.get(ot);yt&&(yt.result&&Ne.rewriteResult?yt.result=Ne.rewriteResult(yt.result,ot):yt.updateResult=Nt=>Ne.rewriteResult&&Ne.rewriteResult(Nt,ot)||Nt)}};for(var Ue of Se.keys())qe(Ue);for(var _e=0,at=ye.length;_e<at;_e++)this.changeCacheKey(ye[_e].oldKey,ye[_e].newKey)}putCacheResult(Ne,ye,Xe){r.Y.assertValue(Ne,"cacheKey");var fe=this.getCacheEntry(Ne);fe?fe.result?fe.result=Xe?Xe(ye):ye:fe.updateResult=()=>ye:r.Y.assertFail(`cannot update no-existing cacheEntry for key '${Ne}' with result '${ye}'`)}appendCacheEntryInternal(Ne,ye){this.cache.containsKey(Ne)&&this.removeCacheEntryInternal(Ne),this.cache.put(Ne,ye)}removeCacheEntryInternal(Ne){this.cache.remove(Ne)}changeCacheKey(Ne,ye){if(!ye)return this.clearEntry(Ne,!0);if(this.hasCacheEntry(ye)||!this.hasCacheEntry(Ne))return!1;var Xe=this.getCacheEntry(Ne);return this.removeCacheEntryInternal(Ne),this.appendCacheEntryInternal(ye,Xe),!0}getCacheEntry(Ne){var ye;if(r.Y.assertValue(Ne,"cacheKey"),Ne&&(ye=this.cache.get(Ne))&&(ye.promise||ye.result))return ye}}var c=e(304703),f=e(928912),D=e(360834),b=e(984092),T=e(997519),M=e(677851);function V(Ee){return r.Y.assert(()=>Ee&&Ee.Commands&&Ee.Commands.length>0,"data query should not be empty"),(0,M.q)(Ee)?w(Ee):P(Ee.Commands[0].SemanticQueryDataShapeCommand)}function w(Ee){if(r.Y.assert(()=>!Ee||(0,M.q)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee)return JSON.stringify(Ee)}function P(Ee){if(Ee)return JSON.stringify(Ee)}var N=e(51709),I=e(36956),O=e(978450),W=f.n4.generateGuid;class U{constructor(Ne,ye,Xe,fe,Se){this.featureSwitches=Se,r.Y.assertValue(Ne,"promiseFactory"),r.Y.assertValue(Xe,"createQuery"),this.createQuery=Xe,this.createCancelQuery=fe,this.promiseFactory=Ne,this.cacheByModel={},this.telemetryService=ye}ensure(Ne){r.Y.assertValue(Ne,"options"),r.Y.assertValue(Ne.command,"options.command");var ye=Ne.command;r.Y.assert(()=>ye&&ye.Commands&&ye.Commands.length>0,"data query should not be empty");var Xe=ye.Commands[0].SemanticQueryDataShapeCommand,fe=this.ensureCache(Ne.dataSources),Se=V(ye);if(fe.hasCacheEntry(Se)){if(U.allowResultFromClientCacheOrDefault(Ne))return this.telemetryService.logEvent(s.TX,{cacheHit:!0,isCacheFull:fe.isFull(),entryCount:fe.getEntryCount()}),fe.bindCacheEntry(Se,void 0,Ne.telemetryV2Enabled);fe.clearEntry(Se)}this.telemetryService.logEvent(s.TX,{cacheHit:!1,isCacheFull:fe.isFull(),entryCount:fe.getEntryCount()});var qe=B(ye,this.featureSwitches,Se),Ue=this.findEquivalentCache(Ne,fe,qe);if(Ue)return Ue;var at,_e={...Ne};_e.queryId=qe.queryId,_e.executionType=D.mG.Query,this.featureSwitches?.queryContext&&(at=yt=>{var Nt=this.findQueryContext(_e);if(!Nt)return yt;var Bt={...yt};return Bt.queryContext=Nt,Bt});var ot=fe.createCacheEntry(Se,qe,at,U.rewriteCachedResult,Ne.telemetryV2Enabled);if(ot.promise.catch(yt=>{(0,n.KE)(yt)||this.featureSwitches&&this.featureSwitches.queryCancellation&&this.createCancelQuery({dataSources:_e.dataSources,command:_e.command,allowResultFromClientCache:_e.allowResultFromClientCache,allowClientSideFilters:_e.allowClientSideFilters,cacheResponseOnServer:_e.cacheResponseOnServer,ignoreViewportForCache:_e.ignoreViewportForCache,cacheOptions:_e.cacheOptions,queryId:_e.queryId,executionType:D.mG.CancelQuery},yt&&yt.queryCancellationSource)}),_e.clientCacheOnly)return ot.promise.reject(new n.Zf),ot.promise;this.createQuery(_e,ot);var mt=fe.bindCacheEntry(Se,void 0,Ne.telemetryV2Enabled);return!1===Ne.cacheResponseOnClient&&fe.clearEntry(Se),Xe.Binding&&Xe.Binding.DataReduction&&(Le(Xe.Binding.DataReduction.Primary)||Le(Xe.Binding.DataReduction.Secondary))||mt.then(yt=>{yt&&yt.dsr&&function(Ee,Ne){if(r.Y.assertValue(Ee,"dsr"),(0,i.Sb)(Ee)){if(!Ne)return!1;for(var ye=(0,N.Ju)(Ee,void 0).dataShapes(),Xe=(0,i.ll)(Ee);ye.next();)if(Xe&&Xe>=I.sZ.MinorVersion1){if(!0!==ye.hasAllData())return!1}else if(!ye.complete()||ye.limitsExceeded()||ye.hasRestartTokens())return!1;return!0}return _.every(Ee.DataShapes,fe=>fe&&fe.IsComplete&&_.isEmpty(fe.DataLimitsExceeded)&&!fe.RestartTokens)}(yt.dsr,this.featureSwitches&&this.featureSwitches.dsrV2)&&(qe.hasAllData=!0)},()=>{}),mt}findQueryContext(Ne){var ye=Ne.applicationContext;if(ye)return r.Y.assert(()=>1===_.size(ye.Sources),"Expected to have 1 ApplicationContextSource"),ye.Sources[0].CustomProperties}clear(Ne){var ye=this.getCache(Ne);ye&&ye.clearAllEntries()}rewrite(Ne,ye){var Xe=this.getCache(Ne);if(Xe){var fe={};ye.rewriteCacheKey&&ye.rewriteDataQueryCacheKey&&(fe.rewriteKey=Se=>{var qe=JSON.parse(Se),Ue=Xe.getEntryContext(Se);if(Ue.compositeDataQuery){var _e=qe,at=ye.rewriteDataQueryCacheKey(_e);if(at&&at!==_e){var ot=x(at,this.featureSwitches);_.assign(Ue,ot)}}else{var mt=qe,yt=ye.rewriteCacheKey(mt);if(yt&&yt!==mt){var Nt=A(yt,this.featureSwitches);_.assign(Ue,Nt)}}return Ue.key}),ye.rewriteCacheResult&&(fe.rewriteResult=Se=>{var qe=Se,Ue=ye.rewriteCacheResult({descriptor:qe.descriptor,dsr:qe.dsr});return Ue?{descriptor:Ue.descriptor,dsr:Ue.dsr}:{descriptor:qe.descriptor,dsr:qe.dsr}}),Xe.rewriteAllEntries(fe)}}put(Ne,ye,Xe){var fe=this.ensureCache(Ne),Se=ye,qe=V(Se);if(fe.hasCacheEntry(qe))fe.putCacheResult(qe,Xe,U.rewriteCachedResult);else{var Ue=B(Se,this.featureSwitches,qe);fe.createCacheEntry(qe,Ue,void 0,U.rewriteCachedResult).deferred.resolve(Xe)}}static allowResultFromClientCacheOrDefault(Ne){return r.Y.assertValue(Ne,"options"),!1!==Ne.allowResultFromClientCache}findEquivalentCache(Ne,ye,Xe){if(r.Y.assertValue(Ne,"options"),r.Y.assertValue(ye,"cache"),r.Y.assertValue(Xe,"entryContext"),U.allowResultFromClientCacheOrDefault(Ne))if(Xe.compositeDataQuery){if(Ne.ignoreViewportForCache)for(var mt of ye.keys()){var yt=ye.getEntryContext(mt);if(yt&&yt.keyWithoutViewport&&yt.keyWithoutViewport===Xe.keyWithoutViewport)return ye.bindCacheEntry(yt.key,void 0,Ne.telemetryV2Enabled)}}else{var fe=Ne.command;r.Y.assert(()=>fe&&!_.isEmpty(fe.Commands),"data query should not be empty");var Se=fe.Commands[0].SemanticQueryDataShapeCommand.Binding,qe=!!(Se&&Se.DataReduction&&Se.DataReduction.Primary&&Se.DataReduction.Primary.TopNPerLevel),Ue=!1;for(var _e of ye.keys()){var at=ye.getEntryContext(_e);if(at){if(!qe&&at.hasAllData&&at.keyWithoutReduction===Xe.keyWithoutReduction)return ye.bindCacheEntry(at.key,void 0,Ne.telemetryV2Enabled);if(X(ye,at,Ne,Xe,Ne.telemetryV2Enabled)){Ue=!0;break}}}Ue&&c.Cn.information("Reused cache with client side filters")}}getCache(Ne){return this.cacheByModel[this.generateModelKey(Ne)]}ensureCache(Ne){var ye=this.generateModelKey(Ne),Xe=this.cacheByModel,fe=Xe[ye];return void 0===fe&&(fe=Xe[ye]=new E(this.promiseFactory,this.featureSwitches?.lruCacheEvictionPolicy?C.LRU:C.FIFO)),fe}generateModelKey(Ne){if(!_.isEmpty(Ne))return JSON.stringify(_.map(Ne,ye=>({dbName:ye.dbName,vsName:ye.vsName,schemaName:ye.schemaName})))}static rewriteCachedResult(Ne){if(!Ne)return Ne;var ye={...Ne};return delete ye.metrics,ye.fromClientCache=!0,ye}}function B(Ee,Ne,ye){return r.Y.assertValue(Ee,"dataQuery"),r.Y.assert(()=>Ee&&Ee.Commands&&Ee.Commands.length>0,"data query should not be empty"),r.Y.assertAnyValue(ye,"cacheKey"),(0,M.q)(Ee)?x(Ee,Ne,ye):(r.Y.assert(()=>1===Ee.Commands.length,"Expecting a non-empty, non-composite query to have exactly 1 command."),A(Ee.Commands[0].SemanticQueryDataShapeCommand,Ne,ye))}function x(Ee,Ne,ye){return r.Y.assertValue(Ee,"dataQuery"),r.Y.assert(()=>(0,M.q)(Ee),"data query should be composite"),r.Y.assertAnyValue(ye,"cacheKey"),r.Y.assert(()=>!ye||ye===w(Ee),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:ye||w(Ee),keyWithoutReduction:K(Ee),keyWithoutViewport:ee(Ee),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:L(Ne)}}function A(Ee,Ne,ye){r.Y.assertAnyValue(Ee,"dataShapeCommand"),r.Y.assertAnyValue(ye,"cacheKey"),r.Y.assert(()=>!ye||ye===P(Ee),"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var Xe=function(Ee){if(r.Y.assertAnyValue(Ee,"command"),!Ee)return!1;var Ne=Ee.Binding&&Ee.Binding.DataReduction,ye=Ne&&Ne.Primary,Xe=Ne&&Ne.Secondary;return!(!lt(ye)||!lt(Xe)||Le(ye)||Le(Xe))}(Ee);return{key:ye||P(Ee),keyWithoutReduction:Z(Ee),keyWithoutViewport:void 0,keyWithoutFilter:Xe?k(Ee):void 0,queryFilters:Xe?Q(Ee):void 0,compositeDataQuery:!1,queryId:L(Ne)}}function L(Ee){return Ee&&Ee.queryCancellation?W():""}function Y(Ee){Ee&&Ee.Binding&&"object"==typeof Ee.Binding&&(Ee.Binding.DataReduction=void 0,Ee.Binding.Limits=void 0)}function Z(Ee){if(Ee){var Ne=_.cloneDeep(Ee);return Y(Ne),JSON.stringify(Ne)}}function k(Ee){if(Ee){var Ne=_.cloneDeep(Ee);return function(Ee){Ee&&Ee.Query&&Ee.Query.Where&&(Ee.Query.Where=void 0)}(Ne),JSON.stringify(Ne)}}function K(Ee){if(r.Y.assert(()=>!Ee||(0,M.q)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee){var Ne=_.cloneDeep(Ee);return Y(Ne.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(Ne)}}function ee(Ee){if(r.Y.assert(()=>!Ee||(0,M.q)(Ee),"!dataQuery || isCompositeDataQuery(dataQuery)"),Ee){r.Y.assertValue(Ee.Commands,"dataQuery.Commands"),r.Y.assert(()=>2===Ee.Commands.length,"dataQuery.Commands must have two commands"),r.Y.assertValue(Ee.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var Ne=_.cloneDeep(Ee);return function(Ee){Ee&&(Ee.ViewportHeightPx=void 0,Ee.ViewportWidthPx=void 0)}(Ne.Commands[1].ScriptVisualCommand),JSON.stringify(Ne)}}function Q(Ee){r.Y.assertAnyValue(Ee,"command");var Ne=Ee&&Ee.Query;if(Ne&&!_.isEmpty(Ne.Where)){var ye=St(Ne),Xe=ye&&ye.where();if(!_.isEmpty(Xe))return Xe}}function X(Ee,Ne,ye,Xe,fe=!1){if(r.Y.assert(()=>U.allowResultFromClientCacheOrDefault(ye),"QueryCache.allowResultFromClientCacheOrDefault(options)"),r.Y.assertValue(Ee,"cache"),r.Y.assertValue(Ne,"oldItemContext"),r.Y.assertValue(ye,"newQueryOptions"),r.Y.assertValue(Xe,"newItemContext"),ye.allowClientSideFilters){var Se=function(Ee,Ne){if(r.Y.assertValue(Ee,"oldItemContext"),r.Y.assertValue(Ne,"newItemContext"),!Ne.compositeDataQuery&&!!Ne.keyWithoutFilter&&!Ee.compositeDataQuery&&Ee.keyWithoutFilter&&Ee.hasAllData&&Ee.keyWithoutFilter===Ne.keyWithoutFilter&&function(Ee,Ne){return r.Y.assertAnyValue(Ee,"filters"),r.Y.assertAnyValue(Ne,"counterparts"),_.every(Ee,ye=>_.some(Ne,Xe=>(0,b._w)(Xe,ye)))}(ae(Ee.queryFilters,Ne.queryFilters),Ne.queryFilters)){var Se=ae(Ne.queryFilters,Ee.queryFilters);if(!_.isEmpty(Se))return function(Ee,Ne){r.Y.assert(()=>Ee&&!Ee.compositeDataQuery,"itemContext && !itemContext.compositeDataQuery"),r.Y.assertNonEmpty(Ne,"filtersToConvert");var ye=JSON.parse(Ee.key),Xe=St(ye&&ye.Query);if(Xe)return r.Y.assert(()=>_.every(Ne,Se=>(0,O.i1)(Xe.where(),Se)),"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,b.Bv)(Xe.select(),Ne)}(Ne,Se)}}(Ne,Xe);if(!_.isEmpty(Se))return Ee.bindCacheEntry(Ne.key,qe=>function(Ee,Ne){r.Y.assertValue(Ee,"data"),r.Y.assertNonEmpty(Ne,"clientSideFilters");var ye={...Ee};return ye.clientSideFilters=Ne,ye}(qe,Se),fe)}}function ae(Ee,Ne){return r.Y.assertAnyValue(Ee,"filters"),r.Y.assertAnyValue(Ne,"comparants"),_.isEmpty(Ne)?Ee:_.filter(Ee,ye=>!(0,O.i1)(Ne,ye))}function Le(Ee){return r.Y.assertAnyValue(Ee,"algorithm"),Ee&&Ee.Window&&null!=Ee.Window.RestartTokens}function lt(Ee){return r.Y.assertAnyValue(Ee,"algorithm"),!Ee||!!Ee.Window}function St(Ee){if(r.Y.assertAnyValue(Ee,"queryDefinition"),Ee&&Ee.From&&Ee.Select)return T.F3.deserializeQuery(Ee)}var ze=e(337536),Be=e(738658);class Ce{resolveDelayedQuery(Ne,ye,Xe){r.Y.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),Xe.reject(new Be.y(Ne))}}class Ae extends n.qQ{constructor(Ne){r.Y.assertValue(Ne,"requestId"),super("ExecuteSemanticQueryUnknownError"),this.httpRequestId=Ne}get requestId(){return this.httpRequestId}getDetails(Ne){var ye=super.getDetails(Ne);return ye.debugErrorInfo=ye.debugErrorInfo||[],ye.debugErrorInfo.push({errorInfoKey:n.Lu,errorInfoValue:this.httpRequestId}),ye}}class be{constructor(Ne,ye,Xe,fe,Se,qe,Ue,_e,at){this.communication=ye,this.telemetryService=fe,this.featureSwitches=Ue,this.queryContextProvider=_e,this.appContextHostDataProvider=at,r.Y.assertValue(Ne,"host"),r.Y.assertValue(fe,"telemetryService"),this.promiseFactory=Ne.promiseFactory(),this.delayedQueryResultResolver=Se||new Ce,this.batcher=new h.PI(qe??0,ot=>{for(var mt=0,yt=ot.length;mt<yt;++mt)this.executeBatch(ot[mt])},Xe,Ue&&Ue.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(Ee,Ne,ye,Xe,fe){return r.Y.assertValue(Ee,"promiseFactory"),r.Y.assertValue(ye,"createQuery"),new U(Ee,Ne,ye,Xe,fe)}(this.promiseFactory,this.telemetryService,(ot,mt)=>{var yt={options:ot,deferred:mt.deferred,execution:mt.promise,enqueueActivity:ot.performanceActivity&&ot.performanceActivity.isRunning()&&ot.performanceActivity.createChildActivity({name:t.n.QueryPending}),queryActivity:ot.performanceActivity};this.setAppContextHostData(yt),this.featureSwitches?.queryContext?this.setQueryContext(yt).then(()=>{this.enqueueExecution(yt)}):this.enqueueExecution(yt)},(ot,mt)=>{this.telemetryService.logEvent(s.Iv,{source:mt}),this.enqueueExecution({options:ot,enqueueActivity:ot.performanceActivity&&ot.performanceActivity.isRunning()&&ot.performanceActivity.createChildActivity({name:t.n.QueryPending}),queryActivity:ot.performanceActivity})},Ue)}setAppContextHostData(Ne){if(this.appContextHostDataProvider&&Ne.options.applicationContext&&this.featureSwitches?.useEnrichedApplicationContext){var ye=Ne.options.applicationContext,Xe=this.appContextHostDataProvider.getApplicationContextHostData();ye.Sources[0]={...ye.Sources[0],...Xe}}}setQueryContext(Ne){var ye=this;return(0,a.A)(function*(){if(ye.featureSwitches?.queryContext&&ye.queryContextProvider&&Ne.options.applicationContext){r.Y.assert(()=>1===_.size(Ne.options.applicationContext.Sources),"Expected to have 1 ApplicationContextSource");var Xe=Ne.options.applicationContext.Sources[0];try{var fe=yield ye.queryContextProvider.generateQueryContext();if(!fe)return;Xe.CustomProperties={...Xe.CustomProperties,...fe}}catch{return}}})()}enqueueExecution(Ne){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(Ne)):this.batcher.enqueue(Ne)}execute(Ne){if(!_.isEmpty(Ne.dataSources))return this.queryCache.ensure(Ne);var ye=this.promiseFactory.defer(!1),Xe=(0,l.Z)(ye);return ye.resolve(Ne.command),Xe}stopCommunication(){this.isCommunicationStopped=!0}resumeCommunication(){this.isCommunicationStopped=!1;var Ee,Ne=this.pausedQueries;if(Ne){for(var ye=0,Xe=Ne.length;ye<Xe;ye++){var fe=Ne[ye];(0,ze.$6)(Ee=fe)&&Ee.execution.pending()&&this.batcher.enqueue(fe)}this.pausedQueries=void 0}}cache(){return this.queryCache}setLocalCacheResult(Ne,ye){this.queryCache.put(Ne.dataSources,Ne.command,ye)}setPreferredMaxConnections(Ne){this.batcher.setMaxBatches(Ne)}executeBatch(Ne){r.Y.assertValue(Ne,"batch"),r.Y.assert(()=>Ne.queryOptions.length===Ne.promises.length,"Queries & promises sizes must match.");var ye=Ne.promises;this.communication.execute(Ne).then(Xe=>this.onSuccess(Xe,ye),Xe=>this.onError(Xe,ye))}onSuccess(Ne,ye){r.Y.assertValue(Ne,"result"),r.Y.assertValue(ye,"executions"),this.rejectExecutionsForMissingJobs(Ne,ye);for(var Xe=Ne.jobIds,fe={},Se=0,qe=ye.length;Se<qe;++Se)fe[Xe[Se]]=ye[Se];for(var Ue=Ne.results,_e=0,at=Ue.length;_e<at;++_e){var ot=Ue[_e],mt=ot.result,yt=ot.jobId,Nt=fe[yt];delete fe[yt];var Bt=mt.data,he=mt.error;if(Bt)Nt.resolve({descriptor:Bt.descriptor,dsr:Bt.dsr,metrics:Bt.metrics,requestId:Ne.requestId,timestamp:Bt.timestamp,fromCache:Bt.fromCache});else if(he){var je=new d.eH(he);je.requestId=Ne.requestId,Nt.reject(je)}else mt.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(ot.jobId,Ne.requestId,Nt,Ne)}if(!_.isEmpty(Object.keys(fe))){var Ke=new o(Ne.requestId,"MissingJobResult");for(var tt in fe)fe[tt].reject(Ke)}}rejectExecutionsForMissingJobs(Ne,ye){var Xe=Ne.jobIds.length,fe=ye.length;if(fe>Xe)for(var Se=new o(Ne.requestId,"MissingJobId"),qe=Xe;qe<fe;qe++)ye[qe].reject(Se)}onError(Ne,ye){var Xe;if(r.Y.assertValue(ye,"executions"),Ne&&Ne.requestError&&(Xe=new d.eH(Ne.requestError)),Xe)Xe.requestId=Ne.requestId;else{var Se,qe,Ue,fe=Ne.error;if(fe){Se=fe.message,qe=fe.code;var _e=fe["pbi.error"]&&fe["pbi.error"].exceptionCulprit;null!=_e&&(Ue=(0,g.C$)(_e))}Xe=Ne&&null!=Ne.httpStatusCode&&Ne.requestId?new n.Kg(Ne.httpStatusCode,Ne.requestId,qe,Se,Ue):new Ae(Ne.requestId)}for(var at=0,ot=ye.length;at<ot;at++)ye[at].reject(Xe)}}class xe{constructor(Ne,ye,Xe,fe,Se,qe,Ue,_e,at){r.Y.assertValue(Ne,"host"),this.proxy=new be(Ne,ye,Se,Xe,qe,Ue,fe,_e,at),this.featureSwitches=fe,this.telemetryService=Xe}execute(Ne){return this.proxy.execute(Ne)}transform(Ne,ye,Xe,fe){return void 0===Ne?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,i.LF)(ye,Ne,this.featureSwitches,this.telemetryService,Xe,fe)}stopCommunication(){this.proxy.stopCommunication()}resumeCommunication(){this.proxy.resumeCommunication()}get cache(){return this.proxy.cache()}setLocalCacheResult(Ne,ye){this.proxy.setLocalCacheResult(Ne,ye)}setPreferredMaxConnections(Ne){this.proxy.setPreferredMaxConnections(Ne)}}},248080:function(me,j,e){e.d(j,{E:function(){return n}});var r=e(113577),i=e(785463),a=e(507345),t=e(891843),l=e(985036);class n{get code(){return"DsrLimitsWarning"}constructor(s,h,o){i.Y.assertValue(s,"queryBindingDescriptor"),i.Y.assert(()=>h&&h.length>0,"Expected a non-empty array of exceeded limits."),this.computeMetadata(s,o,h)}computeMetadata(s,h,o){if(this.limits={},s.Limits){var v=n.getExceededLimitsDetails(s,o),m=s.Limits,p=!!v.Primary,y=!!v.Secondary,S=!!v.Intersection;if(s.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var C=s.Expressions&&s.Expressions.Primary&&s.Expressions.Primary.Groupings?s.Expressions.Primary.Groupings:[],u=s.Expressions&&s.Expressions.Secondary&&s.Expressions.Secondary.Groupings?s.Expressions.Secondary.Groupings:[];p&&y?(this.groupings=C.concat(u),this.limits.Primary=n.getLimitMetadata(m.Primary,h),this.limits.Secondary=n.getLimitMetadata(m.Secondary,h)):p?(this.groupings=C,this.limits.Primary=n.getLimitMetadata(m.Primary,h)):y&&(this.groupings=u,this.limits.Secondary=n.getLimitMetadata(m.Secondary,h)),S&&(this.limits.Intersection=n.getLimitMetadata(m.Intersection,h))}}getDetails(s){var h=!!this.limits.Primary,o=!!this.limits.Secondary,v=null,m=r.gT.Unknown;return this.hasScriptVisualBinding?v=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):h||o?h&&o?(m=this.limits.Primary.Type,v=this.getErrorInfoValue(this.groupings,s.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),s)):v=this.getErrorInfoValue(this.groupings,n.getDetailedMessageFormatForOneColumn(m=h?this.limits.Primary.Type:this.limits.Secondary.Type,s),s):this.limits.Intersection&&(v=n.getDetailedMessageFormatForOneColumn(m=this.limits.Intersection.Type,s)),v||(v=s.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:n.getMessage(m,s),displayableErrorInfo:[{errorInfoKey:n.getKey(m,s),errorInfoValue:v}],helpLink:n.getHelpLink(m)}}static getExceededLimitsDetails(s,h){var o=s.Limits,v={};for(var m of h)o.Primary&&m.Id===o.Primary.Id?v.Primary=o.Primary:o.Secondary&&m.Id===o.Secondary.Id?v.Secondary=o.Secondary:o.Intersection&&m.Id===o.Intersection.Id&&(v.Intersection=o.Intersection);return v}getErrorInfoValue(s,h,o){if(!s||0===s.length)return null;for(var v=[],m=0,p=s.length;m<p;m++){var S=this.getGroupingNameFromGroupingKeys(s[m]);S&&v.push(S)}var C,u=v.length;return 0===u?null:(C=1===u?v[0]:v.join(o.get("ListJoin_Separator")),(0,a.G)(h,C))}getGroupingNameFromGroupingKeys(s){for(var h=s.Keys,o=0,v=h.length;o<v;o++){var m=h[o];if(null!=m.Select)return this.columnNameFromIndex?this.columnNameFromIndex(m.Select):void 0}}static getMessage(s,h){switch(s){case r.gT.Sample:return h.get("DsrLimitWarning_RepresentativeSampleMessage");case r.gT.BinnedLineSample:case r.gT.OverlappingPointsSample:return h.get("DsrLimitWarning_HighDensitySampleMessage");default:return h.get("DsrLimitWarning_TooMuchDataMessage")}}static getKey(s,h){switch(s){case r.gT.Sample:return h.get("DsrLimitWarning_RepresentativeSampleKey");case r.gT.BinnedLineSample:case r.gT.OverlappingPointsSample:return h.get("DsrLimitWarning_HighDensitySampleKey");default:return h.get("DsrLimitWarning_TooMuchDataKey")}}static getDetailedMessageFormatForOneColumn(s,h){switch(s){case r.gT.Sample:return h.get("DsrLimitWarning_RepresentativeSampleVal");case r.gT.BinnedLineSample:return h.get("DsrLimitWarning_HighDensitySampleVal");case r.gT.OverlappingPointsSample:return h.get("DsrLimitWarning_OverlappingPointsDetails");default:return h.get("DsrLimitWarning_TooMuchDataVal")}}static getHelpLink(s){switch(s){case r.gT.BinnedLineSample:return"https://go.microsoft.com/fwlink/?linkid=848757";case r.gT.OverlappingPointsSample:return"https://go.microsoft.com/fwlink/?linkid=853820"}}static getLimitMetadata(s,h){return s.Top?{Type:r.gT.Top,Count:n.getLimitCount(s.Top,h)}:s.Bottom?{Type:r.gT.Bottom,Count:n.getLimitCount(s.Bottom,h)}:s.Sample?{Type:r.gT.Sample,Count:n.getLimitCount(s.Sample,h)}:s.BinnedLineSample?{Type:r.gT.BinnedLineSample,Count:n.getBinnedLineSampleCount(s.BinnedLineSample)}:s.OverlappingPointsSample?{Type:r.gT.OverlappingPointsSample,Count:n.getLimitCount(s.OverlappingPointsSample,h)}:{Type:r.gT.Unknown,Count:null}}static getLimitCount(s,h){if(s.Calc&&h){var o=l.Cx.findCalculation(h,s.Calc);if(o){var v=(0,t.$x)(o.Value);if(_.isNumber(v))return v}}return s.Count}static getBinnedLineSampleCount(s){return s.MaxTargetPointCount}}},518139:function(me,j,e){e.d(j,{D$:function(){return t},aX:function(){return a},lE:function(){return g},xU:function(){return l}});var r=e(785463),i="Warning",a=function(n){return n[n.Warning=0]="Warning",n}({});function t(n){if(n===a.Warning)return i}var l={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}};class g{constructor(d){this.dataShapeMessage=d}get code(){return this.dataShapeMessage.Code}getDetails(d){var s=l[this.dataShapeMessage.Code];return r.Y.assertValue(s,"message to show should be a known message"),{message:d.get(s.localizedMessage),displayableErrorInfo:[{errorInfoKey:d.get(s.localizedTitle),errorInfoValue:d.get(s.localizedContent)}]}}isTransformMessage(){var d=l[this.code];return d&&d.isTransformMessage}}},442864:function(me,j,e){e.d(j,{e5:function(){return d},Ho:function(){return m},G:function(){return s}});var r=e(113577),i=e(785463),a=e(446024),t=e(891843),l=e(364515);class g{constructor(y){i.Y.assertValue(y,"Null RestartIdentities list"),i.Y.assertNonEmpty(y,"Empty RestartIdentities list"),this.restartValuesCount=y.length,this.calcIdToRestartIdentityIndex={};for(var S=0;S<this.restartValuesCount;S++)this.calcIdToRestartIdentityIndex[y[S]]=S}getRestartValues(y){i.Y.assertValue(y,"getRestartValues called with undefined instanceParser");var S=new Array(this.restartValuesCount);for(y.restartCalcs();y.nextCalc();){var C=this.calcIdToRestartIdentityIndex[y.calcId()];void 0!==C&&(S[C]=y.calcValueAsExpr())}return i.Y.assert(()=>_.every(S,u=>!!u),"Missing calcs for RestartValues"),S}}class n{constructor(y){this.values=y,this.parsedValues=new Array(y.length),this.parsedValueExprs=new Array(y.length)}getCalcValue(y,S){if(!(y>=this.parsedValues.length)){var C=this.parsedValues[y];return void 0===C&&(C=(0,t.Gz)(this.values[y],S),this.parsedValues[y]=C),C}}getCalcValueExpr(y,S,C){if(!(S>=this.parsedValues.length)){var u=this.parsedValueExprs[S];return void 0===u&&(u=(0,t.yE)(y,this.values[S],C),this.parsedValueExprs[S]=u),u}}}class d{constructor(y){if(y)for(var S in this.resolvedValueDictionaries={},y)this.resolvedValueDictionaries[S]=new n(y[S])}getCalcValue(y,S,C){if(S&&"number"==typeof y){i.Y.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var u=this.resolvedValueDictionaries[S];return i.Y.assertValue(u,"dictionary"),u.getCalcValue(y,C)}}getCalcValueExpr(y,S,C,u){if(C&&"number"==typeof S){i.Y.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var E=this.resolvedValueDictionaries[C];return i.Y.assertValue(E,"dictionary"),E.getCalcValueExpr(y,S,u)}}}function s(p){var y=p.Select,S=p.Expressions,C=S&&S.Primary,u=C&&C.Groupings,E=C&&C.Synchronization,c=S&&S.Secondary&&S.Secondary.Groupings,f={},D=u&&[],b=c&&[];if(u)for(var T=0,M=u.length;T<M;T++)o(f,u[T],T,D,y);if(c)for(var V=0,w=c.length;V<w;V++)b[V]=[],o(f,c[V],V,b,y);var P=0,N=[];if(y&&c)for(var I=0;I<y.length;I++){var O=y[I];O&&O.Kind===l.Vt.Measure&&null==O.Depth&&null==O.SecondaryDepth&&(N[P++]=I)}var R={intersectionMeasureToSelectIndex:N,secondaryLeafDataMemberId:c&&[],dataMemberIdToMetadata:f,selects:y,maxPrimaryDepth:_.size(u),maxSecondaryDepth:_.size(c),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:D,secondaryDataMemberIdCache:b,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(E){var W=E.length;R.primarySynchronizedGroups=new Array(W);for(var F=0;F<W;F++){var U=E[F],B=_.last(U.Groupings);R.primarySynchronizedGroups[F]={groupings:U.Groupings,dataShapeId:U.DataShape,synchronizationIndexCalcId:u[B].SynchronizationIndex,context:h(p,U)}}}return R}function h(p,y){i.Y.assertValue(p.Expressions.Primary,"No primary groupings."),i.Y.assertValue(p,"synchronizedGroup");for(var S=p.Expressions.Primary.Groupings,C=p.Select,u={},E=[],c=y.Groupings,f=0;f<c.length;f++)o(u,S[c[f]].SynchronizedGroup,f,E,C,!0);return{dataMemberIdToMetadata:u,selects:C,maxPrimaryDepth:_.size(c),primaryDataMemberIdCache:E,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function o(p,y,S,C,u,E){var c=C[S]=[],f=function(p,y){for(var S=p.length,C=new Array(S),u=0;u<S;u++)C[u]=m(p[u],p[u].Select,y);return C}(y.Keys,u),D=y.Member;if(D){c.push(D);var b=p[D]={identityFields:f,axisGrouping:y,kind:r.pc.GroupMember,depth:S+1};E?b.forSynchronization=!0:y.SynchronizedGroup&&(b.isSynchronized=!0),y.RestartIdentities&&(b.restartValuesBuilder=new g(y.RestartIdentities))}var T=y.SubtotalMember;if(T){c.push(T);var M={identityFields:f,kind:r.pc.SubTotalMember,depth:S};E?M.forSynchronization=!0:y.SynchronizedGroup&&(M.isSynchronized=!0),p[T]=M}}function m(p,y,S){i.Y.assertValue(p,"key"),i.Y.assertAnyValue(y,"selectIndex"),i.Y.assertValue(S,"selectBindings");var C=p.Source;if(!C){i.Y.assert(()=>y>=0&&y<_.size(S),"selectIndex should be within range");var u=S[y].Name;return u?(0,a.o4)(u):void i.Y.assertFail("selectName should be defined")}return(0,a.sX)((0,a.EG)((0,l.l_)(C),C.Entity||C.EntitySet),C.Property)}},829017:function(me,j,e){e.d(j,{wV:function(){return he},ll:function(){return yt},Sb:function(){return mt},LF:function(){return Nt}});var r=e(936744),i=e(125129),a=e(587814),t=e(785463),l=e(253261),g=e(928912),n=e(984092),d=e(589604),s=e(933949),h=e(985036),o=e(113577);class v{constructor(de){this.context=de,this.measureValueAggregatorsBySelectIdx=[]}read(de,De=!0){for(var re=this.context,ce=re.selects,te=new Array(ce.length),Te=new Array(ce.length);de.nextCalc();){var Fe=re.aggregateCalcMetadata[de.calcId()];Fe&&Fe.aggregateKind&&(h.Cx.fillMetadataColumnAggregate(de.calcValue(),Fe,!1),Fe.aggregateKind===o.B8.Min&&(te[Fe.selectIdx]=!0),Fe.aggregateKind===o.B8.Max&&(Te[Fe.selectIdx]=!0))}De&&this.addLocalAggregators(te,Te)}addLocalAggregators(de,De){for(var re=this.measureValueAggregatorsBySelectIdx,ce=this.context.measureSelectIndices,te=ce.length,Te=!1,Fe=0;Fe<te;Fe++){var et=ce[Fe];de[et]||(Te=!0,re[et]||(re[et]=[]),re[et].push(new h.Ro)),De[et]||(Te=!0,re[et]||(re[et]=[]),re[et].push(new h.XU))}this.hasLocalAggregators=Te}update(de,De){if(this.hasLocalAggregators){var re=this.measureValueAggregatorsBySelectIdx[De];if(re)for(var ce of re)ce.update(de)}}copyToColumns(){for(var de=this.context.measureSelectIndices,De=de.length,re=0;re<De;re++){var ce=de[re],te=this.context.selectIndexToColumn[ce],Te=this.measureValueAggregatorsBySelectIdx[ce];if(Te&&Te)for(var Fe of Te){var et=Fe.value();void 0!==et&&(te.aggregates||(te.aggregates={}),te.aggregates[Fe.name]=et)}}}}var m=e(289239),p=e(446024);class y{constructor(de,De){this.context=de,this.calcIdToGroupingKeysIndex={},this.initialize(De)}initialize(de){var De=this.context,re=De.selects,ce=De.dataMemberIdToMetadata[de];this.identityFields=ce.identityFields,this.identityFieldsCount=this.identityFields.length;var Te=ce.axisGrouping.Keys;t.Y.assert(()=>Te.length===this.identityFieldsCount,"Mismatch in Identity Keys count");for(var Fe=0;Fe<this.identityFieldsCount;Fe++){var et=Te[Fe],vt=void 0;et.Calc?vt=et.Calc:null!=et.Select&&et.Select>=0?vt=ce.forSynchronization?re[et.Select].Synchronized?.Value:re[et.Select].Value:t.Y.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[vt]=Fe}}reset(){this.identityParts=new Array(this.identityFieldsCount)}addExpr(de,De){var re=this.calcIdToGroupingKeysIndex[de],ce=this.identityFields[re];ce&&(this.identityParts[re]=(0,p.LC)(ce,De))}getIdentity(){for(var re,de=this.identityParts,De=this.identityFieldsCount,ce=0;ce<De;ce++)re=(0,p.Uo)(re,de[ce]);var te=(0,m.UQ)(re);return t.Y.assertValue(te,"identity"),te}getIdentityFields(){return this.identityFields}}var S=e(364515),C=e(36956);class E{constructor(){}run(de,De,re){this.metadata=re,this.context=de,this.dsrParser=De,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],De.reset(),this.aggregator=new v(de);var ce=this.dsrParser.dataShapes();ce.next();var te={};if(0===de.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var Te=te.values=(0,s.zB)();this.readMeasuresWithNoGrouping(ce,Te)}else{var vt,Fe=[],et=[];te.categories=Fe,this.readSelectsAndCreateCategoryColumns(Fe,et),(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(te.values=vt=(0,s.zB)()),this.readSecondaryAndCreateValueColumns(vt);var At={};this.readData(ce,vt,et,At),void 0!==At.value&&(te.lastMergeIndex=At.value)}return te}static isCompatible(de){return de.maxPrimaryDepth<=1&&de.maxSecondaryDepth<=1&&!(0===de.maxPrimaryDepth&&de.maxSecondaryDepth>0)&&_.size(de.selects)>0}readSelectsAndCreateCategoryColumns(de,De){var re=this.context,ce=re.selectIndexToColumn,te=re.selects,Te=te.length,Fe=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(te.length),this.intersectionMeasuresSelectIndexMap=new Array(te.length);for(var et=!!Fe,vt=0;vt<Te;vt++){var At=te[vt];if(At&&At.Value)if(At.Kind===S.Vt.Group){if(null!=At.SecondaryDepth){this.seriesSelectIndex=vt;continue}if(null!=At.Depth){t.Y.assert(()=>null!=De,"Expected truthy value for identities"),t.Y.assert(()=>null!=de,"Expected truthy value for categories");var Re={source:ce[vt],values:[],identity:De};de.push(Re),this.selectIndexToCategoryColumn[vt]=Re}}else At.Kind===S.Vt.Measure&&(et&&null==At.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=vt:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=vt)}}readSecondaryAndCreateValueColumns(de){var De=this.dsrParser.dataShapes().secondaryHierarchy();De?(this.addIntersectionValueColumns(de,De),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(de)):this.addPrimaryValueColumns(de,!0)}addIntersectionValueColumns(de,De){for(var te,re=this,ce=new Array,Te=this.context,Fe=function(){var et=De.id(),vt=De.instances();if(Te.dataMemberIdToMetadata[et].kind===o.pc.SubTotalMember){for(;vt.next(););return 1}var At=Te.dataMemberIdToIdentityBuilder[et];At||(At=new y(Te,et),Te.dataMemberIdToIdentityBuilder[et]=At),te=At.getIdentityFields();for(var st=-1;vt.next();){st++,At.reset();for(var Re=void 0,q=void 0;vt.nextCalc();){q=vt.calcId();var pe=re.context.calcInfo[q];pe.isGroupKeyButNotSelect||(Re=vt.calcValue()),pe.forIdentity&&At.addExpr(q,vt.calcValueAsExpr())}re.addIntersectionValueColumnsCore(de,ce,q,Re,st,At.getIdentity()),t.Y.assert(()=>null==vt.intersections(),"unexpected secondary intersections"),t.Y.assert(()=>null==vt.members(),"unexpected secondary nested members")}0===de.length&&0===ce.length&&re.addIntersectionValueColumnsCore(de,ce,void 0,void 0,0,void 0),de.grouped=()=>ce,de.source=re.context.selectIndexToColumn[re.seriesSelectIndex],de.identityFields=te};De.next();)Fe()}addIntersectionValueColumnsCore(de,De,re,ce,te,Te){for(var Fe=this,et=this.context,vt=et.selects,At=this.intersectionMeasureCount,st=new Array(At),Re=this.metadata.columns,q=function(){var ke,it=Fe.intersectionMeasuresSelectIndexMap[pe];void 0!==ce?((ke=et.createColumns(Re,it).column).groupName=ce,ke.rootSource=et.selectIndexToColumn[it]):ke=_.find(Re,Ge=>Ge.index===it);var ft=Fe.createValueColumn(ke,Te,it,!!vt[it].Highlight,!1);de.push(ft),st[pe]=ft;var Pt=vt[it],Ut=Fe.intersectionValueColumnsMap[te];Ut||(Ut=Fe.intersectionValueColumnsMap[te]={}),Ut[Pt.Value]=ft;var Kt=Pt.Highlight&&Pt.Highlight.Value;if(Kt&&(Ut[Kt]=ft),ke.formatSource&&ke.formatSource.formatString){t.Y.assertValue(Pt.DynamicFormat?.Format,"select.DynamicFormat.Format");var Qt=Fe.createValueColumn(ke.formatSource.formatString,void 0,it,!!vt[it].Highlight,!0),qt=Fe.intersectionDynamicFormatColumnsMap[te];qt||(qt=Fe.intersectionDynamicFormatColumnsMap[te]={}),qt[Pt.DynamicFormat.Format]=Qt,de.push(Qt);var nr=Pt.Highlight?.DynamicFormat?.Format;nr&&(qt[nr]=Qt)}},pe=0;pe<At;pe++)q();var Ve={values:st};void 0!==ce&&(Ve.name=ce),void 0!==Te&&(Ve.identity=Te),De.push(Ve)}addPrimaryValueColumns(de,De){for(var re=new Array,ce=this.context,te=ce.selects,Te=0;Te<this.primaryMeasureCount;Te++){var Fe=this.primaryMeasureSelectIndexMap[Te],et=ce.selectIndexToColumn[Fe],vt=this.createValueColumn(et,void 0,Fe,!!te[Fe].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[Fe]=vt,re.push(vt),de.push(vt),et.formatSource&&et.formatSource.formatString){var At=this.createValueColumn(et.formatSource.formatString,void 0,Fe,!!te[Fe].Highlight,!0);this.selectIndexToDynamicFormatColumn[Fe]=At,de.push(At),re.push(At)}}if(De&&de){var st=[{values:re}];de.grouped=()=>st}}createValueColumn(de,De,re,ce,te){var Te={source:de,values:[]};if(ce&&(Te.highlights=[]),De&&(Te.identity=De),!te){var Fe=this.selectIndexToValueColumnsMap[re];Fe||(Fe=this.selectIndexToValueColumnsMap[re]=[]),Fe.push(Te)}return Te}readData(de,De,re,ce){var te=this,Te=this.context,Fe=de.primaryHierarchy();this.aggregator.read(de,0===this.intersectionMeasureCount);for(var et=function(){var vt=Fe.id(),At=Te.dataMemberIdToMetadata[vt];if(At){var st=At.kind===o.pc.GroupMember,Re=Te.dataMemberIdToIdentityBuilder[vt];!Re&&st&&(Re=new y(Te,vt),Te.dataMemberIdToIdentityBuilder[vt]=Re);for(var q=Fe.instances();q.next();){for(Re&&Re.reset(),q.restartFlagKind()===C.mY.Merge&&(ce.value=q.currentIndex());q.nextCalc();)te.readPrimaryHierarchyCalc(q,Re);Re&&re.push(Re.getIdentity()),te.parseIntersections(q),t.Y.assert(()=>null==q.members(),"unexpected nested members to parse")}if(st)for(var pe=Re.getIdentityFields(),Ve=0;Ve<Te.selects.length;Ve++){var ke=te.selectIndexToCategoryColumn[Ve];ke&&(ke.identityFields=pe)}}};Fe.next();)et();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()}copyAggregatesToValueColumns(){for(var de=this.context.measureSelectIndices,De=this.context.selectIndexToColumn,re=de.length,ce=0;ce<re;ce++){var te=de[ce],Te=De[te].aggregates;if(Te){var Fe=this.selectIndexToPrimaryValueColumn[te];Fe&&h.Cx.copyAggregates(Te,Fe);var et=this.selectIndexToValueColumnsMap[te];if(et)for(var vt of et)h.Cx.copyAggregates(Te,vt)}}}readPrimaryHierarchyCalc(de,De){var re=de.calcId(),ce=this.context.aggregateCalcMetadata[re];if(ce&&ce.aggregateKind===o.B8.Subtotal)h.Cx.fillMetadataColumnAggregate(de.calcValue(),ce);else{var te=this.context.calcInfo[re];if(te){var Te=de.calcValue();if(te.kind===S.Vt.Group)t.Y.assert(()=>!!De,"Must have an identity builder when parsing grouping values"),te.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[te.selectIdx].values.push(Te),te.forIdentity&&De.addExpr(re,de.calcValueAsExpr());else if(te.kind===S.Vt.Measure){var Fe=te.calcKind;Fe===o._L.Value?(this.selectIndexToPrimaryValueColumn[te.selectIdx].values.push(Te),this.aggregator.update(Te,te.selectIdx)):Fe===o._L.DynamicFormat?this.selectIndexToDynamicFormatColumn[te.selectIdx].values.push(Te):Fe===o._L.Highlight?this.selectIndexToPrimaryValueColumn[te.selectIdx].highlights.push(Te):Fe===o._L.HighlightDynamicFormat&&this.selectIndexToDynamicFormatColumn[te.selectIdx].highlights.push(Te)}}}}parseIntersections(de){var De=de.intersections();if(De)for(var re=this.context.calcInfo,ce=0;De.next();){var te=this.intersectionValueColumnsMap[ce],Te=this.intersectionDynamicFormatColumnsMap[ce];if(De.nextCalc()){if(!this.parseIntersectionCalc(De,te,Te,re))continue;for(ce++;De.nextCalc();)this.parseIntersectionCalc(De,te,Te,re)}}}parseIntersectionCalc(de,De,re,ce){var te=de.calcId(),Te=ce[te];if(Te)switch(t.Y.assert(()=>Te.kind===S.Vt.Measure,"unexpected select kind found in intersection"),Te.calcKind){case o._L.Value:return De[te].values.push(de.calcValue()),!0;case o._L.Highlight:return De[te].highlights.push(de.calcValue()),!0;case o._L.DynamicFormat:return re[te].values.push(de.calcValue()),!0;case o._L.HighlightDynamicFormat:return re[te].highlights.push(de.calcValue()),!0;case o._L.Subtotal:case o._L.SubtotalDynamicFormat:return!1}}readMeasuresWithNoGrouping(de,De){var re=this;this.aggregator.read(de),this.aggregator.copyToColumns();var ce=de.primaryHierarchy();if(ce.next()){this.addPrimaryValueColumns(De,!0);for(var te=this.context.calcInfo,Te=ce.instances();Te.next();)for(var Fe=function(){var et=Te.calcId(),vt=te[et];vt&&(t.Y.assert(()=>null!=vt.selectIdx,"expect a selectIdx for all measures when there is no grouping"),vt.calcKind===o._L.Value?re.selectIndexToPrimaryValueColumn[vt.selectIdx].values.push(Te.calcValue()):vt.calcKind===o._L.Highlight?re.selectIndexToPrimaryValueColumn[vt.selectIdx].highlights.push(Te.calcValue()):vt.calcKind===o._L.DynamicFormat?re.selectIndexToDynamicFormatColumn[vt.selectIdx].values.push(Te.calcValue()):vt.calcKind===o._L.HighlightDynamicFormat&&re.selectIndexToDynamicFormatColumn[vt.selectIdx].highlights.push(Te.calcValue()))};Te.nextCalc();)Fe()}}}var c=e(473001),f=e(856701),D=e(659956),b=e(442864);class T{get primaryAxisGroupings(){return this._primaryAxisGroupings}get secondaryAxisGroupings(){return this._secondaryAxisGroupings}get calcInfo(){return this._calcInfo}constructor(de,De,re,ce,te){t.Y.assertValue(de,"targets"),t.Y.assert(()=>null!=De.Select||null!=De.ScriptVisualBinding,"descriptor"),this.targets=de,this.descriptor=De,this.selects=De.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var Te=De.Expressions;this._primaryAxisGroupings=Te&&Te.Primary&&Te.Primary.Groupings,this._secondaryAxisGroupings=Te&&Te.Secondary&&Te.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=re.dataMemberIdToMetadata,this.maxPrimaryDepth=re.maxPrimaryDepth,this.maxSecondaryDepth=re.maxSecondaryDepth,this.primarySynchronizedGroups=re.primarySynchronizedGroups,this.scopedAggregatesEnabled=ce,this.dataShapeParser=te}createContextForPrimarySynchronizedGroup(de,De){var re=new T(this.targets,this.descriptor,de.context,this.scopedAggregatesEnabled,De);return re._primaryAxisGroupings=_.map(de.groupings,ce=>this.primaryAxisGroupings[ce].SynchronizedGroup),re._secondaryAxisGroupings=void 0,re._calcInfo=this._calcInfo,re}includes(de){return t.Y.assertValue(de,"kind"),(0,D.Lt)(this.targets,de)}createDataViewMetadataColumns(){var de=this,De=this.selects;if(!_.isEmpty(De)){var re=[],ce=De.length;this.selectIndexToColumnIndex=new Array(ce);for(var te=function(){var At=De[Te];if(!At)return 1;t.Y.assert(()=>At.Kind!==S.Vt.None,"Expecting every select never to be of SelectKind.None");var{column:st,columnIdx:Re,dynamicFormatColumn:q}=de.createColumns(re,Te);de.selectIndexToColumn[Te]=st,de.selectIndexToColumnIndex[Te]=Re,At.Kind===S.Vt.Measure&&de.measureSelectIndices.push(Te);var pe=At.Aggregates;if(pe)for(var Ve of pe){var ke=de.getAggregateKind(Ve.Aggregate);de.createAggregateCalcMetadata(Ve.Ids,ke,st,Te,Ve.Aggregate)}var it=At.Value;it&&(de.calcIdToColumnIndices[it]||(de.calcIdToColumnIndices[it]=[]),de.calcIdToColumnIndices[it].push(Re),(null==At.Depth||null==At.SecondaryDepth)&&(de.aggregateCalcMetadata[it]={source:st,aggregateKind:o.B8.Single,selectIdx:Te})),At.Kind===S.Vt.Measure&&(At.Subtotal&&de.createAggregateCalcMetadata(At.Subtotal,o.B8.Subtotal,st,Te),At.SubtotalDynamicFormat&&de.createAggregateCalcMetadata(_.map(At.SubtotalDynamicFormat,ft=>ft&&ft.Format),o.B8.Subtotal,q,Te),At.Count&&(t.Y.assert(()=>_.size(At.Count)<=1,"dataView cannot represent aggregates other than subtotal at different scopes yet"),de.createAggregateCalcMetadata(At.Count,o.B8.Count,st,Te)),At.Max&&de.createAggregateCalcMetadata(At.Max,o.B8.Max,st,Te),At.Min&&de.createAggregateCalcMetadata(At.Min,o.B8.Min,st,Te))},Te=0,Fe=ce;Te<Fe;Te++)te();this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var et=function(At){_.size(de.calcIdToColumnIndices[At])>1&&(de.calcInfo[At].hasDuplicateColumnIndices=!0,t.Y.assert(()=>!de.calcInfo[At].isGroupKeyButNotSelect,"calcs which represent group keys cannot have duplicate column indices"))};for(var vt in this.calcIdToColumnIndices)et(vt);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),re}}parseAxisGroupings(de){if(de)for(var De of de){var re=De.SynchronizedGroup;if(re){this.parseGroupingKeys(re.Keys,!0);var ce=De.SynchronizationIndex;ce&&(this.calcInfo[ce]={kind:S.Vt.Measure,calcKind:o._L.SynchronizationIndex})}this.parseGroupingKeys(De.Keys,!1)}}parseGroupingKeys(de,De){var re=this.calcInfo,ce=this.selects;for(var te of de){var Te=ce[te.Select];null!=Te?De?(t.Y.assertValue(Te.Synchronized?.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),re[Te.Synchronized?.Value].forIdentity=!0):re[Te.Value].forIdentity=!0:te.Calc?re[te.Calc]={kind:S.Vt.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:t.Y.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}}createAggregateCalcMetadata(de,De,re,ce,te){for(var Te of de){var Fe=this.aggregateCalcMetadata[Te]={source:re,aggregateKind:De,selectIdx:ce};te&&(Fe.aggregate=te)}}getAggregateKind(de){return de.Average?o.B8.Average:de.Max?o.B8.Max:de.Min?o.B8.Min:de.Median?o.B8.Median:de.Percentile?o.B8.Percentile:void 0}createColumns(de,De){var re=de.length,ce=this.createMetadataColumn(De);de.push(ce);var te=this.selects[De],Te=te.Kind,Fe=this.calcInfo;Fe[te.Value]={kind:Te,columnIndex:re,selectIdx:De,calcKind:o._L.Value};var et=te.Synchronized;if(et&&(t.Y.assert(()=>Te===S.Vt.Group,"Synchronization Auxiliary Select is expected only for Grouping Selects"),t.Y.assertValue(et.Value,"Synchronization Auxiliary Select must have a Value"),t.Y.assertValue(et.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),Fe[et.Value]={kind:Te,columnIndex:re,selectIdx:De,calcKind:o._L.Value},Fe[te.Value].isSynchronized=!0),te.Subtotal)for(var vt of(t.Y.assert(()=>Te===S.Vt.Measure,"Subtotal SelectKind"),te.Subtotal))Fe[vt]={columnIndex:re,kind:Te,selectIdx:De,calcKind:o._L.Subtotal};if(te.Highlight){t.Y.assert(()=>Te===S.Vt.Measure,"Highlight SelectKind");var At=te.Highlight.Value;At&&(Fe[At]={columnIndex:re,kind:Te,selectIdx:De,calcKind:o._L.Highlight});var st=te.Highlight.Subtotal;if(st)for(var Re of st)Fe[Re]={columnIndex:re,kind:Te,selectIdx:De,calcKind:o._L.HighlightSubtotal}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(te.Aggregates))for(var q of te.Aggregates)if(q.Aggregate.Scope)for(var pe of q.Ids)Fe[pe]={columnIndex:re,kind:Te,selectIdx:De,calcKind:o._L.Aggregate};var Ve=te.Highlight;if(Ve&&!_.isEmpty(Ve.Aggregates)){var ke=Ve.Aggregates;for(var it of ke)if(it.Aggregate.Scope)for(var ft of it.Ids)Fe[ft]={columnIndex:re,kind:Te,selectIdx:De,calcKind:o._L.AggregateHighlight}}}var Pt=this.tryCreateDynamicFormatColumnMetadata(De,ce);if(Pt){t.Y.assert(()=>Te===S.Vt.Measure,"Dynamic Format SelectKind");var Ut=re+1;if(de.push(Pt),Fe[te.DynamicFormat.Format]={columnIndex:Ut,kind:S.Vt.Measure,selectIdx:De,calcKind:o._L.DynamicFormat},te.SubtotalDynamicFormat)for(var Kt of te.SubtotalDynamicFormat){var Qt=Kt&&Kt.Format;Qt&&(Fe[Qt]={columnIndex:Ut,kind:S.Vt.Measure,selectIdx:De,calcKind:o._L.SubtotalDynamicFormat})}var qt=te.Highlight&&te.Highlight.DynamicFormat&&te.Highlight.DynamicFormat.Format;qt&&(Fe[qt]={columnIndex:Ut,kind:S.Vt.Measure,selectIdx:De,calcKind:o._L.HighlightDynamicFormat})}return{column:ce,columnIdx:re,dynamicFormatColumn:Pt}}createMetadataColumn(de){var De=this.selects[de],re={displayName:"",index:de};De.Format&&(re.format=De.Format),re.type=h.Cx.describeDataType(De.Type,De.DataCategory),De.Kind===S.Vt.Measure&&(re.isMeasure=!0);var ce=De.GroupKeys;if(ce)for(var te=re.identityExprs=new Array(ce.length),Te=0;Te<ce.length;Te++)te[Te]=(0,b.Ho)(ce[Te],de,this.selects);return re}tryCreateDynamicFormatColumnMetadata(de,De){var re=this.selects[de];if(re.DynamicFormat&&re.DynamicFormat.Format){var ce={displayName:"",isMeasure:!0};return De.formatSource={formatString:ce},ce}}createScopedAggregateMetadata(){for(var de=this.selects,re=this.selectIndexToColumn,ce=0,te=de.length;ce<te;ce++){var Te=de[ce];if(Te){var Fe=Te.Aggregates,et=re[ce];if(!_.isEmpty(Fe))for(var vt of Fe)this.createScopedAggregateCalcMetadata(vt,et);var At=Te.Highlight;if(At&&!_.isEmpty(At.Aggregates)){var st=At.Aggregates;for(var Re of st)this.createScopedAggregateCalcMetadata(Re,et)}}}}createScopedAggregateCalcMetadata(de,De){var re=de.Aggregate,ce=re.Scope;if(ce){var te=this.selectIndexToColumn,Te=ce.PrimaryDepth;t.Y.assert(()=>void 0===ce.SecondaryDepth,"Scoped Aggregates not supports secondary depth for now.");for(var Fe=new Array(Te),et=this.primaryAxisGroupings,vt=0,At=0;At<Te;At++){var st=et[At].Keys;for(var Re of st){var q=Re.Select;t.Y.assertValue(q,"select");var pe=te[q];t.Y.assertValue(pe,"inputScopeColumn"),Fe[vt++]=pe}}var Ve={column:De,inputScope:Fe,respectInstanceFilters:re.RespectInstanceFilters},ke=de.Ids,it=this.calcInfo;for(var ft of ke){var Pt=it[ft];t.Y.assertValue(Pt,"aggregateCalcInfo"),Pt.scopedAggregateCalcMetadata={metadata:Ve,aggregateKind:this.getAggregateKind(re)}}}}fillDataShapeScopeAggregateValues(){var de=this.dataShapeParser;if(de){var De=this.calcInfo;de.reset();var re=de.next();t.Y.assert(()=>re,"There must be a DataShape");for(var ce=function(){var te=De[de.calcId()];if(!te||!te.scopedAggregateCalcMetadata)return 1;var q,Te=te.scopedAggregateCalcMetadata,Fe=Te.metadata,et=Fe.column,vt=Fe.inputScope,At=Fe.respectInstanceFilters,st={inputScope:vt,respectInstanceFilters:At,values:{},highlight:{}};if(et.scopedAggregates){var Re=_.find(et.scopedAggregates,Ve=>T.sameScopedAggregatesInputScope(Ve.inputScope,vt)&&Ve.respectInstanceFilters===At);Re?st=Re:et.scopedAggregates.push(st)}else et.scopedAggregates=[st];switch(te.calcKind){case o._L.Aggregate:q=st.values;break;case o._L.AggregateHighlight:q=st.highlight;break;default:t.Y.assertFail("Invalid CalcKind.")}var pe=de.calcValue();switch(Te.aggregateKind){case o.B8.Min:q.min=pe;break;case o.B8.Max:q.max=pe;break;case o.B8.Average:q.avg=pe;break;default:t.Y.assertFail("Invalid scoped aggregate function.")}};de.nextCalc();)ce()}}static sameScopedAggregatesInputScope(de,De){if(de===De)return!0;if(de.length!==De.length)return!1;for(var re=0;re<de.length;re++)if(de[re]!==De[re])return!1;return!0}}class V{constructor(de,De,re,ce){this.context=de,this.dsrParser=De,this.metadata=re,t.Y.assertValue(de,"context"),t.Y.assertValue(De,"dsrParser"),t.Y.assertValue(re,"metadata"),t.Y.assertNonEmpty(re.columns,"metadata.columns"),this.aggregator=new v(de),this.scopedAggregatesEnabled=ce}run(){var de=this.aggregator,De=this.dsrParser;De.reset();var re=De.dataShapes();this.calcInfoCache={};var ce=re.next();t.Y.assert(()=>ce,"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(re),t.Y.assert(()=>this.context.maxPrimaryDepth>0||!_.isEmpty(this.context.measureSelectIndices),"DSR is not compatible with Matrix"),de.read(re,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var te=re.secondaryHierarchy(),Te=this.readHierarchy(o.Tv.Secondary,te,re),Fe=re.primaryHierarchy(),et=this.readHierarchy(o.Tv.Primary,Fe,re);return de.copyToColumns(),{rows:et,columns:Te,valueSources:this.valueSources}}createHierarchiesLevels(){var de=this.context.selects,De=this.context.maxPrimaryDepth,re=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(De),this.secondaryHierarchyLevels=new Array(re);for(var ce=0;ce<De;ce++)this.primaryHierarchyLevels[ce]={sources:[]};for(var te=0;te<re;te++)this.secondaryHierarchyLevels[te]={sources:[]};for(var Te=this.metadata.columns,Fe=Te.length,et=this.columnIndexToZoneIndex=new Array(Fe),vt=0;vt<Fe;vt++){var At=Te[vt],st=At.index;if(null!=st){var Re=de[st],q=void 0;Re.Kind===S.Vt.Group&&(null!=Re.Depth?q=this.primaryHierarchyLevels[Re.Depth].sources:null!=Re.SecondaryDepth&&(q=this.secondaryHierarchyLevels[Re.SecondaryDepth].sources),t.Y.assertValue(q,"Grouping Select not belonging to either Hierarchy"),et[vt]=q.length,q.push(At))}}}readHierarchy(de,De,re){var ce,te,Te=this.valueSources.length;switch(de){case o.Tv.Primary:if(te=this.context.maxPrimaryDepth,!(ce=this.context.primaryAxisGroupings))return t.Y.assert(()=>0===te,"No primary groupings"),t.Y.assert(()=>Te>0,"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(De);break;case o.Tv.Secondary:if(te=this.context.maxSecondaryDepth,!(ce=this.context.secondaryAxisGroupings))return t.Y.assert(()=>0===te,"No secondary groupings"),0===Te?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:t.Y.assertFail("Unexpected DataShapeHierarchy")}t.Y.assert(()=>te===_.size(ce),"Groupings-Hierarchy mismatch");var Fe={levels:de===o.Tv.Primary?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};de===o.Tv.Secondary&&Te>1&&Fe.levels.push(this.createColumnHierarchyMeasuresLevel());var et=this.context.primarySynchronizedGroups;de===o.Tv.Primary&&et&&this.readRowsSynchronizedGroups(et,Fe,re);var vt=this.context;return this.readNodeChildren(vt,vt.calcInfo,this.columnIndexToZoneIndex,vt.dataMemberIdToIdentityBuilder,vt.dataMemberIdToMetadata,Fe.root,De,0,de,Te,this.context.maxSecondaryDepth,Fe.levels),!_.isEmpty(Fe.root.children)&&!_.isEmpty(Fe.synchronizedGroups)&&this.ensureRowNodeSynchronization(Fe.root,0),Fe}readRowsSynchronizedGroups(de,De,re){var ce=this;t.Y.assertNonEmpty(de,"No Primary Synchronized Groups"),t.Y.assertValue(De,"hierarchy");var te=de.length;De.synchronizedGroups=new Array(te),this.primarySynchronizedGroupByLevel=new Array(De.levels.length);for(var Te=re.nestedDataShapes(),Fe=function(){var vt=de[et],At=vt.groupings;t.Y.assert(()=>!_.isEmpty(At),"Empty synchronized group");var st=Te[vt.dataShapeId];t.Y.assertValue(st,"no dataShapeParser for a SynchronizedGroup");var Re=st.next();t.Y.assert(()=>Re,"Nested DataShape not found");var q=st.primaryHierarchy();t.Y.assertValue(q,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var pe=De.synchronizedGroups[et]={levels:new Array,root:{}},Ve=0;Ve<At.length;Ve++){var ke=At[Ve],it=pe.levels[Ve]=De.levels[ke];it.valueSources&&((De.levels[ke]=(0,c.IL)(it)).valueSources=it.valueSources,delete it.valueSources)}ce.primarySynchronizedGroupByLevel[At[0]]=pe;for(var Pt=ce.metadata.columns,Ut=new Array(Pt.length),Kt=function(){var nr=Pt[Qt];for(var Ge of pe.levels){var Ct=_.findIndex(Ge.sources,xt=>xt===nr);if(Ct>-1){Ut[Qt]=Ct;break}}},Qt=0;Qt<Pt.length;Qt++)Kt();var qt=ce.context.createContextForPrimarySynchronizedGroup(vt,st);ce.readNodeChildren(qt,qt.calcInfo,Ut,qt.dataMemberIdToIdentityBuilder,qt.dataMemberIdToMetadata,pe.root,q,0,o.Tv.Primary,0,qt.maxSecondaryDepth,pe.levels,{currentIndex:0})},et=0;et<te;et++)Fe()}readNodeChildren(de,De,re,ce,te,Te,Fe,et,vt,At,st,Re,q){if(Fe&&0!==Fe.count())for(var pe;Fe.next();){var Ve=Fe.id(),ke=te[Ve];if(ke){var it=ke.kind===o.pc.SubTotalMember,ft=it&&0===et,Pt=void 0,Ut=void 0;it||((Pt=ce[Ve])||(Pt=ce[Ve]=new y(de,Ve)),Ut=Pt.getIdentityFields());var Kt=Fe.instances();if(!Kt||0===Kt.count())continue;Ut&&(Te.childIdentityFields=Ut),pe||(pe=Te.children=[]);var Qt=this.calcInfoCache[Ve];for(null==Qt&&(Qt=this.calcInfoCache[Ve]=[]);Kt.next();){var qt=this.readNode(de,ke,ce,te,De,re,Kt,et,it,ft,Qt,vt,At,st,Pt,ke.restartValuesBuilder,Re,q);pe.push(qt),q&&q.currentIndex++}}}}readNode(de,De,re,ce,te,Te,Fe,et,vt,At,st,Re,q,pe,Ve,ke,it,ft){var Pt=this;t.Y.assert(()=>!!Ve==!vt,"Unexpected IdentityBuilder"),t.Y.assert(()=>!(vt&&ke),"Subtotal nodes should not have RestartValues");var Ut=de.aggregateCalcMetadata,Kt={level:et};De.forSynchronization&&(t.Y.assertValue(ft,"undefined synchronizedGroupLeafIndex while parsing Master List"),Kt.synchronizationIndex=ft.currentIndex),Fe.restartFlagKind()===C.mY.Merge&&(Kt.isMerge=!0),vt?Kt.isSubtotal=!0:Ve.reset();for(var Qt=[],qt=De.isSynchronized,nr=function(){var kt=Fe.calcId(),Ht=st[Ct];if(!Ht){if(!(Ht=te[kt]))return 0;st[Ct]=Ht}if(Ht.calcKind===o._L.SynchronizationIndex){var lr=Fe.calcValue();return t.Y.assert(()=>"number"==typeof lr,"Synchronization Index is expected to be a number"),Kt.synchronizationIndex=lr,0}var mr=Ht.columnIndex;t.Y.assert(()=>!0===Ht.isGroupKeyButNotSelect==(null==mr),"Unexpected columnIndex");var _r=Te[mr];t.Y.assert(()=>!0===Ht.isGroupKeyButNotSelect==(null==_r),"Unexpected zoneIndex");var br,Vr=Ht.kind;if(Vr===S.Vt.Group){if(!qt){var Br=Fe.calcValueAsExpr();br=Br.value,Ht.isGroupKeyButNotSelect||(Qt[_r]={value:br,levelSourceIndex:_r}),Ve.addExpr(kt,Br)}}else if(Vr===S.Vt.Measure){t.Y.assertValue(Ht.selectIdx,`Measure Calc ${kt} on DataMember instances must be related to a Select`);var jr,Lr,Fr=Pt.measuresGroupingScopeBySelectIndex[Ht.selectIdx];t.Y.assertValue(Fr,`Calc ${kt} has an undefined grouping scope`),t.Y.assert(()=>0===Fr.secondary,`Calc ${kt} is grouped by Secondary while appearing on DataMember`),t.Y.assert(()=>Re===o.Tv.Primary,"Measure Calcs cannot appear on Secondary Hierarchy DataMembers"),0===pe&&Fr.primary===it.length?(jr=q,null==Kt.values&&(Lr=Kt.values={}),Lr=Kt.values):(jr=it[et].valueSources[0].length,Kt.nodeValues||(Kt.nodeValues={0:{}}),Lr=Kt.nodeValues[0]),t.Y.assert(()=>_r<jr,"Measure index out-of-bound");var Yr=Lr[_r];Yr||(Yr=Lr[_r]={},_r>0&&(Yr.valueSourceIndex=_r)),br=Fe.calcValue(),Pt.readNodeValueCalc(Yr,br,Ht),Pt.scopedAggregatesEnabled&&Ht.scopedAggregateCalcMetadata&&Pt.setScopeAggregateValue(Kt,br,Ht,it[et-1]),At&&(Ht.calcKind===o._L.Subtotal||Ht.calcKind===o._L.SubtotalDynamicFormat)&&(t.Y.assertValue(de.aggregateCalcMetadata[kt],"Grand Total AggregateMetadata is undefined"),h.Cx.fillMetadataColumnAggregate(br,Ut[kt]))}else t.Y.assertFail("Unexpected SelectKind");if(!qt&&Ht.hasDuplicateColumnIndices)for(var vr of de.calcIdToColumnIndices[kt]){var Ur=Te[vr];Qt[Ur]||(Qt[Ur]={value:br,levelSourceIndex:Ur})}},Ct=0;Fe.nextCalc();Ct++)nr();if(!vt&&!qt){Kt.levelValues=Qt,Kt.value=Qt[0].value,Kt.identity=Ve.getIdentity();var xt=Fe.restartKind();xt&&(xt===C.yt.Before?Kt.restartKind=f.yt.Before:xt===C.yt.After?Kt.restartKind=f.yt.After:xt===C.yt.BeforeAndAfter&&(Kt.restartKind=f.yt.BeforeAndAfter),Kt.restartKind&&(t.Y.assertValue(ke,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),Kt.restartValues=ke.getRestartValues(Fe)))}var We=Fe.intersections(),nt=Fe.members();if(We)t.Y.assert(()=>null==nt,"non-leaf node with intersections"),this.readIntersectionsValues(te,Te,q,Kt,We);else if(nt){if(t.Y.assert(()=>null==We,"non-leaf node with intersections"),this.readNodeChildren(de,te,Te,re,ce,Kt,nt,et+1,Re,q,pe,it,ft),De.isSynchronized&&!_.isEmpty(Kt.children)){var Wt=Kt.children[0].synchronizationIndex;void 0!==Wt&&(Kt.synchronizationIndex=Wt)}}else Re===o.Tv.Secondary&&q>1&&(et===pe-1||Kt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(Kt);return Kt}setScopeAggregateValue(de,De,re,ce){t.Y.assertValue(de,"node"),t.Y.assert(()=>void 0!==De,"calcValue"),t.Y.assertValue(re,"calcInfo");var Fe,te=re.scopedAggregateCalcMetadata,Te=this.findDataViewNodeAggregates(de,te.metadata);switch(re.calcKind){case o._L.Aggregate:Fe=Te.values;break;case o._L.AggregateHighlight:Fe=Te.highlight;break;default:t.Y.assertFail("Invalid Aggregate CalcInfo.")}switch(te.aggregateKind){case o.B8.Max:Fe.max=De;break;case o.B8.Min:Fe.min=De;break;case o.B8.Average:Fe.avg=De;break;default:t.Y.assertFail("Unexpected DataViewAggregateKind.")}var et=te.metadata,vt=ce.aggregates;vt?_.some(vt,st=>st.column===et.column&&T.sameScopedAggregatesInputScope(st.inputScope,et.inputScope)&&st.respectInstanceFilters===et.respectInstanceFilters)||vt.push(et):ce.aggregates=[et]}findDataViewNodeAggregates(de,De){var ce,re=de.aggregateValues;return re?(ce=_.find(re,te=>{var Te=te.metadata;return Te.column===De.column&&T.sameScopedAggregatesInputScope(Te.inputScope,De.inputScope)&&Te.respectInstanceFilters===De.respectInstanceFilters}))||re.push(ce={metadata:De,values:{},highlight:{}}):de.aggregateValues=[ce={metadata:De,values:{},highlight:{}}],ce}readIntersectionsValues(de,De,re,ce,te){if(0!==re)for(var Te=ce.values={},Fe=0;te.next();){for(var et=0;et<re;et++){var vt=Te[re*Fe+et]={};et>0&&(vt.valueSourceIndex=et)}for(;te.nextCalc();){var At=de[te.calcId()];if(At){var st=De[At.columnIndex];t.Y.assertValue(st,"Intersection calculation has no matching column index");var Re=Te[re*Fe+st];t.Y.assertValue(Re,"nodeValue not found"),this.readNodeValueCalc(Re,te.calcValue(),At)}}Fe++}}readNodeValueCalc(de,De,re){switch(t.Y.assertValue(de,"nodeValue"),t.Y.assert(()=>void 0!==De,"calcValue"),t.Y.assertValue(re,"calcInfo"),re.calcKind){case o._L.Value:case o._L.DynamicFormat:de.value=De,this.aggregator.update(De,re.selectIdx);break;case o._L.Subtotal:case o._L.SubtotalDynamicFormat:de.value=De;break;case o._L.Highlight:case o._L.HighlightDynamicFormat:case o._L.HighlightSubtotal:de.highlight=De;break;case o._L.Aggregate:case o._L.AggregateHighlight:case o._L.SynchronizationIndex:break;default:t.Y.assertNever(re.calcKind)}}createRowHierarchyForNoGroupings(de){var De={level:0,values:{}},re={levels:[],root:{children:[De]}};t.Y.assert(()=>1===de.count(),"DSR with no groupings should have one DataMember"),de.next();var ce=de.instances();return t.Y.assertValue(ce,"instancesParser"),this.readNodeForNoGroupings(De,ce),re}readNodeForNoGroupings(de,De){t.Y.assert(()=>1===De.count(),"DSR with no groupings should have one Instance");var re=this.context.calcInfo,ce=this.columnIndexToZoneIndex;De.next();for(var te=de.values={};De.nextCalc();){var Fe=re[De.calcId()];if(Fe){var et=ce[Fe.columnIndex],vt=te[et];vt||(vt=te[et]={},et>0&&(vt.valueSourceIndex=et)),this.readNodeValueCalc(vt,De.calcValue(),Fe)}}}createColumnHierarchyForNoGroupings(){var de=[],De={};return this.valueSources.length>0&&(de=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(De)),{levels:de,root:De}}createColumnHierarchyMeasuresLevel(){for(var de=this.valueSources.length,De=new Array(de),re=0;re<de;re++)De[re]=this.valueSources[re];return{sources:De}}createColumnHierarchyMeasuresNodes(de){for(var De=null==de.level?0:this.context.maxSecondaryDepth,re=this.valueSources.length,ce=de.children=new Array(re),te=de.isSubtotal,Te=0;Te<re;Te++){var Fe=ce[Te]={level:De};Te>0&&(Fe.levelSourceIndex=Te),te&&(Fe.isSubtotal=!0)}}readValueSources(de){var De=this,re=this.context,ce=re.selects,te=re.measureSelectIndices,Te=te.length,Fe=re.selectIndexToColumn,et=re.selectIndexToColumnIndex,vt=this.columnIndexToZoneIndex;t.Y.assertValue(te,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var At={};if(de.calcCount()>0){for(;de.nextCalc();)At[de.calcId()]=!0;de.restartCalcs()}for(var st=function(){var q=te[Re],pe=ce[q];t.Y.assert(()=>pe.Kind===S.Vt.Measure,"Expected a Measure Select"),t.Y.assertValue(pe.Value,"Every Measure Select must have a Calc Id");var Ve=et[q],ke=De.measuresGroupingScopeBySelectIndex[q]=De.getMeasureGroupingScope(pe,At[pe.Value]);if(!ke)return 1;var Pt,it=ke.primary,ft=ke.secondary;if(it===De.context.maxPrimaryDepth&&ft===De.context.maxSecondaryDepth)Pt=De.valueSources;else{t.Y.assert(()=>0===ft,"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),t.Y.assert(()=>it<=De.primaryHierarchyLevels.length,"Arbitrary-scope cannot be more specific than inner-most scope");var Ut=De.primaryHierarchyLevels[it-1];Ut.valueSources||(Ut.valueSources={0:[]}),Pt=Ut.valueSources[0]}var Kt=Fe[q];if(t.Y.assertValue(Kt,"Measure column not found"),vt[Ve]=Pt.length,Pt.push(Kt),pe.DynamicFormat&&pe.DynamicFormat.Format){var Qt=Kt.formatSource&&Kt.formatSource.formatString;t.Y.assertValue(Qt,"DynamicFormat column not found"),vt[Ve+1]=Pt.length,Pt.push(Qt)}},Re=0;Re<Te;Re++)st()}getMeasureGroupingScope(de,De){return null==de.Depth&&null==de.SecondaryDepth?De?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=de.Depth?de.Depth+1:0,secondary:null!=de.SecondaryDepth?de.SecondaryDepth+1:0}}ensureRowNodeSynchronization(de,De){if(t.Y.assert(()=>!this.isRowLeaf(de),"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(de)){var re=this.primarySynchronizedGroupByLevel[De];if(re)return void this.synchronizeNodeChildren(de,re.root);var ce=de.children;t.Y.assertNonEmpty(ce,"Jagged hierarcy found!");var te=De+1;for(var Te of ce)this.ensureRowNodeSynchronization(Te,te)}}synchronizeNodeChildren(de,De){if(!this.isRowLeaf(de)){var re=de.level+1,ce=De.children;if(_.isEmpty(ce))return void this.ensureRowNodeSynchronization(de,re);var te=ce.length,Te=de.children||[],Fe=new Array(te);de.children=Fe;var vt,At,et=0;vt=et<Te.length?Te[et]:void 0,At=vt?.synchronizationIndex;for(var st=0;st<te;st++){var Re=ce[st],q=Re.synchronizationIndex,pe=this.copyFromMasterNode(Re);pe.level=re,Fe[st]=pe,vt&&At===q?(t.Y.assert(()=>vt.level===re,"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(vt,pe),this.synchronizeNodeChildren(pe,Re),et++,vt=et<Te.length?Te[et]:void 0,At=vt?.synchronizationIndex):void 0===At||q<At?this.isRowLeaf(pe)||(pe.children=[],this.synchronizeNodeChildren(pe,Re)):t.Y.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}}copyFromMasterNode(de){var De={};if(De.synchronizationIndex=de.synchronizationIndex,de.identity&&(De.identity=de.identity),void 0!==de.value&&(De.value=de.value),void 0!==de.isSubtotal&&(De.isSubtotal=de.isSubtotal),de.levelValues){var re=de.levelValues.length;De.levelValues=new Array(re);for(var ce=0;ce<re;ce++){var te=de.levelValues[ce];De.levelValues[ce]={value:te.value,levelSourceIndex:te.levelSourceIndex}}}return void 0!==de.restartKind&&(De.restartKind=de.restartKind),void 0!==de.restartValues&&(De.restartValues=de.restartValues),De}copyFromExistingNode(de,De){de.aggregateValues&&(De.aggregateValues=de.aggregateValues),de.values&&(De.values=de.values),de.nodeValues&&(De.nodeValues=de.nodeValues),t.Y.assert(()=>!(_.isEmpty(de.children)&&!_.isEmpty(De.children)),"A non-leaf master node matches a leaf node"),de.children&&(De.children=de.children),de.childIdentityFields&&!De.childIdentityFields&&(De.childIdentityFields=de.childIdentityFields)}isRowLeaf(de){return!(de.level!==this.context.maxPrimaryDepth-1&&!de.isSubtotal||(t.Y.assert(()=>_.isEmpty(de.children),"A leaf node should not have children"),0))}}class P{constructor(de,De){this.context=de,this.dsrParser=De,this.aggregator=new v(de)}run(){return this.parseSingle()}parseSingle(){var de=this.dsrParser;de.reset();var De=de.dataShapes(),re=De.next();return t.Y.assert(()=>re,"There must be a DataShape"),this.aggregator.read(De,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(De.primaryHierarchy()):this.parseSubtotal(De.primaryHierarchy())}parseMeasureValue(de){for(t.Y.assert(()=>1===de.count(),"call parseMeasureValue only when there's one datamember with no grouping");de.next();)return this.parseInstance(de.instances())}parseSubtotal(de){for(;de.next();)if(this.context.dataMemberIdToMetadata[de.id()].kind===o.pc.SubTotalMember)return this.parseInstance(de.instances())}parseInstance(de){for(var ce,te,De=this.context,re=De.calcInfo;de.next();)for(;de.nextCalc();){var Te=de.calcId(),Fe=re[Te];if(Fe){var et=Fe.calcKind,vt=et===o._L.Subtotal;(et===o._L.Value||vt)&&(ce=de.calcValue(),te=Fe.selectIdx,vt&&(t.Y.assertValue(De.aggregateCalcMetadata[Te],"AggregateCalcMetadata for calc must exist."),h.Cx.fillMetadataColumnAggregate(ce,De.aggregateCalcMetadata[Te])))}}if(void 0!==ce)return{column:De.selectIndexToColumn[te],value:ce}}static isCompatible(de){return 0===de.maxSecondaryDepth&&1===de.measureSelectIndices.length}}class I{constructor(de,De,re){this.context=de,this.dsrParser=De,this.metadata=re,t.Y.assertValue(de,"context"),t.Y.assertValue(De,"dsrParser"),t.Y.assertValue(re,"metadata"),this.aggregator=new v(de)}run(){if(this.isCompatible()){var De={columns:this.metadata.columns},re=this.dsrParser;re.reset();var ce=re.dataShapes(),te=ce.next();t.Y.assert(()=>te,"There must be a DataShape");var Te=this.aggregator;Te.read(ce);var Fe=ce.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(De,Fe):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(De,Fe):t.Y.assert(()=>!1,"Upsupported maxPrimaryDepth value"),Te.copyToColumns(),De}}readRows(de,De){var ce,Te,re=this.context,te=this.getRowCellsCount(De);for(De.reset();De.next();){var Fe=De.id(),et=re.dataMemberIdToMetadata[Fe];if(et){var vt=et.kind,At=De.instances(),st=[];if(vt===o.pc.GroupMember){var Re=re.dataMemberIdToIdentityBuilder[Fe];Re||(Re=re.dataMemberIdToIdentityBuilder[Fe]=new y(re,Fe));var q=et.axisGrouping,pe=At.count();ce=new Array(pe);for(var Ve=new Array(pe),ke=0;At.next();ke++)At.restartFlagKind()===C.mY.Merge&&(Te=ke),Re.reset(),ce[ke]=this.readRow(At,q,st,te,Re,!1),Ve[ke]=Re.getIdentity();_.isEmpty(Ve)||(de.identity=Ve),de.identityFields=Re.getIdentityFields()}else if(vt===o.pc.SubTotalMember){if(0===te)continue;for(;At.next();){t.Y.assert(()=>null==de.totals,"Totals can only be assigned once.");for(var it=this.readRow(At,null,st,te,null,!0),ft=it.length,Pt=0;Pt<ft;Pt++)void 0===it[Pt]&&(it[Pt]=null);de.totals=it}}else t.Y.assert(()=>!1,"Unsupported DataMemberKind");de.rows=ce,void 0!==Te&&(de.lastMergeIndex=Te)}}}readRow(de,De,re,ce,te,Te){var vt,Fe=this.aggregator,et=new Array(ce),At=0===re.length;At&&De&&(t.Y.assert(()=>de.calcCount()>0,"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),vt=this.createCalcIdToGroupingIdentityIndexMap(De),re.length=de.calcCount());for(var st=this.context,Re=st.aggregateCalcMetadata,q=0;de.nextCalc();q++){var pe=de.calcId();if(At){var Ve=vt&&vt[pe],ke=st.calcInfo[pe],it=ke&&ke.columnIndex;ke&&(ke.calcKind===o._L.Highlight||ke.calcKind===o._L.HighlightDynamicFormat||ke.calcKind===o._L.HighlightSubtotal)&&(it=null),re[q]={axisGroupingIndex:Ve,columnIndex:it,hasDuplicateColumnIndices:ke&&ke.hasDuplicateColumnIndices,isGroupKeyOnly:null!=Ve&&null==it,selectIndex:ke&&ke.selectIdx,aggregateMetadata:Re[pe]}}var Pt=re[q];if(null!=Pt.columnIndex){var Ut=de.calcValue();if(et[Pt.columnIndex]=Ut,Te?h.Cx.fillMetadataColumnAggregate(Ut,Pt.aggregateMetadata):Fe.update(Ut,Pt.selectIndex),Pt.hasDuplicateColumnIndices)for(var Kt of st.calcIdToColumnIndices[pe])void 0===et[Kt]&&(et[Kt]=Ut)}te&&te.addExpr(pe,de.calcValueAsExpr())}return et}readRowWithoutGrouping(de,De){if(t.Y.assert(()=>De.count()<=1,"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),De.next()){var re=De.instances(),ce=[];if(t.Y.assert(()=>re.count()<=1,"There must be maximum one DataMemberInstance since there is no grouping."),re.next()){for(var te=[];re.nextCalc();){var Te=re.calcId(),Fe=this.context.calcInfo[Te];Fe&&Fe.calcKind!==o._L.Highlight&&(te[Fe.columnIndex]=re.calcValue())}ce.push(te)}de.rows=ce}}getRowCellsCount(de){for(de.reset();de.next();){var De=de.id(),re=this.context.dataMemberIdToMetadata[De];if(re&&re.kind===o.pc.GroupMember){var ce=de.instances();if(ce.next()){for(var te=0;ce.nextCalc();){var Te=ce.calcId(),Fe=this.context.calcInfo[Te];Fe&&(Fe.calcKind===o._L.Value||Fe.calcKind===o._L.Subtotal)&&(Fe.hasDuplicateColumnIndices?te+=_.size(this.context.calcIdToColumnIndices[Te]):te++)}return te}}}return 0}createCalcIdToGroupingIdentityIndexMap(de){for(var De={},re=de.Keys,ce=this.context.selects,te=re.length,Te=0;Te<te;Te++){var Fe=re[Te];De[Fe.Calc||ce[Fe.Select].Value]=Te}return De}isCompatible(){var de=this.context;return 0===de.maxSecondaryDepth&&de.maxPrimaryDepth<=1}}class R{constructor(de,De){this.context=de,this.dsrParser=De,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new v(de)}run(){if(this.isCompatible()){var de={};return this.parseTree(de),{root:de}}}parseTree(de){var De=this.dsrParser;De.reset();var re=De.dataShapes(),ce=re.next();t.Y.assert(()=>ce,"There must be a DataShape");var te=this.context.maxPrimaryDepth;this.aggregator.read(re,1===te),0===te?this.parseDataMembersWithNoGrouping(de,re.primaryHierarchy()):this.parseDataMembers(de,re.primaryHierarchy(),0),this.parseAggregates(de)}parseDataMembers(de,De,re){for(;De.next();){var ce=this.context,te=De.id(),Te=ce.dataMemberIdToMetadata[te];if(Te){var Fe=De.instances(),et=this.calcIndexToCalcMetadataDictionary[te];switch(et||(this.calcIndexToCalcMetadataDictionary[te]=et=[]),Te.kind){case o.pc.GroupMember:var vt=ce.dataMemberIdToIdentityBuilder[te];vt||(vt=new y(ce,te),ce.dataMemberIdToIdentityBuilder[te]=vt);var At=vt.getIdentityFields();At&&(de.childIdentityFields=At),this.parseInstances(de,Fe,et,vt,!1,re);break;case o.pc.SubTotalMember:this.parseInstances(de,Fe,et,null,!0,re);break;default:t.Y.assert(()=>!1,"Unsupported DataMemberKind")}}}}parseInstances(de,De,re,ce,te,Te){var Fe=this,et=this.context,vt=this.aggregator,At=et.aggregateCalcMetadata,st=de.children;for(te||(t.Y.assertValue(ce,"identityBuilder"),!st&&De.count()>0&&(st=de.children=new Array(De.count())));De.next();){var Re=void 0,q=void 0,pe=void 0;te||ce.reset();var Ve=0===re.length;Ve&&(re.length=De.calcCount());for(var ke=function(){te&&(Re=de.values),Re||(Re={});var Ut=De.calcId();Ve&&(re[it]=et.calcInfo[Ut]);var Qt=re[it];if(!Qt)return 1;var qt=De.calcValue(),nr=Qt.calcKind,Ge=Qt.kind,Ct=Qt.selectIdx;if(te)t.Y.assert(()=>Ge!==S.Vt.Group,"subtotal cannot be of grouping kind."),Fe.addTreeNodeMeasureValues(Re,Ct,nr,qt),0===Te&&h.Cx.fillMetadataColumnAggregate(qt,At[Ut]);else{var xt=Qt.isGroupKeyButNotSelect;xt||Fe.addTreeNodeMeasureValues(Re,Ct,nr,qt),Ge===S.Vt.Group?(xt||(pe=qt),ce.addExpr(Ut,De.calcValueAsExpr())):Ge===S.Vt.Measure&&nr===o._L.Value&&(q=qt,t.Y.assertValue(Ct,"selectIndex"),vt.update(qt,Ct))}},it=0;De.nextCalc();it++)ke();if(te)de.values=Re,De.restartFlagKind()===C.mY.Merge&&(de.isMerge=!0);else{var ft={values:Re,identity:ce.getIdentity()};void 0!==pe&&(ft.name=pe),void 0!==q&&(ft.value=q),De.restartFlagKind()===C.mY.Merge&&(ft.isMerge=!0);var Pt=De.members();Pt&&this.parseDataMembers(ft,Pt,Te+1),st[De.currentIndex()]=ft}}}addTreeNodeMeasureValues(de,De,re,ce){t.Y.assertValue(De,"selectIndex");var te=de[De];switch(!te&&this.isSupportedMeasureType(re)&&(te=de[De]={}),re){case o._L.Value:te.value=ce;break;case o._L.Subtotal:te.subtotal=ce;break;case o._L.Highlight:te.highlight=ce}}isSupportedMeasureType(de){return de===o._L.Value||de===o._L.Subtotal||de===o._L.Highlight}parseDataMembersWithNoGrouping(de,De){t.Y.assert(()=>1===De.count(),"There can only be one datamember with no grouping"),De.next();var re=De.instances();t.Y.assert(()=>1===re.count(),"There can only be one instance for datamember with no grouping"),re.next();for(var ce,te=this.context.calcInfo;re.nextCalc();){de.values||(de.values=ce={});var Te=te[re.calcId()];if(Te){var Fe=Te.calcKind,et=re.calcValue();this.addTreeNodeMeasureValues(ce,Te.selectIdx,Fe,et),Fe===o._L.Value&&(de.value=et)}}}isCompatible(){return 0===_.size(this.context.secondaryAxisGroupings)}parseAggregates(de){var De=this.context;this.aggregator.copyToColumns();for(var re=De.measureSelectIndices,ce=re.length,te=0;te<ce;te++){var Te=re[te],Fe=De.selectIndexToColumn[Te].aggregates,et=de.values;if(Fe){et||(et=de.values={});var vt=et[Te];vt||(vt=et[Te]={}),h.Cx.copyAggregates(Fe,vt)}}}}var W=e(248080),F=e(518139),x=e(904756),A=e(727695);function L($e,de){var De=[],re={};for(var ce of $e){var te={id:ce.Id,name:ce.Name,component:ce.Component,pageHidden:void 0,start:(0,A.jT)(ce.Start).valueOf(),end:ce.End?(0,A.jT)(ce.End).valueOf():void 0,metrics:ce.Metrics,status:x.L.Resolved,rootId:de,parentId:ce.ParentId};ce.ParentId?(re[ce.ParentId]||(re[ce.ParentId]=[]),re[ce.ParentId].push(te)):De.push(te)}return Y(De,re),De}function Y($e,de){for(var De of $e)de[De.id]&&(De.children=de[De.id],Y(De.children,de))}var z=e(51709),H=e(709099),Z=e(891843),k=e(67667),K=function($e){return $e[$e.NullSelectFound=1]="NullSelectFound",$e[$e.DynamicFormatFound=2]="DynamicFormatFound",$e}({});function Q($e,de){if($e.metadata.dataReduction={},$e.categorical){var De=$e.metadata.dataReduction.categorical={};de.Primary&&(De.categories=J(de.Primary)),de.Secondary&&(De.values=J(de.Secondary)),de.Intersection&&(De.metadata=J(de.Intersection))}if($e.matrix){var re=$e.metadata.dataReduction.matrix={};de.Primary&&(re.rows=J(de.Primary))}}function J($e){switch($e.Type){case o.gT.BinnedLineSample:return{binnedLineSample:{}};case o.gT.OverlappingPointsSample:return{overlappingPointsSample:{}};default:return{}}}function ne($e,de){t.Y.assertValue($e,"node");var De=$e.values;De||(De=$e.values={});var re=De[de];return re||(re=De[de]={}),re}var oe=function($e){return $e[$e.Undetermined=0]="Undetermined",$e[$e.GroupDynamic=1]="GroupDynamic",$e[$e.MeasureStatic=2]="MeasureStatic",$e[$e.SubtotalStatic=3]="SubtotalStatic",$e[$e.Unsupported=4]="Unsupported",$e}({});function Me($e,de,De,re){t.Y.assertValue($e,"context"),t.Y.assertValue(De,"dataShape"),t.Y.assertValue(re,"metadata"),t.Y.assert(()=>$e.includes(r.k.Matrix),"context.includes(StandardDataViewKinds.Matrix)");var ce=(0,g.ni)(`DSR.matrix(${$e.perfId})`),te=[],Te=[],Fe=[];!function($e,de,De,re,ce){t.Y.assertValue(ce,"metadataColumns");for(var te=$e.selects,Te=0,Fe=te.length;Te<Fe;Te++){var et=te[Te];if(et){var vt=Le($e,ce,Te);if(et.Kind===S.Vt.Measure)re.push(vt);else if(null!=et.Depth){var At=de[et.Depth];null!=At?At.sources.push(vt):de[et.Depth]=Ye([vt])}else if(null!=et.SecondaryDepth){var st=De[et.SecondaryDepth];null!=st?st.sources.push(vt):De[et.SecondaryDepth]=Ye([vt])}et.DynamicFormat&&et.DynamicFormat.Format&&(t.Y.assertValue(vt.formatSource&&vt.formatSource.formatString,"metadataColumn.formatSource.formatString"),re.push(vt.formatSource.formatString))}}var Re=re.length;(Re>1||Re>0&&(0===de.length||0===De.length))&&De.push(Ye(re))}($e,te,Te,Fe,re.columns);var et=[],vt=function($e,de,De,re,ce,te){if(!ce.SecondaryHierarchy||0===ce.SecondaryHierarchy.length){var Te={};return Ce(Te,De,0,!1),Te}var Fe;re&&re.Secondary&&(Fe=re.Secondary.Groupings);var et=Ae($e,de,ce.SecondaryHierarchy,Fe,(vt,At,st,Re,q)=>{if(q<de.length)if(Re.isSubtotal){var pe=de.length-1,Ve=de[pe].sources.length;Ve>1&&Ce(Re,Ve,pe,!0)}else t.Y.assert(()=>q===de.length-1,"We only support one extra level in the column hierarchy (for measures)"),Ce(Re,de[q].sources.length,q,!1);te.push(ze(Re)),$e.stats.secondary++});return et}($e,Te,Fe.length,de,De,et),At=function($e,de,De,re,ce){if(re.PrimaryHierarchy&&0!==re.PrimaryHierarchy.length){var te;De&&De.Primary&&(te=De.Primary.Groupings);var Te=0,Fe=0;De&&(Te=Be(De.Primary),Fe=Be(De.Secondary));var et=_.filter($e.selects,At=>At&&At.Kind===S.Vt.Measure),vt=Ae($e,de,re.PrimaryHierarchy,te,(At,st,Re,q,pe)=>{(function($e,de,De,re,ce,te,Te){t.Y.assertValue(De,"instance"),t.Y.assertValue(re,"node"),t.Y.assertValue(ce,"intersectionToSecondaryAggIdx");var Fe=De.Intersections,et={index:0};if(Fe)for(var vt=0,At=Fe.length;vt<At;vt++)Fe[vt].Calculations&&Ee($e,de,Fe[vt].Calculations,re,et,ce[vt],te,Te);else Ee($e,de,De.Calculations,re,et,0,te,Te)})(st,et,Re,q,ce,Te,Fe),At.stats.primary++});return vt}}($e,te,de,De,et),q={rows:{root:At,levels:te},columns:{root:vt,levels:Te},valueSources:Fe};return ce(),q}function Ye($e){t.Y.assertValue($e,"metadataColumns");for(var de={sources:[]},De=0,re=$e.length;De<re;De++)de.sources.push($e[De]);return de}function Le($e,de,De){t.Y.assertValue(de,"metadataColumns");for(var re=0,ce=de.length;re<ce;re++){var te=de[re];if(te&&te.index===De&&void 0===te.groupName)return te}return $e.createColumns(de,De)}function ze($e){return t.Y.assertValue($e,"node"),$e.isSubtotal?$e.level:$e.level+1}function Be($e){return t.Y.assertAnyValue($e,"axis"),$e&&$e.Groupings?$e.Groupings.length:0}function Ce($e,de,De,re){$e.children=[];for(var ce=0;ce<de;ce++){var te={level:De};ce>0&&(te.levelSourceIndex=ce),$e.children.push(te),re&&(te.isSubtotal=!0)}}function Ae($e,de,De,re,ce){t.Y.assertValue($e,"context");var te={};return be($e,de,te,De,re,0,ce),te}function be($e,de,De,re,ce,te,Te){if(t.Y.assertValue($e,"context"),t.Y.assertValue(De,"node"),t.Y.assertValue(te,"depth"),re)for(var Fe=$e.selects,et=function($e,de){t.Y.assertAnyValue($e,"levelSources"),t.Y.assertValue(de,"depth");var De=[],re=$e&&$e[de]&&$e[de].sources;if(!_.isEmpty(re))for(var ce=0,te=re.length;ce<te;ce++){var Te=re[ce];t.Y.assertValue(Te.index,"pre-condition: sourceMetadataColumn.index is defined"),De[Te.index]=ce}return De}(de,te),vt=0,At=re.length;vt<At;vt++)for(var st=re[vt],Re=oe.Undetermined,q=0,pe=st.Instances.length;q<pe;q++){var Ve=st.Instances[q];if(Re===oe.Undetermined&&(Re=xe(Fe,ce,te,st,Ve))===oe.Unsupported)break;var ke={level:te};if(De.children||(De.children=[]),De.children.push(ke),Re===oe.GroupDynamic){var it=ve(Fe,Ve.Calculations,et);if(!_.isEmpty(it)){ke.levelValues=it;var ft=_.last(it);ke.value=ft.value,ft.levelSourceIndex>0&&(ke.levelSourceIndex=ft.levelSourceIndex)}}else Re===oe.SubtotalStatic&&(ke.isSubtotal=!0);Ve.RestartFlag&&Ve.RestartFlag===C.mY.Merge&&(ke.isMerge=!0),ce&&Re===oe.GroupDynamic&&(De.childIdentityFields=$e.readKeys(ce,te),ke.identity=$e.readIdentity(ce,Ve,te));var Pt=Ve.Members;Pt&&Pt.length>0?be($e,de,ke,Pt,ce,te+1,Te):Te&&Te($e,Re,Ve,ke,te+1)}}function ve($e,de,De){t.Y.assertValue($e,"selects"),t.Y.assertValue(de,"calculations"),t.Y.assertNonEmpty(De,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var re,ce=0,te=$e.length;ce<te;ce++){var Te=$e[ce];if(Te&&Te.Value&&Te.Kind===S.Vt.Group){var Fe=h.Cx.findAndParseCalculation(de,Te.Value);void 0!==Fe&&(re||(re=[]),re.push({levelSourceIndex:De[ce],value:Fe}))}}return re}function xe($e,de,De,re,ce){if(t.Y.assertValue($e,"selects"),t.Y.assertValue(re,"member"),de&&de.length>De&&null!=re.Id){var te=de[De];if(re.Id===te.Member)return oe.GroupDynamic;if(re.Id===te.SubtotalMember)return oe.SubtotalStatic}var Te=ce.Calculations;if(Te){for(var Fe=!1,et=0,vt=$e.length;et<vt;et++){var At=$e[et];if(At&&h.Cx.findCalculation(Te,At.Value)){if(At.Kind===S.Vt.Group)return oe.GroupDynamic;!Fe&&At.Kind===S.Vt.Measure&&(Fe=!0)}}if(Fe)return oe.MeasureStatic}return oe.Unsupported}function Ee($e,de,De,re,ce,te,Te,Fe){if(t.Y.assertValue(de,"selects"),t.Y.assertValue(re,"node"),De)for(var et={index:0},vt=function(){var Re=de[At];t.Y.assert(()=>Re.Kind===S.Vt.Measure,"measureSelects is expected to have measure select bindings only");var q=Re.Highlight,Ve=q&&q.DynamicFormat&&q.DynamicFormat.Format;if(Ne($e,De,re,ce,et,te,Te,Fe,0,Re.Value,q&&q.Value,Re.Subtotal),Re.DynamicFormat&&Re.DynamicFormat.Format){var ke=_.map(Re.SubtotalDynamicFormat,it=>it&&it.Format);Ne($e,De,re,ce,et,te,Te,Fe,0,Re.DynamicFormat.Format,Ve,ke)}},At=0,st=de.length;At<st;At++)vt()}function Ne($e,de,De,re,ce,te,Te,Fe,et,vt,At,st){t.Y.assertValue(ce,"measureIndex");var Re=ne(De,re.index),q=null;if($e!==oe.SubtotalStatic&&(q=h.Cx.findAndParseCalculation(de,vt)),null==q){var Ve=function($e,de,De,re,ce,te){if(de){var Te=h.Cx.computeAggIdx(De,re,ce,te);if(Te<de.length)return h.Cx.findAndParseCalculation($e,de[Te])}}(de,st,ze(De),te,Te,Fe);void 0!==Ve&&(q=Ve)}At&&(Re.highlight=h.Cx.findAndParseCalculation(de,At)),Re.value=q,ce.index>0&&(Re.valueSourceIndex=ce.index),re.index++,ce.index++}class fe{constructor(de){t.Y.assertValue(de,"context"),this._context=de}read(de,De,re){t.Y.assertValue(De,"dataShape");var ce={metadata:{columns:[]}};return re.script=(0,g.Mt)(()=>{if(De.PrimaryHierarchy&&De.PrimaryHierarchy.length>0){var te=De.PrimaryHierarchy[0];if(te&&te.Instances.length>0){var vt=h.Cx.findCalculation(te.Instances[0].Calculations,this._context.scriptVisualBinding.PayloadCalculationId||this._context.scriptVisualBinding.ImageCalculationId);if(vt){var st=(0,Z.fb)(vt.Value);st&&(ce.scriptResult={payloadBase64:st})}}}}),ce}}class Se{constructor(de){t.Y.assertValue(de,"context"),this.context=de}read(de,De,re){t.Y.assertValue(De,"dataShape");var ce=this.context,te=this.readMetadata(De.IsComplete),Te={metadata:te},Fe=ce.includes(r.k.Tree),et=ce.includes(r.k.Categorical),vt=ce.includes(r.k.Single),At=ce.includes(r.k.Table);if(Fe||et||vt||At){var st,Re=(0,g.Mt)(()=>{st=this.parseTree(te.columns,de,De),t.Y.assertValue(st,"root")});Fe&&(re.tree=Re+(0,g.Mt)(()=>{var q=this.createTree(te,st);q&&(Te.tree=q)})),et&&(re.categorical=Re+(0,g.Mt)(()=>{var q=this.categorize(te,st);q&&(Te.categorical=q)})),vt&&(re.single=Re+(0,g.Mt)(()=>{var q=this.createSingleValue(te,st);q&&(Te.single=q)})),At&&(re.table=Re+(0,g.Mt)(()=>{var q=this.createTable(te,st);q&&(Te.table=q)}))}return ce.includes(r.k.Matrix)&&(re.matrix=(0,g.Mt)(()=>{var q=Me(this.context,de,De,Te.metadata);q&&(Te.matrix=q)})),Te}readMetadata(de){for(var De={columns:[]},re=this.context,ce=re.selects,te=0,Te=ce.length;te<Te;te++)ce[te]?re.createColumns(De.columns,te):re.actionHistory|=K.NullSelectFound;return de||(De.segment={}),De}parseTree(de,De,re){var ce=(0,g.ni)(`DSR.tree(${this.context.perfId})`),te={},Te=this.context.selects;this.parseRootAggregates(de,te);var Fe=h.Cx.getTopLevelPrimaryDynamicMember(re,De,!0);if(Fe){var vt,et=re.PrimaryHierarchy[0];Fe!==et&&this.parseValues(Te,te,Se.getFirstInstanceCalcs(et)),De&&De.Primary&&(vt=De.Primary.Groupings),this.parseRecursive(te,Fe,vt,0,de)}else _.isEmpty(re.PrimaryHierarchy)||this.parseValues(Te,te,Se.getFirstInstanceCalcs(re.PrimaryHierarchy[0]));return ce(),te}parseRecursive(de,De,re,ce,te){t.Y.assertValue(de,"node"),t.Y.assertValue(De,"dynamicMember"),t.Y.assertValue(ce,"depth"),t.Y.assertAnyValue(te,"columns");var vt,Te=this.context,Fe=De.Instances,et=Fe.length;et&&(de.children=[],0===ce&&(vt=ot.create(de,Te))),re&&(de.childIdentityFields=Te.readKeys(re,ce));for(var At=0;At<et;At++){var st=Fe[At],Re={};de.children.push(Re),st.RestartFlag&&st.RestartFlag===C.mY.Merge&&(Re.isMerge=!0),this.parseValues(Te.selects,Re,st.Calculations,vt),re&&(Re.identity=Te.readIdentity(re,st,ce));var q=st.Members;if(this.parseAggregates(Te.selects,Re,st.Calculations,q,ce+1),!_.isEmpty(q)){var pe=h.Cx.getDynamicMember(q,re,ce+1);pe&&this.parseRecursive(Re,pe,re,ce+1)}}vt&&vt.complete(te)}static getFirstInstanceCalcs(de){t.Y.assertValue(de,"member");var De=de.Instances;return De.length>0?De[0].Calculations:null}parseRootAggregates(de,De){t.Y.assertValue(de,"columns"),t.Y.assertValue(De,"node");for(var re=0,ce=de.length;re<ce;re++){var Te=de[re].aggregates;Te&&h.Cx.copyAggregates(Te,ne(De,re))}}parseAggregates(de,De,re,ce,te){t.Y.assertValue(de,"selects"),t.Y.assertValue(De,"node"),t.Y.assertAnyValue(re,"calculations"),t.Y.assertAnyValue(ce,"allMembers");for(var Te=0,Fe=de.length;Te<Fe;Te++){var et=de[Te];if(et){var vt=at(et,re,ce,te);vt&&h.Cx.copyAggregates(vt,ne(De,this.context.selectIndexToColumnIndexMap[Te]))}}}parseValues(de,De,re,ce){if(t.Y.assertValue(de,"selects"),t.Y.assertValue(De,"node"),t.Y.assertAnyValue(re,"calculations"),!_.isEmpty(re))for(var te=0,Te=0,Fe=de.length;te<Fe;te++){var et=de[te];if(et){if(et.Value){var vt=h.Cx.findAndParseCalculation(re,et.Value);void 0!==vt&&(et.Kind===S.Vt.Group?De.name=vt:(De.value=vt,ce&&ce.add(Te,vt)),ne(De,Te).value=vt)}if(et.Highlight){var At=h.Cx.findAndParseCalculation(re,et.Highlight.Value);void 0!==At&&(ne(De,Te).highlight=At)}if(Te++,et.DynamicFormat&&et.DynamicFormat.Format){var st=h.Cx.findAndParseCalculation(re,et.DynamicFormat.Format);ne(De,Te).value=st,Te++}}}}categorize(de,De){if(t.Y.assertValue(de,"metadata"),!this.canCategorize())return null;for(var te,re=(0,g.ni)(`DSR.categorical(${this.context.perfId})`),ce={},Te=0,Fe=de.columns.length;Te<Fe;Te++){var et=de.columns[Te];if(void 0!==et.index){if(!et.isMeasure){te||(te=[]),te.push({columnIndex:Te,metadataColumn:et});continue}var vt={source:et,values:[]},At=et.aggregates;At&&h.Cx.copyAggregates(At,vt),ce.values||(ce.values=(0,s.zB)()),ce.values.push(vt)}}if(te){ce.categories=[];for(var st,Re=0,q=te.length;Re<q;Re++){var pe=te[Re],Ve=De.children,ke={source:pe.metadataColumn,values:[]};if(Ve)for(var it=0,ft=Ve.length;it<ft;it++){var Pt=Ve[it];ke.values.push(Pt.values[pe.columnIndex].value),0===Re&&(this.writeCategoricalValues(de,Pt,ce.values),Pt.identity&&(st||(st=[]),st.push(Pt.identity))),Pt.isMerge&&(ce.lastMergeIndex=it)}st&&(ke.identity=st),De.childIdentityFields&&(ke.identityFields=De.childIdentityFields),ce.categories.push(ke)}}else this.writeCategoricalValues(de,De,ce.values);return re(),ce}canCategorize(){for(var De=this.context.selects,re=0,ce=De.length;re<ce;re++){var te=De[re];if(te&&te.Depth>0)return!1}return!0}createTree(de,De){var re=this.context;if(!(re.actionHistory&K.DynamicFormatFound||re.actionHistory&K.NullSelectFound))return{root:De};var ce=(0,c.IL)(De),te=de.columns,Te=De.values;if(Te){for(var Fe={},et=0;et<te.length;et++){var vt=te[et];void 0!==vt.index&&void 0!==Te[et]&&(Fe[vt.index]=Te[et])}ce.values=Fe}var At=De.children;return At&&(ce.children=this.removeFormatSourceFromTreeChildren(te,At)),{root:ce}}removeFormatSourceFromTreeChildren(de,De){for(var re=De.length,ce=_.map(De,st=>st),te=0;te<re;te++){var Te=(0,c.IL)(ce[te]);ce[te]=Te;for(var Fe={},et=0;et<de.length;et++){var vt=de[et];void 0!==vt.index&&void 0!==ce[te].values[et]&&(Fe[vt.index]=ce[te].values[et])}ce[te].values=Fe;var At=ce[te].children;At&&(ce[te].children=this.removeFormatSourceFromTreeChildren(de,At))}return ce}createTable(de,De){t.Y.assertValue(de,"metadata");for(var re,ce=this.context.selects,te=0,Te=ce.length;te<Te;te++)if(ce[te]){var et=ce[te].Depth;et>=0&&(re=Math.max(et,re||0))}if(re>0)return null;var At,q,vt=(0,g.ni)(`DSR.table(${this.context.perfId})`),st=[],Re=de.columns.length;if(re>=0){var pe=De.children;if(pe)for(var Ve=0,ke=pe.length;Ve<ke;Ve++){var it=pe[Ve];this.toTableRow(it,Re,st),it.isMerge&&(At=Ve),it.identity&&(q||(q=[]),q.push(it.identity))}}else t.Y.assert(()=>0===(0,H.eq)(de.columns),"groups.length=0"),this.toTableRow(De,Re,st);var ft=this.toTotals(De,Re),Pt={rows:st,columns:de.columns};return q&&(Pt.identity=q),De.childIdentityFields&&(Pt.identityFields=De.childIdentityFields),ft&&(Pt.totals=ft),At>=0&&(Pt.lastMergeIndex=At),vt(),Pt}toTableRow(de,De,re){for(var ce=[],te=0;te<De;te++){var Te=de.values[te];Te&&ce.push(Te.value)}re.push(ce)}toTotals(de,De){var re=[],ce=de.values,te=!1;if(ce)for(var Te=0;Te<De;Te++){var Fe=ce[Te],et=Fe?Fe.subtotal:null;te=te||null!=et,re.push(et)}return te?re:null}writeCategoricalValues(de,De,re){for(var ce=de.columns,te=0,Te=0,Fe=ce.length;Te<Fe;Te++){var et=ce[Te];if(et.isMeasure&&void 0!==et.index){var vt=De.values[Te];if(vt){var At=re[te++];At.values.push(vt.value),void 0!==vt.highlight&&(At.highlights||(At.highlights=[]),At.highlights.push(vt.highlight))}}}}createSingleValue(de,De){if(t.Y.assertValue(de,"metadata"),t.Y.assertValue(De,"root"),De.values){for(var te,re=de.columns,ce=null,Te=0,Fe=re.length;Te<Fe;Te++)if(re[Te].isMeasure&&null!=re[Te].index){if(ce)return null;ce=re[Te],te=Te}if(!ce)return null;var et=De.values[te];if(!et)return null;var vt=0===(0,H.eq)(de.columns)?et.value:et.subtotal;return void 0===vt?null:{column:ce,value:vt}}return null}}class qe{constructor(de){t.Y.assertValue(de,"context"),this._context=de,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}read(de,De,re){t.Y.assertValue(De,"dataShape");var ce=this._context,te={metadata:this.readMetadata(De.IsComplete)};return ce.includes(r.k.Categorical)&&(re.categorical=(0,g.Mt)(()=>{var Te=this.categorize(De,te.metadata,de);Te&&(te.categorical=Te)})),ce.includes(r.k.Matrix)&&(re.matrix=(0,g.Mt)(()=>{var Te=Me(this._context,de,De,te.metadata);Te&&(te.matrix=Te)})),te}readMetadata(de){for(var De=this,re={columns:[]},ce=this._context,te=ce.selects,Te=function(){var At=te[et];if(!At)return 0;if(At.Kind===S.Vt.Measure)return 0===At.Depth?De._primaryMeasureSelects.push(At):De._measureSelects.push(At),0;t.Y.assert(()=>At.Kind===S.Vt.Group,"Unexpected Select.Kind");var st=ce.createColumns(re.columns,et);At.SecondaryDepth>=0?(De._secondarySelects.push(At),De._secondaryDepth=Math.max(De._secondaryDepth||0,At.SecondaryDepth),De._seriesColumn=st):0===At.Depth&&De._categoriesMetadata.push({select:At,column:st})},et=0,vt=te.length;et<vt;et++)Te();return de||(re.segment={}),re}categorize(de,De,re){if(t.Y.assertValue(de,"dataShape"),t.Y.assertValue(De,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var te,Te,ce=(0,g.ni)(`DSR.categorical(${this._context.perfId}, secondary)`);re&&(re.Primary&&(te=re.Primary.Groupings),re.Secondary&&(Te=re.Secondary.Groupings));var Fe=h.Cx.getTopLevelSecondaryDynamicMember(de,re),et=this.readColumnsFromSecondary(Fe,De,Te,de.Calculations),vt=h.Cx.getTopLevelPrimaryDynamicMember(de,re),At=this.readCategoriesAndValues(vt,De,et,te),st={categories:At.categories,values:et};return void 0!==At.lastMergeIndex&&(st.lastMergeIndex=At.lastMergeIndex),ce(),st}readColumnsFromSecondary(de,De,re,ce){t.Y.assertValue(de,"secondaryMember"),t.Y.assertValue(De,"metadata");var te,Te=this._context;re&&(te=Te.readKeys(re,0));var Fe=[],et=Te.selects,vt=this._measureSelects.length,At=[],st=de.Instances,Re=st.length;if(Re)for(var q=0;q<Re;q++){var pe=st[q],Ve=pe.Calculations,ke=void 0;re&&(ke=Te.readIdentity(re,pe,0));for(var it=0,ft=this._secondarySelects.length;it<ft;it++){for(var Ut=h.Cx.findAndParseCalculation(Ve,this._secondarySelects[it].Value),Kt=[],Qt=0;Qt<vt;Qt++){var qt=this._measureSelects[Qt],nr=et.indexOf(qt),Ge=Te.createColumns(De.columns,nr,!0);void 0!==Ut&&(Ge.groupName=Ut);var Ct={source:Ge,values:[]};ke&&(Ct.identity=ke),this.addColumnAggregates(ce,qt,Ct),Fe.push(Ct),Kt.push(Ct)}At.push({identity:ke,name:Ut,values:Kt})}}else{for(var xt=0;xt<vt;xt++){var We=this._measureSelects[xt],nt=et.indexOf(We),kt={source:Te.createColumns(De.columns,nt),values:[]};this.addColumnAggregates(ce,We,kt),Fe.push(kt)}At.push({values:[...Fe||[]]})}for(var Ht=0,lr=this._primaryMeasureSelects.length;Ht<lr;Ht++){var _r=et.indexOf(this._primaryMeasureSelects[Ht]),Vr=Te.createColumns(De.columns,_r);Fe.push({source:Vr,values:[]})}te&&(Fe.identityFields=te);var Br=this._seriesColumn;return Br&&(Fe.source=Br),Fe.grouped=()=>At,Fe}addColumnAggregates(de,De,re){de&&(De.Max&&(re.max=h.Cx.findAndParseCalculation(de,De.Max[0])),De.Min&&(re.min=h.Cx.findAndParseCalculation(de,De.Min[0])))}readCategoriesAndValues(de,De,re,ce){t.Y.assertValue(de,"primaryMember"),t.Y.assertValue(re,"values");for(var et,te=[],Te=this._categoriesMetadata,Fe=Te.length,vt=this._context,At=0;At<Fe;At++){var st={source:Te[At].column,values:[]};te.push(st),ce&&(et||(et=[]),st.identity=et,st.identityFields=vt.readKeys(ce,0))}for(var pe,Re=de.Instances,q=this._primaryMeasureSelects,Ve=0,ke=Re.length;Ve<ke;Ve++){var it=Re[Ve];it.RestartFlag===C.mY.Merge&&(pe=Ve);for(var ft=0;ft<Fe;ft++)te[ft].values.push(h.Cx.findAndParseCalculation(it.Calculations,Te[ft].select.Value));et&&et.push(vt.readIdentity(ce,it,0));for(var Ut=it.Intersections,Kt=0,Qt=0,qt=Ut.length;Qt<qt;Qt++)for(var nr=Ut[Qt].Calculations,Ge=0,Ct=this._measureSelects.length;Ge<Ct;Ge++){var xt=this._measureSelects[Ge],We=h.Cx.findAndParseCalculation(nr,xt.Value);if(void 0!==We){var nt=re[Kt++];if(nt.values.push(We),xt.Highlight){nt.highlights||(nt.highlights=[]);var Wt=h.Cx.findAndParseCalculation(nr,xt.Highlight.Value);nt.highlights.push(Wt)}}}for(var kt=0,Ht=q.length;kt<Ht;kt++){var lr=q[kt],mr=it.Calculations,_r=h.Cx.findAndParseCalculation(mr,lr.Value),Vr=re[Kt++];if(Vr.values.push(_r),lr.Highlight){Vr.highlights||(Vr.highlights=[]);var br=h.Cx.findAndParseCalculation(mr,lr.Highlight.Value);Vr.highlights.push(br)}}}return{categories:te,lastMergeIndex:pe}}}class Ue{constructor(de,De,re,ce){t.Y.assertValue(de,"targets"),t.Y.assert(()=>null!=De.Select||null!=De.ScriptVisualBinding,"descriptor"),t.Y.assertAnyValue(re,"perfId"),t.Y.assertValue(ce,"aggregateReader"),this.targets=de,this.selects=De.Select,this.scriptVisualBinding=De.ScriptVisualBinding,this.perfId=re||"",this.stats={id:re||void 0,primary:0,secondary:0},this.aggregateReader=ce,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}createColumns(de,De,re){var te=this.columnMetadata(De,de.length,re);de.push(te);var Fe=this.tryCreatingDynamicFormatColumnMetadata(De,de.length,te);return Fe&&de.push(Fe),te}columnMetadata(de,De,re){t.Y.assertValue(de,"selectIndex"),t.Y.assertAnyValue(re,"suppressAggregates");var ce=this.selects[de];t.Y.assertValue(ce,"select");var te={displayName:"",index:de};if(ce.Format&&(te.format=ce.Format),te.type=h.Cx.describeDataType(ce.Type,ce.DataCategory),ce.Kind===S.Vt.Measure&&(te.isMeasure=!0),!re){var Te=this.aggregateReader.compute(ce,De);Te&&(te.aggregates=Te)}var Fe=ce.GroupKeys;if(Fe){var et=te.identityExprs=[];for(var vt of Fe){var At=this.convertKey(vt);et.push(At)}}return this.selectIndexToColumnIndexMap[de]=De,te}tryCreatingDynamicFormatColumnMetadata(de,De,re,ce){var te=this.selects[de];if(te.DynamicFormat&&te.DynamicFormat.Format){var Te={displayName:"",isMeasure:!0};re.formatSource={formatString:Te};var Fe={Kind:S.Vt.Measure,Subtotal:_.map(te.SubtotalDynamicFormat,vt=>vt&&vt.Format)};if(!ce){var et=this.aggregateReader.compute(Fe,De);et&&(Te.aggregates=et)}return this.actionHistory|=K.DynamicFormatFound,Te}}readIdentity(de,De,re){t.Y.assertValue(de,"axisGroupings"),t.Y.assertValue(re,"depth");for(var te,ce=this.readKeys(de,re),Te=de[re].Keys,Fe=0,et=Te.length;Fe<et;Fe++){var vt=Te[Fe],st=h.Cx.findAndParseCalculationToSQExpr(De.Calculations,vt.Calc||this.selects[vt.Select].Value),Re=(0,p.LC)(ce[Fe],st);te=(0,p.Uo)(te,Re)}return(0,m.UQ)(te)}readKeys(de,De){t.Y.assertValue(de,"axisGroupings"),t.Y.assertValue(De,"depth");var re=this.getAxisCache(de),ce=re.exprs[De];if(void 0===ce){ce=re.exprs[De]=[];for(var te=de[De].Keys,Te=0,Fe=te.length;Te<Fe;Te++)ce.push(this.convertKey(te[Te]))}return ce}includes(de){return t.Y.assertValue(de,"kind"),(0,D.Lt)(this.targets,de)}getAxisCache(de){t.Y.assertValue(de,"axisGroupings");for(var De=this.cacheItems,re=0,ce=De.length;re<ce;re++){var te=De[re];if(te.axisGroupings===de)return te}var Te={axisGroupings:de,exprs:[]};return De.push(Te),Te}convertKey(de){t.Y.assertValue(de,"key");var De=de.Source;return(0,p.sX)((0,p.EG)((0,S.l_)(De),De.Entity||De.EntitySet),De.Property)}}class _e{constructor(de,De){t.Y.assert(()=>null!=de.Select||null!=de.ScriptVisualBinding,"descriptor"),t.Y.assertValue(De,"dataShape"),this.dataShape=De}compute(de,De,re){t.Y.assertValue(De,"columnIndex");var ce=this.cache;if(ce){var te=ce[De];if(te)return te}if(de){ce||(this.cache=ce={});var Te=this.dataShape,Fe=at(de,Te.Calculations,Te.PrimaryHierarchy,0);return re&&!Fe&&(Fe={}),ce[De]=Fe,Fe}}updateAggregates(de,De,re,ce){t.Y.assertValue(de,"select"),t.Y.assertValue(De,"columnIndex"),t.Y.assertValue(re,"name"),t.Y.assertAnyValue(ce,"value");var te=this.compute(de,De,!0);if(te)return te[re]=ce,te}}function at($e,de,De,re){t.Y.assertValue($e,"select"),t.Y.assertAnyValue(de,"calculations"),t.Y.assertAnyValue(De,"allMembers"),t.Y.assertValue(re,"depth");var ce=!_.isEmpty(De)&&Se.getFirstInstanceCalcs(De[0]);if(!_.isEmpty(de)||!_.isEmpty(ce)){var te;if(!_.isEmpty(ce)&&$e.Subtotal){var Te=$e.Subtotal[re];if(Te){var Fe=h.Cx.findAndParseCalculation(ce,Te);void 0!==Fe&&(te||(te={}),te.subtotal=Fe)}}if(!_.isEmpty(de)){if($e.Max){var et=$e.Max[re];if(et){var vt=h.Cx.findAndParseCalculation(de,et);void 0!==vt&&(te||(te={}),te.max=vt)}}if($e.Min){var At=$e.Min[re];if(At){var st=h.Cx.findAndParseCalculation(de,At);void 0!==st&&(te||(te={}),te.min=st)}}if($e.Count){var Re=$e.Count[re];if(Re){var q=h.Cx.findAndParseCalculation(de,Re);void 0!==q&&(te||(te={}),te.count=q)}}var pe=$e.Aggregates;if(pe)for(var Ve of pe){var ke=Ve.Aggregate,it=Ve.Ids[re];if(it){var ft=h.Cx.findAndParseCalculation(de,it);if(void 0!==ft){var Pt=ke.Percentile;if(Pt){var Ut={k:Pt.K,value:ft};Pt.Exclusive&&(Ut.exclusive=Pt.Exclusive),te||(te={});var Kt=te.percentiles;Kt||(Kt=te.percentiles=[]),Kt.push(Ut)}else ke.Average?(te||(te={}),te.average=ft):ke.Median&&(te||(te={}),te.median=ft)}}}if(0===re){var Qt=$e.Value;if(Qt){var qt=h.Cx.findAndParseCalculation(de,Qt);void 0!==qt&&(te||(te={}),te.single=qt)}}}return te}}class ot{static create(de,De){for(var re=de.values,ce=De.selects,te=!1,Te={},Fe=0,et=0,vt=ce.length;Fe<vt;Fe++){var At=ce[Fe];if(At){if(At.Kind!==S.Vt.Measure){et++;continue}var Re=void 0,q=void 0;if(re&&(q=re[et])){if(Re=[],void 0===q.min&&Re.push(new h.Ro),void 0===q.max&&Re.push(new h.XU),0===Re.length){et++;continue}}else Re=[new h.Ro,new h.XU];Te[et]=Re,te=!0,et++,At.DynamicFormat&&At.DynamicFormat.Format&&et++}}if(te)return new ot(de,De.aggregateReader,De.selects,Te)}constructor(de,De,re,ce){t.Y.assertValue(de,"node"),t.Y.assertValue(De,"aggregateReader"),t.Y.assertValue(ce,"aggregators"),this.node=de,this.aggregateReader=De,this.selects=re,this.aggregators=ce}add(de,De){var re=this.aggregators[de];if(re)for(var ce=0,te=re.length;ce<te;ce++)re[ce].update(De)}complete(de){t.Y.assertValue(de,"columns");for(var De=this.aggregators,re=this.node,ce=this.aggregateReader,te=0,Te=0,Fe=this.selects.length;te<Fe;te++){var et=this.selects[te];if(et){var vt=De[Te];if(!vt){Te++;continue}for(var At=0,st=vt.length;At<st;At++){var Re=vt[At],q=Re.value();if(void 0!==q){var pe=Re.name;ne(re,Te)[pe]=q,de[Te].aggregates=ce.updateAggregates(et,Te,pe,q)}}Te++,et&&et.DynamicFormat&&et.DynamicFormat.Format&&Te++}}}}function mt($e){if(t.Y.assertAnyValue($e,"dsr"),$e.Version===C.tq.Version2)return!0}function yt($e){return t.Y.assertAnyValue($e,"dsr"),$e.MinorVersion}function Nt($e,de,De,re,ce,te){if(t.Y.assertValue(de,"arg"),!de)return null;var Te;de.data&&(de=de.data),te&&te.isRunning()&&(Te=te.createChildActivity({name:i.n.ParseQueryResult}));var Fe={},et=de,vt=(0,l.t)();_.isString(de)&&(Fe.dsrLength=de.length,Fe.jsonParse=(0,g.Mt)(()=>{et=JSON.parse(de)}),Te&&Te.setProperty("metrics",{jsonParse:Fe.jsonParse}));var At=function($e,de,De,re,ce,te,Te,Fe,et,vt,At,st,Re,q,pe){if(!De)return null;var Ve,ke;if(Fe||(Fe={}),$e&r.k.Single&&($e|=r.k.Table),mt(De)){if(ke="dsr2-read",performance&&performance.mark&&performance.mark(ke+"-start"),Fe.mode=d.UM.V2,1!==_.size(De.DS))return null;var it=(0,b.G)(de),ft=(0,z.Ju)(De,it);Ve=function($e,de,De,re,ce){var te={columns:$e.createDataViewMetadataColumns()},Te={dataView:{metadata:te}};if(function($e,de){$e.reset();var De=$e.dataShapes();t.Y.assert(()=>1===De.count(),"DSR has multiple DataShapes"),De.next(),De.complete()||(de.dataView.metadata.segment={},de.restartToken=De.restartTokens())}(de,Te),$e.includes(r.k.Matrix)){var Fe,et=(0,g.Mt)(()=>{Fe=function($e,de,De,re){return new V($e,de,De,re).run()}($e,de,te,ce),Fe&&(Te.dataView.matrix=Fe,de.lockCache())});Fe&&(De.matrix=et)}if($e.includes(r.k.Categorical)){var vt,At=(0,g.Mt)(()=>{vt=function($e,de,De,re){if(E.isCompatible($e))return(new E).run($e,de,De)}($e,de,te),vt&&(Te.dataView.categorical=vt,de.lockCache())});vt&&(De.categorical=At)}if($e.includes(r.k.Table)){var st,Re=(0,g.Mt)(()=>{st=function($e,de,De){return new I($e,de,De).run()}($e,de,te),st&&(Te.dataView.table=st,de.lockCache())});st&&(De.table=Re)}if($e.includes(r.k.Tree)){var q,pe=(0,g.Mt)(()=>{q=function($e,de){return new R($e,de).run()}($e,de),q&&(Te.dataView.tree=q,de.lockCache())});q&&(De.tree=pe)}if($e.includes(r.k.Single)){var Ve,ke=(0,g.Mt)(()=>{Ve=function($e,de){if(P.isCompatible($e))return new P($e,de).run()}($e,de),Ve&&(Te.dataView.single=Ve)});Ve&&(De.single=ke)}return Te}(new T($e,de,it,q,ft.dataShapes()),ft,Fe,0,q),ft.reset();var Ut=ft.dataShapes(),Kt=Ut.next();if(t.Y.assert(()=>Kt,"There must be a DataShape"),Ut.limitsExceeded()){Ve.warnings||(Ve.warnings=[]);var Qt=new W.E(de,function($e){for(var de=$e.limits(),De=de.count(),re=new Array(De),ce=0;ce<De;ce++)de.next(),re[ce]={Id:de.id()};return re}(Ut),function($e){for(var de=new Array($e.calcCount()),De=0;$e.nextCalc();De++)de[De]={Id:$e.calcId(),Value:$e.calcValue()};return de}(Ut));Ve.warnings.push(Qt),Q(Ve.dataView,Qt.limits)}(function($e,de){var De=$e.messages();if(De)for(;De.next();)F.xU[De.code()]&&De.severity()===(0,F.D$)(F.aX.Warning)&&(de.warnings||(de.warnings=[]),de.warnings.push(De.dsrMessage()))})(Ut,Ve),Ve.dataView&&!_.isEmpty(te)&&((0,n.Eg)(Ve.dataView,te),Ve.disallowPersisting=!0)}else ke="dsr1-read",performance&&performance.mark&&performance.mark(ke+"-start"),Fe.mode=d.UM.V1Old,Ve=function($e,de,De,re,ce,te,Te){if(t.Y.assertValue($e,"targets"),t.Y.assertAnyValue(de,"descriptor"),t.Y.assertValue(De,"dsr"),t.Y.assertAnyValue(te,"clientSideFilters"),!function($e){return $e&&1===_.size($e.DataShapes)}(De))return null;var Fe=De.DataShapes[0];if(Fe["odata.error"]){var vt=new k.zx(Fe["odata.error"]);return ce&&(vt.requestId=ce),{error:vt}}var st=new Ue($e,de,Te,new _e(de,Fe)),Re=function($e){if(t.Y.assertValue($e,"context"),null!=$e.scriptVisualBinding)return new fe($e);for(var de=0,De=0,re=$e.selects,ce=0,te=re.length;ce<te;ce++){var Te=re[ce];Te&&(null!=Te.Depth&&(de=Math.max(de,Te.Depth+1)),null!=Te.SecondaryDepth&&(De=Math.max(De,Te.SecondaryDepth+1)))}return De>=1&&1===de?new qe($e):new Se($e)}(st).read(de.Expressions,Fe,re),q={dataView:Re};if(Fe.RestartTokens&&(q.restartToken=Fe.RestartTokens),Fe.DataLimitsExceeded&&Fe.DataLimitsExceeded.length>0){q.warnings||(q.warnings=[]);var pe=new W.E(de,Fe.DataLimitsExceeded,Fe.Calculations);q.warnings.push(pe),Q(Re,pe.limits)}if(Fe.DataShapeMessages&&Fe.DataShapeMessages.length>0)for(var Ve of Fe.DataShapeMessages)F.xU[Ve.Code]&&Ve.Severity===(0,F.D$)(F.aX.Warning)&&(q.warnings||(q.warnings=[]),q.warnings.push(new F.lE(Ve)));return q.dataView&&!_.isEmpty(te)&&((0,n.Eg)(q.dataView,te),q.disallowPersisting=!0),t.Y.log("DSR.stats",st.stats),q}($e,de,De,Fe,ce,te,Te);return Ve&&(Ve.timestamp=At,Ve.fromCache=st,Re&&!Ve.fromCache&&(Ve.performanceActivities=L(Re.Events,pe&&pe.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(ke+"-end"),performance.measure&&performance.measure(ke,ke+"-start",ke+"-end")),Fe.total=(0,l.t)()-vt,et&&et.logEvent(d.IO,{jsonparse:Fe.jsonParse,categorical:Fe.categorical,table:Fe.table,tree:Fe.tree,matrix:Fe.matrix,single:Fe.single,script:Fe.script,total:Fe.total,mode:Fe.mode,targetDataView:$e,dsrLength:Fe.dsrLength,id:Te}),Ve}($e,et.descriptor,et.dsr,0,et.requestId,et.clientSideFilters,ce,Fe,re,vt,et.timestamp,et.fromCache,et.metrics,De.scopedAggregates,te);if(De?.queryContext){var st=et.queryContext;st&&(At.queryContext=st)}return Te&&Te.resolve(),At}function he($e){if(t.Y.assertAnyValue($e,"dataViewSource"),!$e)return!1;var de=$e.data;return _.isString(de)&&(de=(0,a.p)(de)),!_.isEmpty(de)&&function($e){if($e)if(mt($e)){for(var de=(0,z.Ju)($e,void 0).dataShapes();de.next();)if(de.hasRestartTokens())return!0}else{var De=$e.DataShapes;for(var re of De)if(!_.isEmpty(re.RestartTokens))return!0}return!1}(de.dsr)}},113577:function(me,j,e){e.d(j,{B8:function(){return d},GH:function(){return h},Tv:function(){return i},_L:function(){return n},fn:function(){return s},gT:function(){return t},pc:function(){return l},v7:function(){return r}});var r=function(o){return o[o.Status=0]="Status",o[o.Goal=1]="Goal",o[o.Value=2]="Value",o[o.Trend=3]="Trend",o}({}),i=function(o){return o[o.Primary=0]="Primary",o[o.Secondary=1]="Secondary",o}({}),t=function(o){return o[o.Unknown=-1]="Unknown",o[o.Top=0]="Top",o[o.Bottom=1]="Bottom",o[o.Sample=2]="Sample",o[o.BinnedLineSample=3]="BinnedLineSample",o[o.OverlappingPointsSample=4]="OverlappingPointsSample",o}({}),l=function(o){return o[o.None=0]="None",o[o.GroupMember=1]="GroupMember",o[o.SubTotalMember=2]="SubTotalMember",o}({}),n=function(o){return o[o.Value=1]="Value",o[o.Subtotal=2]="Subtotal",o[o.Highlight=3]="Highlight",o[o.DynamicFormat=4]="DynamicFormat",o[o.SubtotalDynamicFormat=5]="SubtotalDynamicFormat",o[o.HighlightDynamicFormat=6]="HighlightDynamicFormat",o[o.Aggregate=7]="Aggregate",o[o.AggregateHighlight=8]="AggregateHighlight",o[o.HighlightSubtotal=9]="HighlightSubtotal",o[o.SynchronizationIndex=10]="SynchronizationIndex",o}({}),d=function(o){return o[o.Subtotal=1]="Subtotal",o[o.Max=2]="Max",o[o.Min=3]="Min",o[o.Single=4]="Single",o[o.Count=5]="Count",o[o.Average=6]="Average",o[o.Percentile=7]="Percentile",o[o.Median=8]="Median",o}({}),s=function(o){return o[o.Version0=0]="Version0",o[o.Version1=1]="Version1",o}({}),h=function(o){return o[o.Preserve=0]="Preserve",o[o.Flexible=1]="Flexible",o}({})},189087:function(me,j,e){e.d(j,{PI:function(){return d},bN:function(){return o}});var r=e(785463),i=e(753771),a=e(123198),t=e(360834),l=e(337536);class d{constructor(m,p,y,S){this.addVisualIdToQueryDataAsHttpBodyId=S,this.preferredMaxBatchesConfigured=m>0,this.maxBatches=this.preferredMaxBatchesConfigured?m:4,this.queryExecuteCallback=p,this.pending=[],this.timeoutService=y,this.useHttp2QueryDataEnabled=i.C.browserSupportsHttp2()}enqueue(m){if(!function(v,m){var p=m.options;if(p.executionType===t.mG.CancelQuery){r.Y.assertValue(p.queryId,"queryId");var y=_.findIndex(v,S=>S.options.queryId===p.queryId);if(y>-1)return r.Y.assert(()=>v[y].execution.rejected(),"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,m))return this.pending.push(m),this.currentBatchDeferred||(this.currentBatchDeferred=$.Deferred(),this.timeoutService.setTimeout(-1,!1).promise.then(()=>{var y=this.createBatches();this.clearPending(),this.queryExecuteCallback(y),this.currentBatchDeferred.resolve(),this.currentBatchDeferred=void 0})),this.currentBatchDeferred.promise()}clearPending(){this.pending=[]}setMaxBatches(m){this.maxBatches=m,this.preferredMaxBatchesConfigured=m>0}createBatches(){var m=[],p=this.sortQueriesByDataSource(),y=this.maxBatches,S=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(p,c=>_.some(c.dataSources,f=>f.isLimitedParallelQueryModel))||(y=20,S=!0)),p.length>=y)for(var u=0,E=p.length;u<E;++u)m.push(this.createBatchFromDataSourceGroup(p[u]));else m=this.splitDataSourcesIntoBatches(p,y);return S&&_.forEach(m,c=>c.useSynchronous=!0),m}sortQueriesByDataSource(){var m;m=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,S=>(S=>S?.applicationContext?.Sources?.[0]?.VisualId)(S.options)):{"":this.pending};var y=[];return _.forEach(m,S=>{var C=[];_.forEach(S,u=>{if(!(0,l.$6)(v=u)||!v.execution.rejected()){var E=this.findDataSourceGroup(u.options.dataSources,C,u.options.cacheResponseOnServer);E?E.queuedExecutions.push(u):C.push({dataSources:u.options.dataSources,queuedExecutions:[u],cacheResponseOnServer:u.options.cacheResponseOnServer,cacheOptions:u.options.cacheOptions})}var v}),y.push(...C)}),y}findDataSourceGroup(m,p,y){for(var S=0,C=p.length;S<C;++S){var u=p[S];if((0,a.aI)(m,u.dataSources)&&u.cacheResponseOnServer===y)return u}return null}createBatchFromDataSourceGroup(m){for(var p=[],y=[],S=[],C=m.queuedExecutions,u=[],E=[],c=function(){var b=C[f],T=C[f].options,M=C[f].enqueueActivity;(0,l.$6)(b)?(p.push(T),S.push(b.deferred),M&&u.push(M),C[f].queryActivity&&E.push(C[f].queryActivity)):(r.Y.assert(()=>T.executionType===t.mG.CancelQuery,"Only CancelQuery executions are not rejectable."),y.push(T))},f=0,D=C.length;f<D;++f)c();return{dataSources:m.dataSources,queryOptions:p,cancelQueryOptions:y,promises:S,cacheOptions:m.cacheOptions,cacheResponseOnServer:m.cacheResponseOnServer,enqueueActivities:u,queryActivities:E}}splitDataSourcesIntoBatches(m,p){for(var y=[],S=0,C=m.length;S<C;++S)y.push(this.createBatchFromDataSourceGroup(m[S]));return this.splitBatches(y,p)}splitBatches(m,p){for(var y=m.slice();y.length<p;){for(var S=void 0,C=0,u=y.length;C<u;++C){var E=y[C];E.queryOptions.length>1&&(!S||S.queryOptions.length<E.queryOptions.length)&&(S=E)}if(!S)return y;y.push(this.splitBatch(S)),S=null}return y}splitBatch(m){var p=m.queryOptions.length,y=m.queryOptions.splice(p/2),S=m.promises.splice(p/2),C=m.enqueueActivities.splice(p/2),u=m.queryActivities.splice(p/2),E=m.cancelQueryOptions.length,c=[];return E&&(c=m.cancelQueryOptions.splice(E/2)),{dataSources:m.dataSources,queryOptions:y,promises:S,cacheOptions:m.cacheOptions,cacheResponseOnServer:m.cacheResponseOnServer,cancelQueryOptions:c,enqueueActivities:C,queryActivities:u}}}function o(v,m,p,y,S){return{queryOptions:_.map(v,C=>({command:C,dataSources:m})),cancelQueryOptions:[],cacheOptions:p,dataSources:m,cacheResponseOnServer:y,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:S}}},337536:function(me,j,e){e.d(j,{$6:function(){return d},Fx:function(){return t},Q8:function(){return l},Zs:function(){return a}});var r=e(360834),i=e(785463);function a(s,h,o){s.useMwcTokenAuthorization=!0,s.authorizationHeaderOverride=h,s.headers["x-ms-root-activity-id"]=s.headers.RequestId,s.headers["x-ms-parent-activity-id"]=s.headers.RequestId,s.headers["x-ms-workload-resource-moniker"]=o}function t(s,h,o){var v=_.map(s.queryOptions,C=>{var u=C.command,c={Query:u,CacheKey:C.cacheResponseOnServer?JSON.stringify(u):void 0,CacheOptions:s.cacheOptions,QueryId:C.queryId};return C.applicationContext&&(c.ApplicationContext=C.applicationContext),C.requestPriority===r.QK.Low&&(c.RequestPriority=r.QK.Low),c}),m=_.map(s.cancelQueryOptions,C=>({QueryId:C.queryId})),p=function(s){return i.Y.assertNonEmpty(s,"dataSources"),i.Y.assert(()=>1===s.length,"dataSources.length === 1"),_.head(s)}(s.dataSources),y={version:g,queries:v,cancelQueries:m,modelId:p.modelId,userPreferredLocale:h.getUserPreferredLocale()};if(o&&o.impersonating){var S=o.getImpersonationState();S.modelId===y.modelId&&_.extend(y,S)}return y}function l(s){return _.some(s.queries,h=>_.some(h.Query.Commands,o=>o.SemanticQueryDataShapeCommand?.Extension))}var g="1.0.0";function d(s){return null!=s&&void 0!==s.deferred&&void 0!==s.execution}},364515:function(me,j,e){e.d(j,{CF:function(){return r},Vt:function(){return l},l_:function(){return i}});var r=void 0;function i(g){return g.Schema||r}var l=function(g){return g[g.None=0]="None",g[g.Group=1]="Group",g[g.Measure=2]="Measure",g}({})},626009:function(me,j,e){e.d(j,{kN:function(){return s},px:function(){return i}});var r=e(785463);function i(h,o){!function(h,o,v){if(r.Y.assertValue(o,"visitor"),h){o.visitDescriptor(h,v);var m=h.Select;if(m&&m.length)for(var p=0,y=m.length;p<y;p++)o.visitSelect(m[p],v);var S=h.Expressions;S&&function(h,o,v){r.Y.assertValue(h,"expressions"),o.visitExpressions(h,v),r.Y.assertValue(h.Primary,"Primary"),l(h.Primary,o,v);var m=h.Secondary;m&&l(m,o,v)}(S,o,v)}}(h,o,void 0)}function l(h,o,v){r.Y.assertValue(h,"axis"),o.visitDataShapeExpressionsAxis(h,v);var m=h.Groupings;r.Y.assertValue(m,"groupings");for(var p=0,y=m.length;p<y;p++)g(m[p],o,v)}function g(h,o,v){r.Y.assertValue(h,"grouping"),o.visitDataShapeExpressionsAxisGrouping(h,v);var m=h.Keys;r.Y.assertValue(m,"keys");for(var p=0,y=m.length;p<y;p++)n(m[p],o,v)}function n(h,o,v){r.Y.assertValue(h,"groupingKey"),o.visitDataShapeExpressionsAxisGroupingKey(h,v),r.Y.assertValue(h.Source,"Source"),o.visitConceptualPropertyReference(h.Source,v)}class d{visitDescriptor(o,v){}visitSelect(o,v){}visitExpressions(o,v){}visitDataShapeExpressionsAxis(o,v){}visitDataShapeExpressionsAxisGrouping(o,v){}visitDataShapeExpressionsAxisGroupingKey(o,v){}visitConceptualPropertyReference(o,v){}}class s extends d{}},407865:function(me,j,e){e.d(j,{n:function(){return t}});var r=e(935236),i=e(785463),a=e(364515);class t{constructor(g,n){i.Y.assertValue(g,"metadata"),i.Y.assertValue(g.Select,"metadata.Select"),i.Y.assertValue(n,"binding"),n.ScriptVisualBinding||(i.Y.assertValue(n.Select,"binding.Select"),i.Y.assert(()=>g.Select.length<=n.Select.length,"Metadata should have the same number or fewer select items as Binding.")),this._metadata=g,this._binding=n}getSelectRestatements(){return this.getRestatements()}getGroupRestatements(){return this.getRestatements(a.Vt.Group)}getMeasureRestatements(){return this.getRestatements(a.Vt.Measure)}getFilterRestatements(){var g=this._metadata.Filters;if(_.isEmpty(g))return null;for(var n=[],d=0,s=g.length;d<s;d++){var h=g[d];n.push(h?h.Restatement:"")}return(0,r.qR)(n)}getRestatements(g){var n=this._metadata,d=this._binding,s=[];if(!d.ScriptVisualBinding)for(var h=0,o=n.Select.length;h<o;h++){var v=d.Select[h];v&&(void 0===g||v.Kind===g)&&s.push(n.Select[h].Restatement||"")}return(0,r.qR)(s)}}},971437:function(me,j,e){e.d(j,{OK:function(){return Se},X:function(){return Nt},an:function(){return de}});var r=e(662785),i=e(978450),a=e(935236),t=e(785463),l=e(147293),g=e(632934),n=e(753519),d=e(850396),s=e(160800),h=e(309746),o=e(702087),v=e(947988),m=e(899846),p=e(892066),y=e(364472),S=e(446024),C=e(177328),u=e(169513);function E(Re){t.Y.assertValue(Re,"mapping"),Re.categorical&&function(Re){if(t.Y.assertValue(Re,"categorical"),!Re.dataReductionAlgorithm){Re.categories&&T(Re.categories);var q=Re.values;q&&q.group&&function(Re){t.Y.assertValue(Re,"mapping"),t.Y.assertValue(Re.group,"mapping.group"),Re.group.dataReductionAlgorithm||(Re.group.dataReductionAlgorithm={top:{}})}(q)}}(Re.categorical),Re.table&&function(Re){t.Y.assertValue(Re,"table"),Re.rows&&T(Re.rows)}(Re.table),Re.matrix&&function(Re){t.Y.assertValue(Re,"matrix"),Re.rows&&T(Re.rows),Re.columns&&T(Re.columns)}(Re.matrix)}function T(Re){t.Y.assertValue(Re,"mapping"),!Re.dataReductionAlgorithm&&!function(Re){var q=Re.select;return!!q&&_.some(q,pe=>!!pe.dataReductionAlgorithm)}(Re)&&(Re.dataReductionAlgorithm={top:{}})}function w(Re){t.Y.assertValue(Re,"mappings");for(var q=Re.length,pe=0;pe<q;pe++)E(Re[pe])}var P=function(Re){return Re[Re.Version0=0]="Version0",Re}({}),N=e(15721),I=e(997519);function O(Re,q){if(t.Y.assertValue(Re,"expansionState"),t.Y.assert(()=>q>=0,"lastActiveLevelIndex >= 0"),!_.isEmpty(Re.levels)&&0!==q){t.Y.assertValue(Re.root,"expansionState.root");var pe=W(Re.root,-1,q,Re.levels);if(pe){for(var Ve=new Array(pe.depth),ke=new N.l0(null),it=0;it<pe.depth;it++)Ve[it]=R(Re.levels[it],ke);var ft=[];return I.F3.serializeFrom(ke,ft),{From:ft,Levels:Ve,Instances:pe.instance}}}}function R(Re,q){return t.Y.assertValue(Re,"level"),{Expressions:_.map(Re.identityKeys,ke=>{var it=y.O8.rewrite(ke,q,q);return I.F3.serializeExprWithRef(it)}),Default:Re.isCollapsed?s.Wy.Collapsed:s.Wy.Expanded}}function W(Re,q,pe,Ve){t.Y.assertValue(Re,"node");var ke=-1===q,it=q+1===pe,ft=!ke&&!!Ve[q].isCollapsed;if(Re.isToggled||!(ft||it||_.isEmpty(Re.children))){var Kt,Pt=!ke&&!ft&&Re.isToggled,Qt=0;if(!it&&!_.isEmpty(Re.children)&&!Pt)for(var qt of(Kt=[],Re.children)){t.Y.assertNonEmpty(qt.identityValues,"child.identityValues");var nr=W(qt,q+1,pe,Ve);nr&&(Qt=Math.max(Qt,nr.depth+1),Kt.push(nr.instance))}if(Re.isToggled||!_.isEmpty(Kt)){var Ge={};return _.isEmpty(Re.identityValues)||(Ge.Values=_.map(Re.identityValues,Ct=>I.F3.serializeExpr(Ct))),_.isEmpty(Kt)||(Ge.Children=Kt),{depth:Qt,instance:Ge}}}}function F(Re){if(Re&&Re.root){var q=U(Re.root),pe=B(q),Ve=new N.l0(null);t.Y.assert(()=>pe<=_.size(Re.levels),"Missing levels in window expansion state");var ke=_.take(Re.levels,pe),it=_.map(ke,Pt=>function(Re,q){t.Y.assertValue(Re,"Level must be defined");var pe=_.map(Re.identityKeys,Ve=>{var ke=y.O8.rewrite(Ve,q,q);return I.F3.serializeExprWithRef(ke)});return{Expressions:pe,Default:s.Wy.Collapsed}}(Pt,Ve)),ft=[];return I.F3.serializeFrom(Ve,ft),{From:ft,Levels:it,WindowInstances:q}}}function U(Re){return t.Y.assertValue(Re,"Window expansion instance is not defined"),{Values:_.map(Re.identityValues,q=>I.F3.serializeExpr(q)),WindowExpansionInstanceWindowValue:_.map(Re.windowValues,q=>({Values:_.map(q.restartValues,pe=>I.F3.serializeExpr(pe)),WindowStartKind:q.windowKind})),Children:_.map(Re.children,q=>U(q))}}function B(Re){return!Re||_.isEmpty(Re.Children)?0:Math.max(..._.map(Re.Children,q=>B(q)))+1}var A=e(460169),L=e(868257);function Z(Re,q){t.Y.assertValue(Re,"item"),t.Y.assertValue(q,"newExpr"),Re.query=Re.query.addSelect(q);var pe=Re.query.select(),Ve=(0,L.s)(pe,q),ke=pe[Ve],it=Re.additionalProjections;return it||(it=Re.additionalProjections=[]),it.push({queryName:ke.name,selector:null}),{index:Ve,expr:q,queryName:ke.name}}class K{constructor(){this.queryReferencesByRole={}}static findActive(q){var pe=new K;return(0,h.o4)(q,pe),pe.queryReferencesByRole}visitRole(q){var pe=q.items;_.isEmpty(q.activeItems)||(pe=_.filter(pe,Ve=>_.includes(q.activeItems,Ve.queryName))),this.queryReferencesByRole[q.role]=_.map(pe,Ve=>Ve.queryName)}}var ee=e(862907),Q=e(123198);function J(Re,q,pe){var Ve=[],ke=Re.select(),it=ke.withName(q)?.expr;t.Y.assertValue(it,"Attempting to duplicate a non-existing Select");var ft=Re.addSelect(it),Pt=ft.select();t.Y.assert(()=>Pt.length===ke.length+1,"Expected a Select to have ben added");var Ut=Pt.length-1,Kt=Pt[Ut];t.Y.assert(()=>!ke.withName(Kt.name),"this code assumes that the newly added select is always the last element in updatedSelectClause");var Qt=q,qt=Kt.name;return Ve.push({selectExprAdded:{selectIndex:Ut,namedSQExpr:Kt}}),void 0!==pe&&Ve.push({projectionQueryRefChanged:{role:pe,oldQueryRef:Qt,newInternalQueryRef:qt}}),{rewriteRecords:Ve,newQuery:ft,newQueryName:qt}}function oe(Re,q,pe,Ve){if(Re.queryName!==q.queryName)return!1;var ke=(0,u.PO)(Re.selector.data,pe,Ve),it=(0,u.PO)(q.selector.data,pe,Ve),ft=_.xor(ke,it);return!_.isEmpty(ft)}function Ye(Re,q,pe,Ve){var ke=pe.queryName,it=Re[ke];it||(it=Re[ke]={categoryAndValueGroup:[],categoryOnly:[]});var ft={roleName:q,roleItem:pe};Ve?it.categoryAndValueGroup.push(ft):it.categoryOnly.push(ft)}function Le(Re,q){t.Y.assertValue(Re,"roles"),t.Y.assertValue(q,"role");var pe={for:{in:q}};for(var Ve of Re)if((0,Q.aI)(Ve,pe))return;Re.push(pe)}var lt=e(118307);class ut{conflictsWith(q){if(this.getQueryName()!==q.getQueryName())return!1;var pe=_.xor(this.getScopeRefs(),q.getScopeRefs());return!_.isEmpty(pe)}}class St extends ut{constructor(q,pe,Ve){super(),this.additionalProjection=q;var it=q.aggregates&&_.isEmpty(q.selector?.data)?[(0,lt.vt)()]:q.selector?.data;this.scopeRefs=(0,u.PO)(it,pe,Ve)}getQueryName(){return this.additionalProjection.queryName}getScopeRefs(){return this.scopeRefs}updateQueryName(q){this.additionalProjection.queryName=q}getRoleName(){}}class ze extends ut{constructor(q,pe,Ve){super(),this.roleItem=q,this.roleName=pe,this.scopeRefs=Ve}getQueryName(){return this.roleItem.queryName}getScopeRefs(){return this.scopeRefs}getRoleName(){return this.roleName}updateQueryName(q){this.roleItem.queryName=q}}function Ae(Re,q){var pe=q.queryRewrites||[],ke=J(q.query,Re.getQueryName(),Re.getRoleName?.());return Re.updateQueryName(ke.newQueryName),pe.push(...ke.rewriteRecords),{query:ke.newQuery,queryRewrites:pe,mappings:q.mappings,additionalProjections:q.additionalProjections}}class Ie{constructor(q){this.expectedContext=q,this.scopeRefs=[],this.queryRefsByRole={}}visitRole(q,pe){if(pe===this.expectedContext){var Ve=(0,o.$q)(q),ke=this.queryRefsByRole[q.role]=[];for(var it of Ve)this.scopeRefs.push(it.queryName),ke.push(it.queryName)}}}class ve{constructor(q,pe){this.scopeRefs=q,this.expectedContext=pe,this.rolesMeasures=[]}visitRole(q,pe){if(pe===this.expectedContext){var Ve=(0,o.$q)(q);for(var ke of Ve)this.rolesMeasures.push(new ze(ke,q.role,this.scopeRefs))}}}var xe=e(215),Ee=e(511334);class Ne{constructor(q){this.selects=q,this.referencedItems=new Set}withRestartToken(q){return this}withPrimaryWindowExpansion(q){return this}withDataVolume(q){return this}withIncludeEmptyGroups(q){return this}withHighlightFilter(q){return this}withGroupBy(q){return this}withPrimaryGrouping(q,pe,Ve,ke,it,ft){return q=this.filterItems(q,pe,ft),_.isEmpty(q)||(this.rows=this.rows??[],it&&(Pt=_.last(this.rows)),Pt||(Pt=this.createAxisGroup(),this.rows.push(Pt)),this.updateAxisGroup(Pt,q)),this;var Pt}withPrimaryGroupingNestedByRole(q,pe,Ve,ke,it,ft,Pt){return this.isRoleSupportHierachryGrouping(Pt)?this.withPrimaryGroupingNested(q,pe,Ve,ke,ft):this.withPrimaryGrouping(q,pe,Ve,ke,it,ft)}isRoleSupportHierachryGrouping(q){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(q)}withPrimaryExpansion(q){return this}withPrimarySynchronization(q){return this}withPrimaryGroupingNested(q,pe,Ve,ke,it){return q=this.filterItems(q,pe,it),_.isEmpty(q)||_.each(q,ft=>this.withPrimaryGrouping([ft],pe,Ve,ke,!1,it)),this}withSecondaryGrouping(q,pe,Ve,ke,it){if(q=this.filterItems(q,pe,it),_.isEmpty(q))return this;this.columns=this.columns??[];var ft=this.createAxisGroup();return this.columns.push(ft),this.updateAxisGroup(ft,q),this}withSecondaryGroupingNestedByRole(q,pe,Ve,ke,it,ft){return this.isRoleSupportHierachryGrouping(ft)?this.withSecondaryGroupingNested(q,pe,Ve,ke,it):this.withSecondaryGrouping(q,pe,Ve,ke,it)}withSecondaryExpansion(q){return this}withSecondaryGroupingNested(q,pe,Ve,ke,it){return q=this.filterItems(q,pe,it),_.isEmpty(q)||_.each(q,ft=>this.withSecondaryGrouping([ft],pe,Ve,ke,it)),this}withCurrentInnermostGrouping(q,pe,Ve){return this}withCurrentInnermostPrimaryGrouping(q,pe,Ve,ke){return this}withPrimaryDataReduction(q){return this}withScopedDataReduction(q,pe){return this}withSecondaryDataReduction(q){return this}withIntersectionDataReduction(q){return this}withTopLevelAggregates(q){return this}withAdditionalProjections(q){return this}withRolesWithHierarchicalGroupingSupport(q){return t.Y.assertAnyValue(q,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(q)||(this.rolesWithHierarchicalGroupingSupport=q),this}toQueryShape(q){var pe=[],Ve=this.createAxis("rows",this.rows);Ve&&pe.push(Ve);var ke=this.createAxis("columns",this.columns);return ke&&pe.push(ke),_.isEmpty(pe)?void 0:pe}createAxis(q,pe){if(this.removeEmptyAxisGroups(pe),!_.isEmpty(pe))return{Name:q,Groups:pe}}removeEmptyAxisGroups(q){_.isEmpty(q)||_.remove(q,pe=>_.isEmpty(pe.Keys))}createAxisGroup(){return{Keys:[],Subtotal:!0}}updateAxisGroup(q,pe){for(var Ve of pe)if(!this.referencedItems.has(Ve.queryName)){var ke=(0,a.q7)(this.selects,Ve.queryName);(0,Ee.t)(ke.expr)||(this.referencedItems.add(Ve.queryName),q.Keys.push(I.F3.serializeExprWithRef(ke.expr)))}}filterItems(q,pe,Ve){if(t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"activeProjection"),_.isEmpty(pe)||_.isEmpty(q))return q;var ke=q.findIndex(ft=>ft.queryName===pe[0]);return q.slice(ke)||(Ve?[]:q)}}var ye=e(994107),Xe=e(658577),fe=e(269393);function Se(Re={}){return new _e(I.F3,Re)}var qe=function(Re){return Re[Re.Default=3]="Default",Re[Re.High=6]="High",Re}({});class _e{constructor(q,pe){t.Y.assertValue(q,"serializer"),this.serializer=q,this.featureSwitches=pe}execute(q){var pe=this.executeForQueryOnlyImpl(q);if(!pe||!pe.dataShapeBinding&&pe.mergedQueries&&pe.mergedQueries.mapping&&pe.mergedQueries.mapping.updateType===l.FU.MetadataOnly)return{command:void 0};var Ve=pe.mergedQueries,ke=pe.dataShapeBinding,it=pe.query;this.adjustIntersectionDataReduction(ke,Ve.mapping,it,q.highVolumeOverride),_.isEmpty(it.groupBy())||this.applyDataReductionForGroupByQuery(ke,it);var ft=pe.mergedQueries&&pe.mergedQueries.mapping&&pe.mergedQueries.mapping.updateType===l.FU.Deferred&&_.isEmpty(q.additionalProjections);return{command:this.createDataQuery(it,pe.queryExtensionSchema,q.dataSourceVariables,ke,pe.compiledDataViewMappings,q.dataWindow,q.executionMetricsKinds,q.anchorTime,pe.visualShape),splits:Ve.splits,queryRewrites:pe.queryRewrites,deferred:ft,isPivoted:ke?.isPivoted,resolvedQuery:it}}executeForQueryOnly(q){var pe=this.executeForQueryOnlyImpl(q);return pe&&pe.query}applySubquerySortOrder(q,pe){var Ve=q.from(),ke=_.pickBy(Ve.getSubquerySources(),(xt,We)=>null!=xt.subquery.top()&&xt.inheritsSorting);if(_.isEmpty(ke))return q;var it=function(Re,q){var pe=[],Ve=Re.select();return q?.Primary?.Groupings.forEach(ke=>{ke.Projections.forEach(it=>{var ft=Ve[it].expr;(0,Ee.t)(ft)||pe.push(ft)})}),q?.Secondary?.Groupings.forEach(ke=>{ke.Projections.forEach(it=>{var ft=Ve[it].expr;(0,Ee.t)(ft)||pe.push(ft)})}),pe}(q,pe),ft=!1;for(var Pt in ke){var Ut=ke[Pt].subquery,Kt=Ut.select(),Qt=Ut.orderBy()||[],qt=function(xt){var We=_.findIndex(Kt,Wt=>(0,i.aI)(Wt.expr,xt,!1,!0));if(We>-1&&!_.some(Qt,Wt=>(0,i.aI)(Wt.expr,xt,!1,!0))){var nt=Kt.splice(We,1)[0];Qt.push({expr:nt.expr,direction:Xe.U.Ascending}),ft=!0}};for(var nr of it)qt(nr);var Ge=function(xt){!(0,Ee.t)(xt.expr)&&!_.some(Qt,We=>(0,i.aI)(We.expr,xt.expr,!1,!0))&&(Qt.push({expr:xt.expr,direction:Xe.U.Ascending}),ft=!0)};for(var Ct of Kt)Ge(Ct);Ut=Ut.createModified({orderBy:Qt}),ft&&(Ve.remove(Pt),Ve.ensureSource(new N.m$(Ut,!0),Pt))}return ft?q.createModified({from:Ve}):q}produceIdentities(q,pe){var Ve=new xe.D;return q.accept(Ve,pe)}executeForQueryOnlyImpl(q){t.Y.assertValue(q,"options");var Kt,pe=(0,ye.Mm)(q.mappings),{query:Ve,mappings:ke,queryRewrites:it,additionalProjections:ft}=this.prepareQuery(q.query,pe,q.additionalProjections),Pt=de(Ve),Ut=(0,ee.SQ)(pe,Pt);w(q.mappings),q.highVolumeOverride&&(Kt=qe.High),Ut.mapping.categorical&&function(Re,q){var Ve=new class{constructor(it){this.indicesByName=it}visitRole(it,ft){if(!_.isEmpty(it.items)){var Pt;for(var Ut of it.items)Ut.scalarKeyInfo&&null!=Ut.scalarKeyInfo.scalarKeyQueryName&&(t.Y.assert(()=>null==Pt,"Only a single role item with a scalar key is supported."),Pt=Ut.scalarKeyInfo.scalarKeyQueryName);Pt&&(t.Y.assert(()=>null==this.primaryScalarKey,"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[Pt])}}}(q);(0,h.o4)(Re,Ve),null!=Ve.primaryScalarKey&&(0,h.o4)(Re,{visitRole:()=>{},visitReduction:ke=>{ke.binnedLineSample&&(ke.binnedLineSample.primaryScalarKey=Ve.primaryScalarKey)}})}(Ut.mapping,Pt);var qt,Ct,Qt=function(Re,q,pe,Ve,ke,it,ft,Pt,Ut,Kt,Qt,qt,nr,Ge,Ct,xt){var Wt,We=it;if(it)for(var nt of Fe([pe],Ve))We=We.rewrite(nt);return it&&(Wt=[Re.serializeFilter(We)]),function(Re,q,pe,Ve,ke,it,ft,Pt,Ut,Kt,Qt,qt,nr,Ge,Ct,xt){return Nt(()=>new Te(Re,pe,Qt,Ge,Ct),Re,q,pe,Ve,ke,it,ft,Pt,Ut,Kt,qt,nr,xt)}(q,pe,Ve,ke,Wt,ft,Pt,Ut,Kt,Re,Qt,qt,nr,Ge,Ct,xt)}(this.serializer,Pt,Ut.mapping,Ve.select(),ft,q.highlightFilter,q.restartToken,Ve.groupBy(),Kt,q.expansionStates,q.keepProjectionOrder,q.noDefaultProjections,q.windowExpansion,this.featureSwitches,q.projectVisualCalculationContext,q.projectVisualCalculationContext?q.rolesWithHierarchicalGroupingSupport:[]);if((0,v.GK)(Qt,ke,Ut.mapping,Ve.select(),qe.Default,Kt),this.queryHasMeasureFilter(Ve)&&Qt&&(this.processTargetsForMeasureFilters(Ve,ke,Qt),Ve=this.adjustQueryMeasureFilters(Ve,Qt)),this.featureSwitches?.visualTopN&&Qt&&(Ve=this.applySubquerySortOrder(Ve,Qt)),Ve.hasVisualCalculations()){var nr,Ge=q.visualShapeMappings;_.isEmpty(Ge)?nr=Ut.mapping:(w(Ge),nr=Ge[0]),qt=function(Re,q,pe,Ve,ke,it,ft,Pt,Ut,Kt,Qt,qt){return Nt(()=>new Ne(Ve),q,pe,Ve,ke,[],it,ft,Pt,Ut,Re,Kt,Qt,qt)}(this.serializer,Pt,nr,Ve.select(),ft,q.restartToken,Ve.groupBy(),Kt,q.expansionStates,q.noDefaultProjections,q.windowExpansion,q.rolesWithHierarchicalGroupingSupport)}if(q.queryExtensionLookup){var xt=q.queryExtensionLookup(Ve,it);Ve=xt.query,Ct=xt.extensions,it=xt.queryRewrites}return{query:Ve,queryExtensionSchema:Ct,mergedQueries:Ut,dataShapeBinding:Qt,compiledDataViewMappings:ke,queryRewrites:it,visualShape:qt}}hasAmbiguousEqualitySemantics(q){return t.Y.assertValue(q,"value"),(0,i.aI)(q,(0,S.zM)(!1))||(0,i.aI)(q,(0,S.nd)(0))}prepareQuery(q,pe,Ve){for(var ke of(t.Y.assertValue(q,"query"),t.Y.assertValue(pe,"mappings"),t.Y.assertAnyValue(Ve,"additionalProjections"),Fe(pe,q.select())))q=q.rewrite(ke);var it=this.rewriteQuery(q,pe,Ve);return it.query=function(Re){t.Y.assertValue(Re,"query");for(var pe,q=Re.select(),Ve=q.length-1;Ve>=0;Ve--)(0,r.VO)(q[Ve].expr)&&(q.splice(Ve,1),pe=!0);return pe?Re.select(q):Re}(it.query),it}rewriteQuery(q,pe,Ve){t.Y.assertValue(pe,"mappings");var ke={query:q,mappings:pe,additionalProjections:Ve};return function(Re,q=!1){t.Y.assertValue(Re,"rewrittenQuery");var pe=[],Ve=function(Re){if(t.Y.assertNonEmpty(Re,"mappings"),!(Re.length>1)&&Re[0].matrix){var q=Re[0].matrix,pe=new Ie(h.Oc.MatrixRowsGroup);(0,h.ms)(q.rows,pe);var Ve=new Ie(h.Oc.MatrixColumnsGroup);(0,h._y)(q.columns,Ve);var ke=[...pe.scopeRefs,...Ve.scopeRefs],it=new ve(ke,h.Oc.MatrixIntersection);(0,h.fI)(q.values,it);var ft=new ve(pe.scopeRefs,h.Oc.MatrixRowsScopedValue);return(0,h.ms)(q.rows,ft),{groupingRefsByRole:{...pe.queryRefsByRole,...Ve.queryRefsByRole},roleItemsInfo:[...it.rolesMeasures,...ft.rolesMeasures]}}t.Y.assert(()=>Re.length<=1||null==Re[0].matrix&&null==Re[1].matrix,"Not expected having two mappings with matrix")}(Re.mappings);if(!Ve)return Re;if(pe.push(...Ve.roleItemsInfo),q&&!_.isEmpty(Re.additionalProjections)){var ke=Re.query.select();for(var it of Re.additionalProjections)pe.push(new St(it,ke,Ve.groupingRefsByRole))}return _.isEmpty(pe)||(Re=function(Re,q){for(var pe=0;pe<Re.length;pe++)for(var Ve=Re[pe],ke=0;ke<pe;ke++)Ve.conflictsWith(Re[ke])&&(q=Ae(Ve,q));return q}(pe,Re)),Re}(ke=function(Re){t.Y.assertValue(Re,"item");var q=Re.mappings;if(1!==q.length)return Re;var pe=function(Re){var q,pe;if(t.Y.assertValue(Re,"mapping"),(0,h.o4)(Re,{visitRole:Ve=>{if(Ve.aggregates&&!_.isEmpty(Ve.items)){for(var ke of(q||(q={},pe=[]),Ve.items))q[ke.queryName]=Ve.aggregates;pe.push(Ve)}}}),q)return{queryNames:q,roles:pe}}(q[0]);if(!pe)return Re;var Ve=Re.queryRewrites;return Ve||(Ve=Re.queryRewrites=[]),function(Re,q,pe){t.Y.assertValue(Re,"item"),t.Y.assertValue(q,"aggregatedQueryNames"),t.Y.assertValue(pe,"queryRewrites");var Ve=Re.query.select();for(var ke in q){var it=Ve.withName(ke).expr,ft=q[ke],Pt={};ft.min&&(Pt.min=Z(Re,(0,S.QD)(it,A.Sn.Min))),ft.max&&(Pt.max=Z(Re,(0,S.QD)(it,A.Sn.Max))),pe.push({aggregatesAdded:{originalQueryRef:ke,aggregates:Pt}})}}(Re,pe.queryNames,Ve),function(Re){t.Y.assertValue(Re,"aggregatedColumns");var q=Re.queryNames;for(var pe of Re.roles)t.Y.assertValue(pe.items,"role.items"),_.remove(pe.items,Ve=>q[Ve.queryName])}(pe),Re}(ke=function(Re){t.Y.assertValue(Re,"item");var q=Re.mappings.length;if(1===q)return Re;if(q>1){var pe=function(Re){var{query:q,mappings:pe,additionalProjections:Ve,queryRewrites:ke}=Re;t.Y.assertValue(q,"query"),t.Y.assertNonEmpty(pe,"mappings");var qt,it=[],ft=[],Pt={by:null,select:[]},Ut={categories:{select:it},values:{group:Pt,select:ft}},Kt={},Qt=function(){if(!nr.categorical)return{v:void 0};var Ht=nr.categorical;(function(Re,q,pe,Ve,ke){var ft,it=Re.values;it&&((0,h.Ax)(Re.categories,{visitRole:Pt=>{Le(pe,Pt)}}),(0,h.Cn)(it,{visitRole:Pt=>{if(ke.by=Pt,Pt.items)for(var Ut of Pt.items)Ye(q,Pt.role,Ut,!0),ft=!0}}),(0,h.AS)(it,{visitRole:(Pt,Ut)=>{if(Le(Ut===h.Oc.CategoricalValueGroup?ke.select:Ve,Pt),Pt.items)for(var Qt of Pt.items)Ye(q,Pt.role,Qt,ft)}}))})(Ht,Kt,it,ft,Pt),t.Y.assert(()=>null==Ut.dataVolume||null==Ht.dataVolume||Ht.dataVolume===Ut.dataVolume,"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=Ht.dataVolume&&null==Ut.dataVolume&&(Ut.dataVolume=Ht.dataVolume)};for(var nr of pe)if(qt=Qt())return qt.v;var Ge=ke?[...ke]:[],Ct=q;for(var xt in Kt){var We=Kt[xt];if(!_.isEmpty(We.categoryAndValueGroup)&&!_.isEmpty(We.categoryOnly))for(var nt of We.categoryAndValueGroup){var Wt=nt.roleItem,kt=J(Ct,Wt.queryName,nt.roleName);Wt.queryName=kt.newQueryName,Ct=kt.newQuery,Ge.push(...kt.rewriteRecords)}}return{query:Ct,mappings:[{metadata:pe[0].metadata,categorical:Ut}],queryRewrites:_.isEmpty(Ge)?void 0:Ge,additionalProjections:Ve}}(Re);return pe=function(Re){if(_.isEmpty(Re.additionalProjections))return Re;var{query:q,mappings:pe,queryRewrites:Ve}=Re,ke=[...Re.additionalProjections];t.Y.assertValue(q,"query"),t.Y.assert(()=>1===pe.length,"Mappings should have been merged already");for(var it=K.findActive(pe[0]),ft=Ve?[...Ve]:[],Pt=q,Ut=0;Ut<ke.length-1;Ut++)for(var Kt=ke[Ut],Qt=Ut+1;Qt<ke.length;Qt++){var qt=ke[Qt];if(oe(Kt,qt,Pt.select(),it)){var nr=J(Pt,qt.queryName);Pt=nr.newQuery,ft.push(...nr.rewriteRecords??[]),ke[Qt]={...qt,queryName:nr.newQueryName}}}return{query:Pt,mappings:pe,queryRewrites:_.isEmpty(ft)?void 0:ft,additionalProjections:ke}}(pe),pe}}(ke)),!0)}adjustIntersectionDataReduction(q,pe,Ve,ke){if(pe.categorical){var it=pe.categorical;if(it.dataReductionAlgorithm)if(q.DataReduction&&q.DataReduction.Intersection)t.Y.assert(()=>!(q.Secondary&&!q.Primary),"Should never have only a Secondary axis"),q.Primary&&!q.Secondary&&(t.Y.assert(()=>!q.DataReduction.Primary,"Should not have both Primary and Intersection data reduction"),q.DataReduction.Primary=q.DataReduction.Intersection,q.DataReduction.Intersection=void 0);else{var ft=q.Primary&&(!q.DataReduction||!q.DataReduction.Primary),Pt=q.Secondary&&(!q.DataReduction||!q.DataReduction.Secondary);if(!ft&&!Pt)return;q.DataReduction||(q.DataReduction={DataVolume:it.dataVolume||(ke?qe.High:qe.Default)}),ft&&(q.DataReduction.Primary=(0,n.R)(it.dataReductionAlgorithm,Ve.select())),Pt&&(q.DataReduction.Secondary=(0,n.R)(it.dataReductionAlgorithm,Ve.select()))}}}applyDataReductionForGroupByQuery(q,pe){q.DataReduction={},q.DataReduction.Primary=(0,n.R)({top:{count:1e3}},pe.select())}generateScriptVisualCommand(q,pe){t.Y.assertValue(q,"dataViewMappings");var Ve=(0,m.aM)(q);if(Ve||(Ve=(0,m.jG)(q)),!Ve)return null;var ke={Version:P.Version0,Script:Ve.source,RenderingEngine:Ve.provider,ScriptOutputType:Ve.outputType};pe&&pe.height&&pe.width&&(ke.ViewportWidthPx=pe.width,ke.ViewportHeightPx=pe.height);var it=(0,m.Ol)(q);return it&&it.script.scriptInput&&(ke.ScriptInput=it.script.scriptInput),{ScriptVisualCommand:ke}}queryHasMeasureFilter(q){for(var pe of q.where())if((0,p.m)(pe.condition)===d.l0.Measure)return!0;return!1}removeExprFromTargetExprs(q,pe){for(var Ve of q){var ke=Ve.target;if(null!=ke)for(var it=0,ft=ke.length;it<ft;it++)(0,i.aI)(ke[it],pe)&&ke.splice(it,1)}}processTargetsForMeasureFilters(q,pe,Ve){t.Y.assertValue(q,"query"),t.Y.assertValue(pe,"mappings"),t.Y.assertAnyValue(Ve,"binding");var ke=this.getProjectedSelectIndexMap(Ve);for(var it of pe)(0,h.o4)(it,{visitRole:ft=>{var Pt=ft.activeItems,Ut=ft.items;if(Pt&&!_.isEmpty(Pt)&&!_.isEmpty(Ut))for(var Kt=_.findIndex(Ut,xt=>_.includes(Pt,xt.queryName)),Qt=0;Qt<Kt;Qt++){var qt=Ut[Qt].queryName,nr=q.select(),Ge=(0,a.i4)(nr,qt);if(!ke[Ge]){var Ct=nr[Ge].expr;this.removeExprFromTargetExprs(q.where(),Ct)}}}})}adjustQueryMeasureFilters(q,pe){var Ve=q.where(),ke=[],it=[];if(_.isEmpty(pe.Primary.Groupings)||_.isEmpty(pe.Primary.Groupings[0].Projections)||!_.isEmpty(pe.Secondary))return q;var ft=q.select(),Pt=pe.Primary.Groupings[0].Projections;for(var Ut of Pt)if(!(0,Ee.t)(ft[Ut].expr))return q;for(var Qt of Ve)_.isEmpty(Qt.target)?it.push(Qt):ke.push(Qt);if(_.isEmpty(ke))return q;var qt=q.createModified({where:it}),nr=y.b0.fromMeasureFilters(q,ke,pe);return qt.addSemanticFilter(nr)}getProjectedSelectIndexMap(q){return t.Y.assertAnyValue(q,"binding"),q?_.chain([q.Primary,q.Secondary]).filter(Ve=>Ve&&!_.isEmpty(Ve.Groupings)).map(Ve=>Ve.Groupings).flatten().filter(Ve=>!_.isEmpty(Ve.Projections)).map(Ve=>Ve.Projections).flatten().reduce((Ve,ke)=>(Ve[ke]=!0,Ve),{}).value():{}}createDataQuery(q,pe,Ve,ke,it,ft,Pt,Ut,Kt){var Qt={Query:this.serializer.serializeQuery(q),Binding:ke,AnchorTime:Ut};pe&&(Qt.Extension=pe),Ve&&(Qt.DataSourceVariables=Ve),Pt&&(Qt.ExecutionMetricsKind=Pt);var nr={Commands:[{SemanticQueryDataShapeCommand:Qt}]},Ge=this.generateScriptVisualCommand(it,ft);return Ge&&nr.Commands.push(Ge),_.isEmpty(Kt)||(Qt.Query.VisualShape=Kt),nr}}function Nt(Re,q,pe,Ve,ke,it,ft,Pt,Ut,Kt,Qt,qt,nr,Ge){t.Y.assertValue(q,"indicesByName"),t.Y.assertValue(pe,"mapping"),t.Y.assertValue(Ve,"querySelects"),t.Y.assertAnyValue(ke,"additionalProjections"),t.Y.assertAnyValue(it,"highlightFilter"),t.Y.assertAnyValue(ft,"restartToken"),t.Y.assertAnyValue(Pt,"queryGroupBy"),t.Y.assertAnyValue(Ut,"highVolumeOverride"),t.Y.assertAnyValue(Kt,"expansionStates"),t.Y.assertAnyValue(Qt,"serializer");var Ct=Re();if(Ct.withRestartToken(ft).withHighlightFilter(it).withAdditionalProjections(ke).withRolesWithHierarchicalGroupingSupport(Ge),pe.table?Ct=Ct.withGroupBy(Pt):t.Y.assert(()=>_.isEmpty(Pt),"GroupBy should only be used with table mapping."),pe.updateType!==l.FU.MetadataOnly)if(pe.categorical)!function(Re,q,pe){t.Y.assertValue(Re,"builder"),t.Y.assertValue(q,"mapping"),(0,h.Ax)(q.categories,{visitRole:Ve=>{Re.withPrimaryGroupingNestedByRole(Ve.items,Ve.activeItems,Ve.showAll,Ve.subtotalType,!0,pe,Ve.role)},visitReduction:Ve=>{Re.withPrimaryDataReduction(Ve)}}),(0,h.Cn)(q.values,{visitRole:Ve=>{Re.withSecondaryGroupingNestedByRole(Ve.items,Ve.activeItems,Ve.showAll,Ve.subtotalType,pe,Ve.role)},visitReduction:Ve=>{Re.withSecondaryDataReduction(Ve)}}),(0,h.AS)(q.values,{visitRole:(Ve,ke)=>{Re.withCurrentInnermostPrimaryGrouping(Ve.items,Ve.showAll,Ve.subtotalType,ke!==h.Oc.CategoricalValueGroup)}}),Re.withIntersectionDataReduction(q.dataReductionAlgorithm).withDataVolume(q.dataVolume).withIncludeEmptyGroups(q.includeEmptyGroups)}(Ct,pe.categorical,qt);else if(pe.table)!function(Re,q){t.Y.assertValue(Re,"builder"),t.Y.assertValue(q,"mapping"),(0,h.UB)(q,{visitRole:pe=>{Re.withPrimaryGroupingNestedByRole(pe.items,pe.activeItems,pe.showAll,pe.subtotalType,!0,!1,pe.role)},visitReduction:pe=>{Re.withPrimaryDataReduction(pe)}}),Re.withDataVolume(q.dataVolume)}(Ct,pe.table);else if(pe.matrix)!function(Re,q,pe,Ve,ke){t.Y.assertValue(Re,"builder"),t.Y.assertValue(q,"mapping");var it=new tt(Re,Ve);(0,h.ms)(q.rows,it),t.Y.assert(()=>!pe||pe.length<=1,"Expected max one expansion state");var ft=function(Re,q,pe,Ve,ke){if(null!=Re&&(t.Y.assertValue(Re,"items"),t.Y.assertAnyValue(q,"activeProjections"),!(_.isEmpty(Ve)||_.isEmpty(q)&&ke))){var it=_.find(Ve,Ut=>_.isEqual(Ut.roles,pe));if(t.Y.assertValue(it,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(it.levels))return Re=_.uniqBy(Re,Ut=>Ut.queryName),q=_.uniq(q),O(it,(_.isEmpty(q)?Re.length:q.length)-1)}}(it.primaryRoleItems,it.primaryActiveRoleItems,it.primaryRoles,pe,Ve);ft&&Re.withPrimaryExpansion(ft),ke&&Re.withPrimaryWindowExpansion(ke),(0,h._y)(q.columns,{visitRole:Pt=>{Re.withSecondaryGroupingNested(Pt.items,Pt.activeItems,Pt.showAll,Pt.subtotalType,Ve)},visitReduction:Pt=>{Re.withSecondaryDataReduction(Pt)}}),(0,h.fI)(q.values,{visitRole:Pt=>{Re.withCurrentInnermostGrouping(Pt.items,Pt.showAll,Pt.subtotalType)}}),Re.withDataVolume(q.dataVolume),Re.withIncludeEmptyGroups(q.includeEmptyGroups)}(Ct,pe.matrix,Kt,qt,nr);else if(pe.tree)!function(Re,q,pe){t.Y.assertValue(Re,"builder"),t.Y.assertValue(q,"mapping"),(0,h.XB)(q.nodes,{visitRole:Ve=>{Re.withPrimaryGroupingNested(Ve.items,Ve.activeItems,Ve.showAll,Ve.subtotalType,pe)},visitReduction:Ve=>{Re.withPrimaryDataReduction(Ve)}}),(0,h.gO)(q.values,{visitRole:Ve=>{Re.withCurrentInnermostPrimaryGrouping(Ve.items,Ve.showAll,Ve.subtotalType)}}),Re.withDataVolume(q.dataVolume)}(Ct,pe.tree,qt);else if(pe.scriptResult)return Nt(Re,q,pe.scriptResult.dataInput,Ve,ke);return Ut&&Ct.withDataVolume(Ut),Ct.withTopLevelAggregates(pe.scopedAggregates),Ct.toQueryShape(pe)}class tt{constructor(q,pe){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=q,this.noDefaultProjections=pe}visitRole(q,pe){if(pe===h.Oc.MatrixRowsScopedValue)this.builder.withCurrentInnermostPrimaryGrouping(q.items,q.showAll,q.subtotalType,!0);else if(this.inComposite){var Ve=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGroupingNestedByRole(q.items,q.activeItems,q.showAll,q.subtotalType,Ve,this.noDefaultProjections,q.role)}else this.builder.withPrimaryGroupingNested(q.items,q.activeItems,q.showAll,q.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(q.role),this.primaryRoleItems.push(...q.items||[]),_.isEmpty(q.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),this.primaryActiveRoleItems.push(...q.activeItems||[]))}visitReduction(q){this.builder.withPrimaryDataReduction(q)}enterComposite(q){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount}exitComposite(q){if(this.inComposite=!1,this.startedCompositeNest=!1,q.dataReductionAlgorithm||q.synchronized){var pe=this.compositeGroupingIndexStart,Ve=this.builder.primaryGroupingCount;if(pe<Ve){var ke=_.range(pe,Ve);q.synchronized&&this.builder.withPrimarySynchronization({Groupings:ke}),q.dataReductionAlgorithm&&this.builder.withScopedDataReduction(q.dataReductionAlgorithm,{Primary:ke})}}}}function de(Re){t.Y.assertValue(Re,"query");for(var q={},pe=Re.select(),Ve=Re.groupBy(),ke=0,it=pe.length;ke<it;ke++)q[pe[ke].name]=ke;for(var ft=0,Pt=Ve.length;ft<Pt;ft++)q[Ve[ft].name]=ft;return q}function De(Re,q){if(t.Y.assertValue(Re,"projectionIdx"),t.Y.assertAnyValue(q,"axis"),q)for(var pe of q.Groupings)if(_.includes(pe.Projections,Re))return!0}function ce(Re){t.Y.assertValue(Re,"percentile");var q={K:Re.k};return Re.exclusive&&(q.Exclusive=Re.exclusive),{Percentile:q}}class Te{get primaryGroupingCount(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0}constructor(q,pe,Ve,ke,it){this.projectVisualCalculationContext=it,t.Y.assertValue(q,"indicesByName"),t.Y.assertValue(pe,"querySelects"),this.indicesByName=q,this.querySelects=pe,this.reduction={DataVolume:qe.Default},this.joinPredicateBehaviors=[],this.insertProjection=Ve?a.nO:a.h8,this.featureSwitches=ke||{},this.hiddenProjections=[]}withRestartToken(q){return t.Y.assertAnyValue(q,"restartToken"),this.restartToken=q,this}withPrimaryWindowExpansion(q){return t.Y.assertAnyValue(q,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=F(q)),this}withDataVolume(q){return t.Y.assertAnyValue(q,"dataVolume"),null==q||(this.reduction.DataVolume=q),this}withIncludeEmptyGroups(q){return t.Y.assertAnyValue(q,"value"),this.includeEmptyGroups=q,this}withHighlightFilter(q){return t.Y.assertAnyValue(q,"value"),this.highlightFilter=q,this}withGroupBy(q){return t.Y.assertAnyValue(q,"queryGroupBy"),_.isEmpty(q)||(this.groupByNames=_.map(q,pe=>pe.name)),this}withPrimaryGrouping(q,pe,Ve,ke,it,ft){if(t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"activeProjection"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),t.Y.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),q=this.filterItems(q,pe,ft),_.isEmpty(q))return this;var Pt;this.primary?it?Pt=_.last(this.primary.Groupings):this.primary.Groupings.push(Pt={Projections:[]}):this.primary={Groupings:[Pt={Projections:[]}]},this.updateGrouping(Pt,q,Ve,ke);var Ut=this.getAggregatesForRoleItems(q);return this.applyTopLevelAggregates(Ut),this}withPrimaryExpansion(q){return t.Y.assertAnyValue(q,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=q,this}withPrimarySynchronization(q){return t.Y.assertValue(q,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(q),this}ensurePrimaryAxis(){this.primary||(this.primary={Groupings:[]})}ensureSecondaryAxis(){this.secondary||(this.secondary={Groupings:[]})}withPrimaryGroupingNested(q,pe,Ve,ke,it){return t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"activeProjection"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),t.Y.assert(()=>!this.secondary,"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),q=this.filterItems(q,pe,it),_.isEmpty(q)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,q,Ve,ke))}withSecondaryGrouping(q,pe,Ve,ke,it){if(t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"activeProjection"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),q=this.filterItems(q,pe,it),_.isEmpty(q))return this;var ft;if(this.primary){var Pt=_.last(this.primary.Groupings);this.containsAll(Pt,q)?ft=Pt:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(ft={Projections:[]}))}else this.primary={Groupings:[ft={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(ft,q,Ve,ke);var Ut=this.getAggregatesForRoleItems(q);return this.applyTopLevelAggregates(Ut),this}withSecondaryExpansion(q){return t.Y.assertAnyValue(q,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=q,this}withSecondaryGroupingNested(q,pe,Ve,ke,it){return t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),q=this.filterItems(q,pe,it),_.isEmpty(q)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),ft=this.secondary.Groupings):(this.primary={Groupings:ft=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(ft,q,Ve,ke));var ft}withCurrentInnermostGrouping(q,pe,Ve){return t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"showAll"),t.Y.assertAnyValue(Ve,"roleSubtotalType"),q=this.filterItems(q,null,!1),_.isEmpty(q)||(this.secondary&&(ke=_.last(this.secondary.Groupings)),this.addValuesToGrouping(q,pe,Ve,ke)),this;var ke}withCurrentInnermostPrimaryGrouping(q,pe,Ve,ke){if(t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"showAll"),t.Y.assertAnyValue(Ve,"roleSubtotalType"),q=this.filterItems(q,null,!1),_.isEmpty(q))return this;if(this.addValuesToGrouping(q,pe,Ve),ke)for(var it of(this.primaryOnlyProjections=this.primaryOnlyProjections||[],q))this.primaryOnlyProjections.push(this.indicesByName[it.queryName]);return this}addValuesToGrouping(q,pe,Ve,ke){ke||(ke=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(ke,q,pe,Ve);var it=this.getAggregatesForRoleItems(q);this.applyTopLevelAggregates(it)}ensureInnermostPrimaryGrouping(){var q;return this.primary?q=_.last(this.primary.Groupings):this.primary={Groupings:[q={Projections:[]}]},q}withPrimaryDataReduction(q){return q&&this.primary?(this.reduction.Primary=(0,n.R)(q,this.querySelects),this):this}withScopedDataReduction(q,pe){return q?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:pe,Algorithm:(0,n.R)(q,this.querySelects)}),this):this}withSecondaryDataReduction(q){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(q);if(!q||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var Ve=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(q,{Secondary:Ve}),this}return this.reduction.Secondary=(0,n.R)(q,this.querySelects),this}withIntersectionDataReduction(q){return q?this.reduction.Primary||this.reduction.Secondary?(t.Y.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):q.binnedLineSample?(this.reduction.Intersection=(0,n.R)(q,this.querySelects),this):this:this}withTopLevelAggregates(q){if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(q))return this;var Ve=this.convertDataViewMappingAggregate(q,it=>this.toAggregateScope(it,this.primary.Groupings,0)),ke=this.getDataShapeBindingAggregates(Ve);return this.applyTopLevelAggregates(ke),this}toAggregateScope(q,pe,Ve){t.Y.assertValue(q,"scopeAsQueryNames"),t.Y.assertValue(pe,"primaryGroupings");var ke=0,it=this.querySelects;for(var ft of pe){if(!_.isEmpty(ft.ShowItemsWithNoData))return;var Kt,Pt=ft.Projections,Ut=function(){var qt=it[Qt];if((0,Ee.t)(qt.expr))return 0;var nr=qt.name;return q.some(Ge=>Ge===nr)?void 0:ke>Ve?{v:{PrimaryDepth:ke}}:{v:void 0}};for(var Qt of Pt)if(0!==(Kt=Ut())&&Kt)return Kt.v;ke++}if(ke>Ve)return{PrimaryDepth:ke}}updateScopeAggregatesForGroupings(q,pe){if(this.featureSwitches.scopedAggregates&&pe&&q){var ke=0;for(var it of pe){var ft=it.aggregates&&it.aggregates.filter(o.C5);if(!_.isEmpty(ft)){var Pt=this.convertDataViewMappingAggregate(ft,Kt=>this.toAggregateScope(Kt,q,ke+1)),Ut=this.getDataShapeBindingAggregates(Pt);_.isEmpty(Ut)||(q[ke].Aggregates=Ut),ke++}}}}getDataShapeBindingAggregates(...q){var pe={};for(var Ve of q)_.forEach(Ve,(ke,it)=>{var ft=pe[it]=pe[it]||[],Pt=function(Kt){ft.some(Qt=>_.isEqual(Qt,Kt))||ft.push(Kt)};for(var Ut of ke)Pt(Ut)});return _.map(pe,(ke,it)=>({Select:+it,Aggregations:ke}))}updateGrouping(q,pe,Ve,ke){t.Y.assertValue(q,"grouping"),t.Y.assertNonEmpty(pe,"items"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),this.addProjections(q.Projections,pe);var it=this.indicesByName;if(Ve)for(var ft of(q.ShowItemsWithNoData||(q.ShowItemsWithNoData=[]),pe))this.insertProjection(q.ShowItemsWithNoData,it[ft.queryName]);for(var Pt=pe[0].subtotalType,Ut=1,Kt=pe.length;Ut<Kt;Ut++)if(pe[Ut].subtotalType!==Pt){Pt=void 0;break}var Qt=function(Re){switch(Re){case g.y.Before:return s.LV.Before;case g.y.After:return s.LV.After;case g.y.None:return}}(Pt??ke);null!=Qt?q.Subtotal=Qt:this.projectVisualCalculationContext&&(q.Subtotal=s.LV.After);var qt=this.groupByNames;qt&&(q.GroupBy=_.map(qt,nr=>it[nr]))}withNested(q,pe,Ve,ke){for(var it of(t.Y.assertValue(q,"groupings"),t.Y.assertValue(pe,"items"),t.Y.assertAnyValue(Ve,"showAll"),t.Y.assertAnyValue(ke,"roleSubtotalType"),pe)){var ft={Projections:[]};this.updateGrouping(ft,[it],Ve,ke),q.push(ft)}this.updateScopeAggregatesForGroupings(q,pe);var Pt=this.getAggregatesForRoleItems(pe);return this.applyTopLevelAggregates(Pt),this}filterItems(q,pe,Ve){if(t.Y.assertAnyValue(q,"items"),t.Y.assertAnyValue(pe,"activeProjection"),!_.isEmpty(q)){q=_.uniqBy(q,qt=>qt.queryName);var it,ke=this.indicesByName;pe&&(it=[]);for(var ft=0,Pt=q.length;ft<Pt;ft++){var Ut=q[ft],Kt=null,Qt=pe&&!_.isEmpty(pe)&&!_.includes(pe,Ut.queryName);null==ke[Ut.queryName]?Kt=ft-1:(Qt||this.isReferenced(Ut))&&(Kt=ft),null==Kt?it&&it.push(Ut):it||(it=Kt<0?[]:(0,a.y1)(q,0,Kt))}return it||(Ve?[]:q)}}isReferenced(q){t.Y.assertValue(q,"item");var pe=this.indicesByName[q.queryName];return De(pe,this.primary)||De(pe,this.secondary)||_.includes(this.projections,pe)}containsAll(q,pe){t.Y.assertValue(q,"grouping"),t.Y.assertValue(pe,"items");var Ve=q.Projections,ke=this.indicesByName;for(var it of pe)if(!_.includes(Ve,ke[it.queryName]))return!1;return!0}addProjections(q,pe){t.Y.assertValue(q,"projections"),t.Y.assertValue(pe,"items");var Ve=this.indicesByName;for(var ke of pe){var it=Ve[ke.queryName];ke.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:ke.queryName}}),this.insertProjection(q,it),this.addJoinPredicateBehavior(it,ke.joinPredicate)}}addJoinPredicateBehavior(q,pe){this.joinPredicateBehaviors[q]?void 0===pe&&!this.joinPredicateBehaviors[q].isFinalized&&(this.joinPredicateBehaviors[q].behavior=pe):this.joinPredicateBehaviors[q]={behavior:pe}}withRolesWithHierarchicalGroupingSupport(q){return t.Y.assertAnyValue(q,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(q)||(this.rolesWithHierarchicalGroupingSupport=q),this}withPrimaryGroupingNestedByRole(q,pe,Ve,ke,it,ft,Pt){return this.isRoleSupportHierachryGrouping(Pt)?this.withPrimaryGroupingNested(q,pe,Ve,ke,ft):this.withPrimaryGrouping(q,pe,Ve,ke,it,ft)}isRoleSupportHierachryGrouping(q){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(q)}withSecondaryGroupingNestedByRole(q,pe,Ve,ke,it,ft){var Pt=_.filter(q,Ut=>!Ut.hidden);return this.isRoleSupportHierachryGrouping(ft)?this.withSecondaryGroupingNested(Pt,pe,Ve,ke,it):this.withSecondaryGrouping(Pt,pe,Ve,ke,it)}withAdditionalProjections(q){return t.Y.assertAnyValue(q,"additionalProjections"),_.isEmpty(q)||(this.additionalProjections=q),this}applyAdditional(q){var pe=this,Ve=this.querySelects,ke=this.additionalProjections,it=K.findActive(q);if(!_.isEmpty(ke)){var ft=this.primary,Pt=this.secondary,Ut=this.projections,Kt=function(){var nr=(0,u.PO)(qt.selector?.data,Ve,it),Ge=pe.featureSwitches.rowHierarchySelector&&qt.selector?.hierarchyMatching===fe.v.Partial;t.Y.assert(()=>void 0!==nr,"scopeRefs !== undefined");var Ct=pe.indicesByName[qt.queryName],xt=pe.convertProjectionAggregates(Ct,qt.aggregates);if(xt&&pe.applyTopLevelAggregates([xt]),null===nr)return qt.aggregates||(Ut||(pe.projections=Ut=[]),pe.insertProjection(Ut,Ct),pe.addJoinPredicateBehavior(Ct,qt.joinPredicate)),0;var We=_.map(nr,Vr=>pe.indicesByName[Vr]),nt=Pt&&!_.isEmpty(Pt.Groupings),Wt=!!q.categorical&&nt&&pe.featureSwitches.categoricalSecondaryCF,kt=Wt?Pt:ft,Ht=Wt?ft:Pt,lr=We.length,mr=ft&&pe.addAdditional(Ct,We,kt,Ge);mr&&nt&&kt===ft&&pe.addSuppressedProjection(_.last(Pt.Groupings),Ct);var _r=We.length;mr||(mr=nt&&pe.addAdditional(Ct,We,Ht,Ge))&&Ht===ft&&lr===_r&&pe.addSuppressedProjection(_.last(Pt.Groupings),Ct),mr&&pe.addJoinPredicateBehavior(Ct,qt.joinPredicate)};for(var qt of ke)Kt()}}addAdditional(q,pe,Ve,ke){t.Y.assertValue(q,"projectionIdx"),t.Y.assertNonEmpty(pe,"remainingScopeRefs"),t.Y.assertValue(Ve,"axis"),t.Y.assertNonEmpty(Ve.Groupings,"groupings");for(var Pt,it=Ve.Groupings,ft=!1,Ut=0;Ut<it.length;Ut++)if(Pt=it[Ut],ft)this.addSuppressedProjection(Pt,q);else if(_.remove(pe,Kt=>_.includes(Pt.Projections,Kt)),0===pe.length){if(!this.isProjectingOnNonLeafGrouping(Ut,Ve,ke))return this.insertProjection(_.last(it).Projections,q),!0;this.insertProjection(Pt.Projections,q),ft=!0}return ft}isProjectingOnNonLeafGrouping(q,pe,Ve){t.Y.assertValue(pe,"axis"),t.Y.assertNonEmpty(pe.Groupings,"groupings"),t.Y.assert(()=>q>=0&&q<pe.Groupings.length,"out-of-bound projection target");var it=pe.Groupings.length;return!(q===it-1||!Ve&&(2!==it||!pe.Synchronization))}addSuppressedProjection(q,pe){this.projectVisualCalculationContext&&this.featureSwitches.visualCalculationOnComboChart?this.joinPredicateBehaviors[pe]={behavior:l.gD.None,isFinalized:!0}:(t.Y.assertValue(q,"grouping"),q.SuppressedProjections||(q.SuppressedProjections=[]),this.insertProjection(q.SuppressedProjections,pe))}applyTopLevelAggregates(q){_.isEmpty(q)||(this.aggregates||(this.aggregates=[]),this.aggregates.push(...q))}getAggregatesForRoleItems(q){var pe=[];for(var Ve of q)Ve.aggregates&&pe.push(this.convertDataViewMappingAggregate(Ve.aggregates,Ve.queryName));if(!_.isEmpty(pe))return this.getDataShapeBindingAggregates(...pe)}convertDataViewMappingAggregate(q,pe){var ke,it,Ve=this;_.isFunction(pe)?t.Y.assertValue(it=pe,"Need `getAggregateScope` when aggregates are scoped"):ke=this.indicesByName[pe];var ft={},Pt=function(Qt){var qt,nr;if((0,o.C5)(Qt)){if(!(it&&(qt=Qt.queryName?Ve.indicesByName[Qt.queryName]:ke,nr=Qt.scope&&it(Qt.scope))))return 0}else qt=ke;t.Y.assertValue(qt,"aggregate must provide a queryName or a defaultQueryName must be provided");var Ge=ft[qt]=ft[qt]||[],Ct=!!nr||void 0;t.Y.assert(()=>Qt.min||Qt.max||Qt.average,"Aggregates must aggregate"),Qt.min&&Ge.push({Scope:nr,RespectInstanceFilters:Ct,Min:{}}),Qt.max&&Ge.push({Scope:nr,RespectInstanceFilters:Ct,Max:{}}),Qt.average&&Ge.push({Scope:nr,RespectInstanceFilters:Ct,Average:{}})};for(var Kt of q)Pt(Kt);return _.isEmpty(ft)?void 0:ft}convertProjectionAggregates(q,pe){if(t.Y.assertValue(q,"projectionIdx"),t.Y.assertAnyValue(pe,"aggregates"),pe){var Ve=[],ke={Select:q,Aggregations:Ve};if(pe.min&&Ve.push({Min:{}}),pe.max&&Ve.push({Max:{}}),pe.average&&Ve.push({Average:{}}),pe.median&&Ve.push({Median:{}}),pe.percentiles)for(var it of pe.percentiles)Ve.push(ce(it));return t.Y.assert(()=>!_.isEmpty(ke.Aggregations),"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),ke}}suppressProjectionsIfNeeded(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary){var q=_.last(this.secondary.Groupings);for(var pe of this.primaryOnlyProjections)this.addSuppressedProjection(q,pe)}}toQueryShape(q){this.applyAdditional(q),this.suppressProjectionsIfNeeded();var pe=this.primary,Ve=this.projections;if(!pe){if(!Ve)return;pe={Groupings:[{Projections:Ve}]},Ve=null}var ke=this.restartToken;if(ke){var it=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=ke,it=!0),this.reduction.Scoped){for(var ft of this.reduction.Scoped)ft.Algorithm.Window&&(t.Y.assert(()=>!it,"Only 1 scoped window is allowed at this time"),ft.Algorithm.Window.RestartTokens=ke,ft.Algorithm.Window.RestartMatchingBehavior=s.rP.IsAfter,it=!0);t.Y.assert(()=>it,"A restartToken was present but it wasn't assigned to any window.")}}var Pt={Primary:pe};this.secondary&&(Pt.Secondary=this.secondary),Ve&&(Pt.Projections=Ve),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(Pt.DataReduction=this.reduction),this.includeEmptyGroups&&(Pt.IncludeEmptyGroups=this.includeEmptyGroups);var Ut=this.aggregates;Ut&&(Pt.Aggregates=Ut);for(var Kt=[],Qt=0;Qt<this.joinPredicateBehaviors.length;Qt++)if(this.joinPredicateBehaviors[Qt]&&this.joinPredicateBehaviors[Qt].behavior===l.gD.None){var qt=this.querySelects[Qt]?.expr;(!qt||!(0,r.$M)(qt))&&Kt.push(Qt)}if(_.isEmpty(Kt)||(Pt.SuppressedJoinPredicates=Kt),!this.projectVisualCalculationContext&&!_.isEmpty(this.hiddenProjections)){var nr=_.flatMap(this.additionalProjections,Ge=>_.isEmpty(Ge.relatedQueryNames)?[Ge.queryName]:Ge.relatedQueryNames);Pt.HiddenProjections=_.filter(this.hiddenProjections,Ge=>!_.includes(nr,Ge.QueryReference.ExpressionName))}return Pt.Version=s.ES.Version1,this.highlightFilter&&(Pt.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(Pt.isPivoted=this.pivotedSecondaryToPrimary),Pt}}function Fe(Re,q){return[new vt,new st(Re,q),new At]}class vt extends C.k{visitScopedEval(q){return _.isEmpty(q.scope)?q:(0,S.bg)(q.expression,_.filter(q.scope,pe=>!(0,r.KH)(pe)))}}class At extends C.k{visitGroupRef(q){return new S.Dw(q.source,q.ref)}}class st extends C.k{constructor(q,pe){super(),this.mappings=q,this.selects=pe}visitScopedEval(q){var pe=this,Ve=[],ke=!1;for(var it of q.scope)if((0,r.aV)(it))for(var ft of(ke=!0,this.mappings)){var Ut=K.findActive(ft)[it.role];if(Ut){var Kt=function(qt){var nr=_.find(pe.selects,Ge=>Ge.name===qt);nr&&Ve.push(nr.expr)};for(var Qt of Ut)Kt(Qt)}}else Ve.push(it);return ke?(0,S.bg)(q.expression,_.uniqBy(Ve,qt=>I.F3.serializeExpr(qt))):q}}},51709:function(me,j,e){e.d(j,{Ju:function(){return s}});var r=e(785463),i=e(446024),a=e(891843),t=e(985036),l=e(518139),g=e(442864),n=e(113577);class d{constructor(V){this.elements=V,this.currentIndex=-1}reset(V){this.currentIndex=-1,V&&(r.Y.assert(()=>this.elements!==V,"Resetting with same elements"),this.elements=V)}count(){return _.size(this.elements)}current(){return r.Y.assert(()=>this.currentIndex>=0,"Invalid Iterator index"),this.elements[this.currentIndex]}done(){return this.currentIndex===_.size(this.elements)-1}next(){return!this.done()&&(this.currentIndex++,!0)}index(){return this.currentIndex}}function s(M,V){return new h(M,V)}class h{constructor(V,w){this.dsrParserContext=w,r.Y.assertValue(V,"dsr"),r.Y.assertAnyValue(w,"dsrParserContext"),this.parser=new p(V.DS,this.dsrParserContext)}dataShapes(){return this.parser}reset(){this.parser.reset()}lockCache(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)}}var o=function(M){return M[M.DataShape=1]="DataShape",M[M.DataMemberInstance=2]="DataMemberInstance",M[M.Intersection=3]="Intersection",M}({});class v{constructor(V){this.calculationContainerKind=V,this.nullValuesHandler=new f,this.repeatedValuesHandler=new D}initialize(V,w){this.lastContainerCalculations=w,this.repeatedValuesHandler.initialize(V&&V.R,w),this.nullValuesHandler.initialize(V&&V.\u00d8)}getCurrentCalc(V,w,P,N){return r.Y.assert(()=>V>=0,"unexpected position input"),P?void 0!==(I=this.repeatedValuesHandler.tryRead(V))?I:void 0!==(I=this.nullValuesHandler.tryRead(V))?(this.lastContainerCalculations[V]=null,I):(w?w.next()&&(I=w.current(),this.lastContainerCalculations[V]=I):(r.Y.assert(()=>!!N,"Unexpected calcId"),void 0===(I=P[N])&&(I=null),this.lastContainerCalculations[V]=I),I):(r.Y.assert(()=>this.calculationContainerKind===o.Intersection,"Unexpected Empty DataShape/DataMemberInstance as calc container"),null);var I}}class m{constructor(V,w,P){this.context=V,this.calcMetadataCacheKey=P,this.baseCalculationParser=new v(w)}setCalculations(V){r.Y.assertAnyValue(V,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=V;var w=this.context;if(w){var P=this.calcMetadataCacheKey,N=V.S;N&&(this.metadata=N,P&&!w.locked&&(w.memberInstanceCalcMetadataCache[P]=N),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(N.length))),w.instancesCalcCache[P]&&(this.lastContainerCalculations=w.instancesCalcCache[P]),this.baseCalculationParser.initialize(V,this.lastContainerCalculations);var I=V.C;(N=this.getCalcMetadata())?this.calcMetadataIt=new d(N):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(I)>0?new d(I):void 0}}restartCalcs(){r.Y.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),r.Y.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue}nextCalc(){var V=!1,w=this.calcMetadataIt;return w&&((V=w.next()||V)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(w.index(),this.calcIt,this.calculationContainer,this.calcId())),w.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),V||!1}calcId(){return this.metadata[this.calcMetadataIt.index()].N}getCalcMetadata(){var V=this.metadata;return V||(V=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),V}calcValue(){var V=this.metadata[this.calcMetadataIt.index()],w=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,V.DN,V.T);return void 0===w&&(w=(0,a.Gz)(this.dsrCalcValue,V.T)),w}calcValueAsExpr(){r.Y.assert(()=>void 0!==this.dsrCalcValue,"Unexpected parsedCalcValue");var V=this.calcMetadataIt.current(),w=this.calcValue(),P=this.context.valueDictionaryHandler.getCalcValueExpr(w,this.dsrCalcValue,V.DN,V.T);return P||(P=(0,a.yE)(w,this.dsrCalcValue,V.T)),P}calcCount(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0}}class p extends m{constructor(V,w,P){super(w,o.DataShape),this.parserContext=w,this.rootDataShape=P,r.Y.assertValue(V,"dataShapes"),r.Y.assertAnyValue(w,"parserContext"),this.it=new d(V)}reset(){this.it.reset()}index(){return this.it.index()}count(){return this.it.count()}next(){this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var V=this.it.next();if(V){var w=this.it.current();this.setCalculations(w),this.context&&(this.context.valueDictionaryHandler=new g.e5(w.ValueDicts||this.rootDataShape?.ValueDicts))}return V}id(){return this.it.current().N}nestedDataShapes(){var V=this;r.Y.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var w=this.it.current(),P=w.DS;if(!_.isArray(P)||P.length<1)return{};var N={},I=function(R){var W=_.find(P,F=>F.N===R.dataShapeId);r.Y.assertValue(W,"No DataShape with ID "+R.dataShapeId),W&&(N[W.N]=new p([W],R.context,V.rootDataShape||w))};for(var O of this.context.primarySynchronizedGroups)I(O);return N}primaryHierarchy(){if(r.Y.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var V=this.it.current().PH;this.primaryHierarchyParser=V&&new C(V,this.parserContext,n.Tv.Primary,0)}return this.primaryHierarchyParser}secondaryHierarchy(){if(r.Y.assert(()=>null!=this.parserContext,"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var V=this.it.current().SH;this.secondaryHierarchyParser=V&&new C(V,this.parserContext,n.Tv.Secondary,0)}return this.secondaryHierarchyParser}messages(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new S(this.it.current().Msg)),this.messageParser}hasRestartTokens(){return _.size(this.restartTokens())>0}restartTokens(){var V=this.it.current(),w=V.DW;return _.isEmpty(w)?V.RT:(r.Y.assert(()=>1===w.length,"Multiple data windows are not yet handled"),w[0].RT)}complete(){var V=this.it.current(),w=V.DW;return _.isEmpty(w)?V.IC:(r.Y.assert(()=>1===w.length,"Multiple data windows are not yet handled"),w[0].IC)}hasAllData(){return this.it.current().HAD}limitsExceeded(){return _.size(this.it.current().DLEx)>0}limits(){return this.limitsParser||(this.limitsParser=new y(this.it.current().DLEx)),this.limitsParser}}class y{constructor(V){r.Y.assertValue(V,"limits"),this.it=new d(V)}next(){return this.it.next()}id(){return this.it.current().N}count(){return this.it.count()}}class S{constructor(V){r.Y.assertValue(V,"dataShapeMessage"),this.it=new d(V)}next(){return this.it.next()}code(){return this.it.current().Code}severity(){return this.it.current().Severity}dsrMessage(){return new l.lE(this.it.current())}}class C{constructor(V,w,P,N){this.context=w,this.hierarchy=P,this.depth=N,r.Y.assertValue(V,"dataMembers"),this.it=new d(V)}count(){return this.it.count()}reset(){this.it.reset(),this.dataMemberId=void 0}next(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var V=this.it.next();if(V){var w=this.dataMemberIdCache();if(_.size(w)>0){var P=this.it.current();for(var N of w[this.depth])P[N]&&(this.dataMemberId=N)}if(void 0===this.dataMemberId){var I=Object.keys(this.it.current());1===_.size(I)?this.dataMemberId=I[0]:r.Y.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return V}id(){return this.dataMemberId}dataMemberIdCache(){return this.hierarchy===n.Tv.Primary?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache}instances(){if(!this.instancesParser){var V=this.it.current()[this.dataMemberId];this.instancesParser=V&&new u(V,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser}}class u extends m{constructor(V,w,P,N,I){super(w,o.DataMemberInstance,P),this.parentDataMemberId=P,this.hierarchy=N,this.depth=I,r.Y.assertValue(V,"instances"),this.it=new d(V)}next(){var V=this.it.next();if(V){var w=this.it.current();!this.context.locked&&!w.M&&this.hierarchy===n.Tv.Secondary&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(w),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,r.Y.assert(()=>this.hierarchy!==n.Tv.Secondary||!w.Intersections,"secondary hierarchy should not have any intersections")}return V}count(){return this.it.count()}currentIndex(){return this.it.index()}intersections(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var V=this.it.current().X;return this.intersectionParser=V&&new E(V,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser}restartFlagKind(){return this.it.current().RF}restartKind(){return this.it.current().RK}members(){if(!this.dataMemberIt){var V=this.it.current().M;this.dataMemberIt=V&&new C(V,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt}}class E{constructor(V,w,P){this.context=w,this.parentDataMemberId=P,r.Y.assertValue(V,"intersections"),this.it=new d(null),this.reset(V),this.baseCalculationParser=new v(o.Intersection),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var N=w.dataMemberIdToMetadata[P];this.primaryMemberIsGroupMember=N.kind===n.pc.GroupMember,this.primaryDataMemberDepth=N.depth,r.Y.assertValue(w.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=w.intersectionCalcMetadataCache[P],!this.calcMetadataCache&&!w.locked&&(this.calcMetadataCache=w.intersectionCalcMetadataCache[P]=new Array(this.expectedIntersectionCount))}reset(V){this.it.reset(V),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=V.length>0}next(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var V=this.it.next();return V&&this.initialize(this.it.current()),V}var w;return this.hasIntersectionElements&&((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((w=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=w.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)?(w||(w=this.it.current()),this.initialize(w),!0):(this.initialize(),!0)}setIntersectionId(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]}resetCalcIt(V){var w=V&&V.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=w?new d(w):void 0}initialize(V){if(r.Y.assert(()=>this.logicalIntersectionIndex>=0,"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(V),V){var w=V.S;if(w&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=w.length),r.Y.assert(()=>null==this.calcMetadataCache[this.logicalIntersectionIndex],"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=w;var P=this.context.calcIdToCalcMetadata;for(var N of w)P[N.N]=w}}this.calculationContainer=V;var I=this.context.lastIntersectionCalcCache[this.intersectionId];!I&&this.intersectionId&&(I=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(V,I);var O=this.getCalcMetadata();O&&(this.currentCalcMetadata=O,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))}restartCalcs(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc}nextCalc(){var V=++this.currentCalcIndex;return V<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(V,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)}calcId(){return this.currentCalcMetadata[this.currentCalcIndex].N}getCalcMetadata(){r.Y.assert(()=>this.logicalIntersectionIndex>=0,"getCalcMetadata can return metadata only for valid logical intersection");var V=this.calcMetadataCache[this.logicalIntersectionIndex];if(!V&&!this.context.locked){var w=this.getExpectedCalcId();w&&(V=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[w])}return V}getExpectedCalcId(){if(0!==this.intersectionMeasureCount){var V=this.context,w=V.dataMemberIdToMetadata[V.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],I=V.selects[this.currentCalcIndex<0?V.intersectionMeasureToSelectIndex[0]:V.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(w.kind===n.pc.GroupMember&&this.primaryMemberIsGroupMember)return I.Value;if(I.Subtotal){var O=t.Cx.computeAggIdx(this.primaryDataMemberDepth,w.depth,V.maxPrimaryDepth,V.maxSecondaryDepth);return I.Subtotal.length>O&&I.Subtotal[O]}}}calcValue(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null}parseCalcValue(V){var w=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],P=this.context.valueDictionaryHandler.getCalcValue(V,w.DN,w.T);return void 0===P&&(P=(0,a.Gz)(V,w.T)),P}calcValueAsExpr(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var V=this.calcValue();return null===V?(0,i.gN)():this.parseCalcValueExpr(this.it.current()[this.calcId()],V)}return(0,i.gN)()}parseCalcValueExpr(V,w){var P=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],N=this.context.valueDictionaryHandler.getCalcValueExpr(w,V,P.DN,P.T);return void 0===N&&(N=(0,a.yE)(w,V,P.T)),N}calcCount(){return this.calcIt?this.calcIt.count():0}}var c=(()=>{class M{initialize(w){this.value=w,this.overflowValue=w>M.MaxSignedNumberFor32Bits?function(M){var V=M.toString(2),w=V.substr(0,V.length-b);return parseInt(w,2)}(w):0}hasBitAtPosition(w){if(r.Y.assert(()=>w>=0,"expected positive integer for position"),w>52)return!1;if(this.value>0){var P=0,N=this.value;return w<31?P=1<<w:(P=1<<w-31,N=this.overflowValue),(N&P)>0}}}return M.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,M})();class f{constructor(){this.bitSequenceHandler=new c}initialize(V){this.bitSequenceHandler.initialize(V)}tryRead(V){if(this.bitSequenceHandler.hasBitAtPosition(V))return null}}class D{constructor(){this.bitSequenceHandler=new c}initialize(V,w){this.bitSequenceHandler.initialize(V),this.lastContainerCalculations=w}tryRead(V){if(this.bitSequenceHandler.hasBitAtPosition(V))return this.lastContainerCalculations[V]}}var b=31},215:function(me,j,e){e.d(j,{D:function(){return t}});var r=e(785463),i=e(446024),a=e(20502);class t extends a.Li{visitColumnRef(g,n){if(g.hasGroupOnKeys(n)){var d=g.getConceptualProperty(n),s=g.getTargetEntity();return _.map(d.column.keys,h=>(0,i.sX)(s,h.name))}return[g]}visitHierarchyLevel(g,n){var d=g.arg.getTargetEntity();if(!d)return[g];if(g.arg instanceof i.t9){var s,h=d.schema,o=g.arg;if(o.arg instanceof i.P0){var v=o.arg,m=n.schema(h).findTargetEntityOfVariation(d.entity,v.property,v.name);if(!m)return[g];s=(0,i.EG)(h,m.name)}else s=d,r.Y.assert(()=>o.arg instanceof i.BO,".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var p=n.schema(h).findHierarchyLevel(s.entity,o.hierarchy,g.level);return this.visitColumnRef((0,i.sX)(s,p.column.name),n)}return[g]}visitGroupRef(g,n){return this.visitColumnRef(g,n)}visitDefault(g){return r.Y.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[g]}}},36956:function(me,j,e){e.d(j,{mY:function(){return a},sZ:function(){return i},tq:function(){return r},yt:function(){return t}});var r=function(l){return l[l.Version1=1]="Version1",l[l.Version2=2]="Version2",l}({}),i=function(l){return l[l.MinorVersion1=1]="MinorVersion1",l}({}),a=function(l){return l[l.Append=0]="Append",l[l.Merge=1]="Merge",l}({}),t=function(l){return l[l.None=0]="None",l[l.Before=1]="Before",l[l.After=2]="After",l[l.BeforeAndAfter=3]="BeforeAndAfter",l}({})},430602:function(me,j,e){e.d(j,{r:function(){return a}});var r=e(785463),i="noQueryName";class a{constructor(l,g,n,d){this.deepestNodeLevelInPath=-1,this.measures=g||[],this.dataMap=l||null,this.nodeIsCollapsed=n??null,this.nodeIndexes=d??[]}withCategory(l,g,n=!1){var d,s;return l&&l.source&&l.identity&&l.identity[g]&&(d=l.identity[g],s=l.source.queryName||i),this.addItemToDataMap(s,d),this}withSeries(l,g,n=!1){var d,s;return l&&l.source&&g&&(d=g.identity,s=l.source.queryName||i),this.addItemToDataMap(s,d),this}withMeasure(l){return this.measures.push(l),this}withMatrixNode(l,g,n=!1){if(!l)return this;var d,s,{isCollapsed:h,level:o,nodeIndex:v}=l;return l.identity&&g&&g[o]&&g[o].sources&&g[o].sources[0]&&(d=l.identity,s=g[o].sources[0].queryName||i),this.addItemToDataMap(s,d,h,o,v),this}withTable(l,g,n=!1){var d,s;return l&&l.identity&&null!=g&&(s=(d=l.identity[g])?JSON.stringify(d):i),this.addItemToDataMap(s,d),this}equals(l){var g=l;return!!(this.compareMeasures(this.measures,g.measures)&&this.compareMetadata(this.getSelector(),g.getSelector())&&this.compareMetadata(g.getSelector(),this.getSelector()))}createSelectionId(l){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this}getKey(){return this.key}includes(l,g=!1){var n=l;return!!(!this.dataMap&&this.compareMeasures(this.measures,n.measures)||this.dataMap&&n.dataMap&&this.compareMetadata(this.getSelector(),n.getSelector()))}hasIdentity(){return!!this.dataMap}compareMeasures(l,g){if(l.length!==g.length)return!1;for(var n of g)if(-1===l.indexOf(n))return!1;return!0}compareMetadata(l,g){if(!l.data&&g.data||l.data&&!g.data)return!1;if(!l.data&&!g.data)return!0;var d,n=function(h){if(!g.data.some(o=>JSON.stringify(o)===JSON.stringify(h)))return{v:!1}};for(var s of l.data)if(d=n(s))return d.v;return!0}addItemToDataMap(l,g,n,d,s){if(g){this.dataMap||(this.dataMap={});var h=this.dataMap,o=h[l];if(null==o)return h[l]=[g],null!=n&&null!=d&&d>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=n,this.deepestNodeLevelInPath=d),void(null!=s&&this.nodeIndexes.push(s));o.push(g)}}getSelector(){var l=this,g={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){g.data=[];var n=function(s){r.Y.assert(()=>l.dataMap[s].length<=1,"dataMap can only have one selector per column"),g.data.push(l.dataMap[s][0])};for(var d in this.dataMap)n(d)}return g}getSelectorsByColumn(){return null}}},891843:function(me,j,e){e.d(j,{$x:function(){return o},Gz:function(){return p},bq:function(){return v},fb:function(){return m},yE:function(){return y}});var r=e(61917),i=e(727695),a=e(785463),t=e(376292),l=e(690702),g=e(446024),n=e(191941),d=/''/g,s="base64'",h=/\.000'$/;function o(u){return S(u)}function v(u){return S(u,!0)}function m(u){if(!u)return null;if(_.startsWith(u,s)){var E=u.substring(s.length,u.length-1);try{return btoa(atob(E))}catch{return null}}return null}function p(u,E){if(a.Y.assert(()=>void 0!==u,"Undefined dsrValue indicates a DSR parsing bug"),null===u)return null;switch(E){case r.W.Integer:return a.Y.assert(()=>"string"==typeof u||"number"==typeof u,`Expected only string or number values for type ${E}`),"number"==typeof u?u:parseInt(u,10);case r.W.Decimal:case r.W.Double:return a.Y.assert(()=>"string"==typeof u||"number"==typeof u,`Expected only string or number values for type ${E}`),"number"==typeof u?u:C(u);case r.W.DateTime:case r.W.Date:if(a.Y.assert(()=>"string"==typeof u||"number"==typeof u,`Expected only string or number values for type ${E}`),"number"==typeof u){a.Y.assert(()=>u>=0,`Expected positive miliseconds since UNIX epoch for type ${E}`);var c=new Date(u),f=new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),D=new Date(c.getTime()+6e4*f.getTimezoneOffset());return D.epochTimeStamp=u,D}var b=(0,i.jT)(u);return b&&(0,t.IG)(b);case r.W.Text:return a.Y.assert(()=>"string"==typeof u,`Expected only string values for type ${E}`),u;case r.W.Boolean:return a.Y.assert(()=>"number"==typeof u||"boolean"==typeof u,`Expected number or boolean values for type ${E}`),"number"==typeof u?1===u:u;case r.W.Variant:return a.Y.assert(()=>"string"==typeof u||"boolean"==typeof u,`Expected only string or boolean values for type ${E}`),S(u);default:a.Y.assertFail(`unsupported dsrValue for type ${E}`)}}function y(u,E,c){if(null===u)return(0,g.gN)();switch(c){case r.W.Integer:return"number"==typeof E?(0,g.nd)(+u):(0,g.G3)(l.K.Integer,+u,E.toString());case r.W.Decimal:return"number"==typeof E?(0,g._)(+u):(0,g.G3)(l.K.Decimal,+u,E.toString());case r.W.Double:return"number"==typeof E?(0,g.gd)(+u):(0,g.G3)(l.K.Double,+u,E.toString());case r.W.DateTime:case r.W.Date:return"number"==typeof E?new g.wy(n.eV.fromExtendedType(l.K.DateTime),u):(0,g.G3)(l.K.DateTime,u,E.toString());case r.W.Text:return(0,g.Qq)(u.toString());case r.W.Boolean:return(0,g.zM)(!!u);case r.W.Variant:return S(E,!0);default:a.Y.assertFail(`unsupported dsrValue for type ${c}`)}}function S(u,E){var c=typeof u;if("string"===c){if(_.endsWith(u,"L")){var f=parseInt(u,10);return E?(0,g.nd)(f,u):f}if(_.endsWith(u,"D")){var D=C(u);return E?(0,g.gd)(D,u):D}if(_.endsWith(u,"M")){var b=C(u);return E?(0,g._)(b,u):b}if(_.endsWith(u,"'")){if("'"===u.charAt(0)){var T=u.substring(1,u.length-1).replace(d,"'");return E?(0,g.Qq)(T,u):T}if(0===u.indexOf("datetime'")){var M=u.replace(h,"'"),V=u.substring(9,M.length-1),w=(0,i.jT)(V);return E?(0,g.KQ)(w,M):w}}if("null"===u)return E?(0,g.gN)():null;if("true"===u)return!E||(0,g.zM)(!0);if("false"===u)return!!E&&(0,g.zM)(!1)}return"boolean"===c?E?(0,g.zM)(u):u:null===u?E?(0,g.gN)():null:u}function C(u){var E=parseFloat(u);return isNaN(E)?parseFloat(u.replace("INF","Infinity")):E}},55400:function(me,j,e){e.d(j,{B:function(){return t},U:function(){return a}});var r=e(785463),i=e(61917);function a(l){switch(l){case i.W.Null:return"Null";case i.W.Text:return"Text";case i.W.Decimal:return"Decimal";case i.W.Double:return"Double";case i.W.Integer:return"Integer";case i.W.Boolean:return"Boolean";case i.W.Date:return"Date";case i.W.DateTime:return"DateTime";case i.W.DateTimeZone:return"DateTimeZone";case i.W.Time:return"Time";case i.W.Duration:return"Duration";case i.W.Binary:return"Binary";case i.W.None:return"None";case i.W.Variant:return"Variant";case i.W.Json:return"Json";default:throw r.Y.assertNever(l)}}function t(l){switch(l){case"Null":return i.W.Null;case"Text":return i.W.Text;case"Decimal":return i.W.Decimal;case"Double":return i.W.Double;case"Integer":return i.W.Integer;case"Boolean":return i.W.Boolean;case"Date":return i.W.Date;case"DateTime":return i.W.DateTime;case"DateTimeZone":return i.W.DateTimeZone;case"Time":return i.W.Time;case"Duration":return i.W.Duration;case"Binary":return i.W.Binary;case"None":return i.W.None;case"Variant":return i.W.Variant;case"Json":return i.W.Json;default:throw r.Y.assertNever(l)}}},59853:function(me,j,e){e.d(j,{Fw:function(){return d},Mc:function(){return v},el:function(){return h},iX:function(){return s},kw:function(){return m},y0:function(){return o}});var r=e(662785),i=e(785463),a=e(759520),t=e(574324),l=e(446024),g=e(177328),n=e(669129);function d(E){i.Y.assertValue(E,"changes");for(var c=[],f=0,D=E.length;f<D;f++){var b=E[f];b.measureMove&&c.push(s(b.measureMove)),b.entityRename&&c.push(h(b.entityRename)),b.propertyRename&&c.push(o(b.propertyRename)),b.hierarchyLevelRename&&c.push(v(b.hierarchyLevelRename))}return c}function s(E){return i.Y.assertValue(E,"measureMove"),new y(E)}function h(E){return i.Y.assertValue(E,"entityRename"),new p(E)}function o(E){return i.Y.assertValue(E,"propertyRename"),new S(E)}function v(E){return i.Y.assertValue(E,"hierarchyLevelRename"),new C(E)}function m(E){return i.Y.assertValue(E,"setSchemaMeasure"),new u(E)}class p extends g.k{constructor(c){i.Y.assertValue(c,"change"),super(),this.change=c}visitColumnRef(c){if(i.Y.assertValue(c,"expr"),(0,r.Qg)(c.source)||(0,r.EP)(c.source)){var f=c.source.accept(this);return f!==c.source?new l.Dw(f,c.ref):c}return c}visitEntity(c){var f=this.change;return c.schema===f.schema&&c.entity===f.before?new l.BO(c.schema,f.after,c.variable):c}visitSubqueryRef(c){if(i.Y.assertValue(c,"expr"),c.query){var f=c.query.rewrite(this);return f!==c.query?new l.nS(f):c}return c}}class y extends g.k{constructor(c){i.Y.assertValue(c,"change"),super(),this.change=c}visitMeasureRef(c){var f=this.change,D=(0,a.vG)((0,t.F)(c));if(i.Y.assertValue(D,"fieldPattern"),D.schema===f.schema&&D.entity===f.source&&c.ref===f.property){var b=new l.BO(D.schema,f.destination);return new l.hR(b,f.property)}return c}visitSubqueryRef(c){if(c.query){var f=c.query.rewrite(this);return f!==c.query?new l.nS(f):c}return c}}class S extends g.k{constructor(c){i.Y.assertValue(c,"change"),super(),this.change=c}visitColumnRef(c){if(i.Y.assertValue(c,"expr"),(0,r.EP)(c.source)){var f=c.source.accept(this);return f!==c.source?new l.Dw(f,c.ref):c}if((0,r.eN)(c.source))return c;var D=this.change;return this.matches(D,c)?new l.Dw(c.source,D.after):c}visitMeasureRef(c){var f=this.change;return this.matches(f,c)?new l.hR(c.source,f.after):c}visitGroupRef(c){var f=c,D=this.change;this.matches(D,c)&&(f=new l.CH(D.after,c.source,c.groupedExprs));var b=_.map(c.groupedExprs,T=>T.accept(this));return n.B.sequenceEqual(b,c.groupedExprs)||(f=new l.CH(f.ref,f.source,b)),f}visitHierarchy(c){i.Y.assertValue(c,"expr"),i.Y.assertValue(c.arg,"expr.arg");var f=c.arg.accept(this);if(f!==c.arg)return new l.t9(f,c.hierarchy);var D=this.change;return this.hierarchyMatches(D,c)?new l.t9(c.arg,D.after):c}visitPropertyVariationSource(c){i.Y.assertValue(c,"expr");var f=this.change;return this.variationMatches(f,c)?new l.P0(c.arg,c.name,f.after):c}visitSubqueryRef(c){if(i.Y.assertValue(c,"expr"),c.query){var f=c.query.rewrite(this);return f!==c.query?new l.nS(f):c}return c}variationMatches(c,f){i.Y.assertValue(c,"change"),i.Y.assertValue(f,"expr");var D=f.arg;return i.Y.assert(()=>D instanceof l.BO,"entityExpr"),D.schema===c.schema&&D.entity===c.entity&&f.property===c.before}hierarchyMatches(c,f){i.Y.assertValue(c,"change"),i.Y.assertValue(f,"expr");var D=f.arg;if((0,r.Qg)(D))return"Hierarchy"===c.objectType&&D.schema===c.schema&&D.entity===c.entity&&f.hierarchy===c.before}matches(c,f){i.Y.assertValue(c,"change"),i.Y.assertValue(f,"expr");var D=(0,a.vG)((0,t.F)(f));return i.Y.assertValue(D,"fieldPattern"),D.schema===c.schema&&D.entity===c.entity&&f.ref===c.before}}class C extends g.k{constructor(c){i.Y.assertValue(c,"change"),super(),this.change=c}visitHierarchyLevel(c){i.Y.assertValue(c,"expr"),i.Y.assertValue(c.arg,"expr.arg");var f=this.change;return this.matches(f,c)?new l.LV(c.arg,f.after):c}matches(c,f){i.Y.assertValue(c,"change"),i.Y.assertValue(f,"expr");var D=(0,t.F)(f);if(i.Y.assertValue(D,"fieldPattern"),!D.columnHierarchyLevelVariation){var b=(0,a.vG)(D);i.Y.assertValue(b,"fieldEntityPattern");var T=f.arg;return i.Y.assertValue(T,"hierarchyExpr"),b.schema===c.schema&&b.entity===c.entity&&T.hierarchy===c.hierarchy&&f.level===c.before}}}class u extends g.k{constructor(c){i.Y.assertValue(c,"change"),super(),this.change=c}visitMeasureRef(c){var f=this.change,D=(0,a.vG)((0,t.F)(c));if(i.Y.assertValue(D,"fieldPattern"),D.schema!==f.schema&&D.entity===f.entity&&c.ref===f.name){var b=new l.BO(f.schema,f.entity);return new l.hR(b,f.name)}return c}}},725347:function(me,j,e){e.d(j,{O:function(){return r}});var r=function(i){return i[i.Version0=0]="Version0",i[i.Version1=1]="Version1",i[i.Version2=2]="Version2",i}({})},922184:function(me,j,e){e.d(j,{a:function(){return v}});var r=e(619584),i=e(785463),a=e(736668),t=e(659956),l=e(160800),g=e(741799),n=e(869574),d=e(589604),o=e(928912);function v(S,C,u,E,c){return new p(S,C,u,E,c)}class m extends Error{constructor(C){super(C),this.name="ConceptualSchemaCacheExistsError"}}class p{constructor(C,u,E,c,f){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],i.Y.assertValue(C,"promiseFactory"),i.Y.assertValue(u,"dataReaderProvider"),i.Y.assertValue(E,"featureSwitchService"),this.promiseFactory=C,this.dataReaderProvider=u,this.featureSwitchService=E,this.telemetryService=c,this.validator=f,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}get(C,u){var E=this;i.Y.assertNonEmpty(C,"dataSources");var c=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!C)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},c);var f=this.generateSchemaKey(C),D=this.mergedConceptualSchemaCache[f];if(this.isSchemaPaused(D))return this.promiseFactory.reject(this.getPauseReason(D),c);if(D&&D.promise)return u&&u.setProperty("isConceptualSchemaCached",!0),o.n4.ensurePromiseError(D.promise,"ConceptualSchemaProxy.execute {{status}}");var b=this.promiseFactory.defer(c),T={deferred:b,promise:b.promise};this.mergedConceptualSchemaCache[f]=T,T.promise.then(()=>delete T.deferred,()=>delete this.mergedConceptualSchemaCache[f]);var M=[],V=y(C),w=function(){var I=V[N],O=E.generateSchemaKey(I),R=E.individualConceptualSchemaCache[O];if(E.isSchemaPaused(R))return M.push(E.promiseFactory.reject(E.getPauseReason(R),c)),0;if(R)return M.push(R.promise),0;var W=E.promiseFactory.defer(c),F=W.promise;M.push(F),E.individualConceptualSchemaCache[O]={deferred:W,promise:F},F.finally(()=>{E.individualConceptualSchemaCache[O]&&delete E.individualConceptualSchemaCache[O].deferred}).catch(_.noop);var U=E.dataReaderProvider.schemaReader(N);if(!U)return i.Y.assertFail(`No schema reader exists for data source type: ${N}`),W.reject({clientError:{code:"SchemaReaderUndefined"}}),0;U.execute({dataSources:I}).then(B=>E.onSuccess(U,B,O,W),B=>E.onError(U,B,O,W))};for(var N in V)w();return this.promiseFactory.all(M,c).then(I=>{var O=g.I.merge(I);this.validator&&this.validator.validate(O),T.result=O,b.resolve(O)}).catch(I=>{b.reject(I)}),o.n4.ensurePromiseError(T.promise,"ConceptualSchemaProxy.execute {{status}}")}preloadCache(C,u){var E=y(C),c=[];for(var f in E){var b=this.dataReaderProvider.schemaReader(f).transform(u);c.push(b.schema)}var T=this.generateSchemaKey(C);if(this.mergedConceptualSchemaCache[T])throw new m("Schema already exists in cache");var M=this.promiseFactory.defer(!1),V={deferred:M,promise:M.promise},w=g.I.merge(c);V.result=w,M.resolve(w),this.mergedConceptualSchemaCache[T]=V}getWithWireContract(C){return C&&_.uniqBy(C,u=>(0,n.E2)(u)).length>1?(i.Y.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(C).then(u=>{var E=this.individualConceptualSchemaCache[this.generateSchemaKey(C)];if(E)return{data:E.data,contract:u}})}getLatestCapabilities(C,u){var E=y(C);for(var c in E){var D=this.generateSchemaKey(E[c]),b=this.individualConceptualSchemaCache[D];if(b&&b.result){var T=b.result.schema(u);if(T)return T.capabilities}}}clearCache(C,u){if(!u)return this.rejectPendingDeferred(C),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var E=y(u);for(var c in E){var f=E[c],D=this.generateSchemaKey(f),b=JSON.stringify(_.map(f,T=>T.id));this.telemetryService.logEvent(d.jg,{datasetIds:b,requestId:C&&C.requestId,reason:C&&C.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,D,T=>{this.rejectPendingDeferred(C,T),delete this.individualConceptualSchemaCache[T]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,D,T=>{delete this.mergedConceptualSchemaCache[T]})}}stopCommunication(C,u){var E,c,f={clientError:C};if(u){var D=y(u);for(var b in D)E=this.generateSchemaKey(D[b]),(c=this.individualConceptualSchemaCache[E])||(this.individualConceptualSchemaCache[E]=c={}),c.pauseReason=f,this.rejectPendingDeferred(f,E)}else this.pauseAllSchemasReason=f||{clientError:null},this.rejectPendingDeferred(f);for(var V of this.stopCommunicationHandlers)V()}resumeCommunication(C){var u;for(var E of(C?u=_.map(y(C),D=>this.generateSchemaKey(D)):(this.pauseAllSchemasReason=void 0,u=Object.keys(this.individualConceptualSchemaCache)),u))this.isSchemaPaused(this.individualConceptualSchemaCache[E])&&(delete this.individualConceptualSchemaCache[E],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,E,D=>delete this.mergedConceptualSchemaCache[D]));for(var f of this.resumeCommunicationHandlers)f()}registerStopCommunicationHandlers(C){return this.stopCommunicationHandlers.push(C),()=>_.pull(this.stopCommunicationHandlers,C)}registerResumeCommunicationHandlers(C){return this.resumeCommunicationHandlers.push(C),()=>_.pull(this.resumeCommunicationHandlers,C)}isEmpty(C){var u=this;return(0,r.A)(function*(){var E=yield u.get(C);return _.every(E.schemas,c=>_.isEmpty(c.entities)||u.isSystemEntity(c.entities))})()}isSystemEntity(C){return _.every(C,u=>(0,t.Lt)(u.visibility,l.Tg.IsPrivate)||(0,t.Lt)(u.visibility,l.Tg.ShowAsVariationsOnly))}isSchemaPaused(C){return!!this.pauseAllSchemasReason||C&&!C.promise}getPauseReason(C){return C&&C.pauseReason?C.pauseReason:this.pauseAllSchemasReason}rejectPendingDeferred(C,u){var E,c;for(var f in u?(E={})[u]=null:E=this.individualConceptualSchemaCache,E)(c=this.individualConceptualSchemaCache[f])&&(c.deferred&&c.deferred.reject(C),delete c.promise,delete c.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,f,(D,b)=>{b.deferred&&b.deferred.reject(C),delete b.promise,delete b.deferred}))}onSuccess(C,u,E,c){var f=C.transform(u);if(f.error)this.onErrorCore(f,E,c);else{var D=this.individualConceptualSchemaCache[E];D&&(D.result=f.schema,D.data=u.data);var b=this.tryGetAdditionalIndividualCacheKey(E,f);b&&(this.individualConceptualSchemaCache[b]=D),c.resolve(f.schema)}}onError(C,u,E,c){var f=C.transform(u);this.onErrorCore(f,E,c)}onErrorCore(C,u,E){delete this.individualConceptualSchemaCache[u],C.error&&C.error.serviceError&&(C.error.clientError=new a.eH(C.error.serviceError),C.error.clientError.requestId=C.error.requestId),E.reject(C.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,u,c=>{delete this.mergedConceptualSchemaCache[c]})}tryGetAdditionalIndividualCacheKey(C,u){var E=u.schema.schemas;if(E){i.Y.assert(()=>1===E.length,"schemas should be length 1");var c=E[0];if(c.cubeName){var f=JSON.parse(C);i.Y.assert(()=>1===f.length,"key is length 1");var D=f[0];if(i.Y.assert(()=>c.name===D.name,"names should be same"),!D.perspectiveId)return D.perspectiveId=c.cubeName,this.generateSchemaKey([D])}}}forSchemasContainingKey(C,u,E){var c=JSON.parse(u);for(var f of c)for(var D in C){var b=JSON.parse(D);for(var T of b)f.id===T.id&&f.name===T.name&&f.type===T.type&&E(D,C[D])}}generateSchemaKey(C){return i.Y.assertValue(C,"dataSources"),JSON.stringify(_.chain(C).map(u=>({id:u.id,name:u.name,type:(0,n.E2)(u),perspectiveId:u.perspectiveId,objectId:u.objectId})).orderBy(["type","name","id","perspectiveId"]).value())}}function y(S){return _.groupBy(S,C=>(0,n.E2)(C))}},149094:function(me,j,e){e.d(j,{Pv:function(){return o},Vn:function(){return m},bu:function(){return v}});var r=e(936744),i=e(56175),a=e(898145),t=e(879460),l=e(51161),g=e(830189),n=e(785463),d=e(123198),s=e(589604),h=e(304703);function o(u,E){return!(!u.query||!E.query)&&u.type===E.type&&u.kinds===E.kinds&&u.perfId===E.perfId&&u.query.allowResultFromClientCache===E.query.allowResultFromClientCache&&u.query.allowClientSideFilters===E.query.allowClientSideFilters&&u.query.cacheResponseOnServer===E.query.cacheResponseOnServer&&u.query.ignoreViewportForCache===E.query.ignoreViewportForCache&&(0,d.aI)(u.query.cacheOptions,E.query.cacheOptions)&&(0,d.aI)(u.query.command,E.query.command)&&(0,d.aI)(u.query.dataSources,E.query.dataSources)}function v(u,E,c){return new y(u,E,c)}var m=(u,E,c,f)=>new S(u,E,c);class y{constructor(E,c,f){this.promiseFactory=E,this.dataReaderProvider=c,this.dataReaders={},this.telemetryService=f}execute(E){return n.Y.assertValue(E,"options"),this.getReader(E.type).execute(E.query,E.kinds,E.perfId)}getReader(E){var c=this.dataReaders[E];if(c)return c;var f=this.dataReaderProvider.reader(E);return n.Y.assertValue(f,`Could not find data reader for type: ${E}`),this.dataReaders[E]=new C(E,f,this.promiseFactory,this.telemetryService)}stopCommunication(E){this.getReader(E).stopCommunication()}resumeCommunication(E){this.getReader(E).resumeCommunication()}clearCache(E,c){this.getReader(E).clearCache(c)}rewriteCacheEntries(E,c,f){this.getReader(E).rewriteCacheEntries(c,f)}setLocalCacheResult(E,c){return this.getReader(E.type).setLocalCacheResult(E.query,c)}}class S{constructor(E,c,f){this.proxy=E,this.promiseFactory=c,this.timeoutService=f}execute(E){var c=this.lastExecute;if(c&&c.promise.pending()){if(o(E,c.query)){var f=(0,i.Z)(c.deferred);return f.matchesLastExecuteQuery=!0,f}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new t.F9(l.pG.NewQuery))}var D=E&&E.query&&E.query.telemetryV2Enabled,b=this.promiseFactory.defer(D),T=(0,i.Z)(b),M=this.lastExecute={query:E,deferred:b,promise:T,ended:!1};if(!this.queuedExecution){this.queuedExecution=!0;var V=0,w=()=>{this.queuedExecution=!1;var N=this.lastExecute;if(N&&!N.ended){var I=this.proxy.execute(N.query);I.then(O=>{N.ended?N.deferred.reject():N.deferred.resolve(O)},O=>{if(O instanceof g.Ux){if(V<3)return++V,void w();h.Cn.information("Async query returned not-found three times - giving up")}N.deferred.reject(O)}),N.promise.catch(O=>I.reject(O))}};this.timeoutService.setTimeout(!0===E.isColdLoad?-1:0,D).promise.then(w).catch(()=>{})}return T.finally(()=>{M.ended=!0,M===this.lastExecute&&(this.lastExecute=void 0)}).catch(()=>{}),T}cancelQuery(E){var c=this.lastExecute;c&&c.promise.pending()&&(c.ended=!0,c.promise.reject(E===l.pG.PausedQuery?new t.Zf:new t.F9(E)))}}class C{constructor(E,c,f,D){n.Y.assertAnyValue(E,"pluginName"),n.Y.assertValue(c,"reader"),n.Y.assertValue(f,"promiseFactory"),n.Y.assertValue(D,"telemetryService"),this.name=E,this.reader=c,this.promiseFactory=f,this.telemetryService=D}execute(E,c,f){n.Y.assertValue(E,"options"),n.Y.assertAnyValue(f,"perfId");var D=this.promiseFactory.defer(E.telemetryV2Enabled),b=this.reader;if(b.execute){var T=b.execute(E,f);T.then(V=>{if(V){var w=this.transform(V,c,f,E.performanceActivity),P=w.error;if(w.performanceActivities&&P&&(P.performanceActivities=w.performanceActivities),P)return D.reject(P),void this.telemetryService.logEvent(s.gT,{requestId:V.requestId,isError:!0,errorSource:a.gf.PowerBI,errorCode:P.code});D.resolve({dataReaderResult:w,dataViewSource:{data:V}})}else D.reject(new g.$X),this.telemetryService.logEvent(s.gT,{isError:!0,errorSource:a.gf.PowerBI,errorCode:"DataProxy_EmptyData"})},V=>{D.reject(V),(!V||!V.ignorable)&&this.telemetryService.logEvent(s.gT,{requestId:V?.requestId,isError:!0,errorSource:a.gf.PowerBI,errorCode:V?V.code:"DataProxy_ProviderError"})}).catch(V=>{D.reject(V)});var M=(0,i.Z)(D);return M.catch(V=>{V=V||new g.Kz,T.reject(V)}),M}return E.command?D.resolve({dataReaderResult:this.transform(E.command,c,f)}):D.reject(),(0,i.Z)(D)}stopCommunication(){var E=this.reader;E.stopCommunication&&E.stopCommunication()}resumeCommunication(){var E=this.reader;E.resumeCommunication&&E.resumeCommunication()}clearCache(E){var c=this.reader.cache;c&&c.clear(E)}rewriteCacheEntries(E,c){var f=this.reader.cache;f&&f.rewrite(E,c)}setLocalCacheResult(E,c){var f=this.reader;f.setLocalCacheResult&&f.setLocalCacheResult(E,c)}transform(E,c,f,D){var b=this.reader;if(b.transform)return b.transform(E,c||r.k.All,f,D);var T={metadata:{columns:[]}};return T[this.name]=E,{dataView:T}}}},830189:function(me,j,e){e.d(j,{$X:function(){return l},Kz:function(){return g},ND:function(){return t},RG:function(){return a},Ux:function(){return n},YY:function(){return d}});var r=e(871090),i=e(879460);class a{constructor(h){this.innerError=h,this.code="QueryPipelineError",this.eventFactory=r.U2,this.ignorable=!!h?.ignorable}getDetails(h){return{message:"",displayableErrorInfo:[]}}}class t{get code(){return"FailedRealTimeUpdate"}get ignorable(){return!1}getDetails(h){return{message:h.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:h.get("Realtime_UpdateFailedKey"),errorInfoValue:h.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}class l{get code(){return"EmptyData"}get ignorable(){return!1}getDetails(h){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:h.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}class g{get code(){return"InvalidDataResponse"}get ignorable(){return!1}getDetails(h){return{message:h.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:h.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:h.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}var n=(()=>{class s{get code(){return s.Code}get ignorable(){return!1}getDetails(o){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:o.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}return s.Code="AsyncResultNotFound",s})(),d=(()=>{class s{get code(){return n.Code}get ignorable(){return!1}getDetails(o){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:o.get("ServerError_DM_GWPipeline_Gateway_GenericTimeoutException_Title")}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}]}}}return s.Code="AsyncResultTimedOut",s})()},549393:function(me,j,e){e.d(j,{Ab:function(){return v},WZ:function(){return d},gF:function(){return m}});var r=e(936744),i=e(785463),a=e(659956),t=e(464205),l=e(855835),g=e(289239),n=e(336983);class d{static getDataPointsDescription(C,u){if(C&&!_.isEmpty(u)){var E=this.getDataViewKind(C),c=[];for(var f of u){var D=this.query([C],f,E,[],!0),b=(0,t.j9)(f);c.push({selector:b,values:D})}return c}}static getDataViewKind(C){var u=r.k.None;if(C.matrix)u=r.k.Matrix;else if(C.table)u=r.k.Table;else{if(!C.categorical)return void i.Y.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");u=r.k.Categorical}return u}static query(C,u,E,c,f){if(_.isEmpty(C)||!u)return[];var b,D=(0,t.Bz)(u);if(_.some(D,O=>!(0,t.fF)(O)))return[];b=c&&!f?c:u.metadata;var T=[];if((0,a.Lt)(E,r.k.Table))for(var M of C){var V=new o(u,b,f);p(M.table,V),T.push(...V.valueDetails||[])}else if((0,a.Lt)(E,r.k.Categorical))for(var w of C){var P=new s(u,b,f);m(w,P),T.push(...P.valueDetails||[])}else if((0,a.Lt)(E,r.k.Matrix))for(var N of C){var I=new h(u);y(N.matrix,I),T.push(...I.valueDetails||[])}return T}}class s{constructor(C,u,E){this.ignoreQueryName=E,this.requestedValues=u,this.identities=(0,t.Bz)(C),this.valueDetails=[]}visitCategoryColumns(C,u){var E=this;if(!_.isEmpty(C)){var c=function(D){if(E.ignoreQueryName||_.includes(E.requestedValues,D.source.queryName))for(var b=0;b<D.identity.length;b++){var T=D.identity[b];if(_.includes(E.identities,T)){var M=_.find(u.columns,V=>V.index===D.source.index);E.valueDetails.push({identity:T,value:D.values[b],expr:M.expr,formattedValue:(0,n.GP)(D.values[b],D.source.format)});break}}};for(var f of C)c(f)}}visitValueColumnGroups(C,u){if(!_.isEmpty(C)&&u&&(this.ignoreQueryName||_.includes(this.requestedValues,u.queryName)))for(var E of C)if(_.includes(this.identities,E.identity))return void this.valueDetails.push({value:E.name,formattedValue:(0,n.GP)(E.name,u.format),expr:u.expr,identity:E.identity})}visitValueColumn(C){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,C.source.queryName)}visitValue(C,u,E,c,f){v(this.identities,u.data)||this.valueDetails.push({expr:E.expr,value:C,formattedValue:(0,n.GP)(C,E.format),identity:_.head(u.data)})}}class h{constructor(C){this.valueDetails=[],this.identitiesToSearch=(0,t.Bz)(C)}visitHierarchy(C){for(var u=C.root;u&&u.children&&this.identitiesToSearch.length>0;)u=this.searchNode(u,C.levels)}searchNode(C,u){for(var E of this.identitiesToSearch)for(var c of C.children)if(c.identity===E){var f=c.levelValues,D=u[c.level||0];if(!_.isEmpty(f))for(var b of f){var T=D.sources[b.levelSourceIndex||0];this.valueDetails.push({expr:T.expr,identity:E,value:b.value,formattedValue:(0,n.GP)(b.value,T.format)})}return _.remove(this.identitiesToSearch,E),c}}}class o{constructor(C,u,E){this.ignoreQueryName=E,this.requestedValues=u,this.identities=(0,t.Bz)(C),this.valueDetails=[],this.requestedColumnsIndices=[]}visitColumn(C,u){(this.ignoreQueryName||C.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,C.queryName)))&&this.requestedColumnsIndices.push(u)}visitRow(C,u){if(i.Y.assertAnyValue(C.rows[u],"A row for this rowIndex does not exist"),!C.identity||!v(this.identities,[C.identity[u]]))for(var c of this.requestedColumnsIndices){var f=C.rows[u][c],D=C.columns[c];this.valueDetails.push({expr:D.expr,value:f,formattedValue:(0,n.GP)(f,D.format),identity:C.identity&&C.identity[u]})}}}function v(S,C){if(S){var E,u=function(f){if(!_.some(C,D=>(0,g.aI)(f,D)))return{v:!0}};for(var c of S)if(E=u(c))return E.v}return!1}function m(S,C){var u=S.categorical;if(i.Y.assertAnyValue(C,"visitor should be defined"),u&&!_.isEmpty(u.values)){var E=(0,l.T$)(u);C.visitCategoryColumns(E,S.metadata);var c=_.head(u.categories),f=c&&_.clone(c.identity),D=u.values.grouped();for(var b of(C.visitValueColumnGroups(D,u.values.source),D)){var T=b.identity;for(var M of b.values)if(C.visitValueColumn(M))for(var V=Object.keys(M.values),w=0;w<V.length;w++){var N=M.values[V[w]],O={data:f?[f[w]]:[],metadata:M.source.queryName};T&&O.data.push(T),C.visitValue(N,O,M.source,u.categories,w)}}}}function p(S,C){if(i.Y.assertAnyValue(C,"visitor should be defined"),S&&!_.isEmpty(S.rows)){for(var u=S.columns,E=0;E<u.length;E++)C.visitColumn(u[E],E);for(var c=0;c<S.rows.length;c++)C.visitRow(S,c)}}function y(S,C){S&&(S.rows&&C.visitHierarchy(S.rows),S.columns&&C.visitHierarchy(S.columns))}},842354:function(me,j,e){e.d(j,{V:function(){return a},_:function(){return t}});var r=e(289239),i=e(997519);function a(l){return{scopeId:i.F3.serializeExpr(l.expr)}}function t(l){if(l.scopeId){var g=i.F3.deserializeExpr(l.scopeId);if(g)return(0,r.UQ)(g)}}},839538:function(me,j,e){e.d(j,{At:function(){return o},Z_:function(){return h},iu:function(){return n},lK:function(){return g}});var r=e(785463),i=e(329332),a=e(844839),t=e(191941),l={get:u=>u,getOptional:u=>u,format:u=>u};function g(u,E){r.Y.assertValue(u,"objectDescriptors");var c={};for(var f in u)c[f]=d(u[f],E||l);return c}function n(u){r.Y.assertValue(u,"wireObjectDescriptors");var E={};for(var c in u)E[c]=s(u[c]);return E}function d(u,E){if(u){var c={properties:{}};for(var f in u.displayName&&(c.displayName=(0,i.M)(u.displayName,E)),u.description&&(c.description=(0,i.M)(u.description,E)),u.properties)c.properties[f]=h(u.properties[f],E);return c}}function s(u){var E={properties:{}};for(var c in u.displayName&&(E.displayName=(0,i.D)(u.displayName)),u.description&&(E.description=(0,i.D)(u.description)),u.properties)E.properties[c]=o(u.properties[c]);return E}function h(u,E){var c={type:v(u.type,E)};return u.rule&&(c.rule=u.rule),u.displayName&&(c.displayName=(0,i.M)(u.displayName,E)),u.description&&(c.description=(0,i.M)(u.description,E)),u.placeHolderText&&(c.placeHolderText=(0,i.M)(u.placeHolderText,E)),c}function o(u){var E={type:m(u.type)};return u.displayName&&(E.displayName=(0,i.D)(u.displayName)),u.description&&(E.description=(0,i.D)(u.description)),u.placeHolderText&&(E.placeHolderText=(0,i.D)(u.placeHolderText)),u.rule&&(E.rule=u.rule),E}function v(u,E){var c=t.eV.fromDescriptor(u);return c&&c.enum?{enumeration:y(c.enum,E)}:c?.flagsEnum?{flagsEnumeration:y(c.flagsEnum,E)}:u}function m(u){return t.eV.fromDescriptor(u)?function(u){var E;if(u.enumeration)E={enumeration:S(u.enumeration)};else if(u.flagsEnumeration)E={flagsEnumeration:S(u.flagsEnumeration)};else for(var f in E={},u)E[f]=u[f];return E}(u):u}function y(u,E){return _.map(u.members(),c=>function(u,E){return{displayName:(0,i.M)(u.displayName,E),value:u.value}}(c,E))}function S(u){return(0,a.s)(u)}},419216:function(me,j,e){e.d(j,{QC:function(){return be},EP:function(){return Q},NK:function(){return ee},H3:function(){return lt},Cf:function(){return De},BE:function(){return Me},mV:function(){return J},bZ:function(){return ut},ZC:function(){return ae},kv:function(){return Be},Gs:function(){return x},E6:function(){return L},U6:function(){return z},ae:function(){return $e},Xy:function(){return Fe},Eo:function(){return Qe},g$:function(){return Le},bF:function(){return de},Gq:function(){return Ke},zl:function(){return X},MG:function(){return tt},Iu:function(){return ne},fU:function(){return re}});var r=e(473001),i=e(61917),a=e(935236),t=e(785463),l=e(304703),g=e(59764),n=e(596149),d=e(464205),s=e(168376),h=e(392339),o=e(101903),v=e(815863),m=e(118307),p=e(364472),y=e(446024),S=e(953661),C=e(317270),u=e(271982),E=e(249521),c=e(14445),f=e(861816),D=e(191941),b=e(842354),T=function(We){return We.Callout="callout",We.Highlight="highlight",We}({});function M(We){var nt=We.kind;if(!nt)return!1;switch(nt){case g.P.AnnotationTemplate:case g.P.Icon:case g.P.ExprList:case g.P.ErrorRange:case g.P.ItemLocation:return!0;default:t.Y.assertNever(nt)}return!1}var k,P=e(951087),N=e(349188),I=e(997519),O=D.eV.fromDescriptor({bool:!0}),R=D.eV.fromDescriptor({numeric:!0}),W=D.eV.fromDescriptor({integer:!0}),F=D.eV.fromDescriptor({text:!0}),U={fill:{solid:{color:!0}}};function x(We,nt){var Wt=We&&We[nt];if(Wt){for(var kt,Ht=0,lr=Wt.length;Ht<lr;Ht++){var mr=Wt[Ht];if(null==mr.selector){kt=mr;break}}if(kt)return kt.properties}}function L(We){return We&&"ExprContext"===We.propertyDefinitionKind}function z(We){return _.isArray(We)&&!!We[0].dataMap}function ee(We,nt,Wt,kt="objects"){if(null!=We)if(!_.isEmpty(We)||(0,r.cH)(We)){var Ht=nt();if(Ht)Wt[kt]=Q(We,Ht);else{var mr,lr=!1;Object.defineProperty(Wt,kt,{enumerable:!0,get:()=>(lr||(lr=!0,mr=Q(We,nt())),mr),set:_r=>{lr=!0,mr=_r}})}}else Wt[kt]={};else Wt[kt]=void 0}function Q(We,nt){if(t.Y.assertAnyValue(We,"input"),t.Y.assertAnyValue(nt,"descriptors"),We){!k&&!nt&&(k=!0,l.Cn.error("deserializeObjects called with no descriptors - ",!0));var Wt={};for(var kt in We){var Ht=void 0;if(!nt||(Ht=nt[kt]))for(var lr=We[kt],mr=Wt[kt]=[],_r=0,Vr=lr.length;_r<Vr;_r++)mr.push(oe(lr[_r],Ht,!nt))}return Wt}}function J(We){if(We)return _.map(We,Me)}function X(We){if(We)return _.map(We,Ke)}function ne(We){if(We)return{category:We.categoryString,underlyingType:We.extendedType}}function ae(We){if(We)return new D.eV(We.underlyingType,We.category)}function oe(We,nt,Wt){if(t.Y.assertAnyValue(We,"input"),t.Y.assertAnyValue(nt,"descriptor"),We){var kt={properties:Ae(We.properties,nt?nt.properties:null,Wt)},Ht=Me(We.selector);return Ht&&(kt.selector=Ht),kt}}function Me(We){if(t.Y.assertAnyValue(We,"input"),null===We)return null;if(We){var nt={};return We.data&&(nt.data=_.chain(We.data).map(Wt=>Ce(Wt)).filter(Wt=>null!=Wt).value()),We.metadata&&(nt.metadata=We.metadata),We.id&&(nt.id=We.id),void 0!==We.highlightMatching&&(nt.highlightMatching=We.highlightMatching),void 0!==We.hierarchyMatching&&(nt.hierarchyMatching=We.hierarchyMatching),null!=We.order&&(nt.order=We.order),nt}}function Ye(We,nt){return t.Y.assertAnyValue(We,"relatedObjects"),We?Object.fromEntries(Object.entries(We).map(([Wt,kt])=>[Wt,Object.fromEntries(Object.entries(kt).map(([Ht,lr])=>[Ht,lr.map(nt)]))])):{}}function Le(We){return Ye(We,nt=>Ke(nt))}function lt(We){return Ye(We,nt=>Me(nt))}function ut(We){if(t.Y.assertAnyValue(We,"input"),We){var nt={};if(We.dataMap)for(var Wt in nt.dataMap={},We.dataMap)nt.dataMap[Wt]=_.chain(We.dataMap[Wt]).map(kt=>Ce(kt)).filter(kt=>null!=kt).value();return We.metadata&&(nt.metadata=We.metadata),We.id&&(nt.id=We.id),nt}}function St(We,nt,Wt){We.decomposedIdentities&&(nt.decomposedIdentities=Wt(We.decomposedIdentities)),We.queryNames&&(nt.queryNames=We.queryNames),We.queryNameMap&&(nt.queryNameMap=We.queryNameMap),We.metadata&&(nt.metadata=We.metadata),We.id&&(nt.id=We.id)}function Be(We){if(We)return _.map(We,nt=>({objectName:nt.objectName,selectorsByColumn:ut(nt.selectorsByColumn)}))}function Ce(We){return t.Y.assertValue(We,"input"),We.scopeId?(0,b._)(We):We.wildcard?(0,v.Hg)(_.map(We.wildcard,I.F3.deserializeExpr)):We.roles?(0,h.WV)(We.roles):We.total?(0,o.Hg)(_.map(We.total,I.F3.deserializeExpr)):We.dataViewWildcard?(0,m.vt)(We.dataViewWildcard.matchingOption):void 0}function Ae(We,nt,Wt){if(t.Y.assertAnyValue(We,"input"),t.Y.assertAnyValue(nt,"propertyDescriptors"),We){var kt={};for(var Ht in We){var lr=be(We[Ht],nt?nt[Ht]:null,Wt);void 0!==lr&&(kt[Ht]=lr)}return kt}}function be(We,nt,Wt){if(t.Y.assertAnyValue(We,"input"),t.Y.assertAnyValue(nt,"propertyDescriptor"),nt){var kt=Ct(nt.type);return L(We)?{propertyDefinitionKind:"ExprWithContext",value:Ie(We.value,kt.value),context:Ee(We.context)}:function(We,nt){return!!nt.value}(0,kt)?Ie(We,kt.value):ve(We,kt.structural)}if(Wt&&We){if(L(We))return{propertyDefinitionKind:"ExprWithContext",value:I.F3.deserializeExpr(We.value.expr),context:Ee(We.context)};var Ht=We;if(Ht.expr)return I.F3.deserializeExpr(Ht.expr);if(Ht.solid)return ve(Ht,U);if(Ht.filter)return I.F3.deserializeFilter(Ht.filter);if(M(Ht))return xe(Ht)}}function Ie(We,nt){if(t.Y.assertValue(nt,"type"),void 0!==nt.primitiveType&&We?.expr)return I.F3.deserializeExpr(We.expr)}function ve(We,nt){if(t.Y.assertValue(nt,"type"),nt.fill&&nt.fill.solid&&nt.fill.solid.color&&We)return We.solid&&We.solid.color?{solid:{color:Ie(We.solid.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))}}:void 0;if(nt.fillRule){var Ht=xt(We,Ie);if(Ht)return Ht}var lr=We;return nt.filter&&lr&&lr.filter?I.F3.deserializeFilter(lr.filter):nt.image&&lr&&lr.image?function(We){t.Y.assertValue(We,"input");var nt={name:Ie(We.name,F),url:Ie(We.url,D.eV.fromDescriptor(S.c))};return We.scaling&&(nt.scaling=Ie(We.scaling,F)),nt}(lr.image):nt.geoJson&&lr&&lr.geoJson?function(We){return t.Y.assertValue(We,"input"),{type:Ie(We.type,F),name:Ie(We.name,F),content:Ie(We.content,F)}}(lr.geoJson):nt.paragraphs&&We?function(We){return t.Y.assertValue(We,"input"),_.map(We,nt=>{var Wt={textRuns:_.map(nt.textRuns,kt=>(0,E.PG)(kt)?fe(kt):(0,E.Nr)(kt)?function(We){var nt={cases:_.map(We.cases,Wt=>{var kt={pattern:Ie(Wt.pattern,F),textRuns:_.map(Wt.textRuns,Ht=>fe(Ht))};return kt}),defaultCase:{textRuns:_.map(We.defaultCase.textRuns,Wt=>fe(Wt))},expression:Ue(We.expression)};return nt}(kt):void 0)};return nt.horizontalTextAlignment&&(Wt.horizontalTextAlignment=nt.horizontalTextAlignment),nt.listType&&(Wt.listType=nt.listType),nt.indent&&(Wt.indent=nt.indent),Wt})}(We):nt.queryTransform&&We?function(We){return t.Y.assertValue(We,"input"),{algorithm:We.algorithm,parameters:_.map(We.parameters,Wt=>({name:Wt.Name,expr:I.F3.deserializeExpr(Wt)}))}}(We):nt.dataBars&&We?function(We){return t.Y.assertValue(We,"input"),{minValue:We.minValue?Ie(We.minValue,R):void 0,maxValue:We.maxValue?Ie(We.maxValue,R):void 0,positiveColor:ve(We.positiveColor,U),negativeColor:ve(We.negativeColor,U),axisColor:ve(We.axisColor,U),reverseDirection:Ie(We.reverseDirection,O),hideText:Ie(We.hideText,O),totalMatchingOption:We.totalMatchingOption?Ie(We.totalMatchingOption,W):void 0}}(We):nt.qnaVisualLink&&We?function(We){t.Y.assertValue(We,"input");var nt={};return We.suggestedUtterances&&(nt.suggestedUtterances=_.map(We.suggestedUtterances,Wt=>({utterance:Wt.Utterance}))),_.isEmpty(nt)?void 0:nt}(We):M(We)?xe(We,nt):void t.Y.assertFail("Deserializing a structural type failed")}function xe(We,nt){t.Y.assertValue(We,"input");var Wt=We.kind;switch(Wt){case g.P.AnnotationTemplate:return(!nt||nt.annotationTemplate)&&function(We){if(t.Y.assertValue(We,"input"),function(We){return We.annotationType===T.Callout}(We)){var nt=We,Wt={kind:g.P.AnnotationTemplate,annotationType:u.x.Callout,text:I.F3.deserializeExpr(nt.text.expr)};return null!=nt.offsetX&&(Wt.offsetX=I.F3.deserializeExpr(nt.offsetX.expr)),null!=nt.offsetY&&(Wt.offsetY=I.F3.deserializeExpr(nt.offsetY.expr)),null!=nt.width&&(Wt.width=I.F3.deserializeExpr(nt.width.expr)),null!=nt.height&&(Wt.height=I.F3.deserializeExpr(nt.height.expr)),null!=nt.lastEditUTCTimestamp&&(Wt.lastEditUTCTimestamp=I.F3.deserializeExpr(nt.lastEditUTCTimestamp.expr)),Wt}var kt=We,Ht={kind:g.P.AnnotationTemplate,annotationType:u.x.Highlight,color:I.F3.deserializeExpr(kt.color.expr)};return null!=kt.fontColor&&(Ht.fontColor=I.F3.deserializeExpr(kt.fontColor.expr)),null!=kt.backgroundColor&&(Ht.backgroundColor=I.F3.deserializeExpr(kt.backgroundColor.expr)),null!=kt.emphasizeText&&(Ht.emphasizeText=I.F3.deserializeExpr(kt.emphasizeText.expr)),null!=kt.strokeDasharray&&(Ht.strokeDasharray=I.F3.deserializeExpr(kt.strokeDasharray.expr)),null!=kt.shouldOffsetVisibleOutlinesInbound&&(Ht.shouldOffsetVisibleOutlinesInbound=I.F3.deserializeExpr(kt.shouldOffsetVisibleOutlinesInbound.expr)),null!=kt.targets&&(Ht.targets=_.map(kt.targets,lr=>I.F3.deserializeExpr(lr.expr))),Ht}(We);case g.P.Icon:return(!nt||nt.icon)&&function(We){t.Y.assertValue(We,"input");var nt={kind:g.P.Icon};return We.layout&&(nt.layout=Ie(We.layout,F)),We.verticalAlignment&&(nt.verticalAlignment=Ie(We.verticalAlignment,O)),We.value&&(nt.value=Ie(We.value,F)),nt}(We);case g.P.ExprList:return(!nt||nt.exprList||nt.selectedValues)&&function(We){t.Y.assertValue(We,"input");var nt={exprs:[],kind:g.P.ExprList};return nt.exprs=_.map(We.exprs,Wt=>I.F3.deserializeExpr(Wt.expr)),nt}(We);case g.P.ErrorRange:return(!nt||nt.errorRange)&&function(We){t.Y.assertValue(We,"input");var nt={kind:g.P.ErrorRange};if(We.explicit){var Wt=We.explicit;nt.explicit={isRelative:I.F3.deserializeExpr(Wt.isRelative.expr)},Wt.lowerBound&&(nt.explicit.lowerBound=I.F3.deserializeExpr(Wt.lowerBound.expr)),Wt.upperBound&&(nt.explicit.upperBound=I.F3.deserializeExpr(Wt.upperBound.expr))}else if(We.symmetricalExplicit)nt.symmetricalExplicit={delta:I.F3.deserializeExpr(We.symmetricalExplicit.delta.expr)};else if(We.standardDeviation){var Ht=We.standardDeviation;nt.standardDeviation={value:I.F3.deserializeExpr(Ht.value.expr),multiplier:I.F3.deserializeExpr(Ht.multiplier.expr)}}else if(We.percentage){var lr=We.percentage;nt.percentage={lowerBoundDelta:I.F3.deserializeExpr(lr.lowerBoundDelta.expr),upperBoundDelta:I.F3.deserializeExpr(lr.upperBoundDelta.expr)}}else if(We.percentile){var mr=We.percentile;t.Y.assertValue(mr.lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),t.Y.assertValue(mr.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),nt.percentile={lowerBound:I.F3.deserializeExpr(mr.lowerBound.expr),upperBound:I.F3.deserializeExpr(mr.upperBound.expr)}}return nt}(We);case g.P.ItemLocation:return(!nt||nt.itemLocation)&&function(We){var nt;if(t.Y.assertValue(We,"input"),We.byReference&&(nt={kind:g.P.ItemLocation,byReference:{itemId:Ie(We.byReference.itemId,F)}},null!=We.byReference.workspaceId&&(nt.byReference.workspaceId=Ie(We.byReference.workspaceId,F)),null!=We.byReference.folderId&&(nt.byReference.folderId=Ie(We.byReference.folderId,F))),nt&&We.metadata){nt.metadata={};var kt=We.metadata.dataFunction;kt&&(nt.metadata.dataFunction={name:kt.name,autoRefresh:kt.autoRefresh,parameters:kt.parameters.map(Ht=>{switch(Ht.type){case"SlicerParameter":return{...Ht};case"ValueParameter":return{...Ht,value:I.F3.deserializeExpr(Ht.value.expr)}}})})}return nt}(We);default:t.Y.assertNever(Wt)}}function Ee(We){t.Y.assertValue(We,"input");var nt={};return _.isEmpty(We.filterContext)||(nt.filterContext=_.map(We.filterContext,Wt=>({filter:I.F3.deserializeFilter(Wt.filter),metadata:Wt.metadata?(0,N.jH)(Wt.metadata):void 0}))),nt}function fe(We){var nt={value:Se(We.value)};return We.textStyle&&(nt.textStyle=We.textStyle),We.url&&(nt.url=We.url),We.mentionEmail&&(nt.mentionEmail=We.mentionEmail),We.mentionKey&&(nt.mentionKey=We.mentionKey),nt}function Se(We){var nt;if(_.isString(We))nt=We;else if(!(nt=Ie(We,F))){var Wt=We;(0,f.p)(Wt)&&(nt=Wt)}return nt}function Ue(We){var nt;if(!(nt=Ie(We,F))){var Wt=We;(0,f.p)(Wt)&&(nt=Wt)}return nt}function Qe(We,nt,Wt,kt){if(t.Y.assertAnyValue(We,"contract"),t.Y.assertAnyValue(nt,"descriptors"),We){var Ht={};for(var lr in We){var mr=void 0;if(!nt||(mr=nt[lr]))for(var _r=We[lr],Vr=Ht[lr]=[],br=0,Br=_r.length;br<Br;br++)Vr.push(je(_r[br],mr,!nt,Wt,kt))}return Ht}}function je(We,nt,Wt,kt,Ht){if(t.Y.assertAnyValue(We,"contract"),t.Y.assertAnyValue(nt,"descriptor"),We){var lr=function(We,nt,Wt,kt,Ht){if(t.Y.assertAnyValue(We,"contract"),t.Y.assertAnyValue(nt,"descriptors"),We){var lr={};for(var mr in We){var _r=nt?nt[mr]:null;if(!(Ht&&_r?.transient||!Wt&&!_r)){var Vr=Fe(We[mr],_r,Wt,kt);void 0===Vr?t.Y.assertFail("DataViewObjectSerializer: failed to serialize property: "+mr+" due to malformed property value."):lr[mr]=Vr}}return lr}}(We.properties,nt?nt.properties:null,Wt,kt,Ht);if(lr){var mr={properties:lr},_r=Ke(We.selector);return _r&&(mr.selector=_r),mr}}}function Ke(We){if(t.Y.assertAnyValue(We,"contract"),null===We)return null;if(We){var nt={};return We.data&&(nt.data=_.chain(We.data).map(Wt=>ce(Wt)).filter(Wt=>null!=Wt).value()),We.metadata&&(nt.metadata=We.metadata),We.id&&(nt.id=We.id),void 0!==We.highlightMatching&&(nt.highlightMatching=We.highlightMatching),void 0!==We.hierarchyMatching&&(nt.hierarchyMatching=We.hierarchyMatching),null!=We.order&&(nt.order=We.order),nt}}function tt(We){if(t.Y.assertAnyValue(We,"contract"),We){var nt={};if(We.dataMap)for(var Wt in nt.dataMap={},We.dataMap){var kt=(0,a.eC)(We.dataMap[Wt]);nt.dataMap[Wt]=_.chain(kt).map(Ht=>ce(Ht)).filter(Ht=>null!=Ht).value()}return We.metadata&&(nt.metadata=We.metadata),We.id&&(nt.id=We.id),nt}}function $e(We){if(t.Y.assertAnyValue(We,"contract"),We){var nt={};return St(We,nt,P.y4),nt}}function de(We,nt){return nt?$e((0,n.$Y)(We)):_.map(We,kt=>tt(kt))}function De(We){if(function(We){return!_.isArray(We)&&!!We.decomposedIdentities}(We)){var nt=function(We){if(t.Y.assertAnyValue(We,"input"),We){var nt={};return St(We,nt,P.Ph),nt}}(We);return(0,n.TM)(nt)}return _.map(We,Wt=>ut(Wt))}function re(We){if(We)return _.map(We,nt=>({objectName:nt.objectName,selectorsByColumn:tt(nt.selectorsByColumn)}))}function ce(We){return t.Y.assertValue(We,"contract"),(0,d.fF)(We)&&We.expr?(0,b.V)(We):(0,d.rh)(We)&&We.exprs?{wildcard:_.map(We.exprs,nt=>I.F3.serializeExpr(nt))}:(0,d.jG)(We)&&We.roles?{roles:We.roles}:(0,d.pB)(We)&&We.exprs?{total:_.map(We.exprs,nt=>I.F3.serializeExpr(nt))}:(0,d.z2)(We)?{dataViewWildcard:te(We)}:void t.Y.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function te(We){return{matchingOption:We.matchingOption}}function Fe(We,nt,Wt,kt){if(t.Y.assertAnyValue(We,"contract"),t.Y.assertAnyValue(nt,"descriptor"),nt){var Ht=Ct(nt.type);return(0,s.JZ)(We)?{propertyDefinitionKind:"ExprContext",value:et(We.value,Ht.value),context:st(We.context,kt)}:Ht.value?et(We,Ht.value):vt(We,Ht.structural)}if(Wt&&We){if((0,s.JZ)(We))return{propertyDefinitionKind:"ExprContext",value:{expr:I.F3.serializeExpr(We.value)},context:st(We.context,kt)};if(We instanceof y.yj)return{expr:I.F3.serializeExpr(We)};if(We instanceof p.b0)return{filter:I.F3.serializeFilter(We)};var lr=We;if((0,c.YK)(lr))return At(lr);if(lr.solid)return vt(We,U)}}function et(We,nt){if(t.Y.assertValue(nt,"type"),void 0!==nt?.primitiveType&&We instanceof y.yj)return{expr:I.F3.serializeExpr(We,!0)}}function vt(We,nt){if(t.Y.assertValue(nt,"type"),We){if((0,c.YK)(We))return At(We,nt);if(nt.fill&&nt.fill.solid&&nt.fill.solid.color)return{solid:{color:et(We.solid.color,F)}};if(nt.fillRule){var Ht=xt(We,et);if(Ht)return Ht}if(nt.filter)return{filter:I.F3.serializeFilter(We)};if(nt.image)return{image:Re(We)};if(nt.geoJson)return{geoJson:q(We)};if(nt.paragraphs)return function(We){return t.Y.assertValue(We,"definition"),_.map(We,nt=>{var Wt={textRuns:_.map(nt.textRuns,kt=>(0,E.OX)(kt)?Ve(kt):(0,E.k9)(kt)?{cases:_.map(kt.cases,lr=>({pattern:et(lr.pattern,F),textRuns:_.map(lr.textRuns,_r=>Ve(_r))})),defaultCase:{textRuns:_.map(kt.defaultCase.textRuns,lr=>Ve(lr))},expression:it(kt.expression)}:void 0)};return nt.horizontalTextAlignment&&(Wt.horizontalTextAlignment=nt.horizontalTextAlignment),nt.listType&&(Wt.listType=nt.listType),nt.indent&&(Wt.indent=nt.indent),Wt})}(We);if(nt.queryTransform)return function(We){return{algorithm:We.algorithm,parameters:_.map(We.parameters,nt=>{var Wt=I.F3.serializeExpr(nt.expr);return Wt.Name=nt.name,Wt})}}(We);if(nt.dataBars)return function(We){return{minValue:et(We.minValue,R),maxValue:et(We.maxValue,R),positiveColor:vt(We.positiveColor,U),negativeColor:vt(We.negativeColor,U),axisColor:vt(We.axisColor,U),reverseDirection:et(We.reverseDirection,O),hideText:et(We.hideText,O),totalMatchingOption:et(We.totalMatchingOption,W)}}(We);if(nt.qnaVisualLink)return function(We){t.Y.assertValue(We,"input");var nt={};if(We.suggestedUtterances){nt.suggestedUtterances=_.map(We.suggestedUtterances,kt=>({Version:"1.0",Utterance:kt.utterance}))}return _.isEmpty(nt)?void 0:nt}(We);t.Y.assertFail("Serializing a structural type failed")}}function At(We,nt){var Wt=We.kind;switch(Wt){case g.P.AnnotationTemplate:return(!nt||nt.annotationTemplate)&&function(We){if(t.Y.assertValue(We,"input"),(0,C.TV)(We)){var nt=We,Wt={kind:g.P.AnnotationTemplate,annotationType:T.Callout,text:et(nt.text,F)};return null!=nt.offsetX&&(Wt.offsetX=et(nt.offsetX,R)),null!=nt.offsetY&&(Wt.offsetY=et(nt.offsetY,R)),null!=nt.width&&(Wt.width=et(nt.width,R)),null!=nt.height&&(Wt.height=et(nt.height,R)),null!=nt.lastEditUTCTimestamp&&(Wt.lastEditUTCTimestamp=et(nt.lastEditUTCTimestamp,R)),Wt}var kt=We,Ht={kind:g.P.AnnotationTemplate,annotationType:T.Highlight,color:et(kt.color,F)};return null!=kt.fontColor&&(Ht.fontColor=et(kt.fontColor,F)),null!=kt.backgroundColor&&(Ht.backgroundColor=et(kt.backgroundColor,F)),null!=kt.emphasizeText&&(Ht.emphasizeText=et(kt.emphasizeText,O)),null!=kt.strokeDasharray&&(Ht.strokeDasharray=et(kt.strokeDasharray,F)),null!=kt.shouldOffsetVisibleOutlinesInbound&&(Ht.shouldOffsetVisibleOutlinesInbound=et(kt.shouldOffsetVisibleOutlinesInbound,O)),null!=kt.targets&&(Ht.targets=_.map(kt.targets,lr=>et(lr,F))),Ht}(We);case g.P.Icon:return(!nt||nt.icon)&&function(We){var nt={kind:g.P.Icon};return We.layout&&(nt.layout=et(We.layout,F)),We.verticalAlignment&&(nt.verticalAlignment=et(We.verticalAlignment,O)),We.value&&(nt.value=et(We.value,F)),nt}(We);case g.P.ExprList:return(!nt||nt.exprList||nt.selectedValues)&&function(We){t.Y.assertValue(We,"input");var nt={exprs:[],kind:g.P.ExprList};return nt.exprs=_.map(We.exprs,Wt=>et(Wt,F)),nt}(We);case g.P.ErrorRange:return(!nt||nt.errorRange)&&function(We){t.Y.assertValue(We,"input");var nt={kind:g.P.ErrorRange};if(We.explicit){var Wt=We.explicit;nt.explicit={isRelative:et(Wt.isRelative,O)},Wt.lowerBound&&(nt.explicit.lowerBound=et(Wt.lowerBound,R)),Wt.upperBound&&(nt.explicit.upperBound=et(Wt.upperBound,R))}else if(We.symmetricalExplicit)nt.symmetricalExplicit={delta:et(We.symmetricalExplicit.delta,R)};else if(We.standardDeviation){var Ht=We.standardDeviation;nt.standardDeviation={value:et(Ht.value,R),multiplier:et(Ht.multiplier,R)}}else if(We.percentage){var lr=We.percentage;nt.percentage={lowerBoundDelta:et(lr.lowerBoundDelta,R),upperBoundDelta:et(lr.upperBoundDelta,R)}}else if(We.percentile){var mr=We.percentile;nt.percentile={lowerBound:et(mr.lowerBound,R),upperBound:et(mr.upperBound,R)}}return nt}(We);case g.P.ItemLocation:return function(We){var nt;if(t.Y.assertValue(We,"input"),We.byReference){var Wt=We.byReference;nt={kind:g.P.ItemLocation,byReference:{itemId:et(Wt.itemId,F)}},null!=Wt.workspaceId&&(nt.byReference.workspaceId=et(Wt.workspaceId,F)),null!=Wt.folderId&&(nt.byReference.folderId=et(Wt.folderId,F))}if(nt){var kt=We.metadata;if(kt){nt.metadata={};var Ht=kt.dataFunction;Ht&&(nt.metadata.dataFunction={name:Ht.name,autoRefresh:Ht.autoRefresh,parameters:Ht.parameters.map(lr=>{switch(lr.type){case"SlicerParameter":return{...lr};case"ValueParameter":var mr;switch(lr.dataType){case"boolean":mr=O;break;case"number":mr=R;break;case"string":mr=F}return{...lr,value:et(lr.value,mr)}}})})}}return nt}(We);default:t.Y.assertNever(Wt)}}function st(We,nt){t.Y.assertValue(We,"contract");var Wt={};return _.isEmpty(We.filterContext)||(Wt.filterContext=_.map(We.filterContext,kt=>({filter:I.F3.serializeFilter(kt.filter),metadata:kt.metadata?(0,N.UJ)(kt.metadata,nt):void 0}))),Wt}function Re(We){t.Y.assertValue(We,"definition");var nt={name:et(We.name,F),url:et(We.url,D.eV.fromDescriptor(S.c))};return We.scaling&&(nt.scaling=et(We.scaling,F)),nt}function q(We){return t.Y.assertValue(We,"definition"),{type:et(We.type,F),name:et(We.name,F),content:et(We.content,F)}}function Ve(We){var nt={value:ke(We.value)};return We.textStyle&&(nt.textStyle=We.textStyle),We.url&&(nt.url=We.url),We.mentionEmail&&(nt.mentionEmail=We.mentionEmail),We.mentionKey&&(nt.mentionKey=We.mentionKey),nt}function ke(We){var nt;return We instanceof y.yj?nt=et(We,F):_.isString(We)||(0,f.p)(We)?nt=We:t.Y.assertNever(We),nt}function it(We){var nt;return We instanceof y.yj?nt=et(We,F):(0,f.p)(We)?nt=We:t.Y.assertNever(We),nt}function Ct(We){t.Y.assertValue(We,"typeDescriptor");var nt=D.eV.fromDescriptor(We);return nt.primitiveType!==i.W.Null?{value:nt}:{structural:We}}function xt(We,nt){if(We.linearGradient2){var Wt=We.linearGradient2,kt={min:{color:nt(Wt.min.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))},max:{color:nt(Wt.max.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))}};return Wt.min.value&&(kt.min.value=nt(Wt.min.value,D.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Wt.max.value&&(kt.max.value=nt(Wt.max.value,D.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Wt.nullColoringStrategy&&(kt.nullColoringStrategy={strategy:nt(Wt.nullColoringStrategy.strategy,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))},Wt.nullColoringStrategy.color&&(kt.nullColoringStrategy.color=nt(Wt.nullColoringStrategy.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text)))),{linearGradient2:kt}}if(We.linearGradient3){var Ht=We.linearGradient3,lr={min:{color:nt(Ht.min.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))},mid:{color:nt(Ht.mid.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))},max:{color:nt(Ht.max.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))}};return Ht.min.value&&(lr.min.value=nt(Ht.min.value,D.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Ht.mid.value&&(lr.mid.value=nt(Ht.mid.value,D.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Ht.max.value&&(lr.max.value=nt(Ht.max.value,D.eV.fromPrimitiveTypeAndCategory(i.W.Double))),Ht.nullColoringStrategy&&(lr.nullColoringStrategy={strategy:nt(Ht.nullColoringStrategy.strategy,D.eV.fromPrimitiveTypeAndCategory(i.W.Text))},Ht.nullColoringStrategy.color&&(lr.nullColoringStrategy.color=nt(Ht.nullColoringStrategy.color,D.eV.fromPrimitiveTypeAndCategory(i.W.Text)))),{linearGradient3:lr}}return null}},717312:function(me,j,e){e.d(j,{R:function(){return m}});var r=e(61917),i=e(460169),a=e(785463),t=e(661249),l=e(168376),g=e(381839),n=e(446024),d=e(191941),s=e(419216),o=e(448543),v=e(997519);class m{static deserializeDataViewSelectTransforms(y){return a.Y.assertValue(y,"input"),function(p){if(p)for(var y of p)y.kpiStatusGraphic&&(y.kpi={graphic:y.kpiStatusGraphic})}(y),_.map(y,S=>{var C={displayName:S.displayName,format:S.format,kpi:S.kpi,queryName:S.queryName,roles:S.roles,sort:S.sort,sortOrder:S.sortOrder,type:(0,s.ZC)(S.type)};return S.expr&&(C.expr=v.F3.deserializeExpr(S.expr)),S.aggregateSources&&(C.aggregateSources=S.aggregateSources),S.relatedSelects&&(C.relatedSelects=S.relatedSelects),S.relatedObjects&&(C.relatedObjects=(0,s.H3)(S.relatedObjects)),C})}static serializeDataViewSelectTransforms(y){return a.Y.assertValue(y,"input"),_.map(y,S=>{var C={displayName:S.displayName,format:S.format,kpi:S.kpi,queryName:S.queryName,roles:S.roles,sort:S.sort,sortOrder:S.sortOrder,type:(0,s.Iu)(S.type)};return S.expr&&(C.expr=v.F3.serializeExpr(S.expr)),S.aggregateSources&&(C.aggregateSources=S.aggregateSources),S.relatedSelects&&(C.relatedSelects=S.relatedSelects),S.relatedObjects&&(C.relatedObjects=(0,s.g$)(S.relatedObjects)),S.sourceFieldParameters&&(C.sourceFieldParameters=S.sourceFieldParameters),C})}static serializeDataViewTransformActions(y,S){a.Y.assertAnyValue(S,"objectDescriptors");var C={objects:(y=y||{}).objects,projectionOrdering:y.roles&&y.roles.ordering,projectionActiveItems:y.roles&&y.roles.activeItems,splits:y.splits,queryMetadata:null,visualElements:null};return y&&y.objects&&(C.objects=(0,s.Eo)(y.objects,S,void 0,!1)),y&&y.selects&&(C.selects=m.serializeDataViewSelectTransforms(y.selects)),y&&!_.isEmpty(y.expansionStates)&&(C.expansionStates=(0,o.K2)(y.expansionStates)),C}static deserializeDataViewTransformActions(y,S){var C=S&&S.objects;a.Y.assertValue(y,"actions"),a.Y.assertAnyValue(C,"objectDescriptors");var u=y.objects?(0,s.EP)(y.objects,C):null,E=m.createTransformActions(y.queryMetadata,y.visualElements,C,u)||{},c=y&&y.projectionActiveItems;return _.isEmpty(c)||this.upgradeActiveItemsIfNeeded(c),E.roles={ordering:y.projectionOrdering,activeItems:c},E.splits=y.splits,y.selects&&(E.selects=m.deserializeDataViewSelectTransforms(y.selects)),y.expansionStates&&(E.expansionStates=(0,o.rY)(y.expansionStates,{supportsMerge:S&&S.expandCollapse&&S.expandCollapse.supportsMerge,canCollapseRoot:S&&S.noDefaultProjections,collapseParentAfterRemovingChildLevel:S&&S.expandCollapse&&S.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(E),E}static isStringArray(y){return _.isString(y[0])}static upgradeActiveItemsIfNeeded(y){for(var S in y){var C=y[S],u=void 0;!_.isEmpty(C)&&this.isStringArray(C)&&(u=_.map(C,c=>({queryRef:c}))),y[S]=u||C}}static upgradeComboChartFromCY16SU04AndPrior(y){a.Y.assertValue(y,"transformActions");var S="Y",u=y.roles&&y.roles.ordering;if(u){var E=u[S]&&1===u[S].length&&_.includes(u.Y2,u[S][0])?u[S][0]:void 0;if(void 0!==E){var c=y.splits&&2===y.splits.length&&!y.splits[0].selects[E]&&y.splits[1].selects[E]?y.splits[0]:void 0;if(c){var f=_.chain(Object.keys(c.selects)).filter(V=>c.selects[V]).map(V=>parseInt(V,10)).maxBy(V=>V).value();if(f!==Number.NEGATIVE_INFINITY&&y.selects&&y.selects.length===f){var b=y.selects[E];if(b&&b.roles[S]&&b.roles.Y2){delete b.roles[S];var M={...b};M.roles={[S]:!0},M.queryName=b.queryName,y.selects[f]=M,y.roles.ordering[S]=[f]}}}}}}static serializeTransformActions(y){return JSON.stringify(y)}static createTransformActions(y,S,C,u){var E=this;if(a.Y.assertAnyValue(y,"queryMetadata"),a.Y.assertAnyValue(S,"visualElements"),a.Y.assertAnyValue(C,"objectDescs"),a.Y.assertAnyValue(u,"objectDefns"),y&&!_.isEmpty(y.Select)||!_.isEmpty(S)||u){var c={};if(y){var f=y.Select;if(f)for(var D=c.selects=[],b=function(){var N=f[T];if(!N)return D.push(null),1;var I=E.toTransformSelect(N,T);if(D.push(I),I.format&&C){a.Y.assert(()=>!!I.queryName,"selectTransform.queryName should be defined (or defaulted).");var O=(0,g.U9)(C);O&&(u||(u={}),(0,l.KY)(u,O,{metadata:I.queryName},(0,n.Qq)(I.format)))}},T=0,M=f.length;T<M;T++)b()}if(S){var V=(S=_.unionBy(S,N=>JSON.stringify(N))).length;V>1&&(c.splits=[]);for(var w=0;w<V;w++){var P=S[w];P.Settings&&0===w&&(u=this.upgradeSettingsToObjects(P.Settings,u)),P.DataRoles&&(c.selects||(c.selects=[]),c.roles||(c.roles={ordering:{}}),this.populateDataRoles(P.DataRoles,c.selects,c.roles.ordering)),c.splits&&c.splits.push(this.populateSplit(P.DataRoles))}}return u&&(c.objects=u),c}}static toTransformSelect(y,S){a.Y.assertValue(y,"select");var C={};return y.Restatement&&(C.displayName=y.Restatement),y.Name?C.queryName=y.Name:C.queryName||(C.queryName="$select"+S),y.Format&&(C.format=y.Format),y.Type&&(C.type=this.describeDataType(y.Type,(0,t.L4)(y.DataCategory))),y.kpi&&(C.kpi=y.kpi),y.kpiStatusGraphic&&(C.kpi={graphic:y.kpiStatusGraphic}),C}static describeDataType(y,S){var C=r.W.Null;switch(y=y||i.r$.None){case i.r$.String:C=r.W.Text;break;case i.r$.Number:C=r.W.Double;break;case i.r$.Integer:C=r.W.Integer;break;case i.r$.Boolean:C=r.W.Boolean;break;case i.r$.Date:C=r.W.Date;break;case i.r$.DateTime:C=r.W.DateTime;break;case i.r$.Time:C=r.W.Time;break;case i.r$.Year:C=r.W.Integer,a.Y.assert(()=>!S||"Year"===S,"Unexpected category for Year type."),S="Year";break;case i.r$.Month:C=r.W.Integer,a.Y.assert(()=>!S||"Month"===S,"Unexpected category for Month type."),S="Month"}return d.eV.fromPrimitiveTypeAndCategory(C,S)}static populateDataRoles(y,S,C){a.Y.assertValue(y,"roles"),a.Y.assertValue(S,"selects"),a.Y.assertValue(C,"projectionOrdering");for(var u=0,E=y.length;u<E;u++){var c=y[u],f=c.Projection,D=c.Name,b=S[f];void 0===b&&(this.fillArray(S,f),b=S[f]={});var T=b.roles;void 0===b.roles&&(T=b.roles={}),T[D]=!0;var M=C[D];void 0===M&&(M=C[D]=[]),M.push(f)}}static fillArray(y,S){a.Y.assertValue(y,"selects"),a.Y.assertValue(S,"length");for(var C=y.length;C<S;C++)y[C]={}}static populateSplit(y){a.Y.assertAnyValue(y,"roles");var S={},C={selects:S};if(y)for(var u=0,E=y.length;u<E;u++)S[y[u].Projection]=!0;return C}static upgradeSettingsToObjects(y,S){if(y){var C;for(C in S||(S={}),y){var u=y[C],E=C,c=u,f="general";switch(C){case"hasScalarCategoryAxis":f="categoryAxis",E="axisType",c=(0,n.Qq)(u?"Scalar":"Categorical");break;case"Totals":E="totals",c=(0,n.zM)(!!u);break;case"textboxSettings":E="paragraphs",u&&u.paragraphs&&(c=u.paragraphs);break;case"VisualType1":E="visualType1",c=(0,n.Qq)(u);break;case"VisualType2":E="visualType2",c=(0,n.Qq)(u);break;case"imageVisualSettings":E="imageUrl",u&&u.imageUrl&&(c=(0,n.Qq)(u.imageUrl));break;default:continue}this.setObjectDefinition(S,f,E,c)}return S}}static setObjectDefinition(y,S,C,u){a.Y.assertValue(y,"objects"),a.Y.assertValue(S,"objectName"),a.Y.assertValue(C,"propertyName");var E=y[S];void 0===E&&(E=y[S]=[]);var c=E[0];void 0===c&&(c=E[0]={properties:{}}),c.properties[C]=u}}},951087:function(me,j,e){e.d(j,{$m:function(){return n},Ph:function(){return t},sC:function(){return g},y4:function(){return s}});var r=e(785463),i=e(997519),a=e(662785);function t(h){var o=[];for(var m of h.values){var p=[];for(var y of m){var S=_.mapValues(y,C=>_.map(C,u=>i.F3.deserializeExpr(u)));p.push(S)}o.push(p)}return{values:o,columns:_.map(h.columns,C=>l(C))}}function l(h){var o={};if(h.left&&h.right)return o.left=l(h.left),o.right=l(h.right),o;if(h.value){var v=i.F3.deserializeExpr(h.value);return(0,a.Qg)(v)||(0,a.tx)(v)||(0,a.R3)(v)||(0,a.b9)(v)?o.value=v:r.Y.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),o}r.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function g(h){if(r.Y.assertAnyValue(h,"input"),h){var o={expressions:_.map(h.expressions,v=>i.F3.deserializeExpr(v))};return h.decomposedIdentities&&(o.decomposedIdentities=t(h.decomposedIdentities)),h.valueMap&&(o.valueMap=h.valueMap),h.jsonFilter&&(o.jsonFilter=h.jsonFilter),o}}function n(h){if(r.Y.assertAnyValue(h,"contract"),h){var o={expressions:_.map(h.expressions,v=>i.F3.serializeExpr(v))};return h.decomposedIdentities&&(o.decomposedIdentities=s(h.decomposedIdentities)),h.valueMap&&(o.valueMap=h.valueMap),h.jsonFilter&&(o.jsonFilter=h.jsonFilter),o}}function d(h){var o={};return h.left&&h.right?(o.left=d(h.left),o.right=d(h.right),o):h.value?(o.value=i.F3.serializeExpr(h.value),o):void r.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function s(h){if(r.Y.assertAnyValue(h,"contract"),h){var o=[];for(var m of h.values){var p=[];for(var y of m){var S=_.mapValues(y,C=>_.map(C,u=>i.F3.serializeExpr(u)));p.push(S)}o.push(p)}return{values:o,columns:_.map(h.columns,C=>d(C))}}}},285380:function(me,j,e){e.d(j,{H:function(){return l},_x:function(){return t},x5:function(){return i},yV:function(){return a}});var r=e(842354);function i(g){if(g&&!(g.length<1)){var n=[];for(var d of g)if(d.identity&&d.identity.expr){var s=(0,r.V)(d.identity);s&&n.push({id:s,displayName:d.displayName})}return n}}function a(g){if(g&&!(g.length<1)){var n=[];for(var d of g)if(d.id){var s=(0,r._)(d.id);s&&n.push({identity:s,displayName:d.displayName})}return n}}function t(g){if(g&&!(g.length<1)){var n=[];for(var d of g)if(!_.isEmpty(d.identities)){var s=_.map(d.identities,h=>(0,r.V)(h));s&&n.push({identities:s,valueMap:d.valueMap})}return n}}function l(g){if(g&&!(g.length<1)){var n=[];for(var d of g)if(!_.isEmpty(d.identities)){var s=_.map(d.identities,h=>(0,r._)(h));s&&n.push({identities:s,valueMap:d.valueMap})}return n}}},448543:function(me,j,e){e.d(j,{K2:function(){return t},rY:function(){return d}});var r=e(785463),i=e(904046),a=e(997519);function t(o){return _.filter(_.map(o,v=>function(o){if(r.Y.assertValue(o,"expansionState"),r.Y.assertValue(!_.isEmpty(o.roles),"expansionState.roles"),(0,i.ye)(o)||(0,i.qj)(o)){var v={roles:o.roles};return _.isEmpty(o.levels)||(r.Y.assertValue(o.root,"expansionState.root"),v.levels=_.map(o.levels,m=>function(o){if(r.Y.assertAnyValue(o,"level"),o){r.Y.assertNonEmpty(o.queryRefs,"level.queryRefs");var v={queryRefs:_.clone(o.queryRefs)};return o.isCollapsed&&(v.isCollapsed=!0),o.identityKeys&&(v.identityKeys=_.map(o.identityKeys,m=>a.F3.serializeExpr(m))),o.isPinned&&(v.isPinned=o.isPinned),o.isLocked&&(v.isLocked=o.isLocked),o.AIInformation&&(v.AIInformation=_.cloneDeep(o.AIInformation)),v}}(m)),v.root=n(o.root)),v}}(v)),v=>v)}function n(o){r.Y.assertValue(o,"node");var v={identityValues:o.identityValues?_.map(o.identityValues,y=>a.F3.serializeExpr(y)):null};if(o.isToggled&&(v.isToggled=!0),!_.isEmpty(o.children)){v.children=[];var m=function(y){r.Y.assert(()=>!_.isEmpty(y.identityValues),"child.identityValues");var S=n(y);v.children.push(S)};for(var p of o.children)m(p)}return v}function d(o,v){if(o){var m=[],p=function(S){if(!S)return 1;r.Y.assert(()=>!_.isEmpty(S.roles),"serializedHierarchy.roles");var C=new i.nu(S.roles,v);_.isEmpty(S.levels)||(r.Y.assertValue(S.root,"serializedHierarchy.root"),C.levels=_.map(S.levels,u=>function(o){var v={queryRefs:_.clone(o.queryRefs),isCollapsed:!!o.isCollapsed,toggledNodes:[],isPinned:o.isPinned,isLocked:o.isLocked,AIInformation:_.cloneDeep(o.AIInformation)};return o.identityKeys&&(v.identityKeys=_.map(o.identityKeys,m=>a.F3.deserializeExpr(m))),v}(u)),C.root=h(S.root,-1,null,C.levels,!!v.canCollapseRoot)),m.push(C)};for(var y of o)p(y);return m}}function h(o,v,m,p,y){r.Y.assertValue(o,"serializedNode");var S={identityValues:o.identityValues?_.map(o.identityValues,u=>a.F3.deserializeExpr(u)):null,parent:m,children:[]};if(o.isToggled&&(S.isToggled=!0,v>=0?p[v].toggledNodes.push(S):r.Y.assert(()=>y,"Collapse to root capability not enabled")),!_.isEmpty(o.children)){var C=v+1;S.children=_.map(o.children,u=>h(u,C,S,p,y))}return S}},349188:function(me,j,e){e.d(j,{UJ:function(){return d},Ww:function(){return o},gL:function(){return m},jH:function(){return s}});var r=e(785463),i=e(596149),a=e(951087),t=e(285380),l=e(997519);function d(p,y){var S;if(r.Y.assertValue(p,"input"),!_.isEmpty(p.expressions)){if(y){var C=(0,i.VF)(p);S=(0,a.$m)(C)}else S=function(p){if(r.Y.assertValue(p,"input"),!_.isEmpty(p.expressions)){var y={expressions:_.map(p.expressions,S=>l.F3.serializeExpr(S))};return _.isEmpty(p.cachedValueItems)||(y.cachedValueItems=(0,t._x)(p.cachedValueItems)),p.jsonFilter&&(y.jsonFilter=p.jsonFilter),y}}(p);return S}}function s(p){if(r.Y.assertValue(p,"input"),!_.isEmpty(p.expressions)){if(function(p){return!!p.decomposedIdentities}(p)){var y=(0,a.sC)(p);return(0,i._D)(y)}return o(p)}}function o(p){if(r.Y.assertValue(p,"input"),!_.isEmpty(p.expressions)){var y={expressions:_.map(p.expressions,S=>l.F3.deserializeExpr(S))};return _.isEmpty(p.cachedValueItems)||(y.cachedValueItems=(0,t.H)(p.cachedValueItems)),p.jsonFilter&&(y.jsonFilter=p.jsonFilter),y}}function m(p){return!!p.cachedValueItems}},997519:function(me,j,e){e.d(j,{F3:function(){return C}});var r=e(922044),i=e(61917),a=e(55400),t=e(460169),l=e(727695),g=e(785463),n=e(928912),d=e(892066),s=e(850396),h=e(446024),o=e(15721),v=e(891843),m=e(364472);class p{constructor(ce){g.Y.assertValue(ce,"from"),this.clauses={from:ce,select:[]}}addWhere(ce){g.Y.assertValue(ce,"filter");var te=this.clauses;te.where||(te.where=[]),te.where.push(ce)}addWheres(ce){g.Y.assertValue(ce,"filters");var te=this.clauses;for(var Te of(te.where||(te.where=[]),ce))te.where.push(Te)}addOrderBy(ce){g.Y.assertValue(ce,"sort");var te=this.clauses;te.orderBy||(te.orderBy=[]),te.orderBy.push(ce)}addSelect(ce){g.Y.assertValue(ce,"select"),this.clauses.select.push(ce)}addGroupBy(ce){g.Y.assertValue(ce,"groupBy");var te=this.clauses;te.groupBy||(te.groupBy=[]),te.groupBy.push(ce)}addTransform(ce){g.Y.assertValue(ce,"transformItem");var te=this.clauses;te.transforms||(te.transforms=[]),te.transforms.push(ce)}setTop(ce){this.clauses.top=ce}toQuery(){return m.DC.createWith(this.clauses,!0)}toFilter(){var ce=this.clauses;if(g.Y.assert(()=>!ce.orderBy&&0===ce.select.length,"toFilter must not have orderBy/select specified."),ce.from&&ce.where)return new m.b0(ce.from,ce.where)}}var y=e(725347),S=e(869876);class C{static serializeQuery(ce,te=!1,Te=!1){g.Y.assertValue(ce,"query");var Fe=[],et=ce.from();this.serializeFrom(et,Fe);var At,vt=this.serializeQueryFilters(ce.where(),c.create,!1),st=ce.transforms();if(!_.isEmpty(st))for(var Re of(At=[],st)){var q=_.map(Re.input.parameters,xt=>c.createNamed(xt,te)),pe={Name:Re.name,Algorithm:Re.algorithm,Input:{Parameters:q},Output:void 0};if(Re.input.table){var Ve=this.serializeTransformTableColumns(Re.input.table.columns);pe.Input.Table={Name:Re.input.table.name,Columns:Ve}}if(Re.output&&Re.output.table){var ke=this.serializeTransformTableColumns(Re.output.table.columns);pe.Output={Table:{Name:Re.output.table.name,Columns:ke}}}At.push(pe)}for(var it=this.serializeSortDefinitions(ce.orderBy(),te),ft=[],Pt=ce.select(),Ut=0,Kt=Pt.length;Ut<Kt;Ut++)ft.push(c.createNamed(Pt[Ut],te,Te));var Qt,qt=ce.groupBy();if(qt&&qt.length){Qt=[];for(var nr=0,Ge=qt.length;nr<Ge;nr++)Qt.push(c.createNamed(qt[nr],te))}var Ct={Version:y.O.Version2,From:Fe,Select:ft};return vt&&(Ct.Where=vt),At&&(Ct.Transform=At),it&&(Ct.OrderBy=it),Qt&&(Ct.GroupBy=Qt),ce.top()&&(Ct.Top=ce.top()),Ct}static serializeSortDefinitions(ce,te){var Te;if(ce&&ce.length){Te=[];for(var Fe=0,et=ce.length;Fe<et;Fe++){var vt=ce[Fe];Te.push({Direction:vt.direction,Expression:c.create(vt.expr,te)})}}return Te}static tryDeserializeQuery(ce){var te;try{te=this.deserializeQuery(ce)}catch{}if(te&&!this.isMalformed(te))return te}static isMalformed(ce){for(var te of ce.select())if(!te.expr)return!0;return!1}static serializeQueryFilters(ce,te,Te){var Fe;if(!_.isEmpty(ce))for(var et of(Fe=[],ce)){var vt={Condition:te(et.condition,Te)};if(!_.isEmpty(et.target))for(var At of(vt.Target=[],et.target))vt.Target.push(te(At,Te));et.annotations&&(vt.Annotations=et.annotations),Fe.push(vt)}return Fe}static deserializeQuery(ce){g.Y.assertValue(ce,"contract");var te=ce.Version?ce.Version:y.O.Version0,Te=te<y.O.Version1,Fe=u.from(ce.From),et=new p(Fe),vt=ce.Where;if(vt)for(var At=0,st=vt.length;At<st;At++){var Re=u.filter(vt[At],Fe);Re&&(Te&&(Re=f.Upgrade(te,Re)),et.addWhere(Re))}var q=ce.Transform,pe=Fe;if(!_.isEmpty(q)){var Ve={},ke=Fe.keys();for(var it of ke)Ve[it]=Fe.source(it);for(var ft=0,Pt=q.length;ft<Pt;ft++){if(q[ft].Input&&q[ft].Input.Table){var Ut=q[ft].Input.Table.Name;Ve[Ut]=new o.tv(void 0,Ut)}if(q[ft].Output&&q[ft].Output.Table){var Kt=q[ft].Output.Table.Name;Ve[Kt]=new o.tv(void 0,Kt)}}pe=new o.l0(Ve);for(var Qt=0,qt=q.length;Qt<qt;Qt++)et.addTransform(u.transform(q[Qt],pe))}var nr=ce.OrderBy;if(nr)for(var Ge=0,Ct=nr.length;Ge<Ct;Ge++)et.addOrderBy(u.sort(nr[Ge],Fe));for(var xt=ce.Select,We={},nt=0,Wt=xt.length;nt<Wt;nt++)et.addSelect(u.select(xt[nt],We,pe));var kt=ce.GroupBy;if(kt)for(var Ht={},lr=0,mr=kt.length;lr<mr;lr++)et.addGroupBy(u.groupBy(kt[lr],Ht,Fe));return ce.Top&&et.setTop(ce.Top),et.toQuery()}static deserializeSortDefinitions(ce,te){return _.isEmpty(ce)?[]:_.map(ce,Te=>u.sort(Te,te))}static serializeFilter(ce){var te=[],Te=ce.from();this.serializeFrom(Te,te);var Fe=this.serializeQueryFilters(ce.where(),c.create,!1);return{Version:y.O.Version2,From:te,Where:Fe}}static serializeFrom(ce,te){for(var Te=ce.keys(),Fe=new E(ce),et=0,vt=Te.length;et<vt;et++)te.push(ce.source(Te[et]).accept(Fe,et))}static deserializeFrom(ce){return u.from(ce)}static deserializeFilter(ce,te){g.Y.assertValue(ce,"contract");var Te=ce.Version?ce.Version:y.O.Version0,Fe=Te<y.O.Version1,et=u.from(ce.From),vt=new p(et),At=ce.Where;if(At)for(var st=0,Re=At.length;st<Re;st++){var q=u.filter(At[st],et);q?(Fe&&(q=f.Upgrade(Te,q)),vt.addWhere(q)):te&&(_.isEmpty(te.RemovedIndexes)&&(te.RemovedIndexes=[]),te.RemovedIndexes.push(st))}return vt.toFilter()}static serializeExpr(ce,te=!1){return g.Y.assertValue(ce,"contract"),c.create(ce,!0,te)}static serializeExprWithRef(ce,te=!1){return g.Y.assertValue(ce,"contract"),c.create(ce,!1,te)}static deserializeExpr(ce){return g.Y.assertValue(ce,"input"),b(ce)}static deserializeExprWithRef(ce,te){return g.Y.assertValue(ce,"input"),D(ce,te)}static serializeTransformTableColumns(ce){return g.Y.assertValue(ce,"columns"),_.map(ce,te=>{var Te={Expression:c.createNamed(te.expression)};return te.role&&(Te.Role=te.role),Te})}}class u{static from(ce){g.Y.assertValue(ce,"contract");var te={};if(ce)for(var Te=0,Fe=ce.length;Te<Fe;Te++){var et=ce[Te];switch(et.Type){case t.nO.Expression:te[et.Name]=et.Expression.Subquery?new o.m$(C.deserializeQuery(et.Expression.Subquery.Query)):new o.zg(b(et.Expression));break;case t.nO.Pod:te[et.Name]=new o.Bo(et.Schema,et.Entity);break;default:te[et.Name]=new o.tv(et.Schema,et.Entity)}}return new o.l0(te)}static filter(ce,te){g.Y.assertValue(ce,"contract");var Te=te?D(ce.Condition,te):b(ce.Condition);if(Te){var Fe={condition:Te};if(ce.Target)for(var et of(Fe.target=[],ce.Target)){var vt=te?D(et,te):b(et);if(!vt)return;Fe.target.push(vt)}return ce.Annotations&&(Fe.annotations=ce.Annotations),Fe}}static sort(ce,te){return g.Y.assertValue(ce,"contract"),{direction:ce.Direction,expr:D(ce.Expression,te)}}static select(ce,te,Te){return u.toNamedQueryExpression(ce,te,Te)}static groupBy(ce,te,Te){return u.toNamedQueryExpression(ce,te,Te)}static transform(ce,te){var Te=_.map(ce.Input.Parameters,At=>u.toNamedQueryExpression(At,{},te)),Fe={name:ce.Name,algorithm:ce.Algorithm,input:{parameters:Te},output:{}};if(ce.Input.Table){var et=this.deserializeTransformTableColumns(ce.Input.Table.Columns,te);Fe.input.table={name:ce.Input.Table.Name,columns:et}}if(ce.Output&&ce.Output.Table){var vt=this.deserializeTransformTableColumns(ce.Output.Table.Columns,te);Fe.output.table={name:ce.Output.Table.Name,columns:vt}}return Fe}static toNamedQueryExpression(ce,te,Te){g.Y.assertValue(ce,"contract"),g.Y.assertValue(Te,"from");var Fe=D(ce,Te),et=ce.Name||(0,n.uL)(te,(0,S.Z)(Fe));te[et]=!0;var vt={name:et,expr:Fe};return ce.NativeReferenceName&&(vt.nativeReferenceName=ce.NativeReferenceName),vt}static deserializeTransformTableColumns(ce,te){g.Y.assertValue(ce,"columns");var Te={};return _.map(ce,Fe=>({role:Fe.Role,expression:u.toNamedQueryExpression(Fe.Expression,Te,te)}))}}class E{constructor(ce){this.from=ce}visitEntity(ce,te){return{Name:this.from.keys()[te],Entity:ce.entity,Schema:ce.schema,Type:t.nO.Table}}visitPod(ce,te){return{Name:this.from.keys()[te],Entity:ce.pod,Schema:ce.schema,Type:t.nO.Pod}}visitSubquery(ce,te){return{Name:this.from.keys()[te],Expression:{Subquery:{Query:C.serializeQuery(ce.subquery)}},Type:t.nO.Expression}}visitExpr(ce,te){return{Name:this.from.keys()[te],Expression:C.serializeExpr(ce.expr),Type:t.nO.Expression}}}var c=(()=>{class re{constructor(te,Te){this.standalone=te,this.serializeAnnotations=Te}static getInstance(te,Te){te||(te=!1),Te||(Te=!1);var Fe=[+te,+Te].reduce((vt,At)=>vt<<1|At),et=re.instances[Fe];return et||(et=new re(te,Te)),et}static create(te,Te=!1,Fe=!1){return te.accept(re.getInstance(Te,Fe))}static createNamed(te,Te=!1,Fe=!1){var et=re.getInstance(Te,Fe),vt=te.expr.accept(et);return te.name&&(vt.Name=te.name),te.nativeReferenceName&&(vt.NativeReferenceName=te.nativeReferenceName),vt}visitColumnRef(te){return this.addAnnotations(te,{Column:{Expression:te.source.accept(this),Property:te.ref}})}visitMeasureRef(te){return this.addAnnotations(te,{Measure:{Expression:te.source.accept(this),Property:te.ref}})}visitNativeMeasure(te){var Te={Language:te.language,Expression:te.expression,DataType:te.dataType};te.proposedName&&(Te.ProposedName=te.proposedName),te.format&&(Te.Format=te.format);var Fe=te.expressionContentCache;return!Fe||!Fe.dependencies&&null==Fe.unrecognizedIdentifiers?{NativeMeasure:Te}:(Te.ExpressionContentCache={},Fe.dependencies&&(Te.ExpressionContentCache.Dependencies=this.serializeAll(Fe.dependencies)),null!=Fe.unrecognizedIdentifiers&&(Te.ExpressionContentCache.UnrecognizedIdentifiers=Fe.unrecognizedIdentifiers),this.addAnnotations(te,{NativeMeasure:Te}))}visitNativeColumn(te){var Te={Language:te.language,Expression:te.expression,DataType:te.dataType,Source:te.source.accept(this)};te.proposedName&&(Te.ProposedName=te.proposedName),te.format&&(Te.Format=te.format);var Fe=te.expressionContentCache;return!Fe||!Fe.dependencies&&null==Fe.unrecognizedIdentifiers||(Te.ExpressionContentCache={},Fe.dependencies&&(Te.ExpressionContentCache.Dependencies=this.serializeAll(Fe.dependencies)),null!=Fe.unrecognizedIdentifiers&&(Te.ExpressionContentCache.UnrecognizedIdentifiers=Fe.unrecognizedIdentifiers)),this.addAnnotations(te,{NativeColumn:Te})}visitAggr(te){if(!_.isNil(te.includeAllTypes))switch(te.func){case t.Sn.Min:return this.addAnnotations(te,{Min:{Expression:te.arg.accept(this),IncludeAllTypes:te.includeAllTypes}});case t.Sn.Max:return this.addAnnotations(te,{Max:{Expression:te.arg.accept(this),IncludeAllTypes:te.includeAllTypes}})}return this.addAnnotations(te,{Aggregation:{Expression:te.arg.accept(this),Function:te.func}})}visitPercentile(te){var Te=this.addAnnotations(te,{Percentile:{Expression:te.arg.accept(this),K:te.k}});return te.exclusive&&(Te.Percentile.Exclusive=te.exclusive),Te}visitRangePercent(te){return this.addAnnotations(te,{RangePercent:{Min:te.min.accept(this),Max:te.max.accept(this),Percent:te.percent}})}visitHierarchy(te){return this.addAnnotations(te,{Hierarchy:{Expression:te.arg.accept(this),Hierarchy:te.hierarchy}})}visitPropertyVariationSource(te){var Te=te.arg.accept(this);return this.addAnnotations(te,{PropertyVariationSource:{Expression:{SourceRef:Te.SourceRef},Name:te.name,Property:te.property}})}visitHierarchyLevel(te){return this.addAnnotations(te,{HierarchyLevel:{Expression:te.arg.accept(this),Level:te.level}})}visitSelectRef(te){return g.Y.assert(()=>void 0===te.attributeKind||null==te.attributeKind,"Serialization of expr.attributeKind is not supported."),this.addAnnotations(te,{SelectRef:{ExpressionName:te.expressionName}})}visitBetween(te){return this.addAnnotations(te,{Between:{Expression:te.arg.accept(this),LowerBound:te.lower.accept(this),UpperBound:te.upper.accept(this)}})}visitIn(te){var Te=this.serializeAll(te.args),Fe=te.values;if(Fe){for(var et=[],vt=0,At=Fe.length;vt<At;vt++)et.push(this.serializeAll(Fe[vt]));return this.addAnnotations(te,{In:{Expressions:Te,Values:et}})}return this.addAnnotations(te,{In:{Expressions:this.serializeAll(te.args),Table:te.table.accept(this)}})}visitEntity(te){var Te;return g.Y.assertValue(te,"expr"),this.standalone?Te={Schema:te.schema,Entity:te.entity}:(g.Y.assertValue(te.variable,"expr.variable"),Te={Source:te.variable}),this.addAnnotations(te,{SourceRef:Te})}visitSubqueryRef(te){return g.Y.assertValue(te,"expr"),te.variable&&!te.query?this.addAnnotations(te,{SourceRef:{Source:te.variable}}):this.standalone?this.addAnnotations(te,{Subquery:{Query:C.serializeQuery(te.query,!1,this.serializeAnnotations)}}):void g.Y.assertFail("The inlined subquery is only expected to be there in standalone mode.")}visitNamedQueryRef(te){return this.standalone?this.addAnnotations(te,{NamedQueryReference:{Name:te.queryName}}):(g.Y.assertValue(te.variable,"expr.variable"),this.addAnnotations(te,{SourceRef:{Source:te.variable}}))}visitAnd(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{And:{Left:te.left.accept(this),Right:te.right.accept(this)}})}visitOr(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Or:{Left:te.left.accept(this),Right:te.right.accept(this)}})}visitCompare(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Comparison:{ComparisonKind:te.comparison,Left:te.left.accept(this),Right:te.right.accept(this)}})}visitConditional(te){g.Y.assertValue(te,"expr");var Te=this.addAnnotations(te,{Conditional:{Cases:_.map(te.cases,et=>this.visitCase(et))}}),Fe=te.defaultValue;return Fe&&(Te.Conditional.DefaultValue=Fe.accept(this)),Te}visitCase(te){return{Condition:te.condition.accept(this),Value:te.value.accept(this)}}visitContains(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Contains:{Left:te.left.accept(this),Right:te.right.accept(this)}})}visitDateAdd(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{DateAdd:{Expression:te.arg.accept(this),Amount:te.amount,TimeUnit:te.unit}})}visitDateSpan(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{DateSpan:{Expression:te.arg.accept(this),TimeUnit:te.unit}})}visitExists(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Exists:{Expression:te.arg.accept(this)}})}visitNot(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Not:{Expression:te.arg.accept(this)}})}visitNow(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Now:{}})}visitDefaultValue(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{DefaultValue:{}})}visitAnyValue(te){g.Y.assertValue(te,"expr");var Te={};return null!=te.defaultValueOverridesAncestors&&(Te.DefaultValueOverridesAncestors=te.defaultValueOverridesAncestors),this.addAnnotations(te,{AnyValue:Te})}visitFillRule(te){g.Y.assertValue(te,"expr");var Te={},Fe=te.rule;return Fe.linearGradient2&&(Te.linearGradient2=this.visitLinearGradient2(Fe.linearGradient2)),Fe.linearGradient3&&(Te.linearGradient3=this.visitLinearGradient3(Fe.linearGradient3)),this.addAnnotations(te,{FillRule:{Input:te.input.accept(this),FillRule:Te}})}visitLinearGradient2(te){g.Y.assertValue(te,"visitLinearGradient2 - gradient");var Te={min:this.visitRuleStop(te.min),max:this.visitRuleStop(te.max)},Fe=this.visitNullColoringStrategy(te.nullColoringStrategy);return Fe&&(Te.nullColoringStrategy=Fe),Te}visitLinearGradient3(te){g.Y.assertValue(te,"visitLinearGradient3 - gradient");var Te={min:this.visitRuleStop(te.min),mid:this.visitRuleStop(te.mid),max:this.visitRuleStop(te.max)},Fe=this.visitNullColoringStrategy(te.nullColoringStrategy);return Fe&&(Te.nullColoringStrategy=Fe),Te}visitRuleStop(te){g.Y.assertValue(te,"stop");var Te={color:te.color.accept(this)};return te.value&&(Te.value=te.value.accept(this)),Te}visitNullColoringStrategy(te){if(te){g.Y.assertValue(te.strategy,"visitNullColoringStrategy - input.strategy");var Te={strategy:te.strategy.accept(this)};return te.color&&(Te.color=te.color.accept(this)),Te}}visitThemeDataColor(te){return this.addAnnotations(te,{ThemeDataColor:{ColorId:te.colorId,Percent:te.percent}})}visitStartsWith(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{StartsWith:{Left:te.left.accept(this),Right:te.right.accept(this)}})}visitGroupRef(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{GroupRef:{Expression:te.source.accept(this),Property:te.ref,GroupedColumns:_.map(te.groupedExprs,Te=>Te.accept(this))}})}visitConstant(te){switch(g.Y.assertValue(te,"expr"),te.type.primitiveType){case i.W.Boolean:case i.W.DateTime:case i.W.Decimal:case i.W.Integer:case i.W.Double:case i.W.Null:case i.W.Text:return this.addAnnotations(te,{Literal:{Value:te.valueEncoded}});default:g.Y.assertFail("Unrecognized kind: "+te.type.primitiveType)}}visitArithmetic(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{Arithmetic:{Left:te.left.accept(this),Right:te.right.accept(this),Operator:te.operator}})}visitFloor(te){g.Y.assertValue(te,"expr");var Te=this.addAnnotations(te,{Floor:{Expression:te.arg.accept(this),Size:te.size}});return null!=te.timeUnit&&(Te.Floor.TimeUnit=te.timeUnit),Te}visitResourcePackageItem(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{ResourcePackageItem:{PackageName:te.packageName,PackageType:te.packageType,ItemName:te.itemName}})}visitScopedEval(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{ScopedEval:{Expression:te.expression.accept(this),Scope:this.serializeAll(te.scope)}})}visitFilteredEval(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{FilteredEval:{Expression:te.expression.accept(this),Filters:C.serializeQueryFilters(te.filters,re.create,this.standalone)}})}visitWithRef(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{WithRef:{ExpressionName:te.expressionName}})}visitTransformTableRef(te){return this.addAnnotations(te,{TransformTableRef:{Source:te.source}})}visitTransformOutputRoleRef(te){return this.addAnnotations(te,{TransformOutputRoleRef:{Role:te.role,Transform:te.transform}})}visitRoleRef(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{RoleRef:{Role:te.role}})}visitSummaryValueRef(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{SummaryValueRef:{Name:te.name}})}visitAllRolesRef(te){return g.Y.assertValue(te,"expr"),this.addAnnotations(te,{AllRolesRef:{}})}visitDiscretize(te){return this.addAnnotations(te,{Discretize:{Expression:te.source.accept(this),Count:te.count}})}visitMember(te){return this.addAnnotations(te,{Member:{Expression:te.source.accept(this),Member:te.member}})}visitSparklineData(te){var Te={SparklineData:{Measure:te.measure.accept(this),Groupings:this.serializeAll(te.grouping),PointsPerSparkline:te.pointsPerSparkline}};return te.scalarKey&&(Te.SparklineData.ScalarKey=te.scalarKey.accept(this)),te.includeMinGroupingInterval&&(Te.SparklineData.IncludeMinGroupingInterval=te.includeMinGroupingInterval),Te}serializeAll(te){for(var Te=[],Fe=0,et=te.length;Fe<et;Fe++)Te.push(te[Fe].accept(this));return Te}visitNativeVisualCalc(te,Te){var Fe={Language:te.language,Expression:te.expression,Name:te.name};return null!=te.dataType&&(Fe.DataType=(0,a.U)(te.dataType)),this.addAnnotations(te,{NativeVisualCalculation:Fe})}visitVisualTopN(te,Te){return{VisualTopN:{ItemCount:te.itemCount}}}addAnnotations(te,Te){if(this.serializeAnnotations){var Fe=te.getAnnotations();Fe&&(Te.Annotations=Fe)}return Te}}return re.instances=[],re})();class f{static Upgrade(ce,te){if(!te||!te.condition)return null;var Te=(0,d.m)(te.condition);return ce===y.O.Version0&&Te!==s.l0.Exists?{condition:te.condition}:te}}function D(re,ce){return g.Y.assertValue(re,"contract"),function(re,ce){if(re.Column){var te=D(re.Column.Expression,ce);if(te)return(0,h.sX)(te,re.Column.Property,re.Annotations)}}(re,ce)||function(re,ce){if(re.Measure){var te=D(re.Measure.Expression,ce);if(te)return(0,h.K6)(te,re.Measure.Property,re.Annotations)}}(re,ce)||function(re,ce){var te;if(re.NativeMeasure)return re.NativeMeasure.ExpressionContentCache&&(te={unrecognizedIdentifiers:re.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:T(re.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==re.NativeMeasure.Language&&g.Y.assertFail("QueryNativeMeasure is using unexpected language: "+re.NativeMeasure.Language),(0,h.IW)(re.NativeMeasure.Language,re.NativeMeasure.Expression,re.NativeMeasure.DataType,re.NativeMeasure.ProposedName,te,re.NativeMeasure.Format,re.Annotations)}(re)||function(re,ce){if(re.NativeColumn){var te;if(re.NativeColumn.ExpressionContentCache&&(te={unrecognizedIdentifiers:re.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:T(re.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==re.NativeColumn.Language)return void g.Y.assertFail("QueryNativeColumn is using unexpected language: "+re.NativeColumn.Language);if(!re.NativeColumn.Source)return void g.Y.assertFail("QueryNativeColumn should have a source");var Te=D(re.NativeColumn.Source,ce);return(0,h.Oi)(re.NativeColumn.Language,re.NativeColumn.Expression,re.NativeColumn.DataType,Te,re.NativeColumn.ProposedName,te,re.NativeColumn.Format,re.Annotations)}}(re,ce)||function(re,ce){if(re.SourceRef){if(!ce){var et=re.SourceRef;return(0,h.EG)(et.Schema,et.Entity,void 0,re.Annotations)}var Te=re.SourceRef.Source,Fe=ce.source(Te);if(Fe)return(0,o.lj)(Fe)?(0,h.EG)(Fe.schema,Fe.entity,Te,re.Annotations):(0,o.T7)(Fe)?(0,h.EG)(Fe.schema,Fe.pod,Te):(0,r.c)(Fe)?(0,h.a_)(Te,re.Annotations):(g.Y.assert(()=>(0,o.L8)(Fe),"Expected an ExpressionSource"),Fe.expr.as(Te))}}(re,ce)||function(re,ce){if(re.Aggregation){var te=D(re.Aggregation.Expression,ce);if(te)return(0,h.QD)(te,re.Aggregation.Function,void 0,re.Annotations)}}(re,ce)||function(re,ce){if(re.Min){var te=D(re.Min.Expression,ce);if(te)return(0,h.QD)(te,t.Sn.Min,re.Min.IncludeAllTypes,re.Annotations)}}(re,ce)||function(re,ce){if(re.Max){var te=D(re.Max.Expression,ce);if(te)return(0,h.QD)(te,t.Sn.Max,re.Max.IncludeAllTypes,re.Annotations)}}(re,ce)||function(re,ce){if(re.SelectRef)return(0,h.o4)(re.SelectRef.ExpressionName,void 0,re.Annotations)}(re)||function(re,ce){if(re.Percentile){var te=D(re.Percentile.Expression,ce);if(te)return(0,h.Ym)(te,re.Percentile.K,re.Percentile.Exclusive||!1,re.Annotations)}}(re,ce)||function(re,ce){if(re.RangePercent){var te=D(re.RangePercent.Min,ce),Te=D(re.RangePercent.Max,ce);if(te&&Te)return(0,h.Lg)(te,Te,re.RangePercent.Percent,re.Annotations)}}(re,ce)||function(re,ce){if(re.Arithmetic){var te=D(re.Arithmetic.Left,ce),Te=D(re.Arithmetic.Right,ce);if(te&&Te)return(0,h.Bm)(te,Te,re.Arithmetic.Operator,re.Annotations)}}(re,ce)||function(re,ce){if(re.Floor){var te=D(re.Floor.Expression,ce);if(te)return(0,h.RI)(te,re.Floor.Size,re.Floor.TimeUnit,re.Annotations)}}(re,ce)||function(re,ce){if(re.Discretize){var te=D(re.Discretize.Expression,ce);if(te)return(0,h.z)(te,re.Discretize.Count,re.Annotations)}}(re,ce)||function(re,ce){if(re.Member){var te=D(re.Member.Expression,ce);if(te)return(0,h.Dc)(te,re.Member.Member,re.Annotations)}}(re,ce)||function(re,ce){if(re.Hierarchy){var te=D(re.Hierarchy.Expression,ce);if(te)return(0,h.Sk)(te,re.Hierarchy.Hierarchy,re.Annotations)}}(re,ce)||function(re,ce){if(re.HierarchyLevel){var te=D(re.HierarchyLevel.Expression,ce);if(te)return(0,h.Mw)(te,re.HierarchyLevel.Level,re.Annotations)}}(re,ce)||function(re,ce){if(re.PropertyVariationSource){var te=D(re.PropertyVariationSource.Expression,ce);if(te)return(0,h.U7)(te,re.PropertyVariationSource.Name,re.PropertyVariationSource.Property,re.Annotations)}}(re,ce)||function(re,ce){if(re.And){var te=D(re.And.Left,ce),Te=D(re.And.Right,ce);if(te&&Te)return(0,h.Uo)(te,Te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Between){var te=D(re.Between.Expression,ce),Te=D(re.Between.LowerBound,ce),Fe=D(re.Between.UpperBound,ce);if(te&&Te&&Fe)return(0,h.Tq)(te,Te,Fe,re.Annotations)}}(re,ce)||function(re,ce){if(re.In){if(re.In.Values)return(0,h.eu)(T(re.In.Expressions,ce),_.map(re.In.Values,Te=>T(Te,ce)));var te=D(re.In.Table,ce);if(te)return(0,h.Kd)(T(re.In.Expressions,ce),te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Or){var te=D(re.Or.Left,ce),Te=D(re.Or.Right,ce);if(te&&Te)return(0,h.or)(te,Te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Contains){var te=D(re.Contains.Left,ce),Te=D(re.Contains.Right,ce);if(te&&Te)return(0,h.gR)(te,Te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Comparison){var te=D(re.Comparison.Left,ce),Te=D(re.Comparison.Right,ce);if(te&&Te)return(0,h.UD)(re.Comparison.ComparisonKind,te,Te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Conditional){for(var te=re.Conditional.Cases,Te=te.length,Fe=new Array(Te),et=0;et<Te;et++){var vt=oe(te[et]);if(!vt){Fe=void 0;break}Fe[et]=vt}if(re.Conditional.DefaultValue){var At=D(re.Conditional.DefaultValue);if(Fe&&At)return(0,h.Jr)(Fe,At,re.Annotations)}else if(Fe)return(0,h.Jr)(Fe,void 0,re.Annotations)}}(re)||function(re,ce){if(re.DateAdd){var te=D(re.DateAdd.Expression,ce);if(te)return(0,h.El)(re.DateAdd.TimeUnit,re.DateAdd.Amount,te,re.Annotations)}}(re,ce)||function(re,ce){if(re.DateSpan){var te=D(re.DateSpan.Expression,ce);if(te)return(0,h.b5)(re.DateSpan.TimeUnit,te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Exists){var te=D(re.Exists.Expression,ce);if(te)return(0,h.t2)(te,re.Annotations)}}(re,ce)||function(re,ce){if(re.Not){var te=D(re.Not.Expression,ce);if(te)return(0,h.AU)(te,re.Annotations)}}(re,ce)||function(re){if(re.Now)return(0,h.tB)(re.Annotations)}(re)||function(re){if(re.DefaultValue)return(0,h.Jh)(re.Annotations)}(re)||function(re){if(re.AnyValue)return(0,h.mh)(re.AnyValue.DefaultValueOverridesAncestors,re.Annotations)}(re)||function(re,ce){if(re.StartsWith){var te=D(re.StartsWith.Left,ce),Te=D(re.StartsWith.Right,ce);if(te&&Te)return(0,h.w1)(te,Te,re.Annotations)}}(re,ce)||function(re,ce){if(re.FillRule){var te=D(re.FillRule.Input,ce),Te=re.FillRule,Fe={},et=Te.FillRule.linearGradient2,vt=Te.FillRule.linearGradient3;if(et){Fe.linearGradient2={min:ye(et.min,ce),max:ye(et.max,ce)};var At=Xe(et.nullColoringStrategy,ce);At&&(Fe.linearGradient2.nullColoringStrategy=At)}else if(vt){Fe.linearGradient3={min:ye(vt.min,ce),mid:ye(vt.mid,ce),max:ye(vt.max,ce)};var st=Xe(vt.nullColoringStrategy,ce);st&&(Fe.linearGradient3.nullColoringStrategy=st)}return(0,h.Kf)(te,Fe,re.Annotations)}}(re,ce)||function(re){if(re.ThemeDataColor)return(0,h.Bg)(re.ThemeDataColor.ColorId,re.ThemeDataColor.Percent,re.Annotations)}(re)||function(re,ce){if(re.ResourcePackageItem)return(0,h.SC)(re.ResourcePackageItem.PackageName,re.ResourcePackageItem.PackageType,re.ResourcePackageItem.ItemName,re.Annotations)}(re)||function(re,ce){if(re.ScopedEval){var te=D(re.ScopedEval.Expression,ce);if(te)return(0,h.bg)(te,T(re.ScopedEval.Scope,ce),re.Annotations)}}(re,ce)||function(re,ce){if(re.FilteredEval){var te=D(re.FilteredEval.Expression,ce);return(0,h.Ge)(te,_.map(re.FilteredEval.Filters,Te=>u.filter(Te,ce)),re.Annotations)}}(re,ce)||function(re,ce){if(re.WithRef)return(0,h.IS)(re.WithRef.ExpressionName,re.Annotations)}(re)||function(re,ce){if(re.TransformTableRef)return(0,h.CR)(re.TransformTableRef.Source,re.Annotations)}(re)||function(re,ce){if(re.TransformOutputRoleRef)return(0,h.Cv)(re.TransformOutputRoleRef.Role,re.TransformOutputRoleRef.Transform,re.Annotations)}(re)||function(re){if(re.Literal)return(0,v.bq)(re.Literal.Value)}(re)||function(re,ce){if(re.GroupRef){var te=D(re.GroupRef.Expression,ce),Te=_.map(re.GroupRef.GroupedColumns,Fe=>D(Fe,ce));if(te&&!_.isEmpty(Te))return(0,h.bR)(re.GroupRef.Property,te,Te,re.Annotations)}}(re,ce)||function(re){if(re.RoleRef)return(0,h.a3)(re.RoleRef.Role,re.Annotations)}(re)||function(re){if(re.AllRolesRef)return(0,h.G9)(re.Annotations)}(re)||function(re){if(re.NamedQueryReference)return(0,h.JP)(re.NamedQueryReference.Name,void 0,re.Annotations)}(re)||function(re){if(re.Subquery)return(0,h.a_)(C.deserializeQuery(re.Subquery.Query),re.Annotations)}(re)||function(re){return function(re){if(re.Boolean)return(0,h.zM)(re.Boolean.Value,re.Annotations)}(re)||Se(re)||function(re){if(re.DateTimeSecond){var ce=yt(re.DateTimeSecond);return(0,h.b5)(t.yr.Second,(0,h.KQ)(ce),re.Annotations)}}(re)||Se(re)||function(re){if(re.Decimal)return(0,h._)(re.Decimal.Value,void 0,re.Annotations)}(re)||function(re){if(re.Integer)return(0,h.nd)(re.Integer.Value,void 0,re.Annotations)}(re)||function(re){if(re.Null)return(0,h.gN)()}(re)||function(re){if(re.Number)return(0,v.bq)(re.Number.Value)}(re)||function(re){if(re.String)return(0,h.Qq)(re.String.Value,void 0,re.Annotations)}(re)}(re)||function(re){if(re.SummaryValueRef)return(0,h.ft)(re.SummaryValueRef.Name,re.Annotations)}(re)||function(re,ce){var te=re.SparklineData;if(te)return(0,h.yC)(D(te.Measure,ce),T(te.Groupings,ce),te.ScalarKey?D(re.SparklineData.ScalarKey,ce):void 0,te.PointsPerSparkline,te.IncludeMinGroupingInterval)}(re,ce)||function(re,ce){var te=re.NativeVisualCalculation;if(te){var Te=te.DataType?(0,a.B)(te.DataType):void 0;return(0,h.zy)(te.Name,te.Expression,Te,re.Annotations)}}(re)||function(re,ce){var te=re.VisualTopN;if(te)return(0,h.IM)(te.ItemCount)}(re)}function b(re){return D(re,null)}function T(re,ce){for(var te=[],Te=0,Fe=re.length;Te<Fe;Te++)te.push(D(re[Te],ce));return te}function oe(re){if(re){var ce=D(re.Condition),te=D(re.Value);if(ce&&te)return{condition:ce,value:te}}}function ye(re,ce){if(re){var te={color:D(re.color,ce)};return re.value&&(te.value=D(re.value,ce)),te}}function Xe(re,ce){if(re){var te={strategy:D(re.strategy,ce)};return re.color&&(te.color=D(re.color,ce)),te}}function Se(re){var ce=re.DateTime||re.Date;if(ce){var te=yt(ce);if(te)return(0,h.KQ)(te,void 0,re.Annotations)}}function yt(re){return g.Y.assertValue(re,"contract"),(0,l.z3)(re.Value)}},441970:function(me,j,e){e.d(j,{N:function(){return r}});var r="tabular"},547958:function(me,j,e){e.d(j,{ne:function(){return g},ol:function(){return l}});var r=e(727695),i=e(785463),a=e(376292),t=e(816028);function l(){return new o}function g(v){var m=[];for(var p in v=d(v))if(v.hasOwnProperty(p)){var y=v[p],S=void 0;if(!y)continue;_.isDate(y)||null!=n(y.toString().substr(0,26))?S={dateTime:!0}:isNaN(+y)?_.isString(y)&&(S={text:!0}):S={numeric:!0},S&&m.push({name:p,type:S})}return m}function n(v){var m=null,p=+v;if(isNaN(p)){var u=(0,r.jT)(v.toString());u&&(m=(0,a.IG)(u))}else{var y=new Date;y.setDate(y.getDate()-h);var S=y.getTime();(y=new Date).setDate(y.getDate()+h);var C=y.getTime();p<S&&(p*=1e3),p>S&&p<C&&(m=(0,a.S7)(p))}return m}function d(v){try{return s(v)}catch{i.Y.assertFail("Failed to flatten JSON object")}return v}function s(v,m,p){return m||(m={}),_.isObject(v)?_.forOwn(v,(y,S)=>{s(y,m,p?p+"."+S:S)}):m[p]=v,m}var h=7;class o{constructor(){this.clear()}add(m){i.Y.assertValue(m,"data");var p=this.getKey(m.modelId,m.name);return this.tabularDataMap[p]=m,p}get(m){return i.Y.assertValue(m,"key"),this.tabularDataMap[m]}remove(m){i.Y.assertValue(m,"key"),delete this.tabularDataMap[m]}clear(){this.tabularDataMap={}}getKey(m,p){return i.Y.assertValue(m,"modelId"),i.Y.assertValue(p,"tableName"),m+"_"+p}mergeRows(m,p,y,S){i.Y.assertValue(m,"modelId");var C=this.getKey(m,p),u=this.get(C);if(!u||!u.rowGroups){var E={modelId:m,name:p,rowGroups:y,lastVersion:S,columns:u&&u.columns};return this.constructColumnsMetadataIfNeeded(E),this.fixUpValues(E.rowGroups,E.columns),void this.add(E)}var c=[],f=u.rowGroups||[],D=y||[];for(this.fixUpValues(D,u.columns);!_.isEmpty(f)||!_.isEmpty(D);){var b=_.head(f),T=_.head(D);b&&!T?(this.appendRow(c,b,S),f.shift()):!b&&T?(this.appendRow(c,T,S),D.shift()):b.version<T.version?(this.appendRow(c,b,S),f.shift()):T&&(D.shift(),b.version===T.version&&f.shift(),this.appendRow(c,T,S))}u.rowGroups=c,u.lastVersion=S}constructColumnsMetadataIfNeeded(m){if(i.Y.assertValue(m,"tabularData"),!m.columns){var p=_.last(m.rowGroups);if(p){var y=_.last(p.rows);y&&(m.columns=g(y))}}}fixUpValues(m,p){if(!_.isEmpty(m)){var y={},S={};for(var C of p)y[C.name]=C.type&&C.type.dateTime,S[C.name]=C.type&&C.type.numeric;for(var u of m)if(u.rows)for(var E=0;E<u.rows.length;E++){var c=u.rows[E]=d(u.rows[E]);for(var f in c)if(c.hasOwnProperty(f)){var D=c[f];if(D)if(y[f]){var b=n(D);b&&(c[f]=b)}else if(S[f]){var T=parseFloat(D.toString());isNaN(T)||(c[f]=T)}}}}}appendRow(m,p,y){i.Y.assertValue(m,"rows"),i.Y.assertValue(p,"row"),i.Y.assert(()=>y>0,"Invalid version"),!(y-p.version>t.Xq)&&m.push(p)}}},911461:function(me,j,e){e.d(j,{f:function(){return h},j:function(){return s}});var r=e(56175),i=e(785463),a=e(309746),t=e(43614),l=e(289239),g=e(446024),n=e(191941);function s(o){var v=_.indexOf(o,".");return v<0||v>=o.length-1?o:o.substr(v+1)}class h{constructor(v,m){i.Y.assertValue(v,"host"),i.Y.assertValue(m,"tabularData"),this.promiseFactory=v.promiseFactory(),this.tabularDataCache=m,this.columnToIndexMap={}}execute(v){i.Y.assertValue(v,"options");var m=_.head(v.dataSources),y=this.buildDataView(v.command,m.modelId),S=this.promiseFactory.defer();return S.resolve(y),(0,r.L)(S)}transform(v,m,p){return null==v?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:v}}buildDataView(v,m){i.Y.assertValue(v,"command"),i.Y.assertValue(m,"modelId");var p=v.mappings[0],y=this.tabularDataCache,S=y.get(y.getKey(m,v.tableName));i.Y.assertValue(S,"tabularData");var C=h.getLastVersion(S)-v.dataWindow;if(S.rowGroups){var u=v&&_.head(v.Commands);if(u){var E=u.SemanticQueryDataShapeCommand;E&&E.Query&&E.Query.Select&&E.Query.Select.map((D,b)=>{this.columnToIndexMap[s(D.Name)]=b})}var c=this.filterTabularDataRowGroups(S.rowGroups,C),f=this.createDataView({rowGroups:c,columns:S.columns,modelId:S.modelId,name:S.name},p);return v.dataWindow&&(f.metadata.objects={categoryAxis:{duration:v.dataWindow}}),f}}filterTabularDataRowGroups(v,m){return i.Y.assertValue(v,"rowGroups"),i.Y.assertValue(m,"cutOff"),_.filter(v,p=>p.version>=m)}createDataView(v,m){i.Y.assertValue(v,"tabularData"),i.Y.assertValue(m,"mapping");var p={metadata:{columns:[]}},y=this.extractColumns(m),S=[];if(m.categorical){var C=this.getCategoricalDataViewInfo(y.categorical,v);p.categorical=C.dataView,_.isEmpty(p.categorical.values)&&(p.categorical.values=void 0),S.push(...C.columns||[])}if(m.table){var u=this.getSingleDataViewInfo(y.table,v);p.single=u.dataView;var E=u.columns[0];null==_.find(S,E)&&S.push(E)}return p.metadata.columns=S,p}getCategoricalDataViewInfo(v,m){i.Y.assertValue(v,"categoricalColumns"),i.Y.assertValue(m,"tabularData");var p=(0,t.P)();if(!_.isEmpty(v.categories)){var y=this.getCategoryColumnOption(v.categories,m);p.withCategory(y)}var S=this.getValueColumnOptions(v.categories,v.values,m);_.isEmpty(v.groupedValues)||v.groupedValues===v.categories?p.withValues({columns:S}):this.addGroupValues(v,m,p,S);var C=p.build();return{dataView:C.categorical,columns:C.metadata.columns}}addGroupValues(v,m,p,y){i.Y.assertValue(v,"categoricalColumns"),i.Y.assertValue(m,"tabularData"),i.Y.assertValue(v.groupedValues,"groupedValues"),i.Y.assertValue(y,"valueColumnOption");var S=s(v.groupedValues),C=this.getCategoryColumnOption(S,m),u=this.extractColumnValues(S,m),E=h.getUniqueValues(u),c=this.getValueToIndicesMap(u),f={},D=v.values;for(var b of D){var T=s(b),M=this.extractColumnValues(T,m);for(var V of E){var w=h.valueToString(V);null==f[w]&&(f[w]=[]);var N=_.at(M,c[w]);f[w].push({values:N})}}var I=_.values(f);_.isEmpty(I)||p.withGroupedValues({groupColumn:C,valueColumns:y,data:I})}getValueToIndicesMap(v){for(var m={},p=0,y=v.length;p<y;p++){var S=h.valueToString(v[p]),C=m[S];C?C.push(p):m[S]=[p]}return m}getSingleDataViewInfo(v,m){i.Y.assertValue(v,"singleColumn"),i.Y.assertValue(m,"tabularData");var p=this.getColumnMetadataAndValues(v,m);return{dataView:{value:p.values[p.values.length-1],column:p.metadataColumn},columns:[p.metadataColumn]}}extractColumns(v){i.Y.assertValue(v,"mapping");var m=(f,D)=>{var b=f.items;if(b)for(var T of b)D.push(T.queryName)},p={},y=v.categorical;if(y){var S=[];(0,a.Ax)(y.categories,{visitRole:f=>{m(f,S)}});var C=[];(0,a.AS)(y.values,{visitRole:f=>{m(f,C)}});var u=[];(0,a.Cn)(y.values,{visitRole:f=>{m(f,u)}}),i.Y.assert(()=>u.length<=1,"grouped values length should be <= 1"),i.Y.assert(()=>S.length<=1,"grouped values length should be <= 1"),p.categorical={categories:S[0],groupedValues:u[0],values:C}}var E=v.table;if(E){var c=[];(0,a.UB)(E,{visitRole:f=>{m(f,c)}}),i.Y.assert(()=>1===c.length,"The length of the single column should be one"),p.table=c[0]}return p}getCategoryColumnOption(v,m){i.Y.assertValue(v,"columnNames"),i.Y.assertValue(m,"tabularData");var p=this.getColumnMetadataAndValues(v,m),y=h.getUniqueValues(p.values),S=(0,g.sX)((0,g.EG)(null,m.name),v),C=_.map(y,u=>(0,l.UQ)((0,g.LC)(S,(0,g.Qq)(u.toString()))));return{source:p.metadataColumn,values:y,identityFrom:{fields:[S],identities:C}}}getValueColumnOptions(v,m,p){i.Y.assertAnyValue(v,"categoryColumnName"),i.Y.assertValue(m,"columnNames"),i.Y.assertValue(p,"tabularData");var y=[];for(var S of m){var C=this.getColumnMetadataAndValues(S,p,v),u=C.values;!v&&!_.isEmpty(u)&&(u=[_.last(u)]);var E={source:C.metadataColumn,values:u,minLocal:_.min(u),maxLocal:_.max(u)};y.push(E)}return y}getColumnMetadataAndValues(v,m,p){i.Y.assertValue(v,"columnName"),i.Y.assertValue(m,"tabularData"),i.Y.assertAnyValue(p,"categoryColumnName");var u,y=m.columns,S=s(v),C=this.columnToIndexMap[S];if(i.Y.assert(()=>C>=0,"The column name should exist in tabular columns"),p){var E=s(p);u=this.extractUniqueColumnValues(S,m,E)}else u=this.extractColumnValues(S,m);var c=_.find(y,D=>D.name===S);return{metadataColumn:h.createMetadataColumn(S,C,n.eV.fromDescriptor(c.type)),values:u}}extractColumnValues(v,m){i.Y.assertValue(v,"columnName"),i.Y.assertValue(m,"tabularData");var p=m.rowGroups,y=[];for(var S of p)for(var C of S.rows)y.push(C[v]);return y}extractUniqueColumnValues(v,m,p){i.Y.assertValue(v,"columnName"),i.Y.assertValue(m,"tabularData"),i.Y.assertValue(p,"categoryName");var y=m.rowGroups,S={};for(var C of y)for(var u of C.rows)S[h.valueToString(u[p])]=u[v];return _.values(S)}static getLastVersion(v){if(i.Y.assertValue(v,"tabularData"),_.isEmpty(v.rowGroups))return v.lastVersion?v.lastVersion:Number.NEGATIVE_INFINITY;var m=Number.NEGATIVE_INFINITY;if(!v.rowGroups)return m;for(var p of v.rowGroups)p.version>m&&(m=p.version);return m}static createMetadataColumn(v,m,p){i.Y.assertValue(v,"name"),i.Y.assertValue(m,"columnIndex");var y={displayName:v,queryName:v,index:m,isMeasure:!1};return null!=p&&(y.type=p,y.isMeasure=!!p.numeric),y}static getUniqueValues(v){return _.uniqBy(v,m=>h.valueToString(m))}static valueToString(v){return _.isDate(v)?v.getTime().toString():v?v.toString():""}}},694671:function(me,j,e){e.d(j,{O:function(){return t}});var r=e(785463),i=e(669129),a=e(997519);function t(){return new l(a.F3)}class l{constructor(n){r.Y.assertValue(n,"serializer"),this.serializer=n}execute(n){r.Y.assertValue(n,"options");var d=n.query;r.Y.assertValue(d,"query");var h={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(d),Binding:null}},o=i.B.getActiveTablesNames(d);r.Y.assertValue(1===o.length,"Exactly 1 entity is expected");var v=o[0];return r.Y.assertValue(v,"entity"),{command:{dataWindow:n.dataWindow,tableName:v,mappings:n.mappings,Commands:[h]}}}produceIdentities(n,d){return r.Y.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[n]}}},589604:function(me,j,e){e.d(j,{EC:function(){return i},IO:function(){return S},Iv:function(){return l},TX:function(){return n},UM:function(){return p},V8:function(){return d},W8:function(){return u},_Z:function(){return s},gT:function(){return m},h3:function(){return a},jg:function(){return o}});var r=e(817491),i="PBI.Data.QueryData",a=r.Xi[i]=(0,r.Vp)(i),t="PBI.Data.QueryCancellation",l=r.Xi[t]=(0,r.Vp)(t,{logRatio:1e-4}),g="PBI.Data.ClientCacheHit",n=r.Xi[g]=(0,r.Vp)(g,{logRatio:1e-4}),d="PBI.Data.GetConceptualSchema",s=r.Xi[d]=(0,r.Vp)(d),h="PBI.Data.ClearConceptualSchemaCache",o=r.Xi[h]=(0,r.Vp)(h),v="PBI.Data.ExecuteQuery",m=r.Xi[v]=(0,r.Vp)(v),p=function(E){return E.V1Old="V1Old",E.V1="V1",E.V2="V2",E}({}),y="PBI.Data.DsrToDataView",S=r.Xi[y]=(0,r.Vp)(y,{logRatio:1e-4}),C="PBI.EX.PreloadConceptualSchema",u=r.Xi[C]=(0,r.Vp)(C)},990773:function(me,j,e){e.d(j,{r:function(){return i}});var r=e(308699);function i(){return new a}class a{constructor(){this.plugins=r.Nx}getTransformPlugin(l){if(l)return this.plugins[l]}}},308699:function(me,j,e){e.d(j,{Nx:function(){return h},nw:function(){return i}});var r=e(147293),i="SampleAndDetectAnomaly",t={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},l=_.mapValues(t,o=>"anomalyDetection."+o),g=_.mapValues(t,o=>o+"Role"),h={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:r.Xk.X}},{name:"Y",visualDataRoleMatching:{cartesianKind:r.Xk.Y}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:r.Ts.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:r.Ts.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:r.Ts.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:r.Ts.Grouping}]},[i]:{name:i,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:r.Xk.X}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:r.Xk.Y}}],outputRoles:[{name:l.ExpectedValue,algorithmRole:g.ExpectedValue,columnName:t.ExpectedValue,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.ExpectedLow,algorithmRole:g.ExpectedLow,columnName:t.ExpectedLow,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.ExpectedHigh,algorithmRole:g.ExpectedHigh,columnName:t.ExpectedHigh,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.RawScore,algorithmRole:g.RawScore,columnName:t.RawScore,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.Anomaly,algorithmRole:g.Anomaly,columnName:t.Anomaly,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.BatchStart,algorithmRole:g.BatchStart,columnName:t.BatchStart,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None},{name:l.BatchEnd,algorithmRole:g.BatchEnd,columnName:t.BatchEnd,kind:r.Ts.Measure,joinPredicateBehavior:r.gD.None}]}}},578963:function(me,j,e){e.d(j,{hg:function(){return d},cj:function(){return p},e1:function(){return v},VB:function(){return o}});var r=e(91137),i=e(891586),a=e(51161),t=e(977961),l=e(817491),g="PBI.Settings.EsriSaveModel",n=l.Xi[g]=(0,l.Vp)(g);function d(u,E,c=!0){return{automaticallyImport:c,sandboxProperties:[r.b.AllowSameOrigin,r.b.AllowPopups,r.b.AllowScripts,r.b.AllowForms],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:()=>({message:E.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:a.By.VisualNotSupported,displayableErrorInfo:[],helpLink:i.sr})}},visualTypeOptions:s(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:()=>u.reject(t.LY)},consentPersistencyProvider:{loadConsent:()=>u.reject(t.LY),saveConsent:f=>u.reject(t.LY)}}}}function s(){return{class:t.gj,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function h(u){return{blockedInCluster:()=>!u.featureSwitches.esriEnabled,blockedInTenant:()=>!u.featureSwitches.esriVisualEnabled,blockedInHost:_.stubFalse}}function o(u,E,c,f,D,b,T,M=!0){var V=h(c),w=S(V,T,f);return{automaticallyImport:M,sandboxProperties:[r.b.AllowSameOrigin,r.b.AllowPopups,r.b.AllowScripts,r.b.AllowForms],providers:{blocker:V,validator:w},visualTypeOptions:s(),registerVisualConsentOptions:m(u,E,D,b)}}function v(u,E,c=!0){var f=h(u),D=S(f,void 0,E);return{automaticallyImport:c,sandboxProperties:[r.b.AllowSameOrigin,r.b.AllowPopups,r.b.AllowScripts,r.b.AllowForms],providers:{blocker:f,validator:D},visualTypeOptions:s()}}function m(u,E,c,f){return{consentDialogProvider:C(u,E),consentPersistencyProvider:y(u,c,f)}}function p(u,E,c,f,D,b,T=!0,M=!0){var V=h(E),w=S(V,f,c),P={automaticallyImport:T,sandboxProperties:[r.b.AllowSameOrigin,r.b.AllowPopups,r.b.AllowScripts,r.b.AllowForms],providers:{blocker:V,validator:w},visualTypeOptions:s()};return M&&(P.registerVisualConsentOptions={consentDialogProvider:{showConsentDialog:()=>u.reject("Esri consent dialog is not supported in Mobile scenario.")},consentPersistencyProvider:y(u,D,b)}),P}function y(u,E,c){return{loadConsent:()=>{var f=u.defer();return E.esriVisualEnabled.subscribe(D=>{f.resolve(D)}),f.promise},saveConsent:f=>{var D=c.startEvent(n,{esriEnabled:f});return E.setEsriVisualEnabled(f,D),u.resolve(f)}}}function S(u,E,c){return{getErrorDetails:()=>{var f;if(u.blockedInTenant()?f="SettingsEsri_OrganizationHasDisabled":E&&!E.hasConsent(t.gj)&&(f="VisualContainer_EsriNotConsented"),f)return{message:c.get(f),errorType:a.By.VisualNotSupported,displayableErrorInfo:[],helpLink:i.sr}}}}function C(u,E){return{showConsentDialog:()=>{var c=u.defer();return E.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(D=>D.afterClosed().subscribe(b=>c.resolve(b))),c.promise}}}},242804:function(me,j,e){e.d(j,{H:function(){return i},N:function(){return a}});var r=e(212554),i={name:"saveExploration",type:r.U.Exploration},a={name:"saveAsExploration",type:r.U.Exploration}},863150:function(me,j,e){e.d(j,{Qd:function(){return t}});var t={type:e(212554).U.Visual,name:"topNFilterOrderByUpdate"}},788346:function(me,j,e){e.d(j,{D4:function(){return y},ed:function(){return p}});var r=e(668309),i=e(64974),a=e(270475),t=e(343382),l=e(712813),g=e(781594),n=e(785463),d=e(147293),s=e(160800),h=e(168376),o=e(669129),v=e(511334),m=e(796158),p=function(C){return C[C.Card=0]="Card",C[C.Pane=1]="Pane",C}({}),y=(()=>{class C extends m.J{constructor(E,c,f){super(E,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:E.type}),this.localizationService=f,this.isInvalidForMappedColumn=!1,this.id=C.counter++,this.restatement="",this.displayName="",this.containerScope=c,this.howCreated=i.GS.Auto,this.isLinkedAsAggregation=!1,this.filterCapabilities=t.M.getFilterCapabilities(E),this.containerType=p.Pane}setServices(E,c,f){n.Y.assertAnyValue(E,"visualHostServices can be null or undefined."),this.visualHostServices=E,this.visualPlugin=c,this.viewModeState=f}isInvalid(){return this.invalid}clearDQPWarning(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)}isInvalidCardType(){return this.cardType&&this.cardType.invalid}setContainerType(E){this.containerType=E}get filterContainerType(){return this.containerType}get isVisualFilter(){return this.containerScope&&this.containerScope.scopeType===a.$d.Visual}get hasDefaultValue(){return this.defaultValue&&(this.howCreated===i.GS.User||this.howCreated===i.GS.Drillthrough)}get isLinkField(){return this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient}get canToggleLinkAsAggregation(){return this.isLinkField&&!this.isMeasure}get canDeleteManually(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid}get canClearManually(){return this.filterCapabilities.canClear}get hasRestatement(){return""!==this.restatement&&null!=this.restatement}get canHideManually(){return this.filterCapabilities.canHide}get canLockManually(){return this.filterCapabilities.canLock}get canRenameManually(){return this.filterCapabilities.canRename}get canSortManually(){return this.filterCapabilities.canSort}get canExpandManually(){return this.filterCapabilities.canEdit&&t.M.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)}getFilterContainerScope(){return this.containerScope}setRestatement(E){this.contract.type===this.readOnlyState.type&&(this.restatement=E)}clearRestatement(){this.restatement=""}getRestatement(){return this.restatement}updateFilterCardStyle(E,c){c&&(this.style=t.M.getFilterCardStyle(E&&E.evaluatedObjects,!!this.contract.filter,c,this.filterCardStyleArguments))}get checkboxAndApplyColor(){return this.style&&this.style.checkboxAndApplyColor}get borderColor(){return this.style&&this.style.borderColor}get backgroundColor(){return this.style&&this.style.backgroundColor}get foregroundColor(){return this.style&&this.style.foregroundColor}get inputBoxBorderColor(){return this.style&&this.style.inputBoxBorderColor}get inputBoxBackgroundColor(){return this.style&&this.style.inputBoxBackgroundColor}get inputBoxForegroundColor(){return this.style&&this.style.inputBoxForegroundColor}get fontSize(){return this.style&&this.style.fontSize}get fontFamily(){return this.style&&this.style.fontFamily}get visualContainer(){if(this.isVisualFilter)return this.containerScope.container}isFilterLocked(){return this.contract.isLockedInViewMode}isFilterHidden(){return this.contract.isHiddenInViewMode}isFilterExpanded(){return this.readOnlyState.expanded}updateFilterProperties(E,c,f){if(this.contract.expression){var D=this.contract.expression;this.isMeasure=(0,v.t)(D),this.discourageAggregation=o.B.discourageAggregation(D,E),this.valueType=t.M.getValueType(D,E),this.formatter=t.M.getFormatter(D,E),this.defaultValue=o.B.getDefaultValue(D,E),this.parameterMetadata=o.B.getConceptualParameterMetadata(D,E),this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var M=(0,h._W)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=M&&M.value}var V=this.containerScope.container;this.hasGroupingScope=V&&(0,l.gk)(V,E),this.invalid=!_.isEmpty(t.M.validate(this.contract,E,f)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,E),this.invalid=this.isInvalidForMappedColumn),this.disabled=t.M.shouldDisableFilter(this.contract,E,V,f,c)}hasInvalidFiltersForMParameters(E,c){var f=E?.filter?.conditions();if(!f)return!1;for(var D of f)if(!o.B.checkExprForValidMParameters(D,c))return!0;return!1}switchType(E){this.readOnlyState.type=E}canVisualize(){var E=this.contract;return E.expression&&E.type!==r.RJ.Passthrough&&!this.isMeasure}updateViewStateCore(E){var c=this.contract;n.Y.assertValue(E.type,"Expected type to be defined for filter contract.");var f=!this.invalid;if(E.disabled=this.disabled,E.expanded=!0===c.expanded&&f,E.invalid=!f,_.some(this.availableTypes,T=>T.type===r.RJ.Categorical)&&!E.visual&&c.config){var D=c.config.singleVisual;D&&this.visualHostServices&&this.visualPlugin&&(E.visual={viewport:C.DefaultVisualViewPort,type:g.N.filterSlicer.name,dataTransforms:{objects:D.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}E.canToggleSingleSelect=!(this.howCreated===i.GS.Drillthrough&&!this.contract.isTransient||this.contract.isTransient||E.disabled||!E.expanded||!E.visual||!E.visual.data)}updateAvailableTypes(){var E=this.localizationService,c=this.readOnlyState.type;if(c!==r.RJ.Passthrough){var f=[];c===r.RJ.VisualTopN?f.push({type:r.RJ.VisualTopN,label:E.get("Data_Limit")}):(function(C,u){return C&&!C.bool&&!u}(this.valueType,this.isLinkField)&&f.push({type:r.RJ.Advanced,label:E.get("FilterPane_Advanced")}),this.isMeasure||(f.push({type:r.RJ.Categorical,label:E.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(f.push({type:r.RJ.RelativeDate,label:E.get("FilterPane_RelativeDate")}),f.push({type:r.RJ.RelativeTime,label:E.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&f.push({type:r.RJ.TopN,label:E.get("FilterPane_TopN")}))),this.availableTypes=f,this.hiddenTypes=[],this.updateCardType(c)}else this.availableTypes=[]}updateCardType(E){var c=this.availableTypes;this.readOnlyState.type=E,this.cardType=_.find(c,f=>f.type===E),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,f=>f.type===E),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:r.RJ.Categorical,label:this.localizationService.get("FilterPane_Basic")})}isSingleSelectDisabled(){return this.disableSelectionModeToggle||!this.viewModeState||this.viewModeState.getMode()===d.nE.View}getDisplayName(){return this.contract.displayName?this.contract.displayName:this.displayName}updateIsLinkedAsAggregation(E){this.isLinkedAsAggregation=E}getInputPlaceholder(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""}isMappedToMParameter(){return this.parameterMetadata&&this.parameterMetadata.kind===s.S_.MParameters}supportsMultipleValues(){return!!this.parameterMetadata?.supportsMultipleValues}supportsSelectAll(){return!!this.parameterMetadata?.supportsSelectAll}}return C.DefaultVisualViewPort={width:146,height:180,scale:1},C.counter=0,C})()},885418:function(me,j,e){e.d(j,{dm:function(){return c},FV:function(){return f}});var r=e(668309),i=e(64974),a=e(270475),t=e(343382),l=e(785463),g=e(507345),n=e(739549),d=e(336983),s=e(759520),h=e(574324),o=e(238134),v=e(253870),m=e(536087),p=e(266403),y=e(942133),S=e(349560),u=e(788346),E=e(990370);function c(R,W,F,U,B,x,A,L,Y){var z;switch(l.Y.assertValue(R,"contract"),l.Y.assertValue(R.expression||R.filter||R.type===r.RJ.Include||R.type===r.RJ.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),l.Y.assert(()=>!R.isTransient||!!R.filter,"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),R.type){case r.RJ.TopN:z=w(R,L,U,W,F,A,Y);break;case r.RJ.VisualTopN:z=function(R,W,F,U,B,x,A){return O(R,r.RJ.VisualTopN,W,F,U,B,x,A)}(R,U,W,F,A,L,Y);break;case r.RJ.Advanced:case r.RJ.Categorical:z=V(R,L,U,W,F,A,Y);break;case r.RJ.RelativeTime:z=N(n.Z7.Time,R,L,U,W,F,A,Y,!1);break;case r.RJ.RelativeDate:z=N(n.Z7.Date,R,L,U,W,F,A,Y,!1);break;case r.RJ.Passthrough:z=M(R,L,U,W,F,Y,A);break;case r.RJ.Include:case r.RJ.Exclude:z=T(R,U,W,F,A);break;default:z=w(R,L,U,W,F,A,Y)||N(n.Z7.Time,R,L,U,W,F,A,Y,!0)||N(n.Z7.Date,R,L,U,W,F,A,Y,!0)||V(R,L,U,W,F,A,Y)||T(R,U,W,F,A)||M(R,L,U,W,F,Y,A)}return l.Y.assertValue(z,"Expected to convert contract to FilterViewModel"),l.Y.assertValue(R.type,"Expected filter contract type to be assigned"),z.howCreated=R.howCreated,z.updateFilterProperties(W,B,x),z}function f(R,W,F){var U;if(R.filter){var B=R.filter.conditions();l.Y.assert(()=>1===B.length,"There should be exactly 1 filter expression.");var x=B[0];x&&(U=new S.x(W).fromFilterExpr(x,F,null,R.expression))}return!U&&R.expression&&(U=new y.s(R.expression,W)),U}function D(R,W,F,U,B,x,A){var L=(0,h.F)(R);return F.getDisplayName(R,W,U,B,A===a.$d.Visual?x:void 0,{includeVariationSource:!0})||(L?(0,s.ZO)(L):void 0)}function b(R,W,F,U,B,x,A){var L=F.getQualifiedDisplayName(R,W,B);return A===i.GS.Drillthrough||A===i.GS.CrossDrill||A===i.GS.Drill?L=U.format("FilterCard_Transient_Drill",[L]):A===i.GS.URL?L=U.format("FilterCard_Transient_URL",[L]):x&&(L=U.format("FilterCard_Transient",[L])),L}function T(R,W,F,U,B){var x=new p.y(F,U);if(!R.filter)return R.type?new u.D4(R,W,B):void 0;var A=R.filter.conditions();if(!(_.isEmpty(A)||A.length>1)&&(A[0].accept(x),x.dataPoints.length>0)){R.type=x.isExclude?r.RJ.Exclude:r.RJ.Include;var Y=new u.D4(R,W,B);return Y.displayName=t.M.getDisplayNameForIncludeExcludeFilters(B,R.type,x.dataPoints.length),Y}}function M(R,W,F,U,B,x,A){l.Y.assert(()=>null==R.type||R.type===r.RJ.Passthrough,"Filter contract matches FilterType.Passthrough, but has differing type property: "+R.type),null==R.type&&(R.type=r.RJ.Passthrough);var L=new u.D4(R,F,A),Y=R.restatement;if((!Y||""===Y)&&R.filter){l.Y.assert(()=>1===_.size(R.filter.where()),"expecting only 1 filter in passthrough filters");var z={includeFieldNamesInFilter:!0};if(Y=B.getFilterRestatement(R.filter,U,W,z),L.tooltip=B.getQualifiedFilterRestatement(R.filter,U,W,z),_.isEmpty(Y)){var H=(0,o.c)(R.filter);if(!_.isEmpty(H)){var k,K,ee,Q,Z=A.get("ListJoin_Separator");x&&(Q=x.columnProperties);var J=H.fieldsBeingFiltered.map(Me=>{var Ye=x&&x.query&&x.query.defn.selectNameOf(Me);return B.getDisplayName(Me,U,W,Ye,Q)}).join(Z),X=H.fieldsBeingFiltered.map(Me=>B.getQualifiedDisplayName(Me,U,W,z)).join(Z);if(H.isSubquery&&H.itemCount){l.Y.assert(()=>F.scopeType===a.$d.Section&&R.howCreated===i.GS.Drillthrough,"Subqueries are expected to be only within section and drillthrough context.");var ne=(0,d.GP)(H.itemCount);if(H.orderByField){var ae=x&&x.query&&x.query.defn.selectNameOf(H.orderByField),oe=B.getDisplayName(H.orderByField,U,W,ae,Q);ee=H.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",k=[ne,J,oe],K=[ne,X,oe]}}else k=[J],K=[X],ee=H.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";Y=(0,g.G)(A.get(ee),...k||[]),L.tooltip=(0,g.G)(A.get(ee),...K||[])}}}return L.setRestatement(Y),L}function V(R,W,F,U,B,x,A){var L=f(R,x,U);if(L){R.expression||(R.expression=L.field),l.Y.assert(()=>null==R.type||R.type===r.RJ.Categorical||R.type===r.RJ.Visual||R.type===r.RJ.Advanced,"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+R.type),null==R.type&&(R.filter?R.type=t.M.getFilterType(L.field,L.supportsCategorical):(l.Y.assert(()=>!R.isTransient,"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),R.type=(0,E.I_)(R.expression,U,R.howCreated))),null==R.type&&(R.type=r.RJ.Categorical);var H,Z,Y=R.expression,z=new u.D4(R,F,x);return A&&(H=A.query&&A.query.defn.selectNameOf(Y),Z=A.columnProperties),z.displayName=D(Y,U,B,W,H,Z,F.scopeType),z.tooltip=b(Y,U,B,x,W,R.isTransient,R.howCreated),z}}function w(R,W,F,U,B,x,A){if(F.scopeType===a.$d.Visual&&R.howCreated!==i.GS.Drillthrough){var L=(0,m.c$)(R.filter);return L&&I(R,r.RJ.TopN,L.fieldBeingFiltered),O(R,r.RJ.TopN,F,U,B,x,W,A)}}function N(R,W,F,U,B,x,A,L,Y){var z=function(R){switch(R){case n.Z7.Time:return r.RJ.RelativeTime;case n.Z7.Date:return r.RJ.RelativeDate;default:return l.Y.assertFail("Unsupported RelativeFilterType"),null}}(R),H=(0,v.C)(W.filter,R);if(H){if(H.options&&H.options.anchorDate&&Y)return;I(W,z,H.field)}return O(W,z,U,B,x,A,F,L)}function I(R,W,F){l.Y.assert(()=>null==R.type||R.type===W,"Filter contract matches FilterType."+W+" but has differing type property: "+R.type),R.type=W,R.expression=F}function O(R,W,F,U,B,x,A,L){if(R.type===W){if(W===r.RJ.VisualTopN){var Y=new u.D4(R,F,x);return Y.displayName=x.get("Data_Limit"),Y}if(R.expression){var z=new u.D4(R,F,x),H=L&&L.query?L.query.defn.selectNameOf(R.expression):void 0;return z.displayName=D(R.expression,U,B,A,H,L?L.columnProperties:void 0,F.scopeType),z.tooltip=b(R.expression,U,B,x,A,R.isTransient,R.howCreated),z}}}},90016:function(me,j,e){e.d(j,{Ap:function(){return H},Bz:function(){return h},Ch:function(){return X},Dw:function(){return n},ER:function(){return oe},EY:function(){return l},El:function(){return a},FL:function(){return c},GP:function(){return M},Hf:function(){return o},Ho:function(){return U},In:function(){return g},JS:function(){return y},LN:function(){return x},Po:function(){return J},Q1:function(){return w},S:function(){return I},SG:function(){return T},Vm:function(){return P},WR:function(){return O},X:function(){return ee},XB:function(){return L},Y:function(){return Q},_K:function(){return B},a:function(){return t},bv:function(){return S},c2:function(){return Y},eR:function(){return N},fs:function(){return k},gC:function(){return v},hY:function(){return d},lM:function(){return z},s$:function(){return m},sQ:function(){return E},wv:function(){return A},xL:function(){return K},y4:function(){return s},yD:function(){return ae},z:function(){return W},zE:function(){return V}});var a="calloutValue",t="categoryAxis",l="categoryLabels",g="conditionalFormatting",n="dataBars",d="dataPoint",s="dropShadow",h="general",o="gradient",v="labels",m="legend",y="personalizeVisual",S="stylePreset",E="totals",c="valueAxis",T="visualTooltip",M="zoom",V="applyToAllPages",w="color",P="dynamicLabelValue",N="flagsSelection",I="innerPadding",O="numericSelection",W="revertToDefault",U="secShow",B="secShowAxisTitle",x="selection",A="show",L="showAxisTitle",Y="showDynamicLabels",z="showGradientLegend",H="slider",k="textarea",K="transparency",ee="x",Q="y",J="width",X="height",ae="allowBinnedLineSample",oe="allowOverlappingPointsSample"},287171:function(me,j,e){e.d(j,{Ht:function(){return m},Hw:function(){return P},Jr:function(){return o},Mb:function(){return v},Mo:function(){return p},Ny:function(){return n},OJ:function(){return s},O_:function(){return y},Pd:function(){return T},Xy:function(){return f},aC:function(){return N},ad:function(){return S},ah:function(){return C},b3:function(){return d},hX:function(){return g},ji:function(){return w},nT:function(){return V},ol:function(){return h},th:function(){return D},u1:function(){return M}});var g=9,n=20,d=10,s=20,h=30,o=300,v=300,m=150,p=150,y=500,S=15,C={x:1,y:1},f=8,D=50,T=558,M=324,V=18,w=180,P=3600,N=function(I){return I[I.SchemaEmpty=0]="SchemaEmpty",I[I.SchemaLoading=1]="SchemaLoading",I[I.SchemaNotEmpty=2]="SchemaNotEmpty",I}({})},295690:function(me,j,e){e.d(j,{EG:function(){return d},Fk:function(){return o},IT:function(){return S},Zu:function(){return g},as:function(){return v},eh:function(){return m},le:function(){return h},oQ:function(){return p},tZ:function(){return C},wj:function(){return s},x9:function(){return y}});var r=e(511931),i=e(64974),a=e(983240),t=e(935236),l=e(785463);function g(u,E){var c=(0,r.Zj)(E),f=(0,r.Zj)(u);l.Y.assert(()=>c.length===f.length,"permanent section count is out of sync");for(var D=c.length-1;D>=0;D--){var b=c[D],T=f[D];b.id=T.id,b.objectId=T.objectId,n(b.visualContainerGroups,T.visualContainerGroups)}}function n(u,E){for(var c=function(){var D=u[f],b=E[f];D.id=b.id,l.Y.assert(()=>(0,a.tx)(D)===(0,a.tx)(b),"visualContainerGroups items must be in sync"),(0,a.tx)(D)&&(0,a.tx)(b)&&n(D.children,b.children)},f=u.length-1;f>=0;f--)c()}function d(u,E){if(u&&u.sections){var f=_.findIndex(u.sections,D=>D.name===E);if(-1!==f)return f}}function s(u,E){var c;return E&&(c=d(u,E)),null==c&&_.isNumber(u.activeSectionIndex)&&(c=u.activeSectionIndex),(null==c||!_.inRange(c,0,u.sections.length))&&(c=0),c}function h(u,E){return u&&u.sections?_.findIndex(u.sections,D=>D===E):-1}function o(u,E){return u&&u.sections?(0,t.lz)(u.sections,E):null}function v(u,E){return u&&u.sections?_.findIndex(u.sections,D=>D.id===E):-1}function m(u,E){for(var c=1,f=E.format("Explore_Section_Page",[c.toFixed()]);_.findLastIndex(u,D=>D.displayName===f)>=0;)f=E.format("Explore_Section_Page",[(++c).toFixed()]);return f}function p(u,E){var c=u.sections;for(var f of c)f.displayName||(f.displayName=m(u.sections,E))}function y(u){return _.filter(u,E=>!S(E))}function S(u){return!!(1&u.visibility)}function C(u){return!!(u.type&i.gX.Tooltip)}},958218:function(me,j,e){e.d(j,{HO:function(){return g},tP:function(){return l},wr:function(){return t}});var r=e(395416),i=e(997519),a=e(855076);function t(m,p,y){m.addEventListener("drop",S=>{var C=g(S);C&&p(S,C,n(m,S))}),m.addEventListener("dragover",S=>{(function(m){return!function(m){return m.dataTransfer.types.includes(r.Z0.BuildFieldWell)}(m)})(S)&&(y&&function(m,p){switch(p){case a.ST.None:s(m.previousElementSibling,a.NV.class),s(m,a.NV.class),s(m.nextElementSibling,a.NV.class);break;case a.ST.Prepend:s(m.previousElementSibling,a.dW.class),s(m,a.Zx.class),s(m.nextElementSibling,a.NV.class);break;case a.ST.Append:s(m.previousElementSibling,a.NV.class),s(m,a.dW.class),s(m.nextElementSibling,a.Zx.class);break;case a.ST.Replace:s(m.previousElementSibling,a.NV.class),s(m,a.Nt.class),s(m.nextElementSibling,a.NV.class);break;default:h(m)}}(m,y(n(m,S))),S.preventDefault())}),y&&(m.addEventListener("dragleave",()=>h(m)),m.addEventListener("dragexit",()=>h(m)),m.addEventListener("dragend",()=>h(m)))}function l(m){m.removeAllListeners("drop"),m.removeAllListeners("dragover"),m.removeAllListeners("dragleave"),m.removeAllListeners("dragexit"),m.removeAllListeners("dragend")}function g(m,p=!0){p&&(m.stopPropagation(),m.preventDefault());var y=m.dataTransfer.getData("pbi-tree-node");if(y){var S=JSON.parse(y).fieldExpr;if(S)return i.F3.deserializeExpr(S)}}function n(m,p){var y=m.getBoundingClientRect(),S=0;return(S|=y.top+y.height/2>p.pageY?a.yX.Above:a.yX.Below)|(y.left+y.width/2>p.pageX?a.yX.LeftOf:a.yX.RightOf)}function s(m,p){!m||m.classList.contains(p)||(m.classList.remove(a.dW.class),m.classList.remove(a.NV.class),m.classList.remove(a.Zx.class),m.classList.remove(a.Nt.class),m.classList.add(p))}function h(m){s(m.previousElementSibling,a.NV.class),s(m,a.NV.class),s(m.nextElementSibling,a.NV.class)}},87599:function(me,j,e){function r(i,a){var t=(g,...n)=>a.run(g,i,n),l={getLocalizedString:(g,...n)=>i.getLocalizedString(g,...n||[]),tooltips:()=>i.tooltips(),getSectionsMetadata$:()=>i.getSectionsMetadata$(),getBookmarksMetadata$:()=>i.getBookmarksMetadata$(),getSubSelectionService:()=>i.getSubSelectionService(),alertScreenReader:g=>t(i.alertScreenReader,g),alertWithDebounce:(g,n)=>t(i.alertWithDebounce,g,n),requestFocus:g=>t(i.requestFocus,g),onDragStart:g=>t(i.onDragStart,g),getVisualLinkProperties:()=>t(i.getVisualLinkProperties),canSelect:g=>t(i.canSelect,g),onSelecting:g=>t(i.onSelecting,g),onSelect:g=>t(i.onSelect,g),onSwitchFocusModeState:g=>t(i.onSwitchFocusModeState,g),canExpandCollapse:g=>t(i.canExpandCollapse,g),setNodeExpansionState:g=>t(i.setNodeExpansionState,g),setLevelExpansionState:g=>t(i.setLevelExpansionState,g),onContextMenu:g=>t(i.onContextMenu,g),loadMoreData:()=>t(i.loadMoreData),loadWindow:g=>t(i.loadWindow,g),setShouldDeferData:g=>t(i.setShouldDeferData,g),persistProperties:(g,n)=>t(i.persistProperties,g,n),onCustomSort:g=>t(i.onCustomSort,g),getViewMode:()=>t(i.getViewMode),getEditMode:()=>t(i.getEditMode),setWarnings:g=>t(i.setWarnings,g),getWarnings$:()=>t(i.getWarnings$),setToolbar:(g,n)=>t(i.setToolbar,g,n),shouldRetainSelection:()=>t(i.shouldRetainSelection),geocoder:()=>t(i.geocoder),geolocation:()=>t(i.geolocation),locale:()=>t(i.locale),promiseFactory:()=>t(i.promiseFactory),ignoreDefaultFilter:()=>t(i.ignoreDefaultFilter),getIdentityDisplayNames:g=>t(i.getIdentityDisplayNames,g),setIdentityDisplayNames:g=>t(i.setIdentityDisplayNames,g),dropdown:()=>t(i.dropdown),telemetry:()=>t(i.telemetry),authenticationService:()=>t(i.authenticationService),localStorageService:()=>t(i.localStorageService),eventService:()=>t(i.eventService),licenseManagerService:()=>t(i.licenseManagerService),loader:()=>t(i.loader),getUIComponentFactory:()=>t(i.getUIComponentFactory),applyJsonFilter:(g,n,d,s)=>t(i.applyJsonFilter,g,n,d,s),applyIdentityFilter:(g,n,d,s)=>t(i.applyIdentityFilter,g,n,d,s),launchUrl:g=>t(i.launchUrl,g),instanceId:i.instanceId,refreshHostData:()=>t(i.refreshHostData),decompositionService:()=>t(i.decompositionService),getJSONFilter:(g,n)=>t(i.getJSONFilter,g,n),visualCapabilitiesChanged:()=>t(i.visualCapabilitiesChanged),onHyperlinkClick:(g,n)=>t(i.onHyperlinkClick,g,n),visualTimeSynchronization:()=>t(i.visualTimeSynchronization),setFilterExpressionMetadata:g=>t(i.setFilterExpressionMetadata,g),getFilterExpressionMetadata:()=>t(i.getFilterExpressionMetadata),isVisualEnabled:()=>t(i.isVisualEnabled),isVisualLoading:()=>t(i.isVisualLoading),dataMultiSelectMode:()=>t(i.dataMultiSelectMode),networkAvailability:()=>t(i.networkAvailability),downloadService:()=>t(i.downloadService),setAriaMetadata:g=>t(i.setAriaMetadata,g),artifactService:()=>t(i.artifactService),onNotifyLicense:g=>t(i.onNotifyLicense,g),onClearLicenseNotification:()=>t(i.onClearLicenseNotification),onNotifyFeatureBlocked:g=>t(i.onNotifyFeatureBlocked,g),webAccessService:()=>t(i.webAccessService),drill:g=>t(i.drill,g),getAzureMapToken:()=>t(i.getAzureMapToken),acquireAADTokenService:()=>i.acquireAADTokenService(),localStorageV2Service:()=>i.localStorageV2Service(),aiNarrativesService:()=>t(i.aiNarrativesService),azureMapsEndpoint:()=>i.azureMapsEndpoint(),geocoderIndexedDB:()=>i.geocoderIndexedDB(),triggerUpdate:()=>t(i.triggerUpdate),azureMapsHostEnvironment:()=>i.azureMapsHostEnvironment(),setCanDrill:g=>t(i.setCanDrill,g),dateTimeFormatService:()=>i.dateTimeFormatService(),visualExportService:()=>t(i.visualExportService),visualHostSubSelectionService:()=>i.visualHostSubSelectionService(),annotations:()=>i.annotations()};return i.isSelected&&i.isSelected$&&(l.isSelected=()=>i.isSelected(),l.isSelected$=()=>i.isSelected$()),l}e.d(j,{N:function(){return r}})},266403:function(me,j,e){e.d(j,{y:function(){return l}});var r=e(343382),i=e(785463),a=e(336983),t=e(20502);class l extends t.nP{constructor(n,d,s){super(),this.schema=n,this.displayName=d,this.metadata=s,this.dataPoints=[],this.isExclude=!1}visitNot(n){this.isExclude=!0,n.arg.accept(this)}visitOr(n){n.left.accept(this),n.right.accept(this)}visitIn(n){var d=this;if(!_.isEmpty(n.values)){var s=[],h=n.args,o=_.map(h,p=>this.displayName.getDisplayName(p,this.schema,null,null,null,{includeVariationSource:!0})),v=function(p){i.Y.assert(()=>h.length===p.length,"Columns can't be different from values");var y=o,S=_.map(p,u=>u.value),C=r.M.findValuesInFilterCache(h,p,d.metadata);C&&(y=_.map(C.columns,u=>d.displayName.getDisplayName(u,d.schema,null,null,null,{includeVariationSource:!0})),S=C.values),s.push({columns:h,values:p,text:l.getDataPointText(y,S)})};for(var m of n.values)v(m);this.dataPoints.push(...s||[])}}static getDataPointText(n,d){var s="";i.Y.assert(()=>n.length>0,"getDataPointText columns cant be empty"),i.Y.assert(()=>n.length===d.length,"getDataPointText columns and values should have the same length");for(var h=0;h<n.length;h++){var v=n[h];s+=(0,a.GP)(d[h])+" ("+v+") + "}return s.slice(0,s.length-3)}}},229962:function(me,j,e){e.d(j,{s:function(){return l}});var r=e(339131),i=e(64974),a=e(229456),t=e(147293);function l(n,d,s,h,o,v,m){return new g(n,d,h,o,v,m)}class g{constructor(d,s,h,o,v,m){this.eventBridge=d,this.explorationNavigation=s,this.formFactorProvider=h,this.visibility=o,this.viewModeState=v,this.overlayService=m,this.displayAreaScale=1,this.wallpaperScale=1}setDisplayAreaScaleFactor(d){this.displayAreaScale=d,this.eventBridge.publishToChannel(a.NlL,d)}setWallpaperScaleFactor(d){this.wallpaperScale=d}getDisplayAreaScaleFactor(){return this.displayAreaScale}getWallpaperScaleFactor(){return this.wallpaperScale}getDisplayOption(){if(this.formFactorProvider.getCurrentLayout()===r.v.PhonePortrait&&this.viewModeState.getMode()===t.nE.Edit||null!=this.canvasZoom)return i.td.ActualSize;if(this.visibility.get())return i.td.Dynamic;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var h=this.explorationNavigation.getCurrentSection();return h?h.size.displayOption:void 0}setDisplayOption(d){var s=this.explorationNavigation.getCurrentSection();s&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),s.size.displayOption=d)}setCanvasZoom(d){this.overlayService.hideAllDropdowns(),this.canvasZoom=d}getCanvasZoom(){return this.canvasZoom}}},785839:function(me,j,e){e.d(j,{Y:function(){return S}});var r=e(662785),i=e(339131),a=e(64974),t=e(229456),l=e(347130),g=e(343382),n=e(986417),d=e(712813),s=e(935236),h=e(785463),o=e(928912),v=e(147293),p=(e(446024),e(295690)),y=function(C){return C[C.ShowTargetVisual=0]="ShowTargetVisual",C[C.ShowSourceVisual=1]="ShowSourceVisual",C}({});function S(){var C=g.M,u=l.qN,c=o.n4;class f{constructor(T,M,V,w,P){this.sourceSection=T,this.sourceVisualContainer=M,this.targetSection=V,this.targetVisualContainer=w,this.navigationState=P}toSnapshot(T){if(T.getCurrentSection()===this.targetSection){var M=T.getCurrentExploration(),V=(0,p.le)(M,this.sourceSection),w=(0,p.le)(M,this.targetSection);return{sourceSectionIndex:V,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,I=>I===this.sourceVisualContainer),targetSectionIndex:w,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,I=>I===this.targetVisualContainer)}}}static fromSnapshot(T,M){if(T){var V=M.getCurrentExploration(),w=V.sections[T.sourceSectionIndex],P=w.visualContainers[T.sourceVisualIndex],N=V.sections[T.targetSectionIndex],I=N.visualContainers[T.targetVisualIndex];return h.Y.assertValue(w,"sourceSection"),h.Y.assertValue(P,"sourceVisual"),h.Y.assertValue(N,"targetSection"),h.Y.assertValue(I,"targetVisual"),h.Y.assert(()=>M.getCurrentSection()===N,"expected to be on the drill to details section"),new f(w,P,N,I,y.ShowTargetVisual)}}}class D{constructor(T,M,V,w,P,N,I,O,R,W){this.conceptualSchemaProxy=T,this.visualAuthoringOperations=M,this.undoRedo=V,this.selectionService=w,this.explorationNavigationService=P,this.explorationSerializer=N,this.visibility=I,this.eventBridge=O,this.filterGenerator=R,this.visualPluginService=W,this.eventBridge.createChannelSubscriptionManager().subscribe(t.d$U,()=>this.onSectionChanged()).subscribe(t.j8Z,()=>this.onPopOutModeChanged()).subscribe(t.Er3,(F,U)=>this.clearContext())}drillToDetails(T,M,V,w){if(!_.isEmpty(T)){var P=_.head(T);if(P&&!_.isEmpty(P.metadata)){var N=(0,d.NU)(M);if(N&&N.defn){if(_.isEmpty(P.dataMap)){if(!N.projections)return;var I=(0,d.D_)(M,this.visualPluginService),O=_(I).filter(U=>U.kind!==v.Ts.Measure).map(U=>U.name).value();for(var R in N.projections)if(!_.isEmpty(N.projections[R])&&_.includes(O,R))return}var F,W=N.defn.select().withName(_.head(P.metadata));W&&(0,r.b9)(W.expr)&&(w&&(F=w.keepAlive()),this.conceptualSchemaProxy.get(V).then(U=>{var B=this.visualAuthoringOperations.drillToDetails(c.generateGuid(),U,[W.expr],T,M);B&&(this.addCrossFilters(M,this.explorationNavigationService.getCurrentSection(),B,!1,U),this.drillToDetailsCore(T,M,B),F&&F.resolve())},U=>{F&&F.reject(U)}))}}}}generateDetailsTable(T,M,V,w){var P=this.mockVisualContainer(T),N=this.visualAuthoringOperations.drillToDetails(c.generateGuid(),M,V,null,P,w);if(N)return N.config.singleVisual}clear(){if(this.drillToDetailsContext){h.Y.assert(()=>this.drillToDetailsContext.navigationState===y.ShowTargetVisual,"expected to be in show details mode"),this.drillToDetailsContext.navigationState=y.ShowSourceVisual;var T=(0,p.le)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);h.Y.assert(()=>T>=0,"source section not found"),this.eventBridge.publishToChannel(t.gNx,{index:T})}}getContext(){return this.drillToDetailsContext}setContext(T){h.Y.assert(()=>null!=T,"attempting to set a null context for drill to details service"),h.Y.assert(()=>null==this.drillToDetailsContext,"overriding existing drill to details context"),h.Y.assert(()=>T.navigationState===y.ShowTargetVisual,"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=T}clearContext(){this.drillToDetailsContext=null}hasContext(){return!!this.drillToDetailsContext}getDetailsTableTargetMeasures(T){var M=this.mockVisualContainer(T),V=(0,d.NU)(M);if(V&&V.defn){var w=(0,d.D_)(M,this.visualPluginService);if(!_.isEmpty(w)){var P=_(w).filter(U=>(U.kind===v.Ts.Measure||U.kind===v.Ts.GroupingOrMeasure)&&U.joinPredicate!==v.gD.None).map(U=>U.name).value(),N=[];for(var I of P){var O=V.projections[I];if(!_.isEmpty(O)){var R=O.all();for(var W of R){var F=V.defn.select().withName(W.queryRef);if(F&&(0,r.b9)(F.expr))return[F.expr];F&&(0,r.tx)(F.expr)&&N.push(F.expr)}}}return N}}}mockVisualContainer(T){var M={name:c.generateGuid(),config:{singleVisual:T},layouts:(0,s.mq)(),filters:[]};return M.layouts.push({id:i.v.Master,position:{x:0,y:0,width:0,height:0}}),M}onSectionChanged(){if(this.drillToDetailsContext){var T=this.explorationNavigationService.getCurrentSection();switch(h.Y.assert(()=>null!=T,"currentSection"),this.drillToDetailsContext.navigationState){case y.ShowTargetVisual:h.Y.assert(()=>T===this.drillToDetailsContext.targetSection,"expected to navigate to target section"),window.setTimeout(()=>{u.selectCanvasItem(this.drillToDetailsContext.targetVisualContainer,this.selectionService),this.visibility.set(this.drillToDetailsContext.targetVisualContainer,a.B8.Maximize)},0);break;case y.ShowSourceVisual:h.Y.assert(()=>T===this.drillToDetailsContext.sourceSection,"expected to navigate to source section");var M=this.explorationNavigationService.getCurrentExploration(),V=(0,p.le)(M,this.drillToDetailsContext.targetSection);h.Y.assert(()=>V>=0,"target section not found");var w=(0,p.le)(M,this.drillToDetailsContext.sourceSection),P=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(t.tAe,{targetSectionIndex:V}),window.setTimeout(()=>{(0,p.le)(this.explorationNavigationService.getCurrentExploration(),this.explorationNavigationService.getCurrentSection())===w&&u.selectCanvasItem(P,this.selectionService),this.undoRedo.clear()},0);break;default:h.Y.assertFail("unknown drill to details navigationState")}}}onPopOutModeChanged(){if(this.drillToDetailsContext){var T=this.explorationNavigationService.getCurrentSection();h.Y.assert(()=>null!=T,"currentSection"),T!==this.drillToDetailsContext.sourceSection&&(h.Y.assert(()=>T===this.drillToDetailsContext.targetSection,"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}}drillToDetailsCore(T,M,V){var w=this.explorationNavigationService.getCurrentSection();if(w){var P=this.explorationNavigationService.getAllSections(),N=this.explorationSerializer.serializePage(w,1),I=this.explorationSerializer.deserializePage(N),O={name:"Drill to Details",displayName:"Drill to Details",filters:I.filters,size:I.size,visualContainers:[V],visualContainerGroups:[V],transient:!0};(0,n.Ys)(O,P),this.drillToDetailsContext=new f(w,M,O,V,y.ShowTargetVisual),this.eventBridge.publishToChannel(t.hbO,O)}}addCrossFilters(T,M,V,w,P){var N=this.filterGenerator.getVisualContainerCrossFilters(M,T,P);if(N.dataFilters)for(var I of N.dataFilters)this.addVisualFilters(V,I,P,!1);if(w)for(var O of(h.Y.assertValue(N.highlightFilters,"highlight filter"),N.highlightFilters))this.addVisualFilters(V,O,P,!1)}addVisualFilters(T,M,V,w){if(M&&M.filter){var P=C.convertFilterData(M,T.filters,a.GS.Auto);C.add(T,P)}}}return{create:(b,T,M,V,w,P,N,I,O,R)=>new D(b,R,V,w,P,T,N,I,O,M),createContext:(b,T,M,V,w)=>new f(b,T,M,V,w),snapshotToContext:f.fromSnapshot}}},275514:function(me,j,e){e.d(j,{Gl:function(){return l},Vs:function(){return a},nl:function(){return t},ns:function(){return i}});var r=e(212554),i={type:r.U.Visual,name:"visualCustomCommand"},a={type:r.U.Visual,name:"preparePersonalVisuals"},t={type:r.U.Visual,name:"copyVisualAsImage"},l={type:r.U.Visual,name:"VisualContainerAdded"}},367805:function(me,j,e){e.d(j,{L:function(){return i}});var r=e(650980);function i(t,l){return new a(t,l)}class a{constructor(l,g){var n=!g||g.featureSwitches.contentAuthoringUIEnabled,d=!!l&&!!l.isGuestUser,h=d&&!(g&&g.featureSwitches.elevatedGuestsTenantEnabled),o=!(!l||void 0===l.userLicense)&&l.userLicense()===r.L.Free;this.options={shouldSetFocus:!g||!g.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:h||!n,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:h||!n,disableSharePointEmbed:d,disableSecurePublishToWeb:d||!n,disableQRGeneration:d,disableSaveAs:h||o,disableSwitchMode:h||!n,disableAnalyzeInExcel:d,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!g&&g.featureSwitches.onObject}}setCapabilities(l){_.merge(this.options,l)}getCapabilities(){return this.options}}},74784:function(me,j,e){e.d(j,{kT:function(){return W}});var r=e(619584),i=e(724535),a=e(258784);class t{bindEvents(x,A,L){var{paths:Y,formatMode:z}=x;if(!_.isEmpty(Y))for(var H of Y)H&&H.on("contextmenu",()=>this.handleContextMenu(A,z))}renderSelection(x){}handleContextMenu(x,A){var L=(0,a.ZU)(),Y=d3.event;Y.preventDefault(),A||(0,i.o)(Y),(0,a.TA)(z=>{x.handleContextMenu(z,L)})}}var l=e(181743),g=e(588040),n=e(459661),d=e(781594),s=e(785463),h=e(473001),o=e(639195),v=e(989927),m=e(357753),p=e(776360),y=e(402389),S=e(401803),C=e(864754),u=e(329332),E=e(380455),c=e(205918),V=e(957350),w=e(390447),P=e(147293),N="dataViewer",I=(()=>{class B{constructor(A){this.visualSandbox=A}reloadAdapter(A=!1){if(this.dataViewShowing){if(A)return;this.toggleDataview(!1)}if(!o.wZ.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var Y=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(Y),this.setCustomizeQuery(),void this.setCapabilities()}var z=o.wZ.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(z+"status").done(H=>{if(H&&(!A||this.lastUpdateStatus!==H)){if(this.lastUpdateStatus=H,"error"===H){var Z=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"repair"});return this.container.html(Z),this.setCustomizeQuery(),void this.setCapabilities()}$.getJSON(z+"pbiviz.json").done(k=>{if(s.Y.assertValue(k.capabilities,"DebugVisual - pbiviz capabilities missing"),s.Y.assertValue(k.visual&&k.visual.guid,"DebugVisual - pbiviz visual guid missing"),k.capabilities&&k.visual&&k.visual.guid&&this.host){this.visualGuid!==k.visual.guid&&(this.visualGuid=k.visual.guid);var K=this.host?.locale();k=K?(0,V.QW)(k,K):k;var ee=(0,c.u)(k,K);(0,w.s)(ee),d.N[ee.name]=ee,this.setCustomizeQuery(ee.customizeQuery),this.setCapabilities(ee.capabilities),this.loadVisual(ee)}})}}).fail(()=>{this.toggleAutoReload(!1);var H=this.buildErrorMessage({message:this.host?.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:this.host?.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:this.host?.getLocalizedString("LearnMore"),type:"error"});this.container.html(H),this.setCustomizeQuery(),this.setCapabilities()}).always(()=>{this.statusLoading=!1}))}loadVisual(A){var L=A.name!==N;this.promiseFactory=this.host?.promiseFactory(),this.visualContainer.attr("class","visual-"+A.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject(),this.adapter&&this.adapter.destroy(),this.host&&this.promiseFactory&&(this.adapterPromise=(0,E.o)({visualPlugin:A,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:L},visualSandbox:this.visualSandbox,isDebugVisual:!0})).then(z=>{if(this.adapter=z,this.sandbox=this.adapter.sandbox,z.init&&z.init(this.visualInitOptions),z.update&&this.lastUpdateOptions){var H=this.lastUpdateOptions;H.type=P.YL.All,z.update(H)}})}toggleAutoReload(A){this.autoReloadInterval&&!0!==A?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==A&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=window.setInterval(()=>this.reloadAdapter(!0),B.autoReloadPollTime))}toggleDataview(A){this.dataViewShowing&&!0!==A?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==A&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(d.N[N]))}flatten(A){if(A instanceof Array){for(var L=[],Y=0,z=A.length;Y<z;Y++)L[Y]=this.flatten(A[Y]);return L}if("object"==typeof A){var Z,H={};for(Z in A)H[Z]=this.flatten(A[Z]);return H}return A}createAndClickAnchorTagWithJsonData(A){var L=document.createElement("a");L.href="data:"+A,L.download="dataViews.json",L.click()}exportDataViews(){var A=this.flatten(this.lastUpdateOptions.dataViews),L="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(A));this.createAndClickAnchorTagWithJsonData(L)}createRefreshBtn(){var A=this.host?.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),L=this.refreshBtn=$(`<i title="${A}" class="controlBtn glyphicon pbi-glyph-refresh"></i>`);return L.on("click",()=>this.reloadAdapter()),L}createAutoRefreshBtn(){var A=this.host?.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),L=this.autoRefreshBtn=$(`<i title="${A}" class="controlBtn glyphicon pbi-glyph-circle-play"></i>`);return L.on("click",()=>this.toggleAutoReload()),L}createDataBtn(){if(!d.N[N])return null;var A=this.host?.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),L=this.dataBtn=$(`<i title="${A}" class="controlBtn glyphicon pbi-glyph-seedata"></i>`);return L.on("click",()=>this.toggleDataview()),L}createHelpBtn(){var A=this.host?.getLocalizedString("DebugVisual_Help_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2245690" target="_blank"><i title="${A}" class="controlBtn glyphicon pbi-glyph-question"></i></a>`)}createSmilyBtn(){var A=this.host?.getLocalizedString("DebugVisual_Feedback_Button_Title");return $(`<a href="https://go.microsoft.com/fwlink/?linkid=2247381" target="_blank"><i title="${A}" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>`)}createExportDataViewsBtn(){var A=this.host?.getLocalizedString("DebugVisual_Export_Data_Button_Title"),L=$(`<i title="${A}" class="controlBtn glyphicon pbi-glyph-export"></i>`);return L.on("click",()=>this.exportDataViews()),L}buildControls(){var A=$('<div class="debugVisual-controlsContainer"></div>');return A.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),A}buildErrorMessage(A){return _.template(B.errorMessageTemplate)(A)}setCapabilities(A=B.defaultCapabilities){_.isEqual(A,d.N.debugVisual?.capabilities)||(d.N.debugVisual.capabilities=A,this.host?.visualCapabilitiesChanged())}setCustomizeQuery(A=(L=>null)){d.N.debugVisual.customizeQuery=A}init(A){this.host=A.host;var L=this.container=$('<div class="debugVisualContainer"></div>'),Y=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,L.append(Y),A.element.append(L),(this.visualInitOptions=A).element=Y,this.host.setToolbar(this.buildControls()),this.reloadAdapter()}update(A){if(this.visualContainer){if(A.viewport){this.visualInitOptions.viewport=A.viewport;var Y=A.viewport.width;this.visualContainer.height(A.viewport.height).width(Y)}this.lastUpdateOptions=A,this.adapter&&this.adapter.update&&this.adapter.update(A)}}enumerateObjectInstances(A){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(A):[]}enumerateObjectInstancesAsync(A){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(A):this.promiseFactory.resolve(this.enumerateObjectInstances(A))}enumerateObjectRepetitionAsync(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])}getFormattingModel(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()}getFormattingModelAsync(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}getSubSelectionStyles(A){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(A)}getSubSelectionStylesAsync(A){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(A):this.promiseFactory.resolve(this.getSubSelectionStyles(A))}getSubSelectionShortcuts(A,L){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(A,L)}getSubSelectionShortcutsAsync(A,L){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(A,L):this.promiseFactory.resolve(this.getSubSelectionShortcuts(A,L))}getSubSelectables(A){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(A)}getSubSelectablesAsync(A){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(A):this.promiseFactory.resolve(this.getSubSelectables(A))}onClearSelection(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()}onRestoreSelection(A){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(A)}destroy(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null}visualHasMethod(A){return this.adapter?.visualHasMethod(A)}}return B.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:P.Ts.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},B.capabilities=B.defaultCapabilities,B.autoReloadPollTime=300,B.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',B})();(0,C.Z)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,u.D)("DebugVisual_ToolTip"),capabilities:I.capabilities,create:()=>new I,createES6:()=>Promise.resolve(new I),customizeQuery:B=>{},systemVisual:!0});var O=e(981265),R=e(819445);function W(B,x,A,L,Y){return new F(B,A,x,new U(B,L,Y))}class F{constructor(x,A,L,Y){this.asyncFeatureSwitchService=x,this.resourceLoader=A,this.promiseFactory=L,s.Y.assertValue(x,"asyncFeatureSwitchService"),s.Y.assertValue(L,"promiseFactory"),this.resourceLoader=A,this.promiseFactory=L,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new m.Z9,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(z=>(Y=Y||new U(x),this.getConvertibleCoreVisualTypeNames(z))).then(z=>{for(var H in this.globalConvertibleVisualTypes=z,d.N)this.storage.loadPlugin(H,Y.getPlugin(H))})}getConvertibleCoreVisualTypeNames(x){var A=[d.N.barChart.name,d.N.columnChart.name,d.N.clusteredBarChart.name,d.N.clusteredColumnChart.name,d.N.hundredPercentStackedBarChart.name,d.N.hundredPercentStackedColumnChart.name,d.N.lineChart.name,d.N.areaChart.name,d.N.stackedAreaChart.name,d.N.hundredPercentStackedAreaChart.name,d.N.lineStackedColumnComboChart.name,d.N.lineClusteredColumnComboChart.name,d.N.ribbonChart.name,d.N.waterfallChart.name,d.N.funnel.name,d.N.scatterChart.name,d.N.pieChart.name,d.N.donutChart.name,d.N.treemap.name,d.N.map.name,d.N.filledMap.name];x&&x.shapeMapVisualEnabled&&A.push(d.N.shapeMap.name),(!x||!x.hideAzureMapVisual)&&A.push(d.N.azureMap.name),A.push(d.N.gauge.name,d.N.card.name,d.N.multiRowCard.name,d.N.kpi.name,d.N.slicer.name),x&&x.pivotTableVisualEnabled?(A.push(d.N.tableEx.name),A.push(d.N.pivotTable.name)):(A.push(d.N.table.name),A.push(d.N.matrix.name)),x&&x.scriptVisualEnabled&&x.scriptVisualAuthoringEnabled&&(A.push(d.N.scriptVisual.name),A.push(d.N.pythonVisual.name)),x&&x.keyDrivers&&A.push(d.N.keyDriversVisual.name),A.push(d.N.decompositionTreeVisual.name),x&&x.qnaVisual&&A.push(d.N.qnaVisual.name),x&&x.daxTransformEnabled&&!(x.aiNarrativesSingleEntryPoint&&x.aiNarrativesVisual)&&A.push(d.N.textbox.name),x&&x.aiNarrativesVisual&&A.push(d.N.aiNarratives.name),x&&x.scorecardVisual&&A.push(d.N.scorecard.name),x&&x.rdlNativeVisual&&A.push(d.N.rdlVisual.name),x&&x.newCard&&A.push(d.N.cardVisual.name),x&&x.buttonSlicer&&x.buttonSlicerAuthoring&&A.push(d.N.advancedSlicerVisual.name),x&&x.textSlicer&&A.push(d.N.textSlicer.name),x&&x.buttonSlicer&&x.buttonSlicerAuthoring&&x.advancedSlicerTypeList&&A.push(d.N.listSlicer.name),o.wZ.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&A.push("debugVisual");var Y=this.promiseFactory.defer();return Y.resolve(A),Y.promise}getNonConvertibleCoreVisualTypeNames(){return[d.N.actionButton.name,d.N.bookmarkNavigator.name,d.N.image.name,d.N.textbox.name,d.N.pageNavigator.name,d.N.shape.name]}getVisuals(){return this.storage.getLoadedPlugins()}getConvertibleVisuals(){var x=[];for(var A of this.globalConvertibleVisualTypes)this.storage.hasPlugin(A)&&!_.includes(x,A)&&x.push(A);for(var L of this.trustedConvertibleVisualTypes)this.storage.hasPlugin(L)&&!_.includes(x,L)&&x.push(L);for(var Y of this.customConvertibleVisualTypes)this.storage.hasPlugin(Y)&&!_.includes(x,Y)&&x.push(Y);return x.map(z=>this.storage.getLoadedPlugin(z))}getConvertibleVisualsAsync(){var x=this;return(0,r.A)(function*(){return yield x.ensureBuiltInPlugins(),x.getConvertibleVisuals()})()}getCoreVisualTypes(){var x=[...this.getNonConvertibleCoreVisualTypeNames(),...this.globalConvertibleVisualTypes];return _.uniq(x)}ensureBuiltInPlugins(){return this.initBuiltInPlugins}ensureTrustedVisualPlugins(x){for(var A of((0,m.CH)(this.storage,x),x))this.addTrustedConvertibleVisualType(A.name)}ensurePlugins(x,A){var L=this;s.Y.assertValue(this.promiseFactory,"promiseFactory");var Y=[];if(x&&x.length){var z=function(Z){if((0,y.Ov)(Z)){var k=L.ensurePlugin(Z,A).then(()=>L.addCustomConvertibleVisualType(Z.name));Y.push(k)}};for(var H of x)z(H)}return Promise.allSettled(Y)}ensurePlugin(x,A){return(0,m.QV)(this.storage,this.promiseFactory,this.resourceLoader,x,A)}addTrustedConvertibleVisualType(x){this.trustedConvertibleVisualTypes.indexOf(x)<0&&this.trustedConvertibleVisualTypes.push(x)}addCustomConvertibleVisualType(x){this.customConvertibleVisualTypes.indexOf(x)<0&&this.customConvertibleVisualTypes.push(x)}capabilities(x){var A=this.getPlugin(x);return A?A.capabilities:void 0}removeAllCustomVisuals(){for(var x of this.customConvertibleVisualTypes)this.storage.unloadPlugin(x);this.customConvertibleVisualTypes=[]}removePlugin(x){this.getPlugin(x)&&(this.storage.unloadPlugin(x),_.remove(this.customConvertibleVisualTypes,L=>L===x))}getTelemetryHostInformation(){return{name:"Exploration"}}isCustomVisual(x){return(0,v.g4)(this.getPlugin(x),x)}isScriptVisual(x){return(0,v.yF)(this.getPlugin(x))}isScriptVisualQueryable(x){return(0,v.IK)(x,this.asyncFeatureSwitchService.featureSwitches)}isLightWeightRenderingVisual(x){return(0,v.bL)(this.getPlugin(x))}getInteractivityOptions(){return{overflow:"hidden",isVisualInteractive:!0}}getCustomizeConvertTo(x,A){var L=this.getPlugin(A);return L.getCustomizeConvertTo?L.getCustomizeConvertTo(x,A,this.asyncFeatureSwitchService.featureSwitches):void 0}loadPluginByNameIfAny(x){if(!this.getPlugin(x)){if(this.storage.hasPlugin(x))return void this.storage.loadPlugin(x);d.N[x]&&this.storage.loadPlugin(x,d.N[x])}}getPlugin(x){return this.storage.getLoadedPlugin(x)}getStorage(){return this.storage}}class U{constructor(x,A,L){this.featureSwitchService=x,this.mapControlFactory=A,this.visualSandbox=L,s.Y.assertValue(x,"featureSwitchService")}getPlugin(x){var A=this,L=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},Y=()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(x){case d.N.barChart.name:return(0,p.Ne)(d.N.barChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.StackedBar,isScrollable:!0,dataPointLassoSelect:!0,animator:new H,tooltipsEnabled:!0,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.card.name:return(0,p.Ne)(d.N.card,Y,L,(0,r.A)(function*(){var{createCard:z}=yield Promise.all([e.e(15),e.e("cardModule")]).then(e.bind(e,536173));return z({isScrollable:!0,animator:new l.BY,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})}));case d.N.cardVisual.name:return(0,p.Ne)(d.N.cardVisual,Y,L,(0,r.A)(function*(){var{CardVisual:z}=yield Promise.all([e.e(12),e.e(15),e.e("CardVisual")]).then(e.bind(e,939468));return new z({isScrollable:!0,animator:new l.BY,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:L})}));case d.N.clusteredBarChart.name:return(0,p.Ne)(d.N.clusteredBarChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.ClusteredBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.clusteredColumnChart.name:return(0,p.Ne)(d.N.clusteredColumnChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.ClusteredColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.columnChart.name:return(0,p.Ne)(d.N.columnChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.StackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.donutChart.name:return(0,p.Ne)(d.N.donutChart,()=>{throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},L,(0,r.A)(function*(){var{DonutChart:z,DonutChartWebBehavior:H}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,827483));return new z({animator:new R.y,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case d.N.funnel.name:return(0,p.Ne)(d.N.funnel,Y,L,(0,r.A)(function*(){var{FunnelChart:z,WebFunnelAnimator:H,FunnelWebBehavior:Z}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,430470));return new z({animator:new H,behavior:new Z,tooltipsEnabled:!0})}));case d.N.gauge.name:return(0,p.Ne)(d.N.gauge,Y,L,(0,r.A)(function*(){var{Gauge:z}=yield Promise.all([e.e(15),e.e("gauge")]).then(e.bind(e,395001));return new z({animator:new l.BY,tooltipsEnabled:!0,behavior:new t},L)}));case d.N.kpi.name:return(0,p.Ne)(d.N.kpi,Y,L,(0,r.A)(function*(){var{KPIStatusWithHistory:z}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,591735));return new z({interactivityEnabled:!0,featureSwitches:L})}));case d.N.hundredPercentStackedBarChart.name:return(0,p.Ne)(d.N.hundredPercentStackedBarChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.HundredPercentStackedBar,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.hundredPercentStackedColumnChart.name:return(0,p.Ne)(d.N.hundredPercentStackedColumnChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.HundredPercentStackedColumn,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.lineChart.name:return(0,p.Ne)(d.N.lineChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.Line,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.BY,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.areaChart.name:return(0,p.Ne)(d.N.areaChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.Area,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.BY,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.stackedAreaChart.name:return(0,p.Ne)(d.N.stackedAreaChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.StackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.BY,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.hundredPercentStackedAreaChart.name:return(0,p.Ne)(d.N.hundredPercentStackedAreaChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,LineChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.HundredPercentStackedArea,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.BY,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.lineClusteredColumnComboChart.name:return(0,p.Ne)(d.N.lineClusteredColumnComboChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,LineChartWebBehaviorFactory:k,ColumnChartWebBehaviorFactory:K}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.LineClusteredColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new K,new k],L),featureSwitches:L})}));case d.N.lineStackedColumnComboChart.name:return(0,p.Ne)(d.N.lineStackedColumnComboChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,LineChartWebBehaviorFactory:k,ColumnChartWebBehaviorFactory:K}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.LineStackedColumnCombo,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new K,new k],L),featureSwitches:L})}));case d.N.multiRowCard.name:return(0,p.Ne)(d.N.multiRowCard,Y,L,(0,r.A)(function*(){var{MultiRowCard:z}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,28884)),{MultiRowCardBehavior:H}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,28884));return new z({interactivityEnabled:!0,behavior:new H})}));case d.N.pieChart.name:return(0,p.Ne)(d.N.pieChart,Y,L,(0,r.A)(function*(){var{DonutChart:z,DonutChartWebBehavior:H}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,827483));return new z({isPieChart:!0,animator:new R.y,isScrollable:!0,tooltipsEnabled:!0,behavior:new H})}));case d.N.ribbonChart.name:return(0,p.Ne)(d.N.ribbonChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,ColumnChartAnimator:H,CartesianChartBehaviorFactory:Z,ColumnChartWebBehaviorFactory:k}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.RibbonChart,isScrollable:!0,tooltipsEnabled:!0,animator:new H,behaviorFactory:new Z([new k],L),featureSwitches:L})}));case d.N.scatterChart.name:return(0,p.Ne)(d.N.scatterChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,ScatterChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.Scatter,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new l.BY,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.treemap.name:return(0,p.Ne)(d.N.treemap,Y,L,(0,r.A)(function*(){var{Treemap:z,TreemapWebBehavior:H}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,684660));return new z({animator:new R.y,isScrollable:!0,behavior:new H,tooltipsEnabled:!0,cartesianConditionalFormatting:L.cartesianConditionalFormatting,dataPointLassoSelect:!0})}));case d.N.filterSlicer.name:return(0,p.Ne)(d.N.filterSlicer,Y,L,(0,r.A)(function*(){var{Slicer:z}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,30075));return new z({lockKeyboardNavigation:!1,featureSwitches:L})}));case d.N.accessibleTable.name:return(0,p.Ne)(d.N.accessibleTable,Y,L,(0,r.A)(function*(){var{AccessibleTable:z}=yield Promise.all([e.e(12),e.e("AccessibleTableVisual")]).then(e.bind(e,799427));return new z}));case d.N.waterfallChart.name:return(0,p.Ne)(d.N.waterfallChart,Y,L,(0,r.A)(function*(){var{CartesianChart:z,CartesianChartBehaviorFactory:H,WaterfallChartWebBehaviorFactory:Z}=yield Promise.all([e.e(15),e.e("cartesianVisuals")]).then(e.bind(e,231367));return new z({chartType:S.Bb.Waterfall,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new H([new Z],L),featureSwitches:L})}));case d.N.map.name:return(0,p.Ne)(d.N.map,Y,L,(0,r.A)(function*(){var{Map:z,MapBehavior:H}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,232337));return new z({behavior:new H,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:A.mapControlFactory})}));case d.N.filledMap.name:return(0,p.Ne)(d.N.filledMap,Y,L,(0,r.A)(function*(){var{Map:z,MapBehavior:H}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,232337));return new z({filledMap:!0,behavior:new H,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:L&&L.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:A.mapControlFactory})}));case d.N.azureMap.name:return(0,p.Ne)(d.N.azureMap,Y,L,(0,r.A)(function*(){var{AzureMap:z}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,671657)),{AzureMapBehavior:H}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,671657));return new z({behavior:new H,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:A.mapControlFactory,featureSwitches:L})}));case d.N.shape.name:return(0,p.Ne)(d.N.shape,Y,L,(0,r.A)(function*(){var{Shape:z}=yield Promise.all([e.e(15),e.e("shape")]).then(e.bind(e,55425));return new z}));case d.N.actionButton.name:return(0,p.Ne)(d.N.actionButton,Y,L,(0,r.A)(function*(){var{ActionButton:z}=yield Promise.all([e.e(15),e.e("actionButton")]).then(e.bind(e,589250));return new z}));case d.N.shapeMap.name:return(0,p.Ne)(d.N.shapeMap,Y,L,(0,r.A)(function*(){var{ShapeMap:z}=yield Promise.all([e.e(15),e.e("shapeMap")]).then(e.bind(e,222402)),{ShapeMapBehavior:H}=yield Promise.all([e.e(15),e.e("shapeMapBehaviors")]).then(e.bind(e,792076));return new z({behavior:new H,tooltipsEnabled:!0})}));case d.N.slicer.name:return(0,p.Ne)(d.N.slicer,Y,L,(0,r.A)(function*(){var{Slicer:z}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,30075));return new z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})}));case d.N.advancedSlicerVisual.name:return(0,p.Ne)(d.N.advancedSlicerVisual,Y,L,(0,r.A)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,685676));return z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})}));case d.N.textSlicer.name:return(0,p.Ne)(d.N.textSlicer,Y,L,(0,r.A)(function*(){var{TextSlicer:z}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,489563));return new z}));case d.N.listSlicer.name:return(0,p.Ne)(d.N.listSlicer,Y,L,(0,r.A)(function*(){var{createAdvancedSlicer:z}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,685676));return z({featureSwitches:L,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0,slicerType:O.$F.List})}));case d.N.matrix.name:return(0,p.Ne)(d.N.matrix,Y,L,(0,r.A)(function*(){var{Matrix:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new z}));case d.N.table.name:return(0,p.Ne)(d.N.table,Y,L,(0,r.A)(function*(){var{Table:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new z}));case d.N.pivotTable.name:return(0,p.Ne)(d.N.pivotTable,Y,L,(0,r.A)(function*(){var{PivotTable:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new z((0,g.ug)(),L)}));case d.N.tableEx.name:return(0,p.Ne)(d.N.tableEx,Y,L,(0,r.A)(function*(){var{TableEx:z}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new z((0,n.ug)(),L)}));case d.N.scriptVisual.name:return(0,p.Ne)(d.N.scriptVisual,Y,L,(0,r.A)(function*(){var{ScriptVisual:z}=yield e.e("ScriptVisual").then(e.bind(e,114231));return new z}));case d.N.pythonVisual.name:return(0,p.Ne)(d.N.pythonVisual,Y,L,(0,r.A)(function*(){var{ScriptVisual:z}=yield e.e("ScriptVisual").then(e.bind(e,114231));return new z}));case d.N.debugVisual?.name:return(0,p.Ne)(d.N.debugVisual,Y,L,(0,r.A)(function*(){return new I(A.visualSandbox)}));case d.N.textbox.name:return(0,p.Ne)(d.N.textbox,Y,L,(0,r.A)(function*(){var{Textbox:z}=yield Promise.all([e.e(15),e.e("TextboxVisual")]).then(e.bind(e,721379));return new z({supportsNarrativeExpressions:L.daxTransformEnabled,supportsFormattingChangeIndication:!0})}));case d.N.keyDriversVisual.name:return(0,p.Ne)(d.N.keyDriversVisual,z=>z.module.createAnalysisVisual(),L,void 0);case d.N.decompositionTreeVisual.name:return(0,p.Ne)(d.N.decompositionTreeVisual,Y,L,(0,r.A)(function*(){var{DecompositionTree:z}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,611791));return new z}));case d.N.qnaVisual.name:return(0,p.Ne)(d.N.qnaVisual,z=>z.module.createQnaVisual(),L,void 0);case d.N.aiNarratives.name:return(0,p.Ne)(d.N.aiNarratives,Y,L,(0,r.A)(function*(){var{AINarratives:z}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,574919));return new z}));default:return(0,h.IL)(d.N[x])}}}},734252:function(me,j,e){function r(){return new i(150,150)}e.d(j,{c:function(){return r}});class i{constructor(t,l){this.emptySpaceMinWidth=t,this.emptySpaceMinHeight=l}getEmptySpaces(t,l){var g=this.getNonOverlapingRects(t,l),n=this.filterWithMinimumWidth(g),d=[];for(var s of n){var h=this.extendRect(s,g);h.height>=this.emptySpaceMinHeight&&d.push(h)}return d}getNonOverlapingRects(t,l){if(!l.length)return[];var g=[t];for(var n of l){var d=[];for(var s of g)d=d.concat(this.splitRectangleOnIntersection(s,n));g=d}return g}getIntersectingRectangle(t,l){var g=Math.max(t.x,l.x),n=Math.min(t.x+t.width,l.x+l.width),d=Math.max(t.y,l.y),s=Math.min(t.y+t.height,l.y+l.height);return g<=n&&d<=s?{x:g,y:d,width:n-g,height:s-d}:null}extendRect(t,l){var n,g=!1;for(var d of l)if(d!==t){var s=!1,h=!1;if(this.doIntersect(d,t)&&(s=d.y+d.height===t.y,h=d.y===t.y+t.height),!(d.width<t.width))if(h){var o={x:t.x,y:t.y,width:t.width,height:t.height+d.height},v=this.getIntersectingRectangle(o,d);v&&v.width===o.width&&(g=!0,n=o)}else if(s){var m={x:t.x,y:d.y,width:t.width,height:t.height+d.height},p=this.getIntersectingRectangle(m,d);p&&p.width===m.width&&(g=!0,n=m)}}return g?this.extendRect(n,l):t}doIntersect(t,l){return!(l.x>t.x+t.width||l.x+l.width<t.x||l.y>t.y+t.height||l.y+l.height<t.y)}filterWithArea(t){var l=[];for(var g of t)g.width>0&&g.height>0&&l.push(g);return l}filterWithMinimumWidth(t){var l=[];for(var g of t)g.width>=this.emptySpaceMinWidth&&l.push(g);return l}splitRectangleOnIntersection(t,l){var g=this.getIntersectingRectangle(t,l);return g?this.filterWithArea([{x:t.x,y:t.y,width:t.width,height:g.y-t.y},{x:t.x,y:g.y+g.height,width:t.width,height:t.y+t.height-(g.y+g.height)},{x:t.x,y:g.y,width:g.x-t.x,height:g.height},{x:g.x+g.width,y:g.y,width:t.x+t.width-(g.x+g.width),height:g.height}]):[t]}}},888978:function(me,j,e){e.d(j,{W:function(){return o}});var r=e(619584),i=e(725793),a=e(785463),t=e(981265),l=e(329332),g=e(759520),n=e(574324),d=e(511334),s=e(636293),h=e(913470);function o(m,p,y,S,C){return new v(m,y,S,C)}class v{constructor(p,y,S,C){this.localizationService=p,this.telemetryService=y,this.visualAuthoring=S,this.visualPlugin=C}createShowValueAsMenuItems(p,y,S){a.Y.assertValue(p,"expr"),a.Y.assertValue(y,"schema"),a.Y.assertValue(S,"visualType");var C=(0,g._w)((0,n.F)(p));if(!y.schema(C).capabilities.supportsScopedEval)return[];var u=[];if(this.aggregateSupportsShowValueAs(p,y)){var E=new h.zM(this.localizationService);u.push(this.showValueAsMenuItemBuilder(E));var c=new h.Ar(this.localizationService);u.push(this.showValueAsMenuItemBuilder(c));var f=this.visualPlugin.capabilities(S),D=f&&f.dataRoleTotals;if(!_.isEmpty(D))for(var b of D){var T=new h.gv(this.localizationService,b.roles,(0,l.M)(b.displayName,this.localizationService));u.push(this.showValueAsMenuItemBuilder(T))}}return u}applyShowValueAs(p,y,S){var C=this;return(0,r.A)(function*(){a.Y.assertValue(p,"context"),a.Y.assertValue(y,"original"),a.Y.assertValue(S,"target"),(yield C.visualAuthoring.applyShowValueAs(p,y,S))&&C.telemetryService.logEvent(s.ked,{original:C.showValueAsKindToTelemetryId(y.kind),target:C.showValueAsKindToTelemetryId(S.kind)})})()}showValueAsMenuItemBuilder(p){return{type:t.xU.Item,key:{action:i.HT.SetShowValueAsOption,showValueAs:p},text:p.name}}aggregateSupportsShowValueAs(p,y){var S=p.getMetadata(y);return S&&S.type&&S.type.numeric&&(0,d.t)(p)}showValueAsKindToTelemetryId(p){switch(p){case void 0:return"None";case h.Xi.PercentOfGrandTotal:return"PercentOfGrandTotal";case h.Xi.PercentOfRoleTotal:return"PercentOfRoleTotal"}a.Y.assertFail("Could not convert showValueAsKind "+p+" to a telemetry ID")}}},938401:function(me,j,e){e.d(j,{d:function(){return t}});var r=e(549393),i=e(925397),a=e(712813);function t(g,n){return new l(g,n)}class l{constructor(n,d){this.visualContainer=n,this.visualPluginOps=d}getSelectedValues(n){if(n.valueDetails){var d=this.filterThroughValueDetails(n.valueDetails,n.metadata);return this.amendIdentityToValueDetails(n,d)}var h=(0,i.d)(this.visualContainer.contract),o=(0,a.NU)(this.visualContainer.contract),v=this.visualPluginOps.dataViewKinds(h,o);return r.WZ.query(this.getDataViews(),n,v)}filterThroughValueDetails(n,d){return d?_.filter(n,s=>_.includes(d,s.queryName)):n}amendIdentityToValueDetails(n,d){var s=[];for(var h of d)s.push({queryName:h.queryName,identity:h.identity||n.dataMap&&_.values(n.dataMap)[0][0],expr:h.expr,value:h.value,formattedValue:h.formattedValue});return s}getDataViews(){var n=this.visualContainer&&this.visualContainer.getRunningVisual();return n&&n.getDataViews()}}},535678:function(me,j,e){e.d(j,{F:function(){return h},H:function(){return o}});var r=e(614960),i=e(429384),a=e(401260),t=e(785463),l=e(147293),g=e(981265),n=e(336983),d=e(738060),s={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"};class h{static initialize(m){t.Y.assertValue(m,"localize"),!h.initialized&&(h.initialized=!0,(0,n.rL)(h.createLocaleOptions(m)),a.Z.localizationOptions=h.createTooltipLocaleOptions(m),(0,d.mO)(h.createDataViewTransformLocalizationOptions(m)))}static createLocaleOptions(m){return t.Y.assertValue(m,"localize"),{null:m.get("NullValue"),true:m.get("BooleanTrue"),false:m.get("BooleanFalse"),NaN:m.get("NaNValue"),infinity:m.get("InfinityValue"),negativeInfinity:m.get("NegativeInfinityValue"),beautify:p=>h.beautify(m,p),describe:p=>h.describeUnit(m,p),restatementComma:m.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:m.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:m.get("Generic_Or")}}static createTooltipLocaleOptions(m){return{highlightedValueDisplayName:m.get(a.Z.highlightedValueDisplayNameResourceKey)}}static createDataViewTransformLocalizationOptions(m){return{quarterPrefix:m.get("Visual_Quarter_Abbreviated")}}constructor(m){this.services=m,this.instanceId=void 0}getLocalizedString(m,...p){return this.services.localizationService.format(m,...p||[])}requestFocus(m){r.c_.focus(m)}alertScreenReader(m){}alertWithDebounce(m,p){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(m,p)}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(){}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(m){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(m)}setNodeExpansionState(m){}setLevelExpansionState(m){}setCanDrill(m){}onContextMenu(){}loadMoreData(){}loadWindow(m){}setShouldDeferData(){}persistProperties(m){}onCustomSort(m){}getViewMode(){return l.nE.View}getEditMode(){return l.WF.Default}setWarnings(m){}getWarnings$(){}setToolbar(m){}shouldRetainSelection(){return!1}geocoder(){return this.services.geocoder}geolocation(){return this.services.geolocation}locale(){return(0,i.VH)()}promiseFactory(){return this.services.promiseFactory}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(m){}setIdentityDisplayNames(m){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}decompositionService(){}dropdown(){}tooltips(){return this.services.visualHostTooltipService}telemetry(){}authenticationService(){return this.services.authenticationService}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}drill(m){}loader(){return this.services.moduleLoader}getUIComponentFactory(){}applyJsonFilter(m,p,y,S){}applyIdentityFilter(m,p,y,S){}launchUrl(m){}refreshHostData(){}getJSONFilter(m,p){return this.promiseFactory().reject()}onHyperlinkClick(m,p){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return g.fv.Single}networkAvailability(){}downloadService(){}setAriaMetadata(m){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}visualExportService(){}onNotifyLicense(m){this.services.onNotifyLicense&&this.services.onNotifyLicense(m)}onClearLicenseNotification(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()}onNotifyFeatureBlocked(m){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(m)}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){return this.services.getAzureMapToken()}azureMapsEndpoint(){return this.services.azureMapsEndpoint}geocoderIndexedDB(){return this.services.geocoderIndexedDB}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualHostSubSelectionService(){}annotations(){}static beautify(m,p){var y=s[p];return y?((0,n.lw)(y),m.getOptional(y)||p):p}static describeUnit(m,p){var y=-1===p?"Auto":p.toString(),S=m.getOptional("DisplayUnitSystem_E"+y+"_Title"),C=p<=0?"{0}":m.getOptional("DisplayUnitSystem_E"+y+"_LabelFormat");if(S||C)return{title:S,format:C}}}function o(v){return new h(v)}},842705:function(me,j,e){e.d(j,{P:function(){return m}});var r=e(619584),i=e(240997),a=e(712813),t=e(785463),l=e(168376),g=e(381839),n=e(364472),s=(e(446024),e(177328)),h=e(978450),o=e(857327),v=e(841333);function m(){var p=g.x_,y=n.b0,C=s.k;class E{constructor(b,T,M,V,w,P,N,I,O){this.explorationStateManager=b,this.explorationNavigation=T,this.explorationSerializer=M,this.featureSwitchService=V,this.visualPlugin=w,this.conceptualSchemaProxy=P,this.dataSources=N,this.displayNameService=I,this.visualAuthoringOperations=O}generateUniqueGroupName(b,T,M){var w,V=this.getVisualSyncField(T);w=V?this.displayNameService.getDisplayName(V,b,this.visualPlugin.capabilities(T.visualType)):"Group",t.Y.assert(()=>!_.isEmpty(w),"expected preferred name for group");for(var P=w,N=1;P in M;)P=w+N++;return P}syncFilterState(b,T){var M=this;return(0,r.A)(function*(){var V=b.config.singleVisual;if(M.canSyncVisual(V)&&V.syncGroup){var w=M.getOtherSectionsInSyncGroup(V);if(!_.isEmpty(w)){var P=yield M.conceptualSchemaProxy.get(M.dataSources.get()),N=M.explorationStateManager.captureFilterState(V);T=T&&V.syncGroup.filterChanges;var I=M.visualPlugin.capabilities(V.visualType),O={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},R=p(I.objects),W=R&&(0,l._W)(N.objects.merge,R,null),F=[];for(var U of w)for(var B of((0,a.QZ)(U.section),U.visualContainers)){var x=T&&M.syncFilters(B,b.filters),A=N;if(W){var L=(0,l._W)(B.config.singleVisual.objects,R,null),Y=M.replaceSemanticFilterField(b.config.singleVisual.query,W,B.config.singleVisual.query,L,P,V.visualType);if(W&&!Y){x&&M.visualAuthoringOperations.notifyVisualContainers([B]);continue}Y!==W&&((A=(0,i.Mk)(A,M.visualPlugin,M.featureSwitchService)).cachedFilterDisplayItems=void 0,A.filterExpressionMetadata=void 0,(0,l.KY)(A.objects.merge,R,null,Y))}O.targetVisualNames.push(B.name),F.push({visual:B,state:A,impacted:x})}_.isEmpty(F)||M.explorationStateManager.applyFilterState(F,P)}}})()}syncVisualFiltersState(b,T=!0){t.Y.assertValue(b,"syncVisualFilterState - sourceVisual should be defined"),t.Y.assertValue(b.config,"syncVisualFilterState - sourceVisual config should be defined");var M=b.config.singleVisual,V=[];if(this.canSyncVisual(M)&&M.syncGroup.filterChanges){var w=this.getOtherSectionsInSyncGroup(M);for(var P of w)if(!_.isEmpty(P.visualContainers))for(var N of P.visualContainers)this.syncFilters(N,b.filters)&&V.push(N);T&&this.visualAuthoringOperations.notifyVisualContainers(V)}}syncFilters(b,T){var M=_.isEmpty(T);if(b.config.singleVisual.syncGroup.filterChanges){if(M&&!_.isEmpty(b.filters))return b.filters=[],!0;if(!M){var V=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(T),[],!0);return b.filters=V,!0}}return!1}getVisualsAffectByFieldChanges(b){var T=b.config.singleVisual;return this.canSyncVisual(T)&&T.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(T),M=>M.config.singleVisual.syncGroup.fieldChanges):[]}canSyncVisual(b){if(!b.syncGroup)return!1;var T=this.visualPlugin.capabilities(b.visualType),M=T&&T.supportsSynchronizingFilterState;return t.Y.assert(()=>M,"Visual has a sync group, but does not support syncing"),M}getOtherVisualsInSyncGroup(b){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(b))}getVisualsInSectionsSyncGroup(b){var T=[];for(var M of b)T.push(...M.visualContainers||[]);return T}getOtherSectionsInSyncGroup(b){if(!b.syncGroup)return[];if(!b.syncGroup.groupName)return t.Y.assertFail("expected non-empty group name"),[];var T=this.explorationNavigation.getCurrentExploration(),M=[];for(var V of T.sections){var w=_.filter(V.visualContainers,P=>{var N=P.config.singleVisual;return N!==b&&N.syncGroup&&N.syncGroup.groupName===b.syncGroup.groupName&&N.visualType===b.visualType});_.isEmpty(w)||M.push({section:V,visualContainers:w})}return M}getVisualSyncField(b){var T=b.query.defn.select();return t.Y.assertValue(T,"fields can't be null"),0===T.length?(t.Y.assertFail("Expected sync group visual to have at least one field"),null):T[0].expr}replaceSemanticFilterField(b,T,M,V,w,P){if(!T)return T;var N=b.defn.select(),I=M.defn.select();if((P===o.U.advancedSlicerVisual||P===o.U.listSlicer)&&(N=N.filter(x=>b.getRoleNameForExpr(x.expr)===v.E0.value),I=I.filter(x=>M.getRoleNameForExpr(x.expr)===v.E0.value)),N.length===I.length){if(N.length>1)return _.differenceWith(N,I,(x,A)=>(0,h.aI)(x.expr,A.expr)).length?void 0:T;if(1!==N.length)return void t.Y.assertFail("Expected single select in source and target queries");if((0,h.aI)(N[0].expr,I[0].expr))return T;var R=c.extract(T);if(!R)return void t.Y.assertFail("could not extract a single field from the source filter expression");if(!V){var W=T.conditions();if(1!==W.length)return void t.Y.assertFail("expected single condition");var F=I[0].expr.getKeyColumns(w);if(1!==F.length)return void t.Y.assertFail("can only sync slicers on single-key columns when syncing across different fields");var U=f.replaceCondition(W[0],R,F[0]);return y.fromSQExpr(U)}var B=c.extract(V);return B?f.replace(T,R,B):void t.Y.assertFail("expected incoming and target fields for SemanticFilter rewrite")}}}class c extends C{constructor(){super()}static extract(b){var T=new c;return b.rewrite(T),T.foundSingleField&&T.fieldExpr}visitHierarchyLevel(b){return this.setFieldExpr(b),b}visitColumnRef(b){return this.setFieldExpr(b),b}setFieldExpr(b){if(!this.fieldExpr)return this.fieldExpr=b,void(this.foundSingleField=!0);(0,h.aI)(this.fieldExpr,b)||(this.foundSingleField=!1,t.Y.assertFail("found multiple fields in SemanticFilter"))}}class f extends s.k{constructor(b,T){super(),this.before=b,this.after=T}static replace(b,T,M){if((0,h.aI)(T,M))return b;var V=new f(T,M);return b.rewrite(V)}static replaceCondition(b,T,M){if((0,h.aI)(T,M))return b;var V=new f(T,M);return b.accept(V)}visitColumnRef(b){if((0,h.aI)(b,this.before))return this.after}}return{create:function(D,b,T,M,V,w,P,N,I){return new E(D,b,T,M,V,w,P,N,I)}}}},636293:function(me,j,e){e.d(j,{$d8:function(){return l},$jI:function(){return Wr},$kL:function(){return pe},$pX:function(){return oi},AkA:function(){return De},Ayl:function(){return Cr},BPU:function(){return ye},B_h:function(){return yt},BkI:function(){return Ce},CJB:function(){return z},CNs:function(){return bt},CZU:function(){return ar},DyE:function(){return K},ENL:function(){return Gt},F24:function(){return ea},F43:function(){return Kr},FxG:function(){return n},H$J:function(){return Z},HJo:function(){return ue},HQ2:function(){return Qe},HXg:function(){return ae},Hef:function(){return y},INR:function(){return ce},IWg:function(){return W},KIM:function(){return m},KLp:function(){return rt},Kwx:function(){return p},LZv:function(){return a},Lm0:function(){return ve},MMr:function(){return ii},MZT:function(){return Bt},MyE:function(){return hr},N7D:function(){return wr},NvW:function(){return Ft},Nw5:function(){return Oe},Nws:function(){return Vt},OST:function(){return ut},PfM:function(){return ct},RJ5:function(){return g},Rzf:function(){return Qa},SUp:function(){return ot},Tl8:function(){return C},UII:function(){return Ia},Ugt:function(){return li},VGY:function(){return Ut},Vl:function(){return _t},Wnz:function(){return Me},Wyl:function(){return aa},XM$:function(){return ha},Xtl:function(){return Or},YI$:function(){return M},YI7:function(){return Yt},YIl:function(){return ri},Z3u:function(){return Ka},ZDo:function(){return Le},ZJF:function(){return x},_3z:function(){return E},_E7:function(){return Na},_Gv:function(){return Tr},adG:function(){return be},bUn:function(){return Ja},bei:function(){return qe},dgB:function(){return b},dl4:function(){return sr},etN:function(){return Qt},fVI:function(){return U},giC:function(){return Ga},hgr:function(){return O},hoM:function(){return Fa},iJ5:function(){return u},iPg:function(){return i},ivQ:function(){return Xt},jYG:function(){return qa},jil:function(){return t},jup:function(){return jr},kI$:function(){return L},ked:function(){return Ke},kil:function(){return et},lHN:function(){return ya},lij:function(){return wt},mt2:function(){return xa},nE9:function(){return s},nj3:function(){return S},oQx:function(){return pa},p4f:function(){return v},pMQ:function(){return xr},pxf:function(){return Tt},pyy:function(){return Q},qNx:function(){return la},qWe:function(){return X},q_C:function(){return Dr},r2i:function(){return va},r3e:function(){return h},r_m:function(){return Ha},rrw:function(){return Br},sHR:function(){return N},scM:function(){return fe},tiw:function(){return le},u$J:function(){return tr},u2D:function(){return ze},ulR:function(){return Xa},usx:function(){return _e},v9I:function(){return ft},vCt:function(){return Ya},wHO:function(){return w},wWV:function(){return Vr},wrK:function(){return Ee},xBz:function(){return Ir},xO0:function(){return Dt},xjW:function(){return ke},xkJ:function(){return za},yYR:function(){return Lt},zX:function(){return vr}});var r=e(817491),i=function(cr){return cr.Dashboard="Dashboard",cr.Report="Report",cr}({}),a=function(cr){return cr.Entity="Entity",cr.ColumnRef="ColumnRef",cr.MeasureRef="MeasureRef",cr.Aggregation="Aggregation",cr.PropertyVariationSource="PropertyVariationSource",cr.Hierarchy="Hierarchy",cr.HierarchyLevel="HierarchyLevel",cr.FieldParameter="FieldParameter",cr.Other="Other",cr.Sparkline="Sparkline",cr.VisualCalculation="VisualCalculation",cr}({}),t=function(cr){return cr.Clear="Clear",cr.Delete="Delete",cr.Lock="Lock",cr.Rename="Rename",cr.Visibility="Visibility",cr}({}),l=function(cr){return cr.Visual="Visual",cr.Section="Section",cr.Exploration="Exploration",cr}({}),g=function(cr){return cr.Categorical="Categorical",cr.Range="Range",cr.Advanced="Advanced",cr.Passthrough="Passthrough",cr.Visual="Visual",cr.TopN="TopN",cr.Include="Include",cr.Exclude="Exclude",cr.RelativeDate="RelativeDate",cr.VisualTopN="VisualTopN",cr}({}),n=function(cr){return cr.CheckboxTickedInFieldList="CheckboxTickedInFieldList",cr.DraggedToVisual="DraggedToVisual",cr.DraggedToFieldWell="DraggedToFieldWell",cr.VisualCalculationMode="VisualCalculationMode",cr}({}),s=function(cr){return cr.View="View",cr.Edit="Edit",cr}({}),h=function(cr){return cr.Ascending="Ascending",cr.Descending="Descending",cr.Custom="Custom",cr}({}),v=function(cr){return cr.ContextMenu="ContextMenu",cr.ModeOn="ModeOn",cr.TooltipActions="TooltipActions",cr}({}),m=function(cr){return cr.Add="Add",cr.Delete="Delete",cr}({}),p=function(cr){return cr.FileMenu="FileMenu",cr.Button="Button",cr.Keyboard="Keyboard",cr.DialogPrompt="DialogPrompt",cr.WorkspaceUpgradedSave="WorkspaceUpgradedSave",cr}({}),y=function(cr){return cr.Task="Task",cr.Visualization="Visualization",cr.Outspace="Outspace",cr.Bookmarks="Bookmarks",cr.SyncGroups="SyncGroups",cr.CanvasItems="CanvasItems",cr.Customize="Customize",cr}({}),S=function(cr){return cr.Get="Get",cr.Add="Add",cr.Remove="Remove",cr}({}),C=function(cr){return cr.Get="Get",cr.Unpin="Unpin",cr.Restore="Restore",cr.RestoreAll="RestoreAll",cr.RemoveFavoritePublicCustomVisual="RemoveFavoritePublicCustomVisual",cr.AddFavoritePublicCustomVisual="AddFavoritePublicCustomVisual",cr}({}),u=function(cr){return cr.ContextMenu="ContextMenu",cr.VisualHeader="VisualHeader",cr}({}),E=function(cr){return cr.Switcher="Switcher",cr.Ribbon="Ribbon",cr.WebBar="WebBar",cr}({}),c="PBI.EX.NewExploration",D=(r.Xi[c]=(0,r.Vp)(c),"PBI.EX.RefreshReport"),b=r.Xi[D]=(0,r.Vp)(D),T="PBI.EX.SaveExploration",M=r.Xi[T]=(0,r.Vp)(T),V="PBI.EX.InteractionVisualConversion",w=r.Xi[V]=(0,r.Vp)(V),P="PBI.EX.InteractionExpand",N=r.Xi[P]=(0,r.Vp)(P,{logExpAssignment:!0}),I="PBI.EX.InteractionDrill",O=r.Xi[I]=(0,r.Vp)(I,{logExpAssignment:!0}),R="PBI.EX.DrillToDetails",W=r.Xi[R]=(0,r.Vp)(R,{logExpAssignment:!0}),F="PBI.EX.AddFilter",U=r.Xi[F]=(0,r.Vp)(F),B="PBI.EX.ClearFilter",x=r.Xi[B]=(0,r.Vp)(B,{logExpAssignment:!0}),A="PBI.EX.RemoveFilter",L=r.Xi[A]=(0,r.Vp)(A),Y="PBI.EX.HideFilter",z=r.Xi[Y]=(0,r.Vp)(Y),H="PBI.EX.LockFilter",Z=r.Xi[H]=(0,r.Vp)(H),k="PBI.EX.TogglePaneExpanded",K=r.Xi[k]=(0,r.Vp)(k),ee="PBI.EX.ToggleFilterCardExpanded",Q=r.Xi[ee]=(0,r.Vp)(ee),J="PBI.EX.ToggleFilterCardSort",X=r.Xi[J]=(0,r.Vp)(J),ne="PBI.EX.FilterPaneAdvancedFilterApplied",ae=r.Xi[ne]=(0,r.Vp)(ne),oe="PBI.EX.FilterPaneTopNFilterApplied",Me=r.Xi[oe]=(0,r.Vp)(oe),Ye="PBI.EX.FilterPaneRelativeDateFilterApplied",Le=r.Xi[Ye]=(0,r.Vp)(Ye),lt="PBI.EX.FilterPaneRelativeTimeFilterApplied",ut=r.Xi[lt]=(0,r.Vp)(lt),St="PBI.EX.FilterPaneBasicFilterChanged",ze=r.Xi[St]=(0,r.Vp)(St,{logExpAssignment:!0}),Be="PBI.EX.FilterPaneFilterDefaultRestored",Ce=r.Xi[Be]=(0,r.Vp)(Be),Ae="PBI.EX.FilterPaneFilterCleared",be=r.Xi[Ae]=(0,r.Vp)(Ae,{logExpAssignment:!0}),Ie="PBI.EX.FilterPaneFilterDeleted",ve=r.Xi[Ie]=(0,r.Vp)(Ie),xe="PBI.EX.FilterPaneInteraction",Ee=r.Xi[xe]=(0,r.Vp)(xe,{logExpAssignment:!0}),Ne="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",ye=r.Xi[Ne]=(0,r.Vp)(Ne,{logExpAssignment:!0}),Xe="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",fe=r.Xi[Xe]=(0,r.Vp)(Xe),Se="PBI.EX.ImprovedFilterExperience.ShowRestatement",qe=r.Xi[Se]=(0,r.Vp)(Se,{logExpAssignment:!0}),Ue="PBI.EX.LoadFilterError",_e=r.Xi[Ue]=(0,r.Vp)(Ue),at="PBI.EX.CreateVisual",ot=r.Xi[at]=(0,r.Vp)(at,{logExpAssignment:!0}),mt="PBI.EX.AddField",yt=r.Xi[mt]=(0,r.Vp)(mt),Nt="PBI.EX.ResolveParameters",Bt=r.Xi[Nt]=(0,r.Vp)(Nt,{logRatio:.001}),he="PBI.EX.SwitchQueryParameter",Qe=r.Xi[he]=(0,r.Vp)(he),je="PBI.EX.ChangeQuickCalc",Ke=r.Xi[je]=(0,r.Vp)(je),tt="PBI.EX.SetConditionalFormatting",de=(r.Xi[tt]=(0,r.Vp)(tt),"PBI.EX.SetDataBars"),De=r.Xi[de]=(0,r.Vp)(de),re="PBI.EX.ExplorationRefresh",ce=r.Xi[re]=(0,r.Vp)(re),te="PBI.EX.SnapshotEmbedCreate",Fe=(r.Xi[te]=(0,r.Vp)(te),"PBI.EX.PublicEmbedCreate"),et=r.Xi[Fe]=(0,r.Vp)(Fe),vt="PBI.EX.SnapshotEmbedDelete",st=(r.Xi[vt]=(0,r.Vp)(vt),"PBI.EX.SnapshotEmbedUpdate"),q=(r.Xi[st]=(0,r.Vp)(st),"PBI.EX.ImportCustomViz"),pe=r.Xi[q]=(0,r.Vp)(q),Ve="PBI.EX.CdnVisualOverride",ke=r.Xi[Ve]=(0,r.Vp)(Ve),it="PBI.EX.DeleteCustomViz",ft=r.Xi[it]=(0,r.Vp)(it),Pt="PBI.EX.EnableCustomViz",Ut=r.Xi[Pt]=(0,r.Vp)(Pt),Kt="PBI.EX.VisualRelationshipOverride",Qt=r.Xi[Kt]=(0,r.Vp)(Kt),qt="PBI.EX.CodePaneUserRunScript",Ge=(r.Xi[qt]=(0,r.Vp)(qt),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),xt=(r.Xi[Ge]=(0,r.Vp)(Ge),"PBI.EX.CodePaneUserOpenOptionsDialog"),nt=(r.Xi[xt]=(0,r.Vp)(xt),"PBI.EX.CodePaneLaunchExternalIDEFailed"),kt=(r.Xi[nt]=(0,r.Vp)(nt),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),lr=(r.Xi[kt]=(0,r.Vp)(kt),"PBI.EX.CodePaneShowWarning"),_r=(r.Xi[lr]=(0,r.Vp)(lr),"PBI.EX.ExportVisualData"),Vr=r.Xi[_r]=(0,r.Vp)(_r,{logExpAssignment:!0}),br="PBI.EX.LoadReportWithScriptVis",Br=r.Xi[br]=(0,r.Vp)(br),Fr="PBI.ExploreHost.ChangeReportPage",jr=r.Xi[Fr]=(0,r.Vp)(Fr),Lr="PBI.EX.RemoveMobileCanvasVisuals",wr=r.Xi[Lr]=(0,r.Vp)(Lr),Yr="PBI.EX.AddMobileCanvasVisual",vr=r.Xi[Yr]=(0,r.Vp)(Yr),Ur="PBI.EX.ChangeMobileVisualPosition",xr=r.Xi[Ur]=(0,r.Vp)(Ur),Zr="PBI.EX.LoadReportContainer",Kr=r.Xi[Zr]=(0,r.Vp)(Zr),qr="PBI.EX.LoadReportContainerDatasetMissing",ea=r.Xi[qr]=(0,r.Vp)(qr),Gr="PBI.EX.InitExploration",Ir=r.Xi[Gr]=(0,r.Vp)(Gr),Qr="PBI.EX.LoadExplorationVisuals",hr=r.Xi[Qr]=(0,r.Vp)(Qr,{defaultTimeoutSec:60,logExpAssignment:!0}),kr="PBI.EX.VisualContainerChanged",Or=r.Xi[kr]=(0,r.Vp)(kr,{logRatio:0}),Xr="PBI.EX.RenderExplorationVisual",wt=r.Xi[Xr]=(0,r.Vp)(Xr,{logRatio:.01}),Et="PBI.EX.FetchExploration",Dt=r.Xi[Et]=(0,r.Vp)(Et),It="PBI.EX.ChangeCanvasLayout",Xt=r.Xi[It]=(0,r.Vp)(It),gr="PBI.EX.Clustering.AddClustering",Je=(r.Xi[gr]=(0,r.Vp)(gr),"PBI.EX.Clustering.EditClustering"),G=(r.Xi[Je]=(0,r.Vp)(Je),"PBI.EX.QuickMeasures.OpenDialog"),He=(r.Xi[G]=(0,r.Vp)(G),"PBI.EX.QuickMeasures.DialogResult"),zt=(r.Xi[He]=(0,r.Vp)(He),"PBI.EX.QuickMeasures.OnMeasureChange"),rr=(r.Xi[zt]=(0,r.Vp)(zt),"PBI.EX.Drillthrough.GotoTarget"),Gt=r.Xi[rr]=(0,r.Vp)(rr,{logExpAssignment:!0}),Er="PBI.EX.Drillthrough.FilterUpdate",Oe=r.Xi[Er]=(0,r.Vp)(Er),Ze="PBI.EX.RefreshHostData",ct=r.Xi[Ze]=(0,r.Vp)(Ze),ht="PBI.EX.BookmarkAdd",_t=r.Xi[ht]=(0,r.Vp)(ht),Rt="PBI.EX.BookmarkUpdate",Vt=r.Xi[Rt]=(0,r.Vp)(Rt),jt="PBI.EX.BookmarkDelete",Tt=r.Xi[jt]=(0,r.Vp)(jt),Zt="PBI.EX.BookmarkPlay",tr=r.Xi[Zt]=(0,r.Vp)(Zt),dr="PBI.EX.BookmarkApply",Lt=r.Xi[dr]=(0,r.Vp)(dr),we="PBI.EX.Bookmark.IsPersistentStateCheck",rt=r.Xi[we]=(0,r.Vp)(we),gt="PBI.EX.Bookmark.LoadError",bt=r.Xi[gt]=(0,r.Vp)(gt),Ot="PBI.EX.CopyPasteSyncGroup",Yt=r.Xi[Ot]=(0,r.Vp)(Ot),er="PBI.EX.CustomDateTableValidationResult",sr=r.Xi[er]=(0,r.Vp)(er),ur="PBI.EX.UpdateActiveSection",Cr=r.Xi[ur]=(0,r.Vp)(ur,{defaultTimeoutSec:10}),Sr="PBI.EX.VisualContainerApplyUpdate",Dr=r.Xi[Sr]=(0,r.Vp)(Sr,{logRatio:0}),Pr="PBI.EX.VisualDataChanged",Wr=r.Xi[Pr]=(0,r.Vp)(Pr,{logRatio:0}),Mr="PBI.EX.ApplySlicer",Tr=r.Xi[Mr]=(0,r.Vp)(Mr,{logExpAssignment:!0}),zr="PBI.EX.ApplyAllClicked",aa=r.Xi[zr]=(0,r.Vp)(zr),sa="PBI.EX.SelectDataPoint",la=r.Xi[sa]=(0,r.Vp)(sa,{logExpAssignment:!0}),ua="PBI.EX.RefreshSingleVisual",va=r.Xi[ua]=(0,r.Vp)(ua),ga="PBI.EX.PerformanceAnalyzerRefreshReport",le=r.Xi[ga]=(0,r.Vp)(ga),Pe="PBI.EX.PerformanceAnalyzerExportLogs",ue=r.Xi[Pe]=(0,r.Vp)(Pe),dt="PBI.EX.PerformanceAnalyzerCopyQueries",Ft=r.Xi[dt]=(0,r.Vp)(dt),$t="PBI.EX.PerformanceAnalyzerRunDaxyQuery",ar=r.Xi[$t]=(0,r.Vp)($t),ca="PBI.EX.PerformanceAnalyzerStopRecording",ha=r.Xi[ca]=(0,r.Vp)(ca),wa="PBI.EX.ThemeDialogClosed",ka=(r.Xi[wa]=(0,r.Vp)(wa),"PBI.Settings.FavoriteResourcePackages"),za=r.Xi[ka]=(0,r.Vp)(ka),Ra="PBI.Settings.VisualPane",xa=r.Xi[Ra]=(0,r.Vp)(Ra),Va="PBI.Settings.OutOfBoxVisuals",Ya=r.Xi[Va]=(0,r.Vp)(Va),Oa="PBI.EX.DrillthroughButtonClicked",Ka=r.Xi[Oa]=(0,r.Vp)(Oa),Sa="PBI.EX.SmallMultiplesFirstField",Ga=r.Xi[Sa]=(0,r.Vp)(Sa),Ca="PBI.EX.AnalyticsLoadSchemaError",Ha=r.Xi[Ca]=(0,r.Vp)(Ca),Ba="PBI.EX.ExecuteActionCommands",Qa=r.Xi[Ba]=(0,r.Vp)(Ba),Pa="PBI.EX.UndefinedTooltipStyleInActionBar",Xa=r.Xi[Pa]=(0,r.Vp)(Pa),La="PBI.EX.ActionBarShown",Na=r.Xi[La]=(0,r.Vp)(La),$a="PBI.EX.ScanModeKeyPressed",oi=r.Xi[$a]=(0,r.Vp)($a),da="PBI.EX.GetInsightsMenuCommand",Ja=r.Xi[da]=(0,r.Vp)(da),Nr="PBI.Sparklines.Delete",li=r.Xi[Nr]=(0,r.Vp)(Nr),Za="PBI.CopyVisualImage.EntryPoint",ya=r.Xi[Za]=(0,r.Vp)(Za),Aa="PBI.EX.FontsReadyVisualUpdateTriggered",Fa=r.Xi[Aa]=(0,r.Vp)(Aa,{logRatio:.01}),_a="PBI.Reflex.OpenTriggerActionFromVisual",qa=r.Xi[_a]=(0,r.Vp)(_a),ei="PBI.Reflex.ReflexOpenConfigPaneFromVisualToolbar",Ia=r.Xi[ei]=(0,r.Vp)(ei),ti="PBI.Reflex.ReflexOpenConfigPaneFromVisualContext",pa=r.Xi[ti]=(0,r.Vp)(ti),Ua="PBI.Reflex.ReflexOpenConfigPaneFromVisualFollow",ri=r.Xi[Ua]=(0,r.Vp)(Ua),ai="PBI.EX.ScreenShotExportDiscrepancy",ii=r.Xi[ai]=(0,r.Vp)(ai)},115010:function(me,j,e){e.d(j,{L:function(){return f}});var r=e(487530),i=e(339131),a=e(95834),t=e(691605),l=e(64974),g=e(884149),n=e(229456),d=e(5863),s=e(378381),h=e(187544),o=e(255319),v=e(785463),m=e(304703),p=e(147293),y=e(47917),S=e(168376),C=e(98339),u=e(287171),E=e(662785),c=e(978450),f=(()=>{class D{static setScrollWidth(T){this.scrollWidth=T}static fitToWidth(T,M,V,w,P,N=!1,I){null!=T.canvasOptions.overrideSectionAlignment&&(I=T.canvasOptions.overrideSectionAlignment);var O=M.get(0).getBoundingClientRect(),W=this.findParentElement(M,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),F=M.find(".displayAreaViewport").get(0).getBoundingClientRect();if(O.width>F.width){var U=O.width-F.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-U)>.01&&m.Cn.error(`Multiple scroll bar widths detected, ${this.scrollWidth} -> ${U}`),this.scrollWidth=U}var B=P.getConfig(),x=2*t.NT,A=O.width-x,L=O.height-x,Y=this.getFitToWidthScaledSize(T,A,w),z=M.find(this.DisplayAreaNameSelector.selector),H=T.viewModel.canvasLayout===i.v.PhonePortrait;Y.height<=L&&!H?(T.canvasViewStyle=a.WZ.FitToWidthCentered,M.css(o.G6,o.ad).css(o.vo,o.ad),this.positionElement(z,F,Y,I,!0,B.displayOptions.includeMobileBottomPadding)):(Y=this.getFitToWidthScaledSize(T,A=O.width-(x=B.displayOptions.scaleBackgroundImageToWidth?t.NT/2+(this.scrollWidth||0):3*t.NT/2+(this.scrollWidth||8)),w,H?t.RF+t.bd:0),T.canvasViewStyle=a.WZ.FitToWidthOrigin,M.css(o.G6,o.ad).css(o.vo,o.H1),this.clearElementPosition(z));var Z=A/T.viewModel.width,K=this.getWallpaperScale(W,T.viewModel.width,T.viewModel.height,T.canvasOptions.scrollbarOffset,r.c.X);if(V.setDisplayAreaScaleFactor(Z),V.setWallpaperScaleFactor(K),this.updateCanvasSize(T,Y.width,Y.height),z.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T)),this.setElementSize(z,Y),!N&&!B.displayOptions.preserveScrollPositionOnResize){var ee=!1,Q=T.fitToWidthScrollPosition;if(Q){var J=T.viewModel&&T.viewModel.contract;J&&J.name===Q.sectionName&&J.size&&J.size.width===Q.sectionSize.width&&J.size.height===Q.sectionSize.height&&(ee=!0,M[0].scrollTo({top:Q.relativeScroll*Z,left:0,behavior:"instant"})),ee||(T.fitToWidthScrollPosition=void 0)}ee||M[0].scrollTo({top:0,left:0,behavior:"instant"})}}static getWallpaperScale(T,M,V,w,P,N,I){if(P===r.c.X)return(T.width-w)/M;var R=V;return N&&I&&(R=N.getConfig().displayOptions.hideTileMenu?T.height:T.height-I),R/V}static getFitToWidthScaledSize(T,M,V,w=0){var P=M/T.viewModel.width,N=M,I=T.viewModel.height*P+V;if(T.adjustScaleForLayout){var O=T.adjustScaleForLayout({x:P,y:P});if(O.x!==P||O.y!==P){var R=Math.min(O.x,O.y),W=R/P;N*=W,I=(I-V)*W+V,P=R}}return w>0&&(I+=w),{width:N,height:I}}static fitToPage(T,M,V,w,P,N){var I=w.getConfig();null!=T.canvasOptions.overrideSectionAlignment&&(N=T.canvasOptions.overrideSectionAlignment);var R=this.findParentElement(M,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),W=T.outerViewport.width/T.viewModel.width,F=this.getFitToPageScaleY(T,w,P),U=Math.min(W,F),x=this.getWallpaperScale(R,T.viewModel.width,T.viewModel.height,T.canvasOptions.scrollbarOffset,U===W?r.c.X:r.c.Y,w,P);if(T.adjustScaleForLayout){var A=T.adjustScaleForLayout({x:U,y:U});(A.x!==U||A.y!==U)&&(U=Math.min(A.x,A.y))}V.setDisplayAreaScaleFactor(U),V.setWallpaperScaleFactor(x),I.displayOptions.preserveScrollPositionOnResize||M.scrollTop(0).scrollLeft(0);var L=T.viewModel.width*U,Y=T.viewModel.height*U+P;T.canvasViewStyle=a.WZ.AbsoluteCenter,T.canvasViewStyle|=a.WZ.FitToPage,M.css(o.G6,o.ad).css(o.vo,o.ad),this.updateCanvasSize(T,L,Y);var z=M.find(this.DisplayAreaNameSelector.selector);z.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T));var H={width:L,height:Y};this.setElementSize(z,H),this.positionElement(z,T.outerViewport,H,N,!1)}static getFitToPageScaleY(T,M,V){var P=M.getConfig().displayOptions.hideTileMenu?T.outerViewport.height:T.outerViewport.height-V;return(P-=this.getCanvasOutlineSize(T,M))/T.viewModel.height}static findParentElement(T,M){if(T)return T.hasClass(M.class)?T:this.findParentElement(T.parent(),M)}static getVerticalAlignmentSetting(T,M,V){var w=T.viewModel&&T.viewModel.contract&&T.viewModel.contract.evaluatedObjects&&T.viewModel.contract.evaluatedObjects.displayArea&&T.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&T.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(w)return g.C2[w];var P=V.getCurrentExploration(),N=P&&P.evaluatedObjects&&P.evaluatedObjects.section&&P.evaluatedObjects.section.verticalAlignment&&P.evaluatedObjects.section.verticalAlignment.toString();return N?g.C2[N]:void 0}static positionElement(T,M,V,w,P,N){var O=null!=M.height&&null!=V.height?(M.height-(N?t.RF:0)-V.height)/2:void 0,R=null!=M.width&&null!=V.width?(M.width-V.width)/2:void 0,W={position:"absolute",left:null!=R?`${R}px`:""};w===g.C2.Top?_.extend(W,{top:null!=O?`${P?t.NT:0}px`:""}):_.extend(W,{top:null!=O?`${O}px`:""}),T.css(W)}static setElementSize(T,M){T.css({height:`${M.height}px`,width:`${M.width}px`})}static clearElementPosition(T){T.css({position:"",top:"",left:""})}static clearElementSize(T){T.css({height:"",width:""})}static fitToScreen(T,M,V,w){var P=M.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(P),this.clearElementSize(P),T.canvasViewStyle=a.WZ.AbsoluteCenter|a.WZ.FitToScreen,V.setDisplayAreaScaleFactor(1),V.setWallpaperScaleFactor(1),this.updateCanvasSize(T,T.outerViewport.width,T.outerViewport.height),M.css(o.G6,o.ad).css(o.vo,o.ad),P.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T))}static getCanvasActualSize(T,M,V){var w=D.getAutoLayoutVisualVCHeader(M,V),P=T.size;return{height:P.height+w,width:P.width}}static displayInActualSize(T,M,V,w,P,N,I=1){null!=T.canvasOptions.overrideSectionAlignment&&(N=T.canvasOptions.overrideSectionAlignment);var O=M.find(this.DisplayAreaNameSelector.selector),R=T.isCanvasBackdropVisible();T.canvasViewStyle=a.WZ.AbsoluteCenter;var W=T.viewModel.width*I,F=T.viewModel.height*I+P,U={width:R?u.u1:W,height:R?u.Pd:F};U.width>T.outerViewport.width?(T.canvasViewStyle|=a.WZ.ActualSizeAlignLeft,M.css(o.G6,o.xv)):(T.canvasViewStyle|=a.WZ.ActualSizeAlignCenter,M.css(o.G6,o.ad)),U.height>T.outerViewport.height?(T.canvasViewStyle|=a.WZ.ActualSizeAlignTop,M.css(o.vo,o.xv)):(T.canvasViewStyle|=a.WZ.ActualSizeAlignMiddle,M.css(o.vo,o.ad));var B=T.canvasViewStyle;this.positionElement(O,T.outerViewport,{width:B&a.WZ.ActualSizeAlignCenter?U.width:void 0,height:B&a.WZ.ActualSizeAlignMiddle?U.height:void 0},N,!0),T.canvasViewStyle|=B&a.WZ.ActualSizeAlignCenter&&B&a.WZ.ActualSizeAlignMiddle?a.WZ.ActualSizeCentered:a.WZ.ActualSizeOrigin,this.setElementSize(O,U),w.setDisplayAreaScaleFactor(I),w.setWallpaperScaleFactor(I),this.updateCanvasSize(T,W,F);var A=this.convertDisplayOptionToStyle(T);O.attr("class",this.DisplayAreaNameSelector.class+" "+A),R&&(v.Y.assertValue(V,"canvasBackdrop should exist (hasBackdrop() returned true)"),V.attr("class",this.CanvasBackdropSelector.class+" "+A))}static displayInActualSizeTopLeft(T,M,V,w){var P=M.find(this.DisplayAreaNameSelector.selector);T.canvasViewStyle=a.WZ.AbsoluteCenter,T.canvasViewStyle|=a.WZ.ActualSizeAlignLeft,T.canvasViewStyle|=a.WZ.ActualSizeAlignTop,T.canvasViewStyle|=a.WZ.ActualSizeOrigin,M.css(o.G6,T.viewModel.width>=T.outerViewport.width?o.xv:o.ad),M.css(o.vo,T.viewModel.height>=T.outerViewport.height?o.xv:o.ad),V.setDisplayAreaScaleFactor(1),V.setWallpaperScaleFactor(1);var N=T.viewModel.width,I=T.viewModel.height+w;P.css({width:N+"px",height:I+"px"}),this.updateCanvasSize(T,N,I),P.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(T))}static updateCanvasSize(T,M,V){var w={width:M,height:V};w.width>0&&w.height>0&&(T.size=w)}static updateAndApplyBackground(T,M,V,w,P,N,I,O,R,W,F,U,B){v.Y.assertValue(O,"promiseFactory");var z,H,Z,k,K,x=W.getConfig(),A=x.displayOptions.hideOutspaceFormatting,L=W.getMode()===p.nE.Edit&&!M.isCanvasBackdropVisible(),Y=!!B.get();switch(T){case r.h.OutspaceBackground:Z=M.outspace=M.outspace||{},H="outspace",z=M.outspaceBackground,k=(0,t.KT)(),K=R.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case r.h.CanvasBackground:Z=M.background=M.background||{},H="background",z=M.canvasBackground,k=(0,t.Ml)(),K=R.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:v.Y.assertNever(T)}if(K){v.Y.assertValue(Z,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var ee=w&&w[H],Q=Z.image;Y?(Z.color=t.lg,Z.transparency=0,Z.image=null):ee?(Z.color=(0,y.a)(ee,"color",t.lg),Z.transparency=(0,y._)(ee,"transparency",t.IH),Z.image=ee.image):this.setDefaultBackgroundProperties(Z,k);var J=Z.image;J?.name!==Q?.name&&M.backgroundImageChanging?.(T);var ne=(0,S.lY)(M.viewModel.contract.objects,H,null),ae=ne&&ne.properties.image;ae&&(0,E.cd)(ae.url)?this.setImageFromPackage(M,z,Z,J,ae.url,ne,N,I,O,U,L,F,A,T,Y):this.setImage(z,Z,J,J?J.url:"",Y,U,L,F,A,T,M)}else this.setDefaultBackgroundProperties(Z,k),this.setImage(z,k,null,"",Y,U,L,F,A,T,M);T===r.h.CanvasBackground&&V.css(W&&x.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,d.ND)(Z.color,(100-Z.transparency)/100)}:{"background-color":""})}static setDefaultBackgroundProperties(T,M){T.color=M.color,T.image=M.image,T.transparency=M.transparency}static setImage(T,M,V,w,P,N,I,O,R,W,F){var U=V&&V.scaling,B=P?1:(100-M.transparency)/100,x=V&&w||"";if(x!==(T.imageSource||"")&&(T.imageSource=x,F.backgroundImageChanged?.(W)),T.imageFitClass=U,T.imageStyle=U===h.h.normal?{transform:"scale("+N.getWallpaperScaleFactor()+")"}:{},T.backgroundStyle||(T.backgroundStyle={}),T.backgroundStyle.opacity=B,T.backgroundStyle["background-color"]=R&&W===r.h.OutspaceBackground?"transparent":(0,d.ND)(M.color),W===r.h.CanvasBackground){var L=s.A.getThemeColor(O,"foregroundNeutralSecondary");T.displayAreaStyle||(T.displayAreaStyle={}),T.displayAreaStyle["box-shadow"]=R?"0 0 0":`0 0 10px rgba(200,200,200,${B})`,T.displayAreaStyle.outline=I&&B<=.5?`2px dotted ${L}`:"none",T.imageStyle=U===h.h.normal?{transform:"scale("+N.getDisplayAreaScaleFactor()+")"}:{}}}static setImageFromPackage(T,M,V,w,P,N,I,O,R,W,F,U,B=!1,x,A){v.Y.assertValue(R,"promiseFactory");var L=O.getCurrentExploration();if(L){var Y=T.viewModel.contract;(0,C.xq)(P,L.resourcePackages,I,R).then(z=>{var H=N.properties.image;Y===T.viewModel.contract&&H&&(0,c.aI)(H.url,P)&&this.setImage(M,V,w,z.value||"",A,W,F,U,B,x,T)})}}static setDisplayAreaBackground(T,M,V){if(M&&M.outspace)T.canvasBackground.displayAreaStyle&&delete T.canvasBackground.displayAreaStyle["background-color"];else{T.canvasBackground.displayAreaStyle||(T.canvasBackground.displayAreaStyle={});var P=s.A.getThemeColor(V,"background");T.canvasBackground.displayAreaStyle["background-color"]=P}}static convertDisplayOptionToStyle(T){var M="";return T.useResponsiveLayout&&(M+=" responsive"),T.disableAnimations&&(M+=" disableAnimations"),(T.canvasViewStyle&a.WZ.FitToScreen)===a.WZ.FitToScreen&&(M+=" fitToScreen"),(T.canvasViewStyle&a.WZ.FitToPage)===a.WZ.FitToPage&&(M+=" fitToPage"),(T.canvasViewStyle&a.WZ.FitToWidthOrigin)===a.WZ.FitToWidthOrigin&&(M+=" fitToWidthOrigin"),(T.canvasViewStyle&a.WZ.FitToWidthCentered)===a.WZ.FitToWidthCentered&&(M+=" fitToWidthCentered"),(T.canvasViewStyle&a.WZ.ActualSizeAlignCenter)===a.WZ.ActualSizeAlignCenter&&(M+=" actualSizeAlignCenter"),(T.canvasViewStyle&a.WZ.ActualSizeAlignLeft)===a.WZ.ActualSizeAlignLeft&&(M+=" actualSizeAlignLeft"),(T.canvasViewStyle&a.WZ.ActualSizeAlignMiddle)===a.WZ.ActualSizeAlignMiddle&&(M+=" actualSizeAlignMiddle"),(T.canvasViewStyle&a.WZ.ActualSizeAlignTop)===a.WZ.ActualSizeAlignTop&&(M+=" actualSizeAlignTop"),(T.canvasViewStyle&a.WZ.ActualSizeCentered)===a.WZ.ActualSizeCentered&&(M+=" actualSizeCentered"),(T.canvasViewStyle&a.WZ.ActualSizeOrigin)===a.WZ.ActualSizeOrigin&&(M+=" actualSizeOrigin"),M.trim()}static getAutoLayoutVisualVCHeader(T,M){return M&&M.getCapabilities().visualContainerOptions.useStylableHeader||T&&T.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:u.OJ}static getCanvasOutlineSize(T,M){if(M.getMode()===p.nE.Edit){var V=T.background&&T.background.transparency;if(V&&V>=u.th)return u.Xy}return 0}static applyFitOption(T,M,V,w,P,N){if(T.viewModel&&T.viewModel.contract){var I=M.find(this.DisplayAreaContainerNameSelector.selector),O=this.findParentElement(M,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),R=V.canvasScale.getDisplayOption();R!==l.td.FitToWidth&&(T.fitToWidthScrollPosition=void 0);var W=T.viewModel.contract.name,F=T.lastApplyFitContext;if(F&&(R!==F.displayOption||W!==F.sectionName)){var U=M.find(T.scrollableDivSelector);U?.[0]?.scrollTo({top:0,left:0,behavior:"instant"})}T.lastApplyFitContext={displayOption:R,sectionName:W};var B=this.getAutoLayoutVisualVCHeader(V.formFactor,V.explorationCapabilities);switch(R){case l.td.FitToWidth:this.fitToWidth(T,I,V.canvasScale,B,V.viewModeState,N,w);break;case l.td.FitToPage:this.fitToPage(T,I,V.canvasScale,V.viewModeState,B,w);break;case l.td.ActualSize:this.displayInActualSize(T,I,O,V.canvasScale,B,w,P);break;case l.td.ActualSizeTopLeft:this.displayInActualSizeTopLeft(T,I,V.canvasScale,B);break;default:this.fitToScreen(T,I,V.canvasScale,B)}V.eventBridge.publishToChannel(n.FZ1)}}static storeOverflowValuesAndChange(T,M){this.currentOverflowXCSSValue=T.css(o.G6),this.currentOverflowYCSSValue=T.css(o.vo),T.css(o.G6,M),T.css(o.vo,M)}static restoreOverflowValues(T){T.css(o.G6,this.currentOverflowXCSSValue),T.css(o.vo,this.currentOverflowYCSSValue)}static visualPositionToRect(T){return{left:T.x,top:T.y,width:T.width,height:T.height}}static rectToVisualPosition(T){return{x:T.left,y:T.top,width:T.width,height:T.height}}static isCortanaPageSize(T){return!1}}return D.DisplayAreaNameSelector=(0,o.tI)("displayArea"),D.DisplayAreaContainerNameSelector=(0,o.tI)("displayAreaContainer"),D.VisualContainerHostSelector=(0,o.tI)("visualContainerHost"),D.OutspaceContainerSelector=(0,o.tI)("outspaceContainer"),D.OutspaceImageSelector=(0,o.tI)("outspaceImage"),D.VisualBackgroundContainerSelector=(0,o.tI)("visualBackgroundContainer"),D.VisualBackgroundImageSelector=(0,o.tI)("visualBackgroundImage"),D.DefaultVisualPosition={x:100,y:100,width:300,height:300},D.CanvasBackdropSelector=(0,o.tI)("canvasBackdrop"),D.ExploreCanvasSelector=(0,o.tI)("exploreCanvas"),D.currentOverflowXCSSValue="",D.currentOverflowYCSSValue="",D})()},921929:function(me,j,e){e.d(j,{Co:function(){return l},UU:function(){return t},lU:function(){return g},nZ:function(){return n},wd:function(){return d}});var r=e(662785),i=e(168376),a=e(90016);function t(s,h,o){var v=o&&o[s],m=a.wv;if(v)return v.hasOwnProperty(m)&&!v[m];var p=(0,i._W)(h,{objectName:s,propertyName:m},null);return void 0!==p&&(0,r.VO)(p)&&!p.value}function l(s,h,o){var v={x:s.x*h.x,y:s.y*h.y,z:s.z,width:s.width*h.x,height:s.height*h.y,angle:s.angle,tabOrder:s.tabOrder};if(!0===o){var m=Math.round(v.x),p=Math.round(v.y),y=Math.round(v.x+v.width),S=Math.round(v.y+v.height);v={x:m,y:p,z:v.z,width:y-m,height:S-p,angle:s.angle,tabOrder:s.tabOrder}}return v}function g(s,h){return{x:s.x/h.x,y:s.y/h.y,z:s.z,width:s.width/h.x,height:s.height/h.y,angle:s.angle,tabOrder:s.tabOrder}}function n(s,h){return{left:s.left*h.x,top:s.top*h.y,width:s.width*h.x,height:s.height*h.y}}function d(s,h){return{left:s.left/h.x,top:s.top/h.y,width:s.width/h.x,height:s.height/h.y}}},721057:function(me,j,e){e.d(j,{Cq:function(){return k},E7:function(){return Ye},E9:function(){return Ce},G7:function(){return z},GN:function(){return V},GT:function(){return O},In:function(){return W},MK:function(){return x},ND:function(){return B},Pl:function(){return U},XT:function(){return w},YS:function(){return ne},_p:function(){return I},bF:function(){return A},cy:function(){return J},j3:function(){return Ie},nl:function(){return N},oq:function(){return Ae},pw:function(){return Le},t0:function(){return Be},tO:function(){return Q},tf:function(){return be},uF:function(){return P}});var r=e(619584),i=e(339131),a=e(691605),t=e(668309),l=e(64974),g=e(270475),n=e(983240),d=e(575451),s=e(347130),h=e(173468),o=e(941832),v=e(712813),m=e(925397),p=e(531353),y=e(935236),S=e(785463),C=e(473001),u=e(753771),E=e(168376),c=e(738060),f=e(636293),D=e(182314),b=e(447272),T=e(716861),M="root";function V(ve,xe){var Ee=s.qN.getSelectedCanvasItems(xe);return P(ve.visualContainerGroups,Ee)}function w(ve,xe){for(var Ee of ve)if(Ee.contract===xe)return Ee}function P(ve,xe){var Ee={};for(var Ne of xe)Ee[Ne.name]=!0;var ye=[];(0,b.Uu)(ve,fe=>{Ee[fe.name]&&ye.push(fe)});var Xe=fe=>_.findIndex(xe,Se=>Se.name===fe.name);return ye.sort((fe,Se)=>Xe(fe)-Xe(Se)),ye}function N(ve,xe){S.Y.assert(()=>ve.length===xe.length,"lists of viewModels and contracts should be the same length");var Ee=function(ye){var Xe=(0,p.I6)(ye.name,xe);if(!Xe)return S.Y.assertValue(Xe,"contract with the same name should exist"),1;(0,b.tx)(ye)&&(0,n.tx)(Xe)&&(ye.contract!==Xe&&(S.Y.assert(()=>ye.contract.name===Xe.name,"should be the same contract with same name"),ye.contract=Xe),N(ye.children,Xe.children))};for(var Ne of ve)Ee(Ne)}function I(ve,xe){if(xe.parentGroup)for(var Ee=xe.parentGroup;Ee;){var Ne=Ee.position;ve.left+=Ne.x,ve.top+=Ne.y,Ee=Ee.parentGroup}return ve}function O(ve){var xe=0;if(_.isEmpty(ve))return xe;if(ve[0].parentGroup)for(var Ee=ve[0].parentGroup;Ee;)xe++,Ee=Ee.parentGroup;return R(ve,xe)}function R(ve,xe){var Ee=++xe;for(var Ne of ve)(0,n.tx)(Ne)&&(Ee=Math.max(R(Ne.children,xe),Ee));return Ee}function W(ve,xe,Ee,Ne,ye){Ne.hideAllDropdowns(),(0,T.o)(ve);var Xe=u.C.isCtrlOrMeta(ve),fe=s.qN.isCanvasItemSelected(xe.contract,Ee);if(Xe&&fe&&s.qN.getSelectedCanvasItems(Ee).length>1)s.qN.unselectCanvasItem(xe.contract,Ee);else{if(!ye){var Se=B(xe);return Se.parentGroup&&Se.parentGroup.isSelected&&s.qN.unselectCanvasItem(Se.parentGroup.contract,Ee),s.qN.selectCanvasItem(Se.contract,Ee,(0,u.t)(ve)),void function(ve,xe){return $(ve).parents(`[name="${xe}"]:first`)[0]}(ve.currentTarget,Se.contract.name)?.focus()}s.qN.selectCanvasItem(xe.contract,Ee,(0,u.t)(ve))}}function U(ve,xe,Ee){if(ve.parentGroup)if(xe){var ye=B(ve);ye!==ve&&(0,v.Ji)(xe,ye.name,Ee)}else for(var Ne=ve.parentGroup;Ne;)(0,v.Ji)(xe,Ne.name,Ee),Ne=Ne.parentGroup}function B(ve,xe=!1){for(var Ee=ve.parentGroup,Ne=ve;Ee;){if(Ee.isSelected||Ee.isChildSelected){xe&&Ee.isSelected&&(Ne=Ee);break}Ne=Ee,Ee=Ee.parentGroup}return Ne}function x(ve,xe){s.qN.isCanvasItemSelected(ve,xe)||s.qN.selectCanvasItem(ve,xe)}function A(ve,xe,Ee,Ne=!0){var ye=[];return K(xe.getSelectedElements(),Ne,fe=>{if((0,n.tx)(fe))ye.push(ve.serializeVisualContainerGroup(fe));else{var Se=function(ve,xe){return ve.filters?function(ve,xe){var Ee=(0,y.cd)(ve.filters,Ne=>function(ve,xe){var Ee=ve.filter;if((ve.type===t.RJ.Include||ve.type===t.RJ.Exclude)&&Ee){var Ne=Ee.rewrite(xe);if(Ne!==Ee)return(0,C.IL)(ve,ye=>ye.filter=Ne)}return ve}(Ne,xe));return Ee!==ve.filters?(0,C.IL)(ve,Ne=>Ne.filters=Ee):ve}(ve,new o.C(xe)):ve}(fe,Ee);ye.push(ve.serializeVisualContainer(Se))}}),ye}function z(ve,xe,Ee,Ne,ye,Xe){var fe=ve.objects,Se=ye.getVisualObjects(Ne,Ee,void 0,xe);Se&&(fe=(0,E.o8)(fe||{}),(0,E.X$)(fe,Se));var qe=ye.getVisualStyle(Ne),Ue=(0,c.Mo)(fe,xe,qe,Xe.featureSwitches);ve.evaluatedObjects=Ue.dataViewObjects}function k(ve,xe,Ee=!0){var Ne={};return K(ve.getSelectedElements(),Ee,fe=>(fe=>{(0,n.iA)(fe)&&(0,h.Uy)(fe.config.singleVisual.objects,void 0,xe,Ne)})(fe)),Ne}function K(ve,xe,Ee){if(!_.isEmpty(ve)){var Ne=xe&&[];for(var ye of ve){var Xe=ye.canvasItem;Xe&&(xe&&(0,n.tx)(Xe)?Ne.push(Xe):Ee(Xe))}xe&&!_.isEmpty(Ne)&&(0,n.Uu)(Ne,fe=>Ee(fe))}}function Q(ve,xe,Ee,Ne,ye,Xe,fe,Se,qe,Ue){return _.first(J([ve],xe,Ee,Ne,ye,Xe,fe,Se,qe,Ue))}function J(ve,xe,Ee,Ne,ye,Xe,fe,Se,qe,Ue){if(ve){var _e={},at=!!fe,ot=Ee.size,mt=Ue?Ee.visualContainerGroups:Ee.visualContainers,yt=_.flatMap(xe.sections,Te=>Ue?Te.visualContainerGroups:Te.visualContainers),Nt=[],Bt=ye.getCurrentLayout();(0,n.Uu)(mt,Te=>{if(null==Te.parentGroup){var Fe=Te.layouts.withId(Bt);Nt.push(Fe.position)}}),(0,n.Uu)(yt,Te=>{_e[Te.name]=!0});var he=Ne.deserializeCanvasItems(ve,!0,Ue,()=>{var Te=(0,v.E5)(_e);return S.Y.assert(()=>!_e[Te],"New name already exists"),_e[Te]=!0,Te});if(he){var{visualContainerGroups:Qe,visualContainers:je}=he,Ke=function(ve,xe,Ee,Ne){var ye=Le(ve,xe),Xe=_.orderBy(Ee,fe=>fe.config.layouts[xe].position.z,["asc"]);return Xe.reduce((fe,Se)=>{var{name:qe,parentGroupName:Ue}=Se.config;return{...fe,[qe]:Ue&&Ne?null:ye++}},{})}(mt,Bt,ve,Ue),tt=function(ve,xe,Ee){var Ne=function(ve,xe){var Ee=0,Ne=0;if(_.isEmpty(ve))return{pos:Ee,neg:Ne};for(var ye of ve){var Xe=ye.layouts.withId(xe),fe=Xe&&Xe.position,Se=fe&&null!=fe.tabOrder?fe.tabOrder:void 0;null!=Se&&(Ee=Math.max(Ee,Se),Ne=Math.min(Ne,Se))}return{pos:Ee+1,neg:Ne-1}}(ve,xe),ye=_.orderBy(Ee,Xe=>Xe.config.layouts[xe].position.tabOrder,["asc"]);return ye.reduce((Xe,fe)=>{var{name:Se,layouts:qe}=fe.config,_e=qe[xe].position;return{...Xe,[Se]:null!=_e.tabOrder?_e.tabOrder>=0?Ne.pos++:Ne.neg--:null}},{})}(Ee.visualContainers,Bt,ve),$e=(0,y.mq)(),de=[],De=Te=>{var{layouts:Fe,parentGroup:et,prevName:vt}=Te,At=null!=et,st=Fe.withId(Bt),Re=st.position;if(S.Y.assert(()=>Ue||(0,n.iA)(Te),"Should not be processing groups when grouping is disabled"),(!At||!Ue)&&(vt&&!_.isNil(Ke[vt])&&(Re.z=Ke[vt]),de.push(Te)),vt&&!_.isNil(tt[vt])&&null!=Re.tabOrder&&(0,n.iA)(Te)&&(Re.tabOrder=tt[vt]),!At){for(;2!==X(Re,ot)&&Me(Re,Nt);)Re.x+=10,Re.y+=10;Nt.push(Re)}if(Te.layouts=(0,y.u_)([st]),at&&(0,n.iA)(Te)){var q=(0,D.dv)(xe,Ee,Te,Bt);$e.push(q)}};if(Ue)(0,n.Uu)(Qe,Te=>De(Te));else for(var re of je)De(re);if(Ee.visualContainers.push(...je||[]),at&&fe.visualContainers.push(...$e||[]),Ue){if(Ee.visualContainerGroups=(0,p.WQ)(Ee.visualContainerGroups,...Qe||[]),at){var ce=(0,D.X8)(Qe,$e,Bt);fe.visualContainerGroups=(0,p.WQ)(fe.visualContainerGroups,...ce||[])}}else Ee.visualContainerGroups=(0,p.WQ)(Ee.visualContainerGroups,...je||[]),at&&(fe.visualContainerGroups=(0,p.WQ)(fe.visualContainerGroups,...$e||[]));if(Xe.publishVisualContainerAddedEvent(),Se&&s.qN.selectCanvasItems(de,Se,!0),qe)for(var te of de)(0,n.iA)(te)&&qe.applyFilterOutput(te);return de}}}function X(ve,xe){var Ee=xe.width||0,Ne=xe.height||0,ye=0;return ve.x+ve.width>Ee&&(ve.x=Math.max(Ee-ve.width,0),ye++),ve.y+ve.height>Ne&&(ve.y=Math.max(Ne-ve.height,0),ye++),ye}function ne(ve,xe,Ee,Ne,ye,Xe){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.A)(function*(ve,xe,Ee,Ne,ye,Xe){var fe;return fe=ve.expr?yield ye.addVisualContainer({expr:ve.expr,visualType:ve.visualType,targetRole:ve.targetRole,dataSources:Ne,allowAggregate:ve.allowAggregate??!0,shouldSummarize:ve.shouldSummarize,startAuthoringAfterAddition:ve.startAuthoringAfterAddition},xe,Ee):ye.addEmptyVisualContainer(xe,Ee,ve.visualType,ve.position,ve.shouldSummarize,void 0,void 0,ve.startAuthoringAfterAddition),Xe.logEvent(f.SUp,{source:oe(ve.telemetrySource),visualType:(0,m.d)(fe),visualName:fe.name}),fe})).apply(this,arguments)}function oe(ve){switch(ve){case g.V0.CheckboxTickedInFieldList:return l.S_.CheckboxTickedInFieldList;case g.V0.DraggedToFieldWell:return l.S_.DraggedToFieldWell;case g.V0.DraggedToCanvas:return l.S_.DraggedToCanvas;case g.V0.VisualTypeIconClicked:return l.S_.VisualTypeIconClicked;case g.V0.InsertVisualButton:return l.S_.InsertVisualButton;case g.V0.WhatIfParameterControl:return l.S_.WhatIfParameterControl;case g.V0.QnaAppBar:return l.S_.QnaAppBar;case g.V0.QnaDoubleClick:return l.S_.QnaDoubleClick;case g.V0.QnaKeyboardShortcut:return l.S_.QnaKeyboardShortcut;case g.V0.FieldParameterControl:return l.S_.FieldParameterControl;case g.V0.CanvasBackgroundContextMenu:return l.S_.CanvasBackgroundContextMenu;case g.V0.AssistedCreation:return l.S_.AssistedCreation;case g.V0.Copilot:return l.S_.Copilot;default:S.Y.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function Me(ve,xe){return S.Y.assertValue(ve,"position"),_.some(xe,Ee=>ve.x===Ee.x&&ve.y===Ee.y)}function Ye(ve,xe,Ee){return{height:0,width:0,x:0,y:0,z:Le(ve,xe),tabOrder:ze(Ee,!0,xe)}}function Le(ve,xe){return _.isEmpty(ve)?0:_.chain(ve).map(Ne=>{var ye=Ne.layouts.withId(xe),Xe=ye&&ye.position;return Xe&&Xe.z||0}).max().value()+1}function ze(ve,xe,Ee){if(!ve||_.isEmpty(ve.visualContainers))return 0;var Ne=xe?d.vx:d.Hr;return _.forEach(ve.visualContainers,ye=>{var Xe=ye.layouts.withId(Ee),fe=Xe&&Xe.position;if(fe&&fe.tabOrder){var Se=fe.tabOrder;Ne=xe?Math.max(Ne,Se):Math.min(Ne,Se)}}),Ne+(xe?1:-1)}function Be(ve,xe,Ee){for(var Ne=0,ye=0,Xe=0,fe=0,Se=null,qe=0,Ue=0,_e=Ee.length;Ue<_e;Ue++){qe=Ue;var at=Ee[Ue];if(at===ve){var ot=at.parentGroup,mt=ot&&ot.layouts.withId(xe);ot=mt?ot:void 0,Se=(0,v.Ui)(Ce(at,xe),xe,ot);break}}if(Se){for(var yt of(Ee.splice(qe,1),Ee)){var Nt=yt.parentGroup,Bt=Nt&&Nt.layouts.withId(xe);Nt=Bt?Nt:void 0;var he=(0,v.Ui)(Ce(yt,xe),xe,Nt),Qe=Se.x-he.x;Ne=Ne<Qe?Qe:Ne,ye=ye<(Qe=he.y+he.height-(Se.y+Se.height))?Qe:ye,Xe=Xe<(Qe=Se.y-he.y)?Qe:Xe,fe=fe<(Qe=he.x+he.width-(Se.x+Se.width))?Qe:fe}return{top:0-(Xe>0?Xe/Se.height:0),left:0-(Ne>0?Ne/Se.width:0),bottom:1+(ye>0?ye/Se.height:0),right:1+(fe>0?fe/Se.width:0)}}}function Ce(ve,xe){var Ee=ve.layouts.withId(xe);return S.Y.assertValue(Ee,"Can't find a visual layout for the current form factor."),Ee&&Ee.position}function Ae(ve){var xe=s.qN.getSelectedCanvasItems(ve),Ee={};for(var Ne of xe){var ye=Ne.parentGroup?Ne.parentGroup.name:M;Ee[ye]=Ee[ye]||[],Ee[ye].push(Ne)}return Ee}function be(ve,xe){return _.filter(ve,Ne=>{var ye=Ce(Ne,i.v.Master).tabOrder;return xe?void 0===ye||ye>=0:ye&&ye<0})}function Ie(ve){var xe=ve.getCurrentSection();return xe&&xe.evaluatedObjects&&xe.evaluatedObjects.outspacePane&&xe.evaluatedObjects.outspacePane.width||a.Mw}},157919:function(me,j,e){e.d(j,{$7:function(){return C},$l:function(){return y},DH:function(){return v},Kv:function(){return m},XK:function(){return S},cU:function(){return d},cy:function(){return o},kG:function(){return p},oA:function(){return h},oK:function(){return s}});var r=e(460169),i=e(390107),a=e(785463),t=e(356578),l=e(59764),g=e(446024),n=e(121993);function d(u){return{solid:{color:s(u,(0,i.Rc)())}}}function s(u,E){a.Y.assertValue(E,"gradientSettings");var f,b,T,c={color:(0,g.yW)(E.minColor,"minColor")},D=E.minValue;if(null!=D&&(f=(0,g.gd)(D)),E.diverging){b={color:(0,g.yW)(E.midColor,"midColor")};var M=E.midValue;null!=M&&(T=(0,g.gd)(M))}var w,V={color:(0,g.yW)(E.maxColor,"maxColor")},P=E.maxValue;null!=P&&(w=(0,g.gd)(P));var R,N=E.nullStrategy,I=E.nullColor,O={};return R=E.diverging?O.linearGradient3={min:c,mid:b,max:V}:O.linearGradient2={min:c,max:V},f&&(R.min.value=f),T&&(R.mid.value=T),w&&(R.max.value=w),N&&(R.nullColoringStrategy={strategy:(0,g.Qq)(N)},N===n.iQ&&(R.nullColoringStrategy.color=(0,g.yW)(I,"nullColor"))),(0,g.Kf)(u,O)}function h(u,E,c){var f;switch(c){case r.rY.Number:f={condition:(0,g.UD)(r.mq.LessThan,u,(0,g.gd)(0)),value:(0,g.Qq)(E)};break;case r.rY.Text:f={condition:(0,g.UD)(r.mq.Equal,u,(0,g.Qq)("")),value:(0,g.Qq)(E)};break;default:a.Y.assertNever(c)}return{solid:{color:(0,g.Jr)([f])}}}var o="CircleHigh",v=t.a.Before,m=t.v.Top;function p(u,E=r.rY.Number){switch(E){case r.rY.Number:return{kind:l.P.Icon,value:(0,g.Jr)([y(u,67,100,!0,(0,g.Qq)("CircleHigh")),y(u,33,67,!1,(0,g.Qq)("SignMedium")),y(u,0,33,!1,(0,g.Qq)("SignLow"))]),layout:(0,g.Qq)(v),verticalAlignment:(0,g.Qq)(m)};case r.rY.Text:return{kind:l.P.Icon,value:(0,g.Jr)([S(u,(0,g.Qq)("CircleHigh")),S(u,(0,g.Qq)("SignMedium")),S(u,(0,g.Qq)("SignLow"))]),layout:(0,g.Qq)(v),verticalAlignment:(0,g.Qq)(m)};default:a.Y.assertNever(E)}}function y(u,E,c,f,D){var b,T;return E>0&&(b=(0,g.UD)(r.mq.GreaterThanOrEqual,u,g.KW.overRangeOf(u,E/100))),c<100&&(T=(0,g.UD)(f?r.mq.LessThanOrEqual:r.mq.LessThan,u,g.KW.overRangeOf(u,c/100))),{condition:b&&T?(0,g.Uo)(b,T):b||T,value:D}}function S(u,E){return{condition:(0,g.UD)(r.mq.Equal,u,(0,g.Qq)("")),value:E}}function C(u,E,c,f,D){var b,T;return null!==E&&(b=(0,g.UD)(r.mq.GreaterThanOrEqual,u,(0,g.gd)(E))),null!==c&&(T=(0,g.UD)(f?r.mq.LessThanOrEqual:r.mq.LessThan,u,(0,g.gd)(c))),{condition:b&&T?(0,g.Uo)(b,T):b||T,value:D}}},403816:function(me,j,e){e.d(j,{KE:function(){return v},Pf:function(){return p},cm:function(){return y},eS:function(){return C},ue:function(){return o}});var r=e(61917),i=e(347232),a=e(618644),t=e(785463),l=e(46143),g=e(690702),n=e(446024),d=e(405463),s=e(191941),h={totalMatchingOption:l._.InstancesOnly,reverseDirection:!1,hideText:!1};function o(E,c){return t.Y.assertValue(E,"visual"),t.Y.assertValue(c,"repetition"),v(S(E.objects,c))}function v(E){if(!E)return h;var c,f=E.minValue;f&&(c=f.value);var D,b=E.maxValue;b&&(D=b.value);var T=l._.InstancesOnly,M=E.totalMatchingOption;return M&&(T=M.value),{minValue:c,maxValue:D,positiveColor:m(E.positiveColor),negativeColor:m(E.negativeColor),axisColor:m(E.axisColor),reverseDirection:E.reverseDirection.value,hideText:E.hideText.value,totalMatchingOption:T}}function m(E){var c=E.solid.color;return(0,a.Lo)(c.value)?{solid:{color:c.value}}:null}function p(){return y(h,s.eV.fromPrimitiveTypeAndCategory(r.W.None))}function y(E,c){var f,D,b;return t.Y.assertValue(E,"dataBars"),t.Y.assertValue(c,"valueType"),void 0!==E.minValue&&(f=u(E.minValue,c)),void 0!==E.maxValue&&(D=u(E.maxValue,c)),void 0!==E.totalMatchingOption&&(b=(0,n.nd)(E.totalMatchingOption)),{minValue:f,maxValue:D,positiveColor:(0,d.GG)(E.positiveColor&&E.positiveColor.solid.color,"maxColor"),negativeColor:(0,d.GG)(E.negativeColor&&E.negativeColor.solid.color,"minColor"),axisColor:(0,d.GG)(E.axisColor&&E.axisColor.solid.color,"foreground"),reverseDirection:(0,n.zM)(E.reverseDirection),hideText:(0,n.zM)(E.hideText),totalMatchingOption:b}}function S(E,c){return t.Y.assertValue(c,"objectRepetition"),(0,i.Ao)(E,c)}function C(E,c){return t.Y.assertValue(c,"objectRepetition"),void 0!==S(E,c)}function u(E,c){if(t.Y.assert(()=>c.integer||c.numeric,"databars only supports numeric SQExprs"),c.integer){var f=Math.round(E);return(0,n.nd)(f)}return c.primitiveType===r.W.Decimal?(0,n._)(E):(t.Y.assert(()=>c.extendedType===g.K.Double,"Unexpected data type."),(0,n.gd)(E))}},579289:function(me,j,e){e.d(j,{x:function(){return r}});var r=function(i){return i.Field="field",i.Filter="filter",i.Bookmark="bookmark",i.Sections="sections",i.VisualContainer="visualContainer",i.VisualContainerThumbnail="visual-container-thumbnail",i}({})},487530:function(me,j,e){e.d(j,{c:function(){return i},h:function(){return r}});var r=function(a){return a[a.OutspaceBackground=1]="OutspaceBackground",a[a.CanvasBackground=2]="CanvasBackground",a}({}),i=function(a){return a[a.X=0]="X",a[a.Y=1]="Y",a}({})},931408:function(me,j,e){e.d(j,{BI:function(){return l},E3:function(){return a},kY:function(){return g},tk:function(){return t}});var r=e(157554),i={BlockedCustomVisual:r.N.Blocked,ScriptVisualsNotEnabled:r.N.Blocked,UnapprovedCustomVisual:r.N.Blocked,CvApiVersionNotSupported:r.N.Blocked,AzureMapUserNotSignedIn:r.N.Blocked,AzureMapNoEndpoint:r.N.Blocked,AzureMapDisabledLocalCache:r.N.Blocked,AzureMapVisualRegionalDataProcessingConsentNotEnabled:r.N.Blocked};function a(n){if(!n)return!1;var d=n.displayableErrorInfo;return!_.isEmpty(d)&&!_.isEmpty(d[0].errorInfoKey)&&!_.isEmpty(d[0].errorInfoValue)}function t(n){return n in i?i[n]:r.N.Error}function l(n){return t(n)===r.N.Blocked}function g(n,d){var s=[],h=n.message,o=d;if(a(n)&&(o=n.displayableErrorInfo[0].errorInfoKey,h=n.displayableErrorInfo[0].errorInfoValue,n.displayableErrorInfo.length>1))for(var v=1;v<n.displayableErrorInfo.length;v++)s.push(n.displayableErrorInfo[v]);return{title:o,message:h,displayableErrorInfo:s,debugErrorInfo:n.debugErrorInfo,source:n.source,hideErrorHelperText:n.hideErrorHelperText}}},716861:function(me,j,e){function r(a){if(a){var g=(a.originalEvent??a).handled;return void 0!==g&&!0===g}}function i(a){a&&((a.originalEvent??a).handled=!0)}e.d(j,{R:function(){return r},o:function(){return i}})},909922:function(me,j,e){e.d(j,{Il:function(){return h},TE:function(){return d},_h:function(){return m},iu:function(){return s},sJ:function(){return v},uE:function(){return o}});var r=e(668309),i=e(64974),a=e(270475),t=e(785463),l=e(147293),g=e(468291),n=e(636293);function d(p,y,S,C){var u=_.filter(S.filters,E=>E.howCreated===i.GS.Drillthrough);p.logChildEvent(C&&C.event,n.Nw5,{type:y,countOfCurrentPageDrillthroughFilters:u.length})}function s(p){var y;switch(p&&(y=p.kind),y){case g.Ez.Entity:return n.LZv.Entity;case g.Ez.ColumnRef:return n.LZv.ColumnRef;case g.Ez.MeasureRef:return n.LZv.MeasureRef;case g.Ez.Aggregation:return n.LZv.Aggregation;case g.Ez.PropertyVariationSource:return n.LZv.PropertyVariationSource;case g.Ez.Hierarchy:return n.LZv.Hierarchy;case g.Ez.HierarchyLevel:return n.LZv.HierarchyLevel;case g.Ez.SparklineData:return n.LZv.Sparkline;case g.Ez.NativeVisualCalc:return n.LZv.VisualCalculation;default:return n.LZv.Other}}function h(p){switch(p){case r.RJ.Advanced:return n.RJ5.Advanced;case r.RJ.Categorical:return n.RJ5.Categorical;case r.RJ.Passthrough:return n.RJ5.Passthrough;case r.RJ.Range:return n.RJ5.Range;case r.RJ.Visual:return n.RJ5.Visual;case r.RJ.VisualTopN:return n.RJ5.VisualTopN;default:t.Y.assert(()=>!0,"unknown filterType "+p)}}function o(p){switch(p){case a.$d.Exploration:return n.$d8.Exploration;case a.$d.Section:return n.$d8.Section;case a.$d.Visual:return n.$d8.Visual;default:t.Y.assert(()=>!0,"unknown filterScopeType "+p)}}function v(p){switch(p){case l.nE.View:return n.nE9.View;case l.nE.Edit:return n.nE9.Edit}}function m(p){switch(p){case i.r3.Ascending:return n.r3e.Ascending;case i.r3.Descending:return n.r3e.Descending;case i.r3.Custom:return n.r3e.Custom}}},54149:function(me,j,e){e.d(j,{A6:function(){return E},O0:function(){return T},O4:function(){return b},P:function(){return P},Rl:function(){return y},U2:function(){return f},VT:function(){return V},jC:function(){return C},oD:function(){return W},tA:function(){return w},w:function(){return S},xA:function(){return R}});var r=e(619584),i=e(64974),a=e(270475),t=e(229456),l=e(347130),g=e(343382),n=e(565445),d=e(275704),s=e(712813),h=e(755477),o=e(785463),v=e(928912),m=e(182314),p=e(885418);function y(F,U,B,x,A,L){if(F.scope.scopeType===a.$d.Exploration&&(o.Y.assertValue(B,"no exploration on report filter change"),(0,s.kW)(B)),F.changeType===a.ih.Add||F.changeType===a.ih.Update&&!function(F,U){for(var B of U)if(B.contract===F)return!0;return!1}(F.filter,U)){var Y=(0,s.p6)(L,x.visualPlugin),z=(0,p.dm)(F.filter,A,x.displayNameService,F.scope,x.visualPlugin,x.aggrOps,x.localizationService,Y,L&&L.config.singleVisual);b(z,x.explorationNavigation),F.scope.scopeType===a.$d.Visual&&F.scope.container!==L||(U.push(z),f(U,A,x.dataSources,x.visualAuthoring))}else F.changeType===a.ih.Remove&&_.remove(U,H=>H.contract===F.filter);!function(F,U){var B=F.explorationNavigation,x=B.getCurrentExploration(),A=B.getCurrentSection(),L=U.scope.scopeType,Y=l.qN.getSelectedVisual(F.selection),z=(0,d.CX)(L,x,A,Y,F.scriptVisuals);if(!_.isEmpty(z)){var H=U.changeType.toString();F.telemetryService.logChildEvent(U.parentActivity&&U.parentActivity.event,h.Dp,{action:H,visualIds:JSON.stringify(z)})}}(x,F)}function S(F,U,B,x,A,L,Y,z,H){return F.displayName?F.displayName:(0,p.dm)(F,B,A,U,Y,x,L,z,H).displayName}function C(F,U){return u.apply(this,arguments)}function u(){return(u=(0,r.A)(function*(F,U){var B=F.explorationNavigation.getCurrentSection(),x=[];if(!B)return x;var A=yield E(F.dataSources,F.conceptualSchemaProxy);return f(x=(0,m.EL)({scopeType:a.$d.Section,container:B},A,F.displayNameService,F.visualPlugin,F.aggrOps,F.localizationService,null,U),A,F.dataSources,F.visualAuthoring,!1),function(F,U){if(!_.isEmpty(F))for(var B of F)b(B,U)}(x,F.explorationNavigation),x})).apply(this,arguments)}function E(F,U){return c.apply(this,arguments)}function c(){return(c=(0,r.A)(function*(F,U){var B=F.get();if(B)return yield U.get(B)})).apply(this,arguments)}function f(F,U,B,x,A=!0){if(!_.isEmpty(F)){var L=B.get();x.addConfigToCategoricalFilters(F,U,L,A)}}function b(F,U){var B=U.getCurrentExploration(),x=U.getCurrentSection();if(x){var A=(0,n.AJ)(B,x.name);if(A&&!_.isEmpty(A.parameters)){var L=_.find(A.parameters,Y=>Y.boundFilter===F.contract.name);L&&F.updateIsLinkedAsAggregation(!!L.asAggregation)}}}function T(F,U,B,x,A,L,Y,z){return M.apply(this,arguments)}function M(){return(M=(0,r.A)(function*(F,U,B,x,A,L,Y,z){if(A){var H={scopeType:F,container:U},Z=x.get();return B?yield L.addDrillthroughFilter(A,H,Z,Y):yield L.addFilter(A,H,Z,z)}})).apply(this,arguments)}function V(F,U,B,x,A,L){var Y=_.find(B.filters,H=>H.name===F);return!!Y&&x.removeFilter(Y,{scopeType:U,container:B},A,L)}function w(F,U,B,x){if(!_.isEmpty(B)&&(x.changeType===a.ih.Clear||x.changeType===a.ih.Add||x.changeType===a.ih.Update||x.changeType===a.ih.Remove)){var A=I(x.scope.scopeType,x.filter.howCreated===i.GS.Drillthrough);for(var L of B)if(!(A<I(U,L.howCreated===i.GS.Drillthrough))&&g.M.isCategoricalFilter(L.contract.type)&&L.contract!==x.filter){var z={filter:L.contract,changeType:a.ih.RefreshData,scope:L.getFilterContainerScope(),parentActivity:x.parentActivity};F.eventBridge.publishToChannel(t.gsd,z)}}}function P(F,U,B){if(!U||/^\s*$/.test(U))return!1;var x=F.contract.displayName||F.displayName;return _.isEmpty(x)&&(x=F.getRestatement()),!(0,v.Gt)(x,U)}function I(F,U){return F===a.$d.Visual?0:F!==a.$d.Section||U?F===a.$d.Section?2:F===a.$d.Exploration?3:-1:1}function R(F,U=i.r3.Ascending,B=!0){if(!_.isEmpty(F))switch(U){case i.r3.Ascending:F.sort(m.Vj);break;case i.r3.Descending:F.sort(m.Vj).reverse();break;case i.r3.Custom:B&&F.sort(m.p$)}}function W(F,U,B){if(_.isEmpty(F))return[];var[x,A]=null==B?[[],F]:_.partition(F,L=>B(L));return R(A,U),R(x,U,!1),_.concat(A,x).map(L=>L.contract)}},534958:function(me,j,e){function r(i){var a=$(document.activeElement);return a.is(i)||a.closest(i).length>0}e.d(j,{I:function(){return r}})},77984:function(me,j,e){e.d(j,{E6:function(){return m},L7:function(){return s},Tp:function(){return o},W9:function(){return h},xG:function(){return d}});var r=e(691605),i=e(64974),a=e(167449),t=e(565445),l=e(336983),g=e(175143),n=e(115010),d={[a.m.Dynamic]:{displayOption:i.td.Dynamic,width:r.Im,height:r.lC},[a.m.Standard]:{displayOption:i.td.FitToPage,width:r.Im,height:r.lC},[a.m.Widescreen]:{displayOption:i.td.FitToPage,width:r.V5,height:r.Wn},[a.m.Cortana]:{displayOption:i.td.ActualSize,width:r.ED,height:r.DA},[a.m.Letter]:{displayOption:i.td.FitToPage,width:r.o6,height:r.n5},[a.m.Tooltip]:{displayOption:i.td.FitToPage,width:r.p1,height:r.EK},[a.m.Custom]:{displayOption:i.td.ActualSize,width:r.Im,height:r.lC}};function s(y,S){var C=[];for(var u of y)C.push({...u,value:`${u.value}`,displayName:(0,g.Mn)(u.displayName,S),label:u.label?(0,g.Mn)(u.label,S):null});return C}function h(y=!1){var S=(0,l.W9)(y),C=[];for(var u of S)C.push({displayName:u.title,value:u.value.toString()});return C}function o(y,S){return function(y,S,C){if(y.displayOption===i.td.Dynamic)return a.m.Dynamic;if(y.width===r.Im&&y.height===r.lC)return a.m.Standard;if(y.width===r.V5&&y.height===r.Wn)return a.m.Widescreen;if(n.L.isCortanaPageSize(y)){var u=(0,t.gm)(S,C.name);return-1!==u&&S.pods[u].cortanaEnabled?a.m.Cortana:a.m.Custom}return y.width===r.o6&&y.height===r.n5?a.m.Letter:function(y){return y.width===r.p1&&y.height===r.EK}(y)?a.m.Tooltip:a.m.Custom}(y,S.getCurrentExploration(),S.getCurrentSection())}function m(y){return d[y]}},329990:function(me,j,e){e.d(j,{UC:function(){return n},fC:function(){return g},tq:function(){return d}});var r=e(978450),i=e(662785),a=e(712813),t=function(s){return s.Categorical="Categorical",s.Date="Date",s.Numeric="Numeric",s}({}),l=function(s){return s.Aggregate="Aggregate",s.Measure="Measure",s}({});function g(s){return _.some((0,a.Fi)(s),h=>(0,i.AH)(h.expr))}function n(s,h,o){var v=(0,a.Fi)(h);if(!_.isEmpty(v)){var m=(0,a.NU)(h),p=function(){var S=y.expr;if((0,i.AH)(S)){var C=S.measure,u=m.getRoleNameForExpr(S),E=_.chain(m.tryGetExprs(u)).map((c,f)=>({expr:c,index:f})).filter(c=>(0,r.aI)(c.expr,S)).map(c=>c.index).value();_.forEach(E,c=>o.replaceField(s,C,u,c,h))}};for(var y of v)p()}}function d(s,h){return{groupingType:(v=>{if(v)return v.dateTime||v.temporal?t.Date:v.numeric?t.Numeric:t.Categorical})(s.grouping[0].getMetadata(h)?.type),measureType:(0,i.b9)(s.measure)?l.Aggregate:l.Measure}}},879347:function(me,j,e){e.d(j,{BG:function(){return o},lk:function(){return V},Tk:function(){return s},Jh:function(){return h},zU:function(){return d}});var r=e(785463),i=e(510958),a=e(753771);function t(w){var P=w.get(0).style,N=P.transform||P.webkitTransform;if(N){var I=N.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(I)return parseFloat(I[1])}return 0}var n=e(928912),d=function(w){return w[w.Parent=1]="Parent",w[w.None=2]="None",w[w.Custom=3]="Custom",w}({}),s=function(w){return w[w.Up=1]="Up",w[w.Down=2]="Down",w[w.Left=4]="Left",w[w.Right=8]="Right",w[w.UpLeft=16]="UpLeft",w[w.UpRight=32]="UpRight",w[w.DownLeft=64]="DownLeft",w[w.DownRight=128]="DownRight",w[w.All=255]="All",w}({}),h=function(w){return w[w.Up=0]="Up",w[w.Down=1]="Down",w[w.Left=2]="Left",w[w.Right=3]="Right",w}({}),o=function(w){return w.Always="always",w.Never="never",w.Auto="auto",w}({}),u="transformElement",E="dragging",c="resizing",D="resizeHandleGroup-",M={preventDefault:o.Auto,minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1};class V{constructor(P,N,I){this.ngZone=N,this.resizeHandleDirections=s.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=P,this.rawElement=this.element.get(0),this.updateOptions(I),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(u),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),V.pointerTrap||(V.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}attachKeyHandlers(){this.element.keydown(P=>{var O,w,N=P.shiftKey,I=P.shiftKey&&P.ctrlKey;if("true"!==$(this.element).attr("drag-resize-disabled")&&(!a.C.isCtrlOrMeta(P)||I)){var R=this.getDimensionsFromElement(this.element,!0),W=N?10:1;if(I){var F=A=>A/2===Math.round(A/2);switch(P.keyCode){case i.cK.downArrowKeyCode:R.height-=1,O=h.Down,F(R.height)&&(R.y+=1);break;case i.cK.upArrowKeyCode:R.height+=1,O=h.Up,F(R.height)||(R.y-=1);break;case i.cK.leftArrowKeyCode:R.width-=1,O=h.Left,F(R.width)&&(R.x+=1);break;case i.cK.rightArrowKeyCode:R.width+=1,O=h.Right,F(R.width)||(R.x-=1);break;default:return}}else switch(P.which){case i.cK.downArrowKeyCode:O=h.Down,R.y+=W;break;case i.cK.upArrowKeyCode:O=h.Up,R.y-=W;break;case i.cK.leftArrowKeyCode:O=h.Left,R.x-=W;break;case i.cK.rightArrowKeyCode:O=h.Right,R.x+=W;break;default:return}var U=this.getRestrictionParent();if(U&&0!==U.length){var B=(w=U,{left:parseFloat(w.css("padding-left"))||0,right:parseFloat(w.css("padding-right"))||0,top:parseFloat(w.css("padding-top"))||0,bottom:parseFloat(w.css("padding-bottom"))||0}),x=this.getDimensionsFromElement(U);R=this.restrictTo(R,x,B)}this.transformRelativeDimensionFromElement(this.element,R),P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),this.notifyNudge(R,{bigNudge:N,direction:O})}})}restrictTo(P,N,I){var R=-I.top||0;return{x:Math.max(-I.left||0,Math.min(P.x,N.width-P.width)),y:Math.max(R,Math.min(P.y,N.height-P.height)),width:Math.min(P.width,N.width+I.left+I.right),height:Math.min(P.height,N.height+I.top+I.bottom)}}destroy(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)}getResizeHandleDirectionArray(){var P=[],N=this.options.resizeHandleDirections;return N&s.Up&&P.push("up"),N&s.Down&&P.push("down"),N&s.Left&&P.push("left"),N&s.Right&&P.push("right"),N&s.UpLeft&&P.push("up-left"),N&s.UpRight&&P.push("up-right"),N&s.DownLeft&&P.push("down-left"),N&s.DownRight&&P.push("down-right"),P}getRestrictionString(){var P;switch(this.options.restriction){case d.Parent:P="parent";break;case d.Custom:P=this.options.getCustomRestrictionSelector();break;default:P=""}return P}getRestrictionParent(){var P=this.getRestrictionString();switch(P){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(P)}}getAutoScrollOptions(){var P=this.options.autoScrollParent;return null==P?void 0:{enabled:!0,container:P[0]}}updateOptions(P){this.options={...M,...this.options||{},...P},this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==d.None?this.getRestrictionParent():void 0,this.updateHandlers()}updateHandlers(){if(this.dragInteractable||this.resizeInteractable){var P=this.getAutoScrollOptions();if(this.dragInteractable){var N=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:N,autoScroll:P})}if(this.resizeInteractable){var I={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}};this.resizeInteractable.draggable({restrict:I,autoScroll:P})}}}attachDragHandler(){var P=this.element.get(0),N=this.options.autoScrollParent,I=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(()=>interact(P).preventDefault(I).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:F=>this.ngZone.run(()=>this.onDragStart(F)),onmove:F=>this.ngZone.run(()=>this.onDragMove(F)),onend:F=>this.ngZone.run(()=>this.onDragEnd())})),this.element.on("pointerdown.transform",()=>{this.dragInteractable&&this.options.getDragRestriction&&(this.dragInteractable.options.drag.restrict.elementRect=this.options.getDragRestriction())}),N){var O=n.tw,R=0,W=0;this.autoScrollParent=N,this.autoScrollParentScrollHandlerFn=O(()=>{var F=N.scrollTop(),U=N.scrollLeft(),B=U-W,x=F-R;if(0!==B||0!==x){var A={dx:B,dy:x};this.element.hasClass(E)?this.onDragMove(A):this.element.hasClass(c)&&this.onResizeMove(A)}R=F,W=U}),N.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}}onDragStart(P){this.dragStopped=!1,a.C.isCtrlOrMeta(P)||P.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&V.pointerTrap.setPointerCapture&&P.interaction.pointerIds.length>0&&null!=P.interaction.pointerIds[0]&&V.pointerTrap.setPointerCapture(P.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.element.addClass(E),this.notifyDragStart(this.dimensions))}onDragMove(P){this.dragStopped||(this.dimensions.x+=P.dx,this.dimensions.y+=P.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))}onDragEnd(){this.dragStopped||(this.element.removeClass(E),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))}attachResizeHandles(){for(var P,N=this.getResizeHandleDirectionArray(),{customHandleClass:I,transformId:O}=this.options,R=0,W=N.length;R<W;R++){var F=$("<div></div>").addClass("resizeHandle").attr("data-direction",N[R]).appendTo(this.element);I&&F.addClass(I),O&&F.addClass(D+this.options.transformId)}var U=".resizeHandle"+(this.options.transformId?`.${D}${this.options.transformId}`:"");this.resizeInteractable=this.ngZone.runOutsideAngular(()=>interact(U,{context:this.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:B=>this.ngZone.run(()=>this.onResizeStart(B)),onmove:B=>this.ngZone.run(()=>{P=B,this.onResizeMove(B)}),onend:()=>this.ngZone.run(()=>{P=null,this.onResizeEnd()})})),this.element.bind("keydown","keyup",B=>{var x="keydown"===B.type;this.element.hasClass(c)&&B.keyCode===i.cK.shiftKeyCode&&P&&x!==P.shiftKey&&(P.shiftKey=x,this.onResizeMove(P))})}onResizeStart(P){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var N=P.target;this.element.addClass(c),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions={...this.dimensions},this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var I=N.getAttribute("data-direction");this.resizeDirection={up:/up/.test(I),down:/down/.test(I),left:/left/.test(I),right:/right/.test(I)},this.setTransformDelta(P),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)}setTransformDelta(P){this.transformDelta.width=P.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=P.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)}calculateAspectRatio(P,N){var I=P.height,O=P.width;return N&&(I+=N.height,O+=N.width),I/O}onResizeMove(P){var N=this.options.aspectRatioOffset||{width:0,height:0},I=P.clientY-this.transformDelta.height,O=P.clientX-this.transformDelta.width,R=0;for(var W in this.resizeDirection)R+=this.resizeDirection[W];if(this.resizeDirection.left&&(this.dimensions.x=O,this.dimensions.width=this.resizeStartRect.right-O),this.resizeDirection.up&&(this.dimensions.y=P.clientY,this.dimensions.height=this.resizeStartRect.bottom-I),this.resizeDirection.right&&(this.dimensions.width=O-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=I-this.resizeStartRect.top),(this.preserveAspectRatio||P.shiftKey)&&2===R){var F,U=this.getRestrictionParent();if(U&&U.length){var B=this.rawElement.getBoundingClientRect().top-U.get(0).getBoundingClientRect().top;F=this.resizeDirection.up?this.dimensions.height+B:U.get(0).clientHeight-B}else F=void 0;V.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,F,N,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=t(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)}static fixDimensionsBasedOnAspectRatio(P,N,I=Number.MAX_VALUE,O,R){var W=Math.min(R.width,P.maxWidth)+O.width,F=W*N;F>(I=Math.min(P.maxHeight,I)+O.height)&&(W=(F=I)/N),F<P.minHeight+O.height&&(W=(F=P.minWidth+O.height)/N),W<P.minWidth+O.width&&(F=(W=P.minWidth+O.width)*N),R.height=F-O.height,R.width=W-O.width}onResizeEnd(){this.isResizing=!1,this.element.removeClass(c),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)}getDimensionsFromElement(P,N=!1){var I=this.getPositionFromElement(P);if(N){var O=P.parents("."+u);O.length&&O.each((F,U)=>{var B=this.getPositionFromElement($(U));I.x+=B.x,I.y+=B.y})}var R=this.getSizeFromElement(P),W=t(P);return{x:I.x,y:I.y,width:R.width,height:R.height,angle:W}}transformRelativeDimensionFromElement(P,N){var I=P.parents("."+u);I.length&&I.each((O,R)=>{var W=this.getPositionFromElement($(R));N.x-=W.x,N.y-=W.y})}getSizeFromElement(P){return{width:P.width(),height:P.height()}}getPositionFromElement(P){return function(w){var P={x:0,y:0};if(w&&w.length){var N=w.get(0).style,I=N.transform||N.webkitTransform;if(I&&I.length>0){var O=I.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);O?(P.x=parseFloat(O[1]),P.y=parseFloat(O[2])):(O=I.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(P.x=parseFloat(O[1]),P.y=0)}}return P}(P)}draw(P){if(!this.options.disableDrawing){var I,N=this.prevDimensions;P=P||this.dimensions,this.options.getIntermediateDimensions&&(I=this.options.getIntermediateDimensions(P)),P=_.extend({},I||P);var O=this.element.get(0).style,R=P.angle;if(!_.isEmpty(this.restrictionElement)){var W=this.getDimensionsFromElement(this.restrictionElement);P.x=Math.max(W.x,P.x),P.y=Math.max(W.y,P.y);var F=Math.max(0,P.x+P.width-(W.x+W.width)),U=Math.max(0,P.y+P.height-(W.y+W.height));this.isResizing?(P.height=P.height-U,P.width=P.width-F):(P.x=P.x-F,P.y=P.y-U,r.Y.assert(()=>P.x>=W.x,"dimensions.x is less than restriction"),r.Y.assert(()=>P.y>=W.y,"dimensions.y is less than restriction"))}(P.x!==N.x||P.y!==N.y||P.angle!==N.angle)&&(O.webkitTransform=O.transform="translate("+P.x+"px, "+P.y+"px)"+(R?" rotate("+R+"deg)":""),N.x=P.x,N.y=P.y,N.angle=N.angle),N.width!==P.width&&(O.width=P.width+"px",N.width=P.width),N.height!==P.height&&(O.height=P.height+"px",N.height=P.height)}}snapToGridIfNeeded(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))}snapToGrid(P){var N=this.options.gridSize;P.x=Math.round(P.x/N.width)*N.width,P.y=Math.round(P.y/N.height)*N.height,P.width=Math.round(P.width/N.width)*N.width,P.height=Math.round(P.height/N.height)*N.height,this.draw(P)}notifyResizeStart(P){this.options&&this.options.onResizeStart&&this.options.onResizeStart(P)}notifyResizeMove(P){this.options&&this.options.onResizeMove&&this.options.onResizeMove(P)}notifyResizeEnd(P){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(P)}notifyDragStart(P){this.options&&this.options.onDragStart&&this.options.onDragStart(P)}notifyDragMove(P){this.options&&this.options.onDragMove&&this.options.onDragMove(P)}notifyDragEnd(P){this.options&&this.options.onDragEnd&&this.options.onDragEnd(P)}notifyNudge(P,N){this.options&&this.options.onNudge&&this.options.onNudge(P,N)}}},107206:function(me,j,e){e.d(j,{Eb:function(){return S},MN:function(){return v},mI:function(){return o}});var r=e(619584),i=e(313287),a=e(787621),t=e(983240),l=e(266357),g=e(785463),n=e(147293),d=e(942596),s=e(921929),h=e(824258);function o(C,u,E,c,f,D){if(C&&u){var b=C.getAdapter();b&&c&&b.update({viewport:u,suppressAnimations:!0,dataViews:C.getDataViews(),type:E,resizeMode:D,viewMode:c.getViewMode(),editMode:f})}}function v(C,u,E,c,f,D,b,T,M,V,w){var I,P=new i.m(1),N={getType:()=>C.type,setType:I=>C.type=I,getViewport:()=>C.viewport,setViewport:(I,O)=>{C.viewport=I,O&&o(N,I,n.YL.Resize,u,E)},getData:()=>C.data,getAdapter:()=>C.visual,getDataViews:()=>C.dataViews,setDataViews:I=>C.dataViews=I,getDataTransforms:()=>C.dataTransforms,setThemeCollection:I=>C.themeCollection=I,getIsInFocus:()=>C.isInFocus,setIsInFocus:I=>C.isInFocus=I,setData:(I,O,R)=>{C.data=I,C.dataAppliedEvent&&(C.dataAppliedEvent.reject(),C.dataAppliedEvent=void 0),C.performanceActivity&&(C.performanceActivity.cancel(!0),C.performanceActivity=void 0),C.dataAppliedEvent=O,C.performanceActivity=R},setDataTransforms:I=>C.dataTransforms=I,setPendingSelection:I=>C.pendingSelection=I,hasPendingSelection:()=>!!C.pendingSelection,setAdditionalObjectUpdates:I=>C.additionalObjectUpdates=I,setIsDisabled:I=>C.isDisabled=I,getIsDisabled:()=>C.isDisabled,setIsDisabledIfUncertified:I=>C.isDisabledIfUncertified=I,getIsDisabledIfUncertified:()=>C.isDisabledIfUncertified,setReportId:I=>C.reportId=I,getErrorInfo:()=>C.errorInfo,getErrorInfo$:()=>P.asObservable(),setErrorInfo:I=>{C.errorInfo=I,P.next(I)},getWarnings:()=>p(C),getWarnings$:()=>u?u.getWarnings$():(0,a.of)({}),setWarnings:(I,O,R)=>y(C,I,O,R),getDataBoundObjectWarnings:()=>C.dataBoundObjectWarnings,resetWarnings:(I=!1)=>{I&&(C.dataBoundObjectWarnings={}),C.warnings=void 0},getHasPendingChanges:()=>C.hasPendingChanges,setHasPendingChanges:I=>C.hasPendingChanges=I,getHasUnappliedFilterChanges:()=>C.hasUnappliedFilterChanges,setHasUnappliedFilterChanges:I=>C.hasUnappliedFilterChanges=I,getSelectedDatapoints:()=>C.selectedDatapoints,setSelectedDatapoints:(I,O)=>function(C,u,E,c,f){var D=C.visual;g.Y.assert(()=>!u.pendingSelection&&!C.pendingSelection,"There should be no pending selection when setSelectedDatapoints is called"),c&&(D&&D.visualHasMethod&&D.visualHasMethod("onRestoreSelection")?D.onRestoreSelection({selection:E}):(y(C,[new h.J]),f&&f(p(C)))),C.selectedDatapoints=E}(C,c,I,O,b),clearSelectedDatapoints:I=>{C.selectedDatapoints=void 0;var O=C.visual;O&&O.onClearSelection&&O.onClearSelection(),f.selectDataPoint(D,[],void 0,I,d.v.Union)},getSubSelectionStyles:(I=(0,r.A)(function*(O){if(V){var R=yield V.getSubSelectionStyles(O);if(R)return R}return yield C.visual?.getSubSelectionStylesAsync?.(O)??C.visual?.getSubSelectionStyles?.(O)}),function(R){return I.apply(this,arguments)}),getSubSelectionShortcuts:function(){var I=(0,r.A)(function*(O,R){if(V&&!R){var W=V.getSubSelectionShortcuts(O,R);if(W)return W}return yield C.visual?.getSubSelectionShortcutsAsync?.(O,R)??C.visual?.getSubSelectionShortcuts?.(O,R)});return function(R,W){return I.apply(this,arguments)}}(),getSubSelectables:function(){var I=(0,r.A)(function*(O){var R=[],W=yield C.visual?.getSubSelectablesAsync?.(O)??C.visual?.getSubSelectables?.(O);if(W&&R.push(...W),V){var F=V.getSubSelectables(O);F&&R.push(...F)}return 0!==R.length?R:void 0});return function(R){return I.apply(this,arguments)}}(),onDataViewObjectChanged:(I,O,R)=>{if(R){if(!C.visual||!C.visual.visualHasMethod("onDataViewObjectChanged"))return I;var W=C.visual.onDataViewObjectChanged(I,O);if(W)return W}else if(w){var F=w.onDataViewObjectChanged(I,O);if(F)return F}return[]},onPaste(I){C.visual&&C.visual.visualHasMethod("onPaste")&&C.visual.onPaste(I)},getRunnableQuery:function(){var I=(0,r.A)(function*(){return T.getLastExecutedQuery()});return function(){return I.apply(this,arguments)}}()};return M&&(N.sortServices=M),N}function p(C){var u,E=C.warnings,c=C.dataBoundObjectWarnings;if(u=E?_.cloneDeep(E):{},!_.isEmpty(c))for(var f in u.visualObjectWarnings||(u.visualObjectWarnings={}),c){var D=u.visualObjectWarnings[f];D?D.push(...c[f]||[]):u.visualObjectWarnings[f]=c[f]}return u}function y(C,u,E,c){if(_.isArray(u)){var f=_.filter(u,w=>!(w instanceof l.u));if(_.isEmpty(f)){C.dataBoundObjectWarnings||(C.dataBoundObjectWarnings={});var D=_.filter(u,w=>w instanceof l.u);for(var b of D){var T=b.propertyId.objectName;if(!E||!(0,s.UU)(T,E,c)){var M={selector:b.selector,warnings:[b]},V=C.dataBoundObjectWarnings[T];V?V.push(M):C.dataBoundObjectWarnings[T]=[M]}}}else g.Y.assert(()=>f.length===u.length,"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),C.warnings={warnings:f}}else C.warnings=u}function S(C,u,E){if((0,t.tx)(E))return!1;var c=E?.config.singleVisual;if(c){var f=c.visualType,D=C.capabilities(f);return!(c.query||!u.isQueryVisual(f)||"debugVisual"===f||D&&D.supportsLandingPage)}return!0}},193308:function(me,j,e){e.d(j,{v:function(){return i}});var r=e(64974);function i(){return{getFilters:()=>({dataFilter:null,dataFiltersUnmerged:null}),getDataSourceVariables:()=>{},getVisualRelationshipFilterAction:()=>r.NJ.Default,selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}},650021:function(me,j,e){e.d(j,{Gc:function(){return D}});var r=e(378381),i=e(824760),a=e(237193),t=e(262980),l=e(587308),g=e(416341),n=e(47917),d=0,s=11,h={size:t.h.titleFontProperties.size,family:t.h.titleFontProperties.family},o={size:t.h.valueFontProperties.size,family:t.h.valueFontProperties.family},v={size:t.h.titleFontProperties.size,family:g.Hx.regular.css},m=t.h.titleFontProperties.color,p=t.h.valueFontProperties.color,y=t.h.background.solid.color,S=t.h.actionFontProperties.color;function D(w,P,N,I){var{actionFontColor:O,backgroundColor:R,titleFontColor:W,valueFontColor:F}=function(w,P,N){var I,O,R,W,F=!(!w||!(w.titleFontColor||w.valueFontColor||w.background));return P&&!F?(I=T(M(w&&w.themedTitleFontColor),r.A.getThemeColor(N,l.q6)),O=T(M(w&&w.themedValueFontColor),r.A.getThemeColor(N,l.q6)),R=T(M(w&&w.themedBackground),r.A.getThemeColor(N,l.DA)),W=T(M(w&&w.actionFontColor),r.A.getThemeColor(N,l.q6))):P&&F?(I=T(T(M(w&&w.themedTitleFontColor),M(w&&w.titleFontColor)),m),O=T(T(M(w&&w.themedValueFontColor),M(w&&w.valueFontColor)),p),R=T(T(M(w&&w.themedBackground),M(w&&w.background)),y),W=T(M(w&&w.actionFontColor),I)):(I=T(M(w&&w.titleFontColor),m),O=T(M(w&&w.valueFontColor),p),R=T(M(w&&w.background),y)),{actionFontColor:W,backgroundColor:R,titleFontColor:I,valueFontColor:O}}(I,P,w);void 0===O&&N&&(O=P?S:W);var U=void 0!==O?V(I,P,N,w,v,O):void 0;return{titleFontProperties:V(I,P,N,w,h,W),valueFontProperties:V(I,P,N,w,o,F),actionFontProperties:U,discoverabilityFontProperties:P?_.clone(U):void 0,background:{solid:{color:R}},transparency:I?.transparency??(P?d:t.h.transparency),hoverColor:r.A.getThemeColor(w,l.TA),dividerColor:r.A.getThemeColor(w,l.TA)}}function T(w,P){return void 0===w?P:w}function M(w){if(w){if(null===w.solid)return null;if(w.solid)return w.solid.color}}function V(w,P,N,I,O,R){var B={size:"fontSize",family:"fontFamily",bold:(0,n._)(w,"bold")?"bold":void 0,italic:(0,n._)(w,"italic")?"italic":void 0,underline:(0,n._)(w,"underline")?"underline":void 0},x=P?(0,i.Iv)(w,B,void 0,I,void 0,"label",O):(0,i.De)(w,B,void 0,void 0,O),A=(0,i.IL)(x,{color:R});return N&&(A=(0,i.IL)(A,{size:a.Z.createFromPt(s)})),(0,i.Bq)(A)}},5558:function(me,j,e){e.d(j,{n:function(){return i}});var r=e(283919);class i{sortEntities(t){}sortProperties(t){t&&t.sort((l,g)=>(0,r.pz)(l.displayName,g.displayName))}}},680550:function(me,j,e){e.d(j,{C:function(){return t},i:function(){return a}});var r=e(957557),i=e(135267);class a{constructor(g){this.oldItems=g,this.newItems=[]}add(...g){return!!g&&(g=_.filter(g,n=>!!n),this.newItems.push(...g||[]),!0)}merge(g){g&&(this.newItems=_.filter(this.newItems,g));var n=this.oldItems;return n?n.splice(0,n.length,...this.newItems||[]):_.isEmpty(this.newItems)||(n=this.newItems),n}}class t{constructor(g,n){this.vmLookup=this.getPropertiesDictionary(g),this.renames=this.getRenamesDictionary(g,n)}findVms(g,n,d){var s=this.getKey(g,n,d);return this.vmLookup[this.renames[s]||s]}getPropertiesDictionary(g){var n=_.clone(g.properties);for(var d of g.columnsAndMeasures)n.push(d);for(var s of g.hierarchies)n.push(s);for(var h of g.displayFolders)n.push(h),n.push(...h.getAllChildren()||[]);return n=_.uniq(n),_.groupBy(n,v=>this.getVmKey(v))}getRenamesDictionary(g,n){var d={},s=_.filter(n,p=>p.propertyRename&&p.propertyRename.entity===g.name);for(var h of s){var o=this.getFieldType(h.propertyRename.objectType),v=this.getKey(h.propertyRename.schema,h.propertyRename.before,o);d[this.getKey(h.propertyRename.schema,h.propertyRename.after,o)]=v}return d}getVmKey(g){return this.getKey(g.schemaName,g.name,g.fieldType)}getKey(g,n,d){return n+":"+d+(g?"|"+g:"")}getFieldType(g){switch(g){default:return r.zB.Property;case i.an.KPI:return r.zB.Kpi;case i.an.Hierarchy:return r.zB.Hierarchy;case i.an.Level:return r.zB.HierarchyLevel}}}},942133:function(me,j,e){e.d(j,{s:function(){return g}});var r=e(357840),i=e(785463),a=e(850396),t=e(669129),l=e(341e3);class g{constructor(d,s){i.Y.assertValue(d,"field"),this.field=d,this.conditions=[],this.operators=[],this.logicalOperator=a.um.Undefined,this.logicalAndOperator=a.um.And,this.logicalOrOperator=a.um.Or,this.filterRestatementGenerator=new r.Qt(s),this.filterOperatorFactory=new r.JH(s)}toSQExpr(d){var s=this.field,h=s.getMetadata(d);if(i.Y.assertAnyValue(h,"metadata"),h){var o=h.type,v=t.B.hasMappedMParameter(s,d);return(0,l.lr)(s,o,this.conditions,this.logicalOperator,v)}}getRestatement(d){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,d)}areConditionsValid(d,s){var h=this.conditions;if(_.isEmpty(h))return!1;for(var o=0,v=h.length;o<v;o++){var m=h[o];if(null!=m.operator&&m.operator!==a.tl.None){if((!d||m.value&&m.value.hasValue)&&((0,r.tk)(m.operator)&&m.value&&!m.value.hasValue||s&&!this.isConditionValid(s,m)))return!1}else if(o<v-1)return!1}return!0}loadOperators(d,s,h){var o=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,d,s,h);o.hasError||(this.operators=o.operators)}ensureConditions(d,s){var h=this.operators,o=a.um.And;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(h)&&this.conditions.push(new r.kW(h[0].value));var v=2;if(d){o=s?a.um.Or:a.um.Undefined,v=s?2:1;var m=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(this.logicalOperator===a.um.And||m||this.conditions.length>1&&!s)&&(this.conditions=[new r.kW(a.tl.Is)],this.logicalOperator=o)}for(;this.conditions.length<v;)this.conditions.push(r.kW.empty()),this.logicalOperator=o}isConditionValid(d,s){return(0,l.M$)(this.field,d,s)}}},341e3:function(me,j,e){e.d(j,{M$:function(){return h},lr:function(){return s}});var r=e(61917),i=e(460169),a=e(343382),t=e(785463),l=e(850396),g=e(446024),n=e(640700),d=/[0-9]*\.?[0-9]+%/;function s(m,p,y,S=l.um.And,C=!1){var E,u=new v(m,p,S,C);for(var c of y)null==c.operator||c.operator===l.tl.None||(E=c.accept(u));return E}function h(m,p,y){if(!p)return!1;var S=a.M.getValueType(m,p);if(!S)return!1;var C=new v(m,S,void 0);return null!=y.accept(C)}class v{constructor(p,y,S,C=!1){this.propertyExpr=p,this.dataType=y,this.logicalOperator=S,this.isMappedToMParameter=C}visit(p){var y=this.expandExpr(p);return y&&(this.result?this.logicalOperator===l.um.And?this.result=(0,g.Uo)(this.result,y):this.logicalOperator===l.um.Or?this.result=(0,g.or)(this.result,y):t.Y.assertFail("Logical operator is not set for multiple conditions."):this.result=y),this.result}expandExpr(p){var y,S=p.operator!==l.tl.IsBlank&&p.operator!==l.tl.IsNotBlank&&p.operator!==l.tl.IsEmptyString&&p.operator!==l.tl.IsNotEmptyString;if(S&&(y=this.getValueExpr(p)),y||!S)switch(p.operator){case l.tl.Is:return(0,g.UD)(i.mq.Equal,this.propertyExpr,y);case l.tl.IsNot:return(0,g.AU)((0,g.UD)(i.mq.Equal,this.propertyExpr,y));case l.tl.IsBlank:return(0,g.UD)(i.mq.Equal,this.propertyExpr,(0,g.gN)());case l.tl.IsNotBlank:return(0,g.AU)((0,g.UD)(i.mq.Equal,this.propertyExpr,(0,g.gN)()));case l.tl.Contains:return(0,g.gR)(this.propertyExpr,y);case l.tl.DoesNotContain:return(0,g.AU)((0,g.gR)(this.propertyExpr,y));case l.tl.StartWith:return(0,g.w1)(this.propertyExpr,y);case l.tl.DoesNotStartWith:return(0,g.AU)((0,g.w1)(this.propertyExpr,y));case l.tl.GreaterThan:return(0,g.UD)(i.mq.GreaterThan,this.propertyExpr,y);case l.tl.GreaterThanOrEqual:return(0,g.UD)(i.mq.GreaterThanOrEqual,this.propertyExpr,y);case l.tl.LessThan:return(0,g.UD)(i.mq.LessThan,this.propertyExpr,y);case l.tl.LessThanOrEqual:return(0,g.UD)(i.mq.LessThanOrEqual,this.propertyExpr,y);case l.tl.IsEmptyString:return(0,g.UD)(i.mq.Equal,this.propertyExpr,(0,g.Qq)(""));case l.tl.IsNotEmptyString:return(0,g.AU)((0,g.UD)(i.mq.Equal,this.propertyExpr,(0,g.Qq)("")));default:t.Y.assertFail("Not valid filter operator type.")}}getValueExpr(p){return function(m,p,y=!1){if(m.value){var S=m.value.stringValue;if((p.integer||p.numeric)&&S){var C=n.r9.parseFloat(S);return isNaN(C)?void 0:(S.match(d)&&(C/=100),p.primitiveType===r.W.Decimal?(0,g._)(C):_.isInteger(C)?(0,g.nd)(C):(0,g.gd)(C))}if(p.text&&S)return(0,g.Qq)(S);if(p.dateTime){var u=m.value.dateValue;if(u)return y?(0,g.KQ)(u):(0,g.b5)(i.yr.Second,(0,g.KQ)(u))}}}(p,this.dataType,this.isMappedToMParameter)}}},724395:function(me,j,e){e.d(j,{V4:function(){return i},j9:function(){return t}});var r=e(394783);function i(l,g,n,d,s,h){return{parentContract:l,visual:{viewport:h?n:r.h.adjustViewport(l.detailVisualLayout,n,d),themeCollection:g,allowInvalidDataView:!0,hostServices:null,visualName:l.name+"-detail"},hasData:!1}}var t=function(l){return l[l.Start=0]="Start",l[l.Stop=1]="Stop",l}({})},614038:function(me,j,e){e.d(j,{ID:function(){return i},_5:function(){return a},u8:function(){return r}});var r=function(t){return t[t.Default=0]="Default",t[t.QuickExplore=1]="QuickExplore",t[t.DataExploration=2]="DataExploration",t}({}),i=function(t){return t[t.DuplicateSection=0]="DuplicateSection",t[t.RenameSection=1]="RenameSection",t[t.DeleteSection=2]="DeleteSection",t[t.ToggleVisibility=3]="ToggleVisibility",t[t.MoveLeft=4]="MoveLeft",t[t.MoveRight=5]="MoveRight",t[t.MoveToFront=6]="MoveToFront",t[t.MoveToEnd=7]="MoveToEnd",t[t.CopyObjectName=8]="CopyObjectName",t}({}),a=function(t){return t[t.FullScreen=0]="FullScreen",t[t.Search=1]="Search",t}({})},393135:function(me,j,e){e.d(j,{c:function(){return a},g:function(){return t}});var r=e(339131),i=e(287171),a={phoneWidth:i.u1,phoneHeight:i.Hw,phoneGridLayout:{columnCount:i.nT,rowCount:i.ji,newVisualCellCount:{width:6,height:6}}};class t{constructor(g,n=r.v.Master){this.selectedVisualOriginalPosition=-1,this.contract=g,this.canvasLayout=n}get width(){return this.canvasLayout===r.v.Master?this.contract.size&&this.contract.size.width:a.phoneWidth}get height(){return this.canvasLayout===r.v.Master?this.contract.size&&this.contract.size.height:a.phoneHeight}}},957557:function(me,j,e){e.d(j,{HS:function(){return E},Ix:function(){return m},Oj:function(){return y},Re:function(){return c},SV:function(){return S},_r:function(){return h},cZ:function(){return C},d4:function(){return u},e5:function(){return o},kW:function(){return p},x8:function(){return s},zB:function(){return D}});var r=e(662785),i=e(113577),a=e(785463),t=e(659956),l=e(160800),g=e(759520),n=e(574324),d=e(356394),s=(b,T,M)=>{var V=T?"_paneColorRefresh":"",w=b.fieldType;if(w===D.DisplayFolder)return"fieldListFolder"+V;if(w===D.KpiMeasure)return"none";if(w===D.Hierarchy)return"fieldListHierarchy"+V;if(w===D.RowCount)return"fieldListMeasure"+V;if(b.contract.queryable===l.IW.Error)return"fieldListError"+V;if(b.kind===l.ye.Measure)return b.contract.measure&&b.contract.measure.kpi&&b.fieldType===D.Kpi?"fieldListKpi"+V:b.contract.measure&&b.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+V:"fieldListMeasure"+V;if(void 0!==b.contract.type&&void 0!==b.contract.type.geography)return"fieldListGeoData"+V;if(b.kind===l.ye.Column){var P=b.contract.column;if(P){if(P.parameterMetadata)return"fieldListParameter"+V;if(P.groupingMetadata)return"fieldListGroup"+V;if(P.calculated)return b.type&&b.type.numeric?"fieldListNumericCalculatedColumn"+V:"fieldListCalculatedColumn"+V;if(!_.isEmpty(P.variations)&&b.type.dateTime)return"fieldListCalendar"+V}if(b.idOnEntityKey)return"fieldListIdentity"+V}return b.type&&b.type.numeric&&b.defaultAggregate!==l.xx.None&&M?"fieldListNumeric"+V:"none"},h=(()=>{class b{get name(){return this.contract.name}get canEdit(){return this.contract.capabilities.canEdit&&!this.disableEditing}get canCreateColumn(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns}constructor(M){a.Y.assertValue(M,"contract"),this.contract=M,this.showCheckboxes=!0,this.entities=[]}findEntity(M){return _.find(this.entities,V=>V.name===M)}findFields(M,V,w){var P=this.findEntity(M);if(P)return P.findFields(V,w)}findHierarchies(M,V,w){var P=this.findEntity(M);if(P)return P.findHierarchies(V,w)}findKpis(M,V,w){var P=this.findEntity(M);if(P)return P.findKpis(V,w)}findKpiMeasures(M,V,w){var P=this.findEntity(M);if(P)return P.findKpiMeasures(V,w)}findItems(M){var V=[];if((0,r.VT)(M)||(0,r.AH)(M))return V;var w=(0,n.F)(M),P=(0,g.WE)(w);if(w){var N=w.hierarchyLevel||w.hierarchyLevelAggr;if(N){a.Y.assert(()=>1===_.size(P),"hierarchy level should only have 1 underlying entity");var I=this.findHierarchies(P[0].entity,N.name,N.schema);if(I)for(var O of I)for(var R of(V.push(O),O.hierarchyLevels))R.name===N.level&&V.push(R)}else if(w.columnHierarchyLevelVariation){var W=w.columnHierarchyLevelVariation.source.name;a.Y.assert(()=>1===_.size(P),"variations should only have 1 underlying entity");var F=this.findFields(P[0].entity,W,P[0].schema);if(!F)return V;for(var U of F){V.push(U);var B=U.properties;if(B)for(var x of B)if(x instanceof C&&x.name===w.columnHierarchyLevelVariation.level.name)for(var A of(V.push(x),x.hierarchyLevels))A.name===w.columnHierarchyLevelVariation.level.level&&V.push(A)}}else{var L=(0,g.E0)(w);a.Y.assert(()=>!L||_.size(P)===_.size(L),"There should be equal number of properties and entities");for(var Y=0;Y<P.length;Y++){var z=P[Y],H=L?.[Y],Z=this.findFields(z.entity,H,z.schema)||this.findKpiMeasures(z.entity,H,z.schema);if(Z)for(var k of Z)V.push(k)}}}return V}static getUniqueId(){return b._uid++}}return b._uid=0,b})();class o{get name(){return this.contract.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return this.contract.errorMessage}get calculated(){return this.contract.calculated}get iconClassName(){return this.contract.queryable===l.IW.Error?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0}get hidden(){return(0,t.Lt)(this.contract.visibility,l.Tg.Hidden)&&_.every(this.properties,T=>!T.isExtension||T.hidden)}set hidden(T){this.contract.visibility=T?(0,t.lA)(this.contract.visibility,l.Tg.Hidden):(0,t.wi)(this.contract.visibility,l.Tg.Hidden)}get canEdit(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,d.zI)(this.contract)}get private(){return(0,t.Lt)(this.contract.visibility,l.Tg.IsPrivate)}get showAsVariationsOnly(){return(0,t.Lt)(this.contract.visibility,l.Tg.ShowAsVariationsOnly)}get showHidden(){return this.schema.showHidden}get canRefresh(){return this.canEdit&&this.contract.capabilities.canRefresh}get canHaveMeasures(){return this.contract.capabilities.canHaveMeasures}get canEditEntity(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource}get canDelete(){return this.canEdit&&this.contract.capabilities.canDelete}get canRename(){return this.canEdit&&this.contract.capabilities.canRename}constructor(T,M,V){this.hasCheckedProperties=!1,a.Y.assertValue(T,"contract"),a.Y.assertValue(M,"contractSchema"),a.Y.assertValue(V,"schema"),this.contract=T,this.contractSchema=M,this.schema=V,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}findFields(T,M){return this.findFieldsByType(T,M,D.Property)}findKpis(T,M){return this.findFieldsByType(T,M,D.Kpi)}findKpiMeasures(T,M){return this.findFieldsByType(T,M,D.KpiMeasure)}findHierarchies(T,M){return this.findFieldsByType(T,M,D.Hierarchy)}findFieldsByType(T,M,V){var w=[];for(var P of(V===D.Hierarchy?w.push(..._.filter(this.hierarchies,I=>I.name===T&&I.schema.name===M)):w.push(..._.filter(this.properties,I=>I.name===T&&I.fieldType===V&&I.schemaName===M)),this.displayFolders))for(var N of _.filter(P.getAllChildren(),I=>I.name===T&&I.fieldType===V))w.indexOf(N)<0&&w.push(N);if(!_.isEmpty(w))return w}get userEntity(){return!(this.private||this.showAsVariationsOnly)}}class v{get children(){return this._children}set children(T){this._children=T}get name(){return this.contract.name}get schemaName(){return this.schema.name}get displayName(){return this.displayNameOverride||this.contract.displayName}get description(){return this.contract.description}get errorMessage(){return null}get visible(){return!this.parent||this.parent.expanded&&this.parent.visible}get hidden(){return this.contract.hidden}set hidden(T){this.contract.hidden=T}get showHidden(){return this.entity.showHidden}get canEdit(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing}get disableDragging(){return this.entity.schema.disableDragging}get disableSelectionOnFocus(){return this.entity.schema.disableSelectionOnFocus}get showCheckboxes(){return this.entity.schema.showCheckboxes}get isExtension(){return!1}constructor(T,M,V){this.hasCheckedChildren=!1,a.Y.assertValue(T,"contract"),a.Y.assertValue(M,"schema"),a.Y.assertValue(V,"entity"),this.contract=T,this.schema=M,this.entity=V,this.id=h.getUniqueId()}}class m extends v{get kind(){return this.contract.kind}get defaultAggregate(){return this.contract.column?this.contract.column.defaultAggregate:null}get type(){return this.contract.type}get idOnEntityKey(){return!!this.contract.column&&this.contract.column.idOnEntityKey}get errorMessage(){return this.contract.errorMessage}get canDelete(){return this.canEdit&&!1!==this.contract.canDelete}get canAddToFilter(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns}get properties(){return this.children}constructor(T,M,V,w,P){super(T,M,V),this.children=[],this.originalEntity=w,this.variation=P,this.expanded=!1,this.draggable=!this.disableDragging,this.fieldType=D.Property}clone(){return new m(this.contract,this.schema,this.entity)}}class p extends v{get defaultAggregate(){return l.xx.Count}get isExtension(){return!1}constructor(T,M,V){a.Y.assertValue(T,"contract"),a.Y.assertValue(M,"schema"),a.Y.assertValue(V,"entity"),super(T,M,V),this.fieldType=D.RowCount}clone(){return new p(this.contract,this.schema,this.entity)}}class y extends m{get defaultAggregate(){return l.xx.Sum}get idOnEntityKey(){return!1}get isExtension(){return!0}constructor(T,M,V){super(T,M,V)}clone(){return new y(this.contract,this.schema,this.entity)}}class S extends m{constructor(T,M,V,w,P,N){a.Y.assertValue(T,"contract"),a.Y.assertValue(V,"parent"),a.Y.assertValue(w,"entity"),super(T.column,M,w),this.originalEntity=P,this.variation=N,this.hierarchyLevelContract=T,this.parent=V,this.fieldType=D.HierarchyLevel}get hidden(){return this.parent.hidden}get name(){return this.hierarchyLevelContract.name}get displayName(){return this.displayNameOverride||this.hierarchyLevelContract.displayName}get description(){return this.hierarchyLevelContract.description}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete}clone(T){return new S(this.hierarchyLevelContract,this.schema,T||this.parent,this.entity)}}class C extends v{get properties(){return this.hierarchyLevels}get children(){return this.hierarchyLevels}get canDelete(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete}constructor(T,M,V,w,P){super(T,M,V),this.expanded=!1,this.hierarchyLevels=[],this.originalEntity=w,this.variation=P,this.draggable=!this.disableDragging,this.fieldType=D.Hierarchy}findLevel(T,M){return _.find(this.hierarchyLevels,V=>V.name===T)}clone(){var T=new C(this.contract,this.schema,this.entity);return T.hierarchyLevels=_.map(this.hierarchyLevels,M=>M.clone(T)),T}}class u extends v{get kind(){return this.contract.kind}get properties(){return this.kpiMeasures}get children(){return this.kpiMeasures}constructor(T,M,V){super(T,M,V),this.expanded=!1,this.kpiMeasures=[],this.fieldType=D.Kpi}clone(){var T=new u(this.contract,this.schema,this.entity);return T.kpiMeasures=_.map(this.kpiMeasures,M=>M.clone(T)),T}}class E extends m{constructor(T,M,V,w,P,N){a.Y.assertValue(T,"contract"),a.Y.assertValue(P,"entity"),a.Y.assertValue(V,"kpiType"),a.Y.assertValue(w,"kpiParent"),a.Y.assertValue(N,"locOptions"),super(T,M,P),this.kpiType=V,this.parent=w,this.locOptions=N,this.draggable=!this.disableDragging,this.fieldType=D.KpiMeasure}get displayName(){var T;switch(this.kpiType){case i.v7.Value:T=this.locOptions.KpiValueDisplayName;break;case i.v7.Goal:T=this.locOptions.KpiGoalDisplayName;break;case i.v7.Status:T=this.locOptions.KpiStatusDisplayName;break;case i.v7.Trend:T=this.locOptions.KpiTrendDisplayName;break;default:a.Y.assertFail("Unknown KpiType")}return this.displayNameOverride||T||this.contract.displayName}clone(T){return new E(this.contract,this.schema,this.kpiType,T||this.parent,this.entity,this.locOptions)}}class c extends v{get hidden(){return!_.some(this.children,T=>!T.hidden)}set hidden(T){a.Y.assertFail("Should never hide display folder directly")}constructor(T,M,V,w,P){for(var N of(super(T,w,P),this.expanded=!1,this.parent=V,this.children=M,this.fieldType=D.DisplayFolder,M))N.parent=this}clone(){a.Y.assertFail("NotImplemented")}getAllChildren(){var T=[];for(var M of this.children)T.push(M),M.fieldType===D.DisplayFolder&&T.push(...M.getAllChildren()||[]);return T}}var D=function(b){return b[b.Property=0]="Property",b[b.DisplayFolder=1]="DisplayFolder",b[b.Hierarchy=2]="Hierarchy",b[b.HierarchyLevel=3]="HierarchyLevel",b[b.Kpi=4]="Kpi",b[b.KpiMeasure=5]="KpiMeasure",b[b.RowCount=6]="RowCount",b}({})},321046:function(me,j,e){e.d(j,{KU:function(){return l}});var r=e(691605),i=e(957557),a=e(5558),t=e(680550);function l(d,s,h,o){var v=new t.i(d.displayFolders),m=_.keyBy(d.displayFolders,u=>u.name);if(!_.isEmpty(h))for(var p of h){var y=function(u){var E=s.indexOf(s.filter(c=>c.name===u.name)[0]);E>=0?s[E]=g(s[E],u):s=s.concat(u)};for(var S of p.entity.displayFolders)y(S)}if(!_.isEmpty(s))for(var C of s)v.add(n(d,void 0,C,m,o));d.displayFolders=v.merge(),d.properties.push(...d.displayFolders||[])}function g(d,s){if(s){if(s===d)return d;var h=new Set(_.map(d.properties,y=>y.name));for(var o of s.properties)h.has(o.name)||d.properties.push(o);for(var v of s.hierarchies)d.hierarchies.push(v);var m=function(y){var S=d.displayFolders.indexOf(d.displayFolders.filter(C=>C.name===y.name)[0]);S>=0?d.displayFolders[S]=g(d.displayFolders[S],y):d.displayFolders.push(y)};for(var p of s.displayFolders)m(p)}return d}function n(d,s,h,o,v){var m=o[h.name];if(m){m.contract=h;var p=new t.i(m.children);if(h.properties){var y=_.filter(m.children,N=>N.fieldType!==i.zB.DisplayFolder&&N.fieldType!==i.zB.Hierarchy),S=_.keyBy(y,N=>N.name);for(var C of h.properties){var u=S[C.name];u||((u=(_.head(d.findFields(C.name,m.schemaName))||_.head(d.findFields(C.name,r.IW))||_.head(d.findKpis(C.name,m.schemaName))).clone()).parent=m),p.add(u)}}if(h.hierarchies){var c=_.filter(m.children,N=>N.fieldType===i.zB.Hierarchy),f=_.keyBy(c,N=>N.name);for(var D of h.hierarchies){var b=f[D.name];b||((b=_.head(d.findHierarchies(D.name,m.schemaName)).clone()).parent=m),p.add(b)}}if(h.displayFolders){var M=_.filter(m.children,N=>N.fieldType===i.zB.DisplayFolder),V=_.keyBy(M,N=>N.name);for(var w of h.displayFolders)p.add(n(d,m,w,V,v))}m.children=p.merge(),(new a.n).sortProperties(m.children)}else m=v.convertConceptualDisplayFolder(h,d.contractSchema,s,d);return m}},971724:function(me,j,e){e.d(j,{R:function(){return d}});var r=e(113577),i=e(785463),a=e(160800),t=e(957557),l=e(321046),g=e(283919),n=e(356394);function d(h,o,v=!1){return new s(h,o,v)}class s{constructor(o,v,m=!1){this.withRowCounts=!1,i.Y.assertValue(o,"localizationService"),i.Y.assertValue(v,"featureSwitchService"),this.localizationService=o,this.withRowCounts=m}createModel(o,v,m,p){i.Y.assertValue(o,"federatedSchema");var y,S=o.schemas,C=(0,g.v5)(S);for(var u of S=(0,g.Q9)(S))y=this.convertConceptualSchema(u,y,C,v,m,p);return y}convertConceptualSchema(o,v,m,p,y,S){(v=v||new t._r(o)).disableDragging=y;var C=_.filter(o.entities,E=>!(0,n.o)(E)||(0,n.zI)(E)),u=_.map(C,E=>this.convertConceptualEntity(E,o,v,m));return v.entities.push(...u||[]),v.disableEditing=p,v.disableSelectionOnFocus=S,v}convertConceptualEntity(o,v,m,p){var c,y=new t.e5(o,v,m);if(y.properties=[],o.properties&&!(0,n.o)(o))for(var S of o.properties)if(S.measure&&S.measure.kpi){var C=this.convertConceptualKpi(S,v,y);y.columnsAndMeasures.push(C),y.properties.push(C)}else if(!S.kpiValue){var u=this.convertConceptualProperty(S,v,y);y.columnsAndMeasures.push(u),y.properties.push(u)}if(y.isMeasureGroup=(0,g.qt)(o.properties),y.expanded=!1,o.hierarchies&&o.hierarchies.length>0)for(var E of(y.hierarchies=_.map(o.hierarchies,w=>this.convertConceptualHierarchy(w,v,y)),y.hierarchies))y.properties.push(E);if(p){var f=(0,n.VL)(v.name,o.name);if(c=p.entities[f])for(var D of c)for(var b of D.entity.properties){var T=this.convertConceptualExtensionMeasure(b,D.schema,y);y.properties.push(T)}}if((0,l.KU)(y,o.displayFolders,c,this),(0,g.Oi)(y.properties),(0,g.ju)(y.properties,y.displayFolders),(0,g.S1)(y),(0,g.o4)(y),this.withRowCounts&&o.visibility===a.Tg.Visible&&!v.capabilities.discourageQueryAggregateUsage){var V=this.createConceptualRowCount(v,y);y.properties.unshift(V)}return y}convertConceptualDisplayFolder(o,v,m,p){var y={},S={};for(var C of p.properties)C.fieldType===t.zB.HierarchyLevel||C.fieldType===t.zB.Hierarchy?S[C.name]=C:y[C.name]=C;return this.convertConceptualDisplayFolderCore(o,v,m,y,S,p)}convertConceptualDisplayFolderCore(o,v,m,p,y,S){var C=[];for(var u of o.properties)if(u){var E=p[u.name];E&&C.push(E.clone())}for(var c of o.hierarchies)if(c){var f=y[c.name];f&&C.push(f.clone())}var D=new t.Re(o,C,m,v,S);for(var b of o.displayFolders)D.children.push(this.convertConceptualDisplayFolderCore(b,v,D,p,y,S));return(0,g.Oi)(D.children),D}convertConceptualHierarchy(o,v,m,p,y){var S=new t.cZ(o,v,m,p,y);for(var C of(S.hierarchyLevels=[],o.levels))S.hierarchyLevels.push(this.convertConceptualHierarchyLevel(C,v,S));return S}convertConceptualHierarchyLevel(o,v,m){return new t.SV(o,v,m,m.entity,m.originalEntity,m.variation)}convertConceptualProperty(o,v,m){var p=new t.Ix(o,v,m);for(var y of(0,g.wX)(o))p.children.push(this.convertConceptualVariationHierarchy(y,v,p));return p}convertConceptualVariationHierarchy(o,v,m){var p=this.convertConceptualHierarchy(o.defaultHierarchy,v,m.entity,o.navigationProperty.targetEntity,o.name);return p.parent=m,p}convertConceptualExtensionMeasure(o,v,m){return new t.Oj(o,v,m)}convertConceptualKpi(o,v,m){var p=new t.d4(o,v,m),y={};y.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),y.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),y.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),y.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var S=o.measure.kpi,C=S.goal,u=S.status,E=S.trend;return p.kpiMeasures=[],p.kpiMeasures.push(this.convertConceptualKpiMeasure(o,v,r.v7.Value,p,m,y)),C&&p.kpiMeasures.push(this.convertConceptualKpiMeasure(C,v,r.v7.Goal,p,m,y)),u&&p.kpiMeasures.push(this.convertConceptualKpiMeasure(u,v,r.v7.Status,p,m,y)),E&&p.kpiMeasures.push(this.convertConceptualKpiMeasure(E,v,r.v7.Trend,p,m,y)),p}convertConceptualKpiMeasure(o,v,m,p,y,S){return new t.HS(o,v,m,p,y,S)}createConceptualRowCount(o,v){var m={name:v.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new t.kW(m,o,v)}}},855482:function(me,j,e){e.d(j,{QR:function(){return v}});var r=e(5558),i=e(113577),a=e(785463),t=e(957557),l=e(321046),g=e(283919),n=e(356394),h=e(680550);class o{constructor(p,y,S,C,u,E){this.factory=p,this.sorter=y,this.disableEditing=S,this.disableDragging=C,this.disableSelectionOnFocus=u,this.schemaChanges=E?E.changes:[]}mergeFieldList(p,y){return(!p||!y)&&(p={schema:void 0,isLoaded:!1}),y&&_.some(y.schemas)&&(p.schema=this.mergeSchemas(p,y),p.isLoaded=!0),p}mergeSchemas(p,y){var S=p.schema;if(S){var C=(0,g.v5)(y.schemas),u=(0,g.Q9)(y.schemas);S.contract=_.find(u,b=>!(0,n.o)(b));var E=new h.i(S.entities);for(var c of u)for(var f of c.entities)if(!(0,n.o)(f)||(0,n.zI)(f)){var D=this.mergeEntity(S,c,f,C);c===S.contract&&E.add(...D||[])}S.entities=E.merge(),this.sorter.sortEntities(S.entities)}else S=this.factory.createModel(y,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return S}mergeEntity(p,y,S,C){a.Y.assertValue(S,"entity");var u=this.findEntityVm(p,S);if(u){u.contract=S,u.contractSchema=y;var E=new h.i(u.properties),c=new h.i(u.columnsAndMeasures),f=new h.i(u.hierarchies),D=new h.C(u,this.schemaChanges);if(!(0,n.o)(S))for(var b of S.properties){var T=this.mergePropertyMeasureOrKpi(u,y,b,D);E.add(...T||[]),c.add(...T||[])}for(var M of S.hierarchies){var V=this.mergeHierarchy(u,y,M,D);E.add(...V||[]),f.add(...V||[])}var w=C.entities[(0,n.VL)(y.name,S.name)];if(w)for(var P of w)for(var N of P.entity.properties){var I=this.mergeExtensionMeasure(u,P.schema,N,D);E.add(...I||[]),c.add(...I||[])}u.columnsAndMeasures=c.merge(O=>!O.parent),u.hierarchies=f.merge(O=>!O.parent),u.properties=E.merge(O=>!O.parent),(0,l.KU)(u,S.displayFolders,w,this.factory),this.sorter.sortProperties(u.properties),(0,g.ju)(u.properties,u.displayFolders),(0,g.S1)(u),(0,g.o4)(u)}else u=this.factory.convertConceptualEntity(S,y,p,C);return[u]}findEntityVm(p,y){var S=y.name,C=_.find(this.schemaChanges,E=>E.entityRename&&E.entityRename.after===y.name);C&&(S=C.entityRename.before);var u=p.findEntity(S);return u&&(0,n.zI)(u.contract)!==(0,n.zI)(y)?null:u}mergePropertyMeasureOrKpi(p,y,S,C){if(!(0,n.o)(S)){if(a.Y.assertValue(m=S,"contract"),m.measure&&m.measure.kpi)return this.mergeKpi(p,y,S,C);if(!function(m){return a.Y.assertValue(m,"contract"),!!m.kpiValue}(S))return this.mergeProperty(p,y,S,C)}var m}mergeProperty(p,y,S,C){var u=C.findVms(y.name,S.name,t.zB.Property);if(u=_.filter(u,D=>!D.isExtension),_.isEmpty(u))u=[this.factory.convertConceptualProperty(S,y,p)];else for(var E of u){E.contract=S,E.schema=y;var c=new h.i(E.children);for(var f of(0,g.wX)(S))c.add(this.mergeVariationHierarchy(E,y,f));E.children=c.merge()}return u}mergeVariationHierarchy(p,y,S){var C=_.find(p.children,u=>u instanceof t.cZ&&u.variation===S.name);return C?this.updateHierarchyVm(p.entity,C,S.defaultHierarchy,y):C=this.factory.convertConceptualVariationHierarchy(S,y,p),C}mergeExtensionMeasure(p,y,S,C){var u=C.findVms(y.name,S.name,t.zB.Property);return u=_.filter(u,E=>E.isExtension),_.isEmpty(u)?u=[this.factory.convertConceptualExtensionMeasure(S,y,p)]:_.forEach(u,E=>{E.contract=S,E.schema=y}),u}mergeKpi(p,y,S,C){var u=C.findVms(y.name,S.name,t.zB.Kpi);if(_.isEmpty(u))u=[this.factory.convertConceptualKpi(S,y,p)];else for(var E of u){E.contract=S,E.schema=y;var c=new h.i(E.kpiMeasures);c.add(this.mergeKpiMeasure(y,E,S,i.v7.Value)),S.measure.kpi.goal&&c.add(this.mergeKpiMeasure(y,E,S.measure.kpi.goal,i.v7.Goal)),S.measure.kpi.status&&c.add(this.mergeKpiMeasure(y,E,S.measure.kpi.status,i.v7.Status)),S.measure.kpi.trend&&c.add(this.mergeKpiMeasure(y,E,S.measure.kpi.trend,i.v7.Trend)),E.kpiMeasures=_.some(c,f=>null===f)?this.factory.convertConceptualKpi(S,y,p).kpiMeasures:c.merge()}return u}mergeKpiMeasure(p,y,S,C){var u=_.find(y.kpiMeasures,E=>E.kpiType===C);return u?(u.contract=S,u.schema=p,u):null}mergeHierarchy(p,y,S,C){var u=C.findVms(y.name,S.name,t.zB.Hierarchy);if(_.isEmpty(u)){var E=this.factory.convertConceptualHierarchy(S,y,p);_.some(this.schemaChanges,f=>f.hierarchyCreate&&f.hierarchyCreate.entity===p.name&&f.hierarchyCreate.name===E.name)&&(E.expanded=!0),u=[E]}else for(var c of u)this.updateHierarchyVm(p,c,S,y);return u}updateHierarchyVm(p,y,S,C){y.contract=S,y.schema=C;var u=_.keyBy(y.hierarchyLevels,D=>D.name),E=new h.i(y.hierarchyLevels);for(var c of S.levels){var f=this.mergeHierarchyLevel(p,y,C,c,u);E.add(f)}y.hierarchyLevels=E.merge()}mergeHierarchyLevel(p,y,S,C,u){var E=this.findHierarchyLevel(p,y,S,C,u);return E?(E.contract=C.column,E.hierarchyLevelContract=C,E.schema=S):E=this.factory.convertConceptualHierarchyLevel(C,S,y),E}findHierarchyLevel(p,y,S,C,u){var E=C.name,c=_.find(this.schemaChanges,f=>f.hierarchyLevelRename&&f.hierarchyLevelRename.entity===p.contract.name&&f.hierarchyLevelRename.hierarchy===y.contract.name&&f.hierarchyLevelRename.after===E);return c&&(E=c.hierarchyLevelRename.before),u[E]}}function v(m,p,y,S,C,u,E){return new o(y,new r.n,C,u,E,S).mergeFieldList(m,p)}},283919:function(me,j,e){e.d(j,{Oi:function(){return h},Q9:function(){return n},S1:function(){return p},ju:function(){return v},o4:function(){return d},pz:function(){return o},qt:function(){return l},v5:function(){return g},wX:function(){return u}});var r=e(785463),i=e(160800),a=e(957557),t=e(356394);function l(E){return _.find(E,c=>!c.hidden)&&!_.find(E,c=>!c.hidden&&c.kind!==i.ye.Measure&&c.kind!==i.ye.Kpi)}function g(E){var c={entities:{}};for(var f of E)if((0,t.o)(f)){var D=f.extends;for(var b of f.entities)if((0,t.o)(b)){var T={schema:f,entity:b},M=(0,t.VL)(D,b.name),V=c.entities[M];V?V.push(T):c.entities[M]=V=[T]}}return c}function n(E){var c=_.filter(E,D=>!(0,t.o)(D)),f=_.filter(E,D=>(0,t.o)(D));return _.union(c,f)}function d(E){var c=E.properties,f=[];for(var D of c)s(f,D);E.properties=f}function s(E,c){if(r.Y.assertValue(E,"properties"),r.Y.assertValue(c,"property"),E.push(c),(c instanceof a.d4||c instanceof a.cZ||c instanceof a.Ix)&&!_.isEmpty(c.properties))for(var f of c.properties)s(E,f)}function h(E){E&&E.sort((c,f)=>o(c.displayName,f.displayName))}function o(E,c){return E=(E||"").toLocaleUpperCase(),c=(c||"").toLocaleUpperCase(),E.localeCompare(c)}function v(E,c){if(!_.isEmpty(E)){var f={};m(c,f),_.remove(E,D=>D.fieldType!==a.zB.DisplayFolder&&f[D.name])}}function m(E,c){if(!_.isEmpty(E)){var f=[];for(var D of E)for(var b of D.children)b.fieldType===a.zB.DisplayFolder?f.push(b):c[b.name]=b;m(f,c)}}function p(E){var c=[];y(E.properties,c),E.properties=c}function y(E,c){for(var f of E)c.push(f),f.fieldType===a.zB.DisplayFolder&&y(f.children,c)}function u(E){var c=[];if(E.column&&E.column.variations)for(var f of E.column.variations){var D=f.navigationProperty.targetEntity,b=f.defaultHierarchy;D&&D.hierarchies&&b&&!b.hidden&&c.push(f)}return c}},356394:function(me,j,e){function r(t,l){return JSON.stringify({e:l})}function i(t){return t.hasOwnProperty("extends")}function a(t){return t.isAbandoned}e.d(j,{VL:function(){return r},o:function(){return i},zI:function(){return a}})},794055:function(me,j,e){e.d(j,{Og:function(){return M},dm:function(){return D}});var r=e(662785),i=e(725793),a=e(460169),t=e(64974),l=e(829632),g=e(932701),n=e(712813),d=e(347232),s=e(785463),h=e(147293),o=e(981265),v=e(160800),m=e(329332),p=e(759520),y=e(574324),S=e(627201),C=e(446024),u=e(676741),E=e(669129),c=e(822874),f=e(511334);function D(P,N,I,O,R,W,F,U,B){var x=new b(P,R,W,N,I,O,F,U,B);return(0,p.YR)((0,y.F)(P),x)??[]}class b{constructor(N,I,O,R,W,F,U,B,x){this.sqExpr=N,this.dataRoleKind=I,this.requiredTypes=O,this.schema=R,this.aggrOps=W,this.hasHierarchyLevels=F,this.localizationService=U,this.forceAggregateItems=B,this.aggregatesConstraint=x}visitEntity(N){return this.createMenuItems(this.sqExpr)}visitColumn(N){return this.createMenuItems(this.sqExpr)}visitColumnAggr(N){return this.createMenuItems(this.sqExpr)}visitGroupingColumn(N){return this.createMenuItems(this.sqExpr)}visitGroupingColumnAggr(N){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyVariation(N){return this.createMenuItems(this.sqExpr)}visitColumnHierarchyLevelVariation(N){return this.createMenuItems(this.sqExpr)}visitColumnSubquery(N){return[]}visitColumnAggrSubquery(N){return[]}visitColumnTransformRef(N){return[]}visitEntityAggr(N){return this.createMenuItems(this.sqExpr)}visitHierarchy(N){return this.createMenuItems(this.sqExpr)}visitHierarchyLevel(N){return this.createMenuItems(this.sqExpr)}visitHierarchyLevelAggr(N){return this.createMenuItems(this.sqExpr)}visitMeasure(N){return[]}visitPercentOfGrandTotal(N){return this.createMenuItemsForPercentOfTotal((0,S.to)(N.baseExpr))}visitPercentOfRoleTotal(N){return this.createMenuItemsForPercentOfTotal((0,S.to)(N.baseExpr))}visitPercentile(N){return[]}visitSelectRef(N){return[]}visitFilteredEval(N){return this.createMenuItems((0,S.to)(N.baseExpr))}visitArithmetic(N){return[]}visitConstant(N){return s.Y.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]}visitSparklineData(N){return[]}visitNativeVisualCalc(N){return[]}createMenuItemsForPercentOfTotal(N){var I=(0,u.s)(N,this.schema)?.getMetadata(this.schema);if(!I)return[];var O=I.type;return this.createMenuItems(N,O.text||O.dateTime||O.duration?[a.Sn.Min,a.Sn.Max]:[])}createMenuItems(N,I=[]){var O=[];if(!this.hasHierarchyLevels&&_.isEmpty(N.validate(this.schema,this.aggrOps))&&!E.B.discourageAggregation(N,this.schema)){var W=this.dataRoleKind===h.Ts.GroupingOrMeasure,F=this.dataRoleKind!==h.Ts.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(N,this.schema,this.requiredTypes):[];for(var B of(_.isEmpty(this.aggregatesConstraint)||(F=_.intersection(F,this.aggregatesConstraint)),F=_.difference(F,I),(W&&!function(P,N){return P.getConceptualProperty(N)?.kind===v.ye.Measure}(N,this.schema)&&!function(P,N){return!!(0,y.F)(P,N)?.entityAggr}(N,this.schema)||this.forceAggregateItems&&!_.isEmpty(F))&&O.push({key:{action:i.HT.RemoveAggregate},text:this.localizationService.get("FieldWell_RemoveAggregate")}),F))O.push({key:{action:i.HT.SetAggregate,aggregate:B},text:this.localizationService.get("Aggregate_"+(0,l.D)(B,(0,u.s)(this.sqExpr,this.schema).getMetadata(this.schema)))})}return O}visitTransformOutputRoleRef(N){return[]}}class T{constructor(N,I,O,R,W,F,U,B,x,A,L,Y,z,H,Z){if(this.property=N,this.bucket=I,this.buckets=O,this.dataRole=R,this.forceAggregateItems=W,this.schema=F,this.aggrOps=U,this.visual=B,this.featureSwitchService=x,this.groupingDesignStateService=A,this.showValueAsService=L,this.localizationService=Y,this.visualContainer=z,this.visualCalcEagerService=H,this.explorationCapabilitiesService=Z,this.menuItems=[],this.conditionalFormattingOptions=[],this.supportedOperations=this.property.supportedOperations??i.HT.All,this.supports(i.HT.Delete)&&this.addItems([{key:{action:i.HT.Delete},text:this.localizationService.get("FieldWell_Remove")}],!1),this.property.interactivityOptions.isEditableField&&this.supports(i.HT.Rename)&&this.addItems([{key:{action:i.HT.Rename},text:this.localizationService.get("FieldWell_RenameForThisVisual")}],!1),this.supports(i.HT.SubMenu)){var k=(0,n.E8)(this.visualContainer);!k&&this.bucket.properties.length>1&&this.addItems([this.createMoveGroupMenuItem()],!1),!k&&this.buckets.length>1&&this.supports(i.HT.MoveBucket)&&this.addItems([{key:{action:i.HT.SubMenu},text:this.localizationService.get("ItemAction_MoveTo"),children:this.buckets.filter(K=>!this.bucket.equals(K)).map(K=>({type:o.xU.Item,text:K.displayName,key:{action:i.HT.MoveBucket,moveFieldBucketOptions:{role:K.role,targetIndex:K.properties?.length??0,displayName:K.displayName}},disabled:K.disabled}))}],!1)}this.visual&&(this.conditionalFormattingOptions=(this.property.conditionalFormattingRepetitions??[]).map(K=>({repetition:K,propertyDefinition:(0,d.Ao)(this.visual.objects,K)})))}visitEntity(N){return s.Y.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems}visitColumn(N){return this.supports(i.HT.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.HT.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.HT.SetShowValueAs)&&this.addShowValueAsMenuItem(N.schema),this.supports(i.HT.NewQuickCalc)&&this.addQuickCalcMenuItem(N.schema),this.supports(i.HT.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.HT.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.HT.SetVariation)&&this.addVariationsMenuItems(N),this.supports(i.HT.SetGroups)&&this.addGroupsMenuItems(N),this.addFieldParameterMenuItems(),this.menuItems}visitColumnAggr(N){return this.supports(i.HT.AddSparklines)&&this.addSparklineMenuItem(N.schema),this.supports(i.HT.SetConditionalFormatting)&&this.addConditionalFormattingMenuItems(),this.supports(i.HT.SetAggregate)&&this.addAggregateMenuItems(),this.supports(i.HT.SetShowValueAs)&&this.addShowValueAsMenuItem(N.schema),this.supports(i.HT.NewQuickCalc)&&this.addQuickCalcMenuItem(N.schema),this.supports(i.HT.ShowAll)&&this.addShowAllMenuItem(),this.supports(i.HT.RestoreHierarchy)&&this.addHierarchiesMenuItems(),this.supports(i.HT.SetVariation)&&this.addVariationsMenuItems(N),this.addFieldParameterMenuItems(),this.menuItems}visitGroupingColumn(N){return this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(N),this.addGroupsMenuItems(N),this.menuItems}visitGroupingColumnAggr(N){return this.addSparklineMenuItem(N.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.addVariationsMenuItems(N),this.menuItems}visitColumnHierarchyVariation(N){return s.Y.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems}visitColumnHierarchyLevelVariation(N){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.source.schema),this.addQuickCalcMenuItem(N.source.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitColumnSubquery(N){return s.Y.assertFail("Should not be called"),this.menuItems}visitColumnAggrSubquery(N){return s.Y.assertFail("Should not be called"),this.menuItems}visitColumnTransformRef(N){return s.Y.assertFail("Should not be called"),this.menuItems}visitEntityAggr(N){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.menuItems}visitHierarchy(N){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevel(N){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.addHierarchiesMenuItems(),this.menuItems}visitHierarchyLevelAggr(N){return this.addSparklineMenuItem(N.schema),this.addConditionalFormattingMenuItems(),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.menuItems}visitMeasure(N){return this.addSparklineMenuItem(N.schema),this.addConditionalFormattingMenuItems(),this.addShowValueAsMenuItem(N.schema),this.addQuickCalcMenuItem(N.schema),this.addShowAllMenuItem(),this.menuItems}visitPercentile(N){return this.addConditionalFormattingMenuItems(),this.menuItems}visitSelectRef(N){return[]}visitTransformOutputRoleRef(N){return[]}visitPercentOfGrandTotal(N){return this.addPercentTotalMenuItems(N.baseExpr)}visitPercentOfRoleTotal(N){return this.addPercentTotalMenuItems(N.baseExpr)}visitFilteredEval(N){return this.addFilteredEvalMenuItems()}visitArithmetic(N){return this.menuItems}visitNativeVisualCalc(N){return this.featureSwitchService.featureSwitches.conditionalFormattingVisualCalculation&&this.addConditionalFormattingMenuItems(),this.addEditVisualCalcMenuItems(),this.menuItems}visitConstant(N){return s.Y.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems}visitSparklineData(N){return this.featureSwitchService.featureSwitches.sparklines&&this.addItems([{key:{action:i.HT.EditSparklines},text:this.localizationService.get("Sparkline_EditOption")}]),this.menuItems}supports(N){return(this.supportedOperations&N)===N}get conceptualProperty(){return this.property.expr.getConceptualProperty(this.schema)}get projections(){return this.visual.query?.projections[this.property.role]}hasGroupByItems(){return(0,n.rf)(this.visual.query)}hasVisualCalcOrHiddenFields(){return(0,n.Gp)([this.visualContainer])}addItems(N,I=!0){_.isEmpty(N)||(I&&this.menuItems.push({type:o.xU.Separator}),this.menuItems.push(...N.map(O=>({...O,type:o.xU.Item}))))}addEditVisualCalcMenuItems(){(0,r.$M)(this.property.expr)&&this.visualCalcEagerService.isVisualCalcAuthoringEnabled()&&this.addItems([this.createEditCalculationMenuItem()])}createEditCalculationMenuItem(){var N={key:{action:i.HT.EditVisualCalculation},text:this.localizationService.get("FieldWell_EditVisualCalculation")};if(null!=this.visual.query){var O=this.projections,W=O.convertFieldIndexToProjectionIndex(this.property.startIndex),F=O.all()[W];N.disabled=this.explorationCapabilitiesService?.getCapabilities()?.disableVisualCalcAuthoring||this.visualCalcEagerService.shouldDisableEditing(F.queryRef,this.visualContainer)}return N}addFieldParameterMenuItems(){this.conceptualProperty&&(this.supports(i.HT.ConvertColumnToParameter)?this.addItems([{key:{action:i.HT.ConvertColumnToParameter},text:this.localizationService.get("FieldParameter_ConvertColumnToParameter"),...this.getDisabledAndTooltipForVisualCalcScenarios("FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM","FieldParameter_ConvertColumnToParameter_Disabled_For_VC_Hidden")}]):this.supports(i.HT.ConvertParameterToColumn)&&this.addItems([{key:{action:i.HT.ConvertParameterToColumn},text:this.localizationService.get("FieldParameter_ConvertParameterToColumn")}]))}addFilteredEvalMenuItems(){return this.addAggregateMenuItems(),this.menuItems}addPercentTotalMenuItems(N){var I=(0,S.to)(N);return this.addConditionalFormattingMenuItems(I),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,p._w)(N)),this.addShowAllMenuItem(I),this.addHierarchiesMenuItems(),this.addVariationsMenuItems((0,p.UU)(N)),this.menuItems}addAggregateMenuItems(){this.addItems(D(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.forceAggregateItems),!0)}addConditionalFormattingMenuItems(N){if(!_.isEmpty(this.conditionalFormattingOptions)&&(N??this.property.expr).getMetadata(this.schema)&&!this.hasGroupByItems()){this.addItems([{text:this.localizationService.get("FieldWell_ConditionalFormatting"),children:this.conditionalFormattingOptions.map(F=>this.createConditionalFormattingMenuItem(F.repetition.propertyDescriptor.displayName,i.HT.SetConditionalFormatting,F))}]);var I={type:o.xU.Item};if(I.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(I),!_.some(this.conditionalFormattingOptions,F=>null!=F.propertyDefinition))return void(I.disabled=!0);var R=I.children=[];for(var W of(R.push(this.createConditionalFormattingMenuItem((0,m.D)("All"),i.HT.RemoveConditionalFormattingAll)),this.conditionalFormattingOptions))R.push({...this.createConditionalFormattingMenuItem(W.repetition.propertyDescriptor.displayName,i.HT.RemoveConditionalFormatting,W),disabled:null==W.propertyDefinition})}}createConditionalFormattingMenuItem(N,I,O){return{type:o.xU.Item,key:{action:I,conditionalFormattingOptions:O},text:(0,m.M)(N,this.localizationService)}}addShowAllMenuItem(N){var I=(0,f.t)(N??this.property.expr);this.hasGroupByItems()||(this.dataRole.kind===h.Ts.Grouping||this.dataRole.kind===h.Ts.GroupingOrMeasure&&!I)&&this.addItems([{key:{action:i.HT.ShowAll},text:this.localizationService.get("FieldWell_ShowAll"),disabled:this.hasVisualCalcOrHiddenFields(),tooltip:this.hasVisualCalcOrHiddenFields()?this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"):void 0}])}addHierarchiesMenuItems(){if(!_.isEmpty(this.property.hierarchyLevels)){var N=_.head(this.property.hierarchyLevels),I=(0,c.w)(this.schema,N.expr.arg);I instanceof Array&&I.length===this.property.hierarchyLevels.length||this.bucket.supportsMultipleItems&&this.addItems([{key:{action:i.HT.RestoreHierarchy},text:this.localizationService.get("FieldWell_RestoreHierarchy")}])}}addShowValueAsMenuItem(N){if(_.isEmpty(this.property.hierarchyLevels)&&this.conceptualProperty){var I=this.schema.schema(N),O=I&&I.capabilities.supportsScopedEval;if(!this.hasGroupByItems()&&O&&this.dataRole.kind!==h.Ts.Grouping){var W=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(W)||this.addItems([{key:{action:i.HT.SetShowValueAs},text:this.localizationService.get("FieldWell_ShowValueAs"),children:W}])}}}addQuickCalcMenuItem(N){if(this.conceptualProperty){var I=this.schema.schema(N);(I&&I.capabilities.canEdit&&!I.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(I))&&this.addItems([{key:{action:i.HT.NewQuickCalc},text:this.localizationService.get("QuickCalc_NewMeasure")}])}}canAuthorReportMeasuresOnSchema(N){return N.capabilities.isExtendable||N.isExtensionSchema}addSparklineMenuItem(N){if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var I=this.schema.schema(N);!I||!I.capabilities.supportsSparklineData||this.addItems([{key:{action:i.HT.AddSparklines},text:this.localizationService.get("Sparkline_AddOption"),...this.getDisabledAndTooltipForVisualCalcScenarios("Sparkline_AddOption_Disabled_For_VCEM","Sparkline_AddOption_Disabled_For_VC_Hidden")}])}}addVariationsMenuItems(N){if(N){var I=(0,S.fq)(N),O=I.getConceptualProperty(this.schema);if(O){var R=O.column;if(R&&!_.isEmpty(R.variations)){var W=(0,C.EG)(N.schema,N.entity),F={text:O.displayName,key:{action:i.HT.SetVariation,variationExpr:I}},U=[];for(var B of R.variations){var x=B.navigationProperty?.targetEntity;if(x){if(this.dataRole.kind!==h.Ts.Measure)for(var A of _.filter(x.hierarchies,z=>!z.hidden))U.push({key:{action:i.HT.SetVariation,variationExpr:(0,C.Sk)((0,C.U7)(W,B.name,O.name),A.name)},text:A.name});var L=(0,C.EG)(W.schema,x.name);for(var Y of _.filter(x.properties,z=>!z.hidden))U.push({key:{action:i.HT.SetVariation,variationExpr:(0,C.sX)(L,Y.name)},text:Y.displayName})}}_.isEmpty(U)||this.addItems([F,...U])}}}}addGroupsMenuItems(N){var I=this.schema.schema(N.schema);if(!1!==(I&&I.capabilities.canEdit&&I.capabilities.supportsGrouping)){var W=[],F=this.conceptualProperty;this.featureSwitchService.featureSwitches.enableGroupAuthoring&&((0,g.PC)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&W.push({key:{action:i.HT.SetGroups},text:this.localizationService.get("ContextMenuItem_CreateGroups")}),(0,g.__)(N.entity,F,this.groupingDesignStateService)&&W.push({key:{action:i.HT.EditGroups},text:this.localizationService.get("ContextMenuItem_EditGroups")})),(0,g.No)(N.entity,F,this.groupingDesignStateService)&&W.push({key:{action:i.HT.EditClustering},text:this.localizationService.get("Clustering_EditClusters")}),this.addItems(W)}}getDisabledAndTooltipForVisualCalcScenarios(N,I){return this.visualContainer?.visibility===t.B8.VisualCalcEditing?{disabled:!0,tooltip:this.localizationService.get(N)}:this.hasVisualCalcOrHiddenFields()?{disabled:!0,tooltip:this.localizationService.get(I)}:{disabled:!1}}createMoveUpMenuItem(){var N={type:o.xU.Item};N.text=this.localizationService.get("ItemAction_Move_Up");var I={action:i.HT.MoveUp},O=this.findFieldPropertyIndexInBucket();if(O<=0)N.disabled=!0;else{var R=this.bucket.properties[O-1];I.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0}}return N.key=I,N}createMoveDownMenuItem(){var N={type:o.xU.Item};N.text=this.localizationService.get("ItemAction_Move_Down");var I={action:i.HT.MoveDown},O=this.findFieldPropertyIndexInBucket();if(O>=this.bucket.properties.length-1)N.disabled=!0;else{var R=this.bucket.properties[O+1];I.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0}}return N.key=I,N}createMoveToTopMenuItem(){var N={type:o.xU.Item};N.text=this.localizationService.get("ItemAction_Move_Top");var I={action:i.HT.MoveUp},O=this.bucket.properties[0];return this.property.equals(O)?N.disabled=!0:I.moveFieldPropertyOptions={role:O.role,startIndex:O.startIndex,hierarchyLevelsLength:O.hierarchyLevels?O.hierarchyLevels.length:0},N.key=I,N}createMoveToBottomMenuItem(){var N={type:o.xU.Item};N.text=this.localizationService.get("ItemAction_Move_Bottom");var I={action:i.HT.MoveDown},O=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(O)?N.disabled=!0:I.moveFieldPropertyOptions={role:O.role,startIndex:O.startIndex,hierarchyLevelsLength:O.hierarchyLevels?O.hierarchyLevels.length:0},N.key=I,N}findFieldPropertyIndexInBucket(){return _.findIndex(this.bucket.properties,N=>this.property.equals(N))}createMoveGroupMenuItem(){return{key:{action:i.HT.SubMenu},text:this.localizationService.get("ItemAction_Move"),children:[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()]}}}function M(P,N,I,O,R,W,F,U,B,x,A,L,Y,z,H){return{items:(0,p.YR)((0,y.F)(P.expr),new T(P,N,I,O,R,W,F,U,B,x,A,L,Y,z,H))}}},349560:function(me,j,e){e.d(j,{x:function(){return v}});var r=e(662785),i=e(978450),a=e(61917),t=e(460169),l=e(357840),g=e(850396),n=e(446024),d=e(20502),s=e(942133),h=e(215);class v{constructor(y){this.localizationService=y}fromFilterExpr(y,S,C,u){return y.accept(new m(this.localizationService,S,C,u))}}class m extends d.nP{constructor(y,S,C,u){super(),this.localizationService=y,this.schema=S,this.supportsCategorical=!0,this.context={isNegative:!1,allowNot:!0,logicalOperator:g.um.Undefined},this.formatter=C,this.field=u,this.fieldToIdentityVisitor=new h.D}visitColumnRef(y){if(null==this.field||(0,i.aI)(this.field,y))return this.createFilterCard(y);if(null!==this.field&&this.field instanceof n.LV&&this.schema){var S=this.field.accept(this.fieldToIdentityVisitor,this.schema);if(!_.isEmpty(S)&&1===S.length&&(0,i.aI)(S[0],y))return this.createFilterCard(y)}}visitGroupRef(y){if(null==this.field||(0,i.aI)(this.field,y))return this.createFilterCard(y)}visitMeasureRef(y){return this.createFilterCard(y)}visitAggr(y){return this.createFilterCard(y)}visitArithmetic(y){return this.createFilterCard(y)}visitHierarchyLevel(y){return this.supportsCategorical=!1,this.createFilterCard(y)}visitEntity(y){return this.createFilterCard(y)}visitIn(y){if(!y.table&&y.args&&1===y.args.length){y.args[0].accept(this);var S=this.filter;if(null==S&&null!=this.field)return this.createFilterCard(this.field);var C=this.context;for(var u of y.values)C.condition=new l.kW(C.isNegative?g.tl.IsNot:g.tl.Is),u[0].accept(this),S.conditions.push(C.condition);if(S.logicalOperator!==g.um.Undefined)return;return S.logicalOperator=C.isNegative?g.um.And:g.um.Or,S}}visitBetween(y){this.supportsCategorical=!1,y.arg.accept(this);var S=this.filter,C=this.context;if(C.condition=new l.kW(C.isNegative?g.tl.LessThan:g.tl.GreaterThanOrEqual),y.lower.accept(this)&&(S.conditions.push(C.condition),C.condition=new l.kW(C.isNegative?g.tl.GreaterThan:g.tl.LessThanOrEqual),y.upper.accept(this)&&(S.conditions.push(C.condition),S.logicalOperator===g.um.Undefined)))return S.logicalOperator=g.um.And,S}visitAnd(y){this.supportsCategorical=!1;var S=this.context,C=S.isNegative?g.um.Or:g.um.And;if(S.logicalOperator===g.um.Undefined)S.logicalOperator=C;else if(S.logicalOperator!==C)return;if(y.left.accept(this)&&y.right.accept(this))return this.filter}visitOr(y){var S=this.context,C=S.isNegative?g.um.And:g.um.Or;if(S.logicalOperator===g.um.Undefined)S.logicalOperator=C;else if(S.logicalOperator!==C)return;if(y.left.accept(this)&&y.right.accept(this))return this.filter}visitCompare(y){var S=this.context,C=this.getFilterOperator(y,S.isNegative);if(void 0!==C&&C!==g.tl.None){S.condition=new l.kW(this.getFilterOperator(y,S.isNegative));var u=S.allowNot;if(S.allowNot=!1,y.left.accept(this)&&y.right.accept(this)&&(y.right instanceof n.wy||y.right instanceof n.UC)){var E=this.filter;return E.conditions.push(this.context.condition),E.conditions.length>1&&E.logicalOperator===g.um.Undefined&&(E.logicalOperator=g.um.And),S.allowNot=u,S.condition=null,E}}}visitNot(y){var S=this.context,C=y.arg;if((C instanceof n.j_||C instanceof n.zn||C instanceof n.qO||S.allowNot&&(C instanceof n.xC||C instanceof n.Zd||C instanceof n.v6||C instanceof n.Ly||C instanceof n.JC))&&(S.isNegative=!S.isNegative,y.arg.accept(this)))return S.isNegative=!S.isNegative,this.filter}visitConstant(y){if(this.context.condition)return y.type.primitiveType!==a.W.Null&&(this.context.condition.value=new l.hr(y.value,this.formatter)),this.filter}visitDateSpan(y){if(this.supportsCategorical=!1,y.unit===t.yr.Second||y.unit===t.yr.Day){var S=this.context,C=S.allowNot;S.allowNot=!1;var u=y.arg.accept(this);return S.allowNot=C,u}}visitContains(y){this.supportsCategorical=!1;var S=this.context;S.condition=new l.kW(S.isNegative?g.tl.DoesNotContain:g.tl.Contains);var C=S.allowNot;if(S.allowNot=!1,y.left.accept(this)&&y.right.accept(this)){var u=this.filter;return u.conditions.push(this.context.condition),S.allowNot=C,u}}visitStartsWith(y){this.supportsCategorical=!1;var S=this.context;S.condition=new l.kW(S.isNegative?g.tl.DoesNotStartWith:g.tl.StartWith);var C=S.allowNot;if(S.allowNot=!1,y.left.accept(this)&&y.right.accept(this)){var u=this.filter;return u.conditions.push(this.context.condition),S.allowNot=C,u}}getFilterOperator(y,S){switch(this.supportsCategorical=this.supportsCategorical&&y.comparison===t.mq.Equal,y.comparison){case t.mq.LessThan:return S?g.tl.GreaterThanOrEqual:g.tl.LessThan;case t.mq.LessThanOrEqual:return S?g.tl.GreaterThan:g.tl.LessThanOrEqual;case t.mq.GreaterThan:return S?g.tl.LessThanOrEqual:g.tl.GreaterThan;case t.mq.GreaterThanOrEqual:return S?g.tl.LessThan:g.tl.GreaterThanOrEqual;case t.mq.Equal:return(0,r.EL)(y.right)?S?g.tl.IsNotBlank:g.tl.IsBlank:(0,r.Qy)(y.right)&&""===y.right.value?S?g.tl.IsNotEmptyString:g.tl.IsEmptyString:S?g.tl.IsNot:g.tl.Is}}createFilterCard(y){return this.filter||(this.filter=new s.s(y,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter}}},913470:function(me,j,e){e.d(j,{Ar:function(){return l},Xi:function(){return i},gv:function(){return g},zM:function(){return t}});var r=e(785463),i=function(n){return n[n.PercentOfGrandTotal=0]="PercentOfGrandTotal",n[n.PercentOfRoleTotal=1]="PercentOfRoleTotal",n}({});class a{constructor(d,s,h,...o){r.Y.assertValue(s,"nameResourceKey"),r.Y.assertValue(h,"locService"),this.kind=d,this.name=h.format(s,o)}}class t extends a{constructor(d){super(void 0,"ShowValueAs_Calculation_None",d)}}class l extends a{constructor(d){super(i.PercentOfGrandTotal,"ShowValueAs_Calculation_PercentOfGrandTotal",d)}}class g extends a{constructor(d,s,h){super(i.PercentOfRoleTotal,"ShowValueAs_Calculation_PercentOfRoleTotal",d,h),this.roles=s}}},796158:function(me,j,e){e.d(j,{J:function(){return i}});var r=e(785463);class i{constructor(t,l){r.Y.assertValue(t,"contract"),r.Y.assertValue(l,"state"),this._contract=t,this._state=l}get contract(){return this._contract}get readOnlyState(){return this._state}updateViewState(){this.updateViewStateCore(this._state)}updateViewStateCore(t){}}},182314:function(me,j,e){e.d(j,{AY:function(){return B},B:function(){return N},B8:function(){return M},CG:function(){return x},Ds:function(){return H},EL:function(){return z},Fk:function(){return I},I1:function(){return V},Ln:function(){return L},Vj:function(){return Z},Vt:function(){return O},X8:function(){return U},YL:function(){return Y},an:function(){return P},dc:function(){return W},dv:function(){return A},iX:function(){return w},nz:function(){return F},p$:function(){return k},rT:function(){return f}});var r=e(339131),i=e(270475),a=e(64974),t=e(983240),l=e(343382),g=e(712813),n=e(993076),d=e(935236),s=e(785463),h=e(928912),o=e(885418),v=e(614038),m=e(393135),p=e(757623),y=e(447272),S=e(637590),C=e(175143),u=e(978450),E=e(542732),c=e(981265);function f(K,ee,Q){var J=!0,X=ee&&ee.featureSwitches.userFavoriteResourcePackagesEnabled&&K.custom&&Q.isFavoritePublicCustomVisual(K.name),ne=ee&&ee.featureSwitches.userFavoriteResourcePackagesEnabled&&K.custom&&K.favoriteId||X,ae=ee&&ee.featureSwitches.userFavoriteResourcePackagesEnabled&&K.custom&&!K.favoriteId&&!X,oe=ee&&ee.featureSwitches.tenantOutOfBoxVisualsEnabled&&K.custom&&K.isOutOfBox,Me=ee&&ee.featureSwitches.personalVisualizationPaneEnabled&&Q.isUnpinnedVisual(K.name);return(K.custom&&!oe&&ae||Me&&!ne)&&(J=!1),J}class D{constructor(ee){this.sections=[],this.activeSection=S.q.Fields,this.previousSection=S.q.Fields,this.pagePaneSections=[],this.activePageSection=S.d.Fields,this.previousPageSection=S.d.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=(Q,J,X)=>f(Q,J,X),this.nonPersonalVisualizationPaneFilter=(Q,J,X)=>!f(Q,J,X),this.showCloseButton=ee}get activeSectionIndex(){var ee=_.findIndex(this.sections,Q=>Q.sectionType===this.activeSection);return-1!==ee?ee:0}get activePageSectionIndex(){var ee=_.findIndex(this.pagePaneSections,Q=>Q.sectionType===this.activePageSection);return-1!==ee?ee:0}}var b="-",T="\\"+b;function M(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:N(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:w("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:w("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:w("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:w("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:w("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:w("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:w("Summarize"),quickMeasuresPane:w("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildPane:w("Permission_Explore","PBIBuild"),suggestSkittlePane:w("Suggest_A_Visual","suggestLightningBolt"),chartElementsSkittlePane:w("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:w("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:w("CopilotPaneEntryPoint_Title","Copilot"),customizePane:w("Customize","powermap_newtour")}}function V(K,ee){var Q=(J,X)=>({type:c.xU.Item,key:X,text:(0,E.oB)(ee)?.get(J)??J});return{contract:K,selected:!1,displayName:K.displayName,menuItems:{items:[Q("Duplicate",v.ID.DuplicateSection),Q("Rename",v.ID.RenameSection),Q("Delete",v.ID.DeleteSection),Q("Hide",v.ID.ToggleVisibility),Q("Menu_MoveLeft",v.ID.MoveLeft),Q("Menu_MoveRight",v.ID.MoveRight),Q("Menu_MoveFront",v.ID.MoveToFront),Q("Menu_MoveEnd",v.ID.MoveToEnd)]}}}function w(K,ee,Q){return{title:K,icon:ee,closePaneLabel:Q}}function P(){return{title:"Data",icon:"PBIData"}}function N(K=!1){return new D(K)}function I(K,ee,Q,J,X,ne){return O(_.filter(K,oe=>oe.custom),ee,Q,J,X,ne)}function O(K,ee,Q,J,X,ne){var ae=[];for(var oe of K)J&&!J(oe,ee,Q)||ae.push((0,C.dP)(oe,ee,Q,X,ne));return ae}function R(K,ee,Q){Q.hostServices={getFilters:(J,X)=>J.calculateVisualContainerFilter(K,ee,Q.contract,X),getDataSourceVariables:()=>K.dataSourceVariables,getVisualRelationshipFilterAction:(J,X,ne)=>X.relationshipFilterAction(ee,J,Q.contract,ne,!1),selectDataPoint:(J,X,ne,ae,oe,Me)=>{J.setFilterOnSelectData(K,X,ee,Q.contract,ne,ae,oe,Me)},setVisualRelationshipFilterAction:(J,X,ne,ae)=>ae.setVisualRelationship(ee,J,X,ne)}}function W(K,ee,Q,J,X){s.Y.assertValue(K,"contract");var oe,ne=_.map(K.sections,Le=>V(Le,X)),ae=K.sections;if(ae&&ae.length>0){var Me=void 0!==Q?Q:0;if(Me<ae.length){oe=F(K,ae[Me],ee,J);for(var Ye=ae.length-1;Ye>=0;--Ye)ne[Ye].selected=Ye===Me}}return{contract:K,sections:ne,exploreCanvas:oe}}function F(K,ee,Q,J){s.Y.assertValue(ee,"section");var X=new m.g(ee,Q);if(ee.visualContainers&&(X.visualContainers=(0,d.u_)(_(ee.visualContainers).map(oe=>x(oe,Q,J)).filter(oe=>!!oe).value()),X.visualContainerGroups=Q===r.v.PhonePortrait?[...X.visualContainers]:U(ee.visualContainerGroups,X.visualContainers,Q,J),!_.isEmpty(X.visualContainers))){var ne=X.visualContainers;for(var ae of ne)R(K,ee,ae)}return X}function U(K,ee,Q,J){var X=[],ne=function(oe){if((0,t.iA)(oe)){var Me=_.find(ee,Le=>Le.contract===oe);Me&&X.push(Me)}else{var Ye=B(oe,U(oe.children,ee,Q,J));Ye&&X.push(Ye)}};for(var ae of K)ne(ae);return X}function B(K,ee,Q=r.v.Master){if(s.Y.assertValue(K,"contract"),K.layouts.withId(Q)){var X=new y.Zp(K,Q,ee);for(var ne of ee)ne.parentGroup=X;return X}}function x(K,ee=r.v.Master,Q){s.Y.assertValue(K,"contract");var J=new n.O,X=K.layouts.withId(ee);if(X){var ne=X.position;return J.position({y:ne.y,x:ne.x}),J.zIndex(ne.z||0),J.viewport({height:ne.height,width:ne.width}),new p.Y(K,J,ee,Q)}}function A(K,ee,Q,J){var X=x(Q,J);if(X)return R(K,ee,X),X}function L(K,ee=!0){return{isVisualVisible:!1,reportFilters:ee?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:K.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:K.get("FieldDropZone_DrillthroughLink_Watermark")}}function Y(K,ee,Q,J,X,ne,ae,oe,Me){s.Y.assertValue(ee,"visualContainer"),s.Y.assertValue(Q,"schema");var Ye=ee.filters?.filter(ve=>null!=ve)||[],Le=[],lt={container:ee,scopeType:i.$d.Visual},ut=(0,g.W3)(ee,ne,Q,oe),St=(0,g.vC)(K,ee,ae,Q),ze=ve=>(0,o.dm)(ve,Q,J,lt,X,oe,Me,(0,g.p6)(ee,X),ee.config.singleVisual),Be=function(ve){var xe=ze(ve);if(Le.push(xe),ut){if(ve.expression&&!_.isEmpty(ve.expression.validate(Q,oe)))return 1;var Ne=_.findIndex(ut,ye=>(0,u.aI)(ye.expression,ve.expression));-1===Ne?ve.howCreated===a.GS.Auto&&(xe.howCreated=ve.howCreated=a.GS.User):(ve.howCreated===a.GS.User&&(xe.howCreated=ve.howCreated=a.GS.Auto),ve.howCreated!==a.GS.Drill&&ut.splice(Ne,1))}};for(var Ce of Ye)Be(Ce);var Ae=St=St||[];if(Ae=Ae.concat(ut=ut||[]),_.isEmpty(lt.container.filters)&&(lt.container.filters=[]),lt.container.filters.push(...ut||[]),Ae)for(var be of Ae){var Ie=ze(be);Ie.howCreated=be.howCreated,Le.push(Ie)}return Le.sort(Z),Le}function z(K,ee,Q,J,X,ne,ae,oe){var Me=[];if(!K||!K.container||!K.container.filters)return Me;for(var Ye of K.container.filters)if(null==oe||Ye.howCreated===oe){Ye.name||(Ye.name=l.M.getNextFilterName(K.container.filters));var Le=(0,o.dm)(Ye,ee,Q,K,J,X,ne,ae,null);Me.push(Le)}return Me.sort(Z),Me}function H(K){return _.map(K,Q=>(0,h.yh)(Q,b,T)).join(b)}function Z(K,ee){var Q=K.getDisplayName()?-1:1,J=ee.getDisplayName()?-1:1;if(Q!==J)return Q-J;var X=K.getDisplayName()||K.getRestatement()||"",ne=ee.getDisplayName()||ee.getRestatement()||"";return X.localeCompare(ne)}function k(K,ee){var Q=void 0===K.contract.ordinal?1:-1,J=void 0===ee.contract.ordinal?1:-1;return-1===Q&&-1===J?K.contract.ordinal-ee.contract.ordinal:Q-J}},175143:function(me,j,e){e.d(j,{Mn:function(){return n},Nn:function(){return s},No:function(){return o},dP:function(){return d}});var r=e(725793),i=e(125801),a=e(542732),t=e(781594),l=e(510958),g=e(329332);function n(v,m){return m=(0,a.oB)(m),(0,g.M)(v,m)}function d(v,m,p,y,S){var C=(S=(0,a.oB)(S)).get("AddToFavorites_ContextMenu"),u=S.get("RemoveFromFavorites_ContextMenu"),E=S.get("AboutVisualDialog_About"),c={plugin:v,enabled:!0,active:!1,menuItems:[]},f=s(v,y,S,m);c.class=f.class,c.title=f.title,f.watermarkKey&&(v.watermarkKey=f.watermarkKey);var D=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&p.isFavoritePublicCustomVisual(v.name),b=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&v.favoriteId||D,T=m&&m.featureSwitches.userFavoriteResourcePackagesEnabled&&v.custom&&!v.favoriteId&&!D,M=m&&m.featureSwitches.tenantOutOfBoxVisualsEnabled&&v.custom&&v.isOutOfBox,V=m&&m.featureSwitches.personalVisualizationPaneEnabled&&p.isUnpinnedVisual(v.name),w=m&&m.featureSwitches.personalVisualizationPaneEnabled&&!p.isUnpinnedVisual(v.name),P=null;v.custom&&b?P=h(u,r.Vf.RemoveFromFavorites):v.custom&&!M&&T?P=h(C,r.Vf.AddToFavorites):V?P=h(C,r.Vf.Restore):(!v.custom||M)&&w&&(P=h(u,r.Vf.Unpin)),P&&c.menuItems.push(P);var N=h(E,r.Vf.About);return c.menuItems.push(N),c.tooltipConfig={tooltipTitle:c.title,tooltipShowOnFocus:!0},c}function s(v,m,p,y){var S=o(v.name,v.titleKey,m,p,y),C=v.custom?v.displayName||v.name.match(/([A-z\s]+)/g)[0]:void 0;return S?(C&&(S.title=C),S):{class:v.class,title:C??v.name}}function h(v,m){return{text:v,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:m,type:i.y.Item,checked:!1,hrefTarget:l.qw}}function o(v,m,p,y,S){var C=n(m,y=(0,a.oB)(y));switch(v){case t.N.table.name:case t.N.tableEx.name:return{class:"table",title:C};case t.N.matrix.name:case t.N.pivotTable.name:return{class:"matrix",title:C};case t.N.scatterChart.name:return{class:"scatter",title:C};case t.N.barChart.name:return{class:"columnHoriz",title:C};case t.N.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:C};case t.N.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:C};case t.N.ribbonChart.name:return{class:"ribbon",title:C};case t.N.columnChart.name:return{class:"columnVert",title:C};case t.N.clusteredColumnChart.name:return{class:"clusteredBarVert",title:C};case t.N.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:C};case t.N.realTimeLineChart.name:case t.N.lineChart.name:return{class:"line",title:C};case t.N.areaChart.name:return{class:"area",title:C};case t.N.stackedAreaChart.name:return{class:"stackedArea",title:C};case t.N.hundredPercentStackedAreaChart.name:return{class:"stacked100AreaChart",title:C};case t.N.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:C};case t.N.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:C};case t.N.pieChart.name:return{class:"pie",title:C};case t.N.treemap.name:return{class:"tree",title:C};case t.N.map.name:return{class:"map",title:C};case t.N.filledMap.name:return{class:"filledMap",title:C};case t.N.azureMap.name:return{class:"azureMap",title:C};case t.N.shapeMap.name:return{class:"shapeMap",title:C};case t.N.funnel.name:return{class:"funnel",title:C};case t.N.gauge.name:return{class:"gauge",title:C};case t.N.multiRowCard.name:return{class:"card",title:C};case t.N.card.name:return{class:"calloutCard",title:C};case t.N.cardVisual.name:return{class:"cardVisual",title:C};case t.N.waterfallChart.name:return{class:"waterfall",title:C};case t.N.slicer.name:return{class:"slicerVert",title:C};case t.N.advancedSlicerVisual.name:return{class:"buttonSlicer",title:C};case t.N.textSlicer.name:return{class:"textSlicer",title:C};case t.N.listSlicer.name:return{class:"listSlicer",title:C};case t.N.donutChart.name:return{class:"donut",title:C};case t.N.kpi.name:return{class:"kpi",title:C};case t.N.scriptVisual.name:return{class:"rScriptImageVisual",title:C};case t.N.pythonVisual.name:return{class:"pythonImageVisual",title:C};case t.N.debugVisual?.name:return{class:"debugger",title:C};case t.N.textbox.name:return{class:"smartNarratives",title:C};case t.N.basicShape.name:case t.N.shape.name:case t.N.actionButton.name:case t.N.image.name:return{class:null,title:C};case t.N.keyDriversVisual.name:return{class:"keyDrivers",title:C};case t.N.qnaVisual.name:return{class:"qna",title:C};case t.N.decompositionTreeVisual.name:return{class:"decompositionTree",title:C};case t.N.scorecard.name:return{class:"scorecard",title:C};case t.N.rdlVisual.name:return{class:"rdlVisual",title:S?.featureSwitches.operationalReportStringTest?n((0,g.D)("Operational_Report"),y):C};case t.N.aiNarratives.name:return{class:"aiNarratives",title:C};default:if(p&&p.isTrustedVisual(v)){var u=p.getVisualTypeOptions(v);if(u)return{class:u.class,title:u.titleKey?y.get(u.titleKey):v,watermarkKey:u.watermarkKey}}return}}},746540:function(me,j,e){e.d(j,{N7:function(){return a}});var r=e(5863),i=e(256210);class a{constructor(s,h){this.featureSwitchService=h,s&&(this.color=s.color.solid.color,this.visible=s.show,this.radius=s.radius,this.width=s.width)}thickness(){return this.featureSwitchService.featureSwitches.visualBorderWidth?this.width??i.GD:i.GD}getNumericPaddingFromBorder(){return n(this.radius)}getBorderStyle(){if(this.visible){var s=(0,r.Pz)(this.color,1);return`${this.thickness()}px `+t+" "+s}}getPaddingFromBorder(){var s=n(this.radius);if(this.visible)return`${s}px`}getBorderRadius(){if(this.visible)return`${this.radius||i.g1}px`}}var t="solid",g=Math.sin(Math.PI/180*45);function n(d){return Math.ceil(d-d*g)}},757623:function(me,j,e){e.d(j,{Y:function(){return z}});var r=e(619584),i=e(614038),a=e(905384),t=e(391059),l=e(534958),g=e(918460),n=e(4509),d=e(64974),s=e(409310),h=e(925397),o=e(712813),v=e(993076),m=e(378381),p=e(824760),y=e(781594),S=e(194329),C=e(618644),u=e(255319),E=e(785463),c=e(510958),f=e(473001),D=e(791106),b=e(753771),T=e(716782),M=e(97458),V=e(147293),w=e(138970),P=e(47917),N=e(381839),I=e(287171),O=e(87599),R=e(921929),W=e(107206),F=e(796158),U=e(175143),x={key:void 0,defaultValue:!0,forceVisible:{[V.nE.Edit]:!0}},A={visualInformationButton:{...x,key:"showVisualInformationButton"},visualWarningButton:{...x,key:"showVisualWarningButton"},visualErrorButton:{...x,key:"showVisualErrorButton"},drillRoleSelector:{...x,key:"showDrillRoleSelector"},drillUpButton:{...x,key:"showDrillUpButton"},drillToggleButton:{...x,key:"showDrillToggleButton"},drillDownLevelButton:{...x,key:"showDrillDownLevelButton"},drillDownExpandButton:{...x,key:"showDrillDownExpandButton"},pinButton:{...x,key:"showPinButton"},filterRestatementButton:{...x,key:"showFilterRestatementButton"},focusModeButton:{...x,key:"showFocusModeButton"},copyVisualImageButton:{...x,key:"showCopyVisualImageButton"},seeDataLayoutToggleButton:{...x,key:"showSeeDataLayoutToggleButton"},optionsMenu:{...x,key:"showOptionsMenu"},commentButton:{...x,key:"showCommentButton"},tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:{...x,key:"showPersonalizeVisualButton"},smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1},setAlertButton:{key:"showSetAlertButton",defaultValue:!0},followVisualButton:{key:"showFollowVisualButton",defaultValue:!1}},Y=function(H){return H[H.Uninitialized=0]="Uninitialized",H[H.Initialized=1]="Initialized",H}({}),z=(()=>{class H extends F.J{constructor(k,K,ee,Q){super(k,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:K,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null}),this.uiScale=I.ah,this.warningsSubject=new a.t([]),this.warnings$=this.warningsSubject.asObservable(),this.currentCanvasLayout=ee,this.currentEditMode=V.WF.Default,this.visualTitleWrapped=[],this.visualSubTitleWrapped=[],this.currentZone=Q,this.servicesState=Y.Uninitialized}resolveDataAppliedEvent(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()}getRunningVisual(){return this.runningVisual}get errorInfo(){return this.runningVisual&&this.runningVisual.getErrorInfo()}set errorInfo(k){var K=this.getRunningVisual();K&&K.setErrorInfo(k)}get visualPausedWarning(){return this.visualPausedWarningModel}set visualPausedWarning(k){this.visualPausedWarningModel=k,this.regenerateWarnings();var K=this.getRunningVisual();K&&K.setHasPendingChanges(void 0!==k)}get featureNotSupportedWarning(){return this.featureNotSupportedWarningModel}set featureNotSupportedWarning(k){this.featureNotSupportedWarningModel=k,this.regenerateWarnings()}setThemeCollection(k){this.themeCollection=k,this.runningVisual&&this.runningVisual.setThemeCollection(k)}startResize(){this.originalPosition=this.position}getVisualType(){return(0,h.d)(this.contract)}static getVisualBodyOffset(k,K){return H.useStylableHeader(K)||k.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}}get id(){return this.contract.id}get name(){return this.contract.name}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(k){this.contract.layouts.withId(this.currentCanvasLayout).position=k}getScaledPosition(k=!0){return this.convertToScaledPosition(this.position,k)}get editMode(){return this.currentEditMode}get headerTitleMaxLines(){return this.isTitleWrappingEnabled?3:1}get headerSubTitleMaxLines(){return this.isSubTitleWrappingEnabled?3:1}setEditMode(k){this.currentEditMode=k,(0,W.mI)(this.runningVisual,this.runningVisual.getViewport(),V.YL.ViewMode,this.visualHostServices,this.editMode)}getRunnableQuery(){var k=this;return(0,r.A)(function*(){return k.runningVisual&&k.runningVisual.getRunnableQuery()})()}get isPositioned(){var k=this.position;return 0!==k.width&&0!==k.height}get isPoppedOut(){var k=this.contract.visibility;return null!=k&&k!==d.B8.None&&k!==d.B8.Spotlight&&k!==d.B8.Elevation}get bringToFront(){var k=this.contract.config.singleVisual.evaluatedObjects;return!k||!k.general||!k.general.keepLayerOrder}get isHidden(){return(0,n.dK)(this.contract.config.singleVisual)}get isTitleWrappingEnabled(){return this.visualTitle&&!!this.visualTitle.titleWrap}get isSubTitleWrappingEnabled(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap}visualTitleAreaVisible(){var k=this.contract.config.singleVisual,K=k.evaluatedObjects&&k.evaluatedObjects.title,ee=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(0,g.dK)(K,ee&&ee.suppressDefaultTitle)&&!this.isPoppedOut}visualTitleVisible(){if(this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var K=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!K)return!1;var ee=this.visualTitle;return!(!ee||!1===ee.show||void 0===ee.show&&K.suppressDefaultTitle||!ee.text)}visualSubTitleVisible(){if(!this.featureSwitchService?.featureSwitches.vcPadding||this.isPoppedOut)return!1;var k=this.contract.config.singleVisual;if(!k)return!1;var K=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);if(!K)return!1;var ee=this.visualTitle;if(!ee)return!1;var Q=this.visualSubTitle;return!(!Q||!1===ee.show||void 0===ee.show&&K.suppressDefaultTitle||!Q.show||!Q.text)}visualDividerVisible(){var k=this.contract.config.singleVisual,K=k.evaluatedObjects&&k.evaluatedObjects.divider,ee=k.evaluatedObjects&&k.evaluatedObjects.title,Q=this.visualPlugin&&this.visualPlugin.capabilities(k.visualType);return!(!this.featureSwitchService?.featureSwitches.vcPadding||!K||(0,g.II)(K)||(0,g.dK)(ee,Q&&Q.suppressDefaultTitle)||this.isPoppedOut)}supportsKeyboardNavigation(){var K=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return K&&K.supportsKeyboardFocus}get supportsCustomPadding(){return this.featureSwitchService?.featureSwitches.vcPadding}setServices(k,K,ee,Q,J,X,ne,ae,oe,Me,Ye,Le,lt,ut,St,ze,Be,Ce,Ae,be,Ie,ve,xe){E.Y.assertValue(k,"visualHostServices"),E.Y.assertValue(K,"visualPlugin"),E.Y.assertValue(ee,"visualPluginOps"),this.visualHostServices=(0,O.N)(k,lt),this.auxiliaryVisualHostServices=(0,O.N)(xe??k,lt),this.visualAdapterHostServices=Ae,this.visualPlugin=K,this.visualPluginOps=ee,this.viewModeState=Q,this.formFactor=J,this.visibility=X,this.runningVisuals=ne,this.explorationCapabilities=Ce,this.visualAuthoring=oe,this.filterGenerator=Ye,this.themeService=Le,this.showClientWarnings=ut,this.queryServices=St,this.sortServices=ze,this.selectionServices=Be,this.dataViewServices=be,this.servicesState=Y.Initialized,this.bodyScaleChanged=Ie,this.featureSwitchService=ae,this.localizationService=Me,this.pauseQueriesService=ve}setSelected(k){this.isSelected=k}handleKeyDown(k){var K=function(H){switch(H.keyCode){case c.cK.f11KeyCode:return H.altKey&&H.shiftKey?i._5.FullScreen:void 0;case c.cK.fKeyCode:return b.C.isCtrlOrMeta(H)?i._5.Search:void 0}}(k);switch(K){case i._5.FullScreen:this.visibility.set(this.contract,d.B8.MaximizeWithDataAccessible);break;case i._5.Search:this.toggleVisualSearch(k)}if(this.shouldHandleKeydown(k)){if(this.isTextboxVisual()){var Q=this.getTextboxVisual();return Q&&Q.focus()}if(this.isContractQnaVisual()){var J=this.getQnaVisual();if(J)return J.focus()}}}toggleVisualSearch(k){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var ee=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);ee&&this.filterGenerator.tryGetSelfFilterEnabledProperty(ee)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),k.preventDefault(),k.stopPropagation())}}shouldHandleKeydown(k){if(!this.runningVisual||this.viewModeState.getMode()===V.nE.View)return!1;var K=k.keyCode;if((0,T.Pn)(K)||(0,T.AD)(K)||c.cK.escKeyCode===K||c.cK.tabKeyCode===K||c.cK.altKeyCode===K||c.cK.enterKeyCode===K||b.C.isCtrlOrMeta(k))return!1;var ee=this.contract.toolbar&&this.contract.toolbar.element;return!(ee&&(0,l.I)(ee))}setVisualTitle(k){this.visualTitle=k;var K="";k&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&k.titleComponents&&k.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=k.titleComponents.subtitle,k.titleComponents&&k.titleComponents.title?K=k.titleComponents.title:k.text&&(K=k.text)):k.text?K=k.text:k.titleComponents&&k.titleComponents.title&&(K=k.titleComponents.title)),this.readOnlyState.popOutBarTitle=K}setVisualSubTitle(k){this.visualSubTitle=k;var K="";k&&k.text&&(K=k.text),this.readOnlyState.popOutBarSubtitle=K}setTooltip(){var k=(0,h.d)(this.contract),K=this.getVisualLinkTypeLabel(k)||"",ee=this.visualPlugin?.capabilities(k)?.ariaRole,Q=this.visualPlugin&&this.visualPlugin.getPlugin(k);if(Q){var J=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,X=J?` ${(0,U.Mn)(J,this.localizationService)}`:"";k=(0,U.dP)(Q,void 0,void 0,void 0,this.localizationService).title+X}var ae=this.visualTitle,oe=void 0!==ae?.text&&`${ae.text} `||"",Me=this.visualSubTitle,Ye=void 0!==Me?.text&&`${Me.text} `||"",Le=this.contract.config.singleVisual,lt=Le.evaluatedObjects&&Le.evaluatedObjects.general&&Le.evaluatedObjects.general.altText?` ${Le.evaluatedObjects.general.altText}`:"";this.tooltip=`${oe}${K}${k}${lt}`,this.ariaLabel=`${oe}${Ye}${K}${lt}`,this.ariaRole=w.A.Group,this.ariaRoleDescription=ee??k,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")}getVisualLinkTypeLabel(k){var K=this.visualPlugin&&this.visualPlugin.capabilities(k);if(K&&K.supportsVisualLink){var ee=this.contract.config.singleVisual,Q=ee.evaluatedObjects&&ee.evaluatedObjects.visualLink;if(Q&&Q.show){var J=(0,n.Pw)(Q),X=_.find(s.Zk.members(),ne=>ne.value===J).displayName;return`${(0,U.Mn)(X,this.localizationService)} `}}}setHeaderTooltip(){var k=this.contract.config.singleVisual,K=k.evaluatedObjects&&k.evaluatedObjects.visualHeader,ee=k.evaluatedObjects&&k.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=K&&K.showTooltipButton&&ee?ee:void 0}redrawVisual(){this.runningVisual&&(0,W.mI)(this.runningVisual,this.runningVisual.getViewport(),V.YL.Resize,this.visualHostServices,this.editMode)}updateVisualViewportForUserResize(k){var K=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),ee=this.runningVisual;this.enableVisualScaling?(k.width/=this.uiScale.x,this.visualBorder&&(k.width-=2*this.visualBorder.thickness()),this.useStylableHeader()||(k.height-=H.VisualContainerHeaderHeight),k.height/=this.uiScale.y,this.visualBorder&&(k.height-=2*this.visualBorder.thickness())):this.useStylableHeader()||(k.height-=H.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(k.height-=H.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(k.width,k.height,1,K),ee&&(this.viewportResized=!0,(0,W.mI)(ee,this.visualViewport,V.YL.Resize,this.visualHostServices,this.editMode,V.OJ.Resizing)),this.applyVisualViewportStyle(this.readOnlyState,k),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,k.width);var J=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,J.width,K),this.applyVisualTitleAreaStyle(this.readOnlyState),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,J.width,K),this.applyDividerStyle(this.readOnlyState,K))}shouldUseCache(){return(0,o.Nb)(this.contract,this.options.disableQueryCacheUpdates)}adjustForVisualContainerHeader(k,K,ee){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(ee&&(k.y+=K),k.height-=K)}convertToScaledPosition(k,K=!0){var ee=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,Q=(0,R.Co)(k,this.uiScale,!ee);return this.adjustForVisualContainerHeader(Q,this.useStylableHeader()?0:-H.VisualContainerHeaderHeight,K),Q}reset(){var k=this.visual;k&&(k.data=void 0,k.dataTransforms=void 0,k.hostServices=S.U1,k.visualAdapterHostServices={getNextDataSegment:()=>new Promise((K,ee)=>ee(new Error("Visual reset"))),startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0,this.servicesState=Y.Uninitialized}updateViewStateCore(k){if(this.servicesState===Y.Initialized){var K=this.viewModeState&&this.viewModeState.getConfig(),ee=K&&K.displayOptions,Q=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),J=this.contract,X=this.position,ne=this.overridePosition||this.convertToScaledPosition(X),ae=(0,f.IL)(ne),oe=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(oe&&(ae.height-=H.VisualContainerHeaderHeight),ae.height/=this.uiScale.y,ae.width/=this.uiScale.x):(ae=(0,f.IL)(X),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&oe&&(ae.height-=H.VisualContainerHeaderHeight/this.uiScale.y)):oe&&(ae.height-=H.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(ae.height-=H.VisualContainerFooterHeight),this.isPoppedOut&&(!ee||!ee.hideInFocusBar)){var Ye=H.PopOutBarHeight;this.enableVisualScaling&&(Ye/=this.uiScale.y),ae.height-=Ye}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var Le=this.contract.detailVisualLayout??d.Kb.Horizontal;this.showDetailHorizontal=this.hasDetailVisual&&Le===d.Kb.Horizontal,this.showDetailVertical=this.hasDetailVisual&&Le===d.Kb.Vertical,this.visualViewport=this.getVisualViewport(ae.width,ae.height,this.uiScale.x,Q);var lt=J.config.singleVisual;if(k.isFilterVisual=!1,lt){this.showWatermark=!1,this.canPin=!0;var ut=lt.visualType,St=this.visualPlugin&&this.visualPlugin.capabilities(ut);if(St&&(k.isFilterVisual=null!=(0,N.x_)(St.objects)),lt.query){var ze=lt.query.defn;if(ze){var Be=ze.orderBy();k.actualSortDirection=Be&&Be.length?Be[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(ut)&&"debugVisual"!==ut&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&St&&St.supportsLandingPage&&(this.viewModeState.getMode()===V.nE.Edit||St.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,W.MN)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.queryServices,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(k,this.visualViewport)}k.position={...ne,z:null!=this.zIndexOverride?this.zIndexOverride:X.z||0,angle:X.angle||0},this.applyTitleStyle(k,ne.width,Q),this.applyVisualTitleAreaStyle(k),this.featureSwitchService?.featureSwitches.vcPadding&&(this.applySubTitleStyle(k,ne.width,Q),this.applyDividerStyle(k,Q)),this.applyVisualViewportStyle(this.readOnlyState,ae),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(k,ae.width),this.applyHeaderStyle(k),this.setHeaderItemVisibility(k),this.setTooltip(),this.setHeaderTooltip(),J&&J.postProcessing&&this.configureInitializationSpinner(J.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}}isHeaderItemVisible(k){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[k]}isDeprecationWarningVisible(){return this.viewModeState.getMode()===V.nE.Edit&&void 0!==this.customVisualDeprecatedWarningInfo}isWarningVisible(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo}isErrorVisible(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo}isInfoVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo}isInfoVersionsVisible(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo}isHeaderTooltipVisible(){return this.isHeaderItemVisible("tooltipButton")}isAnyIconVisible(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()}anyHeaderItemVisible(k){if(k)for(var K of k)if(this.isHeaderItemVisible(K))return!0;return!1}isTextboxVisual(){return this.contract.config.singleVisual.visualType===y.N.textbox.name}getTextboxVisual(){return E.Y.assert(()=>this.isTextboxVisual(),"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()}isContractAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)}isDefinitionAnalysisVisual(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)}isContractQnaVisual(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)}getQnaVisual(){return E.Y.assert(()=>this.isContractQnaVisual(),"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()}isDefinitionQnaVisual(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)}setInitialLoadTelemetryParent(k){E.Y.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=k}regenerateWarnings(){this.warningsSubject.next(this.getVisualWarnings())}tryGetUnwrappedVisual(){var k=this.runningVisual?.getAdapter();return k?k.unwrap?k.unwrap():k:void 0}setHeaderItemVisibility(k){var K=k.itemVisibility;K||(K=k.itemVisibility={});var ee=this.viewModeState&&this.viewModeState.getMode(),Q=this.contract.config.singleVisual,J=this.useStylableHeader()?Q.evaluatedObjects&&Q.evaluatedObjects.visualHeader:void 0;for(var X in A){var{key:ne,defaultValue:ae,forceVisible:oe}=A[X],Me=void 0;if(oe&&void 0!==oe[ee])Me=oe[ee];else{var Ye=J&&J[ne];Me=void 0!==Ye?Ye:ae}K[X]=Me}}applyHeaderStyle(k){var K=this.contract.config.singleVisual,ee=this.useStylableHeader()?K.evaluatedObjects&&K.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(k,ee),this.applyHeaderBackgroundStyle(k,ee),this.applyHeaderForegroundStyle(k,ee)}applyItemContainerStyle(k,K){var ee={"background-color":"","border-color":""};if(this.useStylableHeader()&&K&&(K.background||null!=K.transparency||null!=K.border)){var Q=K.background&&K.background.solid?(0,C.IO)(K.background.solid.color):{R:255,G:255,B:255},J=K.border&&K.border.solid?(0,C.IO)(K.border.solid.color):Q;null!=K.transparency?J.A=Q.A=1-K.transparency/100:(null==Q.A&&(Q.A=1),null==J.A&&(J.A=1)),ee["background-color"]=(0,C.p8)(Q),ee["border-color"]=(0,C.p8)(J)}k.headerItemContainerStyle||(k.headerItemContainerStyle=new v.O),k.headerItemContainerStyle.addAttributes(ee),k.headerItemContainerStyle.apply()}applyHeaderBackgroundStyle(k,K){var ee={"background-color":""};if(this.useStylableHeader()&&K&&(K.background||null!=K.transparency)){var Q=K.background&&K.background.solid?(0,C.IO)(K.background.solid.color):H.VisualHeaderBackgroundColor;null!=K.transparency?Q.A=1-K.transparency/100:null==Q.A&&(Q.A=1-H.VisualHeaderTransparency/100),ee["background-color"]=(0,C.p8)(Q);var J=this.themeService?.getVisualStyle(this.themeCollection);J&&(ee[":hover"]=m.A.getThemeColor(J,t.s.backgroundNeutral))}k.headerBackgroundStyle||(k.headerBackgroundStyle=new v.O),k.headerBackgroundStyle.addAttributes(ee),k.headerBackgroundStyle.apply()}applyHeaderForegroundStyle(k,K){var ee={color:""};this.useStylableHeader()&&K&&K.foreground&&K.foreground.solid&&(ee.color=K.foreground.solid.color),k.headerForegroundStyle||(k.headerForegroundStyle=new v.O),k.headerForegroundStyle.addAttributes(ee),k.headerForegroundStyle.apply()}applyVisualBodyStyle(k){k.visualStyle||(k.visualStyle=new v.O);var K=this.themeService?.getVisualStyle(this.themeCollection);K?.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=m.A.getThemeColor(K,t.s.foreground));var Q=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(this.featureSwitchService?.featureSwitches.vcPadding){var J=this.getVisualBodyPadding();Q=`${J.top}px ${J.right}px ${J.bottom}px ${J.left}px`}var X=this.shouldAppyBoxShadow(),ne=(0,o.Dh)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),Q,X&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());k.visualStyle.addAttributes(ne),k.visualStyle.apply()}shouldAppyBoxShadow(){var k=this.contract.visibility;if(null==k)return!0;switch(k){case d.B8.None:return!0;case d.B8.Maximize:case d.B8.MaximizeWithData:case d.B8.MaximizeWithDataAccessible:case d.B8.Spotlight:case d.B8.VisualCalcEditing:case d.B8.Elevation:return!1;default:return E.Y.assertFail(`Unhandled visibility: ${k}`),!1}}applyVisualViewportStyle(k,K){k.visualViewportStyle||(k.visualViewportStyle=new v.O),this.visualViewportAppliedScale=this.enableVisualScaling?this.uiScale.x:void 0;var ee=(0,o.Z3)(K,this.visualViewportAppliedScale);k.visualViewportStyle.addAttributes(ee),k.visualViewportStyle.apply()}applyFooterStyle(k,K){if(this.isFooterVisible&&this.isFooterVisible()){var ee={};k.footerStyle||(k.footerStyle=new v.O),ee.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",ee.width=K,k.footerStyle.addAttributes(ee),k.footerStyle.apply()}}applyTitleStyle(k,K,ee){var Q={};if(this.visualTitleVisible()){this.featureSwitchService?.featureSwitches.vcPadding&&(Q[u.AP]=this.getSpacing(o.aO.Title)),Q[u.cj]=u.Ol;var J=this.contract.config.singleVisual,X=J.evaluatedObjects&&J.evaluatedObjects.title||{},ne=this.getTitleFontProperties(X,ee);Q[u.Wo]=`${ne.size.pt}pt`||"",Q[u.de]=`${ne.family}`||"",Q[u.N6]=`${ne.color}`||"",Q[u.oc]=X.alignment?X.alignment:"",Q[u.FI]=X.background&&X.background.solid&&X.background.solid.color||"",Q[u.xf]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,o.uk)(ne),this.insetHeaderSize?this.isTitleWrappingEnabled||(Q[u.u5]=(K-this.insetHeaderSize.width)/this.uiScale.x):Q[u.u5]=null,Q[u.d8]=X.bold?u.HM:"",Q[u.Oi]=X.italic?u.On:"",Q[u.es]=X.underline?u.wr:"";var Me=!this.visualTitle?.isPlaceholderText;Q[u.gA]=Me?"none":"1px dashed black",Q[u.Tm]=Me?"0":"1px",Q[u.Cd]=Me?"0":"1px",Q[u.e5]=Me?"default":"text"}else Q[u.cj]=u.ad;k.titleStyle||(k.titleStyle=new v.O),k.titleStyle.addAttributes(Q),k.titleStyle.apply()}applySubTitleStyle(k,K,ee){var Q={};if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){Q[u.AP]=this.getSpacing(o.aO.SubTitle),Q[u.cj]=u.Ol;var J=this.contract.config.singleVisual,X=J.evaluatedObjects&&J.evaluatedObjects.subTitle||{},ne=this.getSubTitleFontProperties(X,ee);Q[u.Wo]=`${ne.size.pt}pt`||"",Q[u.de]=`${ne.family}`||"",Q[u.N6]=`${ne.color}`||"",Q[u.oc]=X.alignment?X.alignment:"",Q[u.xf]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,o.uk)(ne),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(Q[u.u5]=(K-this.insetHeaderSize.width)/this.uiScale.x):Q[u.u5]=null,Q[u.d8]=X.bold?u.HM:"",Q[u.Oi]=X.italic?u.On:"",Q[u.es]=X.underline?u.wr:"";var Me=!this.visualSubTitle?.isPlaceholderText;Q[u.gA]=Me?"none":"1px dashed black",Q[u.Tm]=Me?"none":"2px",Q[u.Cd]=Me?"0":"1px",Q[u.e5]=Me?"default":"text"}else Q[u.cj]=u.ad;k.subTitleStyle||(k.subTitleStyle=new v.O),k.subTitleStyle.addAttributes(Q),k.subTitleStyle.apply()}applyDividerStyle(k,K){var ee={};if(this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){ee[u.AP]=this.getSpacing(o.aO.Divider),ee[u.cj]=u.Ol;var J=this.contract.config.singleVisual,X=J.evaluatedObjects&&J.evaluatedObjects.divider;if(ee[u.Fp]=`${X.width||1}px ${X.style||"Solid"} ${X.color&&X.color.solid&&X.color.solid.color||K.colorPalette.foregroundNeutralSecondary.value}`,!1!==X.ignorePadding){var Ye=this.getVisualBodyPadding();ee[u.nK]=`-${Ye.left||0}px`,ee[u.Mg]=`-${Ye.right||0}px`}else ee[u.nK]="",ee[u.Mg]=""}else ee[u.cj]=u.ad;k.visualsDividerStyle||(k.visualsDividerStyle=new v.O),k.visualsDividerStyle.addAttributes(ee),k.visualsDividerStyle.apply()}applyVisualTitleAreaStyle(k){var K={};if(this.visualTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var ee=this.contract.config.singleVisual,Q=ee.evaluatedObjects&&ee.evaluatedObjects.title||{};K[u.FI]=Q.background&&Q.background.solid&&Q.background.solid.color||"";var J=this.getVisualBodyPadding();K[u.Tm]=`-${J.top||0}px`,K[u.wv]=`${J.top||0}px`,K[u.nK]=`-${J.left||0}px`,K[u.Cd]=`${J.left||0}px`,K[u.Mg]=`-${J.right||0}px`,K[u.TN]=`${J.right||0}px`}else K[u.FI]="",K[u.Tm]="",K[u.wv]="",K[u.nK]="",K[u.Cd]="",K[u.Mg]="",K[u.TN]="";k.visualTitleAreaStyle||(k.visualTitleAreaStyle=new v.O),k.visualTitleAreaStyle.addAttributes(K),k.visualTitleAreaStyle.apply()}getSpacing(k){var K=this.contract.config.singleVisual;return(0,o.AX)(k,K.evaluatedObjects&&K.evaluatedObjects.spacing)}getVisualBodyPadding(){E.Y.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on");var k=this.contract.config.singleVisual;return(0,o.K_)(this.visualPadding,k.evaluatedObjects?.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())}updateVisualDefinition(k){var K=this.contract.config.singleVisual,ee=K.visualType;if(E.Y.assertAnyValue(K,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var Q=this.visual;Q.type!==K.visualType?(Q.data=null,this.visualHostServices?.onClearLicenseNotification()):this.showWatermark&&this.visualHostServices?.onClearLicenseNotification(),E.Y.assert(()=>Q.visualName===this.contract.name,"visualName"),Q.type=ee,Q.stylePresetName=K.evaluatedObjects&&K.evaluatedObjects.stylePreset&&K.evaluatedObjects.stylePreset.name,Q.hostServices=this.visualHostServices,Q.visualAdapterHostServices=this.visualAdapterHostServices,Q.orderIndependentSelectorMatching=K.queryOptions&&K.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(ee)),this.visual.visualHasData=!!K.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:k,type:ee,visualName:this.contract.name,dataTransforms:{objects:K.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:K.queryOptions&&K.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(ee)),this.visual.visualHasData=!!K.query)}setViewport(k,K){this.runningVisual&&this.setVisualViewport(this.runningVisual,K)}setVisualViewport(k,K){if(k&&K){var ee=this.viewportResized;this.viewportResized=void 0;var Q,J=this.enableVisualScaling?this.uiScale.x:1;(ee||!(Q=k.getViewport())||Q.height!==K.height||Q.width!==K.width||Q.scale!==J)&&k.setViewport({...K,scale:J},ee)}}getVisualViewport(k,K,ee,Q){var J=this.contract.config.singleVisual,X=0;this.visualBorder&&this.visualBorder.visible&&(X=this.visualBorder.getNumericPaddingFromBorder());var ne=this.isPaddingDisabled?2*X:2*(X+H.VisualContainerDefaultPadding),ae=this.isPaddingDisabled?2*X:2*(X+H.VisualContainerDefaultPadding);if(this.featureSwitchService?.featureSwitches.vcPadding){var oe=this.getVisualBodyPadding();ne=oe.left+oe.right,ae=oe.top+oe.bottom}var Me=0,Ye=0,Le=0,lt=0,ut=k-ne;if(this.visualTitleVisible()){var St=this.getTitleFontProperties(this.visualTitle,Q);this.updateVisualTitleWrapping(ut,St),Ye=(0,o.uk)(St),Ye*=this.visualTitleWrapped.length||1,this.featureSwitchService?.featureSwitches.vcPadding&&(Ye+=this.getSpacing(o.aO.Title)),this.visualTitle?.isPlaceholderText&&(Ye+=3)}if(this.visualSubTitleVisible()&&this.featureSwitchService?.featureSwitches.vcPadding){var ze=this.getSubTitleFontProperties(this.visualSubTitle,Q);this.updateSubVisualTitleWrapping(ut,ze),Le=(0,o.uk)(ze),Le*=this.visualSubTitleWrapped.length||1,Le+=this.getSpacing(o.aO.SubTitle),this.visualSubTitle?.isPlaceholderText&&(Ye+=4)}this.visualDividerVisible()&&this.featureSwitchService?.featureSwitches.vcPadding&&(Me=(J.evaluatedObjects&&J.evaluatedObjects.divider).width??0,Me+=this.getSpacing(o.aO.Divider)),this.visualPausedWarning&&(lt+=H.VisualBannerHeight),this.featureNotSupportedWarning&&this.viewModeState.getMode()===V.nE.Edit&&(lt+=H.VisualBannerHeight);var Ce=K-ae-Ye-lt-Le-Me;this.featureSwitchService.featureSwitches.visualBorderWidth&&this.visualBorder?.visible&&null!=this.visualBorder.width&&(ut-=2*this.visualBorder.width,Ce-=2*this.visualBorder.width);var Ae=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!Ae&&((this.contract.detailVisualLayout||d.Kb.Horizontal)===d.Kb.Horizontal?(Ce-=ae,Ce/=2):(ut-=ne,ut/=2)),{width:Math.max(ut,0),height:Math.max(Ce,0),scale:ee}}getTitleFontProperties(k,K){var ee=(0,P._)(k,"bold"),Q=(0,P._)(k,"italic"),J=(0,P._)(k,"underline"),X={color:"fontColor",family:"fontFamily",size:"fontSize"};ee&&(X.bold="bold"),Q&&(X.italic="italic"),J&&(X.underline="underline");var ne=m.A.create(K);return(0,p.Iv)(k,X,ne,K,void 0,o.PN,o.M9)}getSubTitleFontProperties(k,K){var ee=(0,P._)(k,"bold"),Q=(0,P._)(k,"italic"),J=(0,P._)(k,"underline"),X={color:"fontColor",family:"fontFamily",size:"fontSize"};ee&&(X.bold="bold"),Q&&(X.italic="italic"),J&&(X.underline="underline");var ne=m.A.create(K);return(0,p.Iv)(k,X,ne,K,o.ep,o.$c,o.M9)}updateVisualTitleWrapping(k,K){if(this.visualTitle&&this.visualTitle.text){var ee=(0,p.o)(K),Q=new v.O;if(Q.addAttributes({width:k}),Q.addAttributes({fontSize:`${K.size.px}px`}),Q.addAttributes({fontWeight:`${K.weight}`}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:Q}]);var J=(0,M.cA)(this.visualTitle.text,ee,D.N.measureSvgTextWidth,k,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=J.map(X=>({text:X.trim(),style:Q}))}}updateSubVisualTitleWrapping(k,K){if(this.visualSubTitle&&this.visualSubTitle.text){var ee=(0,p.o)(K),Q=new v.O;if(Q.addAttributes({width:k}),Q.addAttributes({fontSize:`${K.size.px}px`}),Q.addAttributes({fontWeight:`${K.weight}`}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:Q}]);var J=(0,M.cA)(this.visualSubTitle.text,ee,D.N.measureSvgTextWidth,k,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=J.map(X=>({text:X.trim(),style:Q}))}}showDetailVisual(){return this.contract.visibility===d.B8.MaximizeWithData||this.contract.visibility===d.B8.MaximizeWithDataAccessible}showVisualCalcEditor(){return this.contract.visibility===d.B8.VisualCalcEditing}useStylableHeader(){return H.useStylableHeader(this.explorationCapabilities)}static useStylableHeader(k){return k&&k.getCapabilities().visualContainerOptions.useStylableHeader}configureInitializationSpinner(k){this.showInitializationSpinner=!0,k.catch(K=>{}).finally(()=>{this.showInitializationSpinner=!1,this.contract.postProcessing=void 0})}getVisualWarnings(){var k=[],K=this.viewModeState&&this.viewModeState.getMode()===V.nE.Edit;return this.visualPausedWarning&&k.push({id:"visualPaused",viewModel:this.visualPausedWarning,message:this.visualPausedWarning.iconTooltip,canShowVisualWarning:!0,buttonClick:ee=>{this.pauseQueriesService?.refreshVisuals(ee),this.visualPausedWarning=void 0}}),this.featureNotSupportedWarning&&k.push({id:"featureNotSupported",viewModel:this.featureNotSupportedWarning,message:this.featureNotSupportedWarning.iconTooltip,canShowVisualWarning:K,hideBanner:()=>{this.featureNotSupportedWarning=void 0}}),k}}return H.VisualContainerHeaderHeight=20,H.VisualContainerFooterHeight=34,H.VisualContainerDefaultPadding=5,H.PopOutBarHeight=40,H.HeaderInTitleScaleThreshold=.9,H.VisualBannerHeight=38,H.VisualBannerPaddingTopPopOutMode=3,H.VisualHeaderBackgroundColor={R:255,G:255,B:255},H.VisualHeaderTransparency=0,H})()},447272:function(me,j,e){e.d(j,{Uu:function(){return n},Zp:function(){return g},iA:function(){return s},tx:function(){return d}});var r=e(712813),i=e(993076),a=e(473001),t=e(287171),l=e(921929);class g{constructor(o,v,m){this.contract=o,this.currentCanvasLayout=v,this.children=m,this.uiScale=t.ah}setSelected(o){this.isSelected=o}get id(){return this.contract.id}get name(){return this.contract.name}get isHidden(){return this.contract.isHidden}get position(){return this.contract.layouts.withId(this.currentCanvasLayout).position}set position(o){this.contract.layouts.withId(this.currentCanvasLayout).position=o}get isPositioned(){var o=this.position;return 0!==o.width&&0!==o.height}startResize(){for(var o of(this.originalPosition=this.position,this.children))o.startResize()}getScaledPosition(){return this.scaledPosition||this.convertToScaledPosition(this.position)}convertToScaledPosition(o){return(0,l.Co)(o,this.uiScale,!0)}updateViewportForUserResize(o){var v=this.convertToScaledPosition({...o,x:0,y:0});this.updateStyle(v)}updateViewState(){this.scaledPosition=this.convertToScaledPosition(this.position);var o=(0,a.IL)(this.scaledPosition);this.updateStyle(o),this.setTooltip()}updateStyle(o){this.applyStyle||(this.applyStyle=new i.O);var v=(0,r.Z3)(o,void 0);this.applyStyle.addAttributes(v);var m=(0,r.Dh)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(m),this.applyStyle.apply()}setTooltip(){this.tooltip=this.contract.evaluatedObjects?.general?.altText?.toString()}clone(){var o=new g(this.contract,this.currentCanvasLayout,this.children);return _.assign(o,this)}}function n(h,o,v){var m=v&&v.visibleOnly;for(var p of h)m&&p.isHidden||(o(p),d(p)&&n(p.children,o,v))}function d(h){return!!h.children}function s(h){return!h.children}},466683:function(me,j,e){e.d(j,{y:function(){return t}});var r=e(933107),i=e(911672),a=e(5863);class t{constructor(g){g&&(this.visible=g.show,this.position=g.position,this.color=g.color.solid.color,this.preset=g.preset,this.transparency=g.transparency,this.shadowSpread=g.shadowSpread,this.shadowBlur=g.shadowBlur,this.angle=g.angle,this.shadowDistance=g.shadowDistance)}getBoxShadow(){if(this.visible){if(this.preset!==r.Jo){var g=(0,i.NW)(this.preset,this.position);if(g)for(var n in g)this[n]=g[n]}var d=this.position===r.U9?"inset ":"",s=(0,a.yS)(this.transparency),h=Math.PI/180*this.angle;return d+Math.cos(h)*this.shadowDistance+"px "+Math.sin(h)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,a.ND)(this.color,s)}return""}}},637590:function(me,j,e){e.d(j,{d:function(){return i},q:function(){return r}});var r=function(a){return a[a.Fields=0]="Fields",a[a.Format=1]="Format",a[a.Analytics=2]="Analytics",a}({}),i=function(a){return a[a.Fields=0]="Fields",a[a.Format=1]="Format",a}({})},691605:function(me,j,e){e.d(j,{$D:function(){return h},CA:function(){return P},CF:function(){return a},C_:function(){return D},Cv:function(){return c},D6:function(){return W},DA:function(){return J},DE:function(){return x},Ds:function(){return Z},ED:function(){return Q},EK:function(){return oe},Ec:function(){return s},IH:function(){return k},IW:function(){return t},Im:function(){return m},JR:function(){return S},Jp:function(){return N},Jr:function(){return g},Jy:function(){return n},KT:function(){return St},Kw:function(){return u},L5:function(){return I},Lt:function(){return F},Ml:function(){return ut},Mm:function(){return Y},Mw:function(){return T},NT:function(){return Me},RF:function(){return Ye},RT:function(){return U},Ts:function(){return d},Uk:function(){return R},V5:function(){return K},VF:function(){return f},VP:function(){return z},WQ:function(){return o},Wn:function(){return ee},XB:function(){return i},Xz:function(){return H},_x:function(){return l},bd:function(){return Le},i9:function(){return M},iH:function(){return O},iw:function(){return B},jQ:function(){return v},lC:function(){return p},lg:function(){return y},lu:function(){return V},mz:function(){return b},n5:function(){return ne},o6:function(){return X},p1:function(){return ae},s1:function(){return A},s4:function(){return lt},tU:function(){return E},wM:function(){return C},xF:function(){return w},y:function(){return L}});var r=e(364515),i=-1,a=r.CF,t="extension",l=!0,g="page",n="report",d="group",s=12,h=12,o="x_position",v="y_position",m=960,p=720,y="#FFFFFF",S="#EAEAEA",C=0,u=0,E="#000000",c="#ffffff",f="#117865",D="#ffffff",b="#BDBDBD",T=200,M=32,V=180,w=420,P=!0,N="#C8C8C8",I=12,O=10,R=9,W="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",F=0,U=0,B=!0,x="#C8C8C8",A=9,L="Available",Y="Applied",z="#C8C6C4",H="#FFFFFF",Z="#252423",k=0,K=1280,ee=720,Q=296,J=592,X=816,ne=1056,ae=320,oe=240,Me=10,Ye=60,Le=40,lt="PT30M";function ut(){return{color:y,transparency:k}}function St(){return{color:S,transparency:C}}},413667:function(me,j,e){e.d(j,{ZU:function(){return t},lY:function(){return i},uR:function(){return a}});var r=e(844839),i="CDM",a="APR",t=(0,r.s)([{value:a,displayName:l=>l.get("PageRefresh_APR")},{value:i,displayName:l=>l.get("ChangeDetection")}])},580626:function(me,j,e){e.d(j,{$:function(){return r},y:function(){return i}});class r{static isValidBookmark(t){return t&&(r.isBookmarkGroup(t)||r.isStateBookmark(t))}static isBookmarkGroup(t){return void 0!==t.children}static isStateBookmark(t){return!r.isBookmarkGroup(t)}static isWebBookmark(t){return void 0!==t.type}}var i=function(a){return a.Add="AddBookmark",a.Apply="ApplyBookmark",a.Remove="RemoveBookmark",a.Move="MoveBookmark",a.Update="UpdateBookmark",a.Rename="RenameBookmark",a.Group="GroupBookmarks",a.Ungroup="UngroupBookmarks",a}({})},338643:function(me,j,e){e.d(j,{Ig:function(){return v},_w:function(){return m},gr:function(){return s},jf:function(){return d},o:function(){return h},yz:function(){return o}});var r=e(237521),i=e(869574),a=e(607055),t=e(774973),l=e(935236),g=e(785463),n=e(691605);function d(p=[]){return(0,l.s0)((0,l.u_)(p))}function s(p){var y=n.CF;return{type:a.Jih,id:p.id,name:y,objectId:p.dbName,dsr:{schemaName:y,vsName:p.vsName,dbName:p.dbName,modelId:p.id,isQueryCachingEnabled:p.capacityObjectId&&void 0===p.queryCachingState?void 0:p.queryCachingState===r.f.Enabled,lastRefreshTime:p.lastRefreshTime,isLimitedParallelQueryModel:p.datasetHost===t.d2.ASOnPrem}}}function h(p){return _.includes(Object.keys(p),"extends")}function o(p,y){if(g.Y.assertAnyValue(p,"dataSources"),g.Y.assertAnyValue(y,"query"),!_.isEmpty(p)){var S=(0,i.y9)(y);return m(_.isEmpty(S)?p:_.filter(p,u=>_.includes(S,u.name)))}}function v(p,y){if(g.Y.assertAnyValue(p,"dataSources"),g.Y.assertAnyValue(y,"query"),!_.isEmpty(p)){var S=(0,i.y9)(y);return _.isEmpty(S)?_.filter(p,C=>!h(C)):_.chain(p).filter(C=>_.includes(S,C.name)).map(C=>h(C)?_.find(p,u=>u.name===C.extends):C).uniq().value()}}function m(p){return _.map(p,y=>y[(0,i.E2)(y)])}},64974:function(me,j,e){e.d(j,{B1:function(){return o},B8:function(){return g},G4:function(){return y},GS:function(){return r},Hq:function(){return E},Kb:function(){return n},Mw:function(){return s},NH:function(){return i},NJ:function(){return u},Pt:function(){return a},S_:function(){return t},X9:function(){return c},ZM:function(){return p},cN:function(){return S},de:function(){return f},gX:function(){return m},pI:function(){return l},r3:function(){return d},td:function(){return v},th:function(){return C},wv:function(){return h}});var r=function(D){return D[D.Auto=0]="Auto",D[D.User=1]="User",D[D.Drill=2]="Drill",D[D.Include=3]="Include",D[D.Exclude=4]="Exclude",D[D.Drillthrough=5]="Drillthrough",D[D.CrossDrill=6]="CrossDrill",D[D.URL=7]="URL",D}({}),i=function(D){return D[D.Drill=0]="Drill",D}({}),a=function(D){return D.Maximize="maximize",D.Spotlight="spotlight",D.Elevation="elevation",D.Hidden="hidden",D}({}),t=function(D){return D.Default="Default",D.Copilot="Copilot",D.CheckboxTickedInFieldList="CheckboxTickedInFieldList",D.DraggedToCanvas="DraggedToCanvas",D.VisualTypeIconClicked="VisualTypeIconClicked",D.DraggedToFieldWell="DraggedToFieldWell",D.InsertVisualButton="InsertVisualButton",D.WhatIfParameterControl="WhatIfParameterControl",D.QnaAppBar="QnaAppBar",D.QnaDoubleClick="QnaDoubleClick",D.QnaKeyboardShortcut="QnaKeyboardShortcut",D.FieldParameterControl="FieldParameterControl",D.CanvasBackgroundContextMenu="CanvasBackgroundContextMenu",D.AssistedCreation="AssistedCreation",D.ContextMenuPaste="ContextMenuPaste",D.CopyPaste="CopyPaste",D.SummarizeVisualContainer="SummarizeVisualContainer",D}({}),l=function(D){return D[D.None=0]="None",D[D.DrillDown=1]="DrillDown",D[D.DrillToDetails=2]="DrillToDetails",D[D.Drillthrough=3]="Drillthrough",D}({}),g=function(D){return D[D.None=0]="None",D[D.Maximize=1]="Maximize",D[D.MaximizeWithData=2]="MaximizeWithData",D[D.Spotlight=4]="Spotlight",D[D.MaximizeWithDataAccessible=8]="MaximizeWithDataAccessible",D[D.VisualCalcEditing=16]="VisualCalcEditing",D[D.Elevation=32]="Elevation",D}({}),n=function(D){return D[D.Horizontal=1]="Horizontal",D[D.Vertical=2]="Vertical",D}({}),d=function(D){return D[D.Ascending=1]="Ascending",D[D.Descending=2]="Descending",D[D.Custom=3]="Custom",D}({}),s=function(D){return D.Default="Default",D.SharePoint="SharePoint",D.Teams="Teams",D.QuickCreate="QuickCreate",D.EmbedQuickCreate="EmbedQuickCreate",D.Datamart="Datamart",D.DataExplore="DataExplore",D}({}),h=function(D){return D[D.PagesPane=0]="PagesPane",D[D.Bottom=1]="Bottom",D}({}),o=function(D){return D[D.None=0]="None",D[D.Shared=1]="Shared",D[D.Premium=2]="Premium",D[D.SQLServerAS=3]="SQLServerAS",D[D.AzureAS=4]="AzureAS",D[D.Custom=5]="Custom",D[D.Auto=6]="Auto",D}({}),v=function(D){return D[D.Dynamic=0]="Dynamic",D[D.FitToPage=1]="FitToPage",D[D.FitToWidth=2]="FitToWidth",D[D.ActualSize=3]="ActualSize",D[D.ActualSizeTopLeft=4]="ActualSizeTopLeft",D}({}),m=function(D){return D[D.Regular=0]="Regular",D[D.Tooltip=1]="Tooltip",D[D.Drillthrough=2]="Drillthrough",D}({}),p=function(D){return D.Default="Default",D.Copilot="Copilot",D}({}),y=function(D){return D[D.Default=0]="Default",D[D.None=1]="None",D}({}),S=function(D){return D[D.Default=0]="Default",D[D.Drillthrough=1]="Drillthrough",D[D.Tooltip=2]="Tooltip",D}({}),C=function(D){return D[D.Default=0]="Default",D[D.CrossReport=1]="CrossReport",D}({}),u=function(D){return D[D.Default=0]="Default",D[D.DataFilter=1]="DataFilter",D[D.HighlightFilter=2]="HighlightFilter",D[D.NoFilter=3]="NoFilter",D}({}),E=function(D){return D[D.WebBookmark=0]="WebBookmark",D[D.ReportBookmark=1]="ReportBookmark",D[D.EmbedBookmark=2]="EmbedBookmark",D[D.ExpiredSharedView=3]="ExpiredSharedView",D[D.NotFound=4]="NotFound",D[D.None=5]="None",D[D.DefaultPersonalBookmarkDisabled=6]="DefaultPersonalBookmarkDisabled",D[D.PersistentStateDisabled=7]="PersistentStateDisabled",D[D.InvalidSubscriptionBookmark=8]="InvalidSubscriptionBookmark",D}({}),c=function(D){return D.NotFound="NotFound",D.Expired="Expired",D.ApplyError="ApplyError",D.InitUnexpected="InitUnexpected",D}({}),f=function(D){return D[D.ScaleMode=0]="ScaleMode",D[D.ScrollMode=1]="ScrollMode",D}({})},311096:function(me,j,e){e.d(j,{F:function(){return t},K:function(){return a}});var r=e(329332),i=e(884149),a=function(l){return l[l.Unspecified=0]="Unspecified",l[l.QnaSuggestQuestions=1]="QnaSuggestQuestions",l[l.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",l}({}),t={outspacePane:{displayName:(0,r.D)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,r.D)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:i.ZU}}}}}},992156:function(me,j,e){e.d(j,{B1:function(){return t},IV:function(){return a},RD:function(){return l},Vh:function(){return r},YV:function(){return g},_D:function(){return n},vb:function(){return i}});var r=function(d){return d[d.QueryGeneration=0]="QueryGeneration",d[d.NoData=1]="NoData",d[d.QueryError=2]="QueryError",d[d.SchemaLoadingError=3]="SchemaLoadingError",d[d.GenerateDetailsTable=4]="GenerateDetailsTable",d[d.GenerateFiltersDescription=5]="GenerateFiltersDescription",d[d.EmptyColumnName=6]="EmptyColumnName",d[d.UnhandledExtensionSchema=7]="UnhandledExtensionSchema",d}({}),i=function(d){return d[d.Csv=0]="Csv",d[d.Xlsx=1]="Xlsx",d[d.Json=2]="Json",d[d.ConnectedXlsx=3]="ConnectedXlsx",d}({}),a=function(d){return d.Csv="Csv",d.Xlsx="Xlsx",d.Json="Json",d}({}),t=function(d){return d[d.Summarized=0]="Summarized",d[d.Underlying=1]="Underlying",d[d.MatrixDataLayout=2]="MatrixDataLayout",d}({}),l=function(d){return d[d.Summarized=0]="Summarized",d[d.Underlying=1]="Underlying",d[d.MatrixDataLayout=2]="MatrixDataLayout",d[d.ConnectedXlsx=3]="ConnectedXlsx",d}({}),g=function(d){return d[d.AllowSummarizedAndUnderlying=0]="AllowSummarizedAndUnderlying",d[d.AllowSummarized=1]="AllowSummarized",d[d.None=2]="None",d}({}),n=function(d){return d[d.Allowed=0]="Allowed",d[d.NotAllowedByAdmin=1]="NotAllowedByAdmin",d[d.NotAuthorized=2]="NotAuthorized",d[d.InsufficientLicense=3]="InsufficientLicense",d[d.UnsupportedScenario=4]="UnsupportedScenario",d[d.Unavailable=5]="Unavailable",d}({})},668309:function(me,j,e){e.d(j,{RJ:function(){return a},Xe:function(){return i},an:function(){return r}});var r="filter",i={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},a=function(t){return t[t.Categorical=0]="Categorical",t[t.Range=1]="Range",t[t.Advanced=2]="Advanced",t[t.Passthrough=3]="Passthrough",t[t.Visual=4]="Visual",t[t.TopN=5]="TopN",t[t.Include=6]="Include",t[t.Exclude=7]="Exclude",t[t.RelativeDate=8]="RelativeDate",t[t.Tuple=9]="Tuple",t[t.RelativeTime=10]="RelativeTime",t[t.VisualTopN=11]="VisualTopN",t}({})},399689:function(me,j,e){e.d(j,{x:function(){return r}});var r=function(i){return i[i.Self=1]="Self",i[i.Slicer=2]="Slicer",i}({})},511931:function(me,j,e){e.d(j,{Cq:function(){return l},Gz:function(){return n},Zj:function(){return g}});var r=e(329332),i=e(413667),a=e(884149),t=e(167449),l={pageInformation:{displayName:(0,r.D)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,r.D)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,r.D)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,r.D)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,r.D)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,r.D)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,r.D)("Type"),type:{enumeration:t.Z}},pageSizeWidth:{displayName:(0,r.D)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,r.D)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,r.D)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,r.D)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,r.D)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,r.D)("Visual_Alignment_Vertical"),type:{enumeration:a.ZU}}}},outspace:{displayName:(0,r.D)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,r.D)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,r.D)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,r.D)("Transparency"),type:{numeric:!0},description:(0,r.D)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,r.D)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,r.D)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,r.D)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,r.D)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,r.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,r.D)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,r.D)("Visual_Border"),type:{bool:!0},description:(0,r.D)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,r.D)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,r.D)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,r.D)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,r.D)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,r.D)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,r.D)("Transparency"),type:{integer:!0},description:(0,r.D)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,r.D)("Visual_Border"),type:{bool:!0},description:(0,r.D)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,r.D)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,r.D)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,r.D)("Visual_TextSize"),type:{integer:!0},description:(0,r.D)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,r.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,r.D)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,r.D)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,r.D)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,r.D)("PageRefresh"),properties:{show:{displayName:(0,r.D)("Show"),type:{bool:!0}},refreshType:{displayName:(0,r.D)("AutoPageRefreshType"),type:{enumeration:i.ZU}},duration:{displayName:(0,r.D)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,r.D)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,r.D)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,r.D)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,r.D)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,r.D)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,r.D)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,r.D)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function g(d){return _.filter(d,s=>!s.transient)}var n={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},884149:function(me,j,e){e.d(j,{C2:function(){return i},Mn:function(){return a},ZU:function(){return l},mc:function(){return t}});var r=e(844839),i=function(g){return g[g.Top=0]="Top",g[g.Middle=1]="Middle",g}({}),a="Top",t="Middle",l=(0,r.s)([{value:a,displayName:g=>g.get("Top")},{value:t,displayName:g=>g.get("Middle")}])},167449:function(me,j,e){e.d(j,{Z:function(){return a},m:function(){return i}});var r=e(844839),i={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},a=(0,r.s)([{value:i.Widescreen,displayName:t=>t.get("PagePropertyPane_PageSizeType_Widescreen")},{value:i.Standard,displayName:t=>t.get("PagePropertyPane_PageSizeType_Standard")},{value:i.Letter,displayName:t=>t.get("PagePropertyPane_PageSizeType_Letter")},{value:i.Tooltip,displayName:t=>t.get("Tooltip")},{value:i.Custom,displayName:t=>t.get("Custom")}])},918460:function(me,j,e){e.d(j,{Hl:function(){return t},II:function(){return h},N$:function(){return n},ZU:function(){return l},_I:function(){return m},dK:function(){return d},o8:function(){return v},w7:function(){return s},yB:function(){return a}});var r=e(168376),i=e(844839),a="Default",t="Canvas",l=(0,i.s)([{value:a,displayName:p=>p.get("Default")},{value:t,displayName:p=>p.get("ReportPage")}]),n="___AUTO___";function d(p,y=!1){var S=p?.show;return!1===S||void 0===S&&y}function s(p){var y=p?.show;return!y}function h(p){return!!p&&!p.show}function v(p){if(p){var y={visualType:p.visualType};p.syncGroup&&(y.syncGroup=_.cloneDeep(p.syncGroup)),p.columnProperties&&(y.columnProperties=_.cloneDeep(p.columnProperties)),p.query&&(y.query=p.query.clone()),p.queryOptions&&(y.queryOptions=_.cloneDeep(p.queryOptions)),p.objects&&(y.objects=(0,r.o8)(p.objects)),p.vcObjects&&(y.vcObjects=(0,r.o8)(p.vcObjects)),function(p,y){p.mobileObjects&&(y.mobileObjects=(0,r.o8)(p.mobileObjects)),p.mobileVcObjects&&(y.mobileVcObjects=(0,r.o8)(p.mobileVcObjects))}(p,y),p.hasDefaultSort&&(y.hasDefaultSort=p.hasDefaultSort);var S=p.conversionSourceContext;return S&&(y.conversionSourceContext={visualType:S.visualType,query:S.query&&S.query.clone(),syncGroup:S.syncGroup}),p.display&&(y.display=_.cloneDeep(p.display)),p.autoSelectVisualType&&(y.autoSelectVisualType=p.autoSelectVisualType),y.hasUsedSmallMultiples=p.hasUsedSmallMultiples,y}}function m(p,y){if(!p)return y.resolve();var S=p.getAdapter();return S?S.enumerateObjectRepetitionAsync?S.enumerateObjectRepetitionAsync():S.enumerateObjectRepetition?y.resolve(S.enumerateObjectRepetition()):y.resolve():y.resolve()}},4509:function(me,j,e){e.d(j,{$F:function(){return f},De:function(){return N},Mp:function(){return T},Mx:function(){return c},NJ:function(){return w},Pw:function(){return v},Xe:function(){return b},dK:function(){return V},dP:function(){return P},f_:function(){return S},k1:function(){return D},o8:function(){return M}});var r=e(64974),i=e(785463),a=e(596920),t=e(653621),l=e(329332),g=e(844839),n=e(143924),d=e(918460),s=e(613864),h=e(409310),o=e(933107);function v(I){return I.type||h.kc}var y="Heading3",S="Heading4",E=(0,g.s)([{value:"Normal",displayName:I=>I.get("Normal")},{value:"Heading2",displayName:I=>I.get("Heading_2")},{value:y,displayName:I=>I.get("Heading_3")},{value:S,displayName:I=>I.get("Heading_4")},{value:"Heading5",displayName:I=>I.get("Heading_5")},{value:"Heading6",displayName:I=>I.get("Heading_6")}]),c=y,f="none",D={singleVisual:{visualType:"uninitializedVisual"}};(0,t.o)(D);var b={title:{displayName:(0,l.D)("Visual_Title"),description:(0,l.D)("Visual_TitleDescription"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,l.D)("Visual_Title_Text"),description:(0,l.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,l.D)("Visual_Title_Heading_Attribute"),description:(0,l.D)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:E}},titleWrap:{displayName:(0,l.D)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,l.D)("Visual_FontColor"),description:(0,l.D)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,l.D)("Visual_Title_Alignment"),description:(0,l.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,l.D)("Visual_TextSize"),description:(0,l.D)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,l.D)("Visual_SubTitle"),description:(0,l.D)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,l.D)("Visual_Title_Text"),description:(0,l.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,l.D)("Visual_Title_Heading_Attribute"),description:(0,l.D)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:E}},titleWrap:{displayName:(0,l.D)("Visual_WordWrap"),type:{bool:!0}},fontColor:{displayName:(0,l.D)("Visual_FontColor"),description:(0,l.D)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,l.D)("Visual_Title_Alignment"),description:(0,l.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,l.D)("Visual_TextSize"),description:(0,l.D)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,l.D)("Visual_Divider"),properties:{...(0,n.ai)({strokeShow:"show",strokeColor:"color",strokePattern:"style",strokeWidth:"width"}),ignorePadding:{displayName:(0,l.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,l.D)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,l.D)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,l.D)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,l.D)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,l.D)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,l.D)("Visual_Background"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,l.D)("Generic_Color"),description:(0,l.D)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.D)("Transparency"),description:(0,l.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,l.D)("Visual_Padding"),properties:{top:{displayName:(0,l.D)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,l.D)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,l.D)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,l.D)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,l.D)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,l.D)("Visual_General_Properties"),properties:{x:{displayName:(0,l.D)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,l.D)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,l.D)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,l.D)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,l.D)("Visual_General_Properties_Description"),placeHolderText:(0,l.D)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,l.D)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,l.D)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,l.D)("Visual_General_KeepLayerOrder"),description:(0,l.D)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,l.D)("Visual_Border"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,l.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,l.D)("Visual_Radius"),type:{numeric:!0}},width:{displayName:(0,l.D)("Visual_General_Properties_Width"),type:{numeric:!0}}}},dropShadow:{displayName:(0,l.D)("Visual_DropShadow"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,l.D)("Visual_DropShadow_Preset"),type:{enumeration:o.k}},position:{displayName:(0,l.D)("Visual_DropShadow_Position"),type:{enumeration:o.yX}},color:{displayName:(0,l.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.D)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,l.D)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,l.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,l.D)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,l.D)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,l.D)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,l.D)("Type"),description:(0,l.D)("Visual_VisualLink_Type_Description"),type:{enumeration:h.Zk}},bookmark:{displayName:(0,l.D)("Generic_Bookmark"),description:(0,l.D)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,l.D)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,l.D)("Destination"),description:(0,l.D)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,l.D)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,l.D)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,l.D)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,l.D)("Destination"),description:(0,l.D)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,l.D)("Tooltip"),description:(0,l.D)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,l.D)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,l.D)("Web_Url"),type:{misc:{webUrl:!0}}},dataFunction:{displayName:(0,l.D)("Data_Function"),type:{itemLocation:{metadata:{dataFunction:!0}}}}}},visualTooltip:{displayName:(0,l.D)("Tooltip"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,l.D)("Type"),description:(0,l.D)("Visual_Tooltip_Type_Description"),type:{enumeration:d.ZU}},section:{displayName:(0,l.D)("Page"),description:(0,l.D)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,l.D)("Visual_Label_FontColor"),description:(0,l.D)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,l.D)("Visual_Value_FontColor"),description:(0,l.D)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,l.D)("Visual_TextSize"),description:(0,l.D)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,l.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.D)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,l.D)("Visual_FontFamily"),description:(0,l.D)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,l.D)("Transparency"),description:(0,l.D)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,l.D)("Visual_Action_FontColor"),description:(0,l.D)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,l.D)("Visual_Label_FontColor"),description:(0,l.D)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,l.D)("Visual_Value_FontColor"),description:(0,l.D)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,l.D)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,l.D)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,l.D)("Visual_Header"),description:(0,l.D)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,l.D)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,l.D)("Visual_Border"),description:(0,l.D)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.D)("Transparency"),description:(0,l.D)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,l.D)("VisualHeader_Foreground_Color"),description:(0,l.D)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,l.D)("VisualHeader_ShowVisualInformationButton"),description:(0,l.D)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,l.D)("VisualHeader_ShowVisualWarningButton"),description:(0,l.D)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,l.D)("VisualHeader_ShowVisualErrorButton"),description:(0,l.D)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,l.D)("VisualHeader_ShowDrillRoleSelector"),description:(0,l.D)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,l.D)("VisualHeader_ShowDrillUpButton"),description:(0,l.D)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,l.D)("VisualHeader_ShowDrillToggleButton"),description:(0,l.D)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,l.D)("VisualHeader_ShowDrillDownLevelButton"),description:(0,l.D)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,l.D)("VisualHeader_ShowDrillDownExpandButton"),description:(0,l.D)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,l.D)("VisualHeader_ShowPinButton"),description:(0,l.D)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,l.D)("VisualHeader_ShowFilterRestatementButton"),description:(0,l.D)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,l.D)("VisualHeader_ShowFocusModeButton"),description:(0,l.D)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,l.D)("VisualHeader_ShowCopyVisualImageButton"),description:(0,l.D)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,l.D)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,l.D)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,l.D)("VisualHeader_ShowOptionsMenu"),description:(0,l.D)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,l.D)("VisualHeader_ShowCommentButton"),description:(0,l.D)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,l.D)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,l.D)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,l.D)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,l.D)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,l.D)("SmartNarratives_ToolTip"),description:(0,l.D)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}},showSetAlertButton:{displayName:(0,l.D)("VisualHeader_SetAlertButton"),description:(0,l.D)("VisualHeader_SetAlertButton_Description"),type:{bool:!0}},showFollowVisualButton:{displayName:(0,l.D)("VisualHeader_FollowVisualButton"),description:(0,l.D)("VisualHeader_FollowVisualButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,l.D)("VisualHeaderTooltip"),properties:{type:{displayName:(0,l.D)("Type"),type:{enumeration:s.ZU}},section:{displayName:(0,l.D)("Page"),description:(0,l.D)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,l.D)("VisualHeaderTooltip_Text"),description:(0,l.D)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,l.D)("Generic_Color"),description:(0,l.D)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,l.D)("Visual_TextSize"),description:(0,l.D)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,l.D)("Visual_FontFamily"),description:(0,l.D)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,l.D)("Bold"),type:{bool:!0}},italic:{displayName:(0,l.D)("Italic"),type:{bool:!0}},underline:{displayName:(0,l.D)("Underline"),type:{bool:!0}},background:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,l.D)("Transparency"),description:(0,l.D)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,l.D)("Generic_Color"),description:(0,l.D)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,l.D)("Background_Color"),description:(0,l.D)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},T=(0,a.cM)(b);function M(I,O){if(I){var R=O.serializeVisualContainer(I);return O.deserializeCanvasItem(R,!0)}}function V(I){return!!I.display&&I.display.mode===r.Pt.Hidden}function w(I,O){I.display=O?{mode:r.Pt.Hidden}:void 0}function P(I){if(I.visualContainer)return I.visualContainer.config.singleVisual.visualType;i.Y.assertFail("PinData has no visualType")}function N(I){return I===r.B8.VisualCalcEditing}},73689:function(me,j,e){e.d(j,{Cq:function(){return t},Mp:function(){return l},NJ:function(){return n},dK:function(){return g},ge:function(){return a},k1:function(){return d}});var r=e(596920),i=e(329332),a="visualContainerGroup",t={background:{displayName:(0,i.D)("Visual_Background"),properties:{show:{displayName:(0,i.D)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,i.D)("Transparency"),description:(0,i.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,i.D)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,i.D)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,i.D)("Visual_General_Properties"),properties:{x:{displayName:(0,i.D)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,i.D)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,i.D)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,i.D)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,i.D)("Visual_General_Properties_Description"),placeHolderText:(0,i.D)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},l=(0,r.cM)(t);function g(s){return s.isHidden}function n(s,h){s.isHidden=h}function d(s,h){s.displayName=h}},983240:function(me,j,e){e.d(j,{N5:function(){return l},Uu:function(){return a},iA:function(){return n},tx:function(){return g}});var r=e(4509),i=e(73689);function a(s,h,o){return t(!1,o&&o.visibleOnly,s,h)}function t(s,h,o,v){for(var m of o){var p=s||d(m);h&&p||(v(m,p),g(m)&&t(p,h,m.children,v))}}function l(s){var h=[],o=[];for(var v of s)n(v)?h.push(v):o.push(v);return[h,o]}function g(s){return!!s.children}function n(s){return!s.children}function d(s){return g(s)?(0,i.dK)(s):(0,r.dK)(s.config.singleVisual)}},933107:function(me,j,e){e.d(j,{Cj:function(){return t},Jo:function(){return i},Lw:function(){return a},NQ:function(){return s},U9:function(){return m},bW:function(){return g},bz:function(){return d},hL:function(){return v},k:function(){return p},kW:function(){return n},xm:function(){return l},xn:function(){return o},yS:function(){return h},yX:function(){return y}});var r=e(844839),i="Custom",a="Top",t="TopLeft",l="TopRight",g="Center",n="CenterLeft",d="CenterRight",s="Bottom",h="BottomLeft",o="BottomRight",v="Outer",m="Inner",p=(0,r.s)([{value:o,displayName:S=>S.get("Visual_LabelPosition_BottomRight")},{value:s,displayName:S=>S.get("Bottom")},{value:h,displayName:S=>S.get("Visual_LabelPosition_BottomLeft")},{value:d,displayName:S=>S.get("Visual_TextAlignment_Right")},{value:g,displayName:S=>S.get("Visual_TextAlignment_Center")},{value:n,displayName:S=>S.get("Visual_TextAlignment_Left")},{value:l,displayName:S=>S.get("Visual_LabelPosition_TopRight")},{value:a,displayName:S=>S.get("Top")},{value:t,displayName:S=>S.get("Visual_LabelPosition_TopLeft")},{value:i,displayName:S=>S.get("Custom")}]),y=(0,r.s)([{value:v,displayName:S=>S.get("Visual_DonutLabelPosition_Outside")},{value:m,displayName:S=>S.get("Visual_DonutLabelPosition_Inside")}])},613864:function(me,j,e){e.d(j,{EY:function(){return a},Hl:function(){return t},ZU:function(){return l}});var r=e(844839),i=e(918460),a=i.yB,t=i.Hl,l=(0,r.s)([{value:i.yB,displayName:g=>g.get("Text")},{value:t,displayName:g=>g.get("ReportPage")}])},409310:function(me,j,e){e.d(j,{Cl:function(){return s},FD:function(){return v},M_:function(){return m},R_:function(){return g},UX:function(){return l},Xh:function(){return a},Zk:function(){return o},je:function(){return d},kc:function(){return i},ly:function(){return h},n:function(){return t},om:function(){return n}});var r=e(844839),i="Back",a="Bookmark",t="Drillthrough",l="PageNavigation",g="Qna",n="WebUrl",d="ApplyAllSlicers",s="ClearAllSlicers",h="DataFunction",o=(0,r.s)([{value:i,displayName:p=>p.get("Generic_Back")},{value:a,displayName:p=>p.get("Generic_Bookmark")},{value:t,displayName:p=>p.get("Drillthrough")},{value:l,displayName:p=>p.get("PageNavigation")},{value:g,displayName:p=>p.get("Generic_Qna")},{value:n,displayName:p=>p.get("Web_Url")},{value:d,displayName:p=>p.get("ReportAppBar_ApplyAllSlicers")},{value:s,displayName:p=>p.get("ReportAppBar_ClearAllSlicers")},{value:h,displayName:p=>p.get("Data_Function")}]),v="",m=""},999104:function(me,j,e){e.d(j,{r:function(){return u}});var r=e(308699),i=e(935236),a=e(785463),t=e(928912),l=e(904046),g=e(425023),n=e(402194),d=e(446024),s=e(210340),h=e(563147),o=e(147854),v=e(761448),m=e(676741),p=e(810818),y=e(270475),S=e(978450),C=e(662785);class u{constructor(c,f,D,b=!1){for(var T in this.defn=c,this.projections=f,this.expansionStates=D||[],this._isDrillDisabled=b,f)_.isEmpty(f[T].activeProjectionRefs)||this.ensureActiveItems(T)}get isDrillDisabled(){return this._isDrillDisabled}ensureExpansionState(c,f){a.Y.assertNonEmpty(c,"roles");var D=(0,l.uS)(this.expansionStates,c);if(!D){a.Y.assert(()=>!this._isDrillDisabled,"should not ensure expansion state when drill is disabled"),D=new l.nu(c,f);var b=this.getRolesUniqueProjectionRefs(c),T=this.getRolesUniqueActiveProjectionsRefs(c,f.canCollapseRoot);D.updateLevels(b,T.length),this.expansionStates.push(D)}return a.Y.assert(()=>!!D.supportsMerge==!!f.supportsMerge),D}add(c,f,D){a.Y.assertValue(c,"expr"),D=D||{};var{exprName:b,fieldIndex:T,parameter:M,indexInParameter:V,nativeReferenceName:w,isHidden:P}=D,N=this.defn.selectNameOf(c),I=!!N;N||(N=this.addSelect(c,b,w)),this.getRoleProjections(f)||(this.projections[f]=new g.yl([]));var O={queryRef:N};P&&(O.hidden=P);var R=0,W=this.projections[f];if(M){var F=V??M.length??0;W.addProjection(O,{parameter:M,indexInParameter:F}),R=W.getParameterProjectionIndex(M,F),this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,N,R)}else{var B=W.all();null==T||T>B.length?(W.addProjection(O),R=B.length-1):(W.addProjection(O,{fieldIndex:T}),R=W.getColumnProjectionIndex(T),this.addNewQueryRefToActiveProjectionRefsIfNeeded(f,N,R))}return this.updateExpansionStates(f,(A,L)=>A.addLevel(N,L+R)),I&&this.resetHiddenState(N),R}toggleHidden(c){for(var f in this.projections)this.projections[f].toggleHidden(c)}resetAllHidden(){for(var c in this.projections)this.projections[c].resetAllHiddenState()}addParameter(c,f,D,b){a.Y.assertValue(c,"expr"),this.getRoleProjections(f)||(this.projections[f]=new g.yl([]));var T=this.projections[f];null==D&&(D=T.getFieldCount());var M={expr:c,index:D,length:void 0};return null!=b&&(M.sortDirection=b),T.addFieldParameter(M),D}removeParameterBySQExpr(c){var f=this.projections;for(var D in f){var b=f[D],T=b.findParameterBySQExpr(c);_.isEmpty(T)||b.removeFieldParameters(T)}}removeParameter(c){var f=!1,D=this.projections;for(var b in D)f=this.removeParameterByRoleName(c,b)||f;return f}removeParameterByRoleName(c,f){var D=this.projections[f];return D?.removeFieldParameters([c])}getParameterByFieldIndex(c,f){var D=this.projections[f];return D?.getParameterByFieldIndex(c)}getResolveParameterResultsByRole(){var c={},f=this.projections;if(f)for(var D in f){var b=this.getQueryFieldParametersByRole(D);if(!_.isEmpty(b)){var T=c[D]=[];for(var M of b){var w=f[D].getParameterProjections(M).map(P=>({expr:this.defn.select().withName(P.queryRef).expr,alias:void 0}));T.push({parameter:M,result:w})}}}return c}removeExpr(c,f,D,b){if(f){for(var T=this.defn.select(),M=!1,V=T.length-1;V>=0;--V){var w=T[V].expr;if(u.areEqualIgnoringAggregate(w,c,D)){if(!this.removeAllProjectionsForExpr(w,b))return!1;M=!0}}return M}return this.removeAllProjectionsForExpr(c,b)}getQueryRefByProjectionIndex(c,f){var D=this.projections[c];if(D){var b=D.getQueryRefs();if(f<b.length)return b[f]}}getQueryRef(c,f){a.Y.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined");var D=f.fieldIndex,b=f.parameter,T=f.indexInParameter,M=(0,g.Lw)(this.projections,c);if(M)return b?M.getParameterProjections(b)[T].queryRef:D>=M.getFieldCount()?void 0:M.getColumnProjection(D).queryRef}removeProjection(c,f){a.Y.assert(()=>f&&(void 0!==f.fieldIndex||void 0!==f.parameter&&void 0!==f.indexInParameter),"Index or parameter should be defined"),a.Y.assertValue(this.projections[c],"expected projections to be defined for given role");var D=f.fieldIndex,b=f.parameter,T=f.indexInParameter,M=this.getQueryRef(c,f);if(!M)return!1;var V=this.defn.select().withName(M);if(!V)return!1;var I,O,w=V.expr,P=this.projections[c],N=P.all();b?(I={parameter:b,indexInParameter:T},O=P.getParameterProjectionIndex(b,T)):(I={fieldIndex:D},O=P.getColumnProjectionIndex(D)),P.removeProjection(I);var R=this.projections[c].activeProjectionRefs;_.pull(R,M);var W=_.isEmpty(N);return W&&_.isEmpty(P.getFieldParameters())?delete this.projections[c]:!W&&R&&0===R.length&&R.push(N[Math.max(0,O-1)].queryRef),this.updateExpansionStates(c,(F,U)=>F.removeLevel(U+O)),this.isUsed(M)||this.removeExpr(w,!1),!0}moveProjection(c,f,D,b){if(f===D||f<0||D<0)return!1;var T,M=this.projections[c];M&&(T=M.all());var V=M.convertFieldIndexToProjectionIndex(D),w=M.convertFieldIndexToProjectionIndex(f),P=M.convertFieldIndexToProjectionIndex(D+b);if(!T||P>T.length)return!1;var N=this.projections[c].activeProjectionRefs,I=M.moveFields(f,D,b),O=V;if(D>f&&(O=P),N)if(O<N.length){var R=_.take(T,M.convertFieldIndexToProjectionIndex(D+1));this.projections[c].activeProjectionRefs=_.map(R,F=>F.queryRef)}else if(w<N.length){for(var W of I)_.pull(N,W.queryRef);0===N.length&&N.push(T[0].queryRef)}return this.updateExpansionStates(c,(F,U)=>F.moveLevels(U+w,U+V,b)),!0}setAggregate(c,f,D,b){return this.updateExpression(c,f,T=>(0,h.a)(T,D),b)}removeAggregate(c,f,D,b){return this.updateExpression(c,f,T=>(0,m.s)(T,D),b)}setPercentOfGrandTotal(c,f,D){return this.updateExpression(c,f,T=>(0,s.p)(T),D)}removePercentOfGrandTotal(c,f,D){return this.updateExpression(c,f,T=>(0,p.x)(T),D)}setPercentOfRoleTotal(c,f,D){return this.updateExpression(f,D,T=>(0,v.L)(T,c))}removePercentOfRoleTotal(c,f){return this.updateExpression(c,f,b=>(0,o.L)(b))}updateVisualCalculation(c,f,D,b,T){var M=this.getQueryRef(f,{fieldIndex:c}),V=this.defn.select().withName(M);return!(!V||!(0,C.$M)(V.expr)||!this.updateExpression(f,c,w=>(0,d.is)(w,b,D,T)))}orderBy(c,f){a.Y.assertValue(this.defn,"this.defn");var D=c,b=this.defn.orderBy();if(this.defn=this.defn.orderBy(D),f){var T=_.differenceWith(D,b,(R,W)=>R.direction===W.direction&&(0,S.aI)(R.expr,W.expr));for(var M of T){var{expr:V,direction:w}=M,P=this.defn.selectNameOf(V);if(null!=P)for(var N in this.projections){var O=this.projections[N].getParameterByQueryRef(P);null!=O&&(O.sortDirection=w)}else a.Y.assertFail("queryRef should not be null")}}}removeOrderBy(c){a.Y.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(c)}removeUnusedOrderBy(){a.Y.assertValue(this.defn,"this.defn");var c=this.defn,f=c.orderBy();for(var D of f){var b=D.expr;c.selectNameOf(b)||(this.defn=c.removeOrderBy(b))}}addTransform(c,f,D){a.Y.assertValue(c,"transformPlugin"),a.Y.assertAnyValue(f,"parameters"),a.Y.assertValue(this.defn,"this.defn"),a.Y.assertValue(c,"transformPlugin");var b={},T=this.defn.transforms();for(var M of T)b[M.name]=!0;var V=(0,t.uL)(b,c.name);this.defn=this.defn.transforms(T.concat([{algorithm:c.name,name:V,input:{parameters:f},output:void 0}]));var P=c.name===r.Nx.KMeansClustering.name&&D.grouping&&D.grouping.cluster;for(var N of c.outputRoles){var I=N.name;P&&(I=D.grouping.cluster.clusteringRole),this.add((0,d.Cv)(N.algorithmRole),I,{exprName:N.columnName?N.columnName:N.algorithmRole})}return V}removeTransform(c,f){a.Y.assertValue(c,"transformPlugin"),a.Y.assertValue(f,"transformName"),a.Y.assertValue(this.defn,"this.defn");var D=_.find(this.defn.transforms(),T=>T.name===f);if(D){for(var b of c.outputRoles)this.removeExpr((0,d.Cv)(b.algorithmRole),!1);this.defn=this.defn.removeTransform(D)}}updateTransform(c,f){a.Y.assertValue(c,"transformName"),a.Y.assertAnyValue(f,"parameters"),a.Y.assertValue(this.defn,"this.defn");var D=_.find(this.defn.transforms(),b=>b.name===c);D&&(D.input.parameters=f)}clone(){return new u(this.defn,(0,g.o8)(this.projections),(0,l.o8)(this.expansionStates),this._isDrillDisabled)}equals(c){return!!(0,S.EO)(this.defn,c.defn)&&_.isEqual(this.projections,c.projections)&&_.isEqual(this.expansionStates,c.expansionStates)&&this._isDrillDisabled===c.isDrillDisabled}ensureDrillableRoles(c){a.Y.assert(()=>!!c,"ensureDrillableRoles drillableRoleNames");var f=[];for(var D of c)this.ensureActiveItems(D)&&f.push(D);return f}ensureActiveItems(c,f=!1){var D=this.projections[c];if(!D)return!1;var b=D.all();if(!_.isEmpty(b)){if(this._isDrillDisabled)return!1;if(f||_.isEmpty(D.activeProjectionRefs))return D.activeProjectionRefs=[b[0].queryRef],!0}return!1}changeDrillStateValue(c,f,D){for(var b of c){var T=this.projections[b];if(T)if(f)T.activeProjectionRefs=void 0;else{var M=_.uniqBy(T.all(),P=>P.queryRef),V=_.uniq(T.activeProjectionRefs),w=D?.[b];(w||M.length||V.length)&&(T.activeProjectionRefs=w??(V[0]?[V[0]]:[M[0].queryRef]))}}f&&(this.expansionStates=[]),this._isDrillDisabled=f}toggleShowAll(c){var f=this.projections[c];f&&(f.showAll=!f.showAll)}hasShowAll(){return!_.isEmpty(this.projections)&&_.some(this.projections,c=>c.showAll)}roleContainsExpr(c,f){var D=this.projections[c],b=D&&D.all();if(_.isEmpty(b))return!1;var T=this.defn.select();for(var M of T)for(var V of b)if(V.queryRef===M.name&&(0,S.aI)(f,M.expr))return!0;return!1}getRoleNameForExpr(c){var f=this.projections;for(var D in f){var b=this.tryGetExprs(D);if(b&&b.length>0)for(var T of b)if((0,S.aI)(c,T))return D;var M=f[D].getFieldParameters();if(!_.isEmpty(M))for(var V of M)if((0,S.aI)(V.expr,c))return D}}tryGetNamedExpr(c,f){var D=(0,g.Lw)(this.projections,c);if(D){var b=D.convertFieldIndexToProjectionIndex(f),T=D.all()[b];return(0,n.$f)(this.defn,T)}}tryGetExpr(c,f){var D=this.tryGetNamedExpr(c,f);return D?.expr}tryGetExprs(c){var f=(0,n.wC)(this.defn,this.projections,c);if(void 0!==f)return _.map(f,D=>D.expr)}tryGetFieldExprs(c){return(0,n.cu)(this.defn,this.projections,c)}getUniqueQueryRefs(){var c=_.values(this.projections);return _.chain(c).map(f=>f.getQueryRefs()).flatten().uniq().value()}getUniqueQueryFields(){var c=_.keys(this.projections);return _.chain(c).map(f=>this.tryGetFieldExprs(f)).flatten().uniqWith(u.isEqualQueryFields).value()}getHiddenUniqueQueryFields(){return this.getUniqueQueryFields().filter(c=>!!c.isHidden)}hasProjections(){return _.values(this.projections).some(f=>f.all().length>0)}currentDrillMode(c){var f=this.getRoleProjections(c);if(!_.isEmpty(f)){var D=this.projections[c];if(D){var b=D.activeProjectionRefs;if(!_.isEmpty(b)){if(b.length>1)return y.Pq.DownWithCurrentGroup;if(b[0]!==f[0].queryRef)return y.Pq.DownWithoutCurrentGroup}}}}addSelect(c,f,D){var b=this.defn;this.defn=b=b.addSelect(c,f,D);var T=b.select(),M=T.length-1;return a.Y.assert(()=>(0,S.aI)(c,T[M].expr,!1,!0),"Failed to find new expr in the query."),T[M].name}static isEqualQueryFields(c,f){return c.isFieldParameter||f.isFieldParameter||void 0===c.queryName||void 0===f.queryName?c.isFieldParameter===f.isFieldParameter&&(0,S.aI)(c.expr,f.expr):c.queryName===f.queryName}updateExpansionStates(c,f){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,V=>!V.supportsMerge);var D=(0,l.ZF)(this.expansionStates,c);if(D)if(_.isEmpty(this.projections[c])||_.isEmpty(this.projections[c].all()))_.remove(this.expansionStates,V=>V===D);else{var b=_.takeWhile(D.roles,V=>V!==c),T=this.getRolesUniqueActiveProjectionsRefs(b,D.canCollapseRoot).length;f(D,T);var M=D.getVisibleDescendentsDepth(D.root,-1);this.setActiveProjections(D.roles,M)}}}resetHiddenState(c){for(var f in this.projections)this.projections[f].resetHiddenState(c)}removeAllProjectionsForExpr(c,f){var D=this,b=this.defn,T=b.selectNameOf(c);if(!T)return!1;_.remove(this.expansionStates,P=>!P.supportsMerge);var M=this.projections,V=function(P){var N=(0,l.ZF)(D.expansionStates,P),I=M[P],O=I.all(),R=N&&_.takeWhile(N.roles,K=>K!==P),W=R&&D.getRolesUniqueActiveProjectionsRefs(R,N&&N.canCollapseRoot).length;if(f){var F=D.getQueryFieldParametersByRole(P),U=_.filter(F,K=>(0,S.aI)(K.expr,f));for(var B of U)for(var x=B.length-1;x>=0;x--){var A={indexInParameter:x,parameter:B},L=I.getParameterProjectionIndex(B,x);O[L]?.queryRef===T&&(I.removeProjection(A),D.updateActiveProjectionRefAndExpansionState(P,T,W,L))}}else for(var Y=O.length-1;Y>=0;Y--){var z=I.convertProjectionIndexToFieldIndex(Y),H=I.getColumnProjection(z);H?.queryRef===T&&(I.removeProjection({fieldIndex:z}),D.updateActiveProjectionRefAndExpansionState(P,T,W,Y))}if(0!==O.length&&N){var k=N.getVisibleDescendentsDepth(N.root,-1);D.setActiveProjections(N.roles,k)}};for(var w in M)V(w);return this.isUsed(T)||(this.defn=b.removeSelect(c).removeOrderBy(c)),!0}updateActiveProjectionRefAndExpansionState(c,f,D,b){var M=this.projections[c],V=M.all(),w=(0,l.ZF)(this.expansionStates,c),P=M.activeProjectionRefs;_.pull(P,f),P&&_.isEmpty(P)&&!_.isEmpty(V)&&P.push(V[Math.max(0,b-1)].queryRef),w&&w.removeLevel(D+b)}updateExpression(c,f,D,b){var T=this.projections[c],M=T?T.all():void 0;if(!M)return!1;var V=T.convertFieldIndexToProjectionIndex(f);if(V>=M.length)return!1;var w=this.defn,P=M[V].queryRef,N=w.select(),I=(0,i.i4)(N,P),O=N[I].expr,R=D(O),W=w.selectNameOf(R);return W?(T.updateQueryRef(V,W),this.isUsed(P)||(this.defn=w.removeSelect(O)),!0):(this.getUsageCount(P)>1?T.updateQueryRef(V,this.addSelect(R,void 0,b)):this.defn=w.setSelectAt(I,R,b),!0)}isUsed(c){return this.getUsageCount(c)>0}getUsageCount(c){var f=0,D=this.projections;for(var b in D){var T=D[b].all();f+=_.filter(T,M=>M.queryRef===c).length}return f}getRoleProjections(c){a.Y.assertValue(c,"roleName");var f=(0,g.Lw)(this.projections,c);if(f)return f.all()}addNewQueryRefToActiveProjectionRefsIfNeeded(c,f,D){var b=this.getRoleProjections(c),T=this.projections[c].activeProjectionRefs;T&&(T.length>1&&D<T.length?T.splice(D,0,f):1===T.length&&0===D&&b.length>1&&b[1].queryRef===T[0]&&T.splice(0,1,f))}getRolesProjectionRefs(c){var f=[];for(var D of c){var b=this.projections[D];if(b){var T=_.map(b.all(),M=>M.queryRef);f.push(...T||[])}}return f}getRolesUniqueProjectionRefs(c){return _.uniq(this.getRolesProjectionRefs(c))}getQueryFieldParametersByRole(c){if(!_.isEmpty(this.projections)){var f=this.projections[c];return f?f.getFieldParameters():[]}}getParameterProjectionExprs(c){var f=[],D=this.projections;for(var b in D){var T=D[b],M=T.findParameterBySQExpr(c);for(var V of M){var P=T.getParameterProjections(V).map(I=>this.defn.select().withName(I.queryRef).expr);f.push({exprs:P,parameter:V})}}return f}getVisualCalcExpressions(){return this.defn.select().filter(c=>(0,C.$M)(c.expr))}getQueryFieldParameters(){if(_.isEmpty(this.projections))return[];var c=[];for(var f in this.projections){var D=this.projections[f];D&&c.push(...D.getFieldParameters())}return c}hasQueryFieldParameters(){return!_.isEmpty(this.getQueryFieldParameters())}hasVisualCalcExpressions(){return this.defn.select().some(c=>(0,C.$M)(c.expr))}hasOnlyVisualCalculations(){return this.defn.select().every(c=>(0,C.$M)(c.expr))}hasSparklineExpressions(){return this.defn.select().some(c=>(0,C.AH)(c.expr))}hasHiddenProjections(){for(var c in this.projections){var f=this.getRoleProjections(c);if(_.some(f,D=>D.hidden))return!0}return!1}resetExpansionStates(){this.expansionStates=[]}getRolesActiveProjectionsRefs(c,f,D=!1){var w,b=this,T=[],M=f||_.some(c,N=>this.projections[N]&&!_.isEmpty(this.projections[N].activeProjectionRefs)),V=function(){var N=b.projections[P];if(!N)return 0;var I=M?N.activeProjectionRefs:N.getQueryRefs();if(!I)return 0;if(D){var O=_.map(N.projected(),F=>F.queryRef),R=_.filter(I,F=>O.includes(F));T.push(...R)}else T.push(...I);var W=N.all();return W.length!==I.length&&_.uniqBy(W,F=>F.queryRef).length!==_.uniq(I).length?1:void 0};for(var P of c)if(0!==(w=V())&&1===w)break;return T}getRolesUniqueActiveProjectionsRefs(c,f){return _.uniq(this.getRolesActiveProjectionsRefs(c,f))}static areEqualIgnoringAggregate(c,f,D){return(0,S.aI)((0,m.s)(c,D),(0,m.s)(f,D))}setActiveProjections(c,f){if(a.Y.assertNonEmpty(c,"roles"),!this._isDrillDisabled){var D=this.projections;a.Y.assertValue(D,"projections");var b=(0,l.uS)(this.expansionStates,c);for(var T of(b&&b.pinLevels(f),c))if(f>0){var M=D[T]&&D[T].all();a.Y.assertValue(M,"roleProjections");var P,V=_.uniqBy(M,N=>N.queryRef);P=f>=V.length?V:_.take(V,f),D[T].activeProjectionRefs=_.map(P,N=>N.queryRef),f-=P.length}else D[T]&&(D[T].activeProjectionRefs=[])}}hasVisibleProjections(){if(!this.hasProjections())return!1;for(var c in this.projections){var f=this.getRoleProjections(c);if(_.some(f,D=>!D.hidden))return!0}return!1}}},169072:function(me,j,e){e.d(j,{d:function(){return i}});var r=e(64974);function i(a){switch(a){case r.NJ.Default:return"Default";case r.NJ.DataFilter:return"DataFilter";case r.NJ.HighlightFilter:return"HighlightFilter";case r.NJ.NoFilter:return"NoFilter"}}},213297:function(me,j,e){e.d(j,{L:function(){return r}});var r=function(i){return i[i.UserState=0]="UserState",i[i.Temporary=1]="Temporary",i[i.Personal=2]="Personal",i[i.Annotation=3]="Annotation",i[i.MobileState=4]="MobileState",i[i.SpatialAnchor=5]="SpatialAnchor",i[i.Subscription=6]="Subscription",i[i.Export=99]="Export",i}({})},688950:function(me,j,e){e.d(j,{Ui:function(){return n}});var r=e(935236),i=e(123198);function a(d,s){var h=function(d,s){var h=[],o=[],v=d.visualContainers.slice();for(var m of s.visualContainers)if(void 0===m.id)h.push(m);else{var p=(0,r.lz)(v,m.id);if(p){var y=v.indexOf(p);v.splice(y,1),(0,i.aI)(p,m)||o.push(m)}else h.push(m)}return{added:h,updated:o,removed:v}}(d,s);return{added:h.added,updated:h.updated,removed:h.removed,page:s,originalPage:d}}function n(d,s){var h=function(d,s){for(var h=[],o=[],v=d.slice(),m=0,p=s.length;m<p;m++){var y=s[m];if(void 0===y.id)h.push(y);else{var S=(0,r.lz)(v,y.id);if(S){var C=v.indexOf(S);v.splice(C,1);var u=a(S,y);o.push(u)}else h.push(y)}}return{added:h,updated:o,removed:v}}(d.sections,s.sections),o=function(d,s){var h=[],o=[],v=s||[],m=d?d.slice():[];for(var p of v)if(void 0===p.id)h.push(p);else{var y=p.id,S=_.findIndex(m,C=>C.id===y);S>=0?(o.push({updatedPod:p,originalPod:m[S]}),m.splice(S,1)):h.push(p)}return{added:h,removed:m,updated:o}}(d.pods,s.pods);return{pages:h,pods:o}}},1404:function(me,j,e){e.d(j,{L:function(){return r}});var r={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},575451:function(me,j,e){e.d(j,{E:function(){return g},Hr:function(){return i},J$:function(){return l},Pt:function(){return d},XF:function(){return n},lx:function(){return t},vx:function(){return a}});var r=e(785463),i=-1,a=0,t=-1e7,l=1e7,g=1e3,n=5;function d(){return new s}class s{getContainerListOrders(o,v){var m={};for(var p of o)m[p.name]=v(p);return m}getSortedContainerNames(o,v){var m=v?"asc":"desc";return _.chain(o).keys().orderBy(p=>o[p],m).value()}settingListOrder(o,v,m,p){for(var y of v)o[y]=m,m+=p;return m}checkIfExtremitiesSurpassed(o,v,m){var p,y,S,C;return m?(p=a,y=l,S=v[_.head(o)]<p,C=v[_.last(o)]>y):(p=i,y=t,S=v[_.head(o)]>p,C=v[_.last(o)]<y),!(!S&&!C)}shouldNormalizeListOrder(o,v){var p,m=this.getSortedContainerNames(o,v);if(this.checkIfExtremitiesSurpassed(m,o,v)||_.some(o,E=>void 0===E))return!0;for(var y of m){var S=o[y];if(null!=p){var C=S>=0==p>=0;if(Math.abs(S-p)<n&&C)return!0}p=S}return!1}normalizeListOrder(o,v){var m=this.getSortedContainerNames(o,v),p=v?l-a:t-i,y=v?Math.min(p/m.length,g):Math.max(p/m.length,-g);r.Y.assert(()=>Math.abs(y)>=n,"Too many visuals to normalize list orders");var S=v?a:i,C={};return S=this.settingListOrder(C,m,S,y),C}}},607041:function(me,j,e){e.d(j,{P:function(){return p}});var r=e(662785),i=e(978450),a=e(785463),t=e(659956),l=e(147293),g=e(394783),n=e(43099),d=e(925397),s=e(712813),h=e(229456),o=e(270475),v=e(64974),m=e(857327);function p(S,C,u,E){return new y(S,C,u,E)}class y{constructor(C,u,E,c){this.eventBridge=C,this.visualPlugin=u,this.visualPluginOps=E,this.runningVisualService=c}getSupportedDrillDirections(C,u){var E=this.getProjections(C);if(!E)return o.TC.None;var c=C.config.singleVisual,f=this.visualPlugin.capabilities(c.visualType);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations)return o.TC.None;var D=(0,n.xY)(f,!!c.query?.isDrillDisabled),b=u?D.filter(I=>I===u):D,T=o.TC.None;for(var M of b){var V=E[M];if(V&&V.activeProjectionRefs){var w=V.all();if(1===w.length)continue;var P=V.activeProjectionRefs,N=this.findActiveProjectionIndexInQueryCollection(w,P);!_.isEmpty(P)&&N+P.length!==w.length&&(this.canDrillDownLevel(C,o.Pq.DownWithCurrentGroup,M)&&(T|=o.TC.DownWithCurrentGroup),this.canDrillDownLevel(C,o.Pq.DownWithoutCurrentGroup,M)&&(T|=o.TC.DownWithoutCurrentGroup)),!_.isEmpty(V.activeProjectionRefs)&&(0!==N||P.length>1)&&(T|=o.TC.Up)}}return T}setDrillMode(C,u){C&&C.drillMode!==u&&(C.drillMode=u,this.raiseDrillModeChanged(C,u))}canSeeData(C){if(!(C&&C.config&&C.config.singleVisual&&C.config.singleVisual.query))return!1;var u=(0,d.d)(C),E=this.runningVisualService.getVisual(C);return!(E&&E.getErrorInfo())&&g.h.supportsVisualDetails(u,this.visualPlugin,this.visualPluginOps)}canDrillToDetails(C,u){if(!C)return!1;var E=(0,s.NU)(C);if(!E)return!1;var c=(0,d.d)(C);if(c===m.U.lineChart||c===m.U.areaChart||c===m.U.stackedAreaChart||c===m.U.hundredPercentStackedAreaChart)return!1;var f=(0,s.p6)(C,this.visualPlugin);if(!f||!1===f.supportsSelection)return!1;var D=_((0,s.Fi)(C)).filter(I=>(0,r.b9)(I.expr)).map(I=>I.name).value();if(_.isEmpty(D)||!_.isEmpty(u)&&!_.includes(D,_.head(_.head(u).metadata)))return!1;var b=f.dataRoles;if(_.isEmpty(b))return!1;var T=_(b).filter(I=>I.kind===l.Ts.Measure&&I.joinPredicate!==l.gD.None).map(I=>I.name).value(),M=0;for(var V of T){var w=E.projections[V];if(!_.isEmpty(w)){if(++M>1)return!1;var P=w.all();if(_.some(P,I=>!_.includes(D,I.queryRef)))return!1}}return 0!==M}canDrillByDirection(C,u,E){if(!C)return!1;var c=this.runningVisualService.getVisual(C);if(c&&c.getErrorInfo())return!1;var D=this.getSupportedDrillDirections(C,E);return!!D&&(0,t.Lt)(D,u)}canDrillthrough(C){return!!C}isDrillModeEnabled(C,u){return!!C&&C.drillMode===u}drillToLastLevel(C){if(null!=C&&null!=C.config.singleVisual.query){var u=C.config.singleVisual,E=this.visualPlugin.capabilities(u.visualType),c=(0,n.xY)(E,!!u.query?.isDrillDisabled);if(!_.isEmpty(c)){var f=function(){if(D){var b=u.query.projections[D];if(null!=b){var T=b.getLastActiveQueryReference();if(null!=T){var M=b.getQueryRefs(),V=M.indexOf(T);a.Y.assert(()=>-1!==V,"last active query ref must be valid in projection");for(var w=V+1;w<M.length;w++)b.addActiveQueryReference(M[w])}}}};for(var D of c)f()}}}canDrillDownLevel(C,u,E){a.Y.assert(()=>u!==o.Pq.Up,"Incompatible drill direction");var c=(0,s.NU)(C);if(!c)return!1;var f=(0,s.p6)(C,this.visualPlugin);if(!f||f.drilldown&&f.drilldown.suppresDrillOperations||!E)return!1;var D=c.projections[E],b=D.getLastActiveQueryReference();if(!b)return!1;for(var V,T=_.findIndex(D.all(),P=>P.queryRef===b),M=function(){var P=D.all()[w],N=c.defn.select().withName(P.queryRef)?.expr;if(a.Y.assert(()=>!!N,"Projection is not in the select"),N&&0===_.filter(C.filters,I=>(a.Y.assertValue(I,`canDrillDownLevel: visualContainer with name ${C.name} contains blank value in .filters`),null!=I&&I.howCreated===v.GS.Drill&&(0,i.aI)(N,I.expression))).length)return{v:c.currentDrillMode(E)===u}},w=0;w<T;w++)if(V=M())return V.v;return u!==o.Pq.DownWithoutCurrentGroup||!_.find(c.expansionStates,P=>_.find(P.roles,N=>N===E)&&P.isStateModified())}getProjections(C){return C&&C.config&&C.config.singleVisual&&C.config.singleVisual.query&&C.config.singleVisual.query.projections}findActiveProjectionIndexInQueryCollection(C,u){if(!_.isEmpty(u))for(var E=0;E<C.length;E++){for(var c=E,f=0;f<u.length&&c<C.length&&u[f]===C[c].queryRef;)f++,c++;if(f===u.length)return E}return-1}raiseDrillModeChanged(C,u){a.Y.assertValue(C,"visualContainer"),a.Y.assertValue(u,"drillMode"),this.eventBridge.publishToChannel(h.VJj,{visualContainer:C})}}},782831:function(me,j,e){e.d(j,{EN:function(){return i},pF:function(){return a}});var i=function(t){return t[t.MatchNonTransient=0]="MatchNonTransient",t[t.RematchAll=1]="RematchAll",t}({}),a=function(t){return t[t.DrillthroughOnly=0]="DrillthroughOnly",t[t.AllExceptReport=1]="AllExceptReport",t[t.All=2]="All",t}({})},270475:function(me,j,e){e.d(j,{$d:function(){return m},KS:function(){return t},Kw:function(){return S},N5:function(){return p},NZ:function(){return h},Pq:function(){return r},S5:function(){return i},SG:function(){return s},SR:function(){return y},TC:function(){return a},V0:function(){return l},ih:function(){return o},mW:function(){return d},wD:function(){return n},wY:function(){return C}});var r=function(u){return u[u.Up=1]="Up",u[u.DownWithCurrentGroup=2]="DownWithCurrentGroup",u[u.DownWithoutCurrentGroup=3]="DownWithoutCurrentGroup",u}({}),i=function(u){return u[u.Remove=0]="Remove",u[u.Move=1]="Move",u[u.Add=2]="Add",u}({}),a=function(u){return u[u.None=0]="None",u[u.Up=1]="Up",u[u.DownWithCurrentGroup=2]="DownWithCurrentGroup",u[u.DownWithoutCurrentGroup=4]="DownWithoutCurrentGroup",u}({}),t=function(u){return u[u.Default=0]="Default",u[u.FieldParameterAdded=1]="FieldParameterAdded",u[u.OutputFilterChangeFromFieldParametersResolved=2]="OutputFilterChangeFromFieldParametersResolved",u}({}),l=function(u){return u[u.CheckboxTickedInFieldList=0]="CheckboxTickedInFieldList",u[u.DraggedToCanvas=1]="DraggedToCanvas",u[u.VisualTypeIconClicked=2]="VisualTypeIconClicked",u[u.DraggedToFieldWell=3]="DraggedToFieldWell",u[u.InsertVisualButton=4]="InsertVisualButton",u[u.WhatIfParameterControl=5]="WhatIfParameterControl",u[u.QnaDoubleClick=6]="QnaDoubleClick",u[u.QnaKeyboardShortcut=7]="QnaKeyboardShortcut",u[u.QnaAppBar=8]="QnaAppBar",u[u.FieldParameterControl=9]="FieldParameterControl",u[u.CanvasBackgroundContextMenu=10]="CanvasBackgroundContextMenu",u[u.AssistedCreation=11]="AssistedCreation",u[u.Copilot=12]="Copilot",u[u.ContextMenuPaste=13]="ContextMenuPaste",u[u.CopyPaste=14]="CopyPaste",u}({}),n=function(u){return u[u.Unknown=0]="Unknown",u[u.In=1]="In",u[u.Out=2]="Out",u}({}),d=function(u){return u.Ribbon="Ribbon",u.Pane="Pane",u.CustomVisual="CustomVisual",u.Skittle="Skittle",u.VisualHostService="VisualHostService",u.Unknown="Unknown",u}({}),s=function(u){return u[u.Selection=0]="Selection",u[u.Front=1]="Front",u[u.Back=2]="Back",u[u.Forward=3]="Forward",u[u.Backward=4]="Backward",u}({}),h=function(u){return u[u.Forward=0]="Forward",u[u.Backward=1]="Backward",u}({}),o=function(u){return u[u.Remove=0]="Remove",u[u.Add=1]="Add",u[u.Update=2]="Update",u[u.RefreshData=4]="RefreshData",u[u.Clear=10]="Clear",u[u.Resize=16]="Resize",u[u.SwitchType=32]="SwitchType",u[u.updateAsAggregation=64]="updateAsAggregation",u[u.updateTopNOrderByField=128]="updateTopNOrderByField",u[u.Rename=256]="Rename",u}({}),m=function(u){return u[u.Visual=0]="Visual",u[u.Section=1]="Section",u[u.Exploration=2]="Exploration",u}({}),p=function(u){return u[u.AddPodParameter=0]="AddPodParameter",u[u.DeletePodParameter=1]="DeletePodParameter",u[u.UpdatePodParameter=2]="UpdatePodParameter",u}({}),y=function(u){return u[u.Left=0]="Left",u[u.Center=1]="Center",u[u.Right=2]="Right",u[u.Top=3]="Top",u[u.Middle=4]="Middle",u[u.Bottom=5]="Bottom",u[u.DistributeHorizontally=6]="DistributeHorizontally",u[u.DistributeVertically=7]="DistributeVertically",u[u.ResizeMinHeight=8]="ResizeMinHeight",u[u.ResizeMaxHeight=9]="ResizeMaxHeight",u[u.ResizeMinWidth=10]="ResizeMinWidth",u[u.ResizeMaxWidth=11]="ResizeMaxWidth",u[u.ResizeMax=12]="ResizeMax",u[u.ResizeMin=13]="ResizeMin",u}({}),S=function(u){return u[u.FileMenu=0]="FileMenu",u[u.Button=1]="Button",u[u.Keyboard=2]="Keyboard",u[u.DialogPrompt=3]="DialogPrompt",u[u.WorkspaceUpgradedSave=4]="WorkspaceUpgradedSave",u}({}),C=function(u){return u[u.RScript=0]="RScript",u[u.PythonScript=1]="PythonScript",u}({})},229456:function(me,j,e){e.d(j,{$5m:function(){return rr},$5x:function(){return Ir},$7N:function(){return ne},$Bk:function(){return xr},$ac:function(){return Bt},$x6:function(){return Er},AKp:function(){return qt},AWZ:function(){return Ke},AYR:function(){return _t},AyK:function(){return f},BM1:function(){return lr},Bt:function(){return Fr},C31:function(){return N},D6m:function(){return v},E28:function(){return z},E3F:function(){return Gr},Ed_:function(){return g},Er3:function(){return l},ErL:function(){return F},FZ1:function(){return Zr},Fcw:function(){return Xe},Fh$:function(){return Zt},FiE:function(){return Ie},Fsn:function(){return x},Fun:function(){return kt},FyJ:function(){return hr},GRH:function(){return d},Hjv:function(){return xe},IUx:function(){return he},IbG:function(){return I},JNi:function(){return He},Jdu:function(){return Xr},Jhv:function(){return Z},K6y:function(){return qe},KJs:function(){return wt},KVt:function(){return Oe},Kuv:function(){return p},LZI:function(){return h},MLq:function(){return u},MMD:function(){return De},N0w:function(){return Nt},N3x:function(){return U},N5o:function(){return m},NAl:function(){return St},NBf:function(){return Ne},NIc:function(){return Et},NlL:function(){return yt},OWD:function(){return ee},OWl:function(){return A},Okf:function(){return xt},OpD:function(){return Q},P:function(){return Tt},Q$1:function(){return Or},QNc:function(){return Be},Q_Q:function(){return Ye},QnH:function(){return Ce},SFc:function(){return V},Swe:function(){return Rt},T3M:function(){return Vt},TLP:function(){return gr},TO1:function(){return gt},TeR:function(){return kr},Tu4:function(){return Wt},U5t:function(){return pt},V5d:function(){return G},VE3:function(){return Yr},VJj:function(){return B},WI8:function(){return _r},WJP:function(){return Ut},WcP:function(){return i},Wdw:function(){return P},X15:function(){return Le},XUN:function(){return vt},Xf8:function(){return Re},Xxr:function(){return c},YCj:function(){return R},YHs:function(){return Je},YPY:function(){return Ge},Zzr:function(){return ve},_AK:function(){return at},_pK:function(){return It},aT_:function(){return fe},aid:function(){return ft},bEX:function(){return zt},bJs:function(){return Kr},bYR:function(){return At},bpI:function(){return X},brS:function(){return k},byx:function(){return vr},cTK:function(){return Mt},d$U:function(){return H},djp:function(){return t},dor:function(){return Qe},eMv:function(){return Fe},eSV:function(){return ye},eyg:function(){return be},fC4:function(){return M},fyV:function(){return Ve},g30:function(){return rt},gGR:function(){return n},gNx:function(){return jr},gmP:function(){return ut},gsd:function(){return o},h0G:function(){return We},hYA:function(){return E},hbO:function(){return Br},i5p:function(){return re},j8Z:function(){return $e},jJg:function(){return ea},ji8:function(){return nr},jvC:function(){return D},kth:function(){return jt},lH8:function(){return O},lOf:function(){return et},lsP:function(){return _e},mWi:function(){return wr},nIC:function(){return a},nJ2:function(){return Me},nOA:function(){return we},naU:function(){return ie},nfc:function(){return ze},np_:function(){return J},nqg:function(){return q},p27:function(){return ht},pWI:function(){return ce},pXE:function(){return ot},pfc:function(){return s},pkh:function(){return br},q3P:function(){return Qr},q5T:function(){return ke},qZY:function(){return de},r6c:function(){return Ee},r7Z:function(){return nt},rsT:function(){return w},sB$:function(){return je},sll:function(){return Se},svS:function(){return bt},sw7:function(){return mt},tAe:function(){return Vr},tev:function(){return Ue},tqE:function(){return lt},uRK:function(){return ae},ud1:function(){return st},ufL:function(){return Ae},uvD:function(){return Te},vFG:function(){return ct},vZ3:function(){return Ht},vb9:function(){return te},vbh:function(){return W},vfE:function(){return qr},vtm:function(){return Gt},vxP:function(){return pe},wLr:function(){return y},w_Z:function(){return Kt},wff:function(){return Lr},wl:function(){return K},x1:function(){return Qt},xTO:function(){return Xt},xjJ:function(){return Ze},xqp:function(){return se},y$i:function(){return S},zCo:function(){return T},zZP:function(){return oe},zq7:function(){return b}});var r=e(212554),i=function(Ot){return Ot[Ot.Unknown=0]="Unknown",Ot[Ot.Swipe=1]="Swipe",Ot}({}),a={type:r.U.Global,name:"modelChangeApplyingUpdate"},t={type:r.U.Section,name:"explorationLoaded"},l={type:r.U.Section,name:"explorationUnloaded"},g={type:r.U.Exploration,name:"explorationContainerReady"},n={type:r.U.Section,name:"explorationSlowDataSourceSettingsLoaded"},d={type:r.U.Section,name:"explorationSettingsLoaded"},s={type:r.U.Section,name:"updateNavButtonEvent"},h={type:r.U.Visual,name:"userActionTriggered"},o={type:r.U.Visual,name:"filterContainerChanged"},v={type:r.U.Section,name:"applyAllBufferedFilterCardChange"},m={type:r.U.Section,name:"applyAllClicked"},p={type:r.U.Section,name:"applyAllSlicersClicked"},y={type:r.U.Section,name:"explorationFiltersContainerChanged"},S={type:r.U.Section,name:"sectionFiltersContainerChanged"},u={type:r.U.Section,name:"formFactorChanged"},E={type:r.U.Section,name:"canvasLayoutChanged"},c={type:r.U.Data,name:"modelChanging"},f={type:r.U.Data,name:"modelChanged"},D={type:r.U.Visual,name:"visualRelationshipsModeChanged"},b={type:r.U.Data,name:"schemaItemActivationChanged"},T={type:r.U.Visual,name:"selectionChanged"},M={type:r.U.Visual,name:"visualTypeChanged"},V={type:r.U.Visual,name:"visualLinkButtonClicked"},w={type:r.U.Visual,name:"dataPointsSelected"},P={type:r.U.Visual,name:"dataHyperlinkClicked"},N={type:r.U.Visual,name:"visualClicked"},I={type:r.U.Section,name:"undoRedoStackUpdated"},O={type:r.U.Section,name:"undoRedoStackCleared"},R={type:r.U.Section,name:"onReportChanged"},W={type:r.U.Global,name:"onReportChanged"},F={type:r.U.Section,name:"clipboardDataUpdated"},U={type:r.U.Visual,name:"dataSelectionChanged"},B={type:r.U.Visual,name:"drillModeChanged"},x={type:r.U.Exploration,name:"refreshExploration"},A={type:r.U.Visual,name:"clearAnnotations"},z={type:r.U.Section,name:"sectionLayoutRemoved"},H={type:r.U.Section,name:"canvasChanged"},Z={type:r.U.Visual,name:"visualContainerParentActivityLinkingDone"},k={type:r.U.Visual,name:"fieldWellFieldRemoved"},K={type:r.U.Visual,name:"visualContainerChanged"},ee={type:r.U.Visual,name:"fieldParametersApplied"},Q={type:r.U.Visual,name:"visualContainerAdded"},J={type:r.U.Visual,name:"cancelVisualQuery"},X={type:r.U.Visual,name:"triggerDataRefresh"},ne={type:r.U.Visual,name:"visualContainerGroupChanged"},ae={type:r.U.Visual,name:"visualContainerGroupRendered"},oe={type:r.U.Visual,name:"visualContainerDataRenderingStarted"},Me={type:r.U.Visual,name:"visualContainerDataRendered"},Ye={type:r.U.Visual,name:"canvasItemContainerPositionChanged"},Le={type:r.U.Visual,name:"visualContainerLoadingStarted"},lt={type:r.U.Visual,name:"visualContainerLoadingStopped"},ut={type:r.U.Visual,name:"visualContainerQueryExecutionEnded"},St={type:r.U.Visual,name:"updateVisualMatrix"},ze={type:r.U.Visual,name:"visualConversion"},Be={type:r.U.Exploration,name:"focusExplorationEvent"},Ce={type:r.U.Global,name:"explorationInitializeEvent"},Ae={type:r.U.Visual,name:"focusVisualContainerEvent"},be={type:r.U.Visual,name:"canvasSizeChanged"},Ie={type:r.U.Visual,name:"visualPluginsChanged"},ve={type:r.U.Visual,name:"addCustomVisual"},xe={type:r.U.Visual,name:"deleteCustomVisual"},Ee={type:r.U.Data,name:"modelingContextChanged"},Ne={type:r.U.Visual,name:"changeViewMode"},ye={type:r.U.Visual,name:"requestViewModeChange"},Xe={type:r.U.Exploration,name:"showThemeGallery"},fe={type:r.U.Visual,name:"editModeChanged"},Se={type:r.U.Visual,name:"getClusters"},qe={type:r.U.Visual,name:"toggleSortVisualContainer"},Ue={type:r.U.Visual,name:"toggleSortDirectionVisualContainer"},_e={type:r.U.Section,name:"saveEventViaCtrlS"},at={type:r.U.Section,name:"highContrastModeChanged"},ot={type:r.U.Section,name:"canvasDisplayChanged"},mt={type:r.U.Section,name:"canvasZoomChanged"},yt={type:r.U.Section,name:"canvasZoomScaleUpdated"},Nt={type:r.U.Section,name:"canvasDimensionChanged"},Bt={type:r.U.Exploration,name:"explorationObjectsLoaded"},he={type:r.U.Exploration,name:"explorationObjectsChanged"},Qe={type:r.U.Section,name:"sectionObjectsEvaluated"},je={type:r.U.Section,name:"sectionObjectsChanged"},Ke={type:r.U.Exploration,name:"showDataSourceVariablesDialog"},$e={type:r.U.Visual,name:"visibilityChanged"},de={type:r.U.Visual,name:"canvasItemHiddenChanged"},De={type:r.U.Section,name:"align"},re={type:r.U.Section,name:"deleteSectionInitiated"},ce={type:r.U.Section,name:"sectionNameChanged"},te={type:r.U.Section,name:"sectionDeleted"},Te={type:r.U.Section,name:"renameSection"},Fe={type:r.U.Section,name:"sectionChanged"},et={type:r.U.Section,name:"podParameterChanged"},vt={type:r.U.Visual,name:"missingTableRelationship"},At={type:r.U.Section,name:"addVisualContainer"},st={type:r.U.Exploration,name:"addCustomVisualToCanvas"},Re={type:r.U.Visual,name:"deleteVisualContainer"},q={type:r.U.Section,name:"addInsightContainer"},pe={type:r.U.Section,name:"addQnaContainer"},Ve={type:r.U.Section,name:"showQnaPopoutEventArgs"},ke={name:"canvasPinched",type:r.U.Section},ft={type:r.U.Section,name:"arrangeVisualsOrder"},Ut={type:r.U.Section,name:"createBasicShape"},Kt={type:r.U.Section,name:"createShape"},Qt={type:r.U.Section,name:"createActionButton"},qt={type:r.U.Section,name:"createPageNavigator"},nr={type:r.U.Section,name:"createTextbox"},Ge={type:r.U.Section,name:"importVisual"},xt={type:r.U.Section,name:"installVisual"},We={type:r.U.Section,name:"downloadVisual"},nt={type:r.U.Visual,name:"newQueryCacheResultAvailable"},Wt={type:r.U.Visual,name:"exportVisualData"},kt={type:r.U.Section,name:"exportVisualDataFromPane"},Ht={type:r.U.Visual,name:"addCommentVisual"},lr={type:r.U.Visual,name:"shareToTeamsVisual"},_r={type:r.U.Section,name:"createSection"},Vr={type:r.U.Section,name:"deleteSection"},br={type:r.U.Section,name:"duplicateSection"},Br={type:r.U.Section,name:"insertSection"},Fr={type:r.U.Section,name:"reorderSection"},jr={type:r.U.Section,name:"switchSection"},Lr={type:r.U.Exploration,name:"explorationNextPage"},wr={type:r.U.Exploration,name:"explorationPreviousPage"},Yr={type:r.U.Exploration,name:"startExplorationContainerLoading"},vr={type:r.U.Exploration,name:"stopExplorationContainerLoading"},xr={type:r.U.Visual,name:"showEnableScriptVisualsDialog"},Zr={type:r.U.Section,name:"canvasResized"},Kr={type:r.U.Global,name:"openReportFinished"},qr={type:r.U.Global,name:"openReportLoadingScreenHidden"},ea={type:r.U.Global,name:"visualQueryThrottled"},Gr={type:r.U.Global,name:"datasetNotFound"},Ir={type:r.U.Global,name:"ShowVisuals"},Qr={type:r.U.Section,name:"bookmarkApplied"},hr={type:r.U.Section,name:"exploreCanvasVisualRendered"},kr={type:r.U.Visual,name:"ReportVisualError"},Or={type:r.U.Global,name:"ReportVisualError"},Xr={type:r.U.Exploration,name:"visualThumbnailDoubleClicked"},wt={type:r.U.Visual,name:"removeVisualContainerFromLayout"},Et={type:r.U.Section,name:"pauseQueriesChanged"},It={type:r.U.Visual,name:"deleteCustomVisuals"},Xt={type:r.U.Global,name:"resetPersistentUserState"},gr={type:r.U.Section,name:"resetUserStateKeyPressedEvent"},pt={type:r.U.Global,name:"resetUserStateEvent"},Je={type:r.U.Exploration,name:"reloadPersistenState"},ie={type:r.U.Section,name:"togglePaneVisibility"},G={type:r.U.Visual,name:"visualDrillFilterOtherVisualsSettingChanged"},se={type:r.U.Data,name:"emulationChanged"},He={type:r.U.Exploration,name:"showOtherBookmarks"},Mt={type:r.U.Visual,name:"parentExpandCollapseAction"},zt={type:r.U.Exploration,name:"bookmarkViewStateChanged"},rr={type:r.U.Data,name:"exportDataEnded"},Gt={type:r.U.Visual,name:"visualContainerControllerLinked"},Er={type:r.U.Global,name:"insightsInFocusPaneClose"},Oe={type:r.U.Global,name:"insightSelected"},Ze={type:r.U.Global,name:"getRelatedInsights"},ct={type:r.U.Global,name:"viewInsightInFocus"},ht={type:r.U.Data,name:"autoPageRefreshTriggered"},_t={type:r.U.Visual,name:"drillthroughActionTriggered"},Rt={type:r.U.Global,name:"anchorTimeUpdated"},Vt={type:r.U.Global,name:"visualCancelLoadEvent"},jt={type:r.U.Visual,name:"shareVisual"},Tt={type:r.U.Visual,name:"shareVisualToPPT"},Zt={type:r.U.Visual,name:"reflexAlert"},we={type:r.U.Visual,name:"findAnomalies"},rt={type:r.U.Visual,name:"forecast"},gt={type:r.U.Visual,name:"toggleDataTable"};function bt(Ot,Yt){return Ot.visualContainer===Yt}},325027:function(me,j,e){e.d(j,{V:function(){return d}});var r=e(219481),i=e(785463),a=e(904046),t=e(464205),l=e(925397),g=e(712813),n=e(270475);function d(h,o){return i.Y.assertValue(h,"visualPlugin"),i.Y.assertValue(o,"featureSwitch"),new s(h)}class s{constructor(o){this.visualPlugin=o}getExpandCollapseRoles(o){(0,r.Su)(o,"visual should have a value");var v=this.visualPlugin.capabilities((0,l.d)(o));if(v&&v.expandCollapse&&!_.isEmpty(v.expandCollapse.roles)){var m=(0,g.NU)(o);if(!m?.isDrillDisabled)return v.expandCollapse.roles}}isSupported(o,v,m){if(!v||!o||!o.supportsInstanceFilters)return!1;var p=(0,g.NU)(v);return!(!p||!_.isEmpty(m)&&_.some(m,y=>p.currentDrillMode(y)===n.Pq.DownWithoutCurrentGroup)||p.isDrillDisabled)}isEnabled(o,v){if((0,r.Su)(o,"visual should have a value"),_.isEmpty(v))return!1;var m=this.getExpandCollapseRoles(o);return!(_.isEmpty(m)||_.some(v,p=>-1===_.indexOf(m,p)))}getMaximumExpansionDepth(o,v){if(this.isEnabled(o,v)){var m=(0,g.NU)(o);if(m){var p=m.getRolesProjectionRefs(v);return i.Y.assertValue(p,"getRolesProjectionRefs should have returned an array"),p.length}}}getAllowedActions(o,v,m){var p=(0,g.NU)(o);if(p&&this.isEnabled(o,v)&&!_.isEmpty(m)&&1===m.length){var y=m[0];if(y&&y.dataMap&&!_.isEmpty(y.dataMap)){var S=(0,t.uR)((0,t.j9)(y));if(!_.isEmpty(S)){var C=p.getRolesUniqueProjectionRefs(v),u=p.getRolesUniqueActiveProjectionsRefs(v,this.canCollapseRoot(o)),E=u.length===C.length,c=_.some(v,w=>p.currentDrillMode(w)===n.Pq.DownWithoutCurrentGroup);if(1===C.length||c)return{};var f=this.getSelectorRefs(y);if(!_.some(f,w=>!_.includes(u,w))){var D=S.length,b=D===C.length,T=D===u.length,M=(0,a.uS)(p.expansionStates,v);if(M){var V=M.getNodeLevelState(S,M.root,0);return i.Y.assertValue(V,"getNodeLevelState returned undefined"),{expandNode:!b&&!!V.isNodeCollapsed,collapseNode:!T&&!V.isNodeCollapsed,expandLevel:!b&&(V.levelHasToggledNodes||!!V.isNodeCollapsed),collapseLevel:!T&&(V.levelHasToggledNodes||!V.isNodeCollapsed),expandHierarchy:!E||!M.isHierarchyExpanded(),collapseHierarchy:!M.isWholeLevelCollapsed(0)}}return{expandNode:!b&&T,collapseNode:!T,expandLevel:!b&&T,collapseLevel:!T,expandHierarchy:!E,collapseHierarchy:u.length>1}}}}}}getSelectorRefs(o){if(!o||!o.dataMap||_.isEmpty(o.dataMap))return[];var v=[];for(var m in o.dataMap)v.push(m);return v}expandNode(o,v,m){var p=this.setNodeState(o,v,m,!1);if(p){var y=this.ensureExpansionState(o,v),S=this.getSelectorRefs(m);i.Y.assert(()=>this.canCollapseRoot(o)||!_.isEmpty(S),"selectorRefs must not be empty when root node cannot be collapsed");var u=y.getVisibleDescendentsDepth(p,S.length-1),E=(0,g.NU)(o);E&&u>E.getRolesUniqueActiveProjectionsRefs(v,this.canCollapseRoot(o)).length&&this.setActiveProjections(o,v,u)}}collapseNode(o,v,m){this.setNodeState(o,v,m,!0);var p=this.ensureExpansionState(o,v),y=p.getVisibleDescendentsDepth(p.root,-1);this.setActiveProjections(o,v,y)}expandLevel(o,v,m,p=!1){var y=this.ensureExpansionState(o,v);this.setLevelState(o,v,m,!1,p);var S=y.getVisibleDescendentsDepth(y.root,-1);this.setActiveProjections(o,v,S)}collapseLevel(o,v,m,p=!1){this.setLevelState(o,v,m,!0,p),this.setActiveProjections(o,v,m+1)}expandAll(o,v){this.setAllLevelsState(o,v,!1);var m=this.ensureExpansionState(o,v);this.setActiveProjections(o,v,m.levels.length)}collapseAll(o,v){this.setAllLevelsState(o,v,!0),this.setActiveProjections(o,v,this.canCollapseRoot(o)?0:1)}pinLevels(o,v,m){this.ensureExpansionState(o,v).pinLevels(m)}unpinLevels(o,v,m){this.ensureExpansionState(o,v).unpinLevels(m)}lockLevels(o,v,m){this.ensureExpansionState(o,v).lockLevels(m)}unlockLevels(o,v,m){this.ensureExpansionState(o,v).unlockLevels(m)}setAILevelInformation(o,v,m,p,y){var S=this.ensureExpansionState(o,v);i.Y.assert(()=>_.isEqual(S.levels[m].queryRefs,p),`Level at index ${m} does not match expected query refs`),S.setAILevelInformation(m,y)}getAILevelInformation(o,v,m){var p=(0,g.NU)(o);return(0,a.Ze)(p.expansionStates,v,m)}clearAILevelsInformation(o,v){for(var m=this.ensureExpansionState(o,v),p=0;p<_.size(m.levels);p++)m.setAILevelInformation(p,void 0)}setNodeState(o,v,m,p){var y=this.ensureExpansionState(o,v);i.Y.assertValue(y,"expansionState"),i.Y.assertValue(m,"selector");var S=this.getSelectorRefs(m);if(!_.isEmpty(S)||this.canCollapseRoot(o))return i.Y.assert(()=>S.length<=y.levels.length,"attempt to expand a node from an inactive level"),y.setNodeState((0,t.j9)(m),p);i.Y.assertFail("Collapse to root capability is not enabled")}setLevelState(o,v,m,p,y){var S=this.ensureExpansionState(o,v);if(i.Y.assertValue(S,"expansionState"),i.Y.assertNonEmpty(S.levels,"expansionState.levels"),y)for(var C=0;C<m;C++)i.Y.assertValue(S.levels[C],`expandCollapseService.setLevelState - level for index ${C} doesn't exist`),S.setLevelState(C,!1);S.setLevelState(m,p)}setAllLevelsState(o,v,m){var p=this.ensureExpansionState(o,v);i.Y.assertValue(p,"expansionState"),i.Y.assertNonEmpty(p.levels,"expansionState.levels"),this.canCollapseRoot(o)&&p.setLevelState(-1,m);for(var y=p.levels,S=0;S<y.length-1;S++)p.setLevelState(S,m)}ensureExpansionState(o,v){i.Y.assertValue(o,"VisualContainer"),i.Y.assert(()=>this.isEnabled(o,v),"Expand/Collapse is not enabled");var m=(0,g.NU)(o);i.Y.assertValue(m,"VisualQuery");var p=this.visualPlugin.capabilities((0,l.d)(o)),y=p&&p.expandCollapse&&p.expandCollapse.supportsMerge,S=p&&p.expandCollapse&&p.expandCollapse.collapseParentAfterRemovingChildLevel,C=this.canCollapseRoot(o),u=m.ensureExpansionState(v,{supportsMerge:y,canCollapseRoot:C,collapseParentAfterRemovingChildLevel:S});return i.Y.assertValue(u,"expansionState"),i.Y.assertNonEmpty(u.levels,"expansionState.levels"),u}canCollapseRoot(o){var v=this.visualPlugin.capabilities((0,l.d)(o));return!(!v||!v.noDefaultProjections)}setActiveProjections(o,v,m){i.Y.assertValue(o,"visualContainer"),i.Y.assertNonEmpty(v,"roles"),this.canCollapseRoot(o)||i.Y.assert(()=>m>0,"totalUniqueActiveProjectionsCount");var p=(0,g.NU)(o);i.Y.assertValue(p,"query"),p.setActiveProjections(v,m)}}},813916:function(me,j,e){e.d(j,{J:function(){return g}});var r=e(785463),i=e(755743),a=e(367239),t=e(229456),l=e(270475);function g(s,h,o,v,m,p,y,S){return new n(s,h,o,v,m,p,y,S)}class n{constructor(h,o,v,m,p,y,S,C){this.state=h,this.navigation=o,this.eventBridge=v,this.visibility=m,this.filterGenerator=p,this.explorationActivity=y,this.telemetryService=S,this.runningVisualService=C,r.Y.assertValue(h,"state"),r.Y.assertValue(o,"navigation"),r.Y.assertValue(v,"eventBridge"),r.Y.assertValue(m,"visibility")}exploration(){return this.navigation.getCurrentExploration()}capture(h,o){var v=this.exploration();if(v)return this.state.capture(v,h,o)}apply(h,o,v,m){var p=this.exploration(),y=this.state.apply(h,p,o,v);return this.applyImpact(y,p,v,m),y}captureFilterState(h){return this.state.captureFilterState(h)}applyFilterState(h,o){if(!_.isEmpty(h)){var v=this.state.applyFilterState(h,o);this.explorationActivity.doActivity(m=>{this.eventBridge.publishToChannel(t.wl,{affectContainer:p=>_.includes(v.visualContainers,p),parentActivity:m})},m=>this.telemetryService.startChildActivity(m&&m.event,i.aA))}}applyImpact(h,o,v,m){r.Y.assertValue(o,"exploration"),r.Y.assertValue(v,"applyStateOption"),m&&m.setProperty("options",function(s){var h,o,v;return!0===s.suppressDisplay||!1===s.suppressDisplay||null==s.suppressDisplay?h=o=!0===s.suppressDisplay:(h=s.suppressDisplay.outspacePane,o=s.suppressDisplay.visuals),s.defaultPresentationState&&(v=_.mapValues(s.defaultPresentationState,m=>_.mapValues(m,p=>({visualType:p.visualType,autoSelectVisualType:p.autoSelectVisualType,projections:_.map(_.filter(_.map(p.projections,(y,S)=>({exprs:y,role:S})),y=>!_.isEmpty(y.exprs)),y=>y.role)})))),{applyPresentationChanges:s.applyPresentationChanges,clearQueryCaches:s.clearQueryCaches,clearUnmatchedData:s.clearUnmatchedData,defaultPresentationState:v,stopDataQueries:s.stopDataQueries,suppressActiveSection:s.suppressActiveSection,suppressDataSourceVariables:s.suppressDataSourceVariables,suppressData:s.suppressData,suppressOutspacePaneDisplayOptions:h,suppressUnmatchedClearHidden:s.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:o,targetVisualNames:s.targetVisualNames}}(v)),this.explorationActivity.doActivity(p=>{var y=h.dataSourceVariables,S=[];if(y&&r.Y.assert(()=>!v.suppressDataSourceVariables,"suppressDataSourceVariables"),h.objects&&this.eventBridge.publishToChannel(t.IUx),h.filterScope===l.$d.Exploration&&(r.Y.assert(()=>!v.suppressData,"suppressData"),this.eventBridge.publishToChannel(t.wLr,{container:o}),y=!0),h.activeSection)r.Y.assert(()=>!v.suppressActiveSection,"suppressActiveSection"),this.navigation.updateActiveSection({targetSectionIndex:o.activeSectionIndex,forceUpdate:!0,parentActivity:p,parentContextActivity:m});else if(h.filterScope===l.$d.Section){r.Y.assert(()=>!v.suppressData,"suppressData");var C=this.navigation.getCurrentSection();this.eventBridge.publishToChannel(t.y$i,{container:C}),S=_.union(S,C.visualContainers)}else(h.filterScope===l.$d.Visual||!_.isEmpty(h.visualContainers))&&(r.Y.assert(()=>!v.suppressData||!v.suppressDisplay,"suppressData || suppressDisplay"),S=_.union(S,h.visualContainers));var u=[];if(y){this.eventBridge.publishToChannel(t.wl,{affectContainer:_.stubTrue,parentActivity:p,parentContextActivity:m});var E=this.navigation.getCurrentSection();u.push(...E.visualContainers||[])}else _.isEmpty(S)||(this.eventBridge.publishToChannel(t.wl,{affectContainer:O=>_.includes(S,O),parentActivity:p,parentContextActivity:m}),u.push(...S||[]));var c=h.visualContainerGroups;if(_.isEmpty(c)||(this.eventBridge.publishToChannel(t.$7N,{affectContainer:O=>_.includes(c,O)}),u.push(...c||[])),!v.suppressDisplay){if(h.visibility)this.visibility.set(h.visibility.visual,h.visibility.mode);else if(v.targetVisualNames){var D=_.filter(o.sections[o.activeSectionIndex].visualContainers,O=>_.includes(v.targetVisualNames,O.name));this.visibility.clearForVisualContainers(D)}else this.visibility.clear();_.isEmpty(u)||this.eventBridge.publishToChannel(t.qZY,{changedItems:u})}if(!v.suppressData){var b=h.pendingHighlights,T=this.navigation.getCurrentSection();if(b)for(var M of(this.filterGenerator.setMultipleFiltersOnSelectData(o,T,b,p,void 0),b)){var V=M.sourceVisualContainer,w=this.runningVisualService.getVisual(V),P=V.config.singleVisual;w?(M.filterExpressionMetadata&&(0,a.QP)(M.selection,M.filterExpressionMetadata),w.setSelectedDatapoints(M.selection,!0)):P.pendingSelection=M.selection}else if(v.targetVisualNames){var N=o.sections[o.activeSectionIndex],I=_.filter(N.visualContainers,O=>_.includes(v.targetVisualNames,O.name));this.filterGenerator.clearCrossHighlightForVisualContainers(N,I,p,void 0)}else this.filterGenerator.clearCrossHighlight(T,p,void 0)}},p=>this.telemetryService.startChildActivity(p&&p.event,i.aA))}}},899990:function(me,j,e){e.d(j,{P:function(){return F},Q:function(){return R}});var r=e(215),i=e(935236),a=e(785463),t=e(469550),l=e(904046),g=e(425023),n=e(464205);function d(J,X){return J===X||null!=J&&null!=X&&J.objectName===X.objectName&&J.propertyName===X.propertyName}var s=e(168376),h=e(381839),o=e(738060),v=e(402194),m=e(364472),p=e(446024),y=e(177328),S=e(978450),C=e(311096),u=e(668309),E=e(64974),c=e(270475),f=e(4509),D=e(983240),b=e(999104),T=e(755743),M=e(343382),V=e(43099),w=e(565445),P=e(362356),N=e(712813),I=e(474424),O=function(J){return J[J.None=0]="None",J[J.InvalidActiveSection=1]="InvalidActiveSection",J[J.NonDrillthroughFilterInTransientFilters=2]="NonDrillthroughFilterInTransientFilters",J[J.MismatchedFilterNames=4]="MismatchedFilterNames",J[J.ExpectedOneVisualLevelAutoFilterForExpression=8]="ExpectedOneVisualLevelAutoFilterForExpression",J[J.OnlyIncludeExcludeSupported=16]="OnlyIncludeExcludeSupported",J[J.InvalidDrillFilterExpression=32]="InvalidDrillFilterExpression",J[J.FiltersContainerOfADrillFilterShouldBeVisualContainer=64]="FiltersContainerOfADrillFilterShouldBeVisualContainer",J[J.InvalidVisualFilterOutput=128]="InvalidVisualFilterOutput",J[J.OnlyOneRoleAllowedInExpansionStates=256]="OnlyOneRoleAllowedInExpansionStates",J}({});function R(J,X,ne,ae,oe,Me,Ye,Le,lt,ut,St,ze){return new ee(J,X,ne,ae,oe,Me,Ye,Le,lt,ut,St,ze)}function W(J,X,ne){if(a.Y.assertAnyValue(J,"contracts"),a.Y.assertValue(X,"filterScopeType"),!_.isEmpty(J)){var ae={};for(var oe of J)ne(oe)||(A(oe)?(ae.transientFilters||(ae.transientFilters=[]),ae.transientFilters.push(F(oe))):Y(oe)&&!_.isEmpty(oe.name)?(ae.nameIdentifiedMerges||(ae.nameIdentifiedMerges={}),ae.nameIdentifiedMerges[oe.name]=F(oe)):L(oe)?(ae.exprIdentifiedMerges||(ae.exprIdentifiedMerges=[]),ae.exprIdentifiedMerges.push(F(oe))):z(oe)?(ae.typeIdentifiedMerges||(ae.typeIdentifiedMerges=[]),ae.typeIdentifiedMerges.push(F(oe))):(_.isEmpty(oe.name)&&(oe.name=M.M.getNextFilterName(J)),ae.nameIdentifiedMerges||(ae.nameIdentifiedMerges={}),ae.nameIdentifiedMerges[oe.name]=F(oe)));if(!_.isEmpty(ae))return ae}}function F(J){return a.Y.assertValue(J,"filterContainer"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata)}}function U(J){return a.Y.assertValue(J,"filterContainerState"),a.Y.assertAnyValue(name,"name"),{name:J.name,type:J.type,filter:J.filter,expression:J.expression,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedValueItems:J.cachedValueItems,filterExpressionMetadata:_.cloneDeep(J.filterExpressionMetadata),displayName:J.displayName}}function B(J,X){J.filter=X.filter,J.cachedValueItems=X.cachedValueItems,J.filterExpressionMetadata=_.cloneDeep(X.filterExpressionMetadata),J.type=X.type}function x(J){J.filter=void 0,J.cachedValueItems=void 0,J.filterExpressionMetadata=void 0}function A(J){return!!J.isTransient}function L(J){return!!J.expression}function Y(J){return J.isHiddenInViewMode||J.isLockedInViewMode}function z(J){return J.howCreated===E.GS.Include||J.howCreated===E.GS.Exclude}var Z=new WeakMap;function k(J,X,ne){return!!X.filterState||(Z.has(ne)?ae=Z.get(ne):(ae=(0,h.x_)(ne),Z.set(ne,ae)),!!ae&&_.some([ae],J));var ae}function K(J){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],J)}class ee{constructor(X,ne,ae,oe,Me,Ye,Le,lt,ut,St,ze,Be){this.expandCollapse=X,this.filterGenerator=ne,this.plugins=ae,this.visualPluginOps=oe,this.aggrOps=Me,this.featureSwitchService=Ye,this.sortService=Le,this.drillService=lt,this.telemetryService=ze,this.nonDrillthroughIsLinkedAsAggregationCallback=Ce=>(a.Y.assertValue(Ce,"filter"),a.Y.assert(()=>Ce.howCreated!==E.GS.Drillthrough,"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1),this.visualAuthoringCore=(0,I.Z8)(ae,ut,Me,Ye,St,Be)}capture(X,ne,ae){a.Y.assertValue(X,"exploration"),a.Y.assert(()=>null!=X.activeSectionIndex,"exploration.activeSectionIndex != null");var oe=X.sections[X.activeSectionIndex],Me={activeSection:oe.name,filters:W(X.filters,c.$d.Exploration,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!ae.suppressDataSourceVariables&&(Me.dataSourceVariables=X.dataSourceVariables),X.objects&&(Me.objects=this.captureExplorationObjects(X.objects)),ae.captureAllSections)for(var Ye of X.sections)Me.sections[Ye.name]=this.captureSection(Ye,ne,X,ae.capturePresentation);else Me.sections[oe.name]=this.captureSection(oe,ne,X,ae.capturePresentation);return Me}captureExplorationObjects(X){return this.captureObjects(C.F,X,K)}captureFilterState(X){var ne=this.captureFilterStateObjects(X.visualType,X.objects);return{visualType:X.visualType,objects:ne,cachedFilterDisplayItems:X.cachedFilterDisplayItems,filterExpressionMetadata:X.filterExpressionMetadata}}captureSection(X,ne,ae,oe){a.Y.assertValue(X,"contract");var Ye=this.getCrossHighlights(X);return{filters:W(X.filters,c.$d.Section,lt=>(0,w.y1)(ae,X,lt)),visualContainers:this.captureVisualContainers(X.visualContainers,Ye,ne,oe),visualContainerGroups:this.captureVisualContainerGroups(X.visualContainerGroups)}}getCrossHighlights(X){return X&&X.crossFilterSource&&X.crossFilterSource.highlight}captureVisualContainerGroups(X){var ne;for(var ae of(a.Y.assertValue(X,"contracts"),X))if((0,D.tx)(ae)){var oe={};if(null!=ae.isHidden&&(oe.isHidden=ae.isHidden),!_.isEmpty(ae.children)){var Me=this.captureVisualContainerGroups(ae.children);oe.children=Me}(null!=oe.isHidden||null!=oe.children)&&((ne=ne||{})[ae.name]=oe)}return ne}captureVisualContainers(X,ne,ae,oe){var Me=this;a.Y.assertValue(X,"contracts");var Ye={},Le=function(){a.Y.assertValue(lt.name,"contract.name");var St,ut=lt.config.singleVisual;if(!ut)return 1;if(!_.isEmpty(ne)){var ze=_.find(ne,ve=>ve.sourceVisualContainer.config.singleVisual===ut&&!_.isEmpty(ve.selection));ze&&(St={selection:ze.selection,filterExpressionMetadata:ze.filterExpressionMetadata?ze.filterExpressionMetadata:void 0})}var Ce={filters:W(_.union(lt.filters,Me.getAdditionalVisualFiltersToCapture(lt,ae)),c.$d.Visual,Me.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:ut.visualType,objects:Me.captureVisualObjects(ut.visualType,ut.objects),cachedFilterDisplayItems:ut.cachedFilterDisplayItems,filterExpressionMetadata:ut.filterExpressionMetadata},highlight:St};null!=ut.autoSelectVisualType&&(Ce.singleVisual.autoSelectVisualType=ut.autoSelectVisualType);var Ae=lt.visibility;null!=Ae&&Ae!==E.B8.None&&Ae!==E.B8.VisualCalcEditing&&(Ce.visibility=Ae),(0,f.dK)(ut)&&(Ce.singleVisual.hidden=!0);var be=ut.query,Ie=oe&&ut.presentationChangesApplied;(Ie||be&&be.hasQueryFieldParameters())&&(Ie&&(Ce.singleVisual.targetType=ut.visualType),null!=ut.autoSelectVisualType&&(Ce.singleVisual.targetAutoSelectVisualType=ut.autoSelectVisualType),be&&be.projections&&be.defn&&(Ce.singleVisual.projections=(0,P.$F)(be,Ie))),be&&be.projections&&Me.featureSwitchService.featureSwitches.fieldParameters&&(Ce.singleVisual.parameters=(0,P.fh)(be)),be&&be.defn&&(Ce.singleVisual.orderBy=be.defn.orderBy()),be&&be.projections&&(Ce.singleVisual.activeProjections=Me.captureActiveProjections(be)),be&&be.expansionStates&&(Ce.singleVisual.expansionStates=(0,l.o8)(be.expansionStates)),be&&be.isDrillDisabled&&(Ce.singleVisual.isDrillDisabled=be.isDrillDisabled),Ye[lt.name]=Ce};for(var lt of X)Le();return Ye}captureActiveProjections(X){var ne,ae=X.defn.select();for(var oe in X.projections){var Ye=X.projections[oe].activeProjectionRefs;if(!_.isEmpty(Ye)){var Le=_.map(Ye,lt=>{var ut=ae.withName(lt);return ut?ut.expr:null});ne||(ne={}),ne[oe]=Le}}return ne}captureVisualObjects(X,ne){return this.captureFilterStateObjects(X,ne)}captureFilterStateObjects(X,ne){var ae=this.plugins.capabilities(X);return ae&&ae.objects?this.captureObjects(ae.objects,ne,k):{}}captureObjects(X,ne,ae){var oe={};for(var Me in X){var Ye=X[Me];for(var Le in Ye.properties){var lt=Ye.properties[Le],ut={objectName:Me,propertyName:Le};if(lt.captureState||ae(ut,lt,X)){var St=ne?.[Me];if(St)for(var ze of St){var Be=(0,s._W)(ne,ut,ze.selector);Be&&(0,s.KY)(oe,ut,ze.selector,Be)}}}}var Ce={};return _.isEmpty(oe)||(Ce.merge=oe),Ce}apply(X,ne,ae,oe){a.Y.assertValue(X,"state"),a.Y.assertValue(ne,"exploration");var Me={visualContainers:[],visualContainerGroups:[],issues:[]};for(var Ye in oe.suppressActiveSection||this.applyActiveSection(X.activeSection,ne,Me),!oe.suppressData&&!oe.targetVisualNames&&this.applyFilters(X.filters,ne,c.$d.Exploration,Me,oe.clearUnmatchedData,[],void 0,ae,this.nonDrillthroughIsLinkedAsAggregationCallback),X.objects&&this.applyExplorationObjects(X.objects,ne,Me,oe),X.sections){var Le=(0,i.q7)(ne.sections,Ye);if(Le){var lt=X.sections[Ye],ut=!oe.suppressActiveSection||this.isActiveSection(Le.name,ne);this.applySection(ne,lt,Le,ae,Me,oe,ut)}}return Me.activeSection&&null!=Me.filterScope&&(0,N.QZ)(ne.sections[ne.activeSectionIndex]),oe.suppressDataSourceVariables||this.applyDataSourceVariables(X.dataSourceVariables,ne,Me),_.isEmpty(Me.issues)||this.telemetryService.logEvent(T.EX,{context:"apply",issues:_.reduce(Me.issues,(ze,Be)=>ze|Be.type,O.None)}),Me}applyExplorationObjects(X,ne,ae,oe){var Me={};X&&X.merge&&(Me.merge=(0,s.o8)(X.merge));var Ye=ne.objects||{};for(var Le in Me.merge)for(var lt of Me.merge[Le]){var ut=(0,s.D8)(Ye,Le,lt.selector);for(var St in lt.properties){var ze=lt.properties[St];this.shouldApplyExplorationProperty(Le,oe)&&!(0,s.Y2)(ut.properties[St],ze)&&(ae.objects=!0,ut.properties[St]=ze)}}return ae.objects&&!ne.objects&&(ne.objects=Ye),ae}isDisplayOptions(X){return void 0!==X&&void 0!==X.outspacePane&&void 0!==X.visuals}shouldApplyExplorationProperty(X,ne){return"outspacePane"===X&&this.isDisplayOptions(ne.suppressDisplay)?!ne.suppressDisplay.outspacePane:!ne.suppressDisplay}applyFilterState(X,ne){var ae={visualContainers:[],visualContainerGroups:[],issues:[]};for(var oe of X){var Me=oe.visual,Ye=oe.state,Le=Me.config.singleVisual,lt=this.plugins.capabilities(Le.visualType),ut=oe.impacted;(ut=this.applyObjects(Ye,Le,Ye.objects,lt.objects,ne,ae,!1)||ut)&&!_.includes(ae.visualContainers,Me)&&ae.visualContainers.push(Me)}return _.isEmpty(ae.issues)||this.telemetryService.logEvent(T.EX,{context:"applyFilterState",issues:_.reduce(ae.issues,(St,ze)=>St|ze.type,O.None)}),ae}isActiveSection(X,ne){return X===ne.sections[ne.activeSectionIndex].name}applyActiveSection(X,ne,ae){if(a.Y.assertValue(X,"activeSection"),a.Y.assertValue(ne,"target"),a.Y.assertValue(ae,"impact"),!this.isActiveSection(X,ne)){var oe=(0,i.i4)(ne.sections,X);oe>=0?(ne.activeSectionIndex=oe,ae.activeSection=!0):ae.issues.push({type:O.InvalidActiveSection})}}applyDataSourceVariables(X,ne,ae){a.Y.assertValue(ne,"target"),a.Y.assertValue(ae,"impact"),X?(ne.dataSourceVariables=X,ae.dataSourceVariables=!0):ne.dataSourceVariables=void 0}applyFilters(X,ne,ae,oe,Me,Ye,Le,lt,ut){var St=!1,ze=[],Be={nameIdentifiedMerges:_.clone(X&&X.nameIdentifiedMerges||{}),exprIdentifiedMerges:[...X&&X.exprIdentifiedMerges||[]],typeIdentifiedMerges:[...X&&X.typeIdentifiedMerges||[]],transientFilters:[...X&&X.transientFilters||[]]};if(St=this.applyRemainingFilters(Be,ne,ae===c.$d.Visual,oe,ze,Ye,Le,lt,ut)||St,Me&&ne.filters)for(var Ce=ne.filters.length-1;Ce>=0;Ce--){var Ae=ne.filters[Ce];Ae?Ae.type!==u.RJ.Passthrough&&(_.includes(ze,Ae)||(Ae.howCreated===E.GS.Drill?(ne.filters.splice(Ce,1),this.addImpactCrossDrillSourceUpdate(Le,ne,ae===c.$d.Visual,oe)):x(Ae),St=!0)):ne.filters.splice(Ce,1)}return St&&this.setMinimumFilterScope(oe,ae),St}applyRemainingFilters(X,ne,ae,oe,Me,Ye,Le,lt,ut){var St=this.applyTransientFilters(X,ne,Me,oe);if(St=this.applyMatchingFilterByName(X,ne,Me,oe)||St,!_.isEmpty(X.nameIdentifiedMerges)){for(var ze in X.nameIdentifiedMerges)X.exprIdentifiedMerges.push(X.nameIdentifiedMerges[ze]);X.nameIdentifiedMerges={}}St=this.applyMatchingFilterByExpr(X,ne,ae,Me,lt,ut,oe)||St,St=this.applyMatchingFilterByType(X,ne,Me,oe)||St;var Be=this.applyDrillFilters(X,ne,Me,Ye,oe);return St=Be||St,Be&&this.addImpactCrossDrillSourceUpdate(Le,ne,ae,oe),St}addImpactCrossDrillSourceUpdate(X,ne,ae,oe){if(function(J,X){return!!J&&!!X}(ne,ae)){a.Y.assertValue(X,"section");var Ye=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(X,[ne]);oe.visualContainers=_.union(oe.visualContainers,Ye)}else a.Y.assertFail("FiltersContainer of a drill filter should be VisualContainer."),oe.issues.push({type:O.FiltersContainerOfADrillFilterShouldBeVisualContainer})}applyMatchingFilterByName(X,ne,ae,oe){if(a.Y.assertAnyValue(X,"remainingFiltersState"),a.Y.assertValue(ne,"target"),a.Y.assertValue(ae,"appliedTargetFilters"),_.isEmpty(X)||_.isEmpty(X.nameIdentifiedMerges)||_.isEmpty(ne.filters))return!1;var Me=!1,Ye=[],Le=function(ut){var St=X.nameIdentifiedMerges[ut];St.name!==ut&&(a.Y.assertFail("mismatched filter names"),oe.issues.push({type:O.MismatchedFilterNames}));var ze=_.findIndex(ne.filters,Be=>Be.howCreated===St.howCreated&&!_.includes(ae,Be)&&Be.name===ut);-1!==ze&&(m.b0.isSameFilter(ne.filters[ze].filter,St.filter)||(B(ne.filters[ze],St),Me=!0),Ye.push(ut),ae.push(ne.filters[ze]))};for(var lt in X.nameIdentifiedMerges)Le(lt);return Ye.forEach(ut=>{delete X.nameIdentifiedMerges[ut]}),Me}applyMatchingFilterByExpr(X,ne,ae,oe,Me,Ye,Le){var lt=this;if(a.Y.assertAnyValue(X,"remainingFiltersState"),a.Y.assertValue(ne,"target"),a.Y.assertValue(ae,"isVisualScope"),a.Y.assertValue(oe,"appliedTargetFilters"),_.isEmpty(X)||_.isEmpty(X.exprIdentifiedMerges))return!1;for(var ze,Ce,ut=!1,St=!1,Be=[...X.exprIdentifiedMerges||[]],Ae=function(){var be=Ce.howCreated;if(be===E.GS.Drill)return Be.splice(0,1),1;var Ie=_.remove(Be,_e=>_e===Ce||_e.howCreated===be&&(0,S.aI)(_e.expression,Ce.expression)),ve=[];if((ne.filters||[]).forEach((_e,at)=>{_e&&_e.howCreated===be&&!_.includes(oe,_e)&&!Ye(_e)&&(0,S.aI)(_e.expression,Ce.expression)&&(!Y(_e)||_e.name===Ce.name)&&ve.push(at)}),_.isEmpty(ve)&&ae&&be===E.GS.Auto)if(Ce.filter){1!==Ie.length&&(a.Y.assertFail("expecting <= 1 visual-level auto filter for an expression."),Le.issues.push({type:O.ExpectedOneVisualLevelAutoFilterForExpression})),St||(St=!0,ze=(0,N.W3)(ne,lt.visualPluginOps,Me,lt.aggrOps));var xe=_.find(ze,_e=>(0,S.aI)(_e.expression,Ce.expression));xe&&((ne.filters||(ne.filters=[])).push(xe),ve.push(ne.filters.length-1))}else _.remove(X.exprIdentifiedMerges,Ce),_.remove(Ie,Ce);if(ve.length>0){for(var Ee=Math.min(Ie.length,ve.length);Ie.length>Ee;){var Ne=_.findIndex(Ie,_e=>_.isEmpty(_e.filter));if(-1===Ne)break;Ie.splice(Ne,1)}for(var ye=0;ye<Ee;ye++){var Xe=ve[ye];m.b0.isSameFilter(ne.filters[Xe].filter,Ie[ye].filter)||(B(ne.filters[Xe],Ie[ye]),ut=!0),oe.push(ne.filters[Xe])}for(var fe=Ee;fe<Ie.length;fe++){var Se=U(Ie[fe]);(ne.filters||(ne.filters=[])).push(Se),oe.push(Se),ut=!0}for(var qe=Ee;qe<ve.length;qe++)x(ne.filters[ve[qe]]),ut=!0;X.exprIdentifiedMerges=_.difference(X.exprIdentifiedMerges,Ie)}};Ce=_.head(Be);)Ae();return ut}applyDrillFilters(X,ne,ae,oe,Me){var Ye=!1;if(_.isEmpty(oe)||_.isEmpty(X)||_.isEmpty(X.exprIdentifiedMerges))return Ye;var Le=[],lt=function(ze){if(ze.howCreated!==E.GS.Drill)return 0;if(!_.find(oe,be=>(0,S.aI)(ze.expression,be)))return Me.issues.push({type:O.InvalidDrillFilterExpression}),0;var Ce=_.find(ne.filters,be=>be.howCreated===E.GS.Drill&&!_.includes(ae,be)&&(0,S.aI)(be.expression,ze.expression));if(Ce)m.b0.isSameFilter(Ce.filter,ze.filter)||(B(Ce,ze),Ye=!0),ae.push(Ce);else{var Ae=U(ze);(ne.filters||(ne.filters=[])).push(Ae),ae.push(Ae),Ye=!0}Le.push(ze)};for(var St of X.exprIdentifiedMerges)lt(St);return X.exprIdentifiedMerges=_.difference(X.exprIdentifiedMerges,Le),Ye}applyMatchingFilterByType(X,ne,ae,oe){var Me=!1;if(_.isEmpty(X)||_.isEmpty(X.typeIdentifiedMerges))return Me;var Ye=[],Le=function(ut){ut.howCreated===E.GS.Include||ut.howCreated===E.GS.Exclude||(a.Y.assertFail("Only include/exclude supported"),oe.issues.push({type:O.OnlyIncludeExcludeSupported}));var St=_.find(ne.filters,Be=>Be.howCreated===ut.howCreated&&!_.includes(ae,Be));if(St)B(St,ut),ae.push(St);else{var ze=U(ut);(ne.filters||(ne.filters=[])).push(ze),ae.push(ze)}Ye.push(ut),Me=!0};for(var lt of X.typeIdentifiedMerges)Le(lt);return X.typeIdentifiedMerges=_.difference(X.typeIdentifiedMerges,Ye),Me}applyTransientFilters(X,ne,ae,oe){var Me=!1;if(!_.isEmpty(X)&&!_.isEmpty(X.transientFilters)){var Ye=function(ut){ut.howCreated===E.GS.Drillthrough&&!0===ut.isTransient||(a.Y.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),oe.issues.push({type:O.NonDrillthroughFilterInTransientFilters}));var St=_.find(ne.filters,Be=>Be.isTransient&&!_.includes(ae,Be)&&m.b0.isSameFilter(Be.filter,ut.filter));if(St)B(St,ut),ae.push(St);else{var ze=U(ut);(ne.filters||(ne.filters=[])).push(ze),ae.push(ze)}Me=!0};for(var Le of X.transientFilters)Ye(Le);X.transientFilters=[]}var lt=_.remove(ne.filters,ut=>ut&&ut.isTransient&&!_.includes(ae,ut));return Me=Me||!_.isEmpty(lt)}applySection(X,ne,ae,oe,Me,Ye,Le){var lt=this;Ye.suppressData||Ye.targetVisualNames||this.applyFilters(ne.filters,ae,c.$d.Section,Me,Ye.clearUnmatchedData,[],ae,oe,be=>(0,w.y1)(X,ae,be));var St=function(){var be=ze.name;if(Ye.targetVisualNames&&!_.includes(Ye.targetVisualNames,be))return 1;var ve,Ie=ne.visualContainers&&ne.visualContainers[be];if(null!=Ie?(ve=lt.applyVisualState(X,Ie,ae,ze,oe,Me,Ye,Le,!0),Ie.highlight&&!Ye.suppressData&&Le&&(a.Y.assert(()=>!_.isEmpty(Ie.highlight.selection),"Selection is empty"),lt.isSelectionValid(Ie.highlight.selection,ze.config.singleVisual,oe)&&(null==Me.pendingHighlights&&(Me.pendingHighlights=[]),a.Y.assert(()=>!Ye.suppressData,"suppressData"),Me.pendingHighlights.push({selection:Ie.highlight.selection,sourceVisualContainer:ze,filterExpressionMetadata:Ie.highlight.filterExpressionMetadata})))):Ye.clearUnmatchedData&&(ve=lt.applyVisualState(X,{},ae,ze,oe,Me,Ye,Le,!1)),!_.isEmpty(ve)){var Ee=_.without(ve,...Me.visualContainers||[]);Me.visualContainers.push(...Ee||[])}};for(var ze of ae.visualContainers)St();var Be=this.getCrossHighlights(ae);for(var Ce of ae.visualContainerGroups)if((0,D.tx)(Ce)){var Ae=ne.visualContainerGroups&&ne.visualContainerGroups[Ce.name];null!=Ae&&this.applyVisualGroupState(Ae,ae,Ce,Me,Ye,Be)}}applyVisualState(X,ne,ae,oe,Me,Ye,Le,lt,ut){a.Y.assertValue(Me,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var St=!1,ze=ne.singleVisual;if(!Le.suppressData){var Be=Le.defaultPresentationState?.[ae.name]?.[oe.name],Ae=!1,be=!1;if(this.presentationChangesAllowed(X,Le,oe,ze,this.visualPluginOps)){var Ie=this.applyPresentationChanges(oe,ze,Be,ze&&ze.parameters,Me);Ae=Ie.changesApplied,be=Ie.parametersRemoved}var ve=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(ve=this.applyParameterStateByRole(Me,oe,ze,be));var Ee=this.applySort(oe.config.singleVisual,ze&&ze.orderBy,Le.clearUnmatchedData),Xe=this.applyActiveProjectionsAndDrillState(oe.config.singleVisual,ze&&ze.activeProjections,Le.clearUnmatchedData,ze?!!ze.isDrillDisabled:!!oe.config.singleVisual.query?.isDrillDisabled),fe=this.collectValidDrillExprs(oe.config.singleVisual),Se=this.applyFilters(ne.filters,oe,c.$d.Visual,Ye,Le.clearUnmatchedData,fe,ae,Me,this.nonDrillthroughIsLinkedAsAggregationCallback),Ue=this.applyExpansionStates(oe,ze&&ze.expansionStates,Le.clearUnmatchedData,Me,Ye),_e=this.plugins.capabilities(oe.config.singleVisual.visualType),ot=!1;_e&&_e.objects&&(ot=this.applyObjects(ze,oe.config.singleVisual,ze&&ze.objects,_e.objects,Me,Ye,Le.isPersistentState)),St=ot||Ae||Ee||Xe||Se||Ue||ve}var mt=[];if(!this.getSuppressDisplayOptions(Le).visuals){var Nt=ne.visibility;if(null!=Nt&&lt&&(Ye.visibility={visual:oe,mode:Nt}),!ut||ze){var he=!1;ze?he=!!ze.hidden:Le.suppressUnmatchedClearHidden&&(he=(0,f.dK)(oe.config.singleVisual)),mt.push(...this.applyHidden(he,oe,ae)||[])}}return St&&!_.includes(mt,oe)&&mt.push(oe),mt}applyPresentationChanges(X,ne,ae,oe,Me){var Ye=X.config.singleVisual;if(!ne)return{changesApplied:!1,parametersRemoved:!1};var Le=!ne.targetType;if(Le&&!Ye.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var lt=!1,ut=Le?ae?.visualType:ne.targetType,St=Le?ae?.autoSelectVisualType:ne.targetAutoSelectVisualType,ze=Le?ae?.projections:ne.projections;ut&&(lt=ut!==Ye.visualType,Ye.visualType=ut),null!=St&&(lt=lt||St!==Ye.autoSelectVisualType,Ye.autoSelectVisualType=St),!Ye.query&&ze&&(Ye.query=new b.r(m.DC.create(),{},[]));var{query:Be}=Ye;return ze&&Be?(this.applyVisualQueryPresentationChanges(Be,ze,oe,X,Me),Ye.presentationChangesApplied=!Le,{changesApplied:!0,parametersRemoved:!0}):(Ye.presentationChangesApplied=lt,{changesApplied:lt,parametersRemoved:!1})}applyParameterStateByRole(X,ne,ae,oe){var Me=this;if(!ae||!ae.parameters)return!1;var Ye=ne.config.singleVisual;if(!Ye.query&&oe)Ye.query=new b.r(m.DC.create(),{},[]);else if(!Ye.query)return!1;var Le=ae.parameters,lt=Ye.query,ut={},St=lt.getResolveParameterResultsByRole();for(var ze in Le){var Be=Le[ze];ut[ze]=[];var Ce=lt.projections[ze];if(!Ce&&oe&&Be.length>0&&(Ce=lt.projections[ze]=new g.yl([])),Ce)for(var Ae=function(){var xe,ve=Be[be];if(oe){var Ee=lt.addParameter(ve.expr,ze,ve.index,ve.sortDirection);xe=Ce.getParameterByFieldIndex(Ee);var Ne=St[ze];Ne||(Ne=St[ze]=[]),Ne.push({parameter:xe,result:[]})}else{var ye=_.find(ut[ze],_e=>(0,S.aI)(_e.expr,ve.expr)),Xe=ye?ye.count:0,fe=_.sortBy(Ce.findParameterBySQExpr(ve.expr),_e=>_e.index);if(Xe>=fe.length)return 1;xe=fe[Xe],ye?ye.count++:ut[ze].push({expr:ve.expr,count:1})}var qe=_.find(St[ze],_e=>_e.parameter.index===xe.index),Ue=Me.getProjectionsForParameter(Be,be,ae.projections,ze);qe.result=_.map(Ue,_e=>({expr:_e,alias:void 0})),qe.parameter.sortDirection=ve.sortDirection},be=0;be<Be.length;be++)Ae()}return this.visualAuthoringCore.resolveParameters(X,ne,St,this.drillService,this.sortService,void 0).queryChange}getProjectionsForParameter(X,ne,ae,oe){var Me=[],Ye=X[ne];if(void 0!==Ye.length&&Ye.length>0)for(var Le=(0,v.QX)(Ye.index,X),lt=Le;lt<Le+Ye.length;lt++)Me.push(ae[oe][lt]);return Me}applyVisualQueryPresentationChanges(X,ne,ae,oe,Me){for(var Ye in X.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(Ye,oe,Me,this.drillService,this.sortService);for(var Le in ne){var lt=this.getNonParameterExpressions(ne[Le],ae,Le),ut=void 0;for(ut=0;ut<lt.length;ut++){var St=lt[ut],ze=!1;if(X.projections[Le])for(var Be=X.tryGetExprs(Le),Ce=ut;Ce<Be.length;Ce++)if((0,S.aI)(Be[Ce],St,!0,!0,!0)){ze=!0,Ce!==ut&&X.moveProjection(Le,Ce,ut,1);break}ze||X.add(St,Le,{fieldIndex:ut})}if(X.projections[Le])for(var be=X.tryGetExprs(Le).length;be>lt.length&&be>0;)X.removeProjection(Le,{fieldIndex:--be})}for(var Ie in X.projections){var ve=this.getNonParameterExpressions(ne[Ie],ae,Ie);if(!ve?.length)for(var xe=X.tryGetExprs(Ie).length,Ee=0;Ee<xe;Ee++)X.removeProjection(Ie,{fieldIndex:0})}}getNonParameterExpressions(X,ne,ae){if(X){for(var oe=[],Me=function(Le){var lt=ne&&ne[ae];if(lt&&lt.length>0&&_.find(lt,St=>{var ze=(0,v.QX)(St.index,lt);return void 0!==St.length&&St.length>0&&Le>=ze&&Le<=ze+St.length-1}))return 1;null!==X[Le]&&oe.push(X[Le])},Ye=0;Ye<X.length;Ye++)Me(Ye);return oe}}applyVisualGroupState(X,ne,ae,oe,Me,Ye){var Le=this;if(!Me.targetVisualNames||_.includes(Me.targetVisualNames,ae.name)){var ut;if(!this.getSuppressDisplayOptions(Me).visuals){var ze=X.isHidden;if(null!=ze&&ze!==ae.isHidden&&(ae.isHidden=ze,ut=!0),ze&&!_.isEmpty(Ye)){var Ce=this.clearCrossHighlightsForGroup(ae,ne,Ye);oe.visualContainers=_.chain(oe.visualContainers).concat(Ce).uniq().value()}}ut&&oe.visualContainerGroups.push(ae)}if(!_.isEmpty(X.children)){var Ae=function(Ie){var ve=X.children[Ie],xe=_.find(ae.children,Ee=>Ee.name===Ie);if(!ve||!xe||!(0,D.tx)(xe))return 1;Le.applyVisualGroupState(ve,ne,xe,oe,Me,Ye)};for(var be in X.children)Ae(be)}}getSuppressDisplayOptions(X){var ne=X.suppressDisplay;return this.isDisplayOptions(ne)?ne:{outspacePane:ne,visuals:ne}}applyFilterExpressionCache(X,ne,ae){ae?this.clearFilterExpressionCache(ne):(ne.filterExpressionMetadata=X.filterExpressionMetadata,ne.cachedFilterDisplayItems=X.cachedFilterDisplayItems)}clearFilterExpressionCache(X){X.filterExpressionMetadata=void 0,X.cachedFilterDisplayItems=void 0}applyHidden(X,ne,ae){var oe=ne.config.singleVisual;if(X!==(0,f.dK)(oe)){(0,f.NJ)(oe,X);var Me=[ne];return X&&(Me=_.chain(Me).concat(this.clearCrossHighlightsForVisual(ne,ae)).uniq().value()),Me}}clearCrossHighlightsForGroup(X,ne,ae){var Me,oe=[];return(0,D.Uu)([X],Le=>{(0,D.iA)(Le)&&_.some(ae,lt=>lt.sourceVisualContainer===Le)&&oe.push(Le)}),_.isEmpty(oe)||(Me=this.clearCrossHighlightsForVisuals(oe,ne)),Me||[]}clearCrossHighlightsForVisual(X,ne){return this.clearCrossHighlightsForVisuals([X],ne)}clearCrossHighlightsForVisuals(X,ne){var ae=[...X||[]];return ae.push(...this.filterGenerator.clearCrossHighlightForVisualContainersOperation(ne,X)||[]),_.uniq(ae)}collectValidDrillExprs(X){var ne=X.query;if(!ne)return[];var ae=ne.defn.select();if(_.isEmpty(ae))return[];var oe=[];for(var Me in ne.projections){var Ye=ne.projections[Me],lt=_.last(Ye.activeProjectionRefs||[]);for(var ut of Ye.all()){if(lt&&ut.queryRef===lt)break;var St=ae.withName(ut.queryRef);a.Y.assertValue(St,"found queryRef with no corresponding select"),St&&oe.push(St.expr)}}return oe}applyActiveProjectionsAndDrillState(X,ne,ae,oe){var Me=X.query;if(!Me)return!1;var Ye=Me.defn.select(),Le=this.plugins.capabilities(X.visualType),lt=Le&&Le.drilldown||{roles:[],suppresDrillOperations:!1},ut=lt.roles,St=lt.suppresDrillOperations,ze=!1,Be={},Ce=function(){if(!_.includes(ut,be))return 0;var Xe=ne[be];a.Y.assertNonEmpty(Xe,"activeExprsForRole"),Be[be]||(Be[be]=[]);var fe=Me.projections[be];if(!fe)return ze=!0,0;var Se=fe.all();if(_.isEmpty(Se)||Xe.length>Se.length)return ze=!0,0;if(1!==Xe.length||St)for(var _e=function(ot){a.Y.assert(()=>ot<=Se.length,"existingProjections.length");var mt=Xe[ot],yt=Se[ot],Nt=Ye.withName(yt.queryRef);if(a.Y.assertValue(Nt,"found queryRef with no corresponding select"),!(0,S.aI)(Nt.expr,mt))return ze=!0,1;Be[be].push(yt.queryRef)},at=0;at<Xe.length;at++)_e(at);else{var qe=Xe[0],Ue=_.find(Se,ot=>{var mt=Ye.withName(ot.queryRef);return a.Y.assertValue(mt,"found queryRef with no corresponding select"),(0,S.aI)(mt.expr,qe)});if(!Ue)return ze=!0,0;Be[be].push(Ue.queryRef)}};for(var be in ne)Ce();if(ze)for(var Ie in Me.projections)Be[Ie]=[];var ve=!1;if(Me.isDrillDisabled!==oe&&(0,V.yT)(Le))Me.changeDrillStateValue(ut,oe,Be),ve=!0;else for(var xe in Me.projections)if(_.includes(ut,xe)){var Ee=Me.projections[xe],Ne=Be[xe];if(_.isEmpty(Ne)&&!oe){if(!ae)continue;var ye=Ee.all();_.isEmpty(ye)||(Ne=[_.head(ye).queryRef])}(0,i.m2)(Ee.activeProjectionRefs,Ne,(Xe,fe)=>Xe===fe)||(Ee.activeProjectionRefs=Ne,ve=!0)}return ve}applySort(X,ne,ae){var oe=X.query;if(!oe)return!1;var Me=oe.defn.orderBy()||[];return!(!ne&&!ae||(ne=ne||[],(0,i.m2)(Me,ne,S.lC))||(oe.orderBy(ne),0))}applyObjects(X,ne,ae,oe,Me,Ye,Le){a.Y.assertValue(ne,"singleVisual"),a.Y.assertAnyValue(ae,"contractUpdates"),a.Y.assertAnyValue(Me,"schema"),a.Y.assertValue(oe,"objectDescs");var lt={};ae&&(ae.merge&&(lt.merge=(0,s.o8)(ae.merge)),ae.remove&&(lt.remove=ae.remove.slice()));var ze,ut=ne.objects||{},St=(0,h.x_)(oe),Be=this.plugins.getPlugin(ne.visualType);this.applyPluginUpdateSemantics(Be,lt,ut,oe,Le),lt.remove||(lt.remove=this.getVisualPropertiesToRemove(ne.visualType,ut,lt.merge));var Ce=this.mergeObjects(X,ne,lt.merge,ut,Ye,Me,St);return ze=ze||Ce.visualImpacted,lt.remove=lt.remove.concat(Ce.removeList),this.removeObjects(ne,ut,lt.remove,Ye,St)||ze}updateQueryProjectionsFromExpansionState(X,ne,ae){var oe=this;if(_.isEmpty(ne))return!1;var Ye,Me=function(lt){var ut=lt.getVisibleDescendentsDepth(lt.root,-1),St=Math.max(_.findLastIndex(lt.levels,ve=>ve.isPinned)+1,ut),ze=ve=>{var xe=lt.roles[ve];return a.Y.assertValue(X.projections[xe],`Invalid role ${xe}`),X.projections[xe]&&X.projections[xe].all()},Be=ve=>{var Ne,xe=0,Ee=ze(0),ye=0,Xe=function(){if(ye===_.size(Ee)&&(ye=0,++xe>=_.size(lt.roles)||!(Ee=ze(xe))))return 0;var Se=lt.levels[Ne];a.Y.assert(()=>1===_.size(Se.queryRefs),"Composite groups are not supported, expected only one queryRef.");var qe=_.findIndex(Ee,Ue=>{var _e=(0,v.$f)(X.defn,Ue)?.expr;return Ue.queryRef===_.first(Se.queryRefs)&&oe.verifyExpansionIdentities(Se,_e,ae)},ve?ye:0);if(-1===qe)return 0;ve&&ye!==qe&&X.moveProjection(lt.roles[xe],qe,ye,1)};for(Ne=0;Ne<_.size(lt.levels)&&0!==Xe();Ne++,ye++);return Ne};if(!(Be(!1)>=St))return{v:!1};_.remove(X.expansionStates,ve=>_.isEqual(ve.roles,lt.roles)),Be(!0);var Ae=lt.clone();X.setActiveProjections(Ae.roles,ut);var be=X.getRolesUniqueProjectionRefs(Ae.roles),Ie=_.findIndex(Ae.levels,ve=>ve.isCollapsed);Ae.updateLevels(be,-1===Ie?ut:Ie),X.expansionStates||(X.expansionStates=[]),X.expansionStates.push(Ae)};for(var Le of ne)if(Ye=Me(Le))return Ye.v;return!0}applyExpansionStates(X,ne,ae,oe,Me){var Ye=X.config.singleVisual,Le=Ye.query;if(!Le)return!1;if(!ne&&!ae||(0,l.t7)(Le.expansionStates||[],ne=ne||[]))return!1;var ut=this.plugins.capabilities(Ye.visualType);return ut&&ut.expandCollapse&&ut.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(Le,ne,oe):(Le.expansionStates=(0,l.o8)(_.filter(ne,ze=>{1!==ze.roles.length&&(a.Y.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),Me.issues.push({type:O.OnlyOneRoleAllowedInExpansionStates}));var Be=Le.projections[ze.roles[0]],Ce=Be&&Be.all()||[];return!(!this.expandCollapse.isEnabled(X,ze.roles)||1!==ze.roles.length||Ce.length<ze.levels.length)&&_.every(ze.levels,(Ae,be)=>{a.Y.assert(()=>1===Ae.queryRefs.length,"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Ie=Ce[be],ve=(0,v.$f)(Le.defn,Ie)?.expr;return Ie.queryRef===Ae.queryRefs[0]&&this.verifyExpansionIdentities(Ae,ve,oe)})})),!0)}verifyExpansionIdentities(X,ne,ae){var oe=new r.D;return _.isEmpty(X.identityKeys)||(0,i.m2)(X.identityKeys,ne.accept(oe,ae),S.aI)}applyPluginUpdateSemantics(X,ne,ae,oe,Me){if(ne&&X&&X.mergeObjects){var Ye=(0,t.vt)(),lt=(0,o.Mo)(ae,oe,Ye,this.featureSwitchService.featureSwitches).dataViewObjects,ut=(0,o.Mo)(ne.merge||{},oe,Ye,this.featureSwitchService.featureSwitches),ze=X.mergeObjects({objects:lt,changes:ut.dataViewObjects,isPersistentState:Me});if(ze){if(a.Y.assert(()=>null==ze.removeObject&&null==ze.replace,"Unsupported merge actions"),ze.merge)for(var Be of(ne.merge={},ze.merge))for(var Ce in Be.properties){var be=(0,s.TK)(Be.properties[Ce],X.capabilities.objects[Be.objectName].properties[Ce].type);(0,s.KY)(ne.merge,{objectName:Be.objectName,propertyName:Ce},Be.selector,be)}if(ze.remove)for(var Ie of(ne.remove=[],ze.remove))for(var ve in Ie.properties)ne.remove.push({object:Ie.objectName,property:ve,selector:Ie.selector})}}}mergeObjects(X,ne,ae,oe,Me,Ye,Le){var lt={visualImpacted:!1,removeList:[]};if(_.isEmpty(ae))return lt;for(var ut in ae)for(var St of ae[ut]){var ze=(0,s.D8)(oe,ut,St.selector);for(var Be in St.properties){var Ce=St.properties[Be];if(!(0,s.Y2)(ze.properties[Be],Ce)){if(Le&&d(Le,{objectName:ut,propertyName:Be})){var Ae=!!this.isFilterValid(Ce,ne,Ye);if(this.applyFilterExpressionCache(X,ne,!Ae),!Ae){Me.issues.push({type:O.InvalidVisualFilterOutput}),lt.removeList.push({object:Le.objectName,property:Le.propertyName,selector:null});continue}this.setMinimumFilterScope(Me,c.$d.Section)}ze.properties[Be]=Ce,lt.visualImpacted=!0,ne.objects||(ne.objects=oe)}}}return lt}removeObjects(X,ne,ae,oe,Me){if(_.isEmpty(ae))return!1;var Ye=!1;for(var Le of ae){var ut=Le.object,St=Le.property;(0,s.BJ)(ne,ut,Le.selector,St)&&(Ye=!0,Me&&d(Me,{objectName:ut,propertyName:St})&&(this.clearFilterExpressionCache(X),this.setMinimumFilterScope(oe,c.$d.Section)))}return Ye}getVisualPropertiesToRemove(X,ne,ae){var oe=this.plugins.capabilities(X);if(!oe||!oe.objects)return[];var Me=(0,h.x_)(oe.objects),Ye=[];for(var Le in oe.objects){var lt=oe.objects[Le];for(var ut in lt.properties){var St=lt.properties[ut];if(!St.persistUnmatchedState&&(St.filterState||St.captureState||Me&&d(Me,{objectName:Le,propertyName:ut}))){var ze=ne?.[Le];if(!ze)continue;for(var Ce of ze){var Ae=Ce.selector,be=Ce.properties[ut],Ie=(0,s._W)(ae,{objectName:Le,propertyName:ut},Ae);be&&!Ie&&Ye.push({object:Le,property:ut,selector:Ae})}}}}return Ye}isFilterValid(X,ne,ae){a.Y.assertAnyValue(ae,"if no schema is specified, we will not check for group-on key inclusion in a query");var oe=ne.query;if(!oe)return!1;var Me=new Q(oe.defn,ae);return X.rewrite(Me),Me.valid}isSelectionValid(X,ne,ae){var oe=(0,n.sJ)(X);if(!oe)return a.Y.assertFail("Could not create filter from selection"),!1;var Ye=new m.VU(p.yq.instance).rewriteFrom(oe.from()),Le=_.map(oe.where(),lt=>({condition:lt.condition.accept(p.yq.instance)}));return oe=new m.b0(Ye,Le),this.isFilterValid(oe,ne,ae)}setMinimumFilterScope(X,ne){X.filterScope=X.filterScope?Math.max(ne,X.filterScope):ne}getAdditionalVisualFiltersToCapture(X,ne){var ae=[],oe=(0,N.W3)(X,this.visualPluginOps,ne,this.aggrOps)||[],Me=function(Le){_.find(X.filters,lt=>(0,S.aI)(lt.expression,Le.expression))||ae.push(Le)};for(var Ye of oe)Me(Ye);return ae}presentationChangesAllowed(X,ne,ae,oe,Me){if(!X.settings||!X.settings.allowInlineExploration||!ne.applyPresentationChanges)return!1;var Ye=ae&&ae.config&&ae.config.singleVisual;if(!Ye)return!1;var lt=oe&&oe.visualType;if(![Be=>Me.isQnaVisual(Be),Be=>Me.isQueryVisual(Be)].some(Be=>Be(lt)))return!1;var ze=(0,s._W)(Ye&&Ye.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(ze&&!1===ze.value)}}class Q extends y.k{constructor(X,ne){a.Y.assertValue(X,"query"),a.Y.assertAnyValue(ne,"if no schema is provided, we do not check group-on keys"),super(),this.valid=!0,this.query=X,this.schema=ne}visitColumnRef(X){return this.valid=this.valid&&this.exprInSelects(X),X}exprInSelects(X){var ne=_.some(this.query.select(),Ye=>(0,S.aI)(Ye.expr,X,!0,!0));if(ne)return!0;if(!this.schema)return ne;var ae=this.query.select();for(var oe of ae){var Me=oe.expr.getKeyColumns(this.schema);if(_.some(Me,Ye=>(0,S.aI)(X,Ye,!0,!0)))return!0}return!1}}},411261:function(me,j,e){e.d(j,{SA:function(){return l}});var r=e(817491),i=e(755743),a=e(986417),t=e(712813);function l(s,h){var o={},v=h.getCurrentSection(),m=h.getCurrentExploration(),p=h.getExplorationTelemetryData();switch(v&&(o={activeSectionId:v.id,sectionGuid:v.objectId,sectionIndex:m&&m.activeSectionIndex},(s.name===i._8||s.name===i._F||s.name===i.ZU||s.name===i.XE||s.name===i.Yc)&&(o.visualTypesAndCounts=JSON.stringify((0,t.M3)(v)))),p&&(o.modelId=p.modelId,o.reportGuid=p.reportGuid,o.dataCacheMode=p.dataCacheMode,o.datasetHost=p.datasetHost,o.dbName=p.dbName,o.enterpriseCapacitySkuTier=p.enterpriseCapacitySkuTier,o.isDirectQuery=p.isDirectQuery,o.isOnPrem=p.isOnPrem,o.exid=p.exid,o.exsid=p.exsid),s.name){case i._8:(function(s,h){h&&!_.isEmpty(h.sections)&&(s.areAnySectionQuickExplore=(0,a.mL)(h.sections),s.creationSource=h.creationSource)})(o,m),n(o,v,p);break;case i._F:n(o,v,p)}if(!_.isEmpty(o)){var y=s.formatted||(()=>({}));s.formatted=()=>(0,r.FP)(y.apply(s),o)}}function n(s,h,o){h&&(s.usageReportSection=o&&o.isNewUsageMetrics?h.displayName:void 0),o&&(s.isNewUsageMetrics=o.isNewUsageMetrics,s.isUsageMetrics=o.isUsageMetrics)}},833278:function(me,j,e){e.d(j,{C:function(){return n}});var r=e(785463),i=e(160800),a=e(928912),t=function(s){return s[s.None=0]="None",s[s.DuplicatedName=1]="DuplicatedName",s}({});class g{constructor(h,o){this.federatedConceptualSchema=h,this.localizationService=o}validateExistingMeasureName(h){var o=g.normalizeModelItemName(h.name);for(var v of this.federatedConceptualSchema.schemas)for(var m of v.entities)for(var p of m.properties)if(p!==h&&g.normalizeModelItemName(p.name)===o)return{error:t.DuplicatedName,reason:this.localizationService.format(p.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[p.name,m.name])};return{error:t.None}}static normalizeModelItemName(h){return(0,a._k)(h)}}function n(s){return new d(s)}class d{constructor(h){this.localization=h}validate(h){if(h){var o=function(s,h){return new g(s,h)}(h,this.localization);for(var v of h.schemas)if(v.isExtensionSchema){var m=h.schema(v.extends);for(var p of(r.Y.assertValue(m,"mainSchema"),v.entities)){var y=!1;for(var u of(m.entities.withName(p.name)||(y=!0,p.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),p.queryable=i.IW.Error,p.isAbandoned=!0),p.properties))if(u.kind===i.ye.Measure){var E=o.validateExistingMeasureName(u);E.error===t.DuplicatedName?(u.errorMessage=E.reason,u.queryable=i.IW.Error):y&&(u.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),u.queryable=i.IW.Error)}}}}}}},76826:function(me,j,e){e.d(j,{q:function(){return R},k:function(){return W}});var r=e(167515),i=e(755477),a=e(785463),t=e(942596),l=e(464205),g=e(168376),n=e(381839),d=e(892066),s=e(850396),h=e(364472),o=e(662785),v=e(669129),m=e(668309),p=e(270475),y=e(64974),S=e(399689),C=e(409310),u=e(343382),E=e(275704),c=e(712813),f=e(925397),D=e(555514);class b{constructor(B){this.visualPlugins=B,this.collectedFilters=[]}collectFilters(B,x,A){if(!_.isEmpty(B))for(var L of B)!L||!L.filter&&L.type!==m.RJ.VisualTopN||this.collectFilter(L.filter,L,A,x)}collectFiltersForFilterContainer(B,x,A,L){if(B)for(var Y of B)!Y.filter||Y===A||Y.type===m.RJ.VisualTopN||this.collectFilter(Y.filter,Y,L,x)}collectFilter(B,x,A,L,Y){var z;a.Y.assertAnyValue(B,"filter"),a.Y.assertAnyValue(x,"filterContainer"),a.Y.assertAnyValue(A,"sourceVisualContainer"),B&&(A&&(z=(0,c.p6)(A,this.visualPlugins)),this.collectedFilters.push({filter:B,filterContainer:x,sourceVisualContainer:A,sourceVisualContainerCapabilities:z,scopeType:L,collectedFilterSource:Y}))}getCollectedFilters(){return this.collectedFilters}}var T=e(147293),M=e(721442),V=e(446024),w=e(177328);class P{constructor(B){a.Y.assertValue(B,"options"),this.options=B}resolveSemanticQuery(B){return B?B.where(this.resolveFilters(B.where()),B.from()):null}resolveFilters(B){return B?_.map(B,x=>this.resolveFilter(x)):null}resolveFilter(B){if(!B)return null;if(B.target)return B;if(B.condition)switch((0,d.m)(B.condition)){case s.l0.Column:return this.resolveColumnFilter(B);case s.l0.Exists:return this.resolveExistsFilter(B);case s.l0.Measure:return this.resolveMeasureFilter(B);case s.l0.Subquery:return this.resolveSubqueryFilter(B);default:return void a.Y.assertFail("Unsupported filter kind!")}}resolveColumnFilter(B){return{condition:B.condition,annotations:B.annotations}}resolveMeasureFilter(B){var x=this,A=null;this.options.mappings&&this.options.mappings.measureFilter&&(A=this.options.mappings.measureFilter.targetRoles),(!A||!_.some(A,ee=>this.options.queryProjections[ee]))&&(A=this.getDefaultMeasureFilterTargetRoles());var L,Y,z=B.condition;if(A){for(var H of A){var Z=this.options.queryProjections[H];if(Z){var k=function(){var ee=x.options.select.filter(ae=>ae.name===K.queryRef);a.Y.assert(()=>!_.isEmpty(ee)&&1===ee.length,"Expected exactly one projection with the specified name.");var Q=ee[0].expr,J=ee[0].name;a.Y.assert(()=>null!==J,"Expected select name to be populated");var X=Q.getMetadata(x.options.schema);X&&X.kind!==M.L.Measure&&(!L||!L[J])&&(Y||(Y=[],L={}),Y.push(Q),L[J]=!0)};for(var K of Z.all())k()}}a.Y.assertNonEmpty(Y,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),z=N.rewrite(z,A)}return{target:Y,condition:z,annotations:B.annotations}}resolveExistsFilter(B){return a.Y.assertNonEmpty(B.target,"Exists filters must specify targets."),B}resolveSubqueryFilter(B){return{condition:B.condition,annotations:B.annotations}}getDefaultMeasureFilterTargetRoles(){return(this.options.dataRoles?this.options.dataRoles.filter(x=>x.kind===T.Ts.Grouping||x.kind===T.Ts.GroupingOrMeasure):[]).map(x=>x.name)}}class N extends w.k{constructor(B){super(),this.filterTargetRoles=B}static rewrite(B,x){a.Y.assertValue(B,"filterCondition"),a.Y.assertValue(x,"filterTargetRoles");var A=new N(x);return B.accept(A)}visitScopedEval(B){var x=_.filter(B.scope,A=>!(0,o.aV)(A)||_.includes(this.filterTargetRoles,A.role));return x.length===B.scope.length?B:new V.e6(B.expression,x)}}var I=e(511334),O=e(857327),R=3500;function W(U,B,x,A,L,Y,z,H,Z){return new F(U,B,x,A,L,Y,z,H)}class F{constructor(B,x,A,L,Y,z,H,Z){this.eventBridge=B,this.visualPlugins=x,this.aggrOps=A,this.relationshipService=L,this.hostFilters=Y,this.telemetryService=z,this.scriptVisuals=H,this.featureSwitchService=Z,a.Y.assertValue(this.eventBridge,"eventBridge"),a.Y.assertValue(this.visualPlugins,"visualPlugin"),a.Y.assertValue(this.aggrOps,"aggrOps"),a.Y.assertValue(this.relationshipService,"visualRelationship"),a.Y.assertValue(this.hostFilters,"hostFiltersService"),a.Y.assertValue(this.telemetryService,"telemetryService"),a.Y.assertValue(this.scriptVisuals,"scriptVisuals")}collectVisualContainerFilters(B,x,A){var L=new b(this.visualPlugins);L.collectFilters(A.filters,p.$d.Visual,A),x&&(L.collectFilters(x.filters,p.$d.Section),this.collectCrossFilter(L,x,A)),this.collectSelfFilter(L,A,null),B&&L.collectFilters(B.filters,p.$d.Exploration);var Y=this.hostFilters.getSelectedHostFilters();return Y&&L.collectFilters(Y.filters,p.$d.Section),L.getCollectedFilters()}collectVisualContainerDrillFilters(B){var x=new b(this.visualPlugins),A=_.filter(B.filters,L=>(a.Y.assertValue(L,`collectVisualContainerDrillFilters: visualContainer with name ${B.name} contains blank value in .filters`),null!=L&&L.howCreated===y.GS.Drill));return x.collectFilters(A,p.$d.Visual,B),x.getCollectedFilters()}addVisualContainerFilters(B,x,A,L,Y,z=!1){B.addCollectedFilters(this.collectVisualContainerFilters(x,A,L),!0,this.getShouldApplyFilter(L,Y,A,z)),A&&(this.addHighlightFilter(B,A,L,Y),this.addCrossDrillFilters(B,A,L,Y))}calculateVisualContainerFilter(B,x,A,L,Y=!1,z=!1){var H=new D.oI(A);this.addVisualContainerFilters(H,B,x,A,L,Y);var Z=H.getFilters(z);return Z.queryRefsForSingleItemDrillFilters=u.M.getQueryRefsForSingleItemDrillFilters(A,L,this.aggrOps),Z}calculateDetailVisualFilter(B,x,A,L,Y){var z=new D.oI(A);this.addVisualContainerFilters(z,B,x,A,L),Y===y.NJ.Default&&(Y=y.NJ.DataFilter);var H=z.getHighlightFilters();H&&(z.clearHighlightFilters(),z.mergeHighlightFiltersBasedOnRelationship(H,Y));var Z=z.getFilters();return Z.queryRefsForSingleItemDrillFilters=u.M.getQueryRefsForSingleItemDrillFilters(A,L,this.aggrOps),Z}clearCrossHighlight(B,x,A){var L=this.clearCrossHighlightOperation(B);(0,c.EP)(this.eventBridge,L,r.vd.CrossHighlight,x,A)}clearCrossHighlightForVisualContainers(B,x,A,L){var Y=this.clearCrossHighlightForVisualContainersOperation(B,x);(0,c.EP)(this.eventBridge,Y,r.vd.CrossHighlight,A,L)}clearCrossHighlightForVisualContainersOperation(B,x){var A=B.crossFilterSource&&B.crossFilterSource.highlight;if(!_.isEmpty(A)){var L=_.chain(A).map(Z=>Z.sourceVisualContainer).filter(Z=>_.includes(x,Z)).valueOf(),Y=[];for(var z of L){var H=this.setCrossHighlightOperation(null,null,B,t.v.Difference,z);Y.push(...H||[])}return _.uniq(Y)}}clearFiltersFromVisualContainers(B,x,A,L){var Y=B&&B.crossFilterSource,z=Y&&Y.drill,H=Y&&Y.highlight,Z=[];if(!_.isEmpty(H)&&_.some(x,ee=>_.some(H,Q=>ee===Q.sourceVisualContainer))&&(Z=this.clearCrossHighlightOperation(B)),!_.isEmpty(z)){var k=this.clearCrossDrillFromVisualContainersOperation(B,x);Z=_.union(Z,k)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var K=[];_.forEach(x,ee=>{var Q=(0,c.L7)(ee),J=(0,g._W)(Q,{objectName:"visualLink",propertyName:"type"},void 0);J?.value===C.je&&K.push(ee)}),Z=_.union(Z,K)}_.some(x,ee=>this.supportsFilterOutput(ee))?(0,c.EP)(this.eventBridge,B.visualContainers,A,void 0,L):_.isEmpty(Z)||(0,c.EP)(this.eventBridge,Z,A,void 0,L)}updateCrossHighlightCollectedFilters(B,x,A){var L=B&&B.crossFilterSource&&B.crossFilterSource.highlight;if(L){var Y=_.find(L,z=>z.sourceVisualContainer===A);Y&&!_.isEmpty(Y.selection)&&(Y.collectedFilters=this.collectVisualContainerFilters(x,B,A),(0,c.AD)(this.eventBridge,A))}}calculateFilterContainerInputFilter(B,x,A,L,Y){if(A&&x&&Y){var z;Y.scopeType===p.$d.Visual&&(z=Y.container);var H=new b(this.visualPlugins);if(B&&H.collectFiltersForFilterContainer(B.filters,p.$d.Exploration,A),Y.scopeType===p.$d.Section){var Z=A.howCreated===y.GS.Drillthrough?_.filter(x.filters,K=>null!=K&&K.howCreated===y.GS.Drillthrough):x.filters;H.collectFiltersForFilterContainer(Z,p.$d.Section,A)}else Y.scopeType!==p.$d.Exploration&&H.collectFiltersForFilterContainer(x.filters,p.$d.Section,A);this.collectSelfFilter(H,null,A),z&&(H.collectFiltersForFilterContainer(z.filters,p.$d.Visual,A,z),this.collectCrossFilter(H,x,z));var k=new D.oI(z,A);return k.addCollectedFilters(H.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(A,z,L,x)),k.getFilters()}}getVisualContainerCrossFilters(B,x,A){var L=new b(this.visualPlugins);this.collectCrossFilter(L,B,x);var Y=new D.oI(x);return Y.addCollectedFilters(L.getCollectedFilters(),!1,this.getShouldApplyFilter(x,A,B)),this.addHighlightFilter(Y,B,x,A),this.addCrossDrillFilters(Y,B,x,A),{dataFilters:Y.getCrossFilters()||[],highlightFilters:Y.getHighlightFilters()}}checkSelectionLimit(B,x,A,L){var Y=this.countSelectedDataPoints(B,x,L),z=A.length;return{existingSelectionLength:Y,newSelectionLength:z,allowed:!(Y+z>R)}}logRFilterTelemetry(B,x,A,L){var Y=(0,E.E3)(x,this.scriptVisuals);_.isEmpty(Y)||this.telemetryService.logChildEvent(L&&L.event,B,{filterType:A,visualIds:JSON.stringify(Y)})}setCrossHighlightOperation(B,x,A,L,Y,z,H){var Z=this,k=A.crossFilterSource&&A.crossFilterSource.highlight,K=!1;if(Y){K=!0,A.crossFilterSource||(A.crossFilterSource={highlight:[]}),A.crossFilterSource.highlight||(A.crossFilterSource.highlight=[]);var Q,ee=A.crossFilterSource.highlight;L!==t.v.Difference&&L!==t.v.Union||!this.newAndPreviousSelectionsSupportMultiVisualSelection(Y,ee)?(A.crossFilterSource.highlight=ee=[],Q=0):-1===(Q=_.findIndex(ee,Me=>Me.sourceVisualContainer===Y))&&(Q=ee.length),null==x?(_.isEmpty(ee)||((ee=[...ee||[]]).splice(Q,1),A.crossFilterSource.highlight=ee),Y=null):ee[Q]={sourceVisualContainer:Y,selection:x,selectorFilter:(0,l.sJ)(x),collectedFilters:_.isEmpty(x)?[]:this.collectVisualContainerFilters(B,A,Y),filterExpressionMetadata:z},this.logRFilterTelemetry(i.NS,A,i.Vu.Highlight,H)}else k&&(K=!0,A.crossFilterSource.highlight=void 0);if(K){var J=A.crossFilterSource&&A.crossFilterSource.highlight;if(!_.isEmpty(k)){var X=function(Me){-1===_.findIndex(J,Ye=>Ye.sourceVisualContainer===Me.sourceVisualContainer)&&(0,c.iU)(Z.eventBridge,Me.sourceVisualContainer)};for(var ne of k)X(ne);var ae=function(Me){if(Me.sourceVisualContainer!==Y&&-1===_.findIndex(J,Le=>Le.sourceVisualContainer===Me.sourceVisualContainer))return Y=null,1};for(var oe of k)if(ae(oe))break}return _.filter(A.visualContainers,Me=>Me!==Y)}}newAndPreviousSelectionsSupportMultiVisualSelection(B,x){return a.Y.assertValue(x,"highlights"),!(!this.supportsMultiVisualSelection(B)||1===x.length&&!this.supportsMultiVisualSelection(x[0].sourceVisualContainer))}supportsMultiVisualSelection(B){var x=(0,c.p6)(B,this.visualPlugins);return x&&x.supportsMultiVisualSelection}clearCrossHighlightOperation(B){if(B.crossFilterSource&&B.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,B)}clearCrossDrillFromVisualContainersOperation(B,x){if(!_.isEmpty(x)){var A=[];for(var L of x){var Y=this.updateCrossDrillFromVisualContainerOperation(B,L,!0);A=_.union(A,Y)}return A}}updateCrossDrillFromVisualContainerOperation(B,x,A){a.Y.assert(()=>A||_.includes(B.visualContainers,x),"sourceVisualContainer should be a VisualContainer of the given section.");var z,L=B.crossFilterSource&&B.crossFilterSource.drill,Y=!1;if(!A){var H=this.collectVisualContainerDrillFilters(x);_.isEmpty(H)||(z={sourceVisualContainer:x,collectedFilters:H})}var Z=_.findIndex(L,k=>k.sourceVisualContainer===x);if(Z>=0?(Y=!0,z?L[Z]=z:L.splice(Z,1)):z&&(Y=!0,B.crossFilterSource||(B.crossFilterSource={}),(B.crossFilterSource.drill||(B.crossFilterSource.drill=[])).push(z)),Y)return _.filter(B.visualContainers,k=>k!==x)}collectSelfFilter(B,x,A){var L;if(a.Y.assertValue(B,"collector"),x){if(L=this.getFilterFromFilterPropertyInVisualContainer(x,Z=>this.tryGetSelfFilterProperty(Z))){var z=h.b0.clone(L);z.setIgnoreMParameter(),B.collectFilter(z,null,x,p.$d.Visual,S.x.Self)}}else if(L=this.getFilterFromFilterPropertyInFilterContainer(A,Z=>this.tryGetSelfFilterProperty(Z))){var H=h.b0.clone(L);H.setIgnoreMParameter(),B.collectFilter(H,A,null,p.$d.Visual,S.x.Self)}}collectCrossFilter(B,x,A){for(var L of(a.Y.assertValue(B,"collector"),a.Y.assertValue(x,"section"),a.Y.assertValue(A,"targetVisualContainer"),x.visualContainers))if(L!==A){var Y=this.getFilterFromFilterPropertyInVisualContainer(L,(z,H)=>this.tryGetFilterPropertyIdentifier(z,H));Y&&B.collectFilter(Y,null,L,p.$d.Visual,S.x.Slicer)}}getFilterFromFilterPropertyUtil(B,x,A){var L=A(B,x&&x.visualType);if(L){var Y=x.objects;if(Y)return(0,g._W)(Y,L,null)}}getFilterFromFilterPropertyInVisualContainer(B,x){a.Y.assertValue(B,"visualContainer must be defined"),a.Y.assertValue(x,"getFilterPropertyIdentifierFunc must be defined");var A=(0,c.p6)(B,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(A,B.config&&B.config.singleVisual,x)}getFilterFromFilterPropertyInFilterContainer(B,x){a.Y.assertValue(B,"visualContainer must be defined"),a.Y.assertValue(x,"getFilterPropertyIdentifierFunc must be defined");var A=(0,c.tb)(B,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(A,B.config&&B.config.singleVisual,x)}addHighlightFilter(B,x,A,L){var Y=x.crossFilterSource&&x.crossFilterSource.highlight;if(!_.isEmpty(Y)&&(0,f.d)(A)!==O.U.slicer)for(var z of Y)if(z.sourceVisualContainer!==A){var H=this.buildHighlightFiltersForRelatedTargets(z,L,x);if(H){var Z=this.relationshipService.relationshipFilterAction(x,z.sourceVisualContainer,A,L,!1),k=(0,c.p6)(A,this.visualPlugins);Z===y.NJ.Default&&(Z=this.relationshipService.defaultFilterAction(z.sourceVisualContainer,A)),B.mergeHighlightFiltersBasedOnRelationship(H,Z,!k.supportsHighlight)}}}addCrossDrillFilters(B,x,A,L){var Y=x.crossFilterSource&&x.crossFilterSource.drill;if(!_.isEmpty(Y)){var z=[];for(var H of Y){var Z=H.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(x,Z,A,L)){var K=new D.oI(Z);K.addCollectedFilters(H.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(Z,L,x));var ee=K.getUnmergedDrillCrossFilter();if(ee){var Q=function(X){B.addCrossFilter(X);var ne=_.find(H.collectedFilters,ae=>ae.filter===X.filter);a.Y.assertValue(ne,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),ne&&z.push(ne.filterContainer)};for(var J of ee)Q(J)}}}return z}}buildHighlightFiltersForRelatedTargets(B,x,A){var L=new D.oI(B.sourceVisualContainer);return B.selectorFilter&&L.setSelectorFilter({filter:B.selectorFilter,filterExpressionMetadata:B.filterExpressionMetadata,type:m.RJ.Include}),L.addCollectedFilters(B.collectedFilters,!1,this.getShouldApplyHighlightFilter(B.sourceVisualContainer,x,A)),L.getCrossHighlightFilters()}getShouldApplyFilterContainerInputFilter(B,x,A,L){return(Y,z,H)=>this.shouldApplyFilterContainerInputFilter(Y,z,H,B,x,A,L)}shouldApplyFilterContainerInputFilter(B,x,A,L,Y,z,H){if(a.Y.assertValue(B,"filter"),x===L)return!0;if(!this.shouldApplyFilter(B,x,A,Y,z,H))return!1;var Z=x&&x.expression;return!(Z&&(0,I.t)(Z)||_.some(B.conditions(),k=>(0,d.m)(k)===s.l0.Subquery))}getShouldApplyHighlightFilter(B,x,A){return(L,Y,z)=>this.shouldApplyHighlightFilter(L,Y,z,B,x,A)}getShouldApplyDrillCrossFilter(B,x,A){return(L,Y,z)=>this.shouldApplyDrillCrossFilter(L,Y,z,B,x,A)}shouldApplyHighlightFilter(B,x,A,L,Y,z){return!(!this.shouldApplyFilter(B,x,A,L,Y,z)||_.some(B.conditions(),H=>(0,d.m)(H)===s.l0.Measure))}shouldApplyDrillCrossFilter(B,x,A,L,Y,z){return!(!this.shouldApplyFilterForCrossDrill(B,x,A,L,Y,z)||_.some(B.conditions(),H=>(0,d.m)(H)===s.l0.Measure))}getShouldApplyFilter(B,x,A,L=!1){return(Y,z,H)=>this.shouldApplyFilter(Y,z,H,B,x,A,L)}shouldApplyFilter(B,x,A,L,Y,z,H=!1){return this.shouldApplyFilterInternal(B,x,A,L,Y,z,H?()=>y.NJ.DataFilter:(k,K,ee,Q,J)=>this.relationshipService.relationshipFilterAction(k,K,ee,Q,J))}shouldApplyFilterForCrossDrill(B,x,A,L,Y,z){return this.shouldApplyFilterInternal(B,x,A,L,Y,z,(Z,k,K,ee,Q)=>this.relationshipService.drillRelationshipFilterAction(Z,k,K,ee))}shouldApplyFilterInternal(B,x,A,L,Y,z,H){if(a.Y.assertValue(B,"filter"),_.some(B.where(),J=>J&&(0,o.q_)(J.condition))||x&&u.M.shouldDisableFilter(x,Y,A,this.aggrOps,this.visualPlugins)||!_.isEmpty(B.validate(Y,this.aggrOps))&&(!A||A!==L))return!1;if(A&&L&&A!==L){var Z=L.config?.singleVisual?.query?.projections;if(H(z,A,L,Y,v.B.isFilterForFieldParameter(Z,B,Y))===y.NJ.NoFilter)return!1;var ee=A.config.singleVisual.syncGroup,Q=L.config.singleVisual.syncGroup;if(ee&&Q&&ee.groupName===Q.groupName)return!1}return!0}countSelectedDataPoints(B,x,A){a.Y.assertAnyValue(B,"sourceVisualContainer"),a.Y.assertValue(x,"section");var L=x.crossFilterSource?.highlight;return A?_.chain(L).reduce((Y,z)=>Y+(z.sourceVisualContainer!==B?z.selection.length:0),0).value():0}setMultipleFiltersOnSelectData(B,x,A,L,Y){var z=this.clearCrossHighlightOperation(x);for(var H of A)z=_.union(z,this.setCrossHighlightOperation(B,H.selection,x,t.v.Difference,H.sourceVisualContainer,H.filterExpressionMetadata));(0,c.EP)(this.eventBridge,z,r.vd.CrossHighlight,L,Y)}setFilterOnSelectData(B,x,A,L,Y,z,H,Z){if(this.supportsFilterOutput(L))this.logRFilterTelemetry(i.NS,A,i.Vu.Data,Y);else{var k=this.setCrossHighlightOperation(B,x,A,H,L,Z,Y);(0,c.EP)(this.eventBridge,k,r.vd.CrossHighlight,Y,z)}}updateCrossFilterOnDrill(B,x,A){var L=this.updateCrossDrillFromVisualContainerOperation(B,x,!1);(0,c.EP)(this.eventBridge,L,void 0,void 0,A)}updateCrossDrillFromVisualContainers(B,x){var A=this.updateCrossDrillFromVisualContainersOperation(B,x);(0,c.EP)(this.eventBridge,A)}updateCrossDrillFromVisualContainersOperation(B,x){if(!_.isEmpty(x)){var A=[];for(var L of x){var Y=this.updateCrossDrillFromVisualContainerOperation(B,L,!1);A=_.union(A,Y)}return A}}updateCrossDrillOfSection(B){var x=this.updateCrossDrillOfSectionOperation(B);(0,c.EP)(this.eventBridge,x)}updateCrossDrillOfSectionOperation(B){return this.updateCrossDrillFromVisualContainersOperation(B,B.visualContainers)}getDrillCrossFiltersToApply(B,x,A){var L=new D.oI(x);return this.addCrossDrillFilters(L,B,x,A)}supportsFilterOutput(B){return u.M.supportsFilterOutput((0,c.p6)(B,this.visualPlugins))}tryGetFilterPropertyIdentifier(B,x){return u.M.tryGetFilterPropertyIdentifier(B,x,this.visualPlugins)}tryGetSelfFilterEnabledProperty(B){if(B)return(0,n.df)(B.objects)}tryGetSelfFilterProperty(B){if(B)return(0,n.Es)(B.objects)}resolveFilterTargets(B,x,A,L,Y){if(!h.DC.willFiltersAffectQuery(x.defn))return x.defn;var z={dataRoles:A,mappings:L,queryProjections:x.projections,select:x.defn.select(),schema:B},H=new P(z),Z=x.defn;return Y&&(Z=Z.addSemanticFilter(Y)),H.resolveSemanticQuery(Z)}applyFilterOutput(B){this.supportsFilterOutput(B)&&(0,c.AD)(this.eventBridge,B)}}},555514:function(me,j,e){e.d(j,{oI:function(){return M},XF:function(){return b},gk:function(){return f}});var r=e(997519),i=e(935236),a=e(785463),t=e(364472),l=e(978450),g=e(20502),n=e(536087),s=function(V){return V[V.Root=0]="Root",V[V.LeftOfIn=1]="LeftOfIn",V}({});class h extends g.Li{constructor(){super(),this.fieldsBeingFiltered=[]}visitCondition(w){return w.accept(this,s.Root)}visitIn(w,P){if(P!==s.Root||!w.args)return!1;for(var N of w.args)if(!N.accept(this,s.LeftOfIn))return!1;return!(!w.values||w.table)}visitColumnRef(w,P){return P===s.LeftOfIn&&(this.fieldsBeingFiltered.push(w),!0)}}var o=e(668309),v=e(270475),m=e(64974),p=e(399689),y=e(343382),S=e(712813),C=e(892066),u=e(850396);function c(V){if(_.isEmpty(V))return!1;for(var w of V)if(_.some(w.filter.where(),P=>(0,C.m)(P.condition)===u.l0.Subquery))return!0;return!1}function f(V,w,P,N,I,O,R){a.Y.assert(()=>!!V||P.type===o.RJ.VisualTopN,"Filter required");var W={filter:V,scope:w,filterExpressionMetadata:R};if(P)W.restatement=P.restatement,W.type=P.type,W.isHidden=!!P.isHiddenInViewMode,W.filterExpressionMetadata=P.expression?{expressions:[P.expression]}:void 0,W.displayName=P.displayName,P.cachedValueItems&&W.filterExpressionMetadata?W.filterExpressionMetadata.cachedValueItems=T(P.cachedValueItems,0):P.filterExpressionMetadata&&(W.filterExpressionMetadata=P.filterExpressionMetadata);else if(N&&y.M.supportsFilterOutput(I)&&N.config.singleVisual.query){var F=N.config.singleVisual.query.defn.select(),U=N.config.singleVisual.cachedFilterDisplayItems,B=N.config.singleVisual.filterExpressionMetadata;if(a.Y.assert(()=>null==U||null==B,"We should not have both caches defined at the same time"),F.length>=1&&U&&O===p.x.Slicer)W.filterExpressionMetadata={expressions:[F[0].expr],cachedValueItems:T(U,0)};else if(B)W.filterExpressionMetadata=B;else for(var x of(W.filterExpressionMetadata={expressions:[]},F))W.filterExpressionMetadata.expressions.push(x.expr)}return W}function D(V){if(null!=V){var w={Restatement:V.restatement,type:V.type};return V.expression&&(w.expression=r.F3.serializeExpr(V.expression)),w}}function b(V){if(!_.isEmpty(V)){var w=[];for(var P of V)w.push(D(P));return w}}function T(V,w){var P=[];for(var N of V){var I={identities:[N.identity],valueMap:{}};I.valueMap[w]=N.displayName,P.push(I)}return P}class M{constructor(w,P){if(this.visualContainer=w,this.filterContainer=P,w){var N=(0,S.NU)(w);N&&(this.visualSemanticQuery=N.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}setSelectorFilter(w){a.Y.assertValue(w,"filter"),a.Y.assert(()=>!this.selectorFilter,"should not call setSelectorFilter twice"),this.selectorFilter=w,this.shouldPruneUnnecessaryFilters=!0}addDrillFilter(w){a.Y.assertValue(w,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(w)}addVisualFilter(w){a.Y.assertValue(w,"filter"),this.visualSemanticQuery&&(w.filter=(0,t.m4)(w.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(w),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0}addVisualTopNFilter(w){a.Y.assertValue(w,"filter"),a.Y.assert(()=>void 0===this.visualTopNFilter,"visualTopNFilter"),this.visualTopNFilter=w}addDrillthroughFilter(w){a.Y.assertValue(w,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(w),this.needToEnsurePrecedence=!0}addSectionFilter(w){a.Y.assertValue(w,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(w),this.needToEnsurePrecedence=!0}addReportFilter(w){a.Y.assertValue(w,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(w),this.needToEnsurePrecedence=!0}addCrossFilter(w){a.Y.assertValue(w,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(w),this.needToEnsurePrecedence=!0}addHighlight(w){a.Y.assertValue(w,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(w)}addCollectedFilters(w,P,N){for(var I of(a.Y.assertValue(w,"collectedFilters"),w)){var O=I.filter,R=I.filterContainer,W=I.sourceVisualContainer;if(R?.type===o.RJ.VisualTopN){var F=f(O,I.scopeType,R,W,I.sourceVisualContainerCapabilities,I.collectedFilterSource);this.addVisualTopNFilter(F)}if(!N||N(O,R,W)){var U=R;I.filterContainer&&I.filterContainer===this.filterContainer&&(U=null);var B=f(O,I.scopeType,U,W,I.sourceVisualContainerCapabilities,I.collectedFilterSource);!R||R.howCreated!==m.GS.Drill&&R.precedence!==m.NH.Drill?I.sourceVisualContainer?I.sourceVisualContainer===this.visualContainer?this.addVisualFilter(B):this.addCrossFilter(B):R.howCreated===m.GS.Drillthrough?this.addDrillthroughFilter(B):I.scopeType===v.$d.Section?this.addSectionFilter(B):I.scopeType===v.$d.Exploration?this.addReportFilter(B):I.filterContainer&&I.filterContainer===this.filterContainer&&this.addVisualFilter(B):this.addDrillFilter(B),P&&R&&(this.metadata=this.metadata||[],this.metadata.push(D(R)))}}}mergeHighlightFiltersBasedOnRelationship(w,P,N){switch(P){case m.NJ.Default:a.Y.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case m.NJ.HighlightFilter:if(!N){_.each(w,I=>this.addHighlight(I));break}case m.NJ.DataFilter:w&&_.each(w,I=>this.addCrossFilter(I));break;case m.NJ.NoFilter:break;default:a.Y.assertFail("Unknown visual relationship filter action")}}getFilters(w){var P=this.getFilterData(w),N=this.highlightFilters&&t.b0.merge(this.highlightFilters.map(I=>I.filter));return{dataFilter:P?t.b0.merge(_.map(P,I=>I.filter)):void 0,dataFiltersUnmerged:this.visualTopNFilter?(P||[]).concat(this.visualTopNFilter):P,highlightFilter:N,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}}getFilterData(w){if(a.Y.assert(()=>!this.selectorFilter,"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),w||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var I=this.sectionFilters||[],O=this.drillthroughFilters||[],R=this.reportFilters||[],W=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(W).concat(I).concat(O).concat(R)}}getCrossHighlightFilters(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])}getHighlightFilters(){return this.highlightFilters}clearHighlightFilters(){this.highlightFilters=void 0}getUnmergedDrillCrossFilter(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters}getCrossFilters(){return this.crossFilters}ensurePrecedence(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(V){if(a.Y.assertValue(V,"filterScope"),a.Y.assert(()=>!c(V.sectionFilters),"Page filters are not expected to have the subqueries."),a.Y.assert(()=>!c(V.reportFilters),"Report filters are not expected to have the subqueries."),_.isEmpty(V.visualFilters))return V.visualFilters;var w=!1,P=[];for(var N of V.visualFilters){var O=N.filter.where().filter(B=>(0,C.m)(B.condition)===u.l0.Column);w=w||c([N]),P.push(...O.map(B=>t.b0.fromSQExpr(B.condition)))}if(!w)return V.visualFilters;var R=[];for(var W of V.visualFilters){var F=W;if(c([W])){var U=W.filter;_.isEmpty(P)||(U=(0,t.Aj)(U,P)),_.isEmpty(V.crossFilters)||(U=(0,t.Aj)(U,V.crossFilters.map(B=>B.filter))),_.isEmpty(V.sectionFilters)||(U=(0,t.Aj)(U,V.sectionFilters.map(B=>B.filter))),_.isEmpty(V.drillThroughFilters)||(U=(0,t.Aj)(U,V.drillThroughFilters.map(B=>B.filter))),_.isEmpty(V.reportFilters)||(U=(0,t.Aj)(U,V.reportFilters.map(B=>B.filter))),F={filter:U}}R.push(F)}return R}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)}pruneUnnecessaryFilters(){this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,i._u)(this.visualFilters,(w,P)=>(w.filter=function(V,w){if(!w||!V)return V;var P=w.conditions();if(!P||1!==P.length)return V;var N=new h;if(!N.visitCondition(P[0]))return V;for(var W,I=N.fieldsBeingFiltered,O=V.from(),R=V.where(),F=function(){var x=R[U],A=(0,n.c$)(x,O);A&&_.find(I,L=>(0,l.aI)(A.fieldBeingFiltered,L))?W||(W=_.take(R,U)):W&&W.push(x)},U=0,B=R.length;U<B;U++)F();return W?t.b0.fromSQFromAndSQFilters(O,W):V}(w.filter,this.selectorFilter.filter),w.filter.where().length>0))),this.shouldPruneUnnecessaryFilters=!1)}}},157059:function(me,j,e){e.d(j,{O8:function(){return y},iM:function(){return v},tQ:function(){return C}});var r=e(662785),i=e(785463),a=e(168376),t=e(258825),l=e(4509),g=e(73689),n=e(983240),d=e(347130),s=function(u){return u.group="group",u.visualContainer="visualContainer",u}({});function h(u){return u.canvasItemType===s.visualContainer}function o(u){return u.canvasItemType===s.group}function v(u,E,c,f){var D=d.qN.getSelectedCanvasItem(u);if(D){if((0,n.iA)(D)){var b=D,T=b.config.singleVisual.visualType;if(E.isCustomVisual(T))return;var M=b.config.singleVisual,V=M.vcObjects,w=(0,a._W)(V,{objectName:"stylePreset",propertyName:"name"},void 0),P=f.getVisualObjects(c,T,w&&(0,r.VO)(w)&&w.value,l.Xe);return P&&(V=(0,a.o8)(V||{}),(0,a.X$)(V,P,!0)),{canvasItemType:s.visualContainer,visualType:M.visualType,objects:M.objects,vcObjects:V}}return{canvasItemType:s.group,objects:D.objects}}}var m=l.Xe,p=g.Cq;function y(u,E,c){var f=d.qN.getSelectedCanvasItem(u);if(f&&c){if((0,n.iA)(f)){if(h(c))S(E,c,f);else if(o(c)){var D=f.config.singleVisual;D.vcObjects=C(m,p,c.objects,D.objects)}}else h(c)?(0,n.Uu)([f],b=>{(0,n.iA)(b)&&S(E,c,b)}):o(c)&&(f.objects=C(p,p,c.objects,f.objects));return f}}function S(u,E,c){var f=c.config.singleVisual,D=u.capabilities(f.visualType),b=u.capabilities(E.visualType);D&&b&&(f.objects=C(D.objects,b.objects,E.objects,f.objects)),f.vcObjects=C(m,m,E.vcObjects,f.vcObjects)}function C(u,E,c,f){if(i.Y.assertValue(u,"formatPainter.copyFormatObjects - sourceDescriptors should exist"),i.Y.assertValue(E,"formatPainter.copyFormatObjects - destinationDescriptors should exist"),i.Y.assertAnyValue(c,"formatPainter.copyFormatObjects - sourceObjects can be undefined"),i.Y.assertAnyValue(f,"formatPainter.copyFormatObjects - destinationObjects can be undefined"),c===f)return f;for(var D in f=f||{},u){var b=u[D],T=E[D];if(T&&!b.suppressFormatPainterCopy&&!T.suppressFormatPainterCopy){var M=c&&c[D],V=f&&f[D];for(var w in b.properties){var P=b.properties[w],N=T.properties[w];if(N&&!P.suppressFormatPainterCopy&&!N.suppressFormatPainterCopy&&_.isEqual(P.type,N.type)){if(V)for(var I of V)(0,t.hv)(I,w);if(M)for(var O of M)O.properties[w]&&((0,a.D8)(f,D,O.selector).properties[w]=O.properties[w])}}}}return(0,a.TS)(f)}},866697:function(me,j,e){e.d(j,{D:function(){return v}});var r=e(619584),i=e(45224),a=e(746330),t=e(925245),l=e(607055),g=e(691605),n=e(413667),d=e(755743),s=e(415566),h=e(229456),o="apr_error_notification_bar";function v(y,S,C,u,E,c,f,D,b,T,M,V){return new p(y,S,C,u,E,c,f,D,b,T,M,V)}var m={autoRefreshEnabled:!0,refreshIntervalSeconds:1};class p{constructor(S,C,u,E,c,f,D,b,T,M,V,w){this.telemetryService=S,this.eventBridge=C,this.explorationNavigation=u,this.dataSourcesService=E,this.conceptualSchemaProxy=c,this.globalEventBridge=f,this.visualTimeSynchronizationService=D,this.notificationBarService=b,this.localizationService=T,this.errorService=M,this.reportRefreshCacheService=V,this.reportRefreshConfigProxy=w,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=C.createChannelSubscriptionManager()}subscribeEvents(){null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(h.eMv,()=>this.onSectionChanged()).subscribe(t.gE,()=>this.onVisualsLoaded()).subscribe(h.dor,()=>this.onSectionsObjectsEvaluated()).subscribe(h.AyK,()=>this.onModelChanged())}init(S=!0){var C=this;return(0,r.A)(function*(){C.triggerNotifications=S,yield C.loadPageSettings(),yield C.updateRefreshState(),C.subscribeEvents()})()}destroy(){this.stopRefresh(),this.subscriptionManager?.unsubscribeAll(),this.subscriptionManager=void 0}refreshData(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(h.wl,{affectContainer:()=>!0})}setRefreshPaused(S){this.refreshPaused=S}getRefreshStats(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}}loadAdminSettings(){var S=this;return(0,r.A)(function*(){if(yield S.isPageRefreshSupported()){if(!S.reportRefreshConfigProxy)return void(S.adminConfig=m);var C=S.explorationNavigation.getCurrentExploration()?.report?.modelId;try{S.adminConfig=yield S.reportRefreshConfigProxy.getAPRConfig(C)}catch(u){return S.telemetryService.logEvent(d.dR,{modelId:C}),S.sendNotification(S.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,u,"FailedToGetAPRAdminConfig"),void(S.adminConfig=void 0)}S.adminConfig?S.adminConfig.autoRefreshEnabled||S.sendNotification(S.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):S.sendNotification(S.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0)}})()}loadPageSettings(){var S=this;return(0,r.A)(function*(){var C,u=S.explorationNavigation.getCurrentSection();if(yield S.isAPREnabledInSection(u)){C=S.refreshIntervalInMilliseconds;var E=(0,s.sk)(u.evaluatedObjects.pageRefresh.duration||g.s4);S.refreshIntervalInMilliseconds=(0,s.DE)(E)}else S.refreshIntervalInMilliseconds=void 0;return S.refreshIntervalInMilliseconds!==C})()}onSectionsObjectsEvaluated(){var S=this;return(0,r.A)(function*(){var C=yield S.loadPageSettings();S.refreshIntervalInMilliseconds&&C?S.updateRefreshState():!S.refreshIntervalInMilliseconds&&S.isRunning&&S.stopRefresh()})()}onModelChanged(){var S=this;return(0,r.A)(function*(){var C=yield S.getRefreshInterval();C&&!S.isRunning?S.updateRefreshState():!C&&S.isRunning&&S.stopRefresh()})()}getRefreshInterval(){var S=this;return(0,r.A)(function*(){if(!(yield S.isPageRefreshSupported()))return null;if(S.refreshIntervalInMilliseconds&&S.adminConfig&&S.adminConfig.autoRefreshEnabled){var C=_.max([S.refreshIntervalInMilliseconds,1e3*S.adminConfig.refreshIntervalSeconds]);return _.min([l.HaT,C])}})()}isPageRefreshSupported(){var S=this;return(0,r.A)(function*(){var C;try{C=yield S.conceptualSchemaProxy.get(S.dataSourcesService.get())}catch{return!1}return _.some(C.schemas,u=>u.capabilities&&u.capabilities.supportsFastRefresh)})()}updateRefreshState(){var S=this;return(0,r.A)(function*(){S.stopRefresh(),S.isRunning=!0,!S.adminConfig&&null!=S.refreshIntervalInMilliseconds&&(yield S.loadAdminSettings());var C=yield S.getRefreshInterval();null!=C?S.runTimer(C):S.isRunning=!1})()}triggerRefreshUponSectionChange(){var S=this;return(0,r.A)(function*(){var C=S.explorationNavigation.getCurrentSection();(yield S.isAPREnabledInSection(C))&&S.triggerRefresh()})()}onSectionChanged(){var S=this;return(0,r.A)(function*(){yield S.triggerRefreshUponSectionChange(),S.lastUpdateDate=void 0,yield S.loadPageSettings(),yield S.updateRefreshState()})()}onVisualsLoaded(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()}stopRefresh(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(o)}clearTimeoutAndAnimationFrame(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0}runTimer(S){this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+S),this.notifyReportRefreshStateChanged(),this.timeoutId=window.setTimeout(()=>{this.timeoutId=void 0,this.animationFrameId=requestAnimationFrame(()=>{this.animationFrameId=void 0,this.onTimerTriggered()})},S)}onTimerTriggered(){var S=this;return(0,r.A)(function*(){S.timerExpired=!0,S.visualsLoaded?S.onTimerExpired():S.refreshDelayedCount+=1,yield S.loadAdminSettings();var C=yield S.getRefreshInterval();null!=C?S.runTimer(C):S.stopRefresh()})()}triggerRefresh(){var S=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(S),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(h.bpI)}calculateEffectiveInterval(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0}onTimerExpired(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())}logTriggerRefresh(S){var C=this;return(0,r.A)(function*(){var u=C.explorationNavigation.getCurrentSection(),E=C.explorationNavigation.getCurrentExploration().report,c=C.explorationNavigation.getExplorationTelemetryData(),f="",D=-1,b="",T="-1",M="-1";if(E&&E.model){var V=E.model;f=V.dbName,b=E.objectId,D=V.id}var w=u.objectId,P=yield C.getRefreshInterval();c&&(T=c.exid,M=c.exsid),C.telemetryService.logEvent(a.Iq,{reportId:b,pageId:w,dbName:f,modelId:D,interval:P,delayCount:S,exid:T,exsid:M})})()}notifyReportRefreshStateChanged(){if(this.triggerNotifications){var S,C=this.explorationNavigation.getCurrentExploration().report;C&&(S=C.objectId),this.globalEventBridge.publishToChannel(t.No,{reportId:S,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}}sendNotification(S,C=!1,u,E){var c={id:o,message:S,notificationType:i.Ho.Error,actions:[]};u&&(c.secondaryLink={action:()=>{this.errorService.error(S,E,{requestId:u.requestId,statusCode:u.status&&u.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),C&&c.actions.push({action:()=>{this.notificationBarService.hide(o),this.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(c)}isAPREnabledInSection(S){var C=this;return(0,r.A)(function*(){return!!(yield C.isPageRefreshSupported())&&S&&S.evaluatedObjects&&S.evaluatedObjects.pageRefresh&&S.evaluatedObjects.pageRefresh.show&&(null==S.evaluatedObjects.pageRefresh.refreshType||S.evaluatedObjects.pageRefresh.refreshType===n.uR)})()}}},837609:function(me,j,e){e.d(j,{H:function(){return i}});var r=e(785463);function i(){return new a}class a{constructor(){this.runningVisuals={}}getVisual(l){r.Y.assertValue(l&&l.name,"contract");var g=this.runningVisuals[l.name];if(null!=g&&g.contract===l)return g.visual}setVisual(l,g){r.Y.assertValue(l&&l.name,"contract"),r.Y.assertValue(g,"visual"),this.runningVisuals[l.name]={contract:l,visual:g}}removeVisual(l){r.Y.assertValue(l&&l.name,"contract"),delete this.runningVisuals[l.name]}}},212102:function(me,j,e){e.d(j,{k:function(){return g}});var r=e(270475),i=e(785463),a=e(51161),t=e(275704),l=e(925397);function g(d,s,h,o,v,m){return new n(d,s,h,o,v,m)}class n{constructor(s,h,o,v,m,p){i.Y.assertValue(s,"visualPluginService"),i.Y.assertValue(h,"featureSwitchService"),i.Y.assertValue(o,"localizationService"),i.Y.assertAnyValue(v,"userInfo"),i.Y.assertValue(p,"licenseEnforcementServiceExtend"),this.services={visualPlugin:s,featureSwitchService:h,localizationService:o,userInfo:v,embedModeService:m,licenseServiceExtend:p}}addScriptVisualInfo(s,h){var o=(0,l.d)(s);if(this.services.visualPlugin.isScriptVisual(o)&&s.id){var v={id:s.id,scriptType:(0,t.Yp)(o)};h.push(v)}}showEnableScriptVisualDialogIfRequiredAsync(s,h,o){return i.Y.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null}getScriptVisualErrorDetails(s,h){var o,v=this.services.localizationService,m=this.services.featureSwitchService.featureSwitches;if(s!==r.wY.RScript||m.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return m.scriptVisualAnonymousEmbeddingEnabled||(o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",s)))),o;var S=this.getUserInfoForErrorDetails();if(S&&S.isViralTenant)o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",s)));else if(!1===m.rScriptVisualEnabled)o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",s)));else{var C=!1,u=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!u&&(C=h&&this.services.licenseServiceExtend.isReportInPremiumCapacity(h)),S&&!1===S.isPremiumUser&&!C?o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsIsProFeature",s))):S&&void 0===S.isPremiumUser&&void 0===S.isViralTenant&&void 0===h&&(o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",s))))}}else o=this.buildErrorDetails(v.get(this.getLocalizationKey("Error_VisualsNotSupported",s)));return o}overrideEmbeddedErrorDetails(s,h){var o=this.services.embedModeService&&(this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),v=this.services&&this.services.localizationService;if(o&&h){var m=h;return m.helpLink="",m.message=v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",s)),m.displayableErrorInfo=[{errorInfoKey:v.get(this.getLocalizationKey("Error_VisualsEmbeddedText",s)),errorInfoValue:v.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",s))}],m}}getLocalizationKey(s,h){var o;switch(h){case r.wY.RScript:o="R";break;case r.wY.PythonScript:o="Py";break;default:o=""}return o+s}shouldBlockScriptVisual(s,h){var o=this.services.featureSwitchService.featureSwitches,v=this.getUserInfoForErrorDetails(),m=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),p=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(s){case r.wY.RScript:if(m)return!o.scriptVisualAnonymousEmbeddingEnabled||!o.scriptVisualEnabled;var y=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!p&&(y=h&&this.services.licenseServiceExtend.isReportInPremiumCapacity(h)),!y&&(!o.scriptVisualEnabled||v&&v.isViralTenant||!o.rScriptVisualEnabled||v&&!v.isPremiumUser);case r.wY.PythonScript:return m?!o.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!p&&(y=h&&this.services.licenseServiceExtend.isReportInPremiumCapacity(h)),!y&&(v&&v.isViralTenant||v&&!v.isPremiumUser))}}canLaunchExternalIDE(){return!1}launchExternalIDE(s){return null}openOptionsDialogAsync(){return null}refreshScriptCustomVisuals(s){i.Y.assertFail("Function not implemented for Service")}triggerDataRefresh(){var s="Visual_Error_RefreshFailed",h=this.services.localizationService.get(s),o=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:o,displayableErrorInfo:[{errorInfoKey:h,errorInfoValue:o}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:a.Qs.LearnMore,hideDebugInfo:!0,resourceKey:s}}buildErrorDetails(s){return{message:s,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:a.By.VisualNotSupported}}getUserInfoForErrorDetails(){var s=this.services.userInfo,h=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(s&&!Array.isArray(s)&&!h)return{isViralTenant:s.userMetadata&&s.userMetadata.tenantMetadata&&0===s.userMetadata.tenantMetadata.tenantType,isPremiumUser:s.isPremiumUser}}}},347130:function(me,j,e){e.d(j,{i3:function(){return d},qN:function(){return g},yt:function(){return s}});var r=e(785463),i=e(942596),a=e(983240),t=e(925397),l=e(397070);class g{constructor(){}static getSelectedVisualContainer$(o){return o.selectedElements$.pipe((0,l.T)(v=>{if(1===_.size(v)){var p=v[0].canvasItem;return p&&(0,a.iA)(p)?p:void 0}}))}static selectCanvasItem(o,v,m=i.v.Single,p){var y=n.createSelectableCanvasItem(o);v.selectElement(y,m,p)}static unselectCanvasItem(o,v){var m=g.getSelectedCanvasItems(v);_.includes(m,o)&&g.selectCanvasItems(_.without(m,o),v)}static selectSubSelection(o,v,m,p){var y=n.createSubSelectableCanvasItem(v,m);o.selectElement(y,p)}static selectCanvasItems(o,v,m){var p=_.map(o,y=>n.createSelectableCanvasItem(y));v.selectElements(p,i.v.Single,m)}static isCanvasItemSelected(o,v){var m=g.getSelectedCanvasItems(v);return _.includes(m,o)}static getSelectedCanvasItem(o){return _.first(g.getSelectedCanvasItems(o))}static getSelectedCanvasItems(o){return _.chain(o.getSelectedElements()).map(v=>v.canvasItem).compact().value()}static getSelectedVisualContainers(o){return _.chain(g.getSelectedCanvasItems(o)).filter(v=>(0,a.iA)(v)).compact().value()}static getSelectedVisualContainerGroups(o){return _.chain(g.getSelectedCanvasItems(o)).filter(v=>(0,a.tx)(v)).compact().value()}static hasMultipleVisualContainerSelection(o){return g.getSelectedCanvasItems(o).length>1}static getSelectedVisual(o){var v=g.getSelectedCanvasItems(o);if(1===v.length){var m=v[0];return(0,a.iA)(m)?m:void 0}}static getDefaultSelectedVisualInSingleOrMultiCase(o){var v=_.isArray(o)?o:g.getSelectedCanvasItems(o),m=v[0];if(m){var p=(0,t.d)(m);return _.every(v,y=>(0,t.d)(y)===p)?m:void 0}}static clearSubSelections(o){var v=o.getSelectedElements();if(v){var m=g.getSelectedVisualContainers(o),p=[],y=!1;for(var S of v)_.isEmpty(S.subSelections)?p.push(S):(y=!0,p.push(n.createSubSelectableCanvasItem(S.canvasItem,[])));y&&o.selectElements(p,m.length>1?i.v.Union:i.v.Single)}return v}}class n{constructor(){}static createSelectableCanvasItem(o){return s.createFromCanvasItem(o)}static createSubSelectableCanvasItem(o,v){return s.createFromSubSelections(o,v)}}class d{constructor(){}static equals(o,v){if(o.length!==v.length)return!1;for(var m=0,p=o.length;m<p;m++)if(!s.equals(o[m],v[m]))return!1;return!0}}class s{get id(){if(this._canvasItem)return this._canvasItem.id}get canvasItem(){return this._canvasItem}get subSelections(){return this._subSelections}static createFromCanvasItem(o){var v=new s;return v._canvasItem=o,v}static createFromSubSelections(o,v){var m=s.createFromCanvasItem(o);return m._subSelections=v,m}static equals(o,v){return(o=o||null)===(v=v||null)||!(!o!=!v||(r.Y.assertValue(o,"left"),r.Y.assertValue(v,"right"),o.id!==v.id||o.canvasItem!==v.canvasItem||!_.isEqual(o.subSelections,v.subSelections)))}}},836548:function(me,j,e){e.d(j,{Z:function(){return t}});var r=e(201991),i=e(120710),a=e(735615);function t(g){return new l(g)}class l{constructor(n){this.downgraders=n,this.objectsDowngrader=(0,i.y)(this.downgraders)}getFinalExplorationVersion(n,d){for(var s of(d=(0,r.T9)(d,this.getFinalExplorationForObjectsVersion(n,d)),this.downgraders))d=(0,r.T9)(d,s.getMinDowngradeVersionForContract(n));return d}downgrade(n,d){for(var s of(this.downgradeVisualObjects(n,d),this.downgraders))s.downgrade(n,d)}downgradeVisualObjects(n,d){var s=n&&n.sections;if(s)for(var h of s){var o=h&&h.visualContainers;if(!o)return;for(var v of o){var m=v&&v.config&&v.config.singleVisual;if(m){var p=m.visualType,y=m.vcObjects;y&&this.objectsDowngrader.downgrade(a.p.VisualContainer,y,p,d);var S=m.objects;S&&this.objectsDowngrader.downgrade(a.p.Visual,S,p,d)}}}}getFinalExplorationForObjectsVersion(n,d){var s=n&&n.sections;if(s){for(var h of s){var o=h&&h.visualContainers;if(!o)return;for(var v of o){var m=v&&v.config&&v.config.singleVisual;if(m){var p=m.visualType,y=m.vcObjects;y&&(d=(0,r.T9)(d,this.objectsDowngrader.getFinalVisualObjectsVersion(a.p.VisualContainer,y,d,p)));var S=m.objects;S&&(d=(0,r.T9)(d,this.objectsDowngrader.getFinalVisualObjectsVersion(a.p.Visual,S,d,p)))}}}return d}}}},715604:function(me,j,e){e.d(j,{C:function(){return i},e:function(){return r}});var r=function(a){return a[a.UnknownExplorationVersion=0]="UnknownExplorationVersion",a[a.MissingExploration=1]="MissingExploration",a}({}),i=function(a){return a[a.JSONSerialization=0]="JSONSerialization",a[a.ExplorationStateSerialization=1]="ExplorationStateSerialization",a}({})},648499:function(me,j,e){e.d(j,{iN:function(){return Xe}});var r=e(339131),i=e(813220),a=e(125129),t=e(748958),l=e(419216),g=e(717312),n=e(285380),d=e(448543),s=e(349188),h=e(997519),o=e(727695),v=e(587814),m=e(566296),p=e(201991),y=e(486395),S=e(774973),C=e(944491),u=e(228783),E=e(841333),c=e(935236),f=e(785463),D=e(473001),b=e(304703),T=e(928912),M=e(507345),V=e(904046),w=e(425023),P=e(168376),N=e(446024),I=e(402389),O=e(437849),R=e(691605),W=e(580626),F=e(338643),U=e(311096),B=e(992156),x=e(668309),A=e(64974),L=e(511931),Y=e(4509),z=e(73689),H=e(983240),Z=e(999104),k=e(755743),K=e(43099),ee=e(343382),Q=e(943175),J=e(712813),X=e(173468),ne=e(836548),ae=e(240997),oe=e(481041),Me=e(93374),Ye=e(771910),Le=e(980553),lt=e(203703),ut=e(662785),St=e(511334),ze=e(857327),Be=e(987677),Ce=e(81579),Ae=e(899448),be=e(59764),Ie=e(412156),ve=e(864047),xe="Gradient",Ee="Size";function Ne(Bt,he){var Qe=void 0,je=!0;if(!_.isEmpty(Bt)){var Ke=new Map;for(var tt of Bt){var $e=he(tt),de=Ke.get($e);null!=de?(je=!1,Ke.set($e,de+1)):Ke.set($e,1)}je||(Qe=Object.fromEntries(Ke.entries()))}return{allUnique:je,itemCounts:Qe}}function ye(Bt,he,Qe,je){var Ke=Object.keys(je),tt=0,$e=0,de=0,De=0;for(var re of Ke){var ce=je[re];tt+=ce,ce>1?($e++,De=Math.max(De,ce)):de++}Bt.logEvent(k.ul,{type:he,deserializationId:Qe,totalCount:tt,duplicateCount:$e,uniqueCount:de,maxDuplicateCount:De})}function Xe(Bt,he,Qe,je,Ke,tt,$e){return new fe(Bt,he,Qe,je,Ke,tt,$e)}class fe{constructor(he,Qe,je,Ke,tt,$e,de){this.visualPlugins=he,this.telemetryService=Qe,this.featureSwitchService=je,this.canvasListOrderNormalizeService=Ke,this.contextActivityService=tt,this.userState=$e,this.explorationUpgrader=(0,Ye.E)(je),this.explorationDowngrader=(0,ne.Z)(de)}deepCopyExploration(he,Qe){return this.deserializeExploration(this.serializeExploration(he,Qe),[],!0)}ensureInitialized(){return this.visualPlugins.ensureBuiltInPlugins()}deserializeExploration(he,Qe,je,Ke){var tt;if(he){var te,{model:$e,counters:de,getExplorationActivity:De,logDuplicateTelemetry:re}=Ke??{},ce=re?y.Q.generateId():void 0;De&&(te=De.createChildActivity({name:a.n.UpgradeExploration}));var Te=this.explorationUpgrader.upgrade(he,Qe,je,de);if(te&&(te.setProperty("upgraderCount",de?.upgraderCount),te.resolve()),!Te)return;f.Y.assertValue(Te.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var Fe=Te.config;if(f.Y.assertValue(Fe,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),tt={id:Te.id,sections:void 0,dataSources:void 0,reportId:Te.reportId,themeCollection:O.T.cloneThemeCollection(Fe.themeCollection),bookmarks:[],mwcToken:Te.mwcToken,capacityUri:Te.capacityUri,publicCustomVisuals:Te.publicCustomVisuals,isStoredInBlob:Te.isStoredInBlob},Fe.tags&&(tt.tags=_.cloneDeep(Fe.tags)),Fe.slowDataSourceSettings&&(tt.slowDataSourceSettings=_.cloneDeep(Fe.slowDataSourceSettings)),Fe.settings&&(tt.settings=_.cloneDeep(Fe.settings)),Fe.objects&&(tt.objects=(0,l.EP)(Fe.objects,U.F)),Fe.bookmarks){var et=(0,T.Mt)(()=>{var Ut=this.deserializeBookmarks(Fe.bookmarks);if(re){var{allUnique:Kt,itemCounts:Qt}=Ne(Ut,qt=>qt.name);Kt||(f.Y.assertFail("bookmark names must be unique"),ye(this.telemetryService,k.l5.BookmarkNames,ce,Qt))}tt.bookmarks=Ut});De&&De.setProperty("bookmarkDeserializationDuration",et)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:tt.bookmarks?tt.bookmarks.length:0}),Te.userState&&(tt.userState=(0,lt.UL)(Te.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),Te.activeWebBookmark&&(tt.activeWebBookmark=(0,lt.iZ)(Te.activeWebBookmark,je,this.visualPlugins,this.featureSwitchService,this.telemetryService));var vt=Te.activeBookmark;if(vt){var At=tt.bookmarks??[];for(var st of At)if(!W.$.isBookmarkGroup(st)&&st.name===vt.name){tt.activeBookmark=st;break}}if(Te.sections){var Re=_.sortBy(Te.sections,Ut=>void 0!==Ut.ordinal?Ut.ordinal:0),q=tt.settings&&tt.settings.useStylableVisualContainerHeader;if(tt.sections=_.map(Re,Ut=>this.deserializePage(Ut,{...Ke,enableVisualContainerGrouping:q})),re){var{allUnique:pe,itemCounts:Ve}=Ne(tt.sections,Ut=>Ut.name);pe||(f.Y.assertFail("page names must be unique"),ye(this.telemetryService,k.l5.PageNames,ce,Ve))}if(tt.filters=this.deserializeFilterContainers(Te.filters),tt.dataSources=(0,F.jf)(),Te.resourcePackages&&(tt.resourcePackages=this.deserializeResourcePackages(Te.resourcePackages)),Te.pods&&(tt.pods=_.map(Te.pods,Ut=>this.deserializePod(Ut)),re)){var{allUnique:ke,itemCounts:it}=Ne(tt.pods,Ut=>Ut.name);ke||(f.Y.assertFail("pod names must be unique"),ye(this.telemetryService,k.l5.PodNames,ce,it))}if(_.isNumber(Fe.activeSectionIndex)&&Fe.activeSectionIndex<Te.sections.length&&(tt.activeSectionIndex=Fe.activeSectionIndex),Fe.modelExtensions&&(tt.modelExtensions=this.deserializeModelExtensions(Fe.modelExtensions)),$e)if($e.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty($e.onPremModelConnectionString)){var ft=(0,o.Yp)($e.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(tt,ft,Ut=>{Ut.useInitialCachedQuery=!0},Ut=>{Ut.useInitialCachedQuery=!1})}else if(_.isEmpty($e.onPremModelConnectionString)&&$e.dataCacheMode===S.Ak.Import&&$e.lastRefreshTime){var Pt=(0,o.Yp)($e.lastRefreshTime);this.updateVisualContainerCachingOptions(tt,Pt,Ut=>{Ut.disableCacheOnServerForInitialLoad=!0},Ut=>{Ut.disableCacheOnServerForInitialLoad=!1})}}Te.report&&(tt.report=(0,D.IL)(Te.report),Te.report.linguisticSchemaId&&(tt.reportHasLinguisticSchema=!0)),null!=Fe.defaultDrillFilterOtherVisuals&&(tt.defaultDrillFilterOtherVisuals=Fe.defaultDrillFilterOtherVisuals),Fe.filterSortOrder&&(tt.filterSortOrder=Fe.filterSortOrder),Fe.dataSourceVariables&&(tt.dataSourceVariables=Fe.dataSourceVariables),Fe.creationSource&&(tt.creationSource=Fe.creationSource),tt.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(Fe.linguisticSchemaSyncVersion)}return tt}deserializeLinguisticSchemaSyncVersion(he){return null==he?U.K.Unspecified:(f.Y.assert(()=>he in U.K,"unexpected linguisticSchemaSyncVersion"),he)}updateVisualContainerCachingOptions(he,Qe,je,Ke){for(var tt of he.sections)for(var $e of tt.visualContainers)$e.cachedData&&$e.cachedData.dataUpdatedTime&&$e.cachedData.data&&+$e.cachedData.dataUpdatedTime-+Qe>=0?je($e):Ke($e)}deserializeResourcePackages(he){return f.Y.assertValue(he,"contract"),(0,lt.LH)(he)}deserializeLinkField(he){f.Y.assertValue(he,"linkField");var Qe=h.F3.deserializeExpr(he.fieldExpr);return f.Y.assert(()=>(0,ut.tx)(Qe)&&!1===he.asAggregation||(0,ut.R3)(Qe)||(0,ut.Ah)(Qe),"invalid linkField"),{asAggregation:he.asAggregation,fieldExpr:Qe}}deserializePage(he,Qe){if(he){var je={id:he.id,objectId:he.objectId,name:he.name,displayName:he.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==he.displayOption?he.displayOption:A.td.Dynamic,height:he.height||R.lC,width:he.width||R.Im},filters:this.deserializeFilterContainers(he.filters)};(he.originalHeight||he.originalWidth||he.originalDisplayOption)&&(je.originalSize={displayOption:he.originalDisplayOption,height:he.originalHeight,width:he.originalWidth}),he.transient&&(je.transient=he.transient);var Ke=he.config;if(je.acceptsAllFiltersWhenLinked=Ke.acceptsAllFiltersWhenLinked,Ke.objects&&(je.objects=(0,l.EP)(Ke.objects,L.Cq)),null!=Ke.visibility&&(je.visibility=Ke.visibility),null!=Ke.type&&(je.type=Ke.type),null!=Ke.filterSortOrder&&(je.filterSortOrder=Ke.filterSortOrder),_.isEmpty(Ke.linkFields)||(je.linkFields=_.map(Ke.linkFields,te=>this.deserializeLinkField(te))),Ke.dynamicConfig&&(je.dynamicConfig=this.deserializeDynamicConfig(Ke.dynamicConfig)),he.visualContainers){var{enableVisualContainerGrouping:tt,deserializationId:$e,logDuplicateTelemetry:de=y.Q.generateId()}=Qe??{},De=this.deserializeCanvasItems(he.visualContainers,null,tt);if(De){if(je.visualContainers=De.visualContainers,je.visualContainerGroups=De.visualContainerGroups,de){var{allUnique:re,itemCounts:ce}=Ne(De.visualContainers,te=>te.name);re||(f.Y.assertFail("VisualContainer names must be unique within a section."),ye(this.telemetryService,k.l5.VisualsNamePerPage,$e,ce))}}else je.visualContainers=[],je.visualContainerGroups=[];Ke.relationships&&(je.relationships=this.deserializeRelationships(Ke.relationships,je.visualContainers))}return Ke.howCreated&&(je.howCreated=Ke.howCreated),je}}deserializePod(he){if(he)return{id:he.id,name:he.name,boundSection:he.boundSection,parameters:this.deserializePodParameters(he.parameters),cortanaEnabled:he.cortanaEnabled,type:void 0===he.type?A.cN.Default:he.type,referenceScope:void 0===he.referenceScope?A.th.Default:he.referenceScope,config:this.deserializePodConfig(he.config)}}deserializeRelationships(he,Qe){if(!_.isEmpty(he)){var je;for(var Ke of he){var tt=this.deserializeRelationship(Ke,Qe);tt&&(je||(je=[])).push(tt)}return je}}deserializeBookmarks(he){if(he)return _.map(he,Qe=>{if(this.isBookmarkGroup(Qe)){var je={displayName:Qe.displayName,name:Qe.name,children:this.deserializeBookmarks(Qe.children)};return _.each(je.children,$e=>$e.parentGroup=je),je}var tt={displayName:Qe.displayName,name:Qe.name,explorationState:(0,ae.iu)(Qe.explorationState,this.visualPlugins,this.featureSwitchService)};return Qe.options&&(tt.options=this.deserializeBookmarkOptions(Qe.options)),tt})}deserializeBookmarkOptions(he){return he}deserializeModelExtensions(he){return f.Y.assertAnyValue(he,"model extension wireContracts"),(0,c.s0)(_.map(he,Qe=>{var je={name:Qe.name,extends:Qe.extends};return Qe.entities&&(je.entities=this.deserializeModelExtensionEntities(Qe.entities)),je}))}deserializeModelExtensionEntities(he){return f.Y.assertAnyValue(he,"model extension entities wireContracts"),(0,c.s0)(_.map(he,Qe=>{var je;return je=Qe.extends?{name:Qe.name,extends:Qe.extends}:{name:Qe.name},Qe.measures&&(je.measures=this.deserializeModelExtensionMeasures(Qe.measures)),je}))}deserializeModelExtensionMeasures(he){return f.Y.assertAnyValue(he,"model extension measures wireContracts"),(0,c.s0)(_.map(he,Qe=>{var je={name:Qe.name,dataCategory:Qe.dataCategory,dataType:Qe.dataType,expression:Qe.expression,errorMessage:Qe.errorMessage,hidden:Qe.hidden,references:this.deserializeExpressionReferences(Qe.references),formulaOverride:Qe.formulaOverride,formatInformation:Qe.formatInformation,displayFolder:Qe.displayFolder};return Qe.annotations&&(je.annotations=this.deserializeModelExtensionAnnotations(Qe.annotations)),Qe.measureTemplate&&(je.measureTemplate={daxTemplateName:Qe.measureTemplate.daxTemplateName,version:Qe.measureTemplate.version}),Qe.description&&(je.description=Qe.description),je}))}deserializeExpressionReferences(he){return he?{unrecognizedReferences:!!he.unrecognizedReferences,measures:he.measures||[]}:{unrecognizedReferences:!1,measures:[]}}deserializeModelExtensionAnnotations(he){return f.Y.assertAnyValue(he,"model extension annotations wireContracts"),(0,c.s0)(_.map(he,Qe=>({name:Qe.name,value:Qe.value})))}deserializeDynamicConfig(he){var Qe;if(he.quickExplore){var Ke=he.quickExplore.visualContainerConfigurations,tt=he.quickExplore.layout;Qe||(Qe={}),Qe.quickExplore={selectedFields:_.map(he.quickExplore.selectedFields,$e=>h.F3.deserializeExpr($e)),visualContainerConfigurations:_.map(Ke,$e=>({name:$e.name,fields:_.map($e.fields,de=>h.F3.deserializeExpr(de))}))},tt&&(Qe.quickExplore.layout=this.deserializeQuickExploreLayout(tt))}return Qe}deserializeQuickExploreLayout(he){if(he.combination){var Qe={version:he.combination.version};return he.combination.dataTableName&&(Qe.dataTableName=he.combination.dataTableName),{combination:Qe}}if(he.related){var je={version:he.related.version};return he.related.dataTableName&&(je.dataTableName=he.related.dataTableName),{related:je}}}deserializeFilterCollection(he,Qe,je){if(he){var Ke=this.explorationUpgrader.upgradeFilterCollection(he,Qe,je);if(Ke)return this.deserializeFilterContainers(Ke.filters)}}deserializeFilterContainer(he){return{name:he.name,type:x.RJ[he.type],expression:he.expression?h.F3.deserializeExpr(he.expression):void 0,filter:he.filter&&he.filter.Where?h.F3.deserializeFilter(he.filter):void 0,restatement:he.restatement,cachedValueItems:(0,n.yV)(he.cachedDisplayNames),howCreated:he.howCreated,isLinkedAsAggregation:he.isLinkedAsAggregation,isTransient:he.isTransient,isHiddenInViewMode:he.isHiddenInViewMode,objects:he.objects?(0,l.EP)(he.objects,x.Xe):void 0,isLockedInViewMode:he.isLockedInViewMode,filterExpressionMetadata:he.filterExpressionMetadata?(0,s.jH)(he.filterExpressionMetadata):void 0,displayName:he.displayName,ordinal:he.ordinal}}deserializeCanvasItems(he,Qe,je,Ke){if(!_.isEmpty(he)){var tt=[],$e=[],de={},De={};for(var re of he){f.Y.assertValue(re&&re.config,"explorationSerializer.deserializePage - vc config should exist");var ce=re.config,te=ce.name,Te=Ke&&Ke(re),Fe=this.deserializeCanvasItem(re,Qe,Te);De[te]=Fe.name,(0,H.iA)(Fe)&&tt.push(Fe),void 0===ce.parentGroupName?$e.push(Fe):(de[ce.parentGroupName]||(de[ce.parentGroupName]=[]),de[ce.parentGroupName].push(Fe))}var vt={};for(var At in de){var st=De[At];st?vt[st]=de[At]:$e.push(...de[At]||[])}return this.ensureVisualContainerGrouping($e,vt,je),this.ensureNames(tt),je?(this.ensureGroupZIndexNormalized($e),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized($e,tt):this.ensureListOrderNormalized(tt,!1)):($e=[...tt||[]],this.ensureListOrderNormalized(tt)),{visualContainerGroups:$e,visualContainers:tt}}}deserializeCanvasItem(he,Qe,je){f.Y.assertValue(he&&he.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var Ke=he.config;return Ke.singleVisual?this.deserializeVisualContainer(he,Qe,je):Ke.singleVisualGroup?this.deserializeVisualContainerGroup(he,Qe,je):(f.Y.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(k.S5))}deserializeVisualContainer(he,Qe,je){f.Y.assertValue(he,"input");var Ke=he.config,tt={name:je||Ke.name,id:Qe?void 0:he.id,layouts:(0,c.mq)(),config:{singleVisual:this.deserializeSingleVisual(Ke.singleVisual,he.prototypeQuery)}};null!=he.visibility&&(tt.visibility=he.visibility),null!=he.detailVisualLayout&&(tt.detailVisualLayout=he.detailVisualLayout),Ke.name&&(tt.prevName=Ke.name),Ke.howCreated&&(tt.howCreated=Ke.howCreated),(void 0!==he.dataBinaryBase64Encoded||void 0!==he.query||void 0!==he.dataTransforms)&&(tt.cachedData={data:he.dataBinaryBase64Encoded,query:he.query,transforms:he.dataTransforms,dataUpdatedTime:he.dataUpdatedTime?(0,o.Od)(he.dataUpdatedTime):void 0}),tt.filters=this.deserializeFilterContainers(he.filters);var $e=Ke.singleVisual.drillFilterOtherVisuals;null!=$e&&(tt.drillFilterOtherVisuals=$e);var de=Ke.singleVisual.filterSortOrder;return null!=de&&(tt.filterSortOrder=de),tt.layouts.push(..._.cloneDeep(Ke.layouts)||[]),_.forEach(tt.layouts,De=>{De.position&&mt(De.position)}),tt}deserializeVisualContainerGroup(he,Qe,je){f.Y.assertValue(he,"input");var Ke=he.config,tt=Ke.singleVisualGroup,$e={name:je||Ke.name,id:Qe?void 0:he.id,children:[],displayName:tt.displayName,groupMode:tt.groupMode,layouts:(0,c.mq)(),isHidden:tt.isHidden};return Ke.name&&($e.prevName=Ke.name),$e.layouts.push(..._.cloneDeep(Ke.layouts)||[]),tt.objects&&($e.objects=(0,l.EP)(tt.objects,z.Cq)),$e}deserializeRelationship(he,Qe){f.Y.assertValue(he,"input"),f.Y.assertValue(Qe,"visualContainers");var je=(0,c.q7)(Qe,he.source),Ke=(0,c.q7)(Qe,he.target);if(f.Y.assertValue(je,"source"),f.Y.assertValue(Ke,"target"),he.type!==A.NJ.Default&&je&&Ke)return{source:je,target:Ke,type:he.type}}deserializeFilterContainers(he){if(!(0,M.M)(he)){var Qe=[],je=(0,v.p)(he);return je&&(Qe=je.map(Ke=>this.deserializeFilterContainer(Ke))),Qe}}deserializePodParameters(he){var Qe=[];if(!(0,M.M)(he)){var je=(0,v.p)(he);je&&(Qe=je.map(Ke=>this.deserializePodParameter(Ke)))}return Qe}deserializePodParameter(he){return{name:he.name,boundFilter:he.boundFilter,fieldExpr:he.fieldExpr?h.F3.deserializeExpr(he.fieldExpr):void 0,asAggregation:he.asAggregation,isLegacySingleSelection:he.isLegacySingleSelection}}deserializePodConfig(he){if((0,M.M)(he))return{acceptsFilterContext:A.G4.Default};var Qe=(0,v.p)(he);return f.Y.assert(()=>void 0!==Qe,"Incorrect PodConfig contents"),void 0===Qe.acceptsFilterContext&&(Qe.acceptsFilterContext=A.G4.Default),Qe}deserializeVisualQuery(he,Qe,je,Ke,tt,$e,de){var De=this.visualPlugins.capabilities(he.visualType),re=De&&De.expandCollapse&&De.expandCollapse.supportsMerge,ce=De&&De.expandCollapse&&De.expandCollapse.collapseParentAfterRemovingChildLevel,te=De&&De.noDefaultProjections,Te=Qe.select(),Fe=_.keyBy(Te,vt=>vt.name),et=new Z.r(Qe,this.convertProjections(he.visualType,je,Te,Fe,tt,$e),(0,d.rY)(Ke,{supportsMerge:re,canCollapseRoot:te,collapseParentAfterRemovingChildLevel:ce}),de);this.upgradeVisualQuery(et,he.visualType),he.query=et}deserializeSingleVisual(he,Qe){var je={visualType:he.visualType||he.visualConfig.visualType};f.Y.assertValue(je.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=he.autoSelectVisualType&&(je.autoSelectVisualType=he.autoSelectVisualType);var Ke=he.visualConfig?he.visualConfig.projections:void 0,tt=he.projections||{};if(Ke)for(var $e of Ke){var de=tt[$e.role];de||(tt[$e.role]=de=[]),de.push($e)}else if(tt&&tt.length>0)for(var De of(Ke=tt,tt={},Ke)){var re=tt[De.role];re||(tt[De.role]=re=[]),re.push(De)}var ce=he.prototypeQuery?he.prototypeQuery:Qe?(0,v.p)(Qe):null;if(ce){var te=h.F3.deserializeQuery(ce);this.deserializeVisualQuery(je,te,tt,he.expansionStates,he.showAllRoles,he.queryFieldParametersByRole,he.isDrillDisabled)}null!=he.display&&(je.display=he.display),he.columnProperties&&(je.columnProperties=_.cloneDeep(he.columnProperties));var Fe=he.queryOptions;Fe&&(je.queryOptions=_.cloneDeep(Fe));var et=he.syncGroup;null!=et&&(je.syncGroup=_.cloneDeep(et));var vt=he.hasDefaultSort;return null!=vt&&(je.hasDefaultSort=vt),he.objects&&this.addItemLocationObjects(je.visualType,he.objects),(0,l.NK)(he.objects,()=>this.visualPlugins.capabilities(je.visualType)?.objects,je),he.vcObjects&&(je.vcObjects=(0,l.EP)(he.vcObjects,Y.Xe)),this.deserializeMobileState(je,he),he.cachedFilterDisplayItems&&(je.cachedFilterDisplayItems=(0,n.yV)(he.cachedFilterDisplayItems)),he.filterExpressionMetadata&&(je.filterExpressionMetadata=(0,s.jH)(he.filterExpressionMetadata)),je}addItemLocationObjects(he,Qe){var st,je=(At,st)=>{var Re=At[st.objectName];if(null!=Re&&1===Re.length)return Re[0].properties[st.propertyName]};if(he===ze.U.scorecard){var tt=Be.p.scorecard.scorecardReference,$e=Be.p.scorecard.scorecardId,de=je(Qe,$e);if(null==de)return;var re=h.F3.deserializeExpr(de.expr).value,ce=(st=_.toLower(_.trim(re)),((0,Ae.U8)(st,!1)?st.split("/scorecards/")[1]:st)??re);Qe[tt.objectName][0].properties[tt.propertyName]={kind:be.P.ItemLocation,byReference:{itemId:{expr:h.F3.serializeExpr((0,N.Qq)(ce))}}},delete Qe[$e.objectName][0].properties[$e.propertyName]}if(he===ze.U.rdlVisual){var te=Ce.FA.reportInfo.reference,Te=Ce.FA.reportInfo.reportId,Fe=Ce.FA.reportInfo.workspaceId,et=je(Qe,Te),vt=je(Qe,Fe);if(null==et||null==vt)return;Qe[te.objectName][0].properties[te.propertyName]={kind:be.P.ItemLocation,byReference:{itemId:et,workspaceId:vt}},delete Qe[Te.objectName][0].properties[Te.propertyName],delete Qe[Fe.objectName][0].properties[Fe.propertyName]}}deserializeMobileState(he,Qe){Qe.mobileVcObjects&&(he.mobileVcObjects=(0,l.EP)(Qe.mobileVcObjects,Y.Xe)),Qe.mobileObjects&&(0,l.NK)(Qe.mobileObjects,()=>this.visualPlugins.capabilities(he.visualType)?.objects,he,"mobileObjects")}isBookmarkGroup(he){return void 0!==he.children}ensureVisualContainerGrouping(he,Qe,je,Ke){for(var tt of he){if(Ke&&(tt.parentGroup=Ke),!je&&(0,H.iA)(tt)&&tt.parentGroup){var $e=tt.layouts.withId(r.v.Master),de=(0,J.Ui)($e.position,r.v.Master,tt.parentGroup);$e.position=de,tt.parentGroup=void 0}(0,H.tx)(tt)&&(f.Y.assertValue(Qe[tt.name],"deserializePage - visual container group must have children"),tt.children=Qe[tt.name]||[],this.ensureVisualContainerGrouping(tt.children,Qe,je,tt))}}ensureGroupZIndexNormalized(he){if(f.Y.assertValue(he,"visualContainerGroups"),!_.isEmpty(he))for(var Qe of(this.ensureListOrderNormalizedInternal(he,!0,"z"),he))(0,H.tx)(Qe)&&this.ensureGroupZIndexNormalized(Qe.children)}ensureGroupTabOrderNormalized(he,Qe){if(f.Y.assertValue(he,"visualContainerGroups"),!_.isEmpty(he)){if(_.every(Qe,je=>{var Ke=je.layouts.withId(r.v.Master);return Ke&&Ke.position&&null==Ke.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(he)||this.upgradeTabOrderToHierarchy(he),this.ensureGroupTabOrderNormalizedHelper(he)}}upgradeTabOrderToHierarchy(he){_.map(he,Qe=>{if((0,H.tx)(Qe)&&void 0===Qe.layouts?.withId(r.v.Master).position?.tabOrder){this.upgradeTabOrderToHierarchy(Qe.children);var je=Number.NEGATIVE_INFINITY;(0,H.Uu)([Qe],Ke=>{var tt=Ke.layouts?.withId(r.v.Master).position?.tabOrder;tt&&(je=_.max([je,tt])),je!==Number.NEGATIVE_INFINITY&&(Qe.layouts.withId(r.v.Master).position.tabOrder=je)})}})}ensureGroupsHaveTabOrders(he){for(var Qe of he)if((0,H.tx)(Qe)){var je=Qe.layouts.withId(r.v.Master);if(void 0===je?.position?.tabOrder||!this.ensureGroupsHaveTabOrders(Qe.children))return!1}return!0}ensureGroupTabOrderNormalizedHelper(he){for(var Qe of(this.ensureTabOrderNormalized(he,!0),this.ensureTabOrderNormalized(he,!1),he))(0,H.tx)(Qe)&&this.ensureGroupTabOrderNormalizedHelper(Qe.children)}ensureListOrderNormalized(he,Qe=!0){f.Y.assertValue(he,"visualContainers"),!_.isEmpty(he)&&(Qe&&this.ensureListOrderNormalizedInternal(he,!0,"z"),!_.every(he,je=>{var Ke=je.layouts.withId(r.v.Master);return Ke&&Ke.position&&null==Ke.position.tabOrder})&&(this.ensureTabOrderNormalized(he,!0),this.ensureTabOrderNormalized(he,!1)))}ensureTabOrderNormalized(he,Qe){var je=_.filter(he,Ke=>{var tt=this.getListOrderPropertyFunction(Ke,"tabOrder");return Qe?tt>=0||void 0===tt:tt&&tt<0});this.ensureListOrderNormalizedInternal(je,Qe,"tabOrder")}getListOrderPropertyFunction(he,Qe){var je=he.layouts.withId(r.v.Master);return je&&je.position&&je.position[Qe]}setListOrderPropertyFunction(he,Qe,je){var Ke=he.layouts.withId(r.v.Master);Ke&&Ke.position&&(Ke.position[Qe]=je)}ensureListOrderNormalizedInternal(he,Qe,je){var Ke=this.canvasListOrderNormalizeService.getContainerListOrders(he,tt=>this.getListOrderPropertyFunction(tt,je));this.canvasListOrderNormalizeService.shouldNormalizeListOrder(Ke,Qe)&&(Ke=this.canvasListOrderNormalizeService.normalizeListOrder(Ke,Qe,tt=>this.getListOrderPropertyFunction(tt,je)),this.updateListOrders(he,Ke,je))}updateListOrders(he,Qe,je){for(var Ke of he){var tt=Qe[Ke.name];null!=tt&&tt!==this.getListOrderPropertyFunction(Ke,je)&&this.setListOrderPropertyFunction(Ke,je,tt)}}ensureNames(he){f.Y.assertValue(he,"items");for(var Ke,Qe=he.length,je={},tt=0;tt<Qe;tt++){var $e=he[tt].name;_.isEmpty($e)?Ke=!0:je[$e]=!0}if(Ke)for(var de=0;de<Qe;de++){var De=he[de];_.isEmpty(De.name)&&(De.name=(0,J.E5)(je),je[De.name]=!0)}}convertProjections(he,Qe,je,Ke,tt,$e){f.Y.assertValue(Qe,"contract"),f.Y.assertValue(je,"select");var de={},De=_.keys($e),re=_.keys(Qe),ce=_.union(De,re);for(var te of ce){var Te=_.includes(tt,te);de[te]=this.convertProjectionArray(he,Qe[te],je,te,Ke,Te,$e?$e[te]:void 0)}return de}convertProjectionArray(he,Qe,je,Ke,tt,$e,de){var re,De=[];if(!_.isEmpty(Qe))for(var ce of Qe){var te=this.convertProjection(ce,je,tt);te?(ce.active&&(re=re||[]).push(te.queryRef),De.push(te)):this.telemetryService.logTrace(new Ie.V("Projection without a select detected in deserialization",ve.W.Error,void 0,void 0,{visualType:he,role:Ke}))}var Te=[];if(!_.isEmpty(de))for(var Fe of de){var et={index:Fe.index,length:Fe.length,expr:h.F3.deserializeExpr(Fe.expr)};Te.push(et)}return new w.yl(De,re,$e,Te)}convertProjection(he,Qe,je){f.Y.assertValue(he,"contract");var Ke=he.queryRef;if(_.isNumber(he.queryRef)&&(Ke=Qe[he.queryRef].name),je[Ke]){var tt={queryRef:Ke};return he.hidden&&(tt.hidden=!0),tt}}serializeExploration(he,Qe){return this.createSerializer().serializeExploration(he,Qe)}serializeModelExtensions(he){return this.createSerializer().serializeModelExtensions(he)}serializePage(he,Qe,je){return this.createSerializer().serializePage(he,Qe,je)}serializePageShallow(he,Qe,je){return this.createSerializer().serializePageShallow(he,Qe,je)}serializeVisualContainer(he,Qe){return this.createSerializer().serializeVisualContainer(he,Qe)}serializeVisualContainerGroup(he){return this.createSerializer().serializeVisualContainerGroup(he)}serializePod(he){return this.createSerializer().serializePod(he)}serializeFilterCollection(he){return this.createSerializer().serializeFilterCollection(he)}serializeResourcePackages(he){return this.createSerializer().serializeResourcePackages(he)}createSerializer(){return new _e(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)}upgradeVisualQuery(he,Qe){if(Qe===ze.U.filledMap&&he.projections[xe]){var je=he.projections[xe],Ke=he.projections[Ee];if(Ke&&Ke.all.length>0)for(var $e=Ke.all().length-1;$e>=0;$e--)he.removeProjection(Ee,{fieldIndex:$e});he.projections[Ee]=je,delete he.projections[xe]}var de=this.visualPlugins.capabilities(Qe);if(de){var De=(0,K.xY)(de,he.isDrillDisabled),re=he.ensureDrillableRoles(De);if(!_.isEmpty(re)){var ce={};for(var te of re){var Te=he.projections[te],Fe=0;Te&&(Fe=_.size(Te.all())),ce[te]=Fe}this.telemetryService.logEvent(k.jZ,{visualType:Qe,fixedRoleByProjectionCount:JSON.stringify(ce)})}}}upgradeResourcePackage(he){void 0===he.type&&(he.type=t.X.CustomVisual)}getReferencedStaticResources(he){var Qe={},je=he.themeCollection.customTheme,Ke=he.themeCollection.baseTheme;if(this.addItemReference(Qe,he.resourcePackages,je&&je.type,je&&je.name),this.addItemReference(Qe,he.resourcePackages,Ke&&Ke.type,Ke&&Ke.name),!_.isEmpty(he.sections))for(var tt of he.sections)if((0,X.Uy)(tt.objects,L.Cq,he.resourcePackages,Qe),!_.isEmpty(tt.visualContainers))for(var $e of tt.visualContainers){var de=$e.config.singleVisual,De=de.objects,re=this.visualPlugins.capabilities(de.visualType);(0,X.Uy)(De,re&&re.objects,he.resourcePackages,Qe)}return Qe}addItemReference(he,Qe,je,Ke){if(Ke&&je){var tt=(0,I.by)(Qe,je,Ke);if(tt){var $e=(0,I.G3)(je);(0,X.Wi)(he,$e,je,Ke,tt.type)}}}parseExplorationConfigs(he){if(he){var Qe=this.parseConfig(he);return Qe.sections=_.map(he.sections,je=>this.parsePageConfigs(je)),Qe}}parseConfig(he){var Qe=_.clone(he);return Qe.config=(0,v.p)(he.config)||{},Qe}parsePageConfigs(he){var Qe=this.parseConfig(he);return Qe.visualContainers=_.map(he.visualContainers,je=>this.parseConfig(je)),Qe}stringifyExplorationConfigs(he){var Qe=this.stringifyConfig(he);return Qe.sections=_.map(he.sections,je=>this.stringifyPageConfigs(je)),Qe}stringifyConfig(he){var Qe=_.clone(he);return Qe.config=JSON.stringify(he.config),Qe}stringifyPageConfigs(he){var Qe=this.stringifyConfig(he);return Qe.visualContainers=_.map(he.visualContainers,je=>this.stringifyConfig(je)),Qe}parseFilterCollectionConfig(he){if(he)return this.parseConfig(he)}stringifyFilterCollectionConfig(he){if(he)return this.stringifyConfig(he)}}var Se=Le.ZNK.v5_37;class _e{constructor(he,Qe,je,Ke){this.visualPlugins=he,this.explorationDowngrader=Qe,this.telemetryService=je,this.featureSwitchService=Ke,this.version=Se}serializeExploration(he,Qe){var je=he.sections;(!Qe||!Qe.withTransientPages)&&(je=(0,L.Zj)(je));var tt,Ke=_.map(je,(ce,te)=>this.serializePage(ce,te,Qe));_.isEmpty(he.pods)||(this.removeInvalidPods(he.sections,he.pods,this.telemetryService),tt=_.map(he.pods,ce=>this.serializePod(ce)),f.Y.assert(()=>Ne(he.pods,ce=>ce.name).allUnique,"pod names must be unique"));var $e=this.serializeExplorationShallowWithResourcePackages(he,Qe);if($e.sections=Ke,$e.pods=tt,!Qe||!Qe.forSave){var de=he.activeBookmark;if(de){var De=$e.config.bookmarks??[];for(var re of De)if(void 0===re.children&&re.name===de.name){$e.activeBookmark=re;break}}}return Qe&&Qe.forSave&&this.explorationDowngrader.downgrade($e,this.version),f.Y.assert(()=>this.version===$e.config.version,"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),this.featureSwitchService.featureSwitches.reportSerializationSizeCountTelemetry&&Qe?.forSave&&this.logSizeAndCountInfo($e),$e}logSizeAndCountInfo(he){setTimeout(()=>{var Qe=he.sections,je=Qe.flatMap(De=>De.visualContainers),Ke=he.pods,tt=he.config.bookmarks,$e=he.resourcePackages,de={reportSize:this.getMaxStringifiedSize([he]),maxSizeVisual:this.getMaxStringifiedSize(je),maxSizePod:Ke?this.getMaxStringifiedSize(Ke):0,maxSizeBookmark:tt?this.getMaxStringifiedSize(tt):0,maxSizeResourcePackage:$e?this.getMaxStringifiedSize($e):0,totalVisualCount:je.length,totalPageCount:Qe.length,totalPodCount:Ke?.length??0,totalBookmarkCount:tt?.length??0,totalResourcePackageCount:$e?.length??0};this.telemetryService.logEvent(k.Fb,{reportDefinitionVersion:"1.0.0",...de})})}getMaxStringifiedSize(he){var Qe=he.map(Ke=>JSON.stringify(Ke).length);return Qe.length>0?Math.max(...Qe):0}serializeBookmarks(he,Qe){if(he){var je=Me.tF,Ke=_.map(he,tt=>{if(W.$.isBookmarkGroup(tt)){var $e={displayName:tt.displayName,name:tt.name,children:this.serializeBookmarks(tt.children,Qe)};return this.version=(0,p.T9)(this.version,Le.K69),$e}(0,ae.Ec)(tt.explorationState,Qe);var de={displayName:tt.displayName,name:tt.name,explorationState:(0,ae.lK)(tt.explorationState,this.featureSwitchService)};return je=(0,p.T9)(de.explorationState.version,je),tt.options&&(de.options=this.serializeBookmarkOptions(tt.options),this.version=(0,p.T9)(this.version,Le.hAE)),de});switch(je){case Me.tF:this.version=(0,p.T9)(this.version,Le.okR);break;case Me.Ah:this.version=(0,p.T9)(this.version,Le.ByF);break;case Me.H1:this.version=(0,p.T9)(this.version,Le.GOk);break;case Me.OD:this.version=(0,p.T9)(this.version,Le.za9);break;case Me.He:this.version=(0,p.T9)(this.version,Le.sEZ);break;case Me.OS:this.version=(0,p.T9)(this.version,Le.__1);break;case Me.HV:this.version=(0,p.T9)(this.version,Le.OiP);break;case Me.rQ:this.version=(0,p.T9)(this.version,Le.L92);break;case Me.xT:this.version=(0,p.T9)(this.version,Le.xTQ);break;default:f.Y.assertFail("Unknown exploration state version.")}return Ke}}serializeBookmarkOptions(he){return he}serializeExplorationShallowWithResourcePackages(he,Qe){var je=he.activeSectionIndex,Ke=this.createVersionedElementConfig(Se);if(this.version=(0,p.T9)(this.version,Ke.version),Ke.themeCollection=O.T.cloneThemeCollection(he.themeCollection),_.isNumber(je)&&(Ke.activeSectionIndex=je),_.isEmpty(he.modelExtensions)||(this.version=(0,p.T9)(this.version,Le.ZNK.v3_0),Ke.modelExtensions=this.serializeModelExtensions(he.modelExtensions)),!_.isEmpty(he.bookmarks)){var tt=this.serializeBookmarks(he.bookmarks,he);Ke.bookmarks=tt}Qe&&Qe.excludeHighContrastTheme&&delete Ke.themeCollection.highContrastTheme,Qe&&Qe.forSave&&delete Ke.themeCollection.transientUserSetTheme;var $e=he.themeCollection.baseTheme;if($e&&(this.version=(0,p.T9)(this.version,(0,Q.A)($e.name))),(0,M.M)(he.dataSourceVariables)||(this.version=(0,p.T9)(this.version,Le.ZNK.v4_2),Ke.dataSourceVariables=he.dataSourceVariables),he.tags&&(Ke.tags=he.tags),null!=he.defaultDrillFilterOtherVisuals&&(Ke.defaultDrillFilterOtherVisuals=he.defaultDrillFilterOtherVisuals,he.defaultDrillFilterOtherVisuals&&(this.version=(0,p.T9)(this.version,Le.nNr))),null!=he.filterSortOrder&&(Ke.filterSortOrder=he.filterSortOrder,he.filterSortOrder&&(this.version=(0,p.T9)(this.version,Le.wJE))),he.slowDataSourceSettings){var de=_.cloneDeep(he.slowDataSourceSettings);(de.isCrossHighlightingDisabled||de.isFieldWellButtonEnabled||de.isFilterSelectionsButtonEnabled||de.isSlicerSelectionsButtonEnabled||de.isApplyAllButtonEnabled)&&(this.version=(0,p.T9)(this.version,de.isApplyAllButtonEnabled?Le.mn:Le.H1C)),Ke.slowDataSourceSettings=de}if(null!=he.linguisticSchemaSyncVersion&&(Ke.linguisticSchemaSyncVersion=he.linguisticSchemaSyncVersion,he.linguisticSchemaSyncVersion!==U.K.Unspecified&&(this.version=(0,p.T9)(this.version,Le.Kek))),he.settings){var De=_.cloneDeep(he.settings);(De.isPersistentUserStateDisabled||De.hideVisualContainerHeader)&&(this.version=(0,p.T9)(this.version,Le.DG1)),De.useStylableVisualContainerHeader&&(this.version=(0,p.T9)(this.version,Le.zWu)),void 0!==De.exportDataMode&&De.exportDataMode!==B.YV.AllowSummarizedAndUnderlying&&(this.version=(0,p.T9)(this.version,Le.YVh)),De.useNewFilterPaneExperience&&(this.version=(0,p.T9)(this.version,Le.BWY)),De.isReportAnnotationsDisabled&&(this.version=(0,p.T9)(this.version,Le.d17)),!0===De.defaultFilterActionIsDataFilter&&(this.version=(0,p.T9)(this.version,Le.oC6)),De.useCrossReportDrillthrough&&(this.version=(0,p.T9)(this.version,Le.jMl)),De.allowChangeFilterTypes&&(this.version=(0,p.T9)(this.version,Le.XR$)),De.allowInlineExploration&&(this.version=(0,p.T9)(this.version,Le.OiP)),De.optOutNewFilterPaneExperience&&(this.version=(0,p.T9)(this.version,Le.QST)),De.filterPaneHiddenInEditMode&&(this.version=(0,p.T9)(this.version,Le.XtR)),De.disableFilterPaneSearch&&(this.version=(0,p.T9)(this.version,Le.xxH)),De.pagesPosition&&(this.version=(0,p.T9)(this.version,Le.wvm)),De.useEnhancedTooltips&&(this.version=(0,p.T9)(this.version,Le.f89)),De.useScaledTooltips&&(this.version=(0,p.T9)(this.version,Le.Aak)),De.allowAutomatedInsightsNotification&&(this.version=(0,p.T9)(this.version,Le.gWA)),De.useDefaultAggregateDisplayName&&(this.version=(0,p.T9)(this.version,Le.yx8)),De.pauseQueries&&(this.version=(0,p.T9)(this.version,Le.NjL)),(De.queryLimitOption||De.customMemoryLimit||De.customTimeoutLimit)&&(this.version=(0,p.T9)(this.version,Le.EtE)),Ke.settings=De}he.objects&&(Ke.objects=this.serializeObjects(he.objects,U.F,"report",Qe)),Qe&&Qe.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(he,this.version),f.Y.assert(()=>!(0,p.lt)(this.version,Ke.version),"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=oe.t;var re=this.serializeFilterContainers(he.filters,Qe);return he.creationSource&&(Ke.creationSource=he.creationSource,this.version=(0,p.T9)(this.version,Le.LUA)),Ke.version=this.version,{id:he.id,report:he.report,reportId:he.reportId,theme:he.themeCollection.customTheme&&he.themeCollection.customTheme.name,filters:re,resourcePackages:this.serializeResourcePackages(he.resourcePackages,Qe),sections:void 0,config:Ke,layoutOptimization:this.getLayoutOptimizations(he),publicCustomVisuals:he.publicCustomVisuals,isStoredInBlob:he.isStoredInBlob}}serializeLinkField(he){f.Y.assertValue(he,"linkfield");var Qe=he.fieldExpr;return f.Y.assert(()=>(0,ut.tx)(Qe)&&!1===he.asAggregation||(0,ut.R3)(Qe)||(0,ut.Ah)(Qe),"invalid linkField"),{asAggregation:he.asAggregation,fieldExpr:h.F3.serializeExpr(Qe)}}serializeFilterCollection(he){if(!_.isEmpty(he)){var Qe=this.createVersionedElementConfig(Se);return{filters:this.serializeFilterContainers(he),config:Qe}}}serializePage(he,Qe,je){var Ke=this.serializePageShallow(he,Qe,je);if(Ke.visualContainers=[],he.visualContainerGroups)this.serializeVisualContainerTreeToList(he.visualContainerGroups,Ke.visualContainers,je);else for(var tt of he.visualContainers)Ke.visualContainers.push(this.serializeVisualContainer(tt,je));return Ke}serializeVisualContainerTreeToList(he,Qe,je){var Ke=!1;for(var tt of he)(0,H.tx)(tt)?(Ke||(this.version=(0,p.T9)(Le._Jb.getVersionForVisualContainerGroup(tt),this.version),Ke=!0),Qe.push(this.serializeVisualContainerGroup(tt)),this.serializeVisualContainerTreeToList(tt.children,Qe,je)):Qe.push(this.serializeVisualContainer(tt,je))}isRegularPageUsingMeasureDrillthrough(he){var Qe=!1,je=!1;return(null==he.type||he.type===A.gX.Regular)&&(Qe=!0===he.acceptsAllFiltersWhenLinked,je=_.some(he.filters,Ke=>Ke&&Ke.howCreated===A.GS.Drillthrough&&!Ke.isTransient&&(Ke.isLinkedAsAggregation||Ke.expression&&(0,ut.tx)(Ke.expression)))),Qe||je}isMeasureDrillthroughPod(he){var Qe=!1,je=!1;return he.type===A.cN.Drillthrough&&(Qe=he.config&&he.config.acceptsFilterContext===A.G4.Default,je=_.some(he.parameters,Ke=>Ke.asAggregation||Ke.fieldExpr&&(0,ut.tx)(Ke.fieldExpr))),Qe||je}serializePageShallow(he,Qe,je){f.Y.assert(()=>Ne(he.visualContainers,$e=>$e.name).allUnique,"VisualContainer names must be unique within a section.");var Ke={id:he.id,name:he.name,displayName:he.displayName,filters:this.serializeFilterContainers(he.filters,je),ordinal:Qe,visualContainers:void 0,transient:he.transient,objectId:he.objectId,config:{}};he.size&&(Ke.displayOption=he.size.displayOption,Ke.width=he.size.width,Ke.height=he.size.height),je&&je.forSave&&(he.isNew=void 0),!je?.forSave&&he.originalSize&&(Ke.originalDisplayOption=he.originalSize.displayOption,Ke.originalWidth=he.originalSize.width,Ke.originalHeight=he.originalSize.height);var tt=Ke.config;return _.isEmpty(he.relationships)||(tt.relationships=this.serializeRelationships(he.relationships),je&&je.featureUsage&&(je.featureUsage.hasVisualRelationships=!0)),he.objects&&(tt.objects=this.serializeObjects(he.objects,L.Cq,"page",je)),null!=he.visibility&&(tt.visibility=he.visibility,this.version=(0,p.T9)(this.version,Le.GOG)),null!=he.type&&(tt.type=he.type,this.version=(0,p.T9)(this.version,Le.DNT)),null!=he.filterSortOrder&&(tt.filterSortOrder=he.filterSortOrder,this.version=(0,p.T9)(this.version,Le.wJE)),tt.acceptsAllFiltersWhenLinked=he.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(he)&&(this.version=(0,p.T9)(this.version,Le.ReZ)),_.isEmpty(he.linkFields)||(tt.linkFields=_.map(he.linkFields,$e=>this.serializeLinkField($e)),this.version=(0,p.T9)(this.version,Le.DNT)),he.dynamicConfig&&(tt.dynamicConfig=this.serializePageDynamicConfig(he.dynamicConfig),this.version=(0,p.T9)(this.version,Le.LUA),tt.dynamicConfig.quickExplore?.layout&&(this.version=(0,p.T9)(this.version,Le.H$J))),he.howCreated&&he.howCreated!==A.ZM.Default&&(tt.howCreated=he.howCreated,this.version=(0,p.T9)(this.version,Le.dX8)),Ke}serializePod(he){var Qe=this.serializePodParameters(he.parameters);return this.isMeasureDrillthroughPod(he)&&(this.version=(0,p.T9)(this.version,Le.ReZ)),he.referenceScope===A.th.CrossReport&&(this.version=(0,p.T9)(this.version,Le.jMl)),{id:he.id,name:he.name,boundSection:he.boundSection,parameters:_.isEmpty(Qe)?void 0:JSON.stringify(Qe),cortanaEnabled:he.cortanaEnabled?he.cortanaEnabled:void 0,type:he.type!==A.cN.Default?he.type:void 0,referenceScope:he.referenceScope!==A.th.Default?he.referenceScope:void 0,config:this.serializePodConfig(he.config)}}serializeVisualContainer(he,Qe){_.forEach(he.layouts,de=>{de.position&&mt(de.position)});var je,Ke=this.serializeVisualContainerConfig(he,Qe),tt=he.layouts&&he.layouts.withId(r.v.Master);if(tt?(f.Y.assertValue(tt.position,"Master layout should contain a position"),je={id:he.id,x:tt.position.x,y:tt.position.y,z:tt.position.z,width:tt.position.width,height:tt.position.height,config:Ke,filters:this.serializeFilterContainers(he.filters)},tt.position.tabOrder&&(je.tabOrder=tt.position.tabOrder)):je={id:he.id,config:Ke,filters:this.serializeFilterContainers(he.filters)},!_.isEmpty(he.filters)){var $e=this.visualPlugins.capabilities(he.config.singleVisual.visualType);ee.M.supportsFilterOutput($e)&&(this.version=(0,p.T9)(this.version,Le.O64))}return Qe&&Qe.forSave&&(he.isNew=void 0),Qe&&Qe.withVisibility&&(null!=he.visibility&&(je.visibility=he.visibility),null!=he.detailVisualLayout&&(je.detailVisualLayout=he.detailVisualLayout)),Qe&&he.cachedData&&((Qe.withQuery||Qe.withData)&&(je.query=he.cachedData.queryObject?JSON.stringify(he.cachedData.queryObject):he.cachedData.query,je.dataTransforms=he.cachedData.transformsObject?g.R.serializeTransformActions(he.cachedData.transformsObject):he.cachedData.transforms,je.dataUpdatedTime=he.cachedData.dataUpdatedTime?he.cachedData.dataUpdatedTime.toISOString():void 0),Qe.withData&&(je.dataBinaryBase64Encoded=he.cachedData.dataObject?(0,m.Bc)(JSON.stringify(he.cachedData.dataObject)):he.cachedData.data)),je}serializeVisualContainerGroup(he,Qe){this.version=(0,p.T9)(this.version,Le.$bp);var je={name:he.name,layouts:_.cloneDeep(he.layouts),singleVisualGroup:{displayName:he.displayName,groupMode:he.groupMode,isHidden:he.isHidden}};he.parentGroup&&(je.parentGroupName=he.parentGroup.name),he.objects&&(je.singleVisualGroup.objects=this.serializeObjects(he.objects,z.Cq,z.ge,Qe));var Ke,tt=he.layouts&&he.layouts.withId(r.v.Master);return tt?(f.Y.assertValue(tt.position,"Master layout should contain a position"),Ke={id:he.id,x:tt.position.x,y:tt.position.y,z:tt.position.z,width:tt.position.width,height:tt.position.height,config:je},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&tt.position.tabOrder&&(Ke.tabOrder=tt.position.tabOrder)):Ke={id:he.id,config:je},Ke}serializeModelExtensions(he){if(he)return _.map(he,Qe=>({name:Qe.name,extends:Qe.extends,entities:this.serializeModelExtensionEntities(Qe.entities)}))}serializeRelationship(he){return f.Y.assertValue(he,"relationship"),f.Y.assertValue(he.source.name,"relationship.source.name"),f.Y.assertValue(he.target.name,"relationship.target.name"),{source:he.source.name,target:he.target.name,type:he.type}}serializeVisualContainerConfig(he,Qe){var je=he.config&&he.config.singleVisual;f.Y.assertValue(he.name,"VisualContainer name is missing."),f.Y.assertValue(je,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),f.Y.assertValue(je.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var Ke=je.query,tt=Ke?.defn?_.keyBy(Ke.defn.select(),ft=>ft.name):void 0,$e=Ke?Ke.projections:void 0,de={name:he.name,layouts:_.cloneDeep(he.layouts),singleVisual:{visualType:je.visualType,projections:this.serializeQueryProjections($e,tt,he.name,je.visualType),prototypeQuery:Ke?h.F3.serializeQuery(Ke.defn):void 0}};Ke&&Ke.isDrillDisabled&&(this.version=(0,p.T9)(this.version,Le.W2r),de.singleVisual.isDrillDisabled=Ke.isDrillDisabled),null!=je.autoSelectVisualType&&(this.version=(0,p.T9)(this.version,Le.xTQ),de.singleVisual.autoSelectVisualType=je.autoSelectVisualType);var De=this.serializeQueryFieldParameters($e);if(_.isEmpty(De)||(this.version=(0,p.T9)(this.version,Le.L92),de.singleVisual.queryFieldParametersByRole=De,_.some(De,ft=>_.some(ft,Pt=>null!=Pt.sortDirection))&&(this.version=(0,p.T9)(this.version,Le.D_B))),_.some(he.layouts,ft=>ft.position&&void 0!==ft.position.tabOrder)&&(this.version=(0,p.T9)(this.version,Le.laz)),Ke&&(0,V.Ry)(Ke.expansionStates)){var re=(0,d.K2)(Ke.expansionStates);_.isEmpty(re)||(de.singleVisual.expansionStates=re,this.version=(0,p.T9)(this.version,Le.sY6))}var ce=je.columnProperties;if(ce&&!_.isEmpty(ce)){this.version=(0,p.T9)(this.version,Le.ZNK.v3_4);var te=_.cloneDeep(ce),Te=_.pickBy(te,ft=>null!=ft.formatString);if(!_.isEmpty(Te))for(var Fe in Te)null==tt?.[Fe]&&(te[Fe].formatString=null);_.some(te,ft=>null!=ft.formatString)&&(this.version=(0,p.T9)(this.version,Le.L0n)),de.singleVisual.columnProperties=te}if(je.queryOptions&&(null!=je.queryOptions.allowBinnedLineSample&&(this.version=(0,p.T9)(this.version,Le.ZNK.v3_3)),null!=je.queryOptions.allowOverlappingPointsSample&&(this.version=(0,p.T9)(this.version,Le.ZNK.v3_5)),null!=je.queryOptions.keepProjectionOrder&&(this.version=(0,p.T9)(this.version,Le.ZNK.v4_1)),de.singleVisual.queryOptions=_.cloneDeep(je.queryOptions)),je.display&&(this.version=(0,p.T9)(this.version,Le.j17),de.singleVisual.display=_.cloneDeep(je.display)),Ke&&Ke.defn){if(je.visualType===ze.U.slicer){var et=Ke.projections;et&&et[E.E0.value]&&et[E.E0.value].all().length>1&&(this.version=(0,p.T9)(this.version,Le.w5b))}(0,J.lU)(je)&&(this.version=_.some(Le.Qfr,ft=>ft===je.visualType)?(0,p.T9)(this.version,Le.FK7):(0,p.T9)(this.version,Le.J4d));var vt=Ke.defn.select();for(var At of vt)this.version=(0,p.T9)(this.version,Le._Jb.getVersionForSQExpr(At.expr));this.version=(0,p.T9)(this.version,Le._Jb.getVersionForSortDefinitions(Ke.defn.orderBy()))}var st=this.serializeShowAllRoles(Ke?Ke.projections:void 0);_.isEmpty(st)||(de.singleVisual.showAllRoles=st,Qe&&Qe.featureUsage&&(Qe.featureUsage.hasShowAllEnabled=!0)),je.visualType===ze.U.ribbonChart&&(this.version=(0,p.T9)(this.version,Le.ZNK.v3_5)),je.visualType===ze.U.actionButton&&(this.version=(0,p.T9)(this.version,Le.rAT)),je.visualType===ze.U.pythonVisual&&(this.version=(0,p.T9)(this.version,Le.ZNK.v3_17)),je.visualType===ze.U.keyDriversVisual&&(this.version=(0,p.T9)(this.version,Le.ZNK.v4_1),je.query&&!_.isEmpty(je.query.tryGetExprs(C.Wx.details))&&(this.version=(0,p.T9)(this.version,Le.nQ_))),je.visualType===ze.U.qnaVisual&&(this.version=(0,p.T9)(this.version,Le.ZNK.v5_4)),je.visualType===ze.U.decompositionTreeVisual&&(this.version=(0,p.T9)(this.version,Le.ZNK.v5_5)),je.visualType===ze.U.azureMap&&(this.version=(0,p.T9)(this.version,Le.ZNK.v5_13)),je.visualType===ze.U.cardVisual&&(this.version=(0,p.T9)(this.version,Le.xR7)),je.visualType===ze.U.shape&&(this.version=(0,p.T9)(this.version,Le.aLR)),je.visualType===ze.U.pageNavigator&&(this.version=(0,p.T9)(this.version,Le.v_G)),je.visualType===ze.U.bookmarkNavigator&&(this.version=(0,p.T9)(this.version,Le.v_G)),je.visualType===ze.U.rdlVisual&&(this.version=(0,p.T9)(this.version,Le.Hl1)),je.visualType===ze.U.scorecard&&(this.version=(0,p.T9)(this.version,Le.HeG)),je.visualType===ze.U.aiNarratives&&(this.version=(0,p.T9)(this.version,Le.oFC)),je.visualType===ze.U.advancedSlicerVisual&&(this.version=(0,p.T9)(this.version,Le.jbF)),je.visualType===ze.U.hundredPercentStackedAreaChart&&(this.version=(0,p.T9)(this.version,Le.ihX)),je.visualType===ze.U.listSlicer&&(this.version=(0,p.T9)(this.version,Le.PPx)),je.visualType===ze.U.textSlicer&&(this.version=(0,p.T9)(this.version,Le.kof)),je.syncGroup&&(de.singleVisual.syncGroup=_.cloneDeep(je.syncGroup),this.version=(0,p.T9)(this.version,Le.PR7)),null!=he.drillFilterOtherVisuals&&(de.singleVisual.drillFilterOtherVisuals=he.drillFilterOtherVisuals,this.version=(0,p.T9)(this.version,Le.nNr)),null!=he.filterSortOrder&&(de.singleVisual.filterSortOrder=he.filterSortOrder,this.version=(0,p.T9)(this.version,Le.wJE)),he.parentGroup&&(de.parentGroupName=he.parentGroup.name,this.version=(0,p.T9)(this.version,Le.$bp)),he.howCreated&&he.howCreated!==A.S_.Default&&(de.howCreated=he.howCreated,this.version=(0,p.T9)(this.version,Le.dX8)),je.hasDefaultSort&&(de.singleVisual.hasDefaultSort=je.hasDefaultSort);var Bt,Re=Ke?je.query.defn.select():(0,c.OX)();if(je.objects){var q=this.visualPlugins.capabilities(je.visualType),pe=q&&q.objects;if(de.singleVisual.objects=this.serializeObjects(je.objects,pe,je.visualType,Qe,Re),(Bt=je).visualType===ze.U.scatterChart&&Bt.query&&Bt.query.projections.Play&&!_.isEmpty(Bt.query.projections.Play.all())){var Ve=!1;(0,P.po)(je.objects,pe,(ft,Pt,Ut,Kt,Qt)=>{"fill"===Pt&&"dataPoint"===Kt&&null!=Ut&&(Ve=!0)}),Ve&&(this.version=(0,p.T9)(this.version,Le.ZNK.v5_1))}this.supportsScalarMarkers(je)&&(0,p.lt)(this.version,Le.p2U)&&this.upgradeIfScalarMarkersAreSet(je.objects)}var it=je.vcObjects;return it&&(de.singleVisual.vcObjects=this.serializeObjects(it,Y.Xe,je.visualType,Qe,Re)),this.serializeMobileState(je,de.singleVisual,Qe?.forSave),je.cachedFilterDisplayItems&&(de.singleVisual.cachedFilterDisplayItems=(0,n.x5)(je.cachedFilterDisplayItems)),je.filterExpressionMetadata&&(de.singleVisual.filterExpressionMetadata=(0,s.UJ)(je.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,p.T9)(this.version,Le.__1)),this.version<Le.$2$&&function(Bt){if(Bt.visualType!==ze.U.scatterChart)return!1;var he=u.Jl.x,Qe=Bt.query,je=Qe?Qe.getRolesProjectionRefs([he]):void 0,Ke=_.size(je);if(Ke>1)return!0;if(1===Ke){var tt=Qe.tryGetExpr(he,0);if(tt&&!(0,St.t)(tt))return!0}return!1}(je)&&(this.version=Le.$2$),function(Bt){return!!Bt&&Bt.defn.select().some(he=>(0,ut.$M)(he.expr))}(Ke)&&(this.version=(0,p.T9)(this.version,Le.PGz),je&&(je.visualType===ze.U.scatterChart||je.visualType===ze.U.azureMap||je.visualType===ze.U.map||je.visualType===ze.U.filledMap||je.visualType===ze.U.shapeMap)&&(this.version=(0,p.T9)(this.version,Le.HZE)),je&&(je.visualType===ze.U.lineStackedColumnComboChart||je.visualType===ze.U.lineClusteredColumnComboChart)&&(this.version=(0,p.T9)(this.version,Le.YFE)),_.some(Ke.getVisualCalcExpressions(),ft=>(0,ut.$M)(ft.expr)&&null!=ft.expr.dataType)&&(this.version=(0,p.T9)(this.version,Le.Qs5))),de}serializeMobileState(he,Qe,je){je||(he.mobileVcObjects&&(Qe.mobileVcObjects=(0,l.Eo)(he.mobileVcObjects,Y.Xe,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,je)),he.mobileObjects&&(Qe.mobileObjects=(0,l.Eo)(he.mobileObjects,this.visualPlugins.capabilities(he.visualType)?.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,je)))}serializeObjects(he,Qe,je,Ke,tt){f.Y.assertValue(he,"explorationSerializer.serializeObjects - objects should exist"),f.Y.assertValue(je,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var $e=(0,l.Eo)(he,Qe,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,Ke?.forSave);return $e&&this.removeItemLocationObjects(je,$e),this.isAtLatestVersion()||(this.version=(0,p.T9)(this.version,(0,Le.FLH)(he,Qe,je,this.version,tt))),$e}removeItemLocationObjects(he,Qe){var je=(te,Te)=>{var Fe=te[Te.objectName];if(null!=Fe&&1===Fe.length)return Fe[0].properties[Te.propertyName]};if(he===ze.U.scorecard){var Ke=Be.p.scorecard.scorecardReference,tt=Be.p.scorecard.scorecardId,$e=je(Qe,Be.p.scorecard.scorecardReference);null!=$e&&(delete Qe[Ke.objectName][0].properties[Ke.propertyName],Qe[tt.objectName][0].properties[tt.propertyName]=$e.byReference.itemId)}if(he===ze.U.rdlVisual){var de=Ce.FA.reportInfo.reference,De=Ce.FA.reportInfo.reportId,re=Ce.FA.reportInfo.workspaceId,ce=je(Qe,de);null!=ce&&(delete Qe[de.objectName][0].properties[de.propertyName],Qe[De.objectName][0].properties[De.propertyName]=ce.byReference.itemId,Qe[re.objectName][0].properties[re.propertyName]=ce.byReference.workspaceId)}}isAtLatestVersion(){return this.version===oe.t}serializeShowAllRoles(he){if(f.Y.assertAnyValue(he,"projections"),he){var Qe=_.pickBy(he,je=>!0===je.showAll);return _.keys(Qe)}}serializeQueryProjections(he,Qe,je,Ke){if(f.Y.assertAnyValue(he,"projections"),he){var tt={};for(var $e in he){var de=he[$e].all(),De=he[$e].activeProjectionRefs;if(de.length>0){tt[$e]=[];for(var re=0;re<de.length;++re){var ce=de[re],te=ce.queryRef,Te=_.includes(De,te);if(!Qe||Qe[te]){var Fe={queryRef:te};Te&&(Fe.active=!0),ce.hidden&&(Fe.hidden=ce.hidden,this.version=(0,p.T9)(this.version,Le.PGz)),tt[$e].push(Fe)}else this.telemetryService.logTrace(new Ie.V("Projection without a select detected in serialization",ve.W.Error,void 0,void 0,{name:je,visualType:Ke,role:$e})),he[$e].removeProjection({fieldIndex:re}),Te&&(De=_.clone(De),_.pull(De,te),he[$e].activeProjectionRefs=De),--re}tt[$e].length||delete tt[$e]}}return tt}}serializeQueryFieldParameters(he){if(f.Y.assertAnyValue(he,"projections"),he){var Qe={};for(var je in he){var Ke=he[je].getFieldParameters();if(Ke.length>0)for(var tt of(Qe[je]=[],Ke)){var $e={index:tt.index,length:tt.length,expr:h.F3.serializeExpr(tt.expr),sortDirection:tt.sortDirection};Qe[je].push($e)}}return Qe}}serializeModelExtensionEntities(he){if(he)return _.map(he,Qe=>{var je={name:Qe.name};return Qe.extends&&(je.extends=Qe.extends),Qe.measures&&(je.measures=this.serializeModelExtensionMeasures(Qe.measures)),je})}serializeExpressionReferences(he){if(he&&(he.unrecognizedReferences||!_.isEmpty(he.measures))){var Qe={unrecognizedReferences:he.unrecognizedReferences};return _.isEmpty(he.measures)||(Qe.measures=he.measures),Qe}}serializeModelExtensionAnnotations(he){if(he)return _.map(he,Qe=>({name:Qe.name,value:Qe.value}))}serializeModelExtensionMeasures(he){if(he)return _.map(he,Qe=>{var je={name:Qe.name,dataType:Qe.dataType,dataCategory:Qe.dataCategory,expression:Qe.expression,errorMessage:Qe.errorMessage,hidden:Qe.hidden,references:this.serializeExpressionReferences(Qe.references),formulaOverride:Qe.formulaOverride,formatInformation:Qe.formatInformation,displayFolder:Qe.displayFolder};return Qe.annotations&&(je.annotations=this.serializeModelExtensionAnnotations(Qe.annotations)),Qe.measureTemplate&&(je.measureTemplate={daxTemplateName:Qe.measureTemplate.daxTemplateName,version:Qe.measureTemplate.version}),Qe.description&&(je.description=Qe.description,this.version=(0,p.T9)(this.version,Le.h_)),je})}serializeFilterContainers(he,Qe){if(he){var je=[];for(var Ke of he)if(Ke&&(Ke.howCreated!==A.GS.Auto||ee.M.isFilterModified(Ke))&&(!Ke.isTransient||Qe&&Qe.withTransientFilters)){Ke.howCreated===A.GS.URL&&Qe&&Qe.forSave&&(Ke.howCreated=A.GS.User),Ke.howCreated===A.GS.Drillthrough&&(this.version=(0,p.T9)(this.version,Le.ZNK.v3_5)),Ke.isHiddenInViewMode&&(this.version=(0,p.T9)(this.version,Le.$Kn)),Ke.isLockedInViewMode&&(this.version=(0,p.T9)(this.version,Le.$Kn)),Ke.displayName&&(this.version=(0,p.T9)(this.version,Le.gC2)),Ke.ordinal&&(this.version=(0,p.T9)(this.version,Le.wJE)),Ke.type===x.RJ.RelativeTime&&(this.version=(0,p.T9)(this.version,Le.o6K)),Ke.type===x.RJ.Advanced&&Ke.filter?.conditions().some($e=>{var de=(0,ut.w8)($e)?$e.arg:$e;return(0,ut.Wc)(de)&&(0,ut.Qy)(de.right)&&""===de.right.value})&&(this.version=(0,p.T9)(this.version,Le.Mtt)),Ke.type===x.RJ.VisualTopN&&(this.version=(0,p.T9)(this.version,Le.SSD)),Ke.filterExpressionMetadata&&!_.isEmpty(Ke.filterExpressionMetadata.expressions)&&!_.isEmpty(Ke.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(Ke.filterExpressionMetadata.jsonFilter)?(0,p.T9)(this.version,Le.VAO):(0,p.T9)(this.version,Le.Rth));var tt=Ke.filterExpressionMetadata?(0,s.UJ)(Ke.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;je.push({name:Ke.name,expression:Ke.expression?h.F3.serializeExpr(Ke.expression):void 0,filter:Ke.filter?h.F3.serializeFilter(Ke.filter):void 0,type:x.RJ[Ke.type],restatement:Ke.restatement,cachedDisplayNames:(0,n.x5)(Ke.cachedValueItems),howCreated:Ke.howCreated,isLinkedAsAggregation:Ke.isLinkedAsAggregation,isTransient:Ke.isTransient,objects:Ke.objects?this.serializeObjects(Ke.objects,x.Xe,x.an,Qe):void 0,isHiddenInViewMode:Ke.isHiddenInViewMode,isLockedInViewMode:Ke.isLockedInViewMode,filterExpressionMetadata:tt,displayName:Ke.displayName,ordinal:Ke.ordinal})}return JSON.stringify(je)}}createVersionedElementConfig(he){return{version:he}}serializeResourcePackages(he,Qe){if(!_.isEmpty(he))return(0,lt.U1)(he,Qe).map(je=>({resourcePackage:je}))}getLayoutOptimizations(he){var Qe=this.getDistinctLayouts(he);return this.getLayoutOptimizationFromLayouts(Qe)}getLayoutOptimizationFromLayouts(he){var Qe=i.Sf.None;for(var je of he)je.id===r.v.PhonePortrait&&(Qe|=i.Sf.PhonePortrait);return Qe}getDistinctLayouts(he){var Qe=he.sections,je=(0,c.mq)();for(var Ke of Qe)for(var tt of Ke.visualContainers)for(var $e of tt.layouts)je.withId($e.id)||je.push($e);return je}serializePodParameters(he){if(!_.isEmpty(he)){var Qe=[];for(var je of he)Qe.push({name:je.name,boundFilter:je.boundFilter,fieldExpr:je.fieldExpr?h.F3.serializeExpr(je.fieldExpr):void 0,asAggregation:je.asAggregation?je.asAggregation:void 0,isLegacySingleSelection:je.isLegacySingleSelection?je.isLegacySingleSelection:void 0});return Qe}}serializePodConfig(he){return _.isEmpty(he)||he.acceptsFilterContext===A.G4.Default?"{}":JSON.stringify(he)}serializeRelationships(he){if(!_.isEmpty(he)){var Qe;for(var je of he){var Ke=this.serializeRelationship(je);Ke&&(Qe||(Qe=[])).push(Ke)}return Qe}}removeInvalidPods(he,Qe,je){var Ke=_.map(he,ce=>ce.name),tt=_.remove(Qe,ce=>!_.includes(Ke,ce.boundSection)),$e=_.size(tt);if($e>0&&je.logEvent(k.op,{errorType:k.ax.NonExistingBoundSection,count:$e}),!(_.size(Qe)<=_.size(he))){var de=_.groupBy(Qe,ce=>ce.boundSection),De=0;_.forEach(de,ce=>{var te=ce.length;if(te>1){De++;for(var Te=ce[0].boundSection,Fe=_.findLastIndex(Qe,vt=>vt.boundSection===Te),et=te-1;et>0&&Fe>=0;)Qe.splice(Fe,1),et--,Fe=_.findLastIndex(Qe,vt=>vt.boundSection===Te,Fe-1)}}),De>0&&je.logEvent(k.op,{errorType:k.ax.DuplicateBoundSection,count:De});var re=_.size(Qe)-_.size(he);re>0&&(f.Y.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Qe=Qe.slice(0,_.size(he)),je.logEvent(k.op,{errorType:k.ax.ExceedingPodsNumberAfterInitialFix,count:re}))}}supportsScalarMarkers(he){return _.some([ze.U.lineChart,ze.U.areaChart,ze.U.stackedAreaChart,ze.U.hundredPercentStackedAreaChart],je=>je===he.visualType)}upgradeIfScalarMarkersAreSet(he){var Qe=(0,P._W)(he,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Qe&&"Scalar"===N.wy.getTextValue(Qe)){var je=(0,P._W)(he,{objectName:"lineStyles",propertyName:"showMarker"},null);je&&N.wy.getBooleanValue(je)&&(this.version=(0,p.T9)(this.version,Le.p2U))}}serializePageDynamicConfig(he){var Qe;if(he.quickExplore){var Ke=he.quickExplore.visualContainerConfigurations,tt=he.quickExplore.layout;Qe||(Qe={}),Qe.quickExplore={selectedFields:_.map(he.quickExplore.selectedFields,$e=>h.F3.serializeExpr($e)),visualContainerConfigurations:_.map(Ke,$e=>({name:$e.name,fields:_.map($e.fields,de=>h.F3.serializeExpr(de))}))},tt&&(Qe.quickExplore.layout=this.serializeQuickExploreLayout(tt),this.version=(0,p.T9)(this.version,Le.H$J))}return Qe}serializeQuickExploreLayout(he){if(he.combination){var Qe={version:he.combination.version};return he.combination.dataTableName&&(Qe.dataTableName=he.combination.dataTableName),{combination:Qe}}if(he.related){var je={version:he.related.version};return he.related.dataTableName&&(je.dataTableName=he.related.dataTableName),{related:je}}}}function mt(Bt){null!=Bt.x&&null!=Bt.y&&null!=Bt.width&&null!=Bt.height||(b.Cn.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Bt.x,y:Bt.y,width:Bt.width,height:Bt.height})),null==Bt.x&&(Bt.x=0),null==Bt.y&&(Bt.y=0),null==Bt.width&&(Bt.width=0),null==Bt.height&&(Bt.height=0))}},203703:function(me,j,e){e.d(j,{LH:function(){return h},U1:function(){return m},UL:function(){return s},Vm:function(){return o},iZ:function(){return d}});var r=e(755743),i=e(41324),a=e(748958),t=e(785463),l=e(846444),g=e(507345),n=e(587814);function d(p,y,S,C,u){t.Y.assertValue(p,"webBookmark");var E=(0,l.i)(p,S,C);if(E.errors&&!y)for(var c of E.errors)u.logEvent(r.Fn,{type:"WebBookmark",errorCode:c.code,stack:c.stack,message:c.message});return E.contract}function s(p,y,S,C,u){if(!(0,g.M)(p)){var E=(0,n.p)(p);if(E)try{return y.deserialize(E,S,C)}catch(c){return c&&u.logEvent(r.VD,{stack:c.stack,message:c.message}),{explorationState:null}}}}function h(p){return o(p.map(y=>y.resourcePackage))}function o(p){t.Y.assertValue(p,"resourcePackageWireContracts");var y=[];for(var S of p)v(S),y.push(S);for(var C=0;C<y.length;++C)if(y[C])for(var u=y.length;--u>C;)y[u]&&y[C].name===y[u].name&&(y[u].id>y[C].id&&(y[C]=y[u]),y.splice(u,1));return y}function v(p){void 0===p.type&&(p.type=a.X.CustomVisual)}function m(p,y){if(!_.isEmpty(p)){var S=[],C=function(){var E=_.find(u.items,b=>b.type===i.gH.CustomVisualMetadata);if(E&&void 0!==E.content){var c=_.isString(E.content)?(0,n.p)(E.content):E.content;c&&(c.content=void 0,E.content=JSON.stringify(c))}var f=u.items;if(f){var D=["contentBlob","contentBlobUrl","promise"];y&&y.excludeResourceItemContent&&D.push("content"),f=_.map(f,b=>_.omit(b,D))}S.push({id:u.id,name:u.name,type:u.type,items:f,disabled:!!u.disabled})};for(var u of p)C();return S}}},240997:function(me,j,e){e.d(j,{Ec:function(){return V},Mk:function(){return w},iu:function(){return P},lK:function(){return z},Lj:function(){return k}});var r=e(218215),i=e(419216),a=e(285380),t=e(448543),l=e(349188),g=e(997519),n=e(201991),d=e(935236),s=e(785463),h=e(311096),o=e(668309),v=e(4509),m=e(64974),p=e(120710),y=e(735615),S=e(836548);class u{constructor(J){var X=(0,S.Z)(J).downgraders;this.objectsDowngrader=(0,p.y)(X)}getFinalExplorationVersion(J,X){var ne=J&&J.sections;if(ne){for(var ae of Object.keys(ne)){var oe=ne[ae];for(var Me of Object.keys(oe.visualContainers)){var Ye=oe.visualContainers[Me],Le=Ye.singleVisual;if(Le){var lt=Le.visualType,ut=Ye.singleVisual?.mobileVcObjects;ut&&(X=(0,n.T9)(X,this.objectsDowngrader.getFinalVisualObjectsVersion(y.p.VisualContainer,ut,X,lt)));var St=Ye.singleVisual?.mobileObjects;St&&(X=(0,n.T9)(X,this.objectsDowngrader.getFinalVisualObjectsVersion(y.p.Visual,St,X,lt)))}}}return X}}downgrade(J,X){var ne=J&&J.sections;if(ne)for(var ae of Object.keys(ne)){var oe=ne[ae];for(var Me of Object.keys(oe.visualContainers)){var Le=oe.visualContainers[Me].singleVisual;if(Le){var lt=Le.visualType,ut=Le.mobileVcObjects;ut&&this.objectsDowngrader.downgrade(y.p.VisualContainer,ut,lt,X);var St=Le.mobileObjects;St&&this.objectsDowngrader.downgrade(y.p.Visual,St,lt,X)}}}}}var E=e(892784),c=e(975271),f=e(771910);class b{constructor(J){this.objectsUpgrader=(0,c.t)((0,f.E)(J).getVersionUpgraders())}upgrade(J,X){var ne=J&&J.sections;if(ne){for(var ae of Object.keys(ne)){var oe=ne[ae];for(var Me of Object.keys(oe.visualContainers)){var Le=oe.visualContainers[Me].singleVisual;if(Le){var lt=Le.visualType,ut=Le.mobileVcObjects;ut&&this.objectsUpgrader.upgrade(y.S.VisualContainer,ut,lt,X);var St=Le.mobileObjects;St&&this.objectsUpgrader.upgrade(y.S.Visual,St,lt,X)}}}return J}}}var T=e(93374),M=e(980553);function V(Q,J){var X={};for(var ne of J.sections)for(var ae of ne.visualContainers)X[ae.name]=!0;for(var oe in Q.sections){var Me=Q.sections[oe];for(var Ye in Me.visualContainers)X[Ye]||delete Me.visualContainers[Ye]}}function w(Q,J,X){return F(k(Q,null,X,J),J)}function P(Q,J,X,ne){if(s.Y.assertValue(Q,"input"),ne?.runUpgraders){var ae=(0,M.F$E)(Q.version),oe=function(Q){return new b(Q)}(X);Q=oe.upgrade(Q,ae)}var Me={activeSection:Q.activeSection,filters:N(Q.filters),sections:_.mapValues(Q.sections,Ye=>function(Q,J){return s.Y.assertValue(Q,"input"),{filters:N(Q.filters),visualContainers:_.mapValues(Q.visualContainers,X=>function(Q,J){s.Y.assertValue(Q,"input");var X=F(Q.singleVisual,J);return{filters:N(Q.filters),singleVisual:X,visibility:Q.singleVisual?Y(Q.singleVisual.display):void 0,highlight:Q.highlight?L(Q.highlight):void 0}}(X,J)),visualContainerGroups:Q.visualContainerGroups&&_.mapValues(Q.visualContainerGroups,W)}}(Ye,J))};return Q.objects&&(Me.objects=x(Q.objects,()=>h.F)),Q.dataSourceVariables&&(Me.dataSourceVariables=Q.dataSourceVariables),Me}function N(Q){if(s.Y.assertAnyValue(Q,"input"),Q){var J={};return Q.byName&&(J.nameIdentifiedMerges=_.mapValues(Q.byName,I)),Q.byExpr&&(J.exprIdentifiedMerges=_.map(Q.byExpr,I)),Q.byType&&(J.typeIdentifiedMerges=_.map(Q.byType,I)),Q.byTransientState&&(J.transientFilters=_.map(Q.byTransientState,I)),J}}function I(Q){return s.Y.assertValue(Q,"input"),{name:Q.name,type:o.RJ[Q.type],filter:Q.filter?g.F3.deserializeFilter(Q.filter):void 0,expression:Q.expression?g.F3.deserializeExpr(Q.expression):void 0,restatement:Q.restatement,howCreated:Q.howCreated,precedence:Q.precedence,isTransient:Q.isTransient,cachedValueItems:(0,a.yV)(Q.cachedDisplayNames),filterExpressionMetadata:Q.filterExpressionMetadata?(0,l.jH)(Q.filterExpressionMetadata):void 0}}function W(Q){return s.Y.assertValue(Q,"input"),{isHidden:Q.isHidden,children:Q.children&&_.mapValues(Q.children,J=>W(J))}}function F(Q,J){if(s.Y.assertAnyValue(Q,"input"),Q){var X={visualType:Q.visualType};if(null!=Q.isDrillDisabled&&(X.isDrillDisabled=Q.isDrillDisabled),null!=Q.autoSelectVisualType&&(X.autoSelectVisualType=Q.autoSelectVisualType),Q.objects&&(X.objects=x(Q.objects,()=>Q.visualType&&J.capabilities(Q.visualType)?.objects)),Q.orderBy&&(X.orderBy=g.F3.deserializeSortDefinitions(Q.orderBy,null)),Q.targetType&&(X.targetType=Q.targetType),null!=Q.targetAutoSelectVisualType&&(X.targetAutoSelectVisualType=Q.targetAutoSelectVisualType),Q.activeProjections&&(X.activeProjections=U(Q.activeProjections)),_.isEmpty(Q.parameters)||(X.parameters=function(Q){var J;for(var X in Q){var ne=Q[X];_.isEmpty(ne)||(J||(J={}),J[X]=_.map(ne,ae=>({expr:g.F3.deserializeExpr(ae.expr),index:ae.index,length:ae.length})))}return J}(Q.parameters)),Q.projections&&(X.projections=U(Q.projections)),Q.display&&Q.display.mode===m.Pt.Hidden&&(X.hidden=!0),Q.cachedFilterDisplayItems&&(X.cachedFilterDisplayItems=(0,a.yV)(Q.cachedFilterDisplayItems)),Q.filterExpressionMetadata&&(X.filterExpressionMetadata=(0,l.jH)(Q.filterExpressionMetadata)),Q.expansionStates){var ne=J.capabilities(Q.visualType);X.expansionStates=(0,t.rY)(Q.expansionStates,{supportsMerge:ne&&ne.expandCollapse&&ne.expandCollapse.supportsMerge,canCollapseRoot:ne&&ne.noDefaultProjections,collapseParentAfterRemovingChildLevel:ne&&ne.expandCollapse&&ne.expandCollapse.collapseParentAfterRemovingChildLevel})}if(Q.mobileVcObjects&&(X.mobileVcObjects=(0,i.EP)(Q.mobileVcObjects,v.Xe)),Q.mobileObjects){var Ye=J.capabilities(Q.visualType);X.mobileObjects=(0,i.EP)(Q.mobileObjects,Ye&&Ye.objects)}return X}}function U(Q){var J;for(var X in Q){var ne=Q[X];_.isEmpty(ne)||(J||(J={}),J[X]=_.map(ne,ae=>null===ae?null:g.F3.deserializeExpr(ae)))}return J}function x(Q,J){s.Y.assertValue(Q,"input");var X={};return Q.merge&&(0,i.NK)(Q.merge,J,X,"merge"),Q.remove&&(X.remove=_.map(Q.remove,A)),X}function A(Q){return s.Y.assertValue(Q,"input"),{object:Q.object,property:Q.property,selector:(0,i.BE)(Q.selector)}}function L(Q){return s.Y.assertValue(Q,"input"),{selection:(0,i.Cf)(Q.selection),filterExpressionMetadata:Q.filterExpressionMetadata?(0,l.jH)(Q.filterExpressionMetadata):void 0}}function Y(Q){if(s.Y.assertAnyValue(Q,"display"),Q&&Q.mode)switch(Q.mode){case m.Pt.Maximize:switch(Q.maximizedOptions&&Q.maximizedOptions.dataTable){case r.R.accessible:return m.B8.MaximizeWithDataAccessible;case r.R.normal:return m.B8.MaximizeWithData;default:return m.B8.Maximize}case m.Pt.Spotlight:return m.B8.Spotlight}}function z(Q,J,X,ne,ae){s.Y.assertValue(Q,"input");var oe=new K(J),Me={version:void 0,activeSection:Q.activeSection,filters:oe.serializeFilters(Q.filters),sections:_.mapValues(Q.sections,lt=>oe.serializeSection(lt,X))};if(Q.objects&&(Me.objects=oe.serializeObjects(Q.objects,h.F),oe.version=(0,n.T9)(oe.version,T.OD)),Q.dataSourceVariables&&(Me.dataSourceVariables=Q.dataSourceVariables,oe.version=(0,n.T9)(oe.version,T.He)),ne?.runDowngraders&&oe.version!==E.Q){var Ye=function(Q){return new u(Q)}(ae),Le=(0,M.F$E)(oe.version);Le=Ye.getFinalExplorationVersion(Q,Le),Ye.downgrade(Me,Le),Me.version=(0,M.Vyr)(Le),s.Y.assertValue(Me.version,"exploration state version should exist")}return Me.version=Me.version||oe.version,Me}function k(Q,J,X,ne){return new K(X).serializeSingleVisual(Q,J,ne)}class K{constructor(J){this.featureSwitchService=J,this.version=T.tF}serializeFilters(J){if(s.Y.assertAnyValue(J,"input"),J){var X={};return J.nameIdentifiedMerges&&(X.byName=_.mapValues(J.nameIdentifiedMerges,ne=>this.serializeFilterContainer(ne))),J.exprIdentifiedMerges&&(X.byExpr=_.map(J.exprIdentifiedMerges,ne=>this.serializeFilterContainer(ne))),J.typeIdentifiedMerges&&(X.byType=_.map(J.typeIdentifiedMerges,ne=>this.serializeFilterContainer(ne))),J.transientFilters&&(X.byTransientState=_.map(J.transientFilters,ne=>this.serializeFilterContainer(ne))),X}}serializeFilterContainer(J){s.Y.assertValue(J,"input");var X=J.filterExpressionMetadata?(0,l.UJ)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:J.name,type:null!=J.type?o.RJ[J.type]:void 0,filter:J.filter?g.F3.serializeFilter(J.filter):void 0,expression:J.expression?g.F3.serializeExpr(J.expression):void 0,restatement:J.restatement,howCreated:J.howCreated,isTransient:J.isTransient,cachedDisplayNames:(0,a.x5)(J.cachedValueItems),filterExpressionMetadata:X}}serializeSection(J,X){return s.Y.assertValue(J,"input"),_.chain(J.visualContainers).values().sumBy(ne=>null==ne.highlight?0:1).value()>1&&(this.version=(0,n.T9)(this.version,T.H1)),{filters:this.serializeFilters(J.filters),visualContainers:_.mapValues(J.visualContainers,ne=>this.serializeVisualContainer(ne,X)),visualContainerGroups:J.visualContainerGroups&&_.mapValues(J.visualContainerGroups,ne=>this.serializeVisualContainerGroup(ne))}}serializeVisualContainer(J,X){return s.Y.assertValue(J,"input"),J.highlight&&(this.version=(0,n.T9)(this.version,T.Ah)),{filters:this.serializeFilters(J.filters),singleVisual:this.serializeSingleVisual(J.singleVisual,J.visibility,X),highlight:J.highlight?this.serializeHighlightState(J.highlight):void 0}}serializeVisualContainerGroup(J){return s.Y.assertValue(J,"input"),{isHidden:J.isHidden,children:J.children&&_.mapValues(J.children,X=>this.serializeVisualContainerGroup(X))}}serializeSingleVisual(J,X,ne){if(s.Y.assertAnyValue(J,"input"),J||null!=X){var ae={};if(J){if(ae.visualType=J.visualType,J.isDrillDisabled&&(ae.isDrillDisabled=J.isDrillDisabled,this.version=(0,n.T9)(this.version,T.W2)),null!=J.autoSelectVisualType&&(ae.autoSelectVisualType=J.autoSelectVisualType,this.version=(0,n.T9)(this.version,T.xT)),J.objects&&(ae.objects=this.serializeObjects(J.objects,ne?.capabilities(J.visualType)?.objects)),J.orderBy&&(ae.orderBy=g.F3.serializeSortDefinitions(J.orderBy,!0)),J.activeProjections&&(ae.activeProjections=this.serializeActiveProjections(J.activeProjections)),J.targetType&&(ae.targetType=J.targetType,this.version=(0,n.T9)(this.version,T.HV)),null!=J.targetAutoSelectVisualType&&(ae.targetAutoSelectVisualType=J.targetAutoSelectVisualType,this.version=(0,n.T9)(this.version,T.xT)),J.projections&&(ae.projections=this.serializeActiveProjections(J.projections),this.version=(0,n.T9)(this.version,T.HV)),_.isEmpty(J.parameters)||(ae.parameters=this.serializeParameters(J.parameters),this.version=(0,n.T9)(this.version,T.rQ)),J.cachedFilterDisplayItems&&(ae.cachedFilterDisplayItems=(0,a.x5)(J.cachedFilterDisplayItems)),J.filterExpressionMetadata&&(ae.filterExpressionMetadata=(0,l.UJ)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,n.T9)(this.version,T.OS)),J.mobileVcObjects&&(ae.mobileVcObjects=this.serializeMobileObjects(J.mobileVcObjects,v.Xe,J.visualType)),J.mobileObjects&&ne){var oe=ne.capabilities(J.visualType);ae.mobileObjects=this.serializeMobileObjects(J.mobileObjects,oe&&oe.objects,J.visualType)}_.isEmpty(J.expansionStates)||(ae.expansionStates=(0,t.K2)(J.expansionStates))}return s.Y.assert(()=>!(J?.hidden&&X),"cannot mix hidden & visibility states"),J?.hidden?ae.display={mode:m.Pt.Hidden}:X&&(ae.display=function(Q){switch(s.Y.assertAnyValue(Q,"mode"),Q){case m.B8.Maximize:return{mode:m.Pt.Maximize};case m.B8.MaximizeWithData:return{mode:m.Pt.Maximize,maximizedOptions:{dataTable:r.R.normal}};case m.B8.MaximizeWithDataAccessible:return{mode:m.Pt.Maximize,maximizedOptions:{dataTable:r.R.accessible}};case m.B8.Spotlight:return{mode:m.Pt.Spotlight}}}(X)),_.isEmpty(ae)?void 0:ae}}serializeMobileObjects(J,X,ne){this.version=(0,n.T9)(this.version,T.db);var ae=(0,i.Eo)(J,X,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===E.Q)return ae;var oe=(0,M.F$E)(this.version);oe=(0,M.FLH)(J,X,ne,oe,(0,d.OX)());var Me=(0,M.Vyr)(oe);return this.version=(0,n.T9)(this.version,Me),ae}serializeActiveProjections(J){var X;for(var ne in J){var ae=J[ne];_.isEmpty(ae)||(X||(X={}),X[ne]=_.map(ae,oe=>null===oe?null:g.F3.serializeExpr(oe)))}return X}serializeParameters(J){var X;for(var ne in J){var ae=J[ne];_.isEmpty(ae)||(X||(X={}),X[ne]=_.map(ae,oe=>({expr:g.F3.serializeExpr(oe.expr),index:oe.index,length:oe.length})))}return X}serializeObjects(J,X){s.Y.assertValue(J,"input");var ne={};return J.merge&&(ne.merge=(0,i.Eo)(J.merge,X,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),J.remove&&(ne.remove=_.map(J.remove,ae=>this.serializeObjectPropSelector(ae))),ne}serializeObjectPropSelector(J){return s.Y.assertValue(J,"input"),{object:J.object,property:J.property,selector:(0,i.Gq)(J.selector)||null}}serializeHighlightState(J){return s.Y.assertValue(J,"input"),J.filterExpressionMetadata&&(this.version=(0,n.T9)(this.version,T.OD)),{selection:(0,i.bF)(J.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:J.filterExpressionMetadata?(0,l.UJ)(J.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}}}},93374:function(me,j,e){e.d(j,{Ah:function(){return i},BZ:function(){return H},C9:function(){return C},Cd:function(){return m},Cm:function(){return E},H1:function(){return a},HM:function(){return s},HV:function(){return n},He:function(){return l},IB:function(){return z},Im:function(){return Z},JF:function(){return c},JL:function(){return S},JR:function(){return v},Jw:function(){return p},OD:function(){return t},OS:function(){return g},Oo:function(){return h},Pd:function(){return R},Pj:function(){return Y},Pp:function(){return k},Py:function(){return A},Qn:function(){return y},Qr:function(){return V},Qt:function(){return o},Su:function(){return D},W:function(){return W},W2:function(){return x},WR:function(){return O},WX:function(){return L},X7:function(){return u},Z8:function(){return w},ZN:function(){return f},ZZ:function(){return N},Zc:function(){return b},db:function(){return F},eC:function(){return I},eL:function(){return P},eR:function(){return T},ln:function(){return M},rQ:function(){return U},tF:function(){return r},xT:function(){return B}});var r="1.0",i="1.1",a="1.2",t="1.3",l="1.4",g="1.5",n="1.6",s="1.8",h="1.9",o="1.10",v="1.11",m="1.12",p="1.13",y="1.14",S="1.15",C="1.16",u="1.17",E="1.18",c="1.19",f="1.20",D="1.21",b="1.22",T="1.23",M="1.24",V="1.25",w="1.26",P="1.27",N="1.28",I="1.29",O="1.30",R="1.31",W="1.32",F=s,U=v,B=S,x=w,A="1.33",L="1.34",Y="1.35",z="1.36",H="1.37",Z="1.38",k="1.39"},771910:function(me,j,e){e.d(j,{E:function(){return tr}});var r=e(587814),i=e(201991),a=e(785463),t=e(715604),l=e(735615),g=e(975271),n=e(481041),d=e(419216),s=e(997519),h=e(576289),o=e(764367),v=e(390107),m=e(707897),p=e(446024),y=e(64974),S=e(980553),C=e(857327);class E{upgrade(we,rt){if(a.Y.assertValue(we,"exploration"),we&&(we.filters=this.upgradeFilterContainers(we.filters),we.sections))for(var gt of we.sections)if(gt.filters=this.upgradeFilterContainers(gt.filters),gt.visualContainers)for(var bt of gt.visualContainers){bt.filters=this.upgradeFilterContainers(bt.filters);var Ot=bt.config.singleVisual;Ot&&(Ot.objects=this.upgradeObjects(Ot.objects,Ot.visualType||Ot.visualConfig.visualType,rt))}}upgradeVisualObjects(we,rt,gt,bt){}upgradeFilterCollection(we){a.Y.assertValue(we,"filterCollection"),we&&we.filters&&(we.filters=this.upgradeFilterContainers(we.filters))}getVersion(){return S.ZNK.v1_0}upgradeFilterContainers(we){if(!_.isEmpty(we)){var rt=(0,r.p)(we);if(rt)for(var gt of rt)this.upgradeFilterContainer(gt);return JSON.stringify(rt)}}upgradeFilterContainer(we){if(!we.expression&&we.field){var rt=function(Lt){var we=Lt.aggregate;if(void 0!==we){var rt=D(Lt)||T(Lt);if(rt)return(0,p.QD)(rt,we)}}(Lt=we.field)||D(Lt)||function(Lt){var we=Lt.measure;if(we){var rt=T(Lt);if(rt)return(0,p.K6)(rt,we)}}(Lt)||T(Lt);rt&&(we.expression=s.F3.serializeExpr(rt))}var Lt;void 0===we.howCreated&&(we.howCreated=we.autoGenerated?y.GS.Auto:y.GS.User)}upgradeObjects(we,rt,gt){switch(a.Y.assertAnyValue(we,"allObjectDefns"),this.dropMalformedSelectors(we),rt){case C.U.filledMap:return this.upgradeObjectsFilledMap(we);case C.U.card:return this.upgradeObjectsCard(we);case C.U.donutChart:case C.U.pieChart:return gt&&(0,i.gt)(gt,"1.0")?we:this.upgradeObjectsDonutChart(we)}return we}dropMalformedSelectors(we){if(a.Y.assertAnyValue(we,"allObjectDefns"),we)for(var rt in we){var gt=we[rt];if(gt)for(var bt=gt.length-1;bt>=0;bt--){var Yt=gt[bt].selector;Yt&&(Yt.metadata||delete Yt.metadata,_.isEmpty(Object.keys(Yt))&&gt.splice(bt,1))}}}upgradeObjectsFilledMap(we){a.Y.assertAnyValue(we,"allObjectDefns");var rt="dataPoint",gt="fillRule";we||(we={});var Ot,bt=we[rt];for(var Yt of(bt||(we[rt]=bt=[]),bt))if(!Yt.selector){Ot=Yt;break}return Ot||bt.push(Ot={selector:null,properties:{}}),a.Y.assertValue(Ot,"targetObjectDefn"),null==Ot.properties[gt]&&(Ot.properties[gt]=(0,d.Xy)((0,v.s6)(),(0,o.Vy)().objects[rt].properties[gt])),we}upgradeObjectsCard(we){a.Y.assertAnyValue(we,"allObjectDefns");var rt="cardTitle";if(we){var bt=we[rt];bt&&(we.categoryLabels=bt,delete we[rt])}return we}upgradeObjectsDonutChart(we){a.Y.assertAnyValue(we,"allObjectDefns");var rt="categoryLabels",gt="labels",bt="labelStyle",Ot="show";if(we){var ur,Yt=this.getMetadataOnceObjectDefn(we,gt),er=this.getPropertyExpr(Yt,Ot),sr=!!er&&s.F3.deserializeExpr(er).value,Cr=this.getMetadataOnceObjectDefn(we,rt);if(Cr){var Sr=this.getPropertyExpr(Cr,Ot),Dr=!!Sr&&s.F3.deserializeExpr(Sr).value;sr&&Dr?ur=m.EO:sr&&!Dr?ur=m.p:!sr&&Dr&&(ur=m.L1),delete we[rt]}else Yt&&Yt.properties[bt]||(ur=sr?m.EO:m.L1);if(null!=ur){var Wr=(0,h.du)().objects[gt].properties;if(!Yt){var Mr=we[gt];Mr||(we[gt]=Mr=[]),(Yt=_.find(Mr,Tr=>!Tr.selector))||Mr.push(Yt={properties:{}})}Yt.properties[Ot]=(0,d.Xy)((0,p.zM)(!0),Wr[Ot]),Yt.properties[bt]=(0,d.Xy)((0,p.Qq)(ur),Wr[bt])}return we}}getMetadataOnceObjectDefn(we,rt){if(we){var gt=we[rt];if(!_.isEmpty(gt))return _.find(gt,bt=>!bt.selector)}}getPropertyExpr(we,rt){if(we){var gt=we.properties[rt];if(gt)return gt.expr}}}function D(Lt){var we=Lt.column;if(we){var rt=T(Lt);if(rt)return(0,p.sX)(rt,we)}}function T(Lt){return(0,p.EG)(Lt.schema,Lt.entity,Lt.entityVar)}var M=e(339131);class w{upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections)if(rt.visualContainers)for(var gt of rt.visualContainers){var bt=gt.config;bt.layouts||(bt.layouts=[{id:M.v.Master,position:{x:gt.x,y:gt.y,z:gt.z,width:gt.width,height:gt.height}}])}}upgradeFilterCollection(we){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v2_0}}class N{upgrade(we){}upgradeFilterCollection(we){a.Y.assertValue(we,"filterCollection"),we&&we.filters&&(we.filters=this.upgradeFilterContainers(we.filters))}upgradeFilterContainers(we){if(!_.isEmpty(we)){var rt=(0,r.p)(we);if(rt)for(var gt of rt)this.upgradeFilterContainer(gt);return JSON.stringify(rt)}}upgradeFilterContainer(we){we.howCreated===y.GS.Drill&&!we.precedence&&(we.precedence=y.NH.Drill)}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v2_2}}var I=e(841333),O=e(888193),R=e(168376);class F{upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections)if(rt.visualContainers)for(var gt of rt.visualContainers){var bt=gt.config.singleVisual;bt&&(bt.objects=this.upgradeObjects(bt.objects,bt.visualType||bt.visualConfig.visualType))}}upgradeFilterCollection(we){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v2_3}upgradeObjects(we,rt){return a.Y.assertAnyValue(we,"allObjectDefns"),rt===C.U.slicer?this.upgradeSlicerObjects(we):we}upgradeSlicerObjects(we){a.Y.assertAnyValue(we,"allObjectDefns");var gt="mode";we||(we={});var bt=(0,R.D8)(we,"data",null),Ot=(0,I.ts)().objects.data.properties;return null==bt.properties[gt]&&(bt.properties[gt]=(0,d.Xy)((0,p.Qq)(O.HX),Ot[gt])),we}}class B{upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections)if(rt.visualContainers)for(var gt of rt.visualContainers){var bt=gt.config.singleVisual;bt&&(bt.objects=this.upgradeObjects(bt.objects,bt.visualType||bt.visualConfig.visualType))}}upgradeFilterCollection(we){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v2_5}upgradeObjects(we,rt){return a.Y.assertAnyValue(we,"allObjectDefns"),rt===C.U.gauge?this.upgradeGaugeTarget(we):we}upgradeGaugeTarget(we){a.Y.assertAnyValue(we,"allObjectDefns"),we||(we={});var Ot=(0,R.lY)(we,"labels",null);if(!Ot)return we;var Yt=(0,R.D8)(we,"target",null);for(var er of["show","labelDisplayUnits","labelPrecision","color"])null!=Ot.properties[er]&&(Yt.properties[er]=Ot.properties[er]);return we}}var A=function(Lt){return Lt[Lt.Before=0]="Before",Lt[Lt.After=1]="After",Lt}({});class L{upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections)if(rt.visualContainers)for(var gt of rt.visualContainers){var bt=gt.config.singleVisual;bt&&(bt.objects=this.upgradeObjects(bt.objects,bt.visualType||bt.visualConfig.visualType))}}upgradeFilterCollection(we){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_12_1}upgradeObjects(we,rt){return a.Y.assertAnyValue(we,"allObjectDefns"),rt===C.U.slicer?this.upgradeSlicerObjects(we):we}upgradeSlicerObjects(we){a.Y.assertAnyValue(we,"allObjectDefns"),we||(we={});var bt=(0,R.lY)(we,"general",null),Ot=bt&&bt.properties.filter,Yt=Ot&&Ot.filter;if(Yt&&this.isAndFilter(Yt)){var sr=(0,R.lY)(we,"data",null);if(sr){var ur=sr.properties.startDate,Cr=sr.properties.endDate,Sr=sr.properties.numericStart,Dr=sr.properties.numericEnd;(ur&&!Cr||Sr&&!Dr)&&this.BetweenToBeforeOrAfterFilter(Yt,A.After),(Cr&&!ur||Dr&&!Sr)&&this.BetweenToBeforeOrAfterFilter(Yt,A.Before)}}return we}isAndFilter(we){if(1===we.Where.length){var rt=we.Where[0].Condition;if(rt&&rt.And)return!0}return!1}BetweenToBeforeOrAfterFilter(we,rt){var gt=we.Where[0].Condition;return a.Y.assertValue(gt,"Filter condition cannot be null or undefined."),we.Where[0].Condition=rt===A.Before?gt.And.Right:gt.And.Left,we}}class z{upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections)if(rt.visualContainers)for(var gt of rt.visualContainers){var bt=gt.config.singleVisual;bt&&this.upgradeSQExprToInt(bt.objects)}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v3_14_1}upgradeVisualObjects(we,rt,gt,bt){}upgradeSQExprToInt(we){for(var rt in a.Y.assertAnyValue(we,""),we)if("labels"===rt||"bubbles"===rt||"categoryLabels"===rt)for(var gt of we[rt])for(var bt in gt.properties)if("bubbleSize"===bt||"labelDensity"===bt||"backgroundTransparency"===bt){var Ot=gt.properties[bt],Yt=Ot&&Ot.expr&&Ot.expr.Literal;Yt&&(a.Y.assertValue(Yt.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test(Yt.Value)&&(Yt.Value=this.convertLiteralSQTextIntoNumber(Yt.Value)+"L"))}}convertLiteralSQTextIntoNumber(we){return Math.floor(_.parseInt(we.substr(1,we.length-2)))}}class Z{constructor(we){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var rt of we.sections){var gt=rt.config,bt=(0,r.p)(rt.filters)||[];gt.type===y.gX.Tooltip?this.upgradeTooltipPage(bt,gt):(gt.type===y.gX.Regular||null==gt.type)&&this.upgradeRegularPage(bt,gt),rt.filters=JSON.stringify(bt)}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_14}upgradeTooltipPageLinkFields(we,rt){var gt=_.map(rt.linkFields,bt=>({howCreated:y.GS.Drillthrough,isTransient:!1,isLinkedAsAggregation:bt.asAggregation,expression:bt.fieldExpr}));we.push(...gt||[]),rt.linkFields=[]}upgradeTooltipPage(we,rt){rt.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(we,rt)}upgradeRegularPage(we,rt){if(rt.acceptsAllFiltersWhenLinked=!1,we)for(var gt of we)gt.isLinkedAsAggregation=!1}}class K{constructor(){}upgrade(we){var rt=this;if(a.Y.assertValue(we,"exploration"),we&&we.sections)for(var gt of we.sections)if(gt.visualContainers){var bt=function(){var Yt=Ot.config.singleVisual;if(Yt){a.Y.assert(()=>void 0===Yt.vcObjects,"VC Object can't exist if you are in this version");var er={};if(Yt.altText&&(er.general=[{properties:{altText:rt.toExpr((0,p.Qq)(Yt.altText))}}],delete Yt.altText),Yt.aspectRatio){var sr=Yt.aspectRatio;er.lockAspect=[{properties:{show:null!=sr.show?rt.toExpr((0,p.zM)(sr.show)):void 0}}],delete Yt.aspectRatio}if(Yt.background){var ur=Yt.background;er.background=[{properties:{color:null!=ur.color?{solid:{color:rt.toExpr((0,p.Qq)(ur.color))}}:void 0,show:null!=ur.show?rt.toExpr((0,p.zM)(ur.show)):void 0,transparency:null!=ur.transparency?rt.toExpr((0,p.nd)(ur.transparency)):void 0}}],delete Yt.background}if(Yt.border){var Cr=Yt.border;er.border=[{properties:{color:null!=Cr.color?{solid:{color:rt.toExpr((0,p.Qq)(Cr.color))}}:void 0,show:null!=Cr.show?rt.toExpr((0,p.zM)(Cr.show)):void 0}}],delete Yt.border}if(Yt.stylePresetName&&(er.stylePreset=[{properties:{name:rt.toExpr((0,p.Qq)(Yt.stylePresetName))}}],delete Yt.stylePresetName),Yt.title){var Sr=Yt.title;Sr.show=null!=Sr.hidden?!Sr.hidden:Sr.show,er.title=[{properties:{alignment:null!=Sr.alignment?rt.toExpr((0,p.Qq)(Sr.alignment)):void 0,background:null!=Sr.background?{solid:{color:rt.toExpr((0,p.Qq)(Sr.background))}}:void 0,fontColor:null!=Sr.fontColor?{solid:{color:rt.toExpr((0,p.Qq)(Sr.fontColor))}}:void 0,fontFamily:null!=Sr.fontFamily?rt.toExpr((0,p.Qq)(Sr.fontFamily)):void 0,fontSize:null!=Sr.fontSize?rt.toExpr((0,p.nd)(Sr.fontSize)):void 0,show:null!=Sr.show?rt.toExpr((0,p.zM)(Sr.show)):void 0,text:null!=Sr.text?rt.toExpr((0,p.Qq)(Sr.text)):void 0}}],delete Yt.title}if(Yt.visualLink){var Dr=Yt.visualLink;er.visualLink=[{properties:{bookmark:null!=Dr.bookmark?rt.toExpr((0,p.Qq)(Dr.bookmark)):void 0,qna:Dr.qna,show:null!=Dr.show?rt.toExpr((0,p.zM)(Dr.show)):void 0,type:null!=Dr.type?rt.toExpr((0,p.Qq)(Dr.type)):void 0}}],delete Yt.visualLink}if(Yt.visualTooltip){var Pr=Yt.visualTooltip;er.visualTooltip=[{properties:{section:null!=Pr.section?rt.toExpr((0,p.Qq)(Pr.section)):void 0,type:null!=Pr.type?rt.toExpr((0,p.Qq)(Pr.type)):void 0}}],delete Yt.visualTooltip}rt.clearUndefinedPropertiesVCObjects(er),_.isEmpty(er)||(Yt.vcObjects=er)}};for(var Ot of gt.visualContainers)bt()}}toExpr(we){return{expr:s.F3.serializeExpr(we)}}clearUndefinedPropertiesVCObjects(we){for(var rt in we){var gt=we[rt][0].properties;for(var bt in gt)gt[bt]||delete gt[bt];_.isEmpty(gt)&&delete we[rt]}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_15}}var ee=e(748958),Q=e(943175);class X{constructor(){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we){var rt={},gt=we.config;gt.themeCollection=rt,we.theme&&(rt.customTheme=(0,Q.T3)(we.theme,ee.X.RegisteredResources,this.getVersion()),delete we.theme),gt.baseTheme&&(rt.baseTheme=(0,Q.T3)(gt.baseTheme,ee.X.SharedResources,this.getVersion()),delete gt.baseTheme)}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_18}}var ne=e(70989),ae=e(771649),oe=e(935236),Me=e(507345),Ye=e(928912);class lt{constructor(){this.podNamePrefix="Pod"}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections)){for(var rt of we.sections)this.upgradeSectionAcceptsAllFiltersWhenLinked(rt);var gt=we.pods||[],bt={};for(var Ot of gt)bt[Ot.name]=!0;for(var Yt of we.sections)this.upgradeSection(Yt,gt,bt);_.isEmpty(gt)||(we.pods=gt)}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_24}upgradeSectionAcceptsAllFiltersWhenLinked(we){we.config||(we.config={}),null==we.config.acceptsAllFiltersWhenLinked&&(we.config.type===y.gX.Tooltip?we.config.acceptsAllFiltersWhenLinked=!0:we.config.type===y.gX.Regular||null==we.config.type?we.config.acceptsAllFiltersWhenLinked=!1:a.Y.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+we.config.type))}upgradeSection(we,rt,gt){if(we&&we.name){var bt=(0,r.p)(we.filters)||[],Ot=_.some(bt,er=>er.howCreated===y.GS.Drillthrough),Yt=this.findPodForSectionName(rt,we.name);Yt?this.upgradeExistingPod(Yt,we.config,Ot):Ot&&(Yt=this.createPod(rt,we.name,we.config,gt)),we.config&&(we.config.acceptsAllFiltersWhenLinked=void 0),Yt&&(this.upgradeFilters(Yt,bt),we.filters=JSON.stringify(bt))}}upgradeFilters(we,rt){var gt=[];for(var bt of((0,Me.M)(we.parameters)||(gt=(0,r.p)(we.parameters)),rt))if(bt.name&&!bt.isTransient){var Ot=bt.howCreated===y.GS.Drillthrough,Yt=this.findParamForFilterName(gt,bt.name);Yt?(Yt.fieldExpr=bt.expression,Yt.asAggregation=bt.isLinkedAsAggregation,Ot||(Yt.isLegacySingleSelection=!0)):Ot&&gt.push({name:"Param_"+bt.name,boundFilter:bt.name,fieldExpr:bt.expression,asAggregation:bt.isLinkedAsAggregation}),bt.isLinkedAsAggregation=void 0}we.parameters=JSON.stringify(gt)}upgradeExistingPod(we,rt,gt){we.config=this.createPodConfig(rt),we.referenceScope=y.th.Default,we.type=gt?this.determineType(rt):y.cN.Default}findParamForFilterName(we,rt){if(a.Y.assertValue(rt,"filterName"),!_.isEmpty(we))return _.find(we,gt=>gt.boundFilter===rt)}findPodForSectionName(we,rt){if(a.Y.assertValue(rt,"sectionName"),!_.isEmpty(we))return _.find(we,gt=>gt.boundSection===rt)}createPod(we,rt,gt,bt){a.Y.assertValue(we,"pods"),a.Y.assertValue(rt,"sectionName");var Ot={name:(0,Ye.uL)(bt,this.podNamePrefix),boundSection:rt,type:this.determineType(gt),referenceScope:y.th.Default,config:this.createPodConfig(gt)};return we.push(Ot),bt[Ot.name]=!0,a.Y.assert(()=>(0,oe.Aj)(we),"pod names must be unique"),Ot}createPodConfig(we){return JSON.stringify({acceptsFilterContext:!we||we.acceptsAllFiltersWhenLinked?y.G4.Default:y.G4.None})}determineType(we){return we&&we.type!==y.gX.Regular&&void 0!==we.type?we&&we.type===y.gX.Tooltip?y.cN.Tooltip:void 0:y.cN.Drillthrough}}var ut=e(861371),St=e(41324),ze=e(402389);class Ce{upgrade(we){if(a.Y.assertValue(we,"exploration"),we){var rt=we.resourcePackages||[],gt=_.find(rt,Cr=>Cr.resourcePackage.type===ee.X.SharedResources),bt=!gt,Ot=(gt=gt||{resourcePackage:{id:void 0,items:[],name:(0,ze.G3)(ee.X.SharedResources),type:ee.X.SharedResources}}).resourcePackage.items;if(we.sections)for(var Yt of we.sections)if(Yt.visualContainers)for(var er of Yt.visualContainers){var sr=er.config.singleVisual;sr&&this.upgradeSharedResourcePackages(sr.objects,Ot)}var ur=we.config&&we.config.baseTheme;ur&&(_.find(Ot,Cr=>Cr.name===ur)||Ot.push({name:ur,type:St.gH.BaseTheme,path:`BaseThemes/${ur}.json`})),bt&&gt.resourcePackage.items.length>0&&(rt.push(gt),we.resourcePackages||(we.resourcePackages=rt))}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v3_6_1}upgradeSharedResourcePackages(we,rt){var gt=this;for(var bt in a.Y.assertAnyValue(we,""),a.Y.assertValue(rt,"items should exist while upgrading shared resources"),we)for(var Ot of we[bt]){var Yt=function(){var sr=Ot.properties[er],ur=sr&&sr.geoJson;if(ur){var Cr=ur.type.expr,Sr=Cr.Literal&&Cr.Literal.Value;if(Sr&&gt.removeQuotes(Sr)===ut.ue){var Dr=gt.removeQuotes(ur.name.expr.Literal.Value);_.find(rt,Pr=>Pr.name===Dr)||rt.push({name:Dr,type:St.gH.ShapeMap,path:`Shapemaps/${Dr}.json`})}}};for(var er in Ot.properties)Yt()}}removeQuotes(we){return we.substr(1,we.length-2)}}var Ae=e(153351);class Ie{constructor(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers){var bt=gt.config&&gt.config.singleVisual;bt&&bt.visualType===C.U.keyDriversVisual&&(bt.objects=this.upgradeKeyDriversVisualObjects(bt.objects))}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v4_1}upgradeKeyDriversVisualObjects(we){we||(we={});var rt=we[this.keyDriverObjectName];if(rt||(rt=we[this.keyDriverObjectName]=[{properties:{}}]),a.Y.assert(()=>1===rt.length,"only one keyDrivers object should exist"),!rt[0].properties[this.selectedNumericAnalysisPropertyName]){var bt={enumeration:Ae.NW},Ot=(0,p.FT)(Ae.tf,bt);rt[0].properties[this.selectedNumericAnalysisPropertyName]=(0,d.Xy)(Ot,{type:bt})}return we}}var ve=e(588308);class Ee{constructor(){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers)(0,ve.Tc)(gt.config&&gt.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v4_2}}class ye{constructor(){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)fe(rt),Se(rt)}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v5_1}}var Xe=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function fe(Lt){if(Lt&&Lt.config&&Lt.config.objects)for(var we of Xe)(0,ve.Qo)(Lt.config.objects,we)}function Se(Lt){if(Lt&&Lt.config&&Lt.config.objects&&Lt.config.objects.filterCard){var we=Lt.config.objects.filterCard;for(var rt of we){var gt=rt&&rt.properties;if(gt){var bt=gt.textSize;if(bt){var Ot=s.F3.deserializeExpr(bt.expr);gt.textSize=(0,ve.zG)((0,ve.rc)(Ot))}}}}}class Ue{constructor(){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers)(0,ve.JF)(gt.config&&gt.config.singleVisual)}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v5_3}}var _e=e(46143);function at(Lt){return new ot(Lt)}class ot{constructor(we){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers){var bt=gt.config&&gt.config.singleVisual;if(bt&&bt.objects){var Ot=bt&&bt.visualType;"pivotTable"!==Ot&&"tableEx"!==Ot||this.upgradeTablixProperties(bt.objects,Ot)}}}upgradeVisualObjects(we,rt,gt,bt){}upgradeTablixProperties(we,rt){a.Y.assertValue(we,"objects");var gt=we.values;if(gt)for(var bt of gt)this.isValidRoleWildcard(bt.selector,rt)&&(!bt.properties||!bt.properties.backColor&&!bt.properties.fontColor||(bt.selector.data=[{dataViewWildcard:{matchingOption:_e._.InstancesOnly}}]))}isValidRoleWildcard(we,rt){return!(!we||_.isEmpty(we.data)||1!==we.data.length||_.isEmpty(we.data[0].roles))&&("tableEx"===rt&&_.isEqual(we.data[0].roles,["Values"])||"pivotTable"===rt&&_.isEqual(we.data[0].roles,["Rows","Columns"]))}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_9}}class yt{constructor(){}upgrade(we){this.forAllSectionsAllContainers(we,[C.U.lineChart,C.U.areaChart,C.U.stackedAreaChart],this.upgradeLineChartDotProperties)}forAllSectionsAllContainers(we,rt,gt){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var bt of we.sections){var Ot=function(){var sr=er.config&&er.config.singleVisual;if(!sr||!sr.objects)return 0;var ur=sr&&sr.visualType;if(_.findIndex(rt,Cr=>Cr===ur)<0)return 0;gt(sr.objects,sr.projections)};for(var er of bt.visualContainers)Ot()}}upgradeLineChartDotProperties(we,rt){a.Y.assertValue(we,"objects");var gt=we.categoryAxis,bt=we.dataPoint,Ot=we.lineStyles;if(gt&&0!==gt.length){var Yt,sr=gt[0].properties;if(sr&&sr.axisType){if(Yt=sr.axisType.expr.Literal.Value.replace(/['"]+/g,""),bt&&"Categorical"===Yt&&rt&&rt.Category&&1===rt.Category.length&&rt.Category[0]){var Cr=rt.Category[0].queryRef;if(Cr)for(var Sr=function(Tr){var zr=bt[Tr].properties;if(a.Y.assert(()=>_.keys(zr).length<=1,"expected data point object to only have one or no properties"),!zr||!zr.fill||_.keys(zr).length>1)return Dr=Tr,1;var aa=bt[Tr].selector;if(aa&&aa.data&&1===aa.data.length&&aa.data[0]){var sa=aa.data[0];if(sa.scopeId&&sa.scopeId.Comparison&&sa.scopeId.Comparison.Left&&sa.scopeId.Comparison.Left.Column){var la=sa.scopeId.Comparison.Left.Column,ua=la.Property;if(ua&&la.Expression&&la.Expression.SourceRef){var va=la.Expression.SourceRef.Entity;va&&`${va}.${ua}`===Cr&&(bt.splice(Tr,1),Tr--)}}}Dr=Tr},Dr=0;Dr<bt.length;Dr++)Sr(Dr)}if(Ot&&Ot.length>0&&"Scalar"===Yt)for(var Pr of Ot)if(!Pr.selector){var Wr=Pr.properties;if(Wr&&Wr.showMarker){var Mr=Wr.showMarker;"true"===Mr.expr.Literal.Value&&(Mr.expr.Literal.Value="false")}}}}}upgradeFilterCollection(){}upgradeVisualObjects(we,rt,gt,bt){}getVersion(){return S.ZNK.v5_11}}var Nt=e(349188),Bt=e(951087),he=e(596149);function Qe(Lt){return new je(Lt)}class je{constructor(we){this.featureSwitchService=we}upgrade(we){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(a.Y.assertValue(we,"exploration"),we&&!(_.isEmpty(we.config.bookmarks)&&_.isEmpty(we.filters)&&_.isEmpty(we.sections))))for(var rt of(_.isEmpty(we.config.bookmarks)||this.upgradeBookmarks(we.config.bookmarks),we.filters&&(we.filters=this.upgradeFilterContainers(we.filters)),we.sections))for(var gt of rt.visualContainers){var bt=gt.config&&gt.config.singleVisual;bt&&bt.filterExpressionMetadata&&(0,Nt.gL)(bt.filterExpressionMetadata)&&(bt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(bt.filterExpressionMetadata)),gt.filters&&(gt.filters=this.upgradeFilterContainers(gt.filters)),!bt||!bt.objects||(bt&&bt.visualType)!==C.U.textbox||this.upgradeFilterContextProperties(bt.objects)}}upgradeFilterContextProperties(we){for(var rt in a.Y.assertValue(we,"objects"),we){var gt=we[rt];for(var bt of gt)for(var Ot in bt.properties){var Yt=bt.properties[Ot];if((0,d.E6)(Yt)){var er=Yt.context,sr=er&&er.filterContext;_.isEmpty(sr)||_.forEach(sr,ur=>{ur.metadata&&(0,Nt.gL)(ur.metadata)&&(ur.metadata=this.upgradeFilterExpressionMetadata(ur.metadata))})}}}}upgradeBookmarks(we){for(var rt of we)if(void 0!==rt.children)this.upgradeBookmarks(rt.children);else{this.upgradeSectionState(rt.explorationState.sections);var bt=rt.explorationState.filters;bt&&this.upgradeFilters(bt)}}upgradeSectionState(we){_.forEach(we,rt=>{_.forEach(rt.visualContainers,gt=>{var bt=gt.highlight;bt&&bt.selection&&(0,d.U6)(bt.selection)&&(bt.selection=this.upgradeSelectorsByColumn(bt.selection)),bt&&bt.filterExpressionMetadata&&(0,Nt.gL)(bt.filterExpressionMetadata)&&(bt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(bt.filterExpressionMetadata));var Ot=gt.singleVisual;Ot.filterExpressionMetadata&&(0,Nt.gL)(Ot.filterExpressionMetadata)&&(Ot.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(Ot.filterExpressionMetadata))}),rt.filters&&this.upgradeFilters(rt.filters)})}upgradeFilters(we){we.byName&&_.forEach(we.byName,rt=>{rt.filterExpressionMetadata&&(0,Nt.gL)(rt.filterExpressionMetadata)&&(rt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(rt.filterExpressionMetadata))}),we.byExpr&&this.upgradeFilterContainerState(we.byExpr),we.byTransientState&&this.upgradeFilterContainerState(we.byTransientState),we.byType&&this.upgradeFilterContainerState(we.byType)}upgradeFilterContainerState(we){_.forEach(we,rt=>{rt.filterExpressionMetadata&&(0,Nt.gL)(rt.filterExpressionMetadata)&&(rt.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(rt.filterExpressionMetadata))})}upgradeSelectorsByColumn(we){var rt=_.map(we,bt=>(0,d.bZ)(bt)),gt=(0,he.$Y)(rt);return(0,d.ae)(gt)}upgradeFilterExpressionMetadata(we){var rt=(0,Nt.Ww)(we),gt=(0,he.VF)(rt);return(0,Bt.$m)(gt)}upgradeFilterCollection(we){a.Y.assertValue(we,"filterCollection"),we&&we.filters&&(we.filters=this.upgradeFilterContainers(we.filters))}upgradeVisualObjects(we,rt,gt,bt){}upgradeFilterContainers(we){if(!_.isEmpty(we)){var rt=(0,r.p)(we);if(rt)for(var gt of rt)this.upgradeFilterContainer(gt);return JSON.stringify(rt)}}upgradeFilterContainer(we){we.filterExpressionMetadata&&(0,Nt.gL)(we.filterExpressionMetadata)&&(we.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(we.filterExpressionMetadata))}getVersion(){return S.ZNK.v5_16}}var $e=e(356013);function de(Lt){return new De(Lt)}class De{constructor(we){this.featureSwitchService=we}upgrade(we){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(a.Y.assertValue(we,"exploration"),we&&we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers){var bt=gt.config&&gt.config.singleVisual;if(bt&&"actionButton"===bt.visualType&&bt.objects){var Ot=bt.objects;if(Ot.text)for(var Yt of Ot.text){var er=Yt?.properties;if(er){var sr=er.padding;if(sr){var ur,Cr;ur=er.horizontalAlignment?re(er.horizontalAlignment):$e.q.right,Cr=er.verticalAlignment?re(er.verticalAlignment):"middle","left"===ur?Yt.properties.leftMargin=sr:"right"===ur&&(Yt.properties.rightMargin=sr),"top"===Cr?Yt.properties.topMargin=sr:"bottom"===Cr&&(Yt.properties.bottomMargin=sr),delete Yt.properties.padding}}}if(Ot.icon)for(var Sr of Ot.icon){var Dr=Sr?.properties;if(Dr){var Pr=Dr.padding;Pr&&(Sr.properties.leftMargin=Pr,Sr.properties.rightMargin=Pr,Sr.properties.topMargin=Pr,Sr.properties.bottomMargin=Pr,delete Sr.properties.padding)}}if(Ot.outline)for(var Wr of Ot.outline){var Mr=Wr?.properties.roundEdge;Mr&&(Ot.shape=Ot.shape||[],Ot.shape.push({properties:{roundEdge:Mr},selector:Wr.selector}),delete Wr.properties.roundEdge)}}}}upgradeVisualObjects(we,rt,gt,bt){}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_25}}function re(Lt){return s.F3.deserializeExpr(Lt.expr).value}class te{constructor(){}upgrade(we){if(a.Y.assertValue(we,"exploration"),we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers){var bt=gt.config&&gt.config.singleVisual;bt&&bt.objects&&(bt&&bt.visualType)===C.U.azureMap&&this.upgradeAzureMapProperties(bt.objects)}}upgradeVisualObjects(we,rt,gt,bt){}upgradeAzureMapProperties(we){a.Y.assertValue(we,"objects");var rt=we.heatMapLayer;if(rt&&0!==rt.length)for(var gt of rt)if(!gt.selector){var bt=gt.properties;if(bt&&bt.heatMapOpacity){var Yt=Number(s.F3.deserializeExpr(bt.heatMapOpacity.expr).value),er=isNaN(Yt)?0:100-100*Yt;delete bt.heatMapOpacity,bt.mapTransparency=(0,ve.zG)((0,p.nd)(er))}}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_28}}var Fe=e(428172),et=e(528261);function vt(Lt){return new Ve(Lt)}var At=[C.U.tableEx,C.U.pivotTable,C.U.slicer,C.U.filterSlicer,C.U.multiRowCard],st=[C.U.barChart,C.U.clusteredBarChart,C.U.clusteredColumnChart,C.U.columnChart,C.U.hundredPercentStackedBarChart,C.U.hundredPercentStackedColumnChart,C.U.ribbonChart],Re=[C.U.areaChart,C.U.barChart,C.U.clusteredBarChart,C.U.clusteredColumnChart,C.U.columnChart,C.U.hundredPercentStackedBarChart,C.U.hundredPercentStackedColumnChart,C.U.lineChart,C.U.lineClusteredColumnComboChart,C.U.lineStackedColumnComboChart,C.U.ribbonChart,C.U.scatterChart,C.U.stackedAreaChart,C.U.waterfallChart],q=[C.U.lineClusteredColumnComboChart,C.U.lineStackedColumnComboChart],pe=[C.U.lineChart,C.U.areaChart,C.U.stackedAreaChart,C.U.lineStackedColumnComboChart,C.U.lineClusteredColumnComboChart];class Ve{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){we===l.S.Visual&&(_.some(st,Ot=>Ot===gt)&&(this.upgradeCartesianAxisScale(rt,"categoryAxis"),this.upgradeCartesianAxisPosition(rt,"categoryAxis")),_.some(Re,Ot=>Ot===gt)&&(this.upgradeCartesianAxisScale(rt,"valueAxis"),this.upgradeCartesianAxisPosition(rt,"valueAxis")),_.some(q,Ot=>Ot===gt)&&this.upgradeCartesianSecAxisScale(rt,"valueAxis"),_.some(pe,Ot=>Ot===gt)&&(this.upgradeCartesianSecAxisScale(rt,"y2Axis"),this.upgradeDefaultToCircle(rt,"legend")),_.some(At,Ot=>Ot===gt)&&this.upgradeOutlineProperties(rt,gt),gt===C.U.pivotTable&&this.upgradeSubTotalsProperties(rt),gt===C.U.pivotTable&&this.upgradeTotalProperties(rt),gt===C.U.scatterChart&&this.upgradeScatterChartFillPoint(rt)),we===l.S.VisualContainer&&(this.upgradeVisualHeaderTooltip(rt),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(rt))}upgradeCartesianAxisScale(we,rt){this.upgradeAxisScale(we,rt,"axisScale","logAxisScale")}upgradeCartesianSecAxisScale(we,rt){this.upgradeAxisScale(we,rt,"secAxisScale","secLogAxisScale")}upgradeVisualHeaderTooltip(we){a.Y.assertValue(we,"objects");var rt=we[Ut];if(rt&&rt.length>0)for(var gt of rt){var bt=gt.properties;if(bt&&bt[Qt]&&!bt[Kt]){var Ot=bt[Qt],Yt=Ot&&ke(Ot);Yt&&Yt!==Pt&&(bt[Kt]=(0,ve.zG)((0,p.Qq)(ft)))}}}upgradeSubTotalsProperties(we){a.Y.assertValue(we,"objects");var rt=we.subTotals;if(rt&&rt.length>0)for(var gt=rt.length,bt=0;bt<gt;bt++){var Ot=rt[bt],Yt=Ot.properties,er={properties:{}};if(Yt&&!Ot.selector){for(var sr of it){var ur=Yt[sr.propertyName];ur&&(er.properties[sr.propertyName]=ur,delete Yt[sr.propertyName])}_.isEmpty(er.properties)||(rt.push({...er,selector:{id:Fe.w.Column}}),rt.push({...er,selector:{id:Fe.w.Row}}))}}}upgradeVisualLink(we){if(this.featureSwitchService.featureSwitches.useModernFormatPane){a.Y.assertValue(we,"objects");var rt=we[qt];if(rt&&rt.length>0)for(var gt of rt){var bt=gt.properties;if(bt&&bt[nr]){var Ot=bt[nr],Yt=Ot&&ke(Ot),er=(0,ve.VP)(Yt);bt[Ge]=(0,ve.zG)((0,p.zM)(er)),delete bt[nr]}}}}upgradeOutlineProperties(we,rt){a.Y.assertValue(we,"objects");var gt=this.getPropertiesToUpgrade(rt);for(var bt of gt){var{objectName:Ot,propertyName:Yt}=bt,er=we[Ot];if(er&&0!==er.length)for(var sr of er){var ur=sr.properties;if(ur&&ur[Yt]){var Sr=ke(ur[Yt]),Dr=(0,ve.b6)(Sr);ur[Ct]=(0,ve.zG)((0,p.nd)(Dr)),delete ur[Yt]}}}}upgradeTotalProperties(we){a.Y.assertValue(we,"objects");var rt=we.total;rt&&rt.length>0&&(we.rowTotal=_.cloneDeep(rt),we.columnTotal=_.cloneDeep(rt),delete we.total)}getPropertiesToUpgrade(we){switch(we){case C.U.tableEx:return xt;case C.U.pivotTable:return We;case C.U.slicer:return nt;case C.U.filterSlicer:return Wt;case C.U.multiRowCard:return kt;default:return a.Y.assertFail("unexpected visual type"),[]}}upgradeDefaultToCircle(we,rt){var gt=we[rt],bt="defaultToCircle",Ot="legendMarkerRendering";if(gt&&gt.length>0){var Yt=gt[0].properties;if(Yt&&Yt[bt]){var er;Yt[Ot]&&(er=ke(Yt[Ot]));var sr=ke(Yt[bt]);er!==et.k.markerOnly&&er||sr?er===et.k.markerOnly&&sr&&(Yt[Ot]=(0,ve.zG)((0,p.Qq)(et.k.markerCircleDefault))):Yt[Ot]=(0,ve.zG)((0,p.Qq)(et.k.markerOnly)),delete Yt[bt]}}}upgradeAxisScale(we,rt,gt,bt){var Ot=we[rt];if(Ot&&Ot.length>0){var Yt=Ot[0].properties;if(Yt&&Yt[gt]){var er=ke(Yt[gt]),sr=(0,ve.kH)(er);Yt[bt]=(0,ve.zG)((0,p.zM)(sr)),delete Yt[gt]}}}upgradeCartesianAxisPosition(we,rt){a.Y.assertValue(we,"objects");var gt=we[rt],bt="position";if(gt&&gt.length>0){var Yt=gt[0].properties;if(Yt&&Yt[bt]){var er=ke(Yt[bt]),sr=(0,ve.x3)(er);Yt.switchAxisPosition=(0,ve.zG)((0,p.zM)(sr)),delete Yt[bt]}}}upgradeScatterChartFillPoint(we){a.Y.assertValue(we,"objects");var rt=we.fillPoint;if(rt&&rt.length>0)for(var gt of rt)if(!gt.selector){var bt=gt.properties;if(bt&&bt.show){var Ot=ke(bt.show),Yt=(0,ve.XQ)(Ot);bt.style=(0,ve.zG)((0,p.Qq)(Yt)),delete bt.show}}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_31}}function ke(Lt){return s.F3.deserializeExpr(Lt.expr).value}var it=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],ft="Canvas",Pt="none",Ut="visualHeaderTooltip",Kt="type",Qt="section",qt="visualLink",nr="suppressDefaultTooltip",Ge="showDefaultTooltip",Ct="outlineStyle",xt=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],We=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],nt=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Wt=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],kt=[{objectName:"card",propertyName:"outline"}];function Ht(Lt){return new mr(Lt)}var lr=[C.U.areaChart,C.U.lineChart,C.U.lineClusteredColumnComboChart,C.U.lineStackedColumnComboChart,C.U.scatterChart,C.U.stackedAreaChart];class mr{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||we===l.S.Visual&&_.some(lr,Ot=>Ot===gt)&&this.upgradeCartesianAxisScale(rt,"categoryAxis")}upgradeCartesianAxisScale(we,rt){this.upgradeAxisScale(we,rt,"axisScale","logAxisScale")}upgradeAxisScale(we,rt,gt,bt){var Ot=we[rt];if(Ot&&Ot.length>0){var Yt=Ot[0].properties;if(Yt)if(Yt[bt]&&Yt[gt])delete Yt[gt];else if(Yt[gt]){var er=s.F3.deserializeExpr(Yt[gt].expr).value,sr=(0,ve.kH)(er);Yt[bt]=(0,ve.zG)((0,p.zM)(sr)),delete Yt[gt]}}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_33}}function Vr(Lt){return new br(Lt)}class br{constructor(we){this.featureSwitchService=we}upgrade(we){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(we)}upgradeVisualObjects(we,rt,gt,bt){}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_38}upgradeDrillthroughTargetRegularSections(we){if(!_.isEmpty(we?.sections)&&!_.isEmpty(we.pods)){var rt={};for(var gt of we.pods){var bt=gt.boundSection;if(!_.isEmpty(bt)&&!rt[bt]&&gt.type===y.cN.Drillthrough&&!(0,Me.M)(gt.parameters)){var Ot=(0,r.p)(gt.parameters);_.some(Ot,ur=>!!ur.fieldExpr)&&(rt[gt.boundSection]=!0)}}for(var Yt of we.sections){var er=Yt.config?.type;(null==er||er===y.gX.Regular)&&rt[Yt.name]&&(Yt.config||(Yt.config={}),Yt.config.type=y.gX.Drillthrough)}}}}var Br=[C.U.barChart,C.U.clusteredBarChart,C.U.hundredPercentStackedBarChart];class jr{constructor(){}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){if(we===l.S.Visual&&_.some(Br,sr=>sr===gt)){var Ot=rt.categoryAxis;_.isEmpty(Ot)&&(rt.categoryAxis=[{properties:{}}],Ot=rt.categoryAxis);var Yt=Ot[0].properties,er=Yt.concatenateLabels;er&&er.expr?er.expr.Literal.Value="true":Yt.concatenateLabels=(0,ve.zG)((0,p.zM)(!0))}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_42}}var Lr=[C.U.lineChart,C.U.areaChart,C.U.stackedAreaChart,C.U.lineStackedColumnComboChart,C.U.lineClusteredColumnComboChart];class Yr{constructor(){}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){if(we===l.S.Visual&&_.some(Lr,sr=>sr===gt)){var Ot=rt.lineStyles;if(Ot&&!_.isEmpty(Ot))for(var Yt of Ot)if(Yt){var er=Yt.properties.stepped;er&&er.expr&&"true"===er.expr.Literal.Value&&(Yt.properties.lineChartType=(0,ve.zG)((0,p.Qq)("step")),delete Yt.properties.stepped)}}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_46}}var vr=e(420496),Ur=e(550995);function xr(Lt){return new Zr(Lt)}class Zr{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){rt&&we===l.S.Visual&&gt===C.U.azureMap&&this.upgradeAzureMapsVisual(rt)}upgradeAzureMapsVisual(we){var{objectName:rt,propertyName:gt}=vr.AN.bubbleLayer.markerRangeType,bt=we[rt];for(var Ot of(_.isEmpty(bt)&&(we[rt]=[{properties:{}}],bt=we[rt]),bt))Ot?.properties&&(Ot.properties[gt]=(0,ve.zG)((0,p.Qq)(Ur.c3.deprecated)))}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_48}}class Ir{constructor(){}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){rt&&we===l.S.Visual&&([C.U.barChart,C.U.columnChart,C.U.hundredPercentStackedBarChart,C.U.hundredPercentStackedColumnChart,C.U.ribbonChart,C.U.stackedAreaChart,C.U.lineStackedColumnComboChart,C.U.lineClusteredColumnComboChart].includes(gt)&&Ir.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},rt),[C.U.ribbonChart].includes(gt)&&(Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},rt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},rt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},rt),Ir.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},rt)))}static updatePropertyName(we,rt,gt){var bt=gt[we.objectName];if(bt&&0!==bt.length)for(var Ot of bt){var Yt=Ot.properties[we.propertyName];if(Yt)return void(Ir.getObject(gt,rt.objectName)[0].properties[rt.propertyName]=Yt)}}static getObject(we,rt){var gt=we[rt];return _.isEmpty(gt)&&(we[rt]=[{properties:{}}],gt=we[rt]),gt}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_49}}var hr=e(662785),kr=e(781594),Et_propertyName="dynamicLabelValue";function Xt(Lt){return new gr(Lt)}class gr{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){rt&&we===l.S.Visual&&this.featureSwitchService.featureSwitches.labelEnhancementsM0&&([kr.N.hundredPercentStackedBarChart.name,kr.N.hundredPercentStackedColumnChart.name].includes(gt)&&this.update100StackedProperties(rt),S.wNc.includes(gt)&&this.updateDynamicLabelProperties(rt))}updateDynamicLabelProperties(we){var rt=we.labels;if(!_.isEmpty(rt)&&rt.some(we=>we.properties.showDynamicLabels||we.properties[Et_propertyName])){var gt=rt.find(sr=>sr.properties.showDynamicLabels&&!sr.selector),bt=pt(gt?.properties.showDynamicLabels),Ot=rt.find(sr=>sr.properties[Et_propertyName]&&sr.selector&&!sr.selector.metadata),Yt=Je(Ot?.properties[Et_propertyName]);bt&&!Yt&&gt&&(gt.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!1))),!bt&&Yt&&delete Ot?.properties[Et_propertyName],rt.some(sr=>sr.selector&&sr.selector.metadata)&&this.updatePropertiesForMultiStaticSeries(rt,bt,Yt),this.deleteInvalidProperties(rt),we.labels=rt.filter(sr=>!_.isEmpty(sr.properties))}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_50}update100StackedProperties(we){var rt=we.labels;if(rt){var gt=rt.find(sr=>!sr.selector&&pt(sr?.properties.showDynamicLabels)),bt=rt.find(sr=>sr.selector&&!sr.selector.metadata&&Je(sr?.properties[Et_propertyName]));if(gt&&bt)gt.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!0)),gt.properties.enableDetailDataLabel=(0,ve.zG)((0,p.zM)(!1));else for(var Ot of rt){Ot.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!1)),Ot.properties.enableDetailDataLabel=(0,ve.zG)((0,p.zM)(!0)),Ot.properties.detailContentType=(0,ve.zG)((0,p.Qq)("Percent of total"));var Yt={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var er in Yt)Ot.properties[er]&&(Ot.properties[Yt[er]]=Ot.properties[er],delete Ot.properties[er])}}}updatePropertiesForMultiStaticSeries(we,rt,gt){var bt=this,Ot=function(er){if(!er.selector?.metadata||_.isEmpty(er.properties))return 1;var sr;if(er.properties.showDynamicLabels){var ur=pt(er.properties.showDynamicLabels),Cr=we.find(Sr=>Sr.selector?.metadata&&Sr.selector.metadata===er.selector?.metadata&&Sr.properties[Et_propertyName]);Cr&&(sr=Je(Cr.properties[Et_propertyName])),ur?bt.updatePropertiesIfSeriesDynamicLabelEnabled(er,sr,gt):!1===ur&&bt.updatePropertiesIfSeriesDynamicLabelDisabled(er,Cr,sr,ur,gt)}};for(var Yt of we)Ot(Yt)}updatePropertiesIfSeriesDynamicLabelEnabled(we,rt,gt){rt&&(we.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!0))),(!1===rt||!rt&&!gt)&&(we.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!1)))}updatePropertiesIfSeriesDynamicLabelDisabled(we,rt,gt,bt,Ot){gt&&rt&&delete rt.properties[Et_propertyName],!gt&&!Ot&&(we.properties.enableValueDataLabel=(0,ve.zG)((0,p.zM)(!0)))}deleteInvalidProperties(we){if(!_.isEmpty(we))for(var rt of we)rt.properties.showDynamicLabels&&delete rt.properties.showDynamicLabels,rt.properties[Et_propertyName]&&ie(rt.properties[Et_propertyName])&&delete rt.properties[Et_propertyName]}}function pt(Lt){if(Lt?.expr)return s.F3.deserializeExpr(Lt.expr).value}function Je(Lt){if(!Lt?.expr)return!1;var we=s.F3.deserializeExpr(Lt.expr);return(0,hr.tx)(we)||(0,hr.b9)(we)}function ie(Lt){if(!Lt?.expr)return!1;var we=s.F3.deserializeExpr(Lt.expr);return(0,hr.VO)(we)}function He(Lt){return new Mt(Lt)}class Mt{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){var Ot=this;if(rt&&we===l.S.Visual){if(this.featureSwitchService.featureSwitches.cardVisualRefUpdate&&gt===kr.N.cardVisual.name){var Yt=rt.referenceLabelDetail;if(_.isEmpty(Yt))return;for(var er=function(ur){var Cr=Yt[ur];if(_.isEmpty(Cr))return sr=ur,1;if(Ot.isValidMetadataOnlySelector(Cr.selector)){var Sr=Cr.properties?.detailValue;if(Sr){var Dr={...Cr.selector,data:[{dataViewWildcard:{matchingOption:_e._.InstancesAndTotals}}]},Pr=_.find(Yt,Wr=>_.isEqual(Wr.selector,Dr));Pr&&Pr.properties?Pr.properties.detailValue=Sr:Yt.push({properties:{detailValue:Sr},selector:Dr}),delete Cr.properties.detailValue,_.isEmpty(Cr.properties)&&(Yt.splice(ur,1),ur--)}}sr=ur},sr=0;sr<Yt.length;sr++)er(sr)}this.featureSwitchService.featureSwitches.labelEnhancementsM0&&S.wNc.includes(gt)&&this.updateDynamicLabelProperties(rt)}}isValidMetadataOnlySelector(we){return we&&!_.isEmpty(we.id)&&!_.isEmpty(we.metadata)&&_.isEmpty(we.data)}updateDynamicLabelProperties(we){var rt=we.labels;if(!_.isEmpty(rt)&&rt.some(we=>we.properties.dynamicLabelValue)){var gt=rt.filter(Ot=>Ot.properties.dynamicLabelValue&&!Ot?.selector?.data);if(!_.isEmpty(gt))for(var bt of gt)delete bt?.properties.dynamicLabelValue;we.labels=rt.filter(Ot=>!_.isEmpty(Ot.properties))}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_51}}class Gt{constructor(){}upgrade(we){this.resolveShadeArea(we)}upgradeVisualObjects(we,rt,gt,bt){}resolveShadeArea(we){var rt;if(we&&!_.isEmpty(we.sections))for(var gt of we.sections){var bt=function(){var er=Yt?.config?.singleVisual;if(!er)return 0;if(![C.U.lineStackedColumnComboChart,C.U.lineClusteredColumnComboChart].includes(er?.visualType))return 0;var ur=er.projections?.Y2;if(_.isEmpty(ur))return 0;var Cr=er.objects?.lineStyles;if(_.isEmpty(Cr))return 0;var Sr,Dr={};ur.forEach(ua=>{Dr[ua.queryRef]=void 0});var Pr=!1,Wr=!1;for(var Mr of Cr){var Tr=Mr.properties?.shadeArea;Tr&&(Mr.properties.areaShow=_.cloneDeep(Tr)),Mr.selector?Tr&&(Dr[Mr.selector.metadata]=Tr,Pr||(Pr="true"===Tr?.expr?.Literal?.Value)):(Wr=!0,Tr&&(Sr=Tr))}if("true"===Sr?.expr?.Literal?.Value||!Pr)return 0;for(var aa of(Wr||Cr.push({properties:{}}),Cr))aa.selector?(aa.properties||(aa.properties={}),aa.properties.areaShow||(aa.properties.areaShow={expr:{Literal:{Value:"false"}}},Dr[aa.selector.metadata]=aa.properties.areaShow)):((rt=aa.properties).areaShow||(rt.areaShow={}),aa.properties.areaShow.expr={Literal:{Value:"true"}});for(var[sa,la]of Object.entries(Dr))la||Cr.push({properties:{areaShow:{expr:{Literal:{Value:"false"}}}},selector:{metadata:sa}})};for(var Yt of gt.visualContainers)bt()}}upgradeFilterCollection(){}getVersion(){return a.Y.assert(()=>S.ZNK.v5_53===S.ihX,"This upgrader covers both features. If features get different release versions, we should get an error."),S.ZNK.v5_53}}function Er(Lt){return new Oe(Lt)}class Oe{constructor(we){this.featureSwitchService=we}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){if(rt&&we===l.S.Visual){if(this.featureSwitchService.featureSwitches.matrixLayouts&&gt===kr.N.pivotTable.name&&(0,ve.SG)(rt),this.featureSwitchService.featureSwitches.cardVisualCFSelector&&gt===kr.N.cardVisual.name){var Ot={divider:["dividerColor"],referenceLabel:["backgroundColor"],referenceLabelDetail:["detailFontColor","detailBackgroundColor","customFormatString","detailPrecision","showBlankAs"],referenceLabelValue:["valueFontColor","customFormatString","valuePrecision","showBlankAs"],referenceLabelTitle:["titleText","titleFontColor"]};for(var Yt of Object.keys(Ot)){var er=rt[Yt];if(!_.isEmpty(er))for(var sr=0;sr<er.length;sr++){var ur=er[sr];if(!_.isEmpty(ur)&&(Lt=ur.selector)&&!_.isEmpty(Lt.metadata)&&_.isEmpty(Lt.data)&&ur.properties){var Cr=function(){var Dr=ur.properties[Sr];if(Dr&&ct(Dr)){var Pr={...ur.selector,data:[{dataViewWildcard:{matchingOption:_e._.InstancesAndTotals}}]},Wr=_.find(er,Mr=>_.isEqual(Mr.selector,Pr));Wr&&Wr.properties?Wr.properties[Sr]=Dr:er.push({properties:{[Sr]:Dr},selector:Pr}),delete ur.properties[Sr],_.isEmpty(ur.properties)&&(er.splice(sr,1),sr--)}};for(var Sr of Ot[Yt])Cr()}}}}gt===kr.N.lineChart.name&&Oe.upgradeForecastStyles(rt)}var Lt}static upgradeForecastStyles(we){var rt,gt,bt,Ot,Yt=we.forecast;if(!_.isEmpty(Yt))for(var er of Yt)if(er&&er.properties){var sr=Number((0,ve.Uj)(er.properties.transparency));null!=sr&&!isNaN(sr)&&((rt=er.properties).bandAreaTransparency??(rt.bandAreaTransparency=(0,ve.zG)((0,p.gd)(sr))),(gt=er.properties).bandLineTransparency??(gt.bandLineTransparency=(0,ve.zG)((0,p.gd)(sr))),delete er.properties.transparency);var ur=(0,ve.Uj)(er.properties.confidenceBandStyle);null!=ur&&((bt=er.properties).bandAreaShow??(bt.bandAreaShow=(0,ve.zG)((0,p.zM)("fill"===ur||"fillLine"===ur))),(Ot=er.properties).bandLineShow??(Ot.bandLineShow=(0,ve.zG)((0,p.zM)("line"===ur||"fillLine"===ur))),delete er.properties.confidenceBandStyle)}}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_54}}function ct(Lt){var we=Lt?.expr||Lt?.solid?.color?.expr;if(!we)return!1;var rt=s.F3.deserializeExpr(we);return null!=rt&&!(0,hr.VO)(rt)&&!(0,hr.Hf)(rt)}function ht(Lt){return new _t(Lt)}class _t{constructor(we){this.featureSwitchService=we}upgrade(we){if(we&&!_.isEmpty(we.sections))for(var rt of we.sections)for(var gt of rt.visualContainers){var bt=gt.config?.singleVisual;bt&&(0,ve.gp)(bt,!0,this.featureSwitchService.featureSwitches.tablixRenderUpgrade)}}upgradeVisualObjects(){}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_56}}var Rt=e(118307);class jt{upgrade(we,rt){}upgradeVisualObjects(we,rt,gt,bt){if(rt&&we===l.S.Visual&&gt===C.U.advancedSlicerVisual){var Ot=_.find(rt.image,ur=>_.has(ur.properties,"image")&&_.isEmpty(ur.selector?.id));if(!Ot)return;var Yt=(0,d.Gq)({id:"default",data:[(0,Rt.vt)(_e._.InstancesOnly)]}),er=_.find(rt.image,ur=>_.isEqual(ur.selector,Yt));if(er||(rt.image.push({properties:{},selector:Yt}),er=_.last(rt.image)),er.properties.image=Ot.properties.image,delete Ot.properties.image,_.isEmpty(Ot.properties)){var sr=_.findIndex(rt.image,Ot);rt.image.splice(sr,1)}}}upgradeFilterCollection(we){}getVersion(){return S.ZNK.v5_58}}class Zt{constructor(){}upgrade(we){}upgradeVisualObjects(we,rt,gt,bt){rt&&we===l.S.Visual&&gt===C.U.azureMap&&this.upgradeAzureMapsVisual(rt)}upgradeAzureMapsVisual(we){var{objectName:rt,propertyName:gt}=vr.AN.mapControls.autoZoomIncludesReferenceLayer,bt=we[rt];for(var Ot of(_.isEmpty(bt)&&(we[rt]=[{properties:{}}],bt=we[rt]),bt))Ot?.properties&&(Ot.properties[gt]=(0,ve.zG)((0,p.zM)(!1)))}upgradeFilterCollection(){}getVersion(){return S.ZNK.v5_63}}function tr(Lt){return new dr(Lt)}class dr{constructor(we){var Lt;this.versionUpgraders=[new E,new w,new N,new F,new B,new Ce,new L,(Lt=we,new Z(Lt)),new z,new K,new X,(0,ne.bH)(),(0,ae.bH)(we),new lt,new Ie,new Ee,new ye,new Ue,at(we),new yt,Qe(we),de(we),new te,vt(we),Ht(we),Vr(we),new jr,new Yr,xr(we),new Ir,Xt(we),He(we),new Gt,Er(we),ht(we),new jt,new Zt],this.objectsUpgrader=(0,g.t)(this.versionUpgraders)}upgrade(we,rt,gt,bt){if(this.upgradeElement(we,rt,gt,(Yt,er,sr)=>Yt.upgrade(er,sr),bt)){var Ot=we;return this.upgradeVisualObjects(Ot,we.config.version),we.config.version=n.t,Ot}}upgradeFilterCollection(we,rt,gt){if(this.upgradeElement(we,rt,gt,(bt,Ot)=>bt.upgradeFilterCollection(Ot)))return we.config.version=n.t,we}getVersionUpgraders(){return this.versionUpgraders}upgradeElement(we,rt,gt,bt,Ot){a.Y.assertValue(we,"element"),a.Y.assert(()=>rt&&_.isEmpty(rt),"errors should be defined and empty"),a.Y.assertValue(bt,"runUpgrade");var Yt=this.getVersionedElementConfig(we),er=Yt.version&&_.isString(Yt.version)?Yt.version:i.e3;if((0,i.gt)(er,n.t)){if(rt.push({errorType:t.e.UnknownExplorationVersion}),!gt)return}else for(var sr of this.versionUpgraders){var ur=sr.getVersion();((0,i.lt)(ur,"2.2")||(0,i.gt)(ur,er))&&(bt(sr,we,er),Ot&&Ot.upgraderCount++)}return we}upgradeVisualObjects(we,rt){rt=rt||i.e3;var gt=we&&we.sections;if(gt)for(var bt of gt){var Ot=bt&&bt.visualContainers;if(!Ot)return;for(var Yt of Ot){var er=Yt&&Yt.config&&Yt.config.singleVisual;if(er){var sr=er.visualType,ur=er.vcObjects;ur&&this.objectsUpgrader.upgrade(l.S.VisualContainer,ur,sr,rt);var Cr=er.objects;Cr&&this.objectsUpgrader.upgrade(l.S.Visual,Cr,sr,rt)}}}}getVersionedElementConfig(we){return _.isString(we.config)&&(we.config=(0,r.p)(we.config),a.Y.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),we.config||(we.config={version:i.e3},a.Y.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),we.config}}},980553:function(me,j,e){e.d(j,{$2$:function(){return St},$Kn:function(){return Ae},$bp:function(){return Te},$xZ:function(){return Vi},Aak:function(){return Ha},BWY:function(){return ve},ByF:function(){return Y},DG1:function(){return Q},DNT:function(){return J},D_B:function(){return en},EtE:function(){return Qa},F$E:function(){return tn},FK7:function(){return Et},FLH:function(){return mn},GOG:function(){return k},GOk:function(){return K},H$J:function(){return Mt},H1C:function(){return L},HZE:function(){return Ua},HeG:function(){return dr},Hl1:function(){return pt},IjO:function(){return Ce},J4d:function(){return xr},K69:function(){return Le},Kek:function(){return qt},L0n:function(){return mi},L92:function(){return aa},LUA:function(){return ea},Mtt:function(){return Gr},NjL:function(){return Gi},O64:function(){return je},OiP:function(){return Kt},PGz:function(){return Aa},PPx:function(){return Si},PR7:function(){return ee},QST:function(){return te},Qfr:function(){return na},Qs5:function(){return _i},ReZ:function(){return oe},Rth:function(){return Oe},SSD:function(){return wi},VAO:function(){return ot},Vyr:function(){return rn},W2r:function(){return li},XR$:function(){return Nt},XtR:function(){return Ut},YFE:function(){return Ii},YVh:function(){return ze},ZNK:function(){return R},_Jb:function(){return U},__1:function(){return pe},aLR:function(){return Dt},d17:function(){return de},dX8:function(){return Za},f89:function(){return Xt},g88:function(){return Fi},gC2:function(){return Bt},gWA:function(){return Rt},hAE:function(){return H},h_:function(){return z},ihX:function(){return Ia},j17:function(){return A},jMl:function(){return yt},jbF:function(){return ui},kof:function(){return Qi},laz:function(){return Er},mn:function(){return Ge},nNr:function(){return Z},nQ_:function(){return ce},o6K:function(){return Qt},oC6:function(){return ye},oFC:function(){return Oi},okR:function(){return x},p2U:function(){return xt},rAT:function(){return X},sEZ:function(){return $e},sY6:function(){return Be},v_G:function(){return Vt},w5b:function(){return it},wJE:function(){return mt},wNc:function(){return Rr},wvm:function(){return jr},xR7:function(){return Hi},xTQ:function(){return ar},xxH:function(){return Ve},yx8:function(){return ca},zWu:function(){return Ye},za9:function(){return Ie}});var r=e(662785),i=e(439513),a=e(201991),t=e(198976),l=e(987677),g=e(818365),n=e(857327),d=e(914137),s=e(877811),h=e(473453),o=e(247328),v=e(550995),m=e(888193),p=e(479860),y=e(785463),S=e(46143),C=e(269393),u=e(464205),E=e(624550),c=e(168376),f=e(446024),D=e(468291),b=e(20502),T=e(249521),M=e(14445),V=e(918460),w=e(409310),P=e(892784),N=e(481041),I=e(93374),O=e(588308),R={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50",v5_51:"5.51",v5_52:"5.52",v5_53:"5.53",v5_54:"5.54",v5_55:"5.55",v5_56:"5.56",v5_57:"5.57",v5_58:"5.58",v5_59:"5.59",v5_60:"5.60",v5_61:"5.61",v5_62:"5.62",v5_63:"5.63"},W={};W[D.Ez.FilteredEval]=R.v3_5,W[D.Ez.Conditional]=R.v3_7,W[D.Ez.ThemeDataColor]=R.v3_8;class F extends b.ff{constructor(ir){super(),this.highestVersion=ir}visitAllRolesRef(ir){this.highestVersion=(0,a.T9)(this.highestVersion,R.v5_1),super.visitAllRolesRef(ir)}visitRangePercent(ir){this.highestVersion=(0,a.T9)(this.highestVersion,R.v5_1),super.visitRangePercent(ir)}visitArithmetic(ir){(0,r.tZ)(ir.right)||(this.highestVersion=(0,a.T9)(this.highestVersion,R.v5_15)),super.visitArithmetic(ir)}visitSparklineData(ir){this.highestVersion=(0,a.T9)(this.highestVersion,gt),super.visitSparklineData(ir)}}class U{static getVersionForSQExpr(ir){y.Y.assertValue(ir,"expr should exist to get its version");var pr=W[ir.kind]||a.e3,yr=new F(pr);return ir.accept(yr),yr.highestVersion}static getVersionForSQExprWithDescriptor(ir,pr,yr){y.Y.assertValue(ir,"expr should exist to get its version"),y.Y.assertAnyValue(pr,"typeDescriptor can be undefined in an unloaded custom visual"),y.Y.assertValue(yr,"visualVisualCalcInfo should be defined");var $r=this.getVersionForSQExpr(ir);return pr?.misc?.webUrl&&Wi(ir,yr)&&($r=(0,a.T9)(Wa,$r)),$r}static getConditionalFormattingVersion(ir,pr){if(y.Y.assertValue(ir,"expr should exist to get its version"),(0,r.ON)(ir)&&ir.input){if(!(0,r.Gv)(ir.input))return ae;if(Mi(ir.input,pr))return Wa}if((0,r.Jz)(ir)){if(_.some(ir.cases,ra=>ra.condition.isOrdinalEvaluation()))return Ka;var yr=pr.hasVisualCalc?(0,a.T9)(ae,Wa):ae,$r=ra=>{if(ra&&(0,r.Wc)(ra)){if(!(0,r.Gv)(ra.left))return ae;if(Mi(ra.left,pr))return Wa}},Jr=ra=>{var ia=$r(ra)??a.e3;if(ia===yr)return ia;if((0,r.mP)(ra))for(var ja of[ra.left,ra.right]){var hi=$r(ja)??a.e3;if((ia=(0,a.T9)(hi,ia))===yr)return ia}return ia!==a.e3?ia:void 0},Hr=a.e3;for(var ta of ir.cases){var ma=Jr(ta.condition)??a.e3;if((Hr=(0,a.T9)(ma,Hr))===yr)return yr}if(Hr!==a.e3)return Hr}return(0,r.tx)(ir)||(0,r.b9)(ir)?lt:Wi(ir,pr)?Wa:a.e3}static getVersionForSortDefinitions(ir){if(!_.isEmpty(ir))for(var pr of ir)if((0,r.tZ)(pr.expr))return R.v5_23;return a.e3}static getVersionForVisualContainerGroup(ir){return ir.objects&&void 0!==ir.objects.lockAspect?Or:Te}}class B{constructor(ir){this.visualCalcInfo=ir}getVersion(){return this.version??a.e3}visitExpr(ir,pr){null!=ir&&(this.version=U.getConditionalFormattingVersion(ir,this.visualCalcInfo))}visitValueRef(ir,pr){}}var x=R.v3_6,A=R.v3_6,L=R.v3_7,Y=R.v3_8,z=R.v3_8,H=R.v3_8,Z=R.v3_8,k=R.v3_9,K=R.v3_10,ee=R.v3_11,Q=R.v3_11,J=R.v3_12,X=R.v3_13,ne=R.v3_13,ae=R.v3_14,oe=R.v3_14,Me=R.v3_15,Ye=R.v3_15,Le=R.v3_17,lt=R.v3_17,St=R.v3_18,ze=R.v3_19,Be=R.v3_20,Ce=R.v3_20,Ae=R.v3_20,be=R.v3_20,Ie=R.v3_20,ve=R.v3_20,Ee=R.v3_21,Ne=R.v3_21,ye=R.v3_22,fe=R.v3_22,Se=R.v3_22,qe=R.v3_23,Ue=R.v3_23,_e=R.v3_23,at=R.v3_23,ot=R.v3_23,mt=R.v3_23,yt=R.v3_24,Nt=R.v3_24,Bt=R.v3_24,he=R.v4_0,Qe=R.v4_2,je=R.v4_2,Ke=R.v4_2,tt=R.v4_2,$e=R.v4_2,de=R.v4_2,De=R.v5_0,re=R.v5_1,ce=R.v5_2,te=R.v5_2,Te=R.v5_2,Fe=R.v5_3,et=R.v5_3,vt=R.v5_3,At=R.v5_4,st=R.v5_5,Re=R.v5_6,q=R.v5_7,pe=R.v5_8,Ve=R.v5_8,ke=R.v5_8,it=R.v5_8,ft=R.v5_8,Pt=R.v5_9,Ut=R.v5_9,Kt=R.v5_9,Qt=R.v5_9,qt=R.v5_9,nr=R.v5_9,Ge=R.v5_10,Ct=R.v5_10,xt=R.v5_11,We=R.v5_11,nt=R.v5_12,Wt=R.v5_12,kt=R.v5_13,Ht=R.v5_13,lr=R.v5_13,mr=R.v5_14,_r=R.v5_14,Vr=R.v5_14,Br=R.v5_15,Fr=R.v5_15,jr=R.v5_15,Lr=R.v5_15,wr=R.v5_15,vr=R.v5_16,Ur=R.v5_16,xr=R.v5_16,Zr=R.v5_16,Kr=R.v5_16,qr=R.v5_16,ea=R.v5_17,Gr=R.v5_18,Ir=R.v5_18,Qr=R.v5_18,hr=R.v5_19,kr=R.v5_19,Or=R.v5_19,Xr=R.v5_19,wt=R.v5_20,Et=R.v5_20,Dt=R.v5_20,It=R.v5_20,Xt=R.v5_21,gr=R.v5_21,pt=R.v5_22,Je=R.v5_22,ie=R.v5_22,G=R.v5_22,se=R.v5_22,He=R.v5_22,Mt=R.v5_23,zt=R.v5_23,or=R.v5_23,rr=R.v5_24,Gt=R.v5_24,Er=R.v5_24,Oe=R.v5_24,Ze=R.v5_25,ct=R.v5_25,ht=R.v5_25,_t=R.v5_26,Rt=R.v5_26,Vt=R.v5_27,jt=R.v5_27,Tt=R.v5_27,Zt=R.v5_27,tr=R.v5_27,dr=R.v5_27,Lt=R.v5_28,we=R.v5_28,rt=R.v5_28,gt=R.v5_28,Ot=R.v5_30,Yt=R.v5_30,er=R.v5_31,sr=R.v5_31,ur=R.v5_31,Cr=R.v5_31,Sr=R.v5_31,Dr=R.v5_31,Pr=R.v5_31,Wr=R.v5_31,Mr=R.v5_31,zr=R.v5_31,aa=R.v5_32,sa=R.v5_33,la=R.v5_33,ua=R.v5_33,va=R.v5_33,ga=R.v5_34,le=R.v5_34,Pe=R.v5_34,ue=R.v5_34,dt=R.v5_34,Ft=R.v5_34,$t=R.v5_35,ar=R.v5_36,ca=R.v5_36,ha=R.v5_37,fi=R.v5_39,ka=R.v5_39,za=R.v5_40,Ra=R.v5_40,xa=R.v5_40,Va=R.v5_41,Ya=R.v5_41,Oa=R.v5_41,Ka=R.v5_41,Sa=R.v5_41,Ga=R.v5_42,Ca=R.v5_42,Ha=R.v5_43,Ba=R.v5_44,Qa=R.v5_44,Pa=R.v5_44,Xa=R.v5_44,La=R.v5_46,Na=R.v5_46,$a=R.v5_47,oi=R.v5_48,da=R.v5_49,Ja=R.v5_49,Nr=R.v5_50,li=R.v5_50,Za=R.v5_50,ya=R.v5_50,Aa=R.v5_51,Fa=R.v5_51,_a=R.v5_51,qa=R.v5_52,ei=R.v5_52,Ia=R.v5_53,ti=R.v5_54,pa=R.v5_54,Ua=R.v5_55,ri=R.v5_55,ai=R.v5_56,ii=R.v5_56,cr=R.v5_56,vi=R.v5_56,wi=R.v5_57,mi=R.v5_57,Ni=R.v5_57,gi=R.v5_57,Ai=R.v5_57,yi=R.v5_58,_i=R.v5_58,Si=R.v5_59,Ci=R.v5_59,Ii=R.v5_59,Ei=R.v5_59,Di=R.v5_60,ni=R.v5_61,Wa=R.v5_61,Yi=R.v5_62,si=R.v5_62,ui=R.v5_62,Ri=R.v5_63,xi=R.v5_63,Ki=N.t,bi=N.t,Gi=N.t,Ma=N.t,Oi=N.t,Hi=N.t,Qi=N.t,Xi=N.t,$i=N.t,Ji=N.t,Zi=N.t,qi=N.t,en=N.t,Bi=[[I.HM,R.v5_29],[I.Oo,R.v5_30],[I.Qt,R.v5_31],[I.JR,R.v5_32],[I.Cd,R.v5_33],[I.Jw,R.v5_34],[I.Qn,R.v5_35],[I.JL,R.v5_37],[I.C9,R.v5_39],[I.X7,R.v5_40],[I.Cm,R.v5_41],[I.JF,R.v5_42],[I.ZN,R.v5_43],[I.ZN,R.v5_44],[I.Su,R.v5_45],[I.Zc,R.v5_46],[I.eR,R.v5_47],[I.ln,R.v5_48],[I.Qr,R.v5_49],[I.Z8,R.v5_50],[I.eL,R.v5_51],[I.ZZ,R.v5_52],[I.eC,R.v5_53],[I.WR,R.v5_54],[I.Pd,R.v5_55],[I.W,R.v5_56],[I.Py,R.v5_57],[I.WX,R.v5_58],[I.Pj,R.v5_59],[I.IB,R.v5_60],[I.BZ,R.v5_61],[I.Im,R.v5_62],[I.Pp,R.v5_63]];function tn(Jt){for(var[ir,pr]of Bi)if(Jt===ir)return pr;return y.Y.assertFail(`No exploration version matching ${Jt}`),N.t}function rn(Jt){for(var[ir,pr]of Bi)if(Jt===pr)return ir;return y.Y.assertFail(`No exploration state version matching ${Jt}`),P.Q}var Vi=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],Ea=[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],Ta=[n.U.clusteredBarChart,n.U.clusteredColumnChart],ci=[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],Da=[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],an=[n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],na=[...Da],oa=[...Ta,...Ea,...ci],fa=[...oa,...na],Ar=[...Ta,...Ea,...ci,...Da,n.U.realTimeLineChart,n.U.scatterChart,n.U.waterfallChart],nn=_.without(Ar,n.U.realTimeLineChart,n.U.scatterChart),ba=_.without(Ar,n.U.realTimeLineChart),sn=[n.U.stackedAreaChart,n.U.columnChart,n.U.clusteredColumnChart,n.U.barChart,n.U.clusteredBarChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],Li=[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],on=[...Ta,...Ea,...Da,n.U.lineChart],ln=[n.U.azureMap,n.U.filledMap,n.U.heatMap,n.U.map],Rr=[...Ea,...Ta,...ci,...Da],un=[{property:{objectName:"general",propertyName:"altText"},version:R.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:R.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:Jt=>Jt.value===w.Xh},version:x},{property:{objectName:"labels",propertyName:"enableBackground"},version:R.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:R.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:R.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:R.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:R.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:R.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:R.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:R.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:R.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:R.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:R.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:Jt=>Jt.value===V.Hl},version:J},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:R.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:R.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:R.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:R.v3_13,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:Jt=>Jt.value===w.R_},version:ne},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:R.v3_14,types:[n.U.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:pi},version:R.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:pi},version:R.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:pi},version:R.v3_15},{property:{objectName:"outspace",propertyName:i.pl},version:Me,types:["page"]},{property:{objectName:"visualHeader",propertyName:i.pl},version:Ye},{property:{objectName:"visualTooltip",propertyName:"show"},version:R.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:Jt=>Jt.value===s.G.categorical},version:St,types:[n.U.scatterChart]},{property:{objectName:"searchBox",propertyName:i.pl},version:R.v3_19,types:[n.U.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:Be,types:[n.U.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Jt,ir)=>ir&&ir.data&&1===ir.data.length&&(0,u.z2)(ir.data[0])},version:Ce,types:Vi},{property:{objectName:"filterCard",propertyName:i.pl},version:be,types:["page"]},{property:{objectName:"outspacePane",propertyName:i.pl},version:be,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:be,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:be,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:Ee},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:Ne,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:fe},{property:{objectName:"border",propertyName:"radius"},version:Se},{property:{objectName:"visualLink",propertyName:"webUrl"},version:qe},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:Ue,types:[n.U.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:_e},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:_e},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:_e},{property:{objectName:"visualTooltip",propertyName:"background"},version:_e},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:_e},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:at,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:at,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:he},{property:{objectName:"indicator",propertyName:"fontSize"},version:R.v4_1,types:[n.U.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:R.v4_1,types:[n.U.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.solid&&Jt.solid.color;return!((0,r.VO)(yr)||(0,r.Hf)(yr))}},version:Qe},{property:{objectName:"title",propertyName:"background",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.solid&&Jt.solid.color;return!((0,r.VO)(yr)||(0,r.Hf)(yr))}},version:Qe},{property:{objectName:"labels",propertyName:"color",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.solid&&Jt.solid.color;return!((0,r.VO)(yr)||(0,r.Hf)(yr))}},version:Qe,types:[n.U.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.solid&&Jt.solid.color;return!((0,r.VO)(yr)||(0,r.Hf)(yr))}},version:Qe,types:[n.U.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[n.U.pivotTable],version:R.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[n.U.pivotTable],version:R.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[n.U.pivotTable],version:R.v4_2},{property:{objectName:"total",propertyName:"label"},types:[n.U.tableEx],version:R.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:tt},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:tt},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Jt,ir)=>!(0,r.VO)(Jt&&Jt.solid&&Jt.solid.color)},version:Ke,types:[n.U.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.solid&&Jt.solid.color;return!((0,r.VO)(yr)||(0,r.Hf)(yr))}},version:De},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:Jt=>!0===Jt.value},version:re},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"icon"},version:R.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[n.U.textbox],version:R.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[n.U.textbox],version:R.v5_3},{property:{objectName:"text",propertyName:"color"},types:[n.U.textbox],version:R.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:et},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:Fe},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:vt,types:[n.U.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:vt,types:[n.U.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:vt,types:[n.U.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:vt,types:[n.U.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:At,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:At,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:st,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:st,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:st,types:[n.U.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:st,types:[n.U.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:st,types:[n.U.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:st},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:Re},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:Re},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:Re},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:Re},{types:[n.U.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalText"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:Re},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"direction"},version:Re},{types:[n.U.kpi],property:{objectName:"period",propertyName:"show"},version:Re},{types:[n.U.kpi],property:{objectName:"period",propertyName:"fontSize"},version:Re},{types:[n.U.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:Re},{types:[n.U.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:Re},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"webURL"},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontFamily},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.categoryLabels,propertyName:t.iL.categoryLabelFontSize},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontFamily},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelFontSize},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelDisplayUnits},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataLabels,propertyName:t.iL.dataLabelPrecision},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarBackgroundColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarWidthPercent},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelHeaderBackgroundColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontFamily},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelTitleFontSize},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontColor},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontFamily},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.levelSubtitleFontSize},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.levelHeader,propertyName:t.iL.showSubtitles},version:R.v5_6},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.connectorDefaultColor},version:R.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:q},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:q},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:R.v5_8},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:R.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:ft},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:ft},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:ft},{property:{objectName:"y2Axis",propertyName:"secStart"},version:ft},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:ft},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:ft},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:ft},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:ft},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:ft},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:ft},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:ft},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:ft},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:ft},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:ft},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:ft},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:ft},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.barsPerLevel},version:ke},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Pt},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:Kt},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:nr,types:["filter"]},{types:[n.U.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:Jt=>Jt.value===m.KW},version:Qt},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:(Jt,ir)=>void 0!==di(ir)},version:R.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:(Jt,ir)=>void 0!==di(ir)},version:R.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:(Jt,ir)=>{var pr=di(ir);return void 0!==pr&&pr!==S._.InstancesOnly}},version:R.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:(Jt,ir)=>{var pr=di(ir);return void 0!==pr&&pr!==S._.InstancesOnly}},version:R.v5_9},{types:[n.U.actionButton],property:{objectName:"fill",propertyName:"image"},version:R.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:R.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:R.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:R.v5_10},{types:[n.U.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:R.v5_10},{types:[n.U.image,n.U.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:R.v5_10},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:R.v5_10},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:R.v5_10},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:Ct},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:Ct},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:xt},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:We},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:We},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:We},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:We},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"show"},version:We},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:We},{types:[n.U.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:We},{types:[n.U.textbox],property:{...g.PE.general.paragraphs,matchByContents:(Jt,ir)=>{if((0,M.pj)(Jt))for(var pr of Jt)if(pr&&!_.isEmpty(pr.textRuns))for(var yr of pr.textRuns)if((0,T.k9)(yr))return!0;return!1}},version:nt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.defaultClickAction},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.responsiveLayout},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.tree,propertyName:t.iL.effectiveBarsPerLevel},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.dataBarColor},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.axisStart},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.dataBars,propertyName:t.iL.axisEnd},version:Wt},{types:[n.U.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:Wt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:Ht},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"text"},version:lr},{types:[n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:kt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:mr},{property:{objectName:"dropShadow",propertyName:"*"},version:_r},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:Vr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Br},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Fr},{property:g.PE.values.expr,types:[n.U.textbox],version:Lr},{property:g.PE.values.formatString,types:[n.U.textbox],version:Lr},{types:[n.U.areaChart,n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:wr},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:wr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:vr},...["show","transform","displayName","markerShape","markerShapeSize","markerColor","confidenceBandStyle","confidenceBandColor","CategoryValue","Value","ExpectedValue","ExpectedLow","ExpectedHigh","BatchStart","BatchEnd","sensitivity","explainBy","isAnomalyHighlighted"].map(Jt=>({types:[n.U.lineChart],property:{objectName:"anomalyDetection",propertyName:Jt},version:Ur})),{types:[n.U.decompositionTreeVisual],property:{objectName:t.hC.insights,propertyName:t.iL.isAINode},version:Kr},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:Zr},{types:oa,property:{objectName:"subheader",propertyName:"fontFamily"},version:xr},{types:oa,property:{objectName:"subheader",propertyName:"fontSize"},version:xr},{types:oa,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:xr},{types:oa,property:{objectName:"subheader",propertyName:"alignment"},version:xr},{types:oa,property:{objectName:"subheader",propertyName:"position"},version:xr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:xr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:xr},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:xr},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:qr,types:[n.U.azureMap]},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Ir},{types:oa,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Ir},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Qr},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:kr},{types:oa,property:{objectName:"subheader",propertyName:"titleWrap"},version:hr},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:Or},{types:[n.U.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Xr},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:wt},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:wt},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:wt},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:wt},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:wt},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:wt},{types:na,property:{objectName:"subheader",propertyName:"fontFamily"},version:Et},{types:na,property:{objectName:"subheader",propertyName:"fontSize"},version:Et},{types:na,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Et},{types:na,property:{objectName:"subheader",propertyName:"alignment"},version:Et},{types:na,property:{objectName:"subheader",propertyName:"position"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:Et},{types:na,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:Et},{types:na,property:{objectName:"subheader",propertyName:"titleWrap"},version:Et},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:It},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:It},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:It},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:It},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:Xt},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:Xt},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:Xt},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:Xt},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:R.v5_21,types:[n.U.shape]},{types:[n.U.map,n.U.filledMap,n.U.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:gr},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:(Jt,ir)=>!ir||ir&&ir.data&&1===ir.data.length&&(0,u.z2)(ir.data[0])},version:ie},{types:[n.U.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:Jt=>{if(Jt){var pr=Jt.name;if(pr)return pr.value===p.pB}return!1}},version:Je},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:se},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:se},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:He},{types:fa,property:{objectName:"subheader",propertyName:"show"},version:G},{types:fa,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:R.v5_22},{types:fa,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:R.v5_22},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:zt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.funnel,n.U.map,n.U.filledMap,n.U.shapeMap,...ba],property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:zt},{types:[n.U.donutChart,n.U.pieChart,n.U.funnel,n.U.map,n.U.filledMap,n.U.treemap,...nn],property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:zt},{types:sn,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:zt},{types:ba,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:zt},{types:ba,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:zt},{types:ba,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:zt},{types:ba,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:zt},{types:Ar,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:zt},{types:ba,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:zt},{types:ba,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:zt},{types:ba,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:zt},{types:ba,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:zt},{types:Ar,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:zt},{types:Li,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:zt},{types:Li,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:zt},{types:[n.U.areaChart,n.U.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:zt},{types:[n.U.areaChart,n.U.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:zt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.multiRowCard,n.U.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:zt},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:zt},{types:[n.U.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:zt},{types:[n.U.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:zt},{types:[n.U.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:zt},{types:[n.U.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:zt},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:or},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:rr,types:[n.U.shape,n.U.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:Gt,types:[n.U.areaChart,n.U.columnChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:Gt,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:Gt,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:Gt,types:[n.U.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:Gt,types:[n.U.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Er},{property:{objectName:"text",propertyName:"leftMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:Ze,types:[n.U.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:ct,types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]},{types:[n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:ht},{types:[n.U.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:_t},{types:[n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:Vt},{types:[n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:Vt},{property:{objectName:"slices",propertyName:"startAngle"},version:Zt,types:[n.U.donutChart,n.U.pieChart]},{types:[n.U.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:tr},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"bold"},version:Tt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"italic"},version:Tt},{types:[n.U.azureMap,n.U.donutChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap,...Ar],property:{objectName:"legend",propertyName:"underline"},version:Tt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"bold"},version:Tt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"italic"},version:Tt},{types:[n.U.funnel,n.U.scatterChart,...Ar],property:{objectName:"categoryAxis",propertyName:"underline"},version:Tt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Tt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Tt},{types:[...Ar],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Tt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"bold"},version:Tt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"italic"},version:Tt},{types:[n.U.scatterChart,...Ar],property:{objectName:"valueAxis",propertyName:"underline"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleBold"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secBold"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secItalic"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Tt},{types:[...Ar],property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secBold"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secItalic"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Tt},{types:[...Ar],property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"bold"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"italic"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.donutChart,n.U.funnel,n.U.gauge,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,...Ar],property:{objectName:"labels",propertyName:"underline"},version:Tt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"bold"},version:Tt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"italic"},version:Tt},{types:[...Ar],property:{objectName:"seriesLabels",propertyName:"underline"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Tt},{types:[n.U.azureMap,n.U.card,n.U.multiRowCard,n.U.donutChart,n.U.scatterChart,n.U.pieChart,n.U.map,n.U.filledMap,n.U.shapeMap,n.U.treemap,n.U.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Tt},{types:[n.U.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Tt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Tt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Tt},{types:[n.U.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Tt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"bold"},version:Tt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"italic"},version:Tt},{types:[n.U.gauge],property:{objectName:"target",propertyName:"underline"},version:Tt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Tt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Tt},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"bold"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"italic"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"underline"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Tt},{types:[n.U.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Tt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Tt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Tt},{types:[n.U.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Tt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Tt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Tt},{types:[n.U.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Tt},{types:[n.U.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Tt},{types:[...Ar],property:{objectName:"subheader",propertyName:"bold"},version:Tt},{types:[...Ar],property:{objectName:"subheader",propertyName:"italic"},version:Tt},{types:[...Ar],property:{objectName:"subheader",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"values",propertyName:"underline"},version:Tt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"bold"},version:Tt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"italic"},version:Tt},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Tt},{types:[n.U.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Tt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Tt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Tt},{types:[n.U.barChart,n.U.columnChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Tt},{types:[n.U.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Tt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Tt},{property:{objectName:"title",propertyName:"bold"},version:Tt},{property:{objectName:"title",propertyName:"italic"},version:Tt},{property:{objectName:"title",propertyName:"underline"},version:Tt},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Tt},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Tt},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Tt},{types:[n.U.textbox],property:{...g.PE.general.paragraphs,matchByContents:(Jt,ir)=>{if((0,M.pj)(Jt))for(var pr of Jt)if(pr&&!_.isEmpty(pr.listType))return!0;return!1}},version:jt},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:we},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:we},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:we},{types:[n.U.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"show"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:we},{types:[n.U.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:we},{property:l.p.scorecard.showCommandBar,types:[n.U.scorecard],version:rt},{types:[n.U.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:Lt},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:gt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:Yt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:Yt},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:Yt},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Ot},{types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:Dr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:zr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:zr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:zr},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:zr},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:zr},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:zr},{types:[n.U.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:zr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:zr},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:zr},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:Wr},{property:{objectName:"legend",propertyName:"position",matchByContents:(Jt,ir)=>{var yr=Jt&&Jt.value;return yr===o.PA.TopRight||yr===o.PA.BottomRight}},version:ur,types:[n.U.areaChart,n.U.azureMap,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.donutChart,n.U.filledMap,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.map,n.U.pieChart,n.U.ribbonChart,n.U.scatterChart,n.U.shapeMap,n.U.stackedAreaChart,n.U.treemap,n.U.waterfallChart]},{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:Jt=>Jt.value===d.b},version:la},{types:[n.U.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:ua},{types:[n.U.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:va},{types:[n.U.lineChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],property:{objectName:"error",propertyName:"*"},version:ga},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:le},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:le},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:le},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:le},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:Pe},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:Pe},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:Pe},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:ue},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:ue},{types:[n.U.actionButton,n.U.shape,n.U.pageNavigator,n.U.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:ue},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:dt},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:dt},{types:[n.U.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:Ft},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:$t},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:$t},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:$t},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:$t},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:$t},{types:[n.U.scatterChart,n.U.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:$t},{types:[n.U.waterfallChart,n.U.treemap,n.U.lineChart,n.U.areaChart,n.U.columnChart,n.U.barChart,n.U.pieChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.donutChart,n.U.funnel,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:(Jt,ir)=>!_.isEmpty(ir?.data)},version:ha},{types:[n.U.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:(Jt,ir)=>!_.isEmpty(ir?.data)},version:ha},{types:[n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart,n.U.barChart,n.U.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:(Jt,ir)=>!_.isEmpty(ir?.data)},version:ha},{types:[n.U.barChart,n.U.columnChart,n.U.ribbonChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:fi},{types:[n.U.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:Jt=>{if(Jt){var pr=Jt.name;if(pr)return pr.value===p._9}return!1}},version:ka},{types:[n.U.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:za},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:Ra},{types:fa,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:xa},{types:fa,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:xa},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:Ya},{types:[n.U.tableEx,n.U.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:Va},{types:[n.U.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:Va},{types:[n.U.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:Va},{types:[n.U.textbox],property:{...g.PE.general.paragraphs,matchByContents:(Jt,ir)=>{if((0,M.pj)(Jt))for(var pr of Jt)if(pr&&!_.isEmpty(pr.indent))return!0;return!1}},version:Oa},{types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:Sa},{types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:Sa},{types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:Sa},{types:[n.U.lineChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:Sa},{types:[n.U.barChart,n.U.hundredPercentStackedBarChart,n.U.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:Ga},{property:{objectName:"padding",propertyName:"*"},version:Ca},{property:{objectName:"subTitle",propertyName:"*"},version:Ca},{property:{objectName:"divider",propertyName:"*"},version:Ca},{property:{objectName:"spacing",propertyName:"*"},version:Ca},{types:ln,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:Jt=>(0,h.wD)(Jt.value,h._g.v2_0)},version:Ba},{types:[n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:Pa},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:Pa},{types:[n.U.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:Pa},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:Xa},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:La},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:Na},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:Na},{types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:Na},{types:[n.U.scatterChart,n.U.map,n.U.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:$a},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:Jt=>!(Jt.value===v.c3.deprecated)},version:oi},...["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderTransparency"].map(Jt=>({types:[...Ta,...Ea,...Da],property:{objectName:"dataPoint",propertyName:Jt},version:da})),{types:[...Ta,...Ea,...Da,n.U.stackedAreaChart],property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:da},{types:[...Ta,...Ea,...Da],property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:da},{types:[...Ea,n.U.lineStackedColumnComboChart],property:{objectName:"layout",propertyName:"stackedGapSize"},version:da},{types:[n.U.barChart,n.U.columnChart,n.U.ribbonChart,...an],property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:da},{types:[n.U.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:da},{types:[n.U.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:da},{types:[n.U.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:da},{types:[n.U.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Ja},{types:Rr,property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleBold"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleColor"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleContentType"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleFontFamily"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleFontSize"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleItalic"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleTransparency"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"titleUnderline"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailBold"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailColor"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailFontFamily"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailFontSize"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailItalic"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailTransparency"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailUnderline"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"detailContentType"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"showBlankAs"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"transparency"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"wordWrap"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"labelContentLayout"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:Nr},{types:Rr,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:Nr},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:ya},{types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:ya},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},version:Fa},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:Jt=>{if(Jt){var pr=Jt.name;if(pr)return pr.value.endsWith(".wkt")||pr.value.endsWith(".kml")}return!1}},version:Fa},{types:[n.U.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Aa},...["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(Jt=>({types:[...Ta,n.U.lineClusteredColumnComboChart],property:{objectName:"layout",propertyName:Jt},version:_a})),{types:[...Ea,n.U.lineStackedColumnComboChart],property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:_a},{types:[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"ribbonBands",propertyName:"*"},version:_a},{types:[n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:_a},{types:[n.U.ribbonChart],property:{objectName:"totals",propertyName:"*"},version:_a},{types:[n.U.ribbonChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:_a},{types:Rr,property:{objectName:"labels",propertyName:"horizontalAlignment"},version:qa},...["leaderLineColor","leaderLineTransparency","leaderLineWidth"].map(Jt=>({types:[n.U.lineChart,n.U.areaChart],property:{objectName:"labels",propertyName:Jt},version:qa})),{types:[n.U.pivotTable,n.U.tableEx],property:{objectName:"columnFormatting",propertyName:"dataBars",matchByContents:(Jt,ir)=>null!=(Jt&&Jt.totalMatchingOption)},version:ei},...["strokeTransparency","interpolationStep","interpolationSmooth","interpolationSmoothParam","areaShow","areaColor","areaMatchStrokeColor"].map(Jt=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],property:{objectName:"lineStyles",propertyName:Jt},version:Ia})),{types:Da,property:{objectName:"dataPoint",propertyName:"transparency"},version:Ia},...[{objectName:"general",propertyName:"layout"},{objectName:"rowHeaders",propertyName:"repeatRowHeaders"},{objectName:"blankRows",propertyName:"showBlankRows"},{objectName:"blankRows",propertyName:"blankRowColor"},{objectName:"blankRows",propertyName:"blankRowTransparency"},{objectName:"blankRows",propertyName:"showBorder"},{objectName:"blankRows",propertyName:"borderPosition"},{objectName:"blankRows",propertyName:"borderColor"},{objectName:"blankRows",propertyName:"borderTransparency"},{objectName:"blankRows",propertyName:"borderWidth"}].map(Jt=>({types:[n.U.pivotTable],property:{objectName:Jt.objectName,propertyName:Jt.propertyName},version:ti})),..._.flattenDeep([["width","dashArray","dashCap","autoScale"].map(Jt=>({types:[n.U.scatterChart],property:{objectName:"ratioLine",propertyName:Jt},version:pa})),["width","strokeTransparency","dashArray","dashCap","autoScale"].map(Jt=>({types:[n.U.lineChart],property:{objectName:"forecast",propertyName:Jt},version:pa})),["strokeShow","strokeDashArray","strokeDashCap","strokeAutoScale"].map(Jt=>({types:[n.U.areaChart,n.U.lineChart,n.U.stackedAreaChart,n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart,n.U.hundredPercentStackedAreaChart],property:{objectName:"lineStyles",propertyName:Jt},version:pa})),["leaderLinePattern","leaderLineDashArray","leaderLineDashCap","leaderLineAutoScale"].map(Jt=>({property:{objectName:"labels",propertyName:Jt},types:[n.U.lineChart,n.U.areaChart],version:pa})),["gridLineTransparency","gridLineShow"].map(Jt=>({types:[...fa,n.U.hundredPercentStackedAreaChart],property:{objectName:"smallMultiplesLayout",propertyName:Jt},version:pa})),["width","dashArray","dashCap","autoScale"].map(Jt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.scatterChart,n.U.lineChart,n.U.areaChart],property:{objectName:"referenceLine",propertyName:Jt},version:pa})),["categoryAxis","valueAxis"].map(Jt=>[["gridlineTransparency","gridlineDashArray","gridlineDashCap","gridlineAutoScale"].map(ir=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.ribbonChart,n.U.scatterChart,..."valueAxis"===Jt?[n.U.waterfallChart]:[]],property:{objectName:Jt,propertyName:ir},version:pa}))]),["trend","xAxisReferenceLine","y1AxisReferenceLine"].map(Jt=>[["width","dashArray","dashCap","autoScale"].map(ir=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.ribbonChart,n.U.scatterChart,...["y1AxisReferenceLine"].includes(Jt)?[n.U.waterfallChart]:[]],property:{objectName:Jt,propertyName:ir},version:pa}))]),["bandLineShow","bandLineColor","bandLineTransparency","bandLineWidth","bandLinePattern","bandLineDashArray","bandLineDashCap","bandLineAutoScale","bandLineMatchColor","bandAreaShow","bandAreaMatchColor","bandAreaColor","bandAreaTransparency","matchSeriesInterpolation","interpolation","interpolationStep","interpolationSmooth","interpolationSmoothParam"].map(Jt=>({types:[n.U.lineChart],property:{objectName:"forecast",propertyName:Jt},version:pa}))]),{property:{objectName:"border",propertyName:"width"},version:ri},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"additionalDatasource",matchByContents:Jt=>{if(Jt){var pr=Jt.name;if(pr)return pr.value.endsWith(".csv")}return!1}},version:ai},{types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:"referenceLayerUrl",matchByContents:Jt=>!(0,r.VO)(Jt)},version:ii},...["bubbleFillColor","bubbleStrokeColor","bubbleStrokeWidth","bubbleStrokeTransparency","polygonFillColor","polygonStrokeColor","polygonStrokeWidth","polygonStrokeTransparency","lineStrokeColor","lineStrokeWidth","lineStrokeTransparency"].map(Jt=>({types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:Jt},version:cr})),...["show","position","color","transparency","width"].map(Jt=>({types:[n.U.bookmarkNavigator,n.U.pageNavigator],property:{objectName:"accentBar",propertyName:Jt},version:vi})),{types:on,property:{objectName:"error",propertyName:"markerShow"},version:Ni},{property:{objectName:"visualHeader",propertyName:"showSetAlertButton"},version:gi},{property:{objectName:"visualHeader",propertyName:"showFollowVisualButton"},version:Ai},{types:[n.U.advancedSlicerVisual],property:{objectName:"image",propertyName:"image",matchByContents:(Jt,ir)=>!_.isEmpty(ir.id)},version:yi},{types:[n.U.advancedSlicerVisual],property:{objectName:"selectionIcon",propertyName:"*"},version:Si},...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(Jt=>({types:[n.U.scatterChart,n.U.areaChart,n.U.lineChart,n.U.stackedAreaChart,n.U.hundredPercentStackedAreaChart],property:{objectName:"markers",propertyName:Jt},version:Ci})),...["markerTransparency","markerRotation","markerBorderShow","markerBorderColor","markerBorderColorMatchFill","markerBorderTransparency","markerBorderWidth","confidenceBandShow"].map(Jt=>({types:[n.U.lineChart],property:{objectName:"anomalyDetection",propertyName:Jt},version:Ci})),...["bubbleFillOpacity","polygonFillOpacity","unmappedObjectVisibility","unmappedObjectUseCustomColors","unmappedObjectFillColor","unmappedObjectStrokeColor"].map(Jt=>({types:[n.U.azureMap],property:{objectName:"referenceLayer",propertyName:Jt},version:Ei})),...["color","strokeWidth","strokeTransparency","minZoom","maxZoom"].map(Jt=>({types:[n.U.azureMap],property:{objectName:"pathLayer",propertyName:Jt},version:Di})),...["tilingMethod","innerPadding","outerPadding"].map(Jt=>({types:[n.U.treemap],property:{objectName:"layout",propertyName:Jt},version:ni})),...["transparency","rotation","borderShow","borderColor","borderColorMatchFill","borderTransparency","borderWidth"].map(Jt=>({types:[n.U.lineStackedColumnComboChart,n.U.lineClusteredColumnComboChart],property:{objectName:"markers",propertyName:Jt},version:Yi})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Jt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineChart,n.U.areaChart,n.U.scatterChart],property:{objectName:"referenceLine",propertyName:Jt},version:si})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Jt=>({types:[n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.barChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.ribbonChart,n.U.hundredPercentStackedAreaChart,n.U.scatterChart,n.U.waterfallChart],property:{objectName:"y1AxisReferenceLine",propertyName:Jt},version:si})),...["shadeShow","shadeColorMatchStroke","shadeRegion","shadeColor","shadeTransparency"].map(Jt=>({types:[n.U.scatterChart],property:{objectName:"xAxisReferenceLine",propertyName:Jt},version:si})),...["shadeShow","shadeColorMatchStroke"].map(Jt=>({types:[n.U.lineChart,n.U.areaChart,n.U.stackedAreaChart,n.U.barChart,n.U.columnChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.hundredPercentStackedColumnChart,n.U.hundredPercentStackedAreaChart,n.U.hundredPercentStackedBarChart,n.U.ribbonChart],property:{objectName:"xAxisReferenceLine",propertyName:Jt},version:si})),..._.flattenDeep(["displayName","value","position","show","lineColor","transparency","width","style","dashArray","dashCap","autoScale","dataLabelShow","dataLabelText","dataLabelColor","dataLabelColor","dataLabelDecimalPoints","dataLabelHorizontalPosition","dataLabelVerticalPosition","dataLabelDisplayUnits","shadeShow","shadeRegion","shadeColor","shadeColorMatchStroke","shadeTransparency"].map(Jt=>["y1AxisReferenceLine","referenceLine"].map(ir=>({types:"y1AxisReferenceLine"===ir?[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]:[n.U.lineClusteredColumnComboChart],property:{objectName:ir,propertyName:Jt},version:si})))),{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"value",propertyName:"verticalAlignment"},version:ui},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"value",propertyName:"text"},version:ui},{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},version:Ri},...["fillTransparency","borderShow","borderSize","borderColorMatchFill","borderColor","borderTransparency","borderOutlineOnly"].map(Jt=>({types:[n.U.donutChart,n.U.pieChart],property:{objectName:"dataPoint",propertyName:Jt},version:Xi})),{types:[n.U.textbox],property:{...g.PE.general.paragraphs,matchByContents:(Jt,ir)=>{if((0,M.pj)(Jt))for(var pr of Jt)if(pr&&!_.isEmpty(pr.textRuns))for(var yr of pr.textRuns)if((0,T.OX)(yr)&&yr.mentionEmail)return!0;return!1}},version:Ki},{types:[n.U.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:bi},{types:[n.U.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:bi},{types:[n.U.scorecard],property:{objectName:"visualization",propertyName:i.pl},version:bi},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:Ma},{types:[n.U.slicer,n.U.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:Ma},{property:{objectName:"visualLink",propertyName:"dataFunction"},version:$i},...["callout","highlight"].map(Jt=>({property:{objectName:"annotationTemplate",propertyName:Jt},version:Ji})),{types:[n.U.aiNarratives],property:{objectName:"userPrompt",propertyName:"useCurrentLocale"},version:Oi},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"actionState",propertyName:"*"},version:xi},{types:[n.U.advancedSlicerVisual,n.U.listSlicer],property:{objectName:"selection",propertyName:"restrictToLeafNodes"},version:xi},...["matchFillColor","rotationAlignment","markerType","imageSourceType","imageData","markerRotation","imageUrl"].map(Jt=>({types:[n.U.azureMap],property:{objectName:"bubbleLayer",propertyName:Jt},version:Zi})),{types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},version:Ri},...["showCountryRegionBorders","showAdminDistrictBorders","showAdminDistrict2Borders","showBuildingFootprints","showRoadDetails"].map(Jt=>({types:[n.U.azureMap],property:{objectName:"mapControls",propertyName:Jt},version:qi}))];function di(Jt){if(Jt&&!_.isEmpty(Jt.data)&&1===Jt.data.length&&(0,u.z2)(Jt.data[0]))return Jt.data[0].matchingOption}var cn=["minColor","midColor","maxColor","nullColor"];function pi(Jt){if(Jt instanceof f.wy)return!!_.find(cn,yr=>yr===Jt.value);if(Jt instanceof Object&&!(Jt instanceof Function)){var ir=Object.keys(Jt);for(var pr of ir)if(pi(Jt[pr]))return!0}return!1}var Jt,ir,pr,dn=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:R.v3_19,types:Vi},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[n.U.pivotTable],version:Mr},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[n.U.pivotTable],version:Sr,upgrader:O.VP,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[n.U.scatterChart],version:Cr,upgrader:O.XQ},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart],version:sr,upgrader:O.x3},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:sr,types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],upgrader:O.x3},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:er,types:[n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.ribbonChart,n.U.waterfallChart],upgrader:O.kH},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:er,types:[n.U.areaChart,n.U.barChart,n.U.clusteredBarChart,n.U.clusteredColumnChart,n.U.columnChart,n.U.hundredPercentStackedBarChart,n.U.hundredPercentStackedColumnChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.ribbonChart,n.U.scatterChart,n.U.stackedAreaChart,n.U.waterfallChart],upgrader:O.kH},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:er,types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.stackedAreaChart],upgrader:O.kH},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:er,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart],upgrader:O.kH},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:Pr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:Pr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:Pr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:Pr,types:[n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:Pr,types:[n.U.pivotTable,n.U.tableEx],upgrader:O.b6},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:Pr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:Pr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:Pr,types:[n.U.slicer,n.U.filterSlicer],upgrader:O.b6},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:Pr,types:[n.U.multiRowCard],upgrader:O.b6},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:sa,types:[n.U.areaChart,n.U.lineChart,n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart,n.U.scatterChart,n.U.stackedAreaChart],upgrader:O.kH,featureSwitch:"remainingCartesianCategoryLogAxisScale"},{currentId:{objectName:"lineStyle",propertyName:"stepped"},previousId:{objectName:"lineStyle",propertyName:"lineChartType"},version:R.v5_52,types:[...ci,...Da],upgrader:O.v0},{currentId:{objectName:"lineStyles",propertyName:"shadeArea"},previousId:{objectName:"lineStyles",propertyName:"areaShow"},version:Ia,types:[n.U.lineClusteredColumnComboChart,n.U.lineStackedColumnComboChart]}],Fi=(Jt=un,ir=dn,pr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:R.v4_2,upgrader:O.SF},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:R.v5_1,upgrader:O.SF},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:R.v5_1,upgrader:O.SF},{property:{objectName:"filterCard",propertyName:"textSize"},version:R.v5_1,upgrader:O.SF}],y.Y.assert(()=>!_.find(ir,yr=>_.find(Jt,$r=>(!yr.types||!$r.types||_.find(yr.types,Hr=>_.find($r.types,ta=>ta===Hr)))&&$r.property.objectName===yr.previousId.objectName&&$r.property.propertyName===yr.previousId.propertyName&&(0,a.lt)($r.version,yr.version))),"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(Jt){for(var ir={},pr=function($r){var Jr=Jt[$r];if(y.Y.assert(()=>!$r||!(0,a.lt)(Jr.version,Jt[$r-1].version),"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=Jr.types)for(var Hr of Jr.types)Ui(Hr,Jr,ir);else Ui(i.pl,Jr,ir)},yr=0;yr<Jt.length;yr++)pr(yr);return ir}(Jt),renamed:function(Jt){for(var ir={},pr=function(Jr){var Hr=Jt[Jr];if(y.Y.assert(()=>Hr.currentId.objectName!==Hr.previousId.objectName||Hr.currentId.propertyName!==Hr.previousId.propertyName,"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),y.Y.assert(()=>!Jr||!(0,a.lt)(Hr.version,Jt[Jr-1].version),"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=Hr.types)for(var ta of Hr.types)Pi(ta,Hr,ir);else for(var ma in Pi(i.pl,Hr,ir),ir)Pi(ma,Hr,ir)},yr=0,$r=Jt.length;yr<$r;yr++)pr(yr);return ir}(ir),updated:pr});function Pi(Jt,ir,pr){var yr=pr[Jt];pr[Jt]||(yr=pr[Jt]={});var $r=ir.currentId.objectName,Jr=yr[$r];Jr||(Jr=yr[$r]={});var Hr=ir.previousId,ta=(ra,ia)=>{var ja=ra&&ra[ia.objectName];return ja&&ja[ia.propertyName]},ma=ta(yr,Hr)||ta(pr[i.pl],Hr);Jr[ir.currentId.propertyName]={...ir,previous:ma}}function Ui(Jt,ir,pr){var yr=pr[Jt];pr[Jt]||(yr=pr[Jt]={});var $r=ir.property.objectName,Jr=yr[$r];Jr||(Jr=yr[$r]={});var Hr=ir.property.propertyName,ta=Jr[Hr];ta||(ta=Jr[Hr]=[]),ta.push(ir),y.Y.assert(()=>1===ta.length||!(0,a.lt)(ta[ta.length-1].version,ta[ta.length-2].version),"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function mn(Jt,ir,pr,yr,$r){var Jr=_.some($r,ta=>(0,r.$M)(ta.expr))?{hasVisualCalc:!0,allSelects:$r}:{hasVisualCalc:!1},Hr=new B(Jr);return(0,c.bY)({definitions:Jt,descriptors:ir,visitor:(ta,ma,ra,ia)=>{yr=(0,a.T9)(U.getVersionForSQExprWithDescriptor(ta,ia,Jr),yr)},structuralObjectVisitor:(ta,ma,ra,ia,ja)=>{(Jr?.hasVisualCalc||ia?.fill?.solid?.color)&&((0,M.Hx)(ta,Hr),yr=(0,a.T9)(Hr.getVersion(),yr))}}),(0,c.po)(Jt,ir,(ta,ma,ra,ia,ja)=>{var hi=()=>{var zi=(0,c._W)(Jt,{objectName:ia,propertyName:ma},ra);if(zi){var gn=(0,E.TW)(zi,ra,$r);if(!_.isEmpty(gn))return!0}return!1},ji=!_.isEmpty(ra?.metadata)&&Jr.hasVisualCalc&&Jr.allSelects.withName(ra.metadata);ji&&(0,r.$M)(ji.expr)&&hi()&&(yr=(0,a.T9)(Wa,yr));var ki=ta[ma];yr=(0,a.T9)(yr,(0,i.PP)(Fi.added,ki,ra,pr,ia,ma,yr,hi)),(0,c.JZ)(ki)&&(yr=(0,a.T9)(yr,Lr)),ra&&ra.hierarchyMatching===C.v.Partial&&(yr=(0,a.T9)(yr,ui))}),yr}function Mi(Jt,ir){y.Y.assertValue(Jt,"selectRefExpr should be defined"),y.Y.assertValue(ir,"visualCalcInfo should be defined");var pr=Jt.expressionName,yr=ir?.hasVisualCalc?ir.allSelects.withName(pr):void 0;return yr?.expr&&(0,r.$M)(yr.expr)}function Wi(Jt,ir){return y.Y.assertValue(Jt,"expr should be defined"),y.Y.assertValue(ir,"visualCalcInfo should be defined"),ir.hasVisualCalc&&(0,r.Gv)(Jt)&&Mi(Jt,ir)}},588308:function(me,j,e){e.d(j,{JF:function(){return D},Qo:function(){return V},SF:function(){return c},SG:function(){return R},Tc:function(){return f},Uj:function(){return L},VP:function(){return C},XQ:function(){return S},b6:function(){return E},gp:function(){return W},kH:function(){return p},rc:function(){return B},v0:function(){return u},x3:function(){return y},zG:function(){return U}});var r=e(662785),i=e(997519),a=e(803803),t=e(680626),l=e(798122),g=e(785463),n=e(123198),d=e(446024),s=e(249521),h=e(857327),o=e(471740),v=e(254595);function m(z){return Math.round(100*n.V4.toPoint(z))/100}function p(z){return void 0!==z&&"log"===z}function y(z){return void 0!==z&&"Right"===z}function S(z){return z?a.Zw.fillOnly:a.Zw.borderOnly}function C(z){return!z}function u(z){return z?l.TV.step:l.TV.linear}function E(z){switch(z){case t.dv:return t.JL.Nil;case t.G7:return t.JL.Top;case t.yk:return t.JL.Bottom;case t.M4:return t.JL.Left;case t.X_:return t.JL.Right;case t.$O:return t.JL.Top|t.JL.Bottom;case t.U0:return t.JL.Left|t.JL.Right;case t.Gt:return t.JL.Top|t.JL.Right|t.JL.Bottom|t.JL.Left;default:return g.Y.assertFail("unexpected outline type"),t.JL.Nil}}function c(z){switch(typeof z){case"string":z=+z;case"number":return g.Y.assert(()=>!isNaN(z),"pxToPt upgrader encountered NaN"),m(z);default:return g.Y.assertFail("pxToPt upgrader encountered non-numerical parameter"),z}}function f(z){z&&(z.objects&&function(z){if(z)for(var H of b)V(z,H)}(z.objects),z.vcObjects&&function(z){if(z){var H=z.visualTooltip&&z.visualTooltip[0]&&z.visualTooltip[0].properties;if(H){var Z=H.fontSize;if(Z)if(N(Z))H.fontSize=B(Z);else{var k=i.F3.deserializeExpr(Z.expr);H.fontSize=U(B(k))}}}}(z.vcObjects))}function D(z){z&&z.objects&&z.visualType===h.U.textbox&&function(z){if(z){var H=P(z,"general");if(H){var Z=H.paragraphs;for(var k of Z)for(var K of k.textRuns)if((0,s.OX)(K)&&K.textStyle&&K.textStyle.fontSize){var ee=K.textStyle.fontSize,Q=ee.indexOf("px");if(-1!==Q){var J=+ee.substr(0,Q);K.textStyle.fontSize=m(J)+"pt"}}}}}(z.objects)}var b=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function V(z,H){var Z=P(z,H.objectName);if(Z){var k=Z[H.propertyName];if(k)if(N(k))Z[H.propertyName]=B(k);else{var K=i.F3.deserializeExpr(k.expr);Z[H.propertyName]=U(B(K))}}}function w(z,H){if(z)return z[H]||(z[H]=[]),-1===z[H].findIndex(k=>null==k.selector)&&z[H].push({properties:{}}),P(z,H)}function P(z,H){if(z){var Z=z[H];if(Z)for(var k of Z)if(null==k.selector)return k.properties}}function N(z){return z instanceof d.yj&&(0,r.VO)(z)}function R(z){if(z&&!_.isEmpty(z.rowHeaders)){var k,K,H=P(z,"rowHeaders"),Z=H?.stepped;Z&&(N(Z)?(k=d.wy.getBooleanValue(Z),K=!1):(k=L(Z),K=!0));var J,ee=P(z,"subTotals"),Q=ee?.rowSubtotalsPosition;Q&&(J=N(Q)?d.wy.getTextValue(Q):L(Q)),!0===k?Y(z,o.$.Compact,K):!1===k&&(J===v.Mn?Y(z,o.$.Outline,K):(g.Y.assert(()=>void 0===J||J===v.sQ,"Unexpected rowSubtotalsPosition value"),Y(z,o.$.Tabular,K))),void 0!==k&&delete H.stepped,_.isEmpty(H)&&delete z.rowHeaders}}function W(z,H,Z){if("table"===z.visualType||"matrix"===z.visualType){if(F(z.objects,"general","textSize","grid"),F(z.objects,"general","autoSizeColumnWidth","columnHeaders"),"table"===z.visualType&&(z.visualType="tableEx",F(z.objects,"general","totals","total")),"matrix"===z.visualType&&Z)if(z.objects||(z.objects={}),z.visualType="pivotTable",F(z.objects,"general","columnSubtotals","subTotals"),F(z.objects,"general","rowSubtotals","subTotals"),Y(z.objects,o.$.Tabular,H),H)z.projections?.Rows?.forEach(ee=>ee.active=!0);else{var k=z.query?.projections?.Rows?.all().length;null!=k&&z.query.setActiveProjections(["Rows"],k)}if(null!=z.objects?.general){var K=z.objects.general.findIndex(ee=>null==ee.selector);K>=0&&(_.isEmpty(z.objects.general[K].properties)&&z.objects.general.splice(K,1),_.isEmpty(z.objects.general)&&delete z.objects.general)}}}function F(z,H,Z,k){var K=P(z,H);null!=K?.[Z]&&(w(z,k)[Z]=K[Z],delete K[Z])}function U(z){return{expr:i.F3.serializeExpr(z)}}function B(z){var Z=m(z.value);return(0,d._)(Z)}function L(z){if(z&&"expr"in z)return i.F3.deserializeExpr(z.expr).value}function Y(z,H,Z){g.Y.assertValue(z,"setMatrixLayout requires object to be defined");var k=w(z,"general"),K=(0,d.Qq)(H);k.layout=Z?U(K):K}},70989:function(me,j,e){e.d(j,{bH:function(){return t},fG:function(){return g},h6:function(){return n}});var r=e(587814),i=e(785463),a=e(980553);function t(){return new l}class l{constructor(){}upgrade(s){if(i.Y.assertValue(s,"exploration"),s)for(var h of s.sections)for(var o of h.visualContainers){var v=o.config.singleVisual;if(v){var m=v.objects;if(!n(v.visualType))continue;g(m);var y=(0,r.p)(o.dataTransforms);y&&(g(y.objects),o.dataTransforms=JSON.stringify(y))}}}upgradeFilterCollection(){}upgradeVisualObjects(s,h,o,v){}getVersion(){return a.ZNK.v3_19}}function g(d){var s="dataPoint",h="defaultCategoryColor";if(d&&d[s])for(var v of d[s])null==v.selector&&v.properties[h]&&(v.properties.fill=v.properties[h],delete v.properties[h])}function n(d){return _.includes(a.$xZ,d)}},771649:function(me,j,e){e.d(j,{_y:function(){return y},bH:function(){return s}});var r=e(419216),i=e(997519),a=e(587814),t=e(785463),l=e(46143),g=e(118307),n=e(446024),d=e(980553);function s(f){return new h(f)}class h{constructor(D){this.featureSwitchService=D}upgrade(D){if(t.Y.assertValue(D,"exploration"),D)for(var b of D.sections)for(var T of b.visualContainers){var M=T.config.singleVisual;if(M){var V=M.visualType,w=M.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(M.objects=o(M.objects,w,V),S(M.objects,w,V,M.prototypeQuery));var P=(0,a.p)(T.dataTransforms);P&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(P.objects=o(P.objects,w,V),S(P.objects,w,V,M.prototypeQuery)),T.dataTransforms=JSON.stringify(P))}}}upgradeFilterCollection(){}upgradeVisualObjects(D,b,T,M){}getVersion(){return d.IjO}}function o(f,D,b){var T=v(b),M=D&&!_.isEmpty(D[T]);return"scatterChart"===b&&M&&null==(0,r.Gs)(f,"fillPoint")&&(f||(f={}),f.fillPoint=[{properties:{show:{expr:i.F3.serializeExpr((0,n.zM)(!0))}}}]),f}function v(f){switch(f){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function m(f){switch(f){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function p(f,D){return"filledMap"===f&&D&&!_.isEmpty(D.Series)&&!_.isEmpty(D.Size)}function y(f,D,b){var V=v(b);if(V){var w=D?.getQueryRef(V,{fieldIndex:0});if(w){t.Y.assertValue(D.defn,"upgradeGradientOnObjectDef - semantic query should exist");var P=D.defn.select().withName(w);t.Y.assertValue(P,"upgradeGradientOnObjectDef - query named expr should exist");var N=f&&f.dataPoint;if(!_.isEmpty(N))for(var I of N){var O=I.properties.fillRule;if(null==I.selector&&O){if(p(b,D.projections)||N.push({selector:{data:[(0,g.vt)(l._.InstancesOnly)]},properties:{fill:{solid:{color:(0,n.Kf)(P.expr,O)}}}}),N.splice(N.indexOf(I),1),1===D.getUsageCount(w)){var R=D.tryGetExpr(V,0),W=m(b);t.Y.assertValue(W,"tooltips role should exist for visuals with gradient upgrade."),D.add(R,W)}D.removeProjection(V,{fieldIndex:0});break}}}}}function S(f,D,b,T){var V="fillRule",P=v(b);if(P){var N=D&&D[P];if(!_.isEmpty(N)){var I=N[0].queryRef;if(I){var O=_.cloneDeep(_.find(T&&T.Select,L=>L.Name===I));if(O){delete O.Name;var R=O.Aggregation||O.Measure;if(R){var W=R.Expression.Column&&R.Expression.Column.Expression.SourceRef||R.Expression.SourceRef;if(W){var F=_.find(T.From,L=>L.Name===W.Source);if(F){W.Entity=F.Entity,delete W.Source;var U=f&&f.dataPoint;if(!_.isEmpty(U))for(var B of U)if(null==B.selector&&B.properties[V]){if(!p(b,D)){var x=_.cloneDeep(B.properties[V]);U.push({selector:{data:[{dataViewWildcard:{matchingOption:l._.InstancesOnly}}]},properties:{fill:{solid:{color:{expr:{FillRule:{FillRule:c(x),Input:O}}}}}}})}if(U.splice(U.indexOf(B),1),delete D[P],!C(I,D)){var A=m(b);t.Y.assertValue(A,"tooltips role should exist for visuals with gradient upgrade."),D[A]||(D[A]=[]),D[A].push(...N||[])}break}}}}}}}}}function C(f,D){for(var b in D)if(_.some(D[b],M=>M.queryRef===f))return!0;return!1}function u(f){f.color&&(f.color=f.color.expr),f.value&&(f.value=f.value.expr),f.strategy&&(f.strategy=f.strategy.expr)}function E(f){u(f.min),u(f.max),f.mid&&u(f.mid),f.nullColoringStrategy&&u(f.nullColoringStrategy)}function c(f){return f.linearGradient2&&E(f.linearGradient2),f.linearGradient3&&E(f.linearGradient3),f}},735615:function(me,j,e){e.d(j,{S:function(){return r},p:function(){return i}});var r=function(a){return a[a.Visual=1]="Visual",a[a.VisualContainer=2]="VisualContainer",a}({}),i=function(a){return a[a.Visual=1]="Visual",a[a.VisualContainer=2]="VisualContainer",a}({})},120710:function(me,j,e){e.d(j,{y:function(){return i}});var r=e(201991);function i(t){return new a(t)}class a{constructor(l){this.downgraders=l}getFinalVisualObjectsVersion(l,g,n,d){for(var s of this.downgraders)n=(0,r.T9)(n,s.getMinDowngradeVersionForVisualObjects(l,g,d));return n}downgrade(l,g,n,d){for(var s of this.downgraders)s.downgradeVisualObjects(l,g,n,d)}}},975271:function(me,j,e){e.d(j,{t:function(){return i}});var r=e(201991);function i(t){return new a(t)}class a{constructor(l){this.upgraders=l}upgrade(l,g,n,d){for(var s of this.upgraders){var h=s.getVersion();(0,r.gt)(h,d)&&s.upgradeVisualObjects(l,g,n,d)}}}},846444:function(me,j,e){e.d(j,{i:function(){return l},l:function(){return g}});var r=e(715604),i=e(587814),a=e(785463),t=e(240997);function l(n,d,s,h){a.Y.assertValue(n,"input");var o=[],v={objectId:n.objectId,name:n.objectId,type:n.type};n.creationTime&&(v.creationTime=new Date(Date.parse(n.creationTime))),n.expirationTime&&(v.expirationTime=new Date(Date.parse(n.expirationTime))),n.displayName&&(v.displayName=n.displayName),n.isDefault&&(v.isDefault=n.isDefault),null!=n.id&&(v.id=n.id);try{var m;n.explorationState&&((m=(0,i.p)(n.explorationState))||o.push({code:r.C.JSONSerialization})),m&&(v.explorationState=(0,t.iu)(m,d,s,h))}catch(y){o.push({code:r.C.ExplorationStateSerialization,message:y.message,stack:y.stack})}var p={contract:v};return _.isEmpty(o)||(p.errors=o),p}function g(n,d,s,h,o){a.Y.assertValue(n,"input");var v={objectId:n.objectId,type:n.type};if(n.creationTime&&(v.creationTime=n.creationTime.toISOString()),n.expirationTime&&(v.expirationTime=n.expirationTime.toISOString()),n.displayName&&(v.displayName=n.displayName),n.isDefault&&(v.isDefault=n.isDefault),null!=n.id&&(v.id=n.id),n.explorationState){var m=(0,t.lK)(n.explorationState,d,h,o,s);v.explorationState=JSON.stringify(m)}return v}},424634:function(me,j,e){e.d(j,{A:function(){return i}});var r=e(785463);function i(){return new a}class a{constructor(){this.isPaused=!1}register(l){for(var g=Object.create({}),n=l;n;)Object.getOwnPropertyNames(n).forEach(s=>{if("function"==typeof n[s]&&"constructor"!==s){if(void 0!==g[s])return;g[s]=n[s].bind(g)}}),n=Object.getPrototypeOf(n);return this.updateService(g),g}pause(){this.isPaused=!0}resume(){this.isPaused=!1}updateService(l){var g=this;r.Y.assertAnyValue(l,"service");var n=function(){if(_.isFunction(l[d])){var s=l[d],h=g;l[d]=function(){if(!h.isPaused)return s.apply(l,arguments)}}};for(var d in l)n()}}},376350:function(me,j,e){e.d(j,{A:function(){return y}});var r=e(658577),i=e(847735),a=e(376944),t=e(785463),l=e(147293),g=e(425023),n=e(709099),d=e(610013),s=e(446024),h=e(669129),o=e(691605),v=e(999104),m=e(712813),p=e(978450);function y(E,c,f){return new S(E,c,f)}var S=(()=>{class E{constructor(f,D,b){t.Y.assertValue(f,"displayNameService"),t.Y.assertValue(b,"visualPluginService"),this.displayNameService=f,this.featureSwitches=D,this.visualPluginService=b}getSortableFields(f){t.Y.assertValue(f,"options");var D=f.visualType,b=this.visualPluginService.capabilities(D);if(!b||!this.isVisualSortable(b))return{sortableFields:[],sortGroups:[]};var T=this.createIsRoleSortableDelegate(D,f.compiledMappings);return this.getGroupedSortableFieldsFromProjections(f.query,f.schema,b,f.columnProperties,T)}createIsRoleSortableDelegate(f,D){var b=this.visualPluginService.getPlugin(f),T=this.visualPluginService.capabilities(f);if(!b.getSortableRoles||!T.sorting)return V=>!0;var M=b.getSortableRoles({dataViewMappings:D});return _.isEmpty(M)?V=>!1:V=>M.indexOf(V)>=0}addSort(f,D){f&&f.defn&&D&&(f.defn=f.defn.orderBy(D))}removeSort(f,D){if(f&&f.defn&&D)for(var b of D)f.defn=f.defn.removeOrderBy(b.expr)}resetSort(f){if(f&&f.defn){var D=f.defn.orderBy();this.removeSort(f,D)}}applyImplicitSort(f,D){if(t.Y.assertValue(f,"query"),t.Y.assertAnyValue(D,"implicitSort"),!D)return f;var b=f.defn;if(!b)return f;var T=D.clauses,M=b.select(),V=[];for(var w of T){var P=(0,g.Lw)(f.projections,w.role);if(P){var N=w.direction;V.push(..._.map(P.all(),I=>({expr:M.withName(I.queryRef).expr,direction:N})))}}return _.isEmpty(V)?f:new v.r(b.orderBy(V),f.projections,f.expansionStates,f.isDrillDisabled)}shouldApplyDefaultSort(f,D){if(D.sorting?.custom||D.sorting?.implicit)return!1;var b=f.query;if(!b)return!1;var T=(0,m.L)(b),M=(0,n.i7)(b.projections,D.dataViewMappings,T,this.featureSwitches.featureSwitches),V=M?.supportedMappings?.[0];return!(V?.matrix&&(0,a.ES)(V))&&(f.hasDefaultSort||_.isEmpty(f.query.defn.orderBy()))}ensureValidSorting(f){t.Y.assertValue(f,"options");var D=f.query,b=D.defn;if(!b)return D;var T=b.orderBy();if(_.isEmpty(T))return D;var M=this.getSortableFields(f).sortableFields,V=[];if(!_.isEmpty(M))for(var w of M)V.push(...this.createSortDefinitions(w));for(var P=!1,N=function(O){if(_.find(V,R=>(0,p.aI)(R.expr,T[O].expr)))return 1;T.splice(O,1),P=!0},I=T.length-1;I>=0;I--)N(I);return P?new v.r(b.orderBy(T),D.projections,D.expansionStates,D.isDrillDisabled):D}isVisualSortable(f){return _.some(f.dataRoles,D=>D.kind!==l.Ts.Measure)}getGroupedSortableFieldsFromProjections(f,D,b,T,M){var V=f.defn.select(),w=f.defn.orderBy(),P=(0,m.L)(f),N=(0,n.i7)(f.projections,b.dataViewMappings,P,this.featureSwitches.featureSwitches),O=new u(M,(W,F,U,B)=>{var x=f.getRolesActiveProjectionsRefs([W],!1,!0);return _.isEmpty(x)?[]:this.createSortableFieldsForQueryRefs(D,V,x,w,b,T,U!==C.Independent,F,B)});if(N.supportedMappings)for(var R of N.supportedMappings)R.matrix&&(0,a.ES)(R)?(0,d.L$)(R.matrix,O):R.categorical&&(0,d.gF)(R.categorical,O);return _.isEmpty(O.groups)?this.getDefaultGroupSortableFieldsFromProjections(f,N,D,b,T,M):{sortableFields:O.allSortableFields,sortGroups:O.groups}}getDefaultGroupSortableFieldsFromProjections(f,D,b,T,M,V){t.Y.assertNonEmpty(T.dataRoles,"Unexpected empty dataRoles");var w=[],P=f.defn.select(),N=f.defn.orderBy(),I=_.some(D.supportedMappings,x=>x.categorical);for(var O of T.dataRoles){var R=O.name;if(V(R)){var W=f.getRolesActiveProjectionsRefs([R],!1,!0);if(!_.isEmpty(W)){var F=!_.isEmpty(f.projections[R].activeProjectionRefs),B=this.createSortableFieldsForQueryRefs(b,P,W,N,T,M,I&&F,E.DefaultSortGroupKey);w.push(...B)}}}return this.createResultWithSortGroup(w)}createSortableFieldsForQueryRefs(f,D,b,T,M,V,w,P,N){var R,I=this,O=!1,W=Number.MAX_VALUE,F=[],U=[],B=[],x=function(){var Y=D.withName(A),z=Y?.expr;if(!z||!h.B.isExprValidForSorting(z))return 1;var H=I.getDisplayNameFromQueryRef(f,D,A,M,V),Z=I.applySortingScope(z,N),k=_.findIndex(T,K=>(0,p.aI)(K.expr,Z));k!==o.XB&&(W=Math.min(W,k)),w?((O=O||k!==o.XB)&&!R&&(t.Y.assert(()=>k!==o.XB,"invalidSortExprIndex"),R=T[k].direction),U.push({name:A,expr:z}),B.push(H)):F.push({displayName:H,exprs:[Y],active:O=k!==o.XB,orderByIndex:O?k:void 0,sortDirection:R=O?T[k].direction:void 0,groupKey:P,scope:N})};for(var A of b)x();return w?_.isEmpty(U)?[]:[{displayName:B.join(" "),exprs:U,active:O,orderByIndex:O?W:void 0,sortDirection:O?R:void 0,groupKey:P,scope:N}]:F}getDisplayNameFromQueryRef(f,D,b,T,M){var V=D.withName(b)?.expr;return V?this.displayNameService.getDisplayName(V,f,T,b,M):""}createResultWithSortGroup(f){var D=[];return _.isEmpty(f)||D.push({key:E.DefaultSortGroupKey,displayName:null,fields:f,isDefaultGroup:!0}),{sortableFields:f,sortGroups:D}}createSortDefinitions(f){var D=[];for(var b of f.exprs)D.push({expr:this.applySortingScope(b.expr,f.scope),direction:f.sortDirection??r.U.Descending});return D}applySortingScope(f,D){return _.isEmpty(D)?f:(0,s.bg)(f,D)}}return E.DefaultSortGroupKey="Default",E})(),C=function(E){return E[E.Independent=0]="Independent",E[E.Combined=1]="Combined",E}({}),u=(()=>{class E{constructor(f,D){this.isRoleSortable=f,this.getSortableFieldsForRole=D,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}visitRole(f,D){if(this.isRoleSortable(f))switch(D){case d.Dh.MatrixColumnsGroup:case d.Dh.CategoricalSeries:this.addRole(f,i.c.Legend,C.Combined);break;case d.Dh.MatrixRowsGroup:return void this.addRole(f,f,C.Combined);case d.Dh.CategoricalCategory:return void this.addRole(f,i.c.Category,C.Combined);case d.Dh.MatrixIntersection:case d.Dh.MatrixRowsScopedValue:return void this.addRole(f,i.c.Rows,C.Independent,!0,[(0,s.a3)("Rows")]);case d.Dh.CategoricalValue:case d.Dh.CategoricalValueGroup:return void this.addRole(f,i.c.Category,C.Independent,!0);default:return void t.Y.assertFail("Unexpected context: "+D)}}addRole(f,D,b,T=!1,M){var V;if(T){if(!(V=_.find(this.groups,P=>P.key===D)))return}else V={key:D,displayName:E.RoleToSortGroupDisplayName[D],fields:[]};var w=this.getSortableFieldsForRole(f,D,b,M);_.isEmpty(w)||(_.includes(this.uniqueRoles,f)||(this.allSortableFields.push(...w),this.uniqueRoles.push(f)),V.fields.push(...w),!T&&!_.includes(this.uniqueGroupKeys,V.key)&&(this.groups.push(V),this.uniqueGroupKeys.push(V.key)))}visitReduction(){}enterComposite(){}exitComposite(){}}return E.RoleToSortGroupDisplayName={[i.c.Rows]:"Sort_Group_Small_multiples",[i.c.Category]:"Sort_Group_Axis",[i.c.Legend]:"Sort_Group_Legend"},E})()},173468:function(me,j,e){e.d(j,{Uy:function(){return s},Wi:function(){return o},nq:function(){return d}});var r=e(748958),i=e(785463),a=e(899448),t=e(168376),l=e(98339),g=e(402389),n=e(662785);function d(S,C,u,E,c){return new y(S,C,u,E,c)}function s(S,C,u,E){i.Y.assertValue(E,"references"),i.Y.assertAnyValue(C,"descriptors"),S&&(0,t.bY)({definitions:S,descriptors:C,visitor:c=>{if((0,n.cd)(c)){var f=(0,g.uN)(u,c.packageType,c.packageName),D=(0,g.AU)(f,c.itemName);D&&o(E,f.name,f.type,D.name,D.type)}}})}function h(S,C,u){return i.Y.assertValue(S,"references should exist."),S[C]||(S[C]={items:{},name:C,type:u}),S[C]}function o(S,C,u,E,c){i.Y.assertValue(S,"references should exist.");var f=h(S,C,u).items;return f[E]=f[E]||{name:E,type:c}}function v(S,C,u){var E=S[C];return E&&E.items&&E.items[u]}function p(S,C){for(var u in S){var E=S[u];for(var c in E.items)C(E,E.items[c])}}class y{constructor(C,u,E,c,f){this.promiseFactory=C,this.resourceLoader=u,this.explorationNavigation=E,this.explorationSerializer=c,this.resourceRegistration=f,this.restorableReferenceSources=[],this.preservedReferences={}}addReferenceSource(C){this.restorableReferenceSources.push(C)}removeReferenceSource(C){_.pull(this.restorableReferenceSources,C)}garbageCollectUnreferencedStaticResources(){var C=this.explorationNavigation.getCurrentExploration(),u=C&&C.resourcePackages;if(u){for(var E=this.explorationSerializer.getReferencedStaticResources(C),c=this.getRestorableReferences(),f=[],D=u.length-1;D>=0;D--){var b=u[D];(0,g.xD)(b)&&(this.garbageCollectItems(b,E,this.preservedReferences,c,f),_.isEmpty(b.items)&&_.pull(u,b))}return _.isEmpty(u)&&delete C.resourcePackages,this.cleanPreservedReferences(E,c),f}}cleanPreservedReferences(C,u){p(this.preservedReferences,(E,c)=>{(v(C,E.name,c.name)||!v(u,E.name,c.name))&&function(S,C,u){var E=S[C];if(E){var c=E.items;delete c[u],0===_.size(c)&&delete S[C]}}(this.preservedReferences,E.name,c.name)})}getRestorableReferences(){var C={};for(var u of this.restorableReferenceSources)p(u.getReferences(),(E,c)=>{o(C,E.name,E.type,c.name,c.type)});return C}garbageCollectItems(C,u,E,c,f){i.Y.assertValue(C,"Resource package should exist in order to be garbage collected"),i.Y.assertValue(u,"referencedResources should exist in order to garbage collect items"),i.Y.assertValue(E,"perservedReferences should exist in order to garbage collect items"),i.Y.assertValue(c,"restorableReferences should exist in order to garbage collect items"),i.Y.assertValue(f,"unreferencedResources should exist in order to garbage collect items");for(var D=C.items,b=C.name,T=_.size(D)-1;T>=0;T--){var M=D[T],V=M.name;v(u,b,V)||(v(c,b,V)&&this.preserveItem(C,V,M.type),f.push(b+"/"+M.path),_.pull(D,M))}}preserveItem(C,u,E){var c=o(this.preservedReferences,C.name,C.type,u,E);c.uri||(c.uri=(0,l.Pu)(C,u,this.resourceLoader,this.promiseFactory).then(f=>((0,a.V0)(f)||(f=(0,a.Xn)(f)),f)))}loadItemsContent(C){var u=this,E=[],c=this.explorationNavigation.getCurrentExploration(),f=c&&c.resourcePackages;for(var D in C){var b=C[D];if(b.type===r.X.RegisteredResources){var T=b.items,M=function(){var w=T[V];E.push((0,l.Pz)(u.promiseFactory,u.resourceLoader,f,w.name).then(P=>{w.content=P}))};for(var V in T)M()}}return this.promiseFactory.all(E).then(()=>{})}addItemsContent(C){var u=this.explorationNavigation.getCurrentExploration();for(var E in C){var c=C[E],f=c.items;for(var D in f){var b=f[D];this.addResource(u.resourcePackages,E,c.type,b.name,b.type,b.content)}}}needingRestore(C){if(!_.isEmpty(C)){var u=this.explorationNavigation.getCurrentExploration();if(u){var E=u&&u.resourcePackages;if(!_.isEmpty(E)){var c={};return p(C,(f,D)=>{var b=f.name,T=D.name,M=v(this.preservedReferences,b,T);M&&!(0,g.by)(E,f.type,D.name,b)&&(h(c,b,f.type).items[T]=M)}),c}}}}addResource(C,u,E,c,f,D){(0,g.by)(C,E,c,u)||this.resourceRegistration.add(c,E,f,{content:D,skipUniqueName:!0})}restoreReferences(C){var u=this.needingRestore(C),E=[];return p(u,(c,f)=>{E.push(f.uri.then(D=>{this.resourceRegistration.restore(f.name,c.type,f.type,D)}))}),this.promiseFactory.all(E).then(()=>{})}}},120586:function(me,j,e){e.d(j,{z:function(){return i}});var r=e(785463);class i{register(t,l,g){var n=l();return{actionResult:n,succeeded:!(_.isBoolean(n)&&!n)}}getTopUndoFrame(){r.Y.assertFail("Can not get top undo frame")}canRedo(){return!1}canUndo(){return!1}canClear(){return!1}undo(){return r.Y.assertFail("Undo is not supported"),!1}redo(){return r.Y.assertFail("Redo is not supported"),!1}clear(){return r.Y.assertFail("Clear is not supported"),!1}getReferences(){return{}}}},647124:function(me,j,e){e.d(j,{Q:function(){return l},U:function(){return t}});var r=e(785463),i=e(229456),a=e(120586);class t{constructor(d,s){this.visualContainerName=d,this.action=s}equals(d){return!!d&&this.action===d.action&&this.visualContainerName===d.visualContainerName}}function l(n,d,s="UndoRedo",h=new a.z){return new g(n,d,s,h)}class g{constructor(d,s,h,o){this.eventBridge=d,this.loggerService=s,this.undoRedoLogEntryType=h,this.strategy=o}setStrategy(d){this.clear(),this.strategy=d}undo(){!this.verifyStrategy()||!this.canUndo()||setTimeout(()=>{this.strategy&&this.strategy.undo()&&(this.runSideEffects(),this.fireEvents())})}redo(){!this.verifyStrategy()||!this.canRedo()||setTimeout(()=>{this.strategy&&this.strategy.redo()&&(this.runSideEffects(),this.fireEvents())})}registerSideEffect(d){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(d)}clear(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(i.IbG))}canRedo(){return this.verifyStrategy()&&this.strategy.canRedo()}canUndo(){return this.verifyStrategy()&&this.strategy.canUndo()}getTopUndoFrame(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()}undoRedoPostProcessing(d){this.loggerService.addUserAction({message:d,type:this.undoRedoLogEntryType}),setTimeout(_.noop)}register(d,s,h){var o,v=!1;if(this.verifyStrategy()){var m=this.strategy.register(d,s,h);o=m.actionResult,v=m.succeeded}else o=s(),v=!(_.isBoolean(o)&&!o);return v&&(this.runSideEffects(d),this.fireEvents()),this.undoRedoPostProcessing(d),o}fireEvents(){this.eventBridge.publishToChannel(i.YCj,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(i.IbG)}runSideEffects(d){if(!_.isEmpty(this.sideEffects))for(var s of this.sideEffects)s.run(d)}verifyStrategy(){return r.Y.assert(()=>!!this.strategy,"undoRedoService functions should not be called without a strategy"),!!this.strategy}}},174053:function(me,j,e){e.d(j,{V8:function(){return l}});var r=e(785463);class i{constructor(s){this.count=0,this.top=-1,r.Y.assert(()=>s>=1,"Size cant be less than 1"),this.size=s,this.data=new Array(s)}item(s){r.Y.assert(()=>s>=0&&s<this.count,"index out of range");var h=this.top-(this.count-1);return h<0&&(h+=this.size),this.data[(s+h)%this.size]}push(s){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=s}pop(){if(0!==this.count){this.count--;var s=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),s}}peek(){return this.data[this.top]}clear(){this.count=0,this.top=-1,this.data=new Array(this.size)}get length(){return this.count}}var a=e(755743);class l{constructor(s,h,o,v){this.handler=s,this.staticResourceReferences=h,this.telemetry=o,this.visibilityService=v,this.undoStack=new i(10),this.redoStack=new i(10),this.staticResourceReferences.addReferenceSource(this)}register(s,h,o){var v=this.withTelemetry(()=>this.captureUndoFrame(this.handler),a.jj.Capture,s);v.recurringActionInfo=o;var m=this.canMergeWithTopFrame(o),p=this.startTransaction(v),y=h();r.Y.assert(()=>!this.isIPromise(y),"UndoRedoService.register does not support promise types");var S=!(_.isBoolean(y)&&!y);return S?this.endTransaction(p,m):this.cancelTransaction(p),{succeeded:S,actionResult:y}}getReferences(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))}addStackReferences(s,h){h=h||{};for(var o=s.length;o-- >0;)_.merge(h,s.item(o).getReferences());return h}undo(){var s=!1;return this.canUndo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.undoStack,this.redoStack),a.jj.Undo,""),this.telemetry.logEvent(a.RT,{times:this.redoStack.length})),s}redo(){var s=!1;return this.canRedo()&&(s=this.withTelemetry(()=>this.rollbackTop(this.redoStack,this.undoStack),a.jj.Redo,"")),s}clear(){return this.undoStack.clear(),this.redoStack.clear(),!0}canRedo(){return this.redoStack.length>0}canUndo(){return this.undoStack.length>0}canClear(){return!0}getTopUndoFrame(){var s=this.undoStack.peek();return s?s.getFrame():void 0}withTelemetry(s,h,o){var v=this.visibilityService.get(),m=v?.visibility,p=this.telemetry.startEvent(a.lT,{description:o,event:h,visibility:m}),y=s();return p.resolve(),y}canMergeWithTopFrame(s){if(!s)return!1;if(this.canUndo()){var h=this.getTopUndoFrame();if(h&&void 0!==h.recurringActionInfo&&h.recurringActionInfo.equals(s))return!0}return!1}rollbackTop(s,h){var o=s.pop();if(o){var v=o.rollbackFrame(),m=this.validTransactionCheck(v);return m&&h.push(v),m}r.Y.assertFail("UndoRedoService.rollbackTop received an empty source")}isIPromise(s){return s&&s.finally}startTransaction(s){r.Y.assertValue(s,"undoFrame");var h=new n;return this.currentTransaction||(this.currentTransaction=h,this.currentTransaction.addUndoFrame(s)),this.currentTransaction}endTransaction(s,h){r.Y.assertValue(s,"transaction"),r.Y.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),h||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0}cancelTransaction(s){r.Y.assertValue(s,"transaction"),r.Y.assert(()=>s===this.currentTransaction,"nested transactions are not allowed"),this.currentTransaction=void 0}captureUndoFrame(s){return r.Y.assertValue(s,"container"),new g(s)}validTransactionCheck(s){return r.Y.assertValue(s,"null or undefined transaction values cannot be put on undo or redo stack."),!!s}}class g{constructor(s,h){r.Y.assertValue(s,"handler"),this.handler=s,this.snapshot=this.handler.takeSnapshot(h)}rollbackFrame(){var s=new g(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),s}getReferences(){return this.snapshot.getReferences&&this.snapshot.getReferences()}}class n{constructor(s){this.frames=s||[]}addUndoFrame(s){this.frames.push(s)}rollbackFrame(){var s=_.map(this.frames,h=>{if(r.Y.assertValue(h,"frame"),h)return h.rollbackFrame()});return new n(s)}getFrame(){return r.Y.assert(()=>1===this.frames.length,"frame length"),this.frames[0]}getReferences(){var s={};for(var h of this.frames)_.merge(s,h.getReferences());return s}}},538030:function(me,j,e){e.d(j,{M:function(){return d}});var r=e(785463),i=e(64974),a=e(983240),t=e(755743),l=e(925397),g=e(229456),n=e(347130);function d(v,m,p,y){return new s(v,m,p,y)}class s{constructor(m,p,y,S){this.telemetryService=m,this.eventBridge=p,this.selectionService=y,this.explorationNavigation=S,r.Y.assertValue(m,"telemetryService"),r.Y.assertValue(p,"eventBridge"),r.Y.assertValue(y,"selection"),this.selectionService=y,p.createChannelSubscriptionManager().subscribe(g.zCo,()=>this.updatePopOutMode()).subscribe(g.MLq,(C,u)=>this.onFormFactorChanged(u.layout))}get(m){r.Y.assert(()=>m!==i.B8.None,"mode !== VisualVisibility.None");var p=this.explorationNavigation.getCurrentSection(),y=p&&p.poppedOutElement;if(y&&(m||(m=i.B8.Maximize|i.B8.MaximizeWithData|i.B8.MaximizeWithDataAccessible|i.B8.VisualCalcEditing),m&y.visibility))return y.visualContainer}set(m,p,y=!0){if(r.Y.assertValue(m,"visualContainer"),r.Y.assertValue(p,"visibility"),p!==i.B8.None){var S={visualContainer:m,visibility:p},C=this.explorationNavigation.getAllSections(),u=_.find(C,c=>c.visualContainers.indexOf(m)>=0);u&&(function(v,m){return(v=v||null)===(m=m||null)||!(!v!=!m||(r.Y.assertValue(v,"left"),r.Y.assertValue(m,"right"),v.visualContainer!==m.visualContainer||v.visibility!==m.visibility))}(S,u&&u.poppedOutElement)||(this.clearInternal(!1,!1),!n.qN.isCanvasItemSelected(m,this.selectionService)&&p!==i.B8.Elevation&&n.qN.selectCanvasItem(m,this.selectionService),this.setMode(S,p,y),u.poppedOutElement=S,this.poppableItem=S,this.raiseEvent(this.generateVisibilityChangedEventArgs(p))))}else this.clearInternal(!0,y)}clear(){this.clearInternal()}clearForVisualContainers(m){var p=this.explorationNavigation.getCurrentSection(),y=p&&p.poppedOutElement;if(y)for(var S of m)if(y.visualContainer===S){this.clearInternal();break}}onFormFactorChanged(m){var p=this.explorationNavigation.getCurrentSection(),y=p?.poppedOutElement;y&&(y.visualContainer.layouts.withId(m)||this.clearInternal())}clearInternal(m=!0,p=!0){var y=this.explorationNavigation.getCurrentSection(),S=y&&y.poppedOutElement;if(S){var C=this.poppableItem.visibility;this.setMode(S,i.B8.None,p),y.poppedOutElement=void 0,m&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===S.visualContainer?this.generateVisibilityChangedEventArgs(C):void 0),this.poppableItem=void 0}}isSeeDataMode(m){return m&&(m===i.B8.MaximizeWithData||m===i.B8.MaximizeWithDataAccessible||m===i.B8.VisualCalcEditing)}updatePopOutMode(){var m=n.qN.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);m&&(0,a.iA)(m)&&null!=m.visibility&&m.visibility!==i.B8.None?this.set(m,m.visibility,!1):this.clearInternal(!0,!1)}raiseEvent(m){this.eventBridge.publishToChannel(g.j8Z,m)}setMode(m,p,y){var S=m.visualContainer;if(y){var C=function(v){switch(v){case i.B8.Maximize:return t.NM.Maximized;case i.B8.MaximizeWithData:return t.NM.MaximizedWithData;case i.B8.MaximizeWithDataAccessible:return t.NM.MaximizedWithAccessibleData;case i.B8.Spotlight:return t.NM.Spotlight;case i.B8.Elevation:return t.NM.Elevation;case i.B8.VisualCalcEditing:return t.NM.VisualCalcEditing;default:return t.NM.Normal}}(p);this.telemetryService.logEvent(t.Cj,{visualType:(0,l.d)(S),displayType:C,visualName:m.visualContainer.name})}S.visibility=p}generateVisibilityChangedEventArgs(m){return{preserveScroll:m===i.B8.Spotlight||m===i.B8.Elevation}}}},474424:function(me,j,e){e.d(j,{tF:function(){return Le},Z8:function(){return ae},ar:function(){return lt}});var r=e(658577),i=e(215),a=e(228783),t=e(944491),l=e(376944),g=e(390107),n=e(935236),d=e(785463),s=e(123198),h=e(507345),o=e(147293),v=e(121153),m=e(721442),p=e(425023),y=e(464205),S=e(709099),C=e(168376),u=e(258825),E=e(381839),c=e(392339),f=e(289239),D=e(899846),b=e(627201),T=e(574324),M=e(42630),V=e(364472),w=e(446024),P=e(676741),N=e(669129),I=e(822874),O=e(668309),R=e(918460),W=e(999104),F=e(43099),U=e(343382),B=e(452701),x=e(991031),A=e(712813),Y=e(270475),z=e(64974),H=e(481621),Z=e(942748),k=e(506400),K=e(177328);class ee extends K.k{constructor(Be,Ce,Ae){super(),this.visualCalcDaxParserServiceContext=Ae,this.oldNativeRefereName=Be,this.newNativeReferenceName=Ce}visitNativeVisualCalc(Be){if(Be.name===this.newNativeReferenceName)return Be;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var Ce=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,Be.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,w.zy)(Be.name,Ce,Be.dataType,Be.getAnnotations())}}var Q=e(662785),J=e(511334),X=e(978450),ne=e(857327);function ae(ze,Be,Ce,Ae,be,Ie){return new St(ze,Be,Ce,Ae,be,Ie)}var oe=function(ze){return ze[ze.none=0]="none",ze[ze.updateFilter=1]="updateFilter",ze[ze.clearFilter=2]="clearFilter",ze}({});function Le(ze,Be,Ce,Ae){if(!ze)return!1;var be=!1;function Ie(he,Qe,je,Ke){Ae&&Ae(he.objectName,he.selector,Qe,je,Ke,Ke&&he.properties&&he.properties[Qe])}if(ze.replace)for(var ve of ze.replace){var xe=(0,C.D8)(Ce,ve.objectName,ve.selector),Ee={};for(var Ne in ve.properties)(0,u.Jd)(Ne)?Ee[Ne]=ut(ve,Ne,Be):d.Y.assertFail("Invalid property name");var ye=xe.properties;if(!(0,C.lj)(ye,Ee)){be=!0;var Xe=(0,C.V4)(ye,Ee);for(var fe of Xe)Ie(ve,fe,ye[fe],Ee[fe]);xe.properties=Ee}}if(ze.merge)for(var Se of ze.merge){var qe=(0,C.D8)(Ce,Se.objectName,Se.selector);for(var Ue in Se.properties)if((0,u.Jd)(Ue)){var _e=ut(Se,Ue,Be);(0,C.Y2)(qe.properties[Ue],_e)||(be=!0,Ie(Se,Ue,qe.properties[Ue],_e),qe.properties[Ue]=_e)}else d.Y.assertFail("Invalid property name")}if(ze.remove)for(var at of ze.remove){var ot=(0,C.lY)(Ce,at.objectName,at.selector);if(ot)for(var mt in at.properties)(0,u.Jd)(mt)?ot.properties.hasOwnProperty(mt)&&(be=!0,Ie(at,mt,ot.properties[mt],void 0),delete ot.properties[mt]):d.Y.assertFail("Invalid property name")}if(ze.removeObject)for(var yt of ze.removeObject){var Nt=(0,C.lY)(Ce,yt.objectName,yt.selector);if(Nt){if(Ae)for(var Bt in Nt.properties)Ie(yt,Bt,Nt.properties[Bt],void 0);be=(0,C.gr)(Ce,yt.objectName,yt.selector)||be}}return be}function lt(ze,Be,Ce){if(ze.name!==a.lP.rows||!(0,l.oY)(Ce?.dataViewMappings))return!0;var Ae=Be.query;if(!Ae||!Ae.defn)return!1;var be=(0,p.Lw)(Ae.projections,ze.name);return!!be&&_.size(be.all())>0||Be.hasUsedSmallMultiples}function ut(ze,Be,Ce){var be;return d.Y.assertValue(ze,"instance"),Ce&&Ce[ze.objectName]&&Ce[ze.objectName].properties[Be]&&(be=Ce[ze.objectName].properties[Be].type),(0,C.TK)(ze.properties[Be],be||{})}class St{constructor(Be,Ce,Ae,be,Ie,ve){this.visualPluginService=Be,this.geoTaggingService=Ce,this.aggrOps=Ae,this.featureSwitchService=be,this.visualAuthoringCustomizeOperations=Ie,this.displayNameService=ve,this.updateFilterState=(xe,Ee,Ne,ye,Xe,fe,Se,qe)=>{var Ue=Ee.config.singleVisual,_e=this.visualPluginService.capabilities(Ue.visualType),at=_e?_e.objects:null;if(ye&&this.ensureDefaultFilterApplied(xe,Ue,Ne))return{clearOrDefault:!0,updateAll:!1};var ot=!1;if(Xe){var mt=this.updateFilterOutput(Ue,at,xe);if(mt===oe.clearFilter)return{clearOrDefault:!0,updateAll:!1};ot=mt===oe.updateFilter}var yt=Ee.config.singleVisual;return!ot&&fe&&yt&&yt.objects&&(0,C._W)(yt.objects,fe,null)&&(ot=!0),{clearOrDefault:!1,updateAll:ot}},d.Y.assertValue(Be,"visualPluginService"),d.Y.assertValue(Ce,"geoTaggingService"),d.Y.assertValue(Ae,"aggrOps"),this.visualPluginOps=(0,Z.i)(Be,be)}create(Be){d.Y.assertValue(Be,"options");var Ce=this.visualPluginService.capabilities(Be.visualType),Ae=Be.query||new W.r(V.DC.create(),{},[]),be=(0,H.Z)().create(Ce,this.geoTaggingService,Ae.isDrillDisabled);if(be){var Ie={visualType:Be.visualType,query:Ae};for(var ve in Be.autoSelectVisualType&&(Ie.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(Ie,Be.schema),Ie.query.projections)this.ensureDependentObjectDefn(be.objectDescs,ve,Ie);var xe=Be.expr,Ee=!Be.inFilterVisualContainer&&xe&&!_.isArray(xe)&&N.B.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,Be.schema,Be.expr,!U.M.supportsFilterOutput(Ce),this.visualPluginOps.isAnalysisVisual(Be.visualType));if(_.isEmpty(xe)||this.tryAdd(be,Ie,Ee,Be))return{singleVisual:Ie}}}add(Be,Ce,Ae){d.Y.assertValue(Be,"options"),d.Y.assertValue(Ce,"target");var be=Ce.singleVisual;if(!be)return!1;var Ie=this.visualPluginService.capabilities(be.visualType),ve=!!be.query?.isDrillDisabled;be.query||(ve=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.p9)(Ie));var xe=(0,H.Z)().create(Ie,this.geoTaggingService,ve);return!!xe&&!!(be.query?this.tryAdd(xe,be,Ae,Be):this.tryAddWithUndefinedQuery(xe,be,Ae,Be))&&(this.visualAuthoringCustomizeOperations.customizeOptions(be,Be.schema),St.clearConversionSourceContext(be),!0)}toggleHidden(Be,Ce,Ae){var be=Be.query;if(be){var Ie=be.getQueryRef(Ce,{fieldIndex:Ae});be.toggleHidden(Ie),this.ensureCardinalityByHidingDifferentProjection(Be,Ce,Ae)}}remove(Be,Ce,Ae){d.Y.assertValue(Be,"options"),d.Y.assertValue(Ce,"target");var be=Ce.singleVisual;return!(!be||!this.tryRemove(be.query,be.columnProperties,Be,Ae)||(St.clearConversionSourceContext(be),0))}removeAllParametersAndProjectionsFromRole(Be,Ce,Ae,be,Ie){var ve=Ce&&Ce.config;if(ve){var xe=ve&&ve.singleVisual&&ve.singleVisual.query;if(xe){var Ee=xe.getQueryFieldParametersByRole(Be);if(Ee&&Ee.length>0){var Ne={},ye=Ne[Be]=[];for(var Xe of Ee)ye.push({parameter:Xe,result:[]});this.resolveParameters(Ae,Ce,Ne,be,Ie,void 0);for(var fe=Ee.length-1;fe>=0;fe--)this.remove({count:void 0,projOptions:{parameter:Ee[fe]},role:Be,shouldRemoveParameter:!0},ve,Ae)}}}}move(Be,Ce){d.Y.assertValue(Be,"options"),d.Y.assertValue(Ce,"target"),d.Y.assert(()=>_.isNumber(Be.sourceIndex)&&_.isNumber(Be.targetIndex)&&Be.targetIndex>=0&&Be.sourceIndex>=0,"Invalid replace index"),d.Y.assert(()=>_.isNumber(Be.sourceCount)&&Be.sourceCount>0,"Invalid number of items to replace");var Ae=Ce.singleVisual;if(!Ae)return!1;if(Be.sourceRole===Be.targetRole&&!Be.replacementExpressions)return!!Ae.query.moveProjection(Be.targetRole,Be.sourceIndex,Be.targetIndex,Be.sourceCount)&&(St.clearConversionSourceContext(Ae),!0);var be=Ae.query?.getParameterByFieldIndex(Be.sourceIndex,Be.sourceRole),Ie=[];if(!be){var ve=Ae.query.tryGetFieldExprs(Be.sourceRole);if(_.isEmpty(ve)||ve.length<Be.sourceCount)return!1;for(var xe=0;xe<Be.sourceCount;xe++)if(Ie[xe]=ve[Be.sourceIndex+xe],!Ie[xe])return!1}return this.moveProjectionCore(Ce,Ie,Be)}convert(Be){d.Y.assertValue(Be,"options");var Ce=Be.source;if(!Ce)return!1;var Ae=Ce.conversionSourceContext;Ae||(Ae=Ce.conversionSourceContext=this.createConversionSourceContext(Ce.query,Ce.visualType,Ce.syncGroup));var be=this.visualPluginService.capabilities(Ae.visualType),Ie=this.visualPluginService.capabilities(Be.target);if(!be||!Ie||_.isEmpty(Ie.dataRoles))return!1;if((0,s.aI)(be,Ie)){var ve=this.visualPluginService.capabilities(Ce.visualType);return this.convertRoleWildCardProperties(ve,Ie,Ce.objects),Ce.query=Ae.query,Ce.visualType=Be.target,Ce.visualType===Be.target&&Ie.supportsSynchronizingFilterState&&(Ce.syncGroup=Ae.syncGroup),!0}if(Be.skipRoleMapping)return Ce.query=Ae.query,Ce.visualType=Be.target,!0;var Ee=Be.schema,Ne=this.convertDrillableRoles(Ae.query,be,Ie,Be.target,Ee),ye=Ne.query,Xe=(0,F.xY)(Ie,ye.isDrillDisabled),fe=this.getUniqueQueryFields(Ae.query,Be.target);fe=_.differenceWith(fe,Ne.convertedFields,W.r.isEqualQueryFields);var Se=(0,H.Z)().create(Ie,this.geoTaggingService,ye.isDrillDisabled),qe=(0,H.Z)().create(be,this.geoTaggingService,Ae.query.isDrillDisabled);Se.orderByRolePreferences(Ee,fe);var Ue=(0,p.o8)(ye.projections),_e=this.getExpressionRoleMappings(Ce.query,fe),at=this.getConversionExprRoleList(_e,qe,Se,Ee,Be.target,Ce,Ue,Xe);if(_.isEmpty(at)&&_.isEmpty(ye.projections))return!1;for(var ot of at)ot.isFieldParameter?ye.addParameter(ot.expr,ot.roleName):ye.add(ot.expr,ot.roleName,{nativeReferenceName:ot.nativeReferenceName,isHidden:ot.isHidden}),this.ensureDependentObjectDefn(Se.objectDescs,ot.roleName,Ce);var yt,Nt,mt=(0,F.xY)(this.visualPluginService.capabilities(Ce.visualType),!!Ce.query?.isDrillDisabled);for(var Bt of(_.isEmpty(mt)?(yt=(0,F.xY)(be,Ae.query.isDrillDisabled),Nt=Ae.query):(yt=mt,Nt=Ce.query),Xe))if(ye.projections[Bt])for(var he of(ye.ensureActiveItems(Bt),yt))Nt.projections[he]&&(ye.projections[Bt].activeProjectionRefs=Nt.projections[he].activeProjectionRefs);return this.updateTargetShowAllInfo(Ae,ye,Se),ye.removeUnusedOrderBy(),ye.resetExpansionStates(),this.convertRoleWildCardProperties(be,Ie,Ce.objects),this.upgradePivotTableProperties(Ce.objects,Ce.visualType,Be.target),Ce.query=ye,Ce.visualType=Be.target,this.visualAuthoringCustomizeOperations.customizeOptions(Ce,Ee),!0}resetToDefaultActiveProjections(Be){var Ce=Be.query;if(null!=Ce){var Ae=this.visualPluginService.capabilities(Be.visualType),be=(0,F.xY)(Ae,Ce.isDrillDisabled);if(!_.isEmpty(be))for(var Ie of be)Ce.ensureActiveItems(Ie,!0)}}convertRoleWildCardProperties(Be,Ce,Ae){if(d.Y.assertValue(Be,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),d.Y.assertValue(Ce,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(Ae)){var be=_.chain(Be.dataRoles).filter(Se=>Se.kind!==o.Ts.Measure).map(Se=>Se.name).value(),Ie=_.chain(Ce.dataRoles).filter(Se=>Se.kind!==o.Ts.Measure).map(Se=>Se.name).value();if(!_.isEmpty(be)&&!_.isEmpty(Ie))for(var ve in Ae){var xe=Ae[ve];if(!_.isEmpty(xe))for(var Ee of xe){var Ne=Ee.selector;if(Ne&&!_.isEmpty(Ne.data))for(var ye=0,Xe=Ne.data.length;ye<Xe;ye++){var fe=Ne.data[ye];(0,y.jG)(fe)&&_.isEqual(_.sortBy(fe.roles),_.sortBy(be))&&(Ne.data[ye]=(0,c.WV)(Ie))}}}}}upgradePivotTableProperties(Be,Ce,Ae){("matrix"===Ce||"table"===Ce)&&("pivotTable"===Ae||"tableEx"===Ae)&&((0,C.F4)(Be,"general",void 0,"textSize","grid"),(0,C.F4)(Be,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===Ce&&"pivotTable"===Ae&&((0,C.F4)(Be,"general",void 0,"columnSubtotals","subTotals"),(0,C.F4)(Be,"general",void 0,"rowSubtotals","subTotals")),"table"===Ce&&"tableEx"===Ae&&(0,C.F4)(Be,"general",void 0,"totals","total")}setAggregate(Be,Ce){if(!Ce.singleVisual.query.setAggregate(Be.role,Be.index,Be.newAggregate))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}removeAggregate(Be,Ce){if(!Ce.singleVisual.query.removeAggregate(Be.role,Be.index))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}setPercentOfGrandTotal(Be,Ce){if(!Ce.singleVisual.query.setPercentOfGrandTotal(Be.role,Be.index))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}removePercentOfGrandTotal(Be,Ce){if(!Ce.singleVisual.query.removePercentOfGrandTotal(Be.role,Be.index))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}setPercentOfRoleTotal(Be,Ce){if(!Ce.singleVisual.query.setPercentOfRoleTotal(Be.roleRefs,Be.role,Be.index))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}removePercentOfRoleTotal(Be,Ce){if(!Ce.singleVisual.query.removePercentOfRoleTotal(Be.role,Be.index))return!1;var Ae=this.generateNativeReferenceNameForOperation(Be,Ce);return this.setNativeReferenceNameByRoleAndFieldIndex(Ce.singleVisual.query,Be.index,Be.role,Ae,Be),St.clearConversionSourceContext(Ce.singleVisual),!0}updateVisualCalculation(Be,Ce){var{visualContainer:Ae,fieldIndex:be,role:Ie,name:ve,expression:xe,dataType:Ee,shouldUnhide:Ne}=Be,ye=Ae.config.singleVisual,Xe=ye.query;if(!Xe||!Xe.updateVisualCalculation(be,Ie,ve,xe,Ee))return!1;if(Ne){var fe=Xe.getQueryRef(Ie,{fieldIndex:be});Xe.resetHiddenState(fe),this.ensureCardinalityByHidingDifferentProjection(ye,Ie,be)}return this.setNativeReferenceNameByRoleAndFieldIndex(Xe,be,Ie,ve,Ce),St.clearConversionSourceContext(ye),!0}setNativeReferenceNameByRoleAndFieldIndex(Be,Ce,Ae,be,Ie){var ve=Be.getQueryRef(Ae,{fieldIndex:Ce});if(null!=ve){var xe=Be.defn.select(),Ee=(0,n.i4)(xe,ve);this.setNativeReferenceNameAt(Be,Ee,be,Ie)}}setNativeReferenceNameAt(Be,Ce,Ae,be){var Ie=Be.defn.getNativeReferenceNameAt(Ce);if(Ie!==Ae&&(Be.defn.setNativeReferenceNameAt(Ce,Ae),!(0,h.M)(Ie)&&null!=be?.visualCalcDaxParserServiceContext?.service)){var ve=new ee(Ie,Ae,be.visualCalcDaxParserServiceContext);new k.K(ve).rewriteQuery(Be)}}toggleShowAll(Be,Ce){Ce.singleVisual.query.toggleShowAll(Be),St.clearConversionSourceContext(Ce.singleVisual)}changeDrillState(Be,Ce,Ae){Ce.query.changeDrillStateValue(Be,!Ae),St.clearConversionSourceContext(Ce)}changeActiveProjection(Be,Ce,Ae){var be=Ce.query.projections[Be];if(be){var xe,Ie=_.uniqBy(be.all(),Ne=>Ne.queryRef),ve=_.uniq(be.activeProjectionRefs);_.isEmpty(ve)||(xe=ve.length);var Ee=xe&&_.findIndex(Ie,Ne=>Ne.queryRef===ve[xe-1]);if(!(null==Ee||Ee<0)){if(Ae===Y.Pq.Up){if(!(Ee>=1))return;ve.pop(),(1===xe||ve[xe-2]!==Ie[Ee-1].queryRef)&&ve.push(Ie[Ee-1].queryRef)}else{if(Ae===Y.Pq.DownWithoutCurrentGroup&&(ve.length=0),d.Y.assert(()=>Ie.length>=Ee+1,"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(Ie.length>Ee+1))return;ve.push(Ie[Ee+1].queryRef)}return St.clearConversionSourceContext(Ce),be.activeProjectionRefs=ve,ve}}}addDrillFilter(Be,Ce,Ae,be,Ie){this.addDrill(Be,Ce,Ae,be,Ie,z.GS.Drill,!0)}addDrillToDetailsFilter(Be,Ce,Ae,be,Ie){_.remove(Ce,ve=>!!ve.expression&&(0,J.t)(ve.expression)),this.addDrill(Be,Ce,Ae,be,Ie,z.GS.Auto,!1)}addDrill(Be,Ce,Ae,be,Ie,ve,xe){if(Ce&&Ae&&!_.isEmpty(be)&&Ie){var Ee=function(){var ye=Ae.defn.select().withName(Ne).expr,Xe=Ie.expr,fe=(0,Q.w8)(Xe);fe&&(Xe=Xe.arg);var Ue,Se=(0,M.lj)(Xe),qe=[],_e=ye.getKeyColumns(Be);if(!_.isEmpty(Se.values))for(var at=function(Qe){var je=Se.args[Qe];if(je&&-1!==N.B.indexOfExpr(_e,je)){qe.push(je);var Ke=_.map(Se.values,tt=>[tt[Qe]]);Ue=_.isEmpty(Ue)?Ke:_.chain(Ue).zip(Ke).map(tt=>_.flatten(tt)).value()}},ot=0;ot<Se.args.length;ot++)at(ot);if(!_.isEmpty(qe)&&!_.isEmpty(Ue)){var mt=(0,w.eu)(qe,Ue||[]);fe&&(mt=(0,w.AU)(mt));var Bt,yt=(0,f.dA)([{kind:v.y.ScopeIdentity,expr:mt,key:Ie.key}]),Nt=_.filter(Ce,Qe=>(0,X.aI)(ye,Qe.expression));xe&&(Bt=_.find(Nt,Qe=>Qe.howCreated===ve)),Bt?(d.Y.assert(()=>!Bt.filter||Bt.howCreated===ve&&xe,"The filter to overwrite should be empty or the specified kind we want to overwrite"),Bt.filter=yt,Bt.howCreated=ve,Bt.precedence=z.NH.Drill):Ce.push({name:null,expression:ye,filter:yt,type:O.RJ.Categorical,howCreated:ve,precedence:z.NH.Drill})}};for(var Ne of be)Ee()}}removeDrillFilter(Be,Ce){return this.removeDrillFilterCore(Be,Ce)}removeAllDrillFilters(Be){return this.removeDrillFilterCore(Be)}removeDrillFilterCore(Be,Ce){if(!Be)return!1;this.ensureFiltersArrayIsValid(Be);for(var Ae=[],be=0,Ie=Be.length;be<Ie;be++){var ve=Be[be];if(ve&&ve.howCreated===z.GS.Drill)if(void 0===Ce)Ae.push(be);else if((0,X.aI)(Ce,ve.expression)){Ae.push(be);break}}return _.forEachRight(Ae,xe=>Be.splice(xe,1)),!!Ae.length}setMatchingFilterToAuto(Be,Ce){if(Ce.filters){var Ae=_.find(Ce.filters,be=>null!=be&&(0,X.aI)(be.expression,Be));Ae&&(Ae.howCreated=z.GS.Auto)}}removeAutoFilterFromContract(Be,Ce,Ae){if(Be){var be=Be.filters;if(be){var Ie=Be.config.singleVisual.query,ve=Ae??this.getRemoveOptionsQueryRefs(Ce,Ie);_.forEach(ve,xe=>{var Ee=Ie.defn.select().withName(xe),Ne=Ee?Ee.expr:void 0,ye=(0,n._u)(be,fe=>(d.Y.assertValue(fe,`removeAutoFilterFromContract: visualContainer with name ${Be.name} contains blank value in .filters`),null!=fe&&fe.howCreated===z.GS.Auto&&(0,X.aI)(fe.expression,Ne)));if(ye.length>0){d.Y.assertValue(1===ye.length,"More than one auto filter found");var Xe=U.M.isFilterModified(ye[0]);Xe?Xe&&(ye[0].howCreated=z.GS.User):_.remove(Be.filters,ye[0])}}),this.ensureFiltersArrayIsValid(be)}}}ensureFiltersArrayIsValid(Be){if(null!=Be)for(var Ce=Be.length-1;Ce>=0;Ce--)null==Be[Ce]&&(d.Y.assertFail("filters array contains null element"),Be.splice(Ce,1))}getRemoveOptionsQueryRefs(Be,Ce){var Ae=[],be=Be,Ie=be.projOptions;if(be.role&&null!==Ie.fieldIndex){var{fieldIndex:ve,parameter:xe}=Ie;if(xe)for(var Ee=xe.length??0,Ne=0;Ne<Ee;Ne++){var ye=Ce.getQueryRef(be.role,{parameter:xe,indexInParameter:Ne});Ae.push(ye)}else for(var Xe=be.count??1,fe=0;fe<Xe;fe++){var Se=Ce.getQueryRef(be.role,{fieldIndex:ve+fe});Se&&Ae.push(Se)}}else if(Be.expr){var Ue=(0,n.eC)(Be.expr),_e=Ce.defn.select();_.forEach(Ue,at=>{var ot=_.filter(_e,mt=>{var yt=mt.expr;return(0,Q.b9)(yt)&&(yt=yt.arg),(0,X.aI)(yt,at)});_.forEach(ot,mt=>{mt&&mt.name&&Ae.push(mt.name)})})}return Ae}isEmptyQueryVisual(Be){var Ce=Be.config.singleVisual;if(Ce&&this.visualPluginOps.isQueryVisual(Ce.visualType)&&Ce.query&&0===Ce.query.defn.select().length&&_.isEmpty(Ce.query.getQueryFieldParameters())){var Ae=this.visualPluginService.capabilities(Ce.visualType);if(Ae){var be=(0,D.wc)(Ae.dataViewMappings,Ce.objects);return!(be&&!(0,h.M)(be.source))}return!1}return!1}setDefaultSort(Be,Ce,Ae,be){if(Be.config&&Be.config.singleVisual){var Ie=Be.config.singleVisual,ve=be.capabilities(Ie.visualType);if(Ae.shouldApplyDefaultSort(Ie,ve)){var xe=Ie.query;if(xe){var Ee=xe.defn,Ne=xe.projections,ye=Ee.select(),Xe=[],fe=_.filter(ve.dataRoles,tt=>!(_.has(tt,"joinPredicate")||tt.joinPredicate===o.gD.None));if(_.some(fe,tt=>{var $e=(0,p.Lw)(Ne,tt.name);if($e){var de=_.map($e.all(),De=>ye.withName(De.queryRef));return _.some(de,De=>De&&De.expr&&!_.isEmpty(De.expr.getOrderByColumns(Ce)))}}))return void(Ie.hasDefaultSort&&(Ie.query=new W.r(Ee.orderBy([]),xe.projections,xe.expansionStates,xe.isDrillDisabled),Ie.hasDefaultSort=!1));var qe=!1;for(var Ue of fe){var _e=(0,p.Lw)(Ne,Ue.name);if(_e){var at=_.map(_e.all(),tt=>tt.queryRef);if(at){var ot=!1,mt=[],yt=this.shouldDefaultExpandSort(Ue.name,ve.expandAndSort,at.length),Nt={direction:r.U.Ascending,expr:null};for(var Bt of at){var he=ye.withName(Bt),Qe=he&&he.expr;if(Qe&&N.B.isExprValidForSorting(Qe)){var je=Qe.getMetadata(Ce);if(je){var Ke=je.kind===m.L.Measure&&je.type.numeric;if(yt&&(je.type.text||je.type.temporal||je.type.numeric&&_.first(at)!==Bt?mt.push({direction:r.U.Ascending,expr:Qe}):yt=!1),null==Nt.expr&&(Qe&&Ke&&(Nt.direction=r.U.Descending),Nt.expr=Qe),je.type.temporal&&(ot=qe=!0,!yt)||Ke&&(ot=!0,!yt))break}}}if(yt&&_.isEmpty(Xe)){d.Y.assertValue(_.isEmpty(mt),"hierarchical sort has no expr (setDefaultSort)"),Xe=mt;break}if(ot&&(_.isEmpty(Xe)||qe)&&(d.Y.assertValue(Nt.expr,"first projection sort has no expr (setDefaultSort)"),Xe=[Nt]),qe||yt)break}}}_.isEmpty(Xe)||(Ie.hasDefaultSort=!0,Ie.query=new W.r(Ee.orderBy(Xe),xe.projections,xe.expansionStates,xe.isDrillDisabled))}}}}setDefaultExpandLevel(Be,Ce,Ae,be,Ie,ve){var xe=Ce.capabilities(Be.config.singleVisual.visualType);if(Ae&&xe.expandAndSort&&_.includes(xe.expandAndSort,Ae)&&Be.config&&Be.config.singleVisual){var Ee=Be.config.singleVisual.query;Ee&&xe.expandAndSort.forEach(Ne=>{var ye=(0,p.Lw)(Ee.projections,Ne);if(ye){var Xe=ye.getQueryRefs();if(this.shouldDefaultExpandSort(Ne,xe.expandAndSort,Xe.length)){var fe=!1;if(Ie)if(ve===Y.S5.Move){var Se=Xe.indexOf(Ie[Ne].projectionName);if(Se<0)return;Se===Xe.length-2&&Xe.length-1===Ie[Ne].totalNumberOfProjections?fe=!0:Se<Xe.length-1&&Xe.splice(Se+1),fe=!0}else ve===Y.S5.Add&&(fe=!!_.isEmpty(Ie)||Ie[Ne].currentPosition===Ie[Ne].totalNumberOfProjections);fe&&(ye.activeProjectionRefs=_.map(Xe,qe=>qe),this.setDrillMode(Be,z.pI.DrillToDetails,be))}}})}}ensureValidDrillState(Be,Ce,Ae){for(var be of Ce){this.removeDrillFilter(Be.filters,be.expr);var Ie=Be.config.singleVisual.query,ve=Ie.projections[be.roleName];if(ve){var xe=_.last(ve.activeProjectionRefs);if(null!=xe){var Ee=Ie.defn.select().withName(xe).expr;this.removeDrillFilter(Be.filters,Ee)}}}this.ensureValidDrillMode(Be,Ae)}ensureValidDrillMode(Be,Ce){var Ae=Be.drillMode;(Ae===z.pI.DrillDown&&Ce.getSupportedDrillDirections(Be)===Y.TC.None||Ae===z.pI.DrillToDetails&&!Ce.canDrillToDetails(Be))&&this.setDrillMode(Be,z.pI.None,Ce)}resolveParameters(Be,Ce,Ae,be,Ie,ve){var xe=this,Ee={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},Ne=Ce&&Ce.config&&Ce.config.singleVisual,ye=Ne&&Ne.query;if(!ye)return Ee;var Xe=this.visualPluginService.capabilities(Ne.visualType),fe=(0,H.Z)().create(Xe,this.geoTaggingService,ye.isDrillDisabled),Se=(0,F.xY)(Xe,ye.isDrillDisabled),qe=fe.getNumberRangesForRoles(ye),Ue=[],_e=function(mt){var yt=ye.projections[mt],Nt=yt.getFieldParameters(),Bt=_.some(Se,Ke=>Ke===mt)?void 0:qe?.[mt],he=function(){var{parameter:Ke,result:tt}=je,$e=_.find(Nt,Ge=>Ge.index===Ke.index);if(!$e||!(0,X.aI)(Ke.expr,$e.expr))return 0;var de=yt.getParameterProjections($e),De=_.map(de,Ge=>ye.defn.select().withName(Ge.queryRef).expr),re=_.map(tt,Ge=>Ge.expr);if(Bt&&Bt.max&&re.length>Bt.max){var ce=yt.all();re=re.slice(0,Bt.max-(ce.length-de.length))}for(var Te=(0,n.TR)(re,De,X.aI),Fe=Te.length-1,et=[],vt=[],At=[],st=De.length-1;st>=0;st--)Fe>=0&&(0,X.aI)(De[st],Te[Fe])?Fe--:(vt.push({role:mt,projOptions:{parameter:$e,indexInParameter:st}}),et.push(de[st].queryRef),At.push({expr:De[st],roleName:mt}));if(vt.length>0){var{removeSuccessCount:pe,removeAttemptCount:Ve,outputFilterChange:ke}=xe.removeWithValidation(ye,et,vt,Ce,Be,At,be,Ie,void 0,!0);Ee.totalRemoveSuccessCount+=pe,Ee.totalRemoveAttemptCount+=Ve,Ee.outputFilterChange||(Ee.outputFilterChange=ke)}Fe=0;for(var it=0,ft=0,Pt=0;Pt<re.length;Pt++){var Ut=tt[Pt].alias,Kt={parameter:$e,indexInParameter:Pt-(it-ft)};if(Te.length>0&&(0,X.aI)(re[Pt],Te[Fe]))Fe++,ve&&(Ee.aliasChange=ve(Be,Ce,Kt,mt,Ut)||Ee.aliasChange);else{var Qt=re[Pt];it++,xe.add({expr:Qt,schema:Be,targetRole:mt,projOptions:Kt},Ce.config,!1)&&(ft++,(0,Q.R3)(Qt)?Ee.totalSuccessColumnCount++:(0,Q.tx)(Qt)?Ee.totalSuccessMeasureCount++:(0,Q.Ah)(Qt)&&Ee.totalSuccessDateHierarchyCount++,Ue.push(Qt),ve&&(Ee.aliasChange=ve(Be,Ce,Kt,mt,Ut)||Ee.aliasChange))}}xe.tryAdjustSortOrderForParameter(ye,yt,$e),Ee.totalAddAttemptCount+=it};for(var je of Ae[mt])he()};for(var at in Ae)_e(at);if(Ee.totalAddSuccessCount=Ue.length,Ee.totalAddSuccessCount>0){var ot=this.runAddFieldValidation(Ce,Be,Ue,be,Ie,void 0,!0);Ee.outputFilterChange||(Ee.outputFilterChange=ot)}return(Ee.totalAddSuccessCount>0||Ee.totalRemoveSuccessCount>0)&&(this.setDefaultSort(Ce,Be,Ie,this.visualPluginService),(0,A.zK)(Ce),Ee.queryChange=!0),Ee}tryAdjustSortOrderForParameter(Be,Ce,Ae){d.Y.assertValue(Be,"visualQuery");var be=Ae.sortDirection;if(this.featureSwitchService.featureSwitches.fieldParameterSort&&null!=be){var Ie=Ce.getParameterProjections(Ae),ve=_.map(Ie,Xe=>{d.Y.assertValue(Xe.queryRef,"projection.queryRef");var fe=Be.defn.select().withName(Xe.queryRef);return d.Y.assertValue(fe,"namedExpr"),fe?.expr}),xe=_.filter(Be.defn.orderBy(),Xe=>_.some(ve,fe=>(0,X.aI)(Xe.expr,fe)));if(_.isEmpty(xe)){var Ne=_.first(ve);if(null!=Ne){var ye=Be.defn.orderBy();ye.push({expr:Ne,direction:be}),Be.orderBy(ye)}}else _.every(xe,Xe=>Xe.direction===xe[0].direction)&&(Ae.sortDirection=xe[0].direction)}}runAddFieldValidation(Be,Ce,Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){this.ensureValidDrillMode(Be,be);var fe=!1;if(!xe||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var qe=(ve||this.updateFilterState)(Ce,Be,!1,!0,!0,void 0,ye,Xe);fe=qe?.clearOrDefault||qe?.updateAll}if(xe||(this.setDefaultExpandLevel(Be,this.visualPluginService,Ee,be,Ne,Y.S5.Add),this.setDefaultSort(Be,Ce,Ie,this.visualPluginService),(0,A.zK)(Be)),_.isArray(Ae)){var Ue=Ae;for(var _e of Ue)this.setMatchingFilterToAuto(_e,Be)}else this.setMatchingFilterToAuto(Ae,Be);return fe}removeWithValidation(Be,Ce,Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){var fe=0,Se=[],qe=!1;this.removeAutoFilterFromContract(be,void 0,Ce);for(var Ue=0;Ue<Ae.length;Ue++){var _e=this.remove(Ae[Ue],be.config,Ie);fe+=_e?1:0,_e||Se.push(Ue)}if(fe>0){if(Se.length>0){Ce=_.clone(Ce);for(var at=Se.length-1;at>=0;at--)Ce.splice(Se[at],1)}if(!ye){var ot=this.captureCurrentActiveProjectionsByRole(be);this.setDefaultExpandLevel(be,this.visualPluginService,_.first(Ae)?.role,xe,ot,Y.S5.Remove)}if(this.ensureValidDrillState(be,ve,xe),this.isEmptyQueryVisual(be)?Be=be.config.singleVisual.query=void 0:ye||(this.setDefaultSort(be,Ie,Ee,this.visualPluginService),(0,A.zK)(be)),!ye||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var yt=(Ne||this.updateFilterState)(Ie,be,!0,!0,!0,null,void 0,Xe);qe=yt?.clearOrDefault||yt?.updateAll}ye||this.clearUnusedObjectDefinitions(be,Be,Ce)}return{removeAttemptCount:Ae.length,removeSuccessCount:fe,outputFilterChange:qe}}clearUnusedObjectDefinitions(Be,Ce,Ae){_.forEach(Ae,be=>{if(!Ce||!Ce.isUsed(be)){var Ie=Be.config.singleVisual.objects;_.forEach(Ie,(ve,xe)=>{var Ee=[];_.forEach(ve,Ne=>{Ne.selector&&Ne.selector.metadata===be&&Ee.push(Ne.selector)}),_.forEach(Ee,Ne=>{(0,C.gr)(Ie,xe,Ne)})})}})}ensureDefaultFilterApplied(Be,Ce,Ae){var be=this.visualPluginService.capabilities(Ce.visualType),Ie=be?be.objects:null,ve=(0,E.eq)(Ie),xe=Ce.query&&Ce.query.getUniqueQueryRefs();if(!ve||_.isEmpty(xe))return this.clearDefaultFilterOutput(Ce,Ie);var Ee=Ce.query.defn.select(),Ne=_.map(xe,at=>Ee.withName(at).expr),ye=[],Xe=[],fe=!0;for(var Se of Ne)N.B.getDefaultValue(Se,Be)?fe?ye.push(...this.getExprKeyColumns(Se,Be)):Xe.push(...this.getExprKeyColumns(Se,Be)):fe=!1;if(_.isEmpty(ye)&&_.isEmpty(Xe)||Ae)return this.clearDefaultFilterOutput(Ce,Ie);Ce.objects||(Ce.objects={});var Ue=(0,E.x_)(Ie),_e=V.b0.getDefaultAnyValueFilter(ye,Xe);return(0,C.KY)(Ce.objects,Ue,null,_e),!0}getExprKeyColumns(Be,Ce){var Ae=(0,T.F)(Be);return Ae.column||Ae.groupingColumn||Ae.hierarchyLevel?Be.getKeyColumns(Ce):[Be]}clearDefaultFilterOutput(Be,Ce){if(!Be.objects)return!1;var Ae=(0,E.x_)(Ce);if(!Ae)return!1;var be=(0,C._W)(Be.objects,Ae,null);return!(!be||!V.b0.isDefaultFilter(be)||((0,C.BJ)(Be.objects,Ae.objectName,null,Ae.propertyName),0))}updateFilterOutput(Be,Ce,Ae){if(!Be.objects)return oe.none;var be=(0,E.x_)(Ce);if(!be)return oe.none;var Ie=(0,C._W)(Be.objects,be,null);if(Ie){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!Be.query)return(0,C.BJ)(Be.objects,be.objectName,null,be.propertyName),oe.clearFilter;var ve=this.updateFilterOutputForVisual(Be.query,Ie,Ae);return V.b0.isSameFilter(ve,Ie)?oe.none:ve?((0,C.KY)(Be.objects,be,null,ve),oe.updateFilter):((0,C.BJ)(Be.objects,be.objectName,null,be.propertyName),oe.clearFilter)}return oe.none}updateFilterOutputForVisual(Be,Ce,Ae){var be=Be.getUniqueQueryRefs();if(!_.isEmpty(be)){var Ie=new i.D,ve=Be.defn.select(),xe=_.map(be,qe=>ve.withName(qe).expr.accept(Ie,Ae)).reduce((qe,Ue)=>qe.concat(Ue),[]);if(!_.isEmpty(xe)){var Ee,Ne=Ce.where(),ye=[];for(var Xe of Ne){var fe=N.B.syncSQExprWithFilterIdenities(xe,Xe.condition);fe&&ye.push({target:Xe.target,condition:fe,annotations:Xe.annotations})}return ye.length>0&&(Ee=new V.b0(Ce.from(),ye)),Ee}}}moveProjectionCore(Be,Ce,Ae){var be=Be.singleVisual;if(!be||!be.query)return!1;var{sourceRole:Ie,targetRole:ve,sourceIndex:xe,targetIndex:Ee,replacementExpressions:Ne,schema:ye,allowPartialReplace:Xe}=Ae,fe=(0,R.o8)(be),Se=fe.query.getParameterByFieldIndex(xe,Ie);d.Y.assert(()=>!!Se||Ce.length>0,"No items specified to replace");var qe=fe.query.defn.orderBy(),Ue=Ce;_.isEmpty(Ne)||(Ue=_.map(Ne,(te,Te)=>{var Fe=Ue[Te];return Fe?{expr:te,isFieldParameter:Fe.isFieldParameter,isHidden:Fe.isHidden,nativeReferenceName:Fe.nativeReferenceName}:{expr:te}}));var _e_getColumnPropertiesForExprs=function(Ce,Ae){var be=[];if(Ae.columnProperties)for(var Ie of Ce){var ve=Ae.query.defn.selectNameOf(Ie),xe=Ae.columnProperties[ve];xe&&be.push({originalExpr:Ie,columnProperty:xe})}return be},_e_applyColumnPropertiesByExpr=function(Ce,Ae,be,Ie){var ve=_.find(Ie,Ee=>Ee.originalExpr===Ce);if(ve){var xe=be.query.defn.selectNameOf(Ae);be.columnProperties[xe]||(be.columnProperties[xe]=ve.columnProperty)}},at=_e_getColumnPropertiesForExprs(_.map(Ue,te=>te.expr),fe);if(!this.tryRemoveProjections(fe.query,fe.columnProperties,{role:Ie,projOptions:{fieldIndex:xe,parameter:Se},count:Ce.length,shouldRemoveParameter:!0}))return!1;qe.length>0&&fe.query.orderBy(qe);var mt=this.visualPluginService.capabilities(be.visualType),yt=(0,H.Z)().create(mt,this.geoTaggingService,!!be.query?.isDrillDisabled);if(!yt)return!1;var Nt=yt.roles.withName(ve);if(!Nt)return!1;var Bt=Ie===ve&&Ee===xe,he=!1;if(Bt){if(1===Ue.length&&N.B.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,ye,Ue[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!U.M.supportsFilterOutput(mt),this.visualPluginOps.isAnalysisVisual(fe.visualType))&&!(he=this.tryAdd(yt,fe,!0,{expr:Ue[0].expr,schema:ye,targetRole:ve,projOptions:{fieldIndex:Ee}})))return!1}else if(Se&&!(he=this.tryAdd(yt,fe,!0,{expr:Se.expr,schema:ye,targetRole:ve,projOptions:{fieldIndex:Ee},hideOnOverflow:Ae.hideOnOverflow})))return!1;if(!he)for(var tt=0;tt<Ue.length;tt++){var $e=Ue[tt].expr,de=Ue[tt];if(de.expr=this.aggregateIfNecessary(de.expr,Nt,ye),de.isHidden=de.isHidden&&(0,J.t)(de.expr),!this.tryAdd(yt,fe,!1,{expr:de.expr,schema:ye,targetRole:ve,projOptions:{fieldIndex:Ee+tt,nativeReferenceName:Bt?void 0:Ue[tt].nativeReferenceName,isHidden:de.isHidden},hideOnOverflow:Ae.hideOnOverflow})){if(tt>0&&Xe)break;return!1}if(be.query.projections[Ie].showAll){var ce=Ue[tt].expr.getMetadata(ye);this.isShowAllRole(Nt.kind)&&ce&&ce.kind!==m.L.Measure&&(fe.query.projections[ve].showAll=!0)}_e_applyColumnPropertiesByExpr($e,de.expr,fe,at)}return Be.singleVisual=fe,this.visualAuthoringCustomizeOperations.customizeOptions(Be.singleVisual,ye),St.clearConversionSourceContext(Be.singleVisual),!0}aggregateIfNecessary(Be,Ce,Ae){return null!=(0,b.CX)((0,T.F)(Be,Ae))||Ce.kind!==o.Ts.Measure||N.B.discourageAggregation(Be,Ae)?Ce.kind===o.Ts.Grouping?(0,P.s)(Be,Ae):Be:this.aggrOps.createExprWithAggregate(Be,Ae,!0,Ce.requiredTypes)}static clearConversionSourceContext(Be){Be.conversionSourceContext=null}getConversionExprRoleList(Be,Ce,Ae,be,Ie,ve,xe,Ee){var Ne=Xe=>{var fe=[];for(var Se of Be)if(Se.isFieldParameter)fe.push({expr:Se.expr,isFieldParameter:Se.isFieldParameter,roleName:Se.roleName});else{var Ue=Xe(Se.expr);Ue&&fe.push({expr:Ue,nativeReferenceName:Se.nativeReferenceName})}if(!_.isEmpty(fe))return this.getCompatRolesForExprs(fe,Ce,Ae,be,Ie,ve,!0,xe,Ee)},ye=this.getCompatRolesForExprs(Be,Ce,Ae,be,Ie,ve,!1,xe,Ee);return _.isEmpty(ye)&&(ye=Ne(Xe=>(0,J.t)(Xe)?Xe:this.aggrOps.createExprWithAggregate(Xe,be,!0,null))),_.isEmpty(ye)&&(ye=Ne(Xe=>(0,J.t)(Xe)?(0,P.s)(Xe,be):Xe)),ye||[]}getCompatRolesForExprs(Be,Ce,Ae,be,Ie,ve,xe,Ee,Ne){var ye=[],Xe=Ee||{},fe=new x.F(B.tc),Se=_.some(Be,ce=>(0,Q.$M)(ce.expr));for(var qe of Be){var Ue=void 0,{expr:_e,isFieldParameter:at,roleName:ot,nativeReferenceName:mt,isHidden:yt}=qe;ot&&(Ue=Ce.roles.withName(ot));var Nt=this.getTargetRoleForConversion(qe,Ce,Ae),Bt=Se&&(0,J.t)(_e),he=Ae.findCompatibleRole({queryProjections:Xe,schema:be,expr:_e,targetRole:Nt,preferDrillableRoles:!1,roleToExprMap:fe,useStrict:!0,isFieldParameter:at,sourceRole:at&&Ue,isHidden:yt,overflowIsWarning:Bt}),Qe=he&&he.role,je=he&&he.error===S.gU.conditionRangeTooLarge;if(Qe&&(!je||Bt)){var tt=!!je||yt;Qe=this.ensureCorrectKeyInfluencersRole(Ie,Qe,void 0);var{name:$e}=this.ensureCorrectSmallMultiplesRole(ve,Ae.capabilities,Qe,Ce.capabilities,ot);if(!at){this.updateProjections(Xe,$e,Ne,tt);var de=Ae.getNumberRangesForRoles(Xe);if(this.shouldUseVariation(_e,be,$e,Ne,de[$e],_.size(Be))){var re=(0,I.mA)(_e);return ye.push({expr:re,roleName:$e,nativeReferenceName:mt}),ye}}if(ye.push({expr:_e,isFieldParameter:at,roleName:$e,nativeReferenceName:mt,isHidden:tt}),xe)return ye}}return ye}shouldUseVariation(Be,Ce,Ae,be,Ie,ve){if(!_.includes(be,Ae)&&Ie&&Ie.max<ve){var xe=(0,T.F)(Be,Ce);if(xe&&xe.columnHierarchyLevelVariation)return!0}return!1}getExpressionRoleMappings(Be,Ce){return _.map(Ce,Ae=>({expr:Ae.expr,roleName:Be.getRoleNameForExpr(Ae.expr),isFieldParameter:Ae.isFieldParameter,nativeReferenceName:Ae.nativeReferenceName,isHidden:Ae.isHidden}))}getTargetRoleForConversion(Be,Ce,Ae){if(!Ae.hasPreferredTypes()){var{roleName:be}=Be,{roles:Ie,capabilities:ve}=Ce,{roles:xe,capabilities:Ee}=Ae,Ne=Ie.withName(be),ye=xe.withName(be);if(Ne&&ye&&_.isEqual(Ne.kind,ye.kind)){var Xe=this.getDataViewMappingConditions(ve),fe=this.getDataViewMappingConditions(Ee);if(!Xe&&!fe||this.getDoesTargetRoleMatchSourceRole(be,Xe,fe))return be}}}getDoesTargetRoleMatchSourceRole(Be,Ce,Ae){return Ce&&Ae&&!Ce.some((be,Ie)=>{var ve=_.get(be,Be,null),xe=_.get(Ae[Ie],Be,null);return ve&&xe&&!_.isEqual(ve,xe)})}getDataViewMappingConditions(Be){var Ce=Be.dataViewMappings&&Be.dataViewMappings[0];return Ce&&Ce.conditions}updateProjections(Be,Ce,Ae,be){var Ie={queryRef:Ce,hidden:be},ve=(0,p.Lw)(Be,Ce);ve||(Be[Ce]=ve=new p.yl([])),ve.addProjection(Ie),_.includes(Ae,Ce)&&ve.addActiveQueryReference(ve.all()[0].queryRef)}createConversionSourceContext(Be,Ce,Ae){return{query:Be,visualType:Ce,syncGroup:Ae}}convertDrillableRoles(Be,Ce,Ae,be,Ie){var ve;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.yT)(Ae)&&(ve=(0,F.yT)(Ce)?Be.isDrillDisabled:(0,F.p9)(Ae));var xe=new W.r(Be.defn.select([]),{},[],ve),Ee=(0,F.xY)(Ce,Be.isDrillDisabled);return _.isEmpty(Ee)?{query:xe,convertedFields:[]}:{query:xe,convertedFields:this.convertDrillableProjections(Ae,be,Be,Ie,Ee,xe)}}convertDrillableProjections(Be,Ce,Ae,be,Ie,ve){var xe=(0,F.xY)(Be,ve.isDrillDisabled),Ee=[];for(var Ne of Ie){var ye=this.getQueryFieldsForRole(Ae,Ne,Ce);if(ye=this.convertDrillableFields(ye,be,Be,ve),Ee=_.unionWith(Ee,ye,W.r.isEqualQueryFields),_.isEmpty(xe))break}return ve.ensureDrillableRoles(xe),Ee}getQueryFieldsForRole(Be,Ce,Ae){return Be.projections[Ce]?this.getQueryFields(Ae,()=>Be.tryGetFieldExprs(Ce)):[]}getUniqueQueryFields(Be,Ce){return this.getQueryFields(Ce,()=>Be.getUniqueQueryFields())}getQueryFields(Be,Ce){var Ae=Ce();if(this.visualPluginOps.isAnalysisVisual(Be))for(var be of Ae)be.isFieldParameter=!1;return Ae}convertDrillableFields(Be,Ce,Ae,be){var qe,Ie=this,ve=(0,H.Z)().create(Ae,this.geoTaggingService,be.isDrillDisabled),xe=ve.getNumberRangesForRoles(be),Ee=(0,F.xY)(Ae,be.isDrillDisabled),Ne=_.isEmpty(Ee),ye=new x.F(B.tc),Xe=[],fe=[],Se=function(){var at=_e.expr,ot=_e.queryName,mt=_e.nativeReferenceName,yt=_e.isHidden;if((0,Q.Ah)(at)){var Nt=(0,I.mA)(_e.expr);if(Nt&&_.find(fe,de=>(0,X.aI)(de,Nt)))return Xe.push(_e),0}var Bt=ve.findCompatibleRole({queryProjections:be.projections,schema:Ce,expr:at,preferDrillableRoles:!0,roleToExprMap:ye,useStrict:!0,isFieldParameter:_e.isFieldParameter}),he=Bt&&Bt.role;if(he){var Qe=he.name,je=xe[Qe],Ke=-1;if(_e.isFieldParameter)Ke=be.addParameter(at,he.name),Xe.push(_e);else{var tt=be.projections[Qe];if(Ne&&tt&&(qe=tt.all().length,je&&je.max&&je.max<=qe))return 0;if(Ie.shouldUseVariation(_e.expr,Ce,he.name,Ee,je,_.size(Be))){var $e=(0,I.mA)(_e.expr);return fe.push($e),Ke=be.add($e,Qe,{exprName:ot,nativeReferenceName:mt}),0}Ke=be.add(at,Qe,{exprName:ot,nativeReferenceName:mt,isHidden:yt})}Ke>-1&&Xe.push(_e)}};for(var _e of Be)Se();return Xe}tryRemove(Be,Ce,Ae,be){return void 0!==Ae.role?this.tryRemoveProjections(Be,Ce,Ae):!(void 0===Ae.expr)&&this.tryRemoveExpressions(Be,Ae,be)}tryRemoveExpressions(Be,Ce,Ae){var be=!1,Ie=Ce.fieldParameter;if(_.isArray(Ce.expr))for(var ve of Ce.expr)be=Be.removeExpr(ve,!!Ce.ignoreAggregates,Ae,Ie?.expr)||be;else be=Be.removeExpr(Ce.expr,!!Ce.ignoreAggregates,Ae,Ie?.expr);return Ce.shouldRemoveParameter&&Ie&&0===(Ie.length??0)&&(be=Be.removeParameter(Ie)||be),be}tryRemoveProjections(Be,Ce,Ae){var be=Ae.role,Ie=Ae.projOptions.parameter,ve=!1;if(Ie)ve=this.removeParameterProjections(Be,Ce,Ie,be,Ae.shouldRemoveParameter,Ae.projOptions.indexInParameter);else for(var Ne=Ae.projOptions.fieldIndex,Xe=(Ae.count??1)-1;Xe>=0;Xe--)if(!(ve=this.removeProjection(Be,Ce,be,{fieldIndex:Ne})))return!1;return ve}removeParameterProjections(Be,Ce,Ae,be,Ie,ve){var xe=!1;if(null!=ve)xe=this.removeProjection(Be,Ce,be,{parameter:Ae,indexInParameter:ve});else for(var ye=(Ae.length??0)-1;ye>=0;ye--)if(!(xe=this.removeProjection(Be,Ce,be,{parameter:Ae,indexInParameter:ye})))return!1;return Ie&&0===(Ae.length??0)&&(xe=Be.removeParameterByRoleName(Ae,be)||xe),xe}removeProjection(Be,Ce,Ae,be){var Ie=Be.getQueryRef(Ae,be),ve=Be.getVisualCalcExpressions().some(Ee=>Ee.name===Ie),xe=Be.removeProjection(Ae,be);return Ie&&!Be.isUsed(Ie)&&Ce&&Ce[Ie]&&(ve||null==Ce[Ie].formatString?delete Ce[Ie]:Ce[Ie]={formatString:Ce[Ie].formatString}),xe}tryAddWithUndefinedQuery(Be,Ce,Ae,be){var Ie=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,F.p9)(Be.capabilities);Ce.query=new W.r(V.DC.create(),{},[],Ie);var ve=this.tryAdd(Be,Ce,Ae,be);return ve||(Ce.query=void 0),ve}tryAdd(Be,Ce,Ae,be){d.Y.assertValue(Be,"capabilitiesHelper"),d.Y.assertValue(Ce,"config"),d.Y.assertValue(be,"options");var Ie=be.expr;d.Y.assertValue(Ie,"expr");var ve=new x.F(B.tc),xe=!1,Ee=be.projOptions;if(_.isArray(Ie)){var Ne=Ee&&Ee.fieldIndex;for(var ye of Ie)xe=null!=this.tryAddQuery(Be,Ce,be,ye,Ee,ve,Ae)||xe,null!=Ne&&Ee.fieldIndex++}else if(null==this.tryAddQuery(Be,Ce,be,Ie,Ee,ve,Ae))return!1;if(!Ae){var Xe=(0,F.xY)(Be.capabilities,!!Ce.query?.isDrillDisabled);if(Ce.query.ensureDrillableRoles(Xe),_.isArray(Ie))return xe}return!0}tryAddQuery(Be,Ce,Ae,be,Ie,ve,xe){d.Y.assertValue(Be,"capabilities"),d.Y.assertValue(Ce,"config"),d.Y.assertValue(be,"expr"),d.Y.assertValue(Ce,"query");var Ee=Ie&&Ie.isHidden,Ne=Be.findCompatibleRole({queryProjections:Ce.query.projections,schema:Ae.schema,expr:be,preferDrillableRoles:!1,roleToExprMap:ve,targetRole:Ae.targetRole,isFieldParameter:xe,overflowIsWarning:Ae.hideOnOverflow,isHidden:Ee,addExpressionFeedback:Ae.feedback});if(Ne&&Ne.role){var ye=Ne.error;if(!(ye===S.gU.conditionRangeTooLarge&&Ee||this.tryHideOnOverflow(Ne.role.name,Ce.query,ye)))return;var Xe=this.ensureCorrectKeyInfluencersRole(Ce.visualType,Ne.role,Ae.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!lt(Xe,Ce,Be.capabilities)&&(Xe=this.ensureCorrectSmallMultiplesRole(Ce,Be.capabilities,Xe,void 0,void 0)),!Be.validateDuplicateColumnsInRole(Xe,be,Ce.query,xe))return;var Se,fe=Xe.name;if(xe)Se=Ce.query.addParameter(be,fe,Ie&&Ie.fieldIndex);else{var qe=null==Ie?{}:Object.assign({},Ie);null==qe.nativeReferenceName&&(qe.nativeReferenceName=this.displayNameService.createUniqueNativeReference(be,Ae.schema,Ce.query,Be.capabilities,void 0)),Se=Ce.query.add(be,fe,qe)}return this.ensureDependentObjectDefn(Be.objectDescs,fe,Ce),ve.add(be,Xe),Se}}ensureCardinalityByHidingDifferentProjection(Be,Ce,Ae){var{query:be,visualType:Ie}=Be;if(be){var Ee=(0,H.Z)().create(this.visualPluginService.capabilities(Ie),this.geoTaggingService,be.isDrillDisabled).getNumberRangesForRoles(be)[Ce],Ne=be.projections[Ce].projected().length;Ee&&Ee.max<Ne&&this.tryHideOnOverflow(Ce,be,S.gU.conditionRangeTooLarge,Ae)}}tryHideOnOverflow(Be,Ce,Ae,be){if(!Ae)return!0;if(Ae===S.gU.conditionRangeTooLarge){var Ie=Ce.tryGetFieldExprs(Be);if(_.isEmpty(Ie))return!1;for(var ve=0;ve<Ie.length;ve++){var xe=Ie[ve];if((!_.isNumber(be)||be!==ve)&&!xe.isFieldParameter&&(0,J.t)(xe.expr)&&!xe.isHidden)return Ce.toggleHidden(xe.queryName),!0}}return!1}generateNativeReferenceNameForOperation(Be,Ce){var Ae=Ce.singleVisual.query.getQueryRef(Be.role,{fieldIndex:Be.index});if(null==Ae)return d.Y.assertFail(`queryRef does not exist while role ${Be.role}, field index ${Be.index}`),"";var be=Ce.singleVisual.query.defn.select().withName(Ae),Ie=this.visualPluginService.capabilities(Ce.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(be.expr,Be.schema,Ce.singleVisual.query,Ie,Ae)}captureCurrentActiveProjectionsByRole(Be){if(Be){var Ce=this.visualPluginService.capabilities(Be.config.singleVisual.visualType),Ae=Be.config.singleVisual.query;if(Ae){var be={};if(Ce&&Ce.expandAndSort)return Ce.expandAndSort.forEach(Ie=>{var ve=(0,p.Lw)(Ae.projections,Ie);!ve||!ve.activeProjectionRefs||(be[Ie]={projectionName:_.last(ve.activeProjectionRefs),currentPosition:ve.activeProjectionRefs.length,totalNumberOfProjections:ve.getQueryRefs().length})}),be}}}ensureCorrectKeyInfluencersRole(Be,Ce,Ae){return Be!==ne.U.keyDriversVisual||Ce.name!==t.Wx.details||Ae?Ce:_.find((0,t.RH)().dataRoles,be=>be.name===t.Wx.explainBy)}ensureCorrectSmallMultiplesRole(Be,Ce,Ae,be,Ie){return this.featureSwitchService.featureSwitches?.cartesianMultiplesAuthoring||!(0,l.oY)(Ce?.dataViewMappings)||Ae.name!==a.lP.rows||be&&Ie===a.lP.rows&&(0,l.oY)(be?.dataViewMappings)||Be.hasUsedSmallMultiples?Ae:_.find(Ce.dataRoles,ve=>ve.name===a.lP.category)}ensureDependentObjectDefn(Be,Ce,Ae){if(Be)for(var be in Be){var Ie=Be[be];for(var ve in Ie.properties){var xe=Ie.properties[ve];if(xe.rule&&xe.rule.inputRole===Ce){var Ee=Ae.objects;Ee||(Ee=Ae.objects={});var Ne=(0,C.D8)(Ee,be,null);Ne.properties[ve]||(Ne.properties[ve]=this.createDefaultDefinition(xe.type))}}}}createDefaultDefinition(Be){if(Be.fillRule)return(0,g.s6)()}getSourceShowAllInfo(Be){var Ce={};for(var Ae of _.values(Be)){var be=Ae.showAll;for(var Ie of Ae.all())Ce[Ie.queryRef]=be}return Ce}updateTargetShowAllInfo(Be,Ce,Ae){var be=this.getSourceShowAllInfo(Be.query.projections);for(var Ie of _.keys(Ce.projections)){var ve=Ae.roles.withName(Ie).kind;if(this.isShowAllRole(ve))for(var xe of Ce.projections[Ie].all()){var Ee=be[xe.queryRef];Ee&&(Ce.projections[Ie].showAll=Ee)}}}isShowAllRole(Be){return Be===o.Ts.Grouping||Be===o.Ts.GroupingOrMeasure}shouldDefaultExpandSort(Be,Ce,Ae){return _.includes(Ce,Be)&&Ae>1}setDrillMode(Be,Ce,Ae){Ae.setDrillMode(Be,Ce)}}},481621:function(me,j,e){e.d(j,{Z:function(){return C}});var r=e(662785),i=e(978450),a=e(263879);function t(u,E){return null==u||isNaN(u)?E:null==E||isNaN(E)?u:Math.min(u,E)}function l(u,E){return null==u||isNaN(u)?E:null==E||isNaN(E)?u:Math.max(u,E)}var g=e(935236),n=e(785463),d=e(147293),s=e(721442),h=e(709099),o=e(610013),v=e(574324),p=(e(446024),e(191941)),y=e(999104),S=e(43099);function C(){var E=y.r,c=p.eV;function f(w){return w&&w.geography&&(w.geography.latitude||w.geography.longitude)}function D(w){return _.some(w.preferredTypes,P=>f(P)||P.numeric)}function b(w){return w.cartesianKind===d.Xk.X||w.cartesianKind===d.Xk.Y}class T{constructor(P,N,I,O){n.Y.assertValue(P,"capabilities"),n.Y.assertValue(N,"roles"),n.Y.assertAnyValue(I,"objectDescs"),n.Y.assertValue(O,"roleMappings"),this.capabilities=P,this.roles=N,this.objectDescs=I,this.roleMappings=O}findCompatibleRole(P){n.Y.assertValue(P.queryProjections,"config"),n.Y.assertValue(P.schema,"schema"),n.Y.assertValue(P.expr,"expr"),n.Y.assertAnyValue(P.targetRole,"targetRole"),n.Y.assertAnyValue(P.roleToExprMap,"roleToExprMap");var N=P.expr,I=P.roleToExprMap,O=P.targetRole,R=P.preferDrillableRoles;if((0,r.Ah)(N)){R=!0;var W=this.getExistingTargetRoleForHierarchyLevelIfAny(N,I);if(W){if(O&&O!==W.name)return;O=W.name}}var U,F=(0,v.F)(N,P.schema);F&&(U=F.column||F.columnAggr||F.groupingColumn||F.groupingColumnAggr||F.measure);var B={projections:P.queryProjections,metadata:N.getMetadata(P.schema),columnName:U?U.name:void 0,preferDrillableRoles:R,targetRole:O,isFieldParameter:P.isFieldParameter,useStrict:P.useStrict,sourceRole:P.sourceRole,overflowIsWarning:P.overflowIsWarning,isHidden:P.isHidden,addExpressionFeedback:P.addExpressionFeedback},x=this.findRole(B);if(!x||!_.isEmpty(x?.error)){B.preferDrillableRoles=!P.preferDrillableRoles;var A=this.findRole(B);_.isEmpty(A?.error)&&(x=A)}return x&&I&&I.add(N,x.role),x}findRole(P){var I,N=this.roleMappings;if(!_.isEmpty(N)){var O=N[0].getValueType(P.metadata?P.metadata.type:void 0,P.columnName),R=this.roles.allRolesWithPreference(O?O.extendedType:void 0,P.projections,P.preferDrillableRoles,P.useStrict,P.sourceRole),W=P.targetRole?[P.targetRole]:R;for(var F of W)for(var U of N){var B=U.checkRoleCompatibility(P,F,R);if(B&&!B.error)return B;B&&(I=B)}return I}}getExistingTargetRoleForHierarchyLevelIfAny(P,N){return n.Y.assertValue(N,"roleToExprMap"),N.get(P)}orderByRolePreferences(P,N){n.Y.assertValue(P,"schema"),n.Y.assertValue(N,".orderRoleByPreferences - fields is undefined");for(var I=this.roles.defns,O=0,R=N.length,W=0,F=I.length;W<F;W++){var U=I[W].preferredTypes;if(!_.isEmpty(U))for(var B=O;B<R;B++){var x=N[B],L=x.expr.getMetadata(P);if(L){var Y=L.type;if(Y)for(var z=0,H=U.length;z<H;z++)if(Y.extendedType===c.fromDescriptor(U[z]).extendedType){N.splice(B,1),N.splice(O,0,x),O++;break}}}}}getNumberRangesForRoles(P){var I,N=_.map(this.roles.defns,z=>z.name);n.Y.assertValue(I=P instanceof E?P.projections:P,"projectionsByRole");var O={};for(var R of N)O[R]={min:1/0,max:0};var W=_.filter(this.roleMappings,z=>void 0===z.verifyMappingConditions({projections:I,roleNames:N,preferDrillableRoles:!0,ignoreMin:!0}));for(var F of W){var U=F.getCondition();for(var B of N){var A,x=U&&U[B];A=x?{min:l(x.min,0),max:t(x.max,1/0)}:{min:0,max:1/0};var L=O[B];L.min=Math.min(A.min,L.min),L.max=Math.max(A.max,L.max)}}for(var Y of _.values(O))Y.min=Math.min(Y.min,Y.max);return O}getNonLatLongRoles(){var P=this.getLatLongRoleNames();return this.getFilteredRoleNames(P)}getFilteredRoleNames(P){var I=this.capabilities.dataViewMappings,O=[];for(var R of I)R.categorical&&(0,o.Ax)(R.categorical.categories,{visitRole:F=>{O.push(F)}}),R.matrix&&(0,o.ms)(R.matrix.rows,{visitRole:F=>{O.push(F)}});return _.without(_.uniq(O),...P||[])}getLatLongRoleNames(){return this.getRoleNames(P=>D(P))}getCartesianGroupingOrMeasureRoleNames(){return this.getRoleNames(P=>b(P))}getRoleNames(P){return _.chain(this.capabilities.dataRoles).filter(P).map(N=>N.name).value()}hasPreferredTypes(){return _.some(this.capabilities.dataRoles,P=>!_.isEmpty(P.preferredTypes))}validateDuplicateColumnsInRole(P,N,I,O){if(n.Y.assertValue(P,"targetRole"),n.Y.assertValue(N,"expr"),n.Y.assertValue(I,"VisualQuery"),!P.noDuplicates)return!0;var R=P.name,W=I.projections;if(W&&W[R]){var F;if(O){var L=W[R].getFieldParameters(),Y=_.map(L,z=>z.expr);F=_.some(Y,z=>(0,i.aI)(N,z))}else{var U=W[R].all(),B=_.map(U,z=>z.queryRef),x=I&&I.defn&&I.defn.select(),A=_.map(B,z=>x.withName(z).expr);F=_.some(A,z=>(0,i.aI)(N,z))}return!F}return!0}}class M{constructor(P,N,I,O){n.Y.assertValue(P,"roles"),this.roles=P,this.geoTaggingService=N,this.condition=O,this.drillableRoles=I}getCondition(){return this.condition}checkRoleCompatibility(P,N,I){if(n.Y.assertValue(P.projections,"projections"),n.Y.assertAnyValue(P.metadata,"metadata"),P.metadata){var O=this.roles.withName(N);if(O){if(P.isFieldParameter)return{role:O};var R=(0,h.bD)(N,P.projections);P.isHidden||R++;var W=this.validateRoleCompatibility(O,P.metadata,R,P.preferDrillableRoles),F=W?{code:W,roleName:N}:void 0;if(!F&&!this.verifyMappingConditions({projections:P.projections,roleNames:_.without(I,N),preferDrillableRoles:P.preferDrillableRoles,ignoreMin:!1}))return{role:O};if(P?.addExpressionFeedback&&(F?.code===h.gU.conditionKindExpectedMeasure?(n.Y.assert(()=>P.addExpressionFeedback.discourageAggregation,"discourageAggregation should be set to true when the error is conditionKindExpectedMeasure"),P.addExpressionFeedback.compatibleRoleMatchErrorCode=F?.code):F?.code===h.gU.conditionKindExpectedGrouping&&(n.Y.assert(()=>null==P.addExpressionFeedback.compatibleRoleMatchErrorCode||P.addExpressionFeedback.compatibleRoleMatchErrorCode===h.gU.conditionKindExpectedGrouping,"All roles should be rejected with the same error code"),P.addExpressionFeedback.compatibleRoleMatchErrorCode=F?.code)),F&&F.roleName===N&&F.code===h.gU.conditionRangeTooLarge&&P.overflowIsWarning)return{role:O,error:F.code}}}}getValueType(P,N){if(P&&null==P.categoryString){var I=N&&this.geoTaggingService.getFieldType(N);null!=I&&(P=c.fromPrimitiveTypeAndCategory(P.primitiveType,I))}return P}verifyMappingConditions(P){for(var N of(n.Y.assertValue(P.projections,"projections"),n.Y.assertValue(P.roleNames,"roleNames"),P.roleNames)){var I=this.roles.withName(N);if(!I)return{code:a.$T.roleDoesNotExist,roleName:N};var O=(0,h.bD)(N,P.projections),R=this.validateRange({count:O,roleName:I.name,preferDrillableRoles:P.preferDrillableRoles,ignoreMin:P.ignoreMin});if(R)return{code:R,roleName:N}}}validateRoleCompatibility(P,N,I,O){n.Y.assertValue(P,"roleInfo"),n.Y.assertValue(N,"exprMetadata");var R=P.kind;if(N.kind===s.L.Measure){if(R===d.Ts.Grouping)return h.gU.conditionKindExpectedGrouping}else if(R===d.Ts.Measure)return h.gU.conditionKindExpectedMeasure;var W=P.requiredTypes;return W&&!c.isCompatibleTo(N.type,W)?a.$T.exprTypeMismatch:N.type?.misc?.sparkline&&!P.supportsSparklines?a.$T.sparklineSupportMismatch:this.validateRange({count:I,roleName:P.name,preferDrillableRoles:O,ignoreMin:!1})||void 0}isRoleDrillable(P){return _.includes(this.drillableRoles,P)&&(!this.condition[P]||void 0===this.condition[P].max||1===this.condition[P].max)}validateRange(P){if(this.condition&&(!P.preferDrillableRoles||!this.isRoleDrillable(P.roleName))){var N=this.condition[P.roleName];return N?(0,h.i8)(P.count,N,P.ignoreMin):void 0}}}class V{constructor(P){n.Y.assertValue(P,"roles"),this.defns=P}withName(P){return(0,g.q7)(this.defns,P)}allRolesWithPreference(P,N,I,O,R){var W=_.map(this.defns,F=>F.name);return R?this.promoteAndPenalize(W,F=>this.getRoleWeight(R,F)):this.promoteAndPenalize(W,F=>this.getTypeWeightForRole(P,F.preferredTypes),O),this.promoteAndPenalize(W,F=>this.getProjectionWeightForRole(F,N,I)),W}promoteAndPenalize(P,N,I){var O=0;for(var R of this.defns){var W=N(R);if(null!=W){var F=P.splice(P.indexOf(R.name),1)[0];W!==V.penalize||I?W===V.promote&&P.splice(O++,0,F):P.push(F)}}}getRoleWeight(P,N){return P.kind===N.kind||this.hasCommonTypes(P.requiredTypes,N.requiredTypes)||this.hasCommonTypes(P.requiredTypes,N.preferredTypes)||this.hasCommonTypes(P.preferredTypes,N.requiredTypes)||this.hasCommonTypes(P.preferredTypes,N.preferredTypes)?V.promote:V.penalize}hasCommonTypes(P,N){return!_.isEmpty(P)&&!_.isEmpty(N)&&!_.isEmpty(_.intersectionWith(P,N,_.isEqual))}getTypeWeightForRole(P,N){if(N){var I=V.penalize;for(var O of N)if(P===c.fromDescriptor(O).extendedType){I=V.promote;break}return I}}getProjectionWeightForRole(P,N,I){var O=N[P.name],R=O&&O.projected();if(!I&&!_.isEmpty(R)&&P.kind!==d.Ts.Measure||I&&P.kind===d.Ts.Measure)return V.penalize}}return V.penalize=-1,V.promote=1,{create(w,P,N){if(n.Y.assertAnyValue(w,"capabilities"),w&&!_.isEmpty(w.dataRoles)){var I=w.dataViewMappings,O=new V(w.dataRoles),R=[];for(var W of I){var F=W.conditions;if(_.isEmpty(F))R.push(new M(O,P,(0,S.xY)(w,N)));else for(var U of F)R.push(new M(O,P,(0,S.xY)(w,N),U))}return new T(w,O,w.objects,R)}},dataRoleWrapper:w=>new V(w),isValueTypeDescriptorLatLong:f,isRoleCompatibleWithLatLong:D,isRoleCompatibleWithScatterXY:b}}},369632:function(me,j,e){e.d(j,{Q:function(){return a}});var r=e(785463),i=e(381839);function a(l){return new t(l)}class t{constructor(g){this.visualPlugins=g,r.Y.assertValue(this.visualPlugins,"visualPlugin")}hasFilterCapabilities(g){var n=this.visualPlugins.getPlugin(g);return!!(n&&n.capabilities&&n.capabilities.objects&&(0,i.x_)(n.capabilities.objects))}}},458598:function(me,j,e){e.d(j,{n:function(){return T}});var r=e(619584),i=e(125129),a=e(748958),t=e(829017),l=e(717312),g=e(727695),n=e(973817),d=e(879460),s=e(785463),h=e(253261),o=e(839765),v=e(552426),m=e(98339),p=e(402389),y=e(755743),S=e(401856),C=e(712813),u=e(823786),E=e(229456),c=e(411261),f=e(555514),D=e(217814),b=e(200773);function T(V,w,P,N,I,O,R,W,F,U,B,x,A,L,Y,z,H,Z,k,K,ee,Q,J){return new M(V,w,P,N,I,O,R,W,F,U,B,x,A,L,Y,z,H,J,Q,Z,k,K,ee)}class M{constructor(w,P,N,I,O,R,W,F,U,B,x,A,L,Y,z,H,Z,k,K,ee,Q,J,X){this.queryExecutionServices=w,this.hostServices=P,this.promiseFactory=N,this.conceptualSchemaProxy=I,this.featureSwitchService=O,this.telemetryService=R,this.visualQueryGenerator=W,this.visualPlugin=F,this.visualPluginOps=U,this.filterGenerator=B,this.displayNameService=x,this.explorationNavigation=A,this.visualValidationService=L,this.resourceLoader=Y,this.eventBridge=z,this.dataProxyService=H,this.dataSources=Z,this.visualLifecycleService=k,this.resourceRegistration=K,this.cachePolicyProviderService=ee,this.visualInsightsAnalysisHandler=Q,this.visualParameterService=J,this.visualDataProxyExecutionService=X}attach(w){this.queryExecutionServices=w}cancelQuery(w){this.visualDataProxyExecutionService.cancelQuery(w),this.visualParameterService.cancelResolve(w)}generateApplicationContext(w,P){var N=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,I=N&&N.objectId,O=this.dataSources.get(),R=O?.filter(W=>!!W.dsr)[0]?.dsr?.dbName;return{DatasetId:R,Sources:[{ReportId:I,Operation:w,VisualId:P&&P.name}]}}runQuery(w){var I,P=(0,u.B)(w.performanceActivity,y.RP,this.telemetryService),N=w.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(I=this.startResolveParametersPerformanceActivity(N));var O=this.startQueryPerformanceActivity(N),R=this.dataSources.get(),W=w.contract,F=W.config.singleVisual,U=F.query&&F.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(W)||!(w.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(F,R)||this.visualParameterService.shouldExecute(F,R)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,I,O),O&&O.queryActivity.resolve(),P&&P.resolve(),!1;this.queryExecutionServices.notifyStart(O&&O.telemetryActivity),I&&I.setProperty("start",(0,h.t)());var A=this.resolveQueryParameters(w,I);return(this.visualInsightsAnalysisHandler.supportsInsights(W)?A.then(L=>{if((L.queryChange||L.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,I,O),!U||this.visualQueryGenerator.shouldExecute(F,R))return this.visualInsightsAnalysisHandler.runInsights(W).then(Y=>{if(Y){if(Y.error)throw Y.error;Y.queryExecutionOptions&&_.merge(w,Y.queryExecutionOptions)}return this.runQueryImpl(w,R,W,O,Y&&Y.warnings)});O?.queryActivity?.cancel(!0)}):A.then(L=>{if((L.queryChange||L.aliasChange)&&this.queryExecutionServices.applyResolveParametersUpdate(),this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!0,I,O),!U||this.visualQueryGenerator.shouldExecute(F,R))return this.runQueryImpl(w,R,W,O,void 0);O?.queryActivity?.cancel(!0)})).catch(L=>{this.queryExecutionServices.handleErrors(L,O)}).finally(()=>{this.queryExecutionServices.notifyEnd(),P&&P.resolve()}),!0}transitionResolveParametersToQuery(w,P,N){P&&P.isRunning()&&(N&&N.queryActivity.isRunning()&&N.queryActivity.setProperty("start",(0,h.t)()),w&&P.getProperty("metadataParameterCount")>0?P.resolve():P.cancel(!0))}resolveQueryParameters(w,P){var N=this.dataSources.get();return this.conceptualSchemaProxy.get(N).then(I=>{var O=this.generateApplicationContext(w.queryOperation,w.contract),R=this.getDatasetCacheOptions(w,N,!1),W={dataSources:N,schema:I,additionalFilters:this.hostServices.getFilters(this.filterGenerator,I),config:w.contract.config.singleVisual,cacheOptions:R,allowResultFromClientCache:w.allowResultFromClientCache,applicationContext:O,cacheResponseOnServer:w.cacheResponseOnServer,visual:w.contract,performanceActivity:P,metricsKind:w.executionMetricsKind};return this.visualParameterService.resolve(W)})}runQueryImpl(w,P,N,I,O){!w.initialLoad&&this.hostServices&&this.updateCachedData(w);var F,U,R=this.getDatasetCacheOptions(w,P,!0),W=w.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;W&&(F=this.startVisualFirstLoadTelemetryEvent(R,P,N.name,I&&I.telemetryActivity)),U=this.generateApplicationContext(w.queryOperation,N);var B=this.visualDataProxyExecutionService.runQuery({dataSources:P,contract:N,viewport:w.viewport,hostServices:this.hostServices,initialLoad:w.initialLoad,useVisualContainerCache:w.useVisualContainerCache,preferCurrentData:w.preferCurrentData,allowResultFromClientCache:w.allowResultFromClientCache,cacheResponseOnServer:w.cacheResponseOnServer,cacheResponseOnContract:w.cacheResponseOnContract,cacheOptions:R,clientCacheOnly:w.clientCacheOnly,visualFirstLoadEvent:F,performanceActivity:I&&I.queryActivity,executionMetricsKind:w.executionMetricsKind,canDefer:w.canDefer,requestPriority:w.requestPriority,applicationContext:U,windowExpansionTransform:w.windowExpansionTransform,skipShouldRunQueryVerification:w.skipShouldRunQueryVerification,previewGate:w.previewGate,customizeQueryOverride:w.customizeQueryOverride}),x=N.config.singleVisual.visualType,L=this.loadResourcePackageReferences(x,N.config.singleVisual.objects);w.geocodingTracker&&w.geocodingTracker.newQuery(I&&I.rootActivity);var Y=!1;return B.previewPromise.then(z=>{z&&!Y&&this.resolveResourcePackageReferences(x,z.dataProxyQuery.transforms.objects,I&&I.rootActivity).then(H=>{this.handleQueryResult(N,z.result,z.dataProxyQuery,H,null,null,!0,I,O)})},z=>{s.Y.assert(()=>z.ignorable,"Preview promise should be rejected with ignorable errors only")}),B.finalPromise.then(z=>{var H=z&&z.result&&z.result.dataReaderResult,Z=!!(R&o.b.AllowCache);H&&Z&&F&&(F.event.info.cacheResultFromServer=z.result.dataReaderResult.fromCache);var k=this.getLastRefreshTime(P);if(Z&&H&&this.isResultStale(k,z.result.dataReaderResult.timestamp)){var ee=o.b.AllowQuery|o.b.CacheResult;return ee=R&o.b.PreventRefresh?ee|o.b.PreventRefresh:ee,F&&(F.event.info.staleCacheResultFromServer=!0),this.visualDataProxyExecutionService.runQuery({dataSources:P,contract:N,viewport:w.viewport,hostServices:this.hostServices,initialLoad:w.initialLoad,useVisualContainerCache:!1,preferCurrentData:w.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:ee,visualFirstLoadEvent:F,performanceActivity:I&&I.queryActivity,executionMetricsKind:w.executionMetricsKind,requestPriority:w.requestPriority,canDefer:w.canDefer}).finalPromise}return z}).then(z=>L.then(()=>{this.processQueryResult(w,z,I,O)})).finally(()=>{Y=!0,W&&F&&F.resolve()})}startQueryPerformanceActivity(w){if(w&&w.isRunning())return{rootActivity:w,queryActivity:w.createChildActivity({name:i.n.Query}),telemetryActivity:this.telemetryService.getOpenActivityById(w&&w.getProperty("telemetryActivityId"))}}startResolveParametersPerformanceActivity(w){if(w)return w.createChildActivity({name:i.n.ResolveParameters})}startVisualFirstLoadTelemetryEvent(w,P,N,I){var W,O=!!(w&o.b.AllowCache),R=(0,C.xR)(P);return W=I?this.telemetryService.startChildEvent(I.event,y.AI,{onPrem:R,isServerCacheEligible:O,visualName:N}):this.telemetryService.startEvent(y.AI,{onPrem:R,isServerCacheEligible:O,visualName:N}),(0,c.SA)(W.event,this.explorationNavigation),W}getCachedQueryOrGenerate(w){var P=this;return(0,r.A)(function*(){var N=(0,u.B)(w.performanceActivity,y.qK,P.telemetryService),I=P.dataProxyService.lastExecutedQuery();if(I)return P.cachedQueryResult=void 0,I;try{return P.cachedQueryResult||(yield P.generateQuery(w))}finally{N&&N.resolve()}})()}generateQuery(w){var P=this;return(0,r.A)(function*(){var N=P.dataSources.get(),I=yield P.conceptualSchemaProxy.get(N),R=P.visualDataProxyExecutionService.generateQuery({dataSources:N,schema:I,config:w.contract.config.singleVisual,hostServices:P.hostServices,visualQueryGenerator:P.visualQueryGenerator,executionType:D.by.Default,preferCurrentData:null==w.preferCurrentData||w.preferCurrentData,viewport:w.viewport,allowResultFromClientCache:null==w.allowResultFromClientCache||w.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:w.performanceActivity,executionMetricsKind:w.executionMetricsKind});return P.cachedQueryResult=P.dataProxyService.lastExecutedQuery()?void 0:R,R})()}updateCachedData(w){var P=this;return(0,r.A)(function*(){if(!1!==w.cacheResponseOnContract){var N=yield P.generateQuery({...w,performanceActivity:void 0}),I=w.contract;if(N&&!N.error&&I.cachedData){I.cachedData.dataUpdatedTime=void 0;var O=P.visualPlugin.capabilities(I.config.singleVisual.visualType);I.cachedData.transformsObject=l.R.serializeDataViewTransformActions(N.transforms,O.objects),I.cachedData.queryObject=N.options.query.command,I.cachedData.dataObject=void 0}}})()}loadMoreData(w){var P=this.startQueryPerformanceActivity(w.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(w,P).then(N=>{N&&this.mergeMoreData(N.result,N.dataProxyQuery,w.currentData,N.performanceActivityContext)}).catch(N=>{P&&P.queryActivity.reject(N)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}canLoadMoreData(){return this.visualDataProxyExecutionService.canLoadMoreData()}loadWindow(w){var P=this.startQueryPerformanceActivity(w.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:w.contract,hostServices:this.hostServices,viewport:w.viewport,useVisualContainerCache:w.useVisualContainerCache,performanceActivity:P?.queryActivity,executionMetricsKind:w.executionMetricsKind,windowExpansionState:w.windowExpansionState}).then(N=>{this.handleLoadMoreDataWarnings(N&&N.result,N&&N.dataProxyQuery),this.processQueryResult(w,N,P,void 0)}).catch(N=>{this.queryExecutionServices.handleErrors(N),P&&P.queryActivity.reject(new d.PJ(N))}).finally(()=>{this.queryExecutionServices.notifyEnd()})}getNextDataSegment(w,P){var N=P||this.startQueryPerformanceActivity(w.performanceActivity),I=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:w.contract,hostServices:this.hostServices,viewport:w.viewport,useVisualContainerCache:w.useVisualContainerCache,performanceActivity:N?.queryActivity,executionMetricsKind:w.executionMetricsKind}).then(O=>{this.handleLoadMoreDataWarnings(O&&O.result,O&&O.dataProxyQuery);var R=O;N&&(R={...R,performanceActivityContext:N}),I.resolve(R)},O=>{this.queryExecutionServices.handleErrors(O),N&&N.queryActivity.reject(new d.PJ(O)),I.reject(O)}):(N&&N.queryActivity.reject(new b.iD("Cannot load more data","User")),I.reject("Cannot load more data")),I.promise}reloadDataSegment(w,P){var N=w.currentData&&w.currentData.dataView&&w.currentData.dataView.matrix&&w.currentData.dataView.matrix.rows&&w.currentData.dataView.matrix.rows.root;if(N){var I=this.dataProxyService.getNodeSegment(P);if(I&&0!==I.index){this.dataProxyService.discardSegmentsFrom(I.index);var O=this.dataProxyService.getLastNodeIndex();(0,v.BX)(N,O)?this.loadMoreData(w):this.runQuery(w)}else this.runQuery(w)}else this.runQuery(w)}mergeMoreData(w,P,N,I){var O=M.getDataProxyQueryExecutionResultWarnings(w,P),R=w&&w.dataReaderResult?w.dataReaderResult.dataView:null;if(R){s.Y.assert(()=>null!=N&&null!=N.dataView,"Expected to have previous segment already");var W=N.dataView;(0,v.Jn)(W,R);var F={dataView:W,dataViewSource:w&&w.dataViewSource,performanceActivities:w&&w.dataReaderResult&&w.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(O)||(F.warnings=O),this.queryExecutionServices.loadMergedData(F,I)}else I&&I.queryActivity.resolve()}visualizeDataViewSource(w,P,N,I){s.Y.assertValue(P,"dataViewSource");var O=this.startQueryPerformanceActivity(I),R=w.config.singleVisual,W=this.visualPluginOps.targetedDataViewKinds(R.visualType,R.query),F=(0,t.LF)(W,P.data,(0,n.p)(this.featureSwitchService.featureSwitches)),U=F.error;if(U)this.queryExecutionServices.handleErrors(U);else{var B=this.dataSources.get();s.Y.assertValue(B,"dataSources");var x=w&&w.config&&w.config.singleVisual;!B||!x||this.conceptualSchemaProxy.get(B).then(A=>{var L=this.visualQueryGenerator.execute({config:x,dataSources:B,schema:A,additionalFilters:this.hostServices.getFilters(this.filterGenerator,A),restartToken:F.restartToken,dataWindow:N,dataSourceVariables:this.hostServices.getDataSourceVariables(),disableAnchorTime:!!this.hostServices.disableAnchorTime||this.visualPluginOps.isQnaVisual(x.visualType)});if(L){var Y=this.promiseFactory.defer();Y.resolve(L.options),this.handleQueryResult(w,{dataViewSource:P,dataReaderResult:F},{transforms:L.transforms,error:L.error,warnings:L.warnings,options:Y.promise},null,{updateContractCache:!0},null,!1,O)}})}}updateNonQueryVisual(w,P,N){var I=this.startQueryPerformanceActivity(N),O={dataView:null,dataViewSource:null};if(P){var R=w.config.singleVisual.visualType,W=w.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(R,W,N).then(F=>{this.queryExecutionServices.applyUpdate(O,P,F,I)}).finally(()=>{this.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(O,P,null,I)}updateContractCache(w,P,N){if(s.Y.assertAnyValue(P,"result"),!w)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() contract is undefined"));var I=this.dataSources.get();if(!I)return this.promiseFactory.reject(new Error("VisualContainerQueryHandler.updateContractCache() dataSources is undefined"));s.Y.assertValue(N,"dataProxyQuery is expected to be defined when there is a dataSource");var O=w.cachedData&&w.cachedData.dataUpdatedTime?w.cachedData.dataUpdatedTime:null,R=P&&P.dataViewSource?P.dataViewSource.data:void 0,W=N&&N.error;return P&&P.dataReaderResult&&P.dataReaderResult.disallowPersisting&&(O=null,R=null,W=new d.r8("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(I).then(F=>N.options.then(U=>{w.cachedData=(0,C.Tg)(this.visualPlugin,this.displayNameService,R,{transforms:N.transforms,error:W,warnings:N.warnings,options:U,compiledMappings:N.compiledMappings},F,w.config.singleVisual,this.featureSwitchService.featureSwitches,(0,f.XF)(w.filters),O)}))}getLastRefreshTime(w){for(var P of w)if(P&&P.dsr&&P.dsr.lastRefreshTime)return P.dsr.lastRefreshTime}processQueryResult(w,P,N,I){var O;P&&(O={updateContractCache:w.cacheResponseOnContract??!0,updateServerCache:P.updateServerVisualContainerCache},this.resolveResourcePackageReferences(w.contract.config.singleVisual.visualType,P.dataProxyQuery.transforms.objects,N&&N.rootActivity).then(R=>{this.handleQueryResult(w.contract,P&&P.result,P.dataProxyQuery,R,O,w.currentData,!1,N,I)}))}isResultStale(w,P){var I=(0,g.z3)(w),O=(0,g.jT)(P);return s.Y.assert(()=>!!O,"A result date should be returned -- this is needed to check for freshness."),!(!I||!O)&&I.getTime()-12e4>O.getTime()}getDatasetCacheOptions(w,P,N){var O=w.initialLoad,R=this.visualLifecycleService&&this.visualLifecycleService.has(w.contract.id,N);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(P))return this.cachePolicyProviderService.getInteractiveQueryPolicy(O&&R,w.interactiveQueryCachingSetting)}else if(O&&R&&this.isQueryCachingEnabledForAnyDataset(P))return o.b.AllowCache|o.b.AllowQuery|o.b.CacheResult}isQueryCachingEnabledForAnyDataset(w){return!!_.some(w,P=>P.dsr&&P.dsr.isQueryCachingEnabled)}handleQueryResult(w,P,N,I,O={},R,W=!1,F,U){var B,x;if(this.queryExecutionServices.clearErrors(),P){B={dataView:P.dataReaderResult?P.dataReaderResult.dataView:null,dataViewSource:P.dataViewSource?P.dataViewSource:null,performanceActivities:P.dataReaderResult?P.dataReaderResult.performanceActivities:null},x=M.getDataProxyQueryExecutionResultWarnings(P,N)||[],U&&(x=_.concat(x,U)),_.isEmpty(x)||(B.warnings=x);var A=(0,C.wk)(B.dataView);if(A&&(B.isFirstSegment=A),this.featureSwitchService?.featureSwitches?.queryContext){var L=P.dataReaderResult?.queryContext;L&&(B.queryContext=L)}}else if(B={dataView:R&&R.dataView,dataViewSource:R&&R.dataViewSource,isFirstSegment:R&&R.isFirstSegment},x=R&&R.warnings||[],U&&(x=_.concat(x,U)),_.isEmpty(x)||(B.warnings=x),this.featureSwitchService?.featureSwitches?.queryContext){var Y=R?.queryContext;Y&&(B.queryContext=Y)}if(this.queryExecutionServices.handleWarnings(x,N&&N.transforms),this.queryExecutionServices.applyUpdate(B,N.transforms,I,F,W),O&&O.updateContractCache){var H=this.updateContractCache(w,P&&P.dataViewSource?P.dataViewSource.data:void 0,N);O.updateServerCache&&H.then(()=>{N.options.then(Z=>{if(!_.isEmpty(Z.query.command)){var K={visualContainerId:w.id,query:JSON.stringify(Z.query.command),dataTransforms:this.getCachedTransformsString(w)};this.eventBridge.publishToChannel(E.r7Z,K)}})})}}handleLoadMoreDataWarnings(w,P){this.queryExecutionServices.clearErrors();var N=M.getDataProxyQueryExecutionResultWarnings(w,P)||[];this.queryExecutionServices.handleWarnings(N,P&&P.transforms)}getCachedTransformsString(w){var P=w.cachedData;if(P){var N=P.transformsObject;if(N)return l.R.serializeTransformActions(N)}}loadResourcePackageReferences(w,P){var N=this.visualPlugin.capabilities(w),I=N&&N.objects,O=this.explorationNavigation.getCurrentExploration();return s.Y.assert(()=>!!O||!(0,m.SA)(P,I),"currentExploration"),(0,m.gB)(P,I,()=>O?O.resourcePackages:null,this.resourceLoader,this.promiseFactory,(R,W)=>this.ensureSharedResource(O,R,W))}ensureSharedResource(w,P,N){if(this.resourceRegistration){var I=(0,S.ZC)(w,a.X.SharedResources);(0,p.AU)(I,P)||this.resourceRegistration.add(P,a.X.SharedResources,N)}}resolveResourcePackageReferences(w,P,N){var I=this.visualPlugin.capabilities(w),O=I&&I.objects,R=this.explorationNavigation.getCurrentExploration();return s.Y.assert(()=>!!R||!(0,m.SA)(P,O),"currentExploration"),(0,m.dQ)(P,O,R?R.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,N)}static getDataProxyQueryExecutionResultWarnings(w,P){var N;return P&&!_.isEmpty(P.warnings)&&(N=N||[]).push(...P.warnings||[]),w&&w.dataReaderResult&&!_.isEmpty(w.dataReaderResult.warnings)&&(N=N||[]).push(...w.dataReaderResult.warnings||[]),N}}},217814:function(me,j,e){e.d(j,{bS:function(){return p},by:function(){return v}});var r=e(125129),i=e(167515),a=e(149094),t=e(56175),l=e(200773),g=e(785463),n=e(928912),d=e(549062),s=e(66759),h=e(552426),o=e(857327),v=function(C){return C[C.Default=0]="Default",C[C.LoadMore=1]="LoadMore",C[C.EnsureData=2]="EnsureData",C[C.LoadWindow=3]="LoadWindow",C}({});class m{constructor(u,E,c){this.index=u,this.restartToken=E,c&&(this.hierarchyLastNodeIndex=c)}endsBeforeNode(u){g.Y.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var E=this.hierarchyLastNodeIndex,c=Math.min(E.length,u.length),f=0;f<c;f++){var D=E[f],b=u[f];if(D<b)return!0;if(D>b)return!1}return u.length>E.length}}function p(C,u,E,c,f=!1){return new y(C,u,E,c,f)}class y{constructor(u,E,c,f,D){this.hasExecutedQuery=!0,this.dataProxy=u,this.promiseFactory=c,this.filterGenerator=E,this.dataSegments=[],this.telemetryV2Enabled=D,this.visualPluginService=f}generateQuery(u){var E=(0,n.ni)(`visualQueryGenerator(${u.config.visualType})`),c=u.visualQueryGenerator.execute({config:u.config,dataSources:u.dataSources,schema:u.schema,additionalFilters:u.hostServices.getFilters(this.filterGenerator,u.schema),restartToken:this.getRestartToken(u),cacheResponseOnServer:!(!u.isInitialLoad&&!u.cacheResponseOnServer),allowResultFromClientCache:u.allowResultFromClientCache,dataWindow:u.viewport,cacheOptions:u.cacheOptions,clientCacheOnly:u.clientCacheOnly,dataSourceVariables:u.hostServices.getDataSourceVariables(),performanceActivity:u.performanceActivity,executionMetricsKind:u.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:u.requestPriority,applicationContext:u.applicationContext,windowExpansion:this.getWindowExpansion(u),disableAnchorTime:!!u.hostServices.disableAnchorTime||u.config.visualType===o.U.qnaVisual,drillableRoles:u.drillableRoles,projectVisualCalculationContext:u.projectVisualCalculationContext,customizeQueryOverride:u.customizeQueryOverride,isPivoted:u.isPivoted,dataViewMappingsOverride:u.dataViewMappingsOverride});return E(),c}getSegmentRestartToken(u){if(!(u<=0))return g.Y.assert(()=>u<=this.dataSegments.length,"SegmentIndex out of bounds"),this.dataSegments[u-1].restartToken}runQuery(u){g.Y.assertValue(u.config,"config"),g.Y.assert(()=>u.executionType!==v.LoadMore||!0!==u.preferCurrentData,"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var E=this.promiseFactory.defer(this.telemetryV2Enabled),c=_.last(this.dataSegments);if(u.executionType!==v.LoadMore||c&&c.restartToken){var D=u.generatedQuery||this.generateQuery(u);if(D)if(u.additionalDataViewKinds&&D.options&&(D.options.kinds|=u.additionalDataViewKinds),D.error)E.reject(D.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&u.preferCurrentData&&(0,a.Pv)(D.options,this.generatedQuery.options))){if(D=this.ensureRestartToken(u,D),this.shouldDelayExecution(u,D))return this.resolveEmptyResult(D,E),(0,t.Z)(E);if(u.performanceActivity){D.options.isColdLoad=function(C){var u=(0,l.hM)(E=>E.name===r.n.OpenReport,C);return u&&u.includesBootstrap}(u.performanceActivity);var b=u.performanceActivity.getProperty("parent");b&&b.name===r.n.VisualContainerLifecycle&&(b.lifecycleFlags|=i.$c.ranQuery)}var T=this.dataProxy.execute(D.options);return T.then(M=>this.handleQueryResult(M,D,T,u.config.query),M=>{throw this.generatedQuery=void 0,M})}this.generatedQuery=D,E.resolve(null)}else this.generatedQuery=void 0,E.reject()}else E.reject();return(0,t.Z)(E)}cancelQuery(u){this.dataProxy.cancelQuery(u)}ensureRestartToken(u,E){return u.executionType!==v.LoadMore&&(this.dataSegments=[],u.preferCurrentData&&(E=this.generateQuery(u),u.additionalDataViewKinds&&(E.options.kinds|=u.additionalDataViewKinds))),E}getRestartToken(u){var E=this.dataSegments.length-1;return u.preferCurrentData?this.getSegmentRestartToken(E):u.executionType===v.LoadMore?this.getSegmentRestartToken(E+1):void 0}getWindowExpansion(u){if(u.config&&u.config.query&&u.config.query.expansionStates){var E=u.config.visualType;g.Y.assertValue(E,"Visual type must be defined");var c=this.visualPluginService.capabilities(E);if(!_.some(c.dataViewMappings,D=>D&&D.matrix&&D.matrix.rows&&D.matrix.rows.dataReductionAlgorithm&&D.matrix.rows.dataReductionAlgorithm.topNPerLevel))return void g.Y.assert(()=>u.executionType!==v.LoadWindow,"LoadWindow is only supported when data reduction is topNPerLevel");var f=this.windowExpansionState;return u.executionType===v.LoadWindow&&(g.Y.assertValue(u.windowExpansionState,"Missing window information"),f=u.windowExpansionState),u.windowExpansionTransform?u.windowExpansionTransform(f):(g.Y.assert(()=>_.size(u.config.query.expansionStates)<=1,"Expected at most one expansion state"),(0,d.tU)(_.first(u.config.query.expansionStates),f,u.config.query.defn.select(),u.schema))}}shouldDelayExecution(u,E){return!E.options.query.command||E.deferred&&u.executionType!==v.LoadMore&&u.executionType!==v.EnsureData}resolveEmptyResult(u,E){this.generatedQuery=u,this.hasExecutedQuery=!1,E.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})}handleQueryResult(u,E,c,f){return this.hasExecutedQuery=!0,this.generatedQuery=E,c.matchesLastExecuteQuery&&(u=this.rewriteQueryResultWithoutPerformanceActivities(u)),this.addNewDataSegment(u&&u.dataReaderResult),this.addWindowExpansionState(E,f,u&&u.dataReaderResult),null!=u&&(u.isPivoted=E.isPivoted),u}addWindowExpansionState(u,E,c){1===_.size(u.compiledMappings)&&u.compiledMappings[0].matrix&&u.compiledMappings[0].matrix.rows&&u.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&u.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(g.Y.assert(()=>_.size(E.expansionStates)<=1,"Expected at most one expansion state"),this.windowExpansionState=(0,s.kD)(c.dataView)):this.windowExpansionState=null}addNewDataSegment(u){var b,E=u&&u.restartToken,c=u&&u.dataView,f=c&&c.matrix&&c.matrix.rows&&c.matrix.rows.root,D=this.dataSegments.length;if(_.isEmpty(f&&f.children))b=new m(D,E);else{var M,T=_.last(this.dataSegments);T?(g.Y.assertValue(T.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),M=_.clone(T.hierarchyLastNodeIndex)):M=[],(0,h.WE)(f,M),g.Y.assert(()=>!T||T.endsBeforeNode(M),"Segment lastNodeIndex must be incremental"),b=new m(D,E,M)}this.dataSegments.push(b)}rewriteQueryResultWithoutPerformanceActivities(u){if(u&&u.dataReaderResult&&u.dataReaderResult.performanceActivities){var E={...u.dataReaderResult};return delete E.performanceActivities,{...u,dataReaderResult:E}}return u}canLoadMore(){var u=_.last(this.dataSegments);return null!=u&&null!=u.restartToken}lastExecutedQuery(){return this.generatedQuery}getNodeSegment(u){return g.Y.assert(()=>!_.some(this.dataSegments,E=>_.isEmpty(E.hierarchyLastNodeIndex)),"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,E=>!E.endsBeforeNode(u))}discardSegmentsFrom(u){g.Y.assert(()=>u<this.dataSegments.length,"segmentIndex out of bounds"),this.dataSegments.length=u}getLastNodeIndex(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex}getSecondToLastNodeIndex(){if(this.dataSegments&&!(this.dataSegments.length<2))return[...this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex]}}},722874:function(me,j,e){function r(){return new i}e.d(j,{u:function(){return r}});class i{constructor(){this.visualIds={}}add(t){this.visualIds[t]=1}delete(t){delete this.visualIds[t]}has(t,l=!0){var g=1===this.visualIds[t];return g&&l&&this.delete(t),g}}},942748:function(me,j,e){e.d(j,{i:function(){return p}});var r=e(936744),i=e(971938),a=e(785463),t=e(147293),l=e(709099),g=e(702087),n=e(381839),d=e(899846),s=e(989927),h=e(103965),o=e(712813),v=e(925397),m=e(857327);function p(S,C){return new y(S,C)}class y{constructor(C,u){this.plugins=C,this.featureSwitchService=u,a.Y.assertValue(C,"VisualUtil - plugins"),a.Y.assertValue(u,"VisualUtil - featureSwitchService")}canEdit(C,u){var E=this.plugins.capabilities(C);switch(E&&E.advancedEditModeSupport){case t.bU.SupportedNoAction:return!0;case t.bU.SupportedInFocus:return u;default:return!1}}dataViewKinds(C,u){if(C){var E=this.plugins.capabilities(C);if(E){var c=E.dataViewMappings,f=(0,g.my)(c);if(u){var D=(0,o.L)(u),b=(0,l.i7)(u.projections,c,D,this.featureSwitchService.featureSwitches);f=(0,g.my)(b.supportedMappings),"map"===C&&f&r.k.Categorical&&(0,i.K5)(u.projections,b.supportedMappings)&&(f|=r.k.Matrix)}if(f)return f}}}targetedDataViewKinds(C,u){var E=this.plugins.getPlugin(C);return(0,s.g4)(E,C)&&!(0,h.Ht)(E)?r.k.All:this.dataViewKinds(C,u)||r.k.All}supportsFocusMode(C){var u=this.plugins.capabilities(C);return u&&u.dataViewMappings&&!u.disableFocusMode}isSupportedVisual(C){var u=(0,v.d)(C);return!!u&&!!this.plugins.getPlugin(u)}canConvertVisual(C){if(!C)return!1;var u=(0,v.d)(C);if(!u)return!1;var E=this.plugins.capabilities(u);return(this.isQueryVisual(u)||!(!E||!E.isConvertible))&&!(0,o.aj)(C)}canFormatVisual(C){return!!C&&!(0,o.aj)(C)}canSummarizeVisual(C){var u=this.plugins.getPlugin(C);return!!u&&(this.isAnalysisVisualPlugin(u)?!!u.getAnalysisVisualNarrativeSummaryConfiguration:!!u.getNarrativeSummaryBindings)}isAnalysisVisualPlugin(C){return this.isAnalysisVisual(C.name)}isQueryVisual(C){var u=this.plugins.capabilities(C);return!u||!this.isQueryDisabled(C,u)&&null!=u.dataViewMappings}isQueryDisabled(C,u){if(a.Y.assertValue(C,"visualType"),a.Y.assertAnyValue(u,"capabilities"),u&&(0,d.Ol)(u.dataViewMappings))return!this.plugins.isScriptVisualQueryable(C)}supportVisualSearch(C){var u=this.plugins.capabilities(C);return!(!u||!this.isQueryVisual(C)||!(0,n.Es)(u.objects))}isAnalysisVisual(C){return C===m.U.keyDriversVisual}isQnaVisual(C){return C===m.U.qnaVisual}isTableVisual(C){return C===m.U.tableEx}isMatrixVisual(C){return C===m.U.pivotTable}}},227592:function(me,j,e){e.d(j,{k:function(){return s}});var r=e(601718),i=e(990773),a=e(785463),t=e(64974),l=e(343382),g=e(925397),n=e(712813),d=e(857327);function s(o,v,m,p,y){return new h(o,v,m,p,y)}class h{constructor(v,m,p,y,S){this.visualPluginService=v,this.pluginOps=m,this.explorationNavigationService=p,this.featureSwitchService=y,this.visualCapabilitiesService=S}relationship(v,m,p){return a.Y.assertValue(v,"section"),this.getRelationship(v.relationships,m,p)}drillRelationship(v,m,p){a.Y.assertValue(v,"section");var y=this.getRelationship(v.relationships,m,p);if(y){var S=y;return y.type===t.NJ.HighlightFilter&&(S={source:y.source,target:y.target,type:t.NJ.DataFilter}),S}}getRelationship(v,m,p){return a.Y.assertValue(m,"sourceVisual"),a.Y.assertValue(p,"targetVisual"),a.Y.assertAnyValue(v,"relationships"),_.find(v,y=>y.source.name===m.name&&y.target.name===p.name)}getIsCrossHighlightingDisabled(){var v=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),m=v&&v.slowDataSourceSettings;return m&&m.isCrossHighlightingDisabled}relationshipFilterAction(v,m,p,y,S){var C=this.relationship(v,m,p);return this.getRelationshipFilterAction(C,m,p,y,S)}drillRelationshipFilterAction(v,m,p,y){if(!m.drillFilterOtherVisuals)return t.NJ.NoFilter;var S=this.drillRelationship(v,m,p);a.Y.assert(()=>!S||S.type!==t.NJ.HighlightFilter,"Expect drill relationship NOT to be HighlightFilter.");var C=this.getRelationshipFilterAction(S,m,p,y,!1);return a.Y.assert(()=>C!==t.NJ.HighlightFilter,"Expect drill relationship filter action NOT to be HighlightFilter."),C}shouldApplyCrossDrill(v,m,p,y){if(m===p||(0,g.d)(p)===d.U.slicer)return!1;var S=this.drillRelationshipFilterAction(v,m,p,y);return S===t.NJ.DataFilter||S===t.NJ.Default&&this.defaultDrillFilterAction(m,p)===t.NJ.DataFilter}getRelationshipFilterAction(v,m,p,y,S){if(v&&this.supportsFilterActionTarget(m,p,v.type))return v.type;var C=p&&p.config&&p.config.singleVisual,u=C&&p.config.singleVisual.visualType,E=this.visualPluginService.capabilities(u),c=t.NJ.Default;if(v&&v.type===t.NJ.HighlightFilter&&(0,n.il)(p)&&(c=t.NJ.DataFilter),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(E,u)){var D=m&&m.config&&m.config.singleVisual,b=D&&m.config.singleVisual.visualType,T=this.visualPluginService.capabilities(b);if(!this.isFilter(T,b,D&&D.objects))return t.NJ.NoFilter}if(E){var M=C.query;if(M){var V=this.visualPluginService.getPlugin(u);if(V&&V.shouldIgnoreCrossFilter){var P={mappings:E.dataViewMappings,queryDefn:M.defn,queryProjections:M.projections,schema:y,objectDescriptors:E.objects,objectDefinitions:C.objects,roles:E.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,i.r)()},N=(0,r.$)(P);if(V.shouldIgnoreCrossFilter({dataViewMappings:N,filterForFieldParameter:S}))return t.NJ.NoFilter}}}return c}isSlicer(v,m){return!!l.M.tryGetFilterPropertyIdentifier(v,m,this.visualPluginService)}isFilter(v,m,p){return v?this.isSlicer(v,m):null!=l.M.tryGetFilterProperty(v,m,this.visualPluginService,p)}supportsFilterActionTarget(v,m,p){a.Y.assertValue(v,"sourceVisual"),a.Y.assertValue(m,"targetVisual"),a.Y.assertValue(p,"visualRelationshipFilterAction");var y=(0,g.d)(m),S=(0,g.d)(v);if(!_.isEmpty(S)&&!_.isEmpty(y))switch(p){case t.NJ.DataFilter:case t.NJ.NoFilter:return!0;case t.NJ.HighlightFilter:if((0,n.il)(m))return!1;var C=this.visualPluginService.capabilities(y);return(!C||C.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(S)}return!1}supportsAnyFilterAction(v){a.Y.assertValue(v,"visualContainer");var m=(0,g.d)(v);if(_.isEmpty(m)||!this.pluginOps.isQueryVisual(m)&&!this.pluginOps.isQnaVisual(m))return!1;var p=this.visualPluginService.capabilities(m);return!p||!1!==p.supportsSelection}defaultFilterAction(v,m){a.Y.assertValue(v,"sourceVisualContainer"),a.Y.assertValue(m,"targetVisualContainer");var p=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),y=p&&p.settings;return y&&y.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(v,m,t.NJ.HighlightFilter)?this.supportsFilterActionTarget(v,m,t.NJ.DataFilter)?t.NJ.DataFilter:void 0:t.NJ.HighlightFilter}defaultDrillFilterAction(v,m){a.Y.assertValue(v,"sourceVisualContainer"),a.Y.assertValue(m,"targetVisualContainer");var p=this.defaultFilterAction(v,m);return p===t.NJ.HighlightFilter&&(p=t.NJ.DataFilter),a.Y.assert(()=>!p||p===t.NJ.DataFilter||p===t.NJ.NoFilter,"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),p}}},755743:function(me,j,e){e.d(j,{AI:function(){return D},Cj:function(){return T},EX:function(){return F},Fb:function(){return nr},Fk:function(){return De},Fn:function(){return mt},Iz:function(){return Fe},J2:function(){return St},MH:function(){return l},N7:function(){return H},NM:function(){return h},OW:function(){return P},Ps:function(){return o},Px:function(){return je},RP:function(){return S},RT:function(){return Pt},S5:function(){return Nt},TB:function(){return xe},VD:function(){return Ue},XE:function(){return L},XP:function(){return u},XV:function(){return ee},Xo:function(){return te},YV:function(){return Y},Yc:function(){return z},Yy:function(){return k},ZU:function(){return x},_8:function(){return N},_F:function(){return U},aA:function(){return R},ax:function(){return s},b:function(){return n},bP:function(){return I},dO:function(){return Be},dR:function(){return st},fU:function(){return B},hB:function(){return Ct},hP:function(){return Ne},hR:function(){return w},j:function(){return p},jZ:function(){return Se},jj:function(){return g},ks:function(){return i},l5:function(){return Kt},lT:function(){return it},lu:function(){return v},mc:function(){return M},mh:function(){return Ie},op:function(){return at},ou:function(){return Ve},qK:function(){return c},qr:function(){return A},qy:function(){return q},qz:function(){return Ge},rc:function(){return Ye},s3:function(){return vt},t1:function(){return he},t9:function(){return Xe},ul:function(){return Qt},y5:function(){return Ae},zB:function(){return V}});var r=e(817491),i=function(xt){return xt.Create="Create",xt.Update="Update",xt.Delete="Delete",xt.Other="Other",xt}({}),l=function(xt){return xt.List="List",xt.Bin="Bin",xt}({}),g=function(xt){return xt.Capture="Capture",xt.Undo="Undo",xt.Redo="Redo",xt}({}),n=function(xt){return xt.Normal="Normal",xt.EmailSubscription="EmailSubscription",xt.ReportInvitation="ReportInvitation",xt.SubscribeOthers="SubscribeOthers",xt.Commenting="Commenting",xt.Invalid="Invalid",xt}({}),s=function(xt){return xt.NonExistingBoundSection="NonExistingBoundSection",xt.DuplicateBoundSection="DuplicateBoundSection",xt.ExceedingPodsNumberAfterInitialFix="ExceedingPodsNumberAfterInitialFix",xt}({}),h=function(xt){return xt.Normal="Normal",xt.Maximized="Maximized",xt.MaximizedWithData="MaximizedWithData",xt.MaximizedWithAccessibleData="MaximizedWithAccessibleData",xt.Spotlight="Spotlight",xt.Elevation="Elevation",xt.VisualCalcEditing="VisualCalcEditing",xt}({}),o=function(xt){return xt.NoCache="NoCache",xt.Cache="Cache",xt.StaleCache="StaleCache",xt}({}),v=function(xt){return xt.None="None",xt.CacheMissing="CacheMissing",xt.JsonParseFailed="JsonParseFailed",xt.DsrReadFailed="DsrReadFailed",xt.DataObjectNull="DataObjectNull",xt.DsrHasOdataError="DsrHasOdataError",xt.DataTransformsMissing="DataTransformsMissing",xt}({}),m="PBI.EX.RetrieveFromVisualContainerCache",p=r.Xi[m]=(0,r.Vp)(m),y="PBI.EX.RunQuery",S=r.Xi[y]=(0,r.Vp)(y,{logRatio:0}),C="PBI.EX.RunQueryImpl",u=r.Xi[C]=(0,r.Vp)(C,{logRatio:0}),E="PBI.EX.GetCachedQueryOrGenerate",c=r.Xi[E]=(0,r.Vp)(E,{logRatio:0}),f="PBI.EX.VisualFirstLoad",D=r.Xi[f]=(0,r.Vp)(f),b="PBI.EX.ToggleVisualDisplay",T=r.Xi[b]=(0,r.Vp)(b,{logExpAssignment:!0}),M="PBI.EX.GetExploration",V=r.Xi[M]=(0,r.Vp)(M),w="PBI.EX.DeserializeExploration",P=r.Xi[w]=(0,r.Vp)(w),N="PBI.EX.OpenExploration",I=r.Xi[N]=(0,r.Vp)(N,{shouldLogStartEnd:!0,logExpAssignment:!0}),O="PBI.EX.ExplorationStateApplyImpact",R=r.Xi[O]=(0,r.Vp)(O),W="PBI.EX.ExplorationStateApplyImpactIssues",F=r.Xi[W]=(0,r.Vp)(W),U="PBI.EX.SwitchSection",B=r.Xi[U]=(0,r.Vp)(U),x="PBI.EX.SwitchToAdjacentSection",A=r.Xi[x]=(0,r.Vp)(x),L="PBI.EX.NavigateBack",Y=r.Xi[L]=(0,r.Vp)(L,{logExpAssignment:!0}),z="PBI.EX.NavigationButtonClicked",H=r.Xi[z]=(0,r.Vp)(z,{logExpAssignment:!0}),Z="PBI.EX.VisualQueryGeneratorWarning",k=r.Xi[Z]=(0,r.Vp)(Z),K="PBI.EX.VisualQueryGeneratorError",ee=r.Xi[K]=(0,r.Vp)(K),Q="PBI.EX.Groups.GroupsAction",X=(r.Xi[Q]=(0,r.Vp)(Q),"PBI.EX.Groups.BinBySizeAction"),ae=(r.Xi[X]=(0,r.Vp)(X),"PBI.EX.Groups.BinByCountAction"),Me=(r.Xi[ae]=(0,r.Vp)(ae),"PBI.EX.Groups.Usage"),Ye=r.Xi[Me]=(0,r.Vp)(Me),Le="PBI.EX.Groups.Error",ut=(r.Xi[Le]=(0,r.Vp)(Le),"PBI.EX.ModelChange"),St=r.Xi[ut]=(0,r.Vp)(ut),ze="PBI.EX.Measures",Be=r.Xi[ze]=(0,r.Vp)(ze),Ce="PBI.EX.ReportMeasureDataTypeChange",Ae=r.Xi[Ce]=(0,r.Vp)(Ce),be="PBI.EX.ReportMeasureDataCategoryChange",Ie=r.Xi[be]=(0,r.Vp)(be),ve="PBI.EX.ReportMeasureMoveRoleKind",xe=r.Xi[ve]=(0,r.Vp)(ve),Ee="PBI.EX.QuickCalcMeasureEdited",Ne=r.Xi[Ee]=(0,r.Vp)(Ee),ye="PBI.EX.QuickCalcMeasureDeleted",Xe=r.Xi[ye]=(0,r.Vp)(ye),fe="PBI.EX.VisualDrillableRoleActiveItemsFixed",Se=r.Xi[fe]=(0,r.Vp)(fe),qe="PBI.PersistentState.SerializationError",Ue=r.Xi[qe]=(0,r.Vp)(qe),_e="PBI.Pod.SerializationErrorFixed",at=r.Xi[_e]=(0,r.Vp)(_e),ot="PBI.SerializationError",mt=r.Xi[ot]=(0,r.Vp)(ot),yt="PBI.EX.EmptyVisualContainerConfig",Nt=r.Xi[yt]=(0,r.Vp)(yt),Bt="PBI.ClipboardService.Paste",he=r.Xi[Bt]=(0,r.Vp)(Bt),Qe="PBI.ClipboardService.UnsupportedVersion",je=r.Xi[Qe]=(0,r.Vp)(Qe),Ke="PBI.DataPointLassoSelect.PreviewSerialized",$e=(r.Xi[Ke]=(0,r.Vp)(Ke),"PBI.EX.LoopingSQExpr"),De=(r.Xi[$e]=(0,r.Vp)($e),"PBI.EX.GetLinguisticSchema"),ce=(r.Xi[De]=(0,r.Vp)(De),"PBI.EX.GetAutoRefreshAdminConfig"),te=r.Xi[ce]=(0,r.Vp)(ce),Te="PBI.EX.GetChangeDetectionAdminConfig",Fe=r.Xi[Te]=(0,r.Vp)(Te),et="PBI.EX.AnchorTimeUndefined",vt=r.Xi[et]=(0,r.Vp)(et),At="PBI.EX.GetAPRConfigFailure",st=r.Xi[At]=(0,r.Vp)(At),Re="PBI.EX.DefnsDuplicateSelector",q=r.Xi[Re]=(0,r.Vp)(Re),pe="PBI.EX.CertifiedTelemetryChildrenCountMismatch",Ve=r.Xi[pe]=(0,r.Vp)(pe),ke="PBI.EX.UndoEventTime",it=r.Xi[ke]=(0,r.Vp)(ke),ft="PBI.EX.ConsecutiveUndoCount",Pt=r.Xi[ft]=(0,r.Vp)(ft),Ut="PBI.EX.DeserializeNonUniqueIdentifier",Kt=function(xt){return xt.VisualsNamePerPage="VisualsNamePerPage",xt.PageNames="PageNames",xt.BookmarkNames="BookmarkNames",xt.PodNames="PodNames",xt}({}),Qt=r.Xi[Ut]=(0,r.Vp)(Ut),qt="PBI.EX.SerializeSizeAndCount",nr=r.Xi[qt]=(0,r.Vp)(qt),Ge="scriptVisuals",Ct=function(xt){return xt.AddToCanvas="AddToCanvas",xt.VisualLoad="VisualLoad",xt}({})},357840:function(me,j,e){e.d(j,{JH:function(){return o},Qt:function(){return v},hr:function(){return h},kW:function(){return s},tk:function(){return p}});var r=e(542732),i=e(785463),a=e(795169),t=e(507345),l=e(336983),g=e(850396),n=e(764601),d=e(640700);class s{constructor(u,E,c){this.op=u,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new h(E,c)}get operator(){return this.op}set operator(u){this.op!==u&&(this.op=u,this.onOperatorChanged())}get operatorLabel(){return this.opLabel}set operatorLabel(u){this.opLabel=u}get valueRequired(){return this.valRequired}accept(u){return u.visit(this)}static empty(){return new s(g.tl.None)}static equals(u,E){return(u=u||null)===(E=E||null)||!u==!E&&(i.Y.assertValue(u,"x"),i.Y.assertValue(E,"y"),u.operator===E.operator&&h.equals(u.value,E.value))}onOperatorChanged(){this.valRequired=p(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)}}class h{constructor(u,E){null!=u&&(u instanceof Date&&(this.dateValue=u),this.value=u,this.formatter=E,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}get isDate(){return null!=this.dateValue}get hasValue(){return null!=this.dateValue||!(0,t.M)(this.stringValue)}isValidDate(){return this.isDate&&(!_.isString(this.value)||null!==d.r9.parseDate(this.value))}static equals(u,E){return(u=u||null)===(E=E||null)||!u==!E&&(i.Y.assertValue(u,"left"),i.Y.assertValue(E,"right"),h.compareDateTimeValue(u,E)&&u.stringValue===E.stringValue)}static compareDateTimeValue(u,E){return(u.dateValue?u.dateValue.valueOf():0)===(E.dateValue?E.dateValue.valueOf():0)}}class o{constructor(u){this.localizationService=u,this.isOperator=new a.d(()=>({value:g.tl.Is,label:this.getLocalize().get("FilterOperator_Is"),tooltip:this.getLocalize().get("FilterOperator_IsTooltip")})),this.isNotOperator=new a.d(()=>({value:g.tl.IsNot,label:this.getLocalize().get("FilterOperator_IsNot"),tooltip:this.getLocalize().get("FilterOperator_IsNotTooltip")})),this.isBlankOperator=new a.d(()=>({value:g.tl.IsBlank,label:this.getLocalize().get("FilterOperator_IsBlank"),tooltip:this.getLocalize().get("FilterOperator_IsBlankTooltip")})),this.isNotBlankOperator=new a.d(()=>({value:g.tl.IsNotBlank,label:this.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:this.getLocalize().get("FilterOperator_IsNotBlankTooltip")})),this.containsOperator=new a.d(()=>({value:g.tl.Contains,label:this.getLocalize().get("FilterOperator_Contains"),tooltip:this.getLocalize().get("FilterOperator_ContainsTooltip")})),this.doesNotContainOperator=new a.d(()=>({value:g.tl.DoesNotContain,label:this.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:this.getLocalize().get("FilterOperator_DoesNotContainTooltip")})),this.startsWithOperator=new a.d(()=>({value:g.tl.StartWith,label:this.getLocalize().get("FilterOperator_StartsWith"),tooltip:this.getLocalize().get("FilterOperator_StartsWithTooltip")})),this.doesNotStartWithOperator=new a.d(()=>({value:g.tl.DoesNotStartWith,label:this.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:this.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")})),this.isEmptyString=new a.d(()=>({value:g.tl.IsEmptyString,label:this.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsEmptyStringTooltip")})),this.isNotEmptyString=new a.d(()=>({value:g.tl.IsNotEmptyString,label:this.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:this.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")})),this.greaterThanOperator_ForDateTime=new a.d(()=>({value:g.tl.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan_DT")})),this.greaterThanOrEqualToOperator_ForDateTime=new a.d(()=>({value:g.tl.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")})),this.isLessThanOperator_ForDateTime=new a.d(()=>({value:g.tl.LessThan,label:this.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThan_DT")})),this.isLessThanOrEqualToOperator_ForDateTime=new a.d(()=>({value:g.tl.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual_DT")})),this.greaterThanOperator=new a.d(()=>({value:g.tl.GreaterThan,label:this.getLocalize().get("FilterOperator_GreaterThan"),tooltip:this.getLocalize().get("FilterOperator_GreaterThan")})),this.greaterThanOrEqualToOperator=new a.d(()=>({value:g.tl.GreaterThanOrEqual,label:this.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_GreaterThanOrEqual")})),this.isLessThanOperator=new a.d(()=>({value:g.tl.LessThan,label:this.getLocalize().get("FilterOperator_LessThan"),tooltip:this.getLocalize().get("FilterOperator_LessThan")})),this.isLessThanOrEqualToOperator=new a.d(()=>({value:g.tl.LessThanOrEqual,label:this.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:this.getLocalize().get("FilterOperator_LessThanOrEqual")}))}getLocalize(){return(0,r.oB)(this.localizationService)}operatorsForColumnMappedToMParameter(){var u=[];return u.push(this.isOperator.getValue()),u}dateTimeOperator(){var u=[];return u.push(this.isOperator.getValue()),u.push(this.isNotOperator.getValue()),u.push(this.greaterThanOperator_ForDateTime.getValue()),u.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),u.push(this.isLessThanOperator_ForDateTime.getValue()),u.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),u.push(this.isBlankOperator.getValue()),u.push(this.isNotBlankOperator.getValue()),u}stringTypeOperator(){var u=[];return u.push(this.containsOperator.getValue()),u.push(this.doesNotContainOperator.getValue()),u.push(this.startsWithOperator.getValue()),u.push(this.doesNotStartWithOperator.getValue()),u.push(this.isOperator.getValue()),u.push(this.isNotOperator.getValue()),u.push(this.isBlankOperator.getValue()),u.push(this.isNotBlankOperator.getValue()),u.push(this.isEmptyString.getValue()),u.push(this.isNotEmptyString.getValue()),u}numericOperator(){var u=[];return u.push(this.isLessThanOperator.getValue()),u.push(this.isLessThanOrEqualToOperator.getValue()),u.push(this.greaterThanOperator.getValue()),u.push(this.greaterThanOrEqualToOperator.getValue()),u.push(this.isOperator.getValue()),u.push(this.isNotOperator.getValue()),u.push(this.isBlankOperator.getValue()),u.push(this.isNotBlankOperator.getValue()),u}tryGetExprFilterOperators(u,E,c,f){if(!_.isEmpty(u.validate(E,c)))return{hasError:!0,operators:void 0};var D=u.getMetadata(E);return i.Y.assertValue(D,"metadata"),{hasError:!1,operators:this.getFilterOperators(D.type,f)}}getFilterOperators(u,E){return E?this.operatorsForColumnMappedToMParameter():u.text?this.stringTypeOperator():u.integer||u.numeric?this.numericOperator():u.dateTime?this.dateTimeOperator():void 0}isOperatorForColumnMappedToMParameter(u){return this.operatorsForColumnMappedToMParameter().some(E=>E.value===u)}}class v{constructor(u){this.localizationService=u}fromCondition(u,E,c){var D,f=new S(E,c,this.localizationService);for(var b of u)null==b.operator||b.operator===g.tl.None||(D=b.accept(f));return D}fromLabels(u,E){var c;if(u.length>0){var D=[];for(var b of u)D.push(y(b));c=(0,l.be)(D),c=(0,t.G)(E?(0,r.oB)(this.localizationService).get("FilterRestatement_NotEqual"):(0,r.oB)(this.localizationService).get("FilterRestatement_Equal"),c)}return c}fromDataViewScopeIdentities(u,E,c){var f=[];for(var D of u)f.push(m(D,c));return this.fromLabels(f,E)}fromDefault(u){if(null!=u)return(0,t.G)((0,r.oB)(this.localizationService).get("FilterRestatement_IsDefault"),y(u))}}function m(C,u){var E=(0,n.vl)(C);return u?u.format(E):E}function p(C){return C!==g.tl.IsBlank&&C!==g.tl.IsNotBlank&&C!==g.tl.None&&C!==g.tl.IsEmptyString&&C!==g.tl.IsNotEmptyString}function y(C){return null===C?null:_.isString(C)?C:C.displayName?C.displayName:"function"!=typeof C||"object"!=typeof C?C:void 0}class S{constructor(u,E,c){this.localizationService=c,this.localizationService=(0,r.oB)(this.localizationService),u===g.um.And?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):u===g.um.Or&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=E}visit(u){var E=this.conditionToString(u);if(E)return _.isEmpty(this.result)?this.result=E:(i.Y.assert(()=>!_.isEmpty(this.logicalOperatorResourceId),"Logical operator is not set"),this.result=(0,t.G)(this.logicalOperatorResourceId,this.result,E)),this.result}conditionToString(u){var c,E=u.value;if(!p(u.operator)||E&&E.hasValue)switch(E&&(c=this.formatter?this.formatter.format(E.value||E.stringValue):E.stringValue),u.operator){case g.tl.Is:return(0,t.G)(this.localizationService.get("FilterRestatement_Equal"),c);case g.tl.IsNot:return(0,t.G)(this.localizationService.get("FilterRestatement_NotEqual"),c);case g.tl.GreaterThan:return(0,t.G)(this.localizationService.get(E.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),c);case g.tl.GreaterThanOrEqual:return(0,t.G)(this.localizationService.get(E.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),c);case g.tl.LessThan:return(0,t.G)(this.localizationService.get(E.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),c);case g.tl.LessThanOrEqual:return(0,t.G)(this.localizationService.get(E.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),c);case g.tl.Contains:return(0,t.G)(this.localizationService.get("FilterRestatement_Contains"),c);case g.tl.DoesNotContain:return(0,t.G)(this.localizationService.get("FilterRestatement_DoesNotContain"),c);case g.tl.StartWith:return(0,t.G)(this.localizationService.get("FilterRestatement_StartWith"),c);case g.tl.DoesNotStartWith:return(0,t.G)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),c);case g.tl.IsBlank:return this.localizationService.get("FilterOperator_IsBlank");case g.tl.IsNotBlank:return this.localizationService.get("FilterOperator_IsNotBlank");case g.tl.IsEmptyString:return this.localizationService.get("FilterOperator_IsEmptyString");case g.tl.IsNotEmptyString:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return i.Y.assertFail("Not supported filter operator"),""}}}},994107:function(me,j,e){e.d(j,{Mm:function(){return z},aH:function(){return A}});var r=e(460169),i=e(169513),a=e(601718),t=e(419216),l=e(817491),g=e(228783),n=e(219481),d=e(785463),s=e(507345),h=e(632934),o=e(856701),v=e(425023),m=e(464205),p=e(309746),y=e(709099),S=e(168376),C=e(350226),u=e(329332),E=e(336983),c=e(759520),f=e(892066),D=e(850396),b=e(364472),T=e(446024),M=e(669129),V=e(999104),w=e(755743),P=e(343382),N=e(213075),I=e(712813),O=e(662785),R=e(978450),W=e(526574),F=e(574324),U=e(246060),B=e(857327),x=function(Xe){return Xe[Xe.TopN=0]="TopN",Xe[Xe.Exist=1]="Exist",Xe}({});function A(Xe,fe,Se,qe,Ue,_e,at,ot,mt){if(d.Y.assertValue(Xe,"visualConfig"),d.Y.assertValue(fe,"visualType"),d.Y.assertValue(Se,"schema"),Xe&&fe&&Se){var yt=Ue.visualPluginService.getPlugin(fe);if(yt){var Ke,Nt=yt.capabilities,Bt=at||Nt.dataViewMappings,he=Xe.query,Qe=Nt.sorting?Nt.sorting.implicit:null,je=he?(0,I.L)(he):{};if(Bt&&he){var $e=(0,y.i7)(he.projections,Bt,je,Ue.featureSwitchService.featureSwitches,Nt.objects,Xe.objects,he.defn.select(),Se);if(!$e.supportedMappings)return function(Xe,fe,Se,qe,Ue,_e){var at=function(Xe,fe,Se,qe,Ue){var _e,at=[];switch(Xe.name){case B.U.map:case B.U.azureMap:_e=function(Xe){var fe=_.some(Xe,Ue=>"Category"===Ue.roleName&&Ue.code===y.gU.conditionRangeTooLarge),Se=_.some(Xe,Ue=>"X"===Ue.roleName&&Ue.code===y.gU.conditionKindExpectedGrouping),qe=_.some(Xe,Ue=>"Y"===Ue.roleName&&Ue.code===y.gU.conditionKindExpectedGrouping);return fe?"DataViewMappingError_LocationAndLatLongGroup":Se||qe?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(fe);break;case B.U.scatterChart:_e=function(Xe,fe){var Se=_.some(Xe,_e=>_e.roleName===g.Jl.category&&_e.code===y.gU.conditionRangeTooLarge),qe=_.some(Xe,_e=>_e.roleName===g.Jl.play&&_e.code===y.gU.conditionRangeTooLarge),Ue=_.some(Xe,_e=>_e.roleName===g.Jl.x&&(_e.code===y.gU.conditionKindExpectedGrouping||_e.code===y.gU.conditionKindExpectedMeasure));return Se?fe.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":qe?"DataViewMappingError_ScatterGroupingPlayAxis":Ue?"DataViewMappingError_ScatterXMismatchType":void 0}(fe,qe);break;case B.U.slicer:_.find(fe,yt=>yt.code===y.gU.conditionNotHierarchicallyRelated)&&(_e="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!_e&&!_.isEmpty(fe)){var ot=function(Xe){if(_.isEmpty(Xe))return null;var fe=[];for(var Se of Xe)if(void 0!==Se.conditionIndex&&void 0!==Se.mappingIndex){var qe=Se.conditionIndex,Ue=Se.mappingIndex;fe[qe]||(fe[qe]=[]),fe[qe][Ue]?fe[qe][Ue]++:fe[qe][Ue]=1}for(var at,ot,_e=Xe.length+1,mt=0;mt<fe.length;mt++)for(var yt=0;yt<fe[mt].length;yt++)void 0!==fe[mt][yt]&&_e>fe[mt][yt]&&(at=mt,_e=fe[mt][yt],ot=yt);var Nt=Xe[0];return void 0!==at&&(Nt=_.find(Xe,Bt=>Bt.conditionIndex===at&&Bt.mappingIndex===ot)),Nt}(fe);switch(ot.code){case y.gU.conditionRangeTooLarge:_e="DataViewMappingError_ConditionRangeTooLarge";break;case y.gU.conditionRangeTooSmall:_e="DataViewMappingError_ConditionRangeTooSmall";break;case y.gU.conditionKindExpectedMeasure:_e="DataViewMappingError_ConditionKindExpectedMeasure";break;case y.gU.conditionKindExpectedGrouping:_e="DataViewMappingError_ConditionKindExpectedGrouping";break;case y.gU.conditionNotHierarchicallyRelated:return new W.Q(_e="DataViewMappingError_ConditionNotHierarchicallyRelated",Se);case y.gU.conditionSchemaCapabilities_TupleFilters_InstanceFilters:_e="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case y.gU.conditionKindExpectedGroupingOrMeasure:break;default:d.Y.assertNever(ot.code)}at=[be(ot,Ue,Se)]}if(_e)return Ae(Se.format(_e,at),_e)}(Xe,qe,Ue.localizationService,Ue.featureSwitchService,_e);if(at)return{error:at,compiled:null};var ot=(0,v.o8)(fe.projections);for(var mt in ot){var yt=ot[mt];yt.activeProjectionRefs=_.map(yt.activeProjectionRefs,Qe=>"select"+(0,l.$F)(Qe));for(var Nt=0,Bt=yt.all();Nt<Bt.length;Nt++)yt.assignProjection(Bt[Nt]?{queryRef:"select"+(0,l.$F)(Bt[Nt].queryRef)}:null,Nt)}var he=new W.Q("ClientError_NoSupportedDataViewMappingFound",Ue.localizationService);return he.addDebugInfo("VisualType",Se),he.addDebugInfo("QueryProjectionsByRole",JSON.stringify(ot)),Ue.telemetryService.logEvent(w.XV,{code:Se,debugInfo:JSON.stringify(he.getDetails(Ue.localizationService).debugErrorInfo)}),{error:he,compiled:null}}(yt,he,fe,$e.mappingErrors,Ue,Nt.dataRoles);var de=he.hasHiddenProjections()?(0,y.i7)(he.projections,Bt,je,Ue.featureSwitchService.featureSwitches,Nt.objects,Xe.objects,he.defn.select(),Se,!0):void 0,De=function(Xe,fe,Se,qe,Ue,_e){var at=Xe?.query;if(_.isEmpty(_e)&&!_.isEmpty(qe.visualShapeDataViewMappings)&&at.hasVisualCalcExpressions()){var ot=_.some(qe.visualShapeDataViewMappings,yt=>!_.isEmpty(yt.conditions)&&!_.isEmpty(yt.matrix)&&_.isEmpty(yt.table)&&_.isEmpty(yt.categorical)&&_.isEmpty(yt.tree)&&_.isEmpty(yt.usage)&&_.isEmpty(yt.single)&&_.isEmpty(yt.scriptResult)&&_.isEmpty(yt.requiredProperties));d.Y.assert(()=>ot,"visualShapeDataViewMappings should only have conditions and matrix");var mt=(0,y.i7)(at.projections,qe.visualShapeDataViewMappings,Ue,Se.featureSwitchService.featureSwitches,qe.objects,Xe.objects,at.defn.select(),fe);if(!_.isEmpty(mt.supportedMappings))return mt.supportedMappings}}(Xe,Se,Ue,Nt,je,at);Ke=function(Xe,fe,Se,qe,Ue,_e,at,ot,mt,yt,Nt,Bt,he,Qe,je,Ke,tt,$e,de,De){d.Y.assertValue(Xe,"visualType"),d.Y.assertValue(fe,"schema"),d.Y.assertAnyValue(Se,"query"),d.Y.assertNonEmpty(qe,"supportedMappings"),d.Y.assertAnyValue(_e,"dataRoles"),d.Y.assertAnyValue(Nt,"additionalFilters"),d.Y.assertAnyValue($e,"queryGeneratorCapabilities"),Se=(0,N.xg)(yt.visual.objects,qe,Se,Bt,at);var re=(0,a.$)({mappings:qe,queryDefn:Se.defn,queryProjections:Se.projections,schema:fe,objectDescriptors:yt.visual.descriptors,objectDefinitions:yt.visual.objects,roles:_e,featureSwitches:he.featureSwitches,transformPluginService:Bt});if(!_.isEmpty(De)&&(Xe===B.U.lineStackedColumnComboChart||Xe===B.U.lineClusteredColumnComboChart)){var ce=(0,a.$)({mappings:De,queryDefn:Se.defn,queryProjections:Se.projections,schema:fe,objectDescriptors:yt.visual.descriptors,objectDefinitions:yt.visual.objects,roles:_e,featureSwitches:he.featureSwitches,transformPluginService:Bt});1===re.length&&2===ce.length&&re.push(ce[1])}if(function(Xe,fe){if(Xe!==B.U.slicer)return!1;for(var Se of fe){var qe=Se?.metadata?.columns;if(1!==qe?.length&&_.some(qe,Ue=>Ue?.parameter?.kind===o.t_.MParameters))return!0}return!1}(Xe,re))return{error:new W.Q("DQP_No_MappedColumns_In_HierarchySlicers",Qe),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(Ke){var te=ne(re),Fe=Ke({dataViewMappings:re,scopedAggregates:he.featureSwitches.scopedAggregates,queryProperties:{hasVisualCalculations:Se.hasVisualCalcExpressions()}});if(Fe&&Fe.error){var et=Fe.error.code;return{error:Ae(Qe.get(et),et),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(Se.expansionStates)){var vt=[];d.Y.assert(()=>1===re.length,"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var At=!_.isEmpty(re)&&re[0].matrix;if(At){var st=At.rows;st.for?vt=_.map(st.for.in.items,xt=>xt):d.Y.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var Re of Se.expansionStates)if(!_.isEmpty(Re.root.children)&&!_.isEmpty(Re.levels))for(var q of Re.levels)for(var pe of vt)_.isEmpty(q.queryRefs)||pe.queryName!==q.queryRefs[0]||pe.subtotalType!==h.y.After&&(pe.subtotalType=h.y.Before)}Se=function(Xe,fe,Se){if(_.isEqual(fe,Se))return Xe;var qe=[],Ue=Xe.defn.select();for(var _e of Se){var at=_.sortBy(_e,yt=>yt.sortOrder);for(var ot of at){var mt=Ue.withName(ot.queryName);qe.push({direction:ot.sort,expr:mt.expr})}}return new V.r(Xe.defn.orderBy(qe),Xe.projections,Xe.expansionStates,Xe.isDrillDisabled)}(Se,te,ne(re))}(function(Xe,fe,Se){for(var qe of Xe)fe&&!1===fe.allowBinnedLineSample&&Ye(qe),fe&&!1===fe.allowOverlappingPointsSample&&Le(qe),Me(Se)||lt(qe)})(re,ot,fe),Se=(0,N.ZI)(Bt,Se,re),Se=je.applyImplicitSort(Se,tt),Se=je.ensureValidSorting({query:Se,schema:fe,visualType:Xe,columnProperties:mt,compiledMappings:re});var{modifiedObjectDefinitions:ke,addedScalarKeys:it}=function(Xe,fe,Se,qe,Ue){var _e,at=[];for(var ot of fe)(0,p.o4)(ot,{visitRole:mt=>{if(mt.items)for(var yt of mt.items)if(yt.scalarKeyInfo&&yt.scalarKeyInfo.scalarKeyMinProperty){if(!_e)if(qe){var Nt=(0,t.Eo)(qe,Ue,void 0,!1);_e=(0,t.EP)(Nt,Ue)}else _e={};at.push(St(Xe,Se,yt,_e))}}});return{modifiedObjectDefinitions:_e||qe,addedScalarKeys:at}}(fe,re,Se,yt.visual.objects,yt.visual.descriptors);ke=function(Xe,fe,Se,qe,Ue,_e){if(!Xe||!Xe.dataFilter)return _e;var yt,at=Ue.defn.select(),ot=Xe.dataFilter.where(),mt=Xe.queryRefsForSingleItemDrillFilters;for(var Nt of qe)!Nt||!Nt.categorical||!Nt.categorical.categories||(0,p.Ax)(Nt.categorical.categories,{visitRole:Bt=>{if(!_.isEmpty(Bt.items))for(var he of Bt.items){var Qe=he.queryName;if(he.filteredToUniqueValueProperty&&_.includes(mt,Qe)){var Ke=Be(at.withName(Qe).expr,ot,Se,fe);Ke&&(yt||(yt=_e?(0,S.o8)(_e):{}),Ce(Ke,he,yt))}}}});return yt||_e}(Nt,$e,fe,re,Se,ke),yt.visual.objects=ke;var ft=(0,U._)(Se,_e),Pt=[yt.visual];yt.visualContainer&&Pt.push(yt.visualContainer);var Kt,Qt,qt,Ut=(0,i.X$)(Se.defn,fe,Pt,ft,Se.projections,Ue,Nt&&Nt.dataFilter,!0,he.featureSwitches);if(Ut){for(var nr of(Kt=new V.r(Ut.queryDefn,Se.projections,Se.expansionStates,Se.isDrillDisabled),Qt=Ut.additionalProjections,qt=Ut.warnings,it)){var Ge=Kt.defn.selectNameOf(nr.expr);d.Y.assertValue(Ge,"scalar key select name"),nr.roleItem.scalarKeyInfo||(nr.roleItem.scalarKeyInfo={}),nr.roleItem.scalarKeyInfo.scalarKeyQueryName=Ge}yt.visual=K(yt.visual,fe,M.B.buildExprEvaluationContext(Se.defn.from())),yt.visual=ee(Ut.objectDefinitionRewrites,yt.visual)}var Ct=_.isEmpty(de)?void 0:(0,a.$)({mappings:de,queryDefn:Se.defn,queryProjections:Se.projections,schema:fe,objectDescriptors:yt.visual.descriptors,objectDefinitions:yt.visual.objects,roles:_e,featureSwitches:he.featureSwitches,transformPluginService:Bt});return{query:Kt||Se,mappings:re,visualShapeMapping:Ct,additionalProjections:Qt,warnings:qt,objectDefinitions:yt.visual.objects}}(fe,Se,he,$e.supportedMappings,je,Nt.dataRoles,Nt,Xe.queryOptions,Xe.columnProperties,(0,I.YF)(Xe,Nt),_e,Ue.transformPluginService,Ue.featureSwitchService,Ue.localizationService,Ue.sortService,mt??yt.customizeQuery,Qe,qe,De,de?.supportedMappings)}else{var tt=(0,I.YF)(Xe,Nt);Ke=function(Xe,fe,Se,qe,Ue,_e,at,ot,mt){if(d.Y.assertAnyValue(Xe,"schema"),d.Y.assertAnyValue(fe,"query"),d.Y.assertAnyValue(qe,"roleMapping"),d.Y.assertAnyValue(Ue,"dataRoles"),d.Y.assertAnyValue(at,"additionalFilters"),!fe&&_.isEmpty(qe)){fe=new V.r(b.DC.create(),{},[]);var yt=(0,U._)(fe,Ue),Nt=[_e.visual];Nt.push(_e.visualContainer);var Bt=(0,i.X$)(fe.defn,Xe,Nt,yt,fe.projections,Se,at&&at.dataFilter,!0,ot.featureSwitches);if(Bt){var he=new V.r(Bt.queryDefn,fe.projections,fe.expansionStates,fe.isDrillDisabled),Qe=Bt.additionalProjections,je=(0,a.$)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:fe.defn,queryProjections:fe.projections,schema:Xe,objectDescriptors:_e.visual.descriptors,objectDefinitions:_e.visual.objects,roles:Ue,featureSwitches:ot.featureSwitches,transformPluginService:mt});return _e.visual=K(_e.visual,Xe,M.B.buildExprEvaluationContext(fe.defn.from())),_e.visual=ee(Bt.objectDefinitionRewrites,_e.visual),{query:he||fe,mappings:je,additionalProjections:Qe,warnings:Bt.warnings,objectDefinitions:_e.visual.objects}}}}(Se,he,je,Bt,Nt.dataRoles,tt,_e,Ue.featureSwitchService,Ue.transformPluginService)}var re=[];if(Ke){if(Ke.error)return{error:Ke.error,compiled:null};re.push(...function(Xe,fe,Se,qe,Ue){var _e=new ye(fe.defn,Se,qe,Ue);for(var at of Xe)(0,p.o4)(at,_e);return _e.warnings}(Ke.mappings,Ke.query,Se,Ue.displayNameService,Nt)||[]),re.push(...function(Xe){if(Xe&&Xe.highlightFilter){var fe=Xe.highlightFilter.where(),Se=_.find(fe,Ue=>(0,f.m)(Ue.condition)===D.l0.Subquery),qe=_.find(fe,Ue=>(0,O.D$)(Ue.condition));if(Se||qe)return Xe.dataFilter=Xe.dataFilter?b.b0.merge([Xe.dataFilter,Xe.highlightFilter]):Xe.highlightFilter,Xe.highlightFilter=void 0,[new Ne(Se?x.TopN:x.Exist)]}}(_e)||[]),Ke.warnings&&re.push(...Ke.warnings||[]);var ce=Ue.telemetryService.getOpenActivityById(ot&&ot.getProperty("telemetryActivityId"));for(var te of re)Ue.telemetryService.logChildEvent(ce&&ce.event,w.Yy,{code:te.code})}return{compiled:Ke,warnings:re}}}}function z(Xe){return d.Y.assertValue(Xe,"compiledMappings"),_.filter(Xe,Se=>!Se.usage||!Se.usage.regression)}function K(Xe,fe,Se){var qe={};for(var Ue in Xe.objects){var _e=Xe.descriptors[Ue];if(_e)for(var at of Xe.objects[Ue])for(var ot in at.properties){var mt=_e.properties[ot];if(mt&&mt.formatStringProperty){var yt=at.properties[ot],Nt=void 0;if((0,S.ui)(yt))Nt=yt;else{if(!(0,S.JZ)(yt))continue;Nt=yt.value}if(!(0,S._W)(Xe.objects,mt.formatStringProperty,at.selector)){var he=Nt.getMetadata(fe,Se);if(he&&(he.type||he.format)){var Qe=he.format??(0,E.gQ)(he.type);Qe&&(0,S.KY)(qe,mt.formatStringProperty,at.selector,(0,T.Qq)(Qe))}}}}}if(!_.isEmpty(qe))for(var je in Xe.objects=(0,S.o8)(Xe.objects),qe)for(var Ke of qe[je])for(var tt in Ke.properties)(0,S.KY)(Xe.objects,{objectName:je,propertyName:tt},Ke.selector,Ke.properties[tt]);return Xe}function ee(Xe,fe){if(!_.isEmpty(Xe))for(var Se of(fe.objects=(0,S.o8)(fe.objects),Xe))for(var qe in fe.objects)for(var Ue of fe.objects[qe])if((0,m.aI)(Ue.selector,Se.selector))for(var _e in Ue.properties){var at=Ue.properties[_e],ot=void 0;if((0,S.ui)(at))ot=at;else{if(!(0,S.JZ)(at))continue;ot=at.value}(0,R.aI)(ot,Se.from)&&(Ue.properties[_e]=Se.to)}return fe}function ne(Xe){var fe=[];for(var Se of Xe){var qe=[];for(var Ue of Se.metadata.columns)Ue.sort&&qe.push({queryName:Ue.queryName,sort:Ue.sort,sortOrder:Ue.sortOrder});fe.push(qe)}return fe}function Me(Xe){return _.every(Xe.schemas,fe=>fe.capabilities&&fe.capabilities.supportsTopNPerLevel)}function Ye(Xe){var fe=Xe.categorical;if(fe&&fe.dataReductionAlgorithm&&fe.dataReductionAlgorithm.binnedLineSample&&(fe.dataReductionAlgorithm=void 0,fe.categories&&(fe.categories.dataReductionAlgorithm={sample:{}}),fe.values)){var Se=fe.values;Se.group&&(Se.group.dataReductionAlgorithm={top:{}})}}function Le(Xe){var fe=Xe.categorical,Se=Xe.matrix;if(fe&&fe.dataReductionAlgorithm&&fe.dataReductionAlgorithm.overlappingPointsSample){var qe=fe.dataReductionAlgorithm.overlappingPointsSample.count;fe.dataReductionAlgorithm={sample:{}},qe&&(fe.dataReductionAlgorithm.sample.count=qe)}else if(Se&&Se.rows&&Se.rows.dataReductionAlgorithm&&Se.rows.dataReductionAlgorithm.overlappingPointsSample){var Ue=Se.rows.dataReductionAlgorithm.overlappingPointsSample.count;Se.rows.dataReductionAlgorithm={sample:{}},Ue&&(Se.rows.dataReductionAlgorithm.sample.count=Ue)}}function lt(Xe){var fe=Xe.matrix;if(fe&&fe.rows&&fe.rows.dataReductionAlgorithm&&fe.rows.dataReductionAlgorithm.topNPerLevel){var Se=fe.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;fe.rows.dataReductionAlgorithm={top:{}},Se&&(fe.rows.dataReductionAlgorithm.top.count=Se)}}function St(Xe,fe,Se,qe){var Ue=Se.scalarKeyInfo.scalarKeyMinProperty;d.Y.assertValue(Ue,"scalarKeyMinProperty"),(0,n.z6)(Se.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var _e=fe.defn.select().withName(Se.queryName).expr,at=(0,T.QD)((0,C.dY)(_e,Xe),r.Sn.Min);return(0,S.KY)(qe,Ue,Se.scalarKeyInfo.selector,at),{roleItem:Se,expr:at}}function Be(Xe,fe,Se,qe){if(!qe||!qe.hasAmbiguousEqualitySemantics)return!0;var Ue=Xe.getKeyColumns(Se);return _.every(Ue,_e=>_.some(fe,at=>{var ot=P.M.getFilterValuesForColumn(_e,at);if(1===_.size(ot)){var yt=ot[0];if((0,O.VO)(yt)&&!qe.hasAmbiguousEqualitySemantics(yt))return!0}return!1}))}function Ce(Xe,fe,Se){var qe=fe.filteredToUniqueValueProperty;d.Y.assertValue(qe,"filteredToUniqueValueProperty");var Ue=(0,T.zM)(Xe);(0,S.KY)(Se,qe,{metadata:fe.queryName},Ue)}function Ae(Xe,fe){return{code:fe,getDetails:()=>({displayableErrorInfo:[],message:Xe})}}function be(Xe,fe,Se){var qe=Xe.roleName;if(!_.isEmpty(fe)){var Ue=_.find(fe,_e=>_e.name===Xe.roleName);Ue&&Ue.displayName&&(qe=(0,u.M)(Ue.displayName,Se))}return qe}class Ee{constructor(fe){this.errorInfos=fe}get code(){return"ShowAllDiabledWarning"}getDetails(fe){var Se=fe.get("ShowAllDisabledWarning_Value"),qe=_.map(this.errorInfos,_e=>_e.fieldDisplayName).join(", ");return{message:fe.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:fe.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,s.G)(Se,qe)}]}}}class Ne{constructor(fe){this.highlightDisableType=fe}get code(){switch(this.highlightDisableType){case x.TopN:return"HighlightWithTOPNDisabledWarning";case x.Exist:return"HighlightWithExistsFiltersDisabledWarning"}}getDetails(fe){var Se=this.highlightDisableType===x.TopN,Ue=Se?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",_e=Se?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:fe.get(Se?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:fe.get(Ue),errorInfoValue:fe.get(_e)}]}}}class ye{constructor(fe,Se,qe,Ue){for(var _e of(d.Y.assertValue(fe,"query"),d.Y.assertValue(Se,"schema"),d.Y.assertValue(qe,"displayNameService"),this.displayNameService=qe,this.incompatibleExprInfo=[],fe.select())){var at=(0,F.F)(_e.expr);at&&at.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,c.hm)(at),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(_e.expr,Se,Ue)})}this.warnings=[]}visitRole(fe){fe.showAll&&this.incompatibleExprInfo.length>0&&(fe.showAll=!1,this.warnings.push(new Ee(this.incompatibleExprInfo)))}}},394783:function(me,j,e){e.d(j,{h:function(){return t}});var a,r=e(64974),i=e(343382);class t{}a=t,t.DetailVisualBorder=10,t.supportsVisualDetails=(l,g,n)=>{var d=g.capabilities(l);return!(!d||!n.isQueryVisual(l)||n.isAnalysisVisual(l)||d.disableVisualDetails)&&_.some(d.dataViewMappings,s=>s.categorical||s.matrix||s.table||s.tree)},t.supportsMatrixView=(l,g,n)=>a.supportsVisualDetails(l,g,n)&&!n.isTableVisual(l)&&!n.isMatrixVisual(l)&&!i.M.supportsFilterOutput(g.capabilities(l)),t.getDetailVisualViewport=(l,g)=>{var d,s;return(g||r.Kb.Horizontal)===r.Kb.Horizontal?(d=l.width-2*a.DetailVisualBorder,s=l.height-a.DetailVisualBorder):(d=l.width-a.DetailVisualBorder,s=l.height-2*a.DetailVisualBorder),{width:Math.max(d,0),height:Math.max(s,0),scale:l.scale}},t.adjustViewport=(l,g,n)=>{var s=l||r.Kb.Horizontal,h=a.getDetailVisualViewport(g,s);return n&&s===r.Kb.Horizontal&&(h={width:h.width,height:Math.max(h.height-33,0),scale:h.scale}),h}},829632:function(me,j,e){e.d(j,{D:function(){return g},x:function(){return l}});var r=e(732106),i=e(507345),a=e(460169),t=e(785463);function l(n,d,s,h,o){if(!_.isEmpty(n)){if(1===n.length)return n[0];var v=o?.limit;if(null!=v&&v<=0&&(t.Y.assertFail("The given displayIndividualValuesLimitInfo.limit value cannot be a number that is <= 0."),v=null),null!=v&&_.size(n)>v+1){var m=_.take(n,v);return 1===_.size(m)?(0,i.G)(s.stringResourceProvider.get(o.limitedValueShownResourceKey),m[0]):(0,i.G)(s.stringResourceProvider.get(o.multiLimitedValuesShownResourceKey??o.limitedValueShownResourceKey),m.join(s.stringResourceProvider.get("ListJoin_Separator")))}var y=n.pop();return 1===_.size(n)?(0,i.G)(s.stringResourceProvider.get(d),n[0],y):(0,i.G)(s.stringResourceProvider.get(h??d),n.join(s.stringResourceProvider.get("ListJoin_Separator")),y)}}function g(n,d){var s=(0,r.V)(n);return(n===a.Sn.Min||n===a.Sn.Max)&&d&&d.type&&(d.type.dateTime?s="Date"+s:d.type.text&&(s="String"+s)),s}},43099:function(me,j,e){e.d(j,{mn:function(){return d},p9:function(){return g},xY:function(){return t},yT:function(){return l}});var r=e(935236),i=e(785463),a=e(270475);function t(m,p){if(i.Y.assertAnyValue(m,"capabilities"),p)return[];var y=m.drilldown;return null!=y&&y.roles?y.roles:[]}function l(m){return i.Y.assertValue(m,"capabilities"),!!m.drilldown?.canDisableDrill}function g(m){return i.Y.assertValue(m,"capabilities"),l(m)&&!!m.drilldown.canDisableDrill.disabledByDefault}function n(m,p,y){i.Y.assert(()=>null!=p,"queryRef should exist while removing drill filters");var S=m.defn.select().withName(p);return i.Y.assertValue(S,"did not find queryRef in query.select while removing drill filter"),S?{expr:S.expr,roleName:y}:void 0}function d(m,p,y){if(p){var S;switch(y){case a.S5.Move:S=function(m,p){var y=[],S=m.projections,C=p.sourceCount,u=p.sourceIndex,E=p.sourceRole,c=p.targetRole;if(S[c]){var f=S[c],D=f.all(),b=p.targetIndex;b>=u&&E===c&&(b+=C);for(var M=f.convertFieldIndexToProjectionIndex(b),V=D.length;M<V;M++){var w=f.getProjectionsByProjectionIndex(M);for(var P of w)y.push(n(m,P.queryRef,c));M+=w.length-1}}if(S[E])for(var N=S[E],I=C-1;I>=0;I--){var O=N.getProjectionsByFieldIndex(u+I);for(var R of O)y.push(n(m,R.queryRef,E))}return y}(m,p);break;case a.S5.Remove:if(p.expr){var u=(0,r.eC)(p.expr);for(var E of(S=[],u))S.push(h(m,E))}else S=function(m,p){var y=[],S=p.count??1,C=p.role,u=m.projections[C];if(u)for(var E=p.projOptions.fieldIndex+S-1,c=S-1;c>=0;c--,E--){var f=u.getProjectionsByFieldIndex(E);for(var D of f)y.push(n(m,D.queryRef,C))}return y}(m,p);break;case a.S5.Add:break;default:return void i.Y.assertNever(y)}return _.compact(S)}}function h(m,p){var y=m.defn.selectNameOf(p),S=function(m,p){for(var y in m){var S=m[y].all();if(_.findIndex(S,u=>u.queryRef===p)>=0)return y}}(m.projections,y);return{expr:p,roleName:S}}},905278:function(me,j,e){e.d(j,{s:function(){return a}});var r=e(662785),i=e(64974);function a(t,l){return(t===i.cN.Drillthrough||t===i.cN.Tooltip)&&_.some(l,g=>g.asAggregation||g.fieldExpr&&(0,r.tx)(g.fieldExpr))}},177299:function(me,j,e){e.d(j,{Dm:function(){return o},KN:function(){return n},L4:function(){return a},fN:function(){return t},nC:function(){return g},uw:function(){return h}});var r=e(785463),i=e(415566);function a(v,m,p){var y=d(v,m);return(p&&""!==p?(0,i.DE)((0,i.sk)(p)):-Number.MAX_VALUE)>y}function t(v,m,p){var y=d(v,m);return(p&&""!==p?(0,i.DE)((0,i.sk)(p)):Number.MAX_VALUE)<y}function g(v,m){var p=(0,i.sk)(v),y=(0,i.V_)(p);if(y.length<=0)return r.Y.assertFail("Unable to parse the value and units"),"";var S=y[0].value,C=function(v,m){var p=v.value,y=v.unit,S=v.isTimeUnit;switch(y){case"S":return m.get(1===p?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return m.get(S?1===p?"TimeUnit_Minute":"TimeUnit_Minutes":1===p?"TimeUnit_Month":"TimeUnit_Months");case"H":return m.get(1===p?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return m.get(1===p?"TimeUnit_Day":"TimeUnit_Days");case"W":return m.get(1===p?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return m.get(1===p?"TimeUnit_Year":"TimeUnit_Years");default:return r.Y.assertNever(y),""}}(y[0],m);return`${S} ${C}`}function n(v){switch(v){case"S":case"M":case"H":return!0;default:return!1}}function d(v,m){var p=[{value:v,unit:m,isTimeUnit:n(m)}],y=(0,i.s1)(p);return(0,i.DE)(y)}function s(v,m){var p=Math.pow(10,m||0);return Math.round(v*p)/p}function h(v,m){return isNaN(v)?m.get("TwoDashes"):v<60?1===v?m.get("TimeUnit_One_second"):m.format("TimeUnit_seconds_with_value",[s(v,1)]):(v/=60)<60?1===v?m.get("TimeUnit_One_minute"):m.format("TimeUnit_minutes_with_value",[s(v,1)]):1==(v/=60)?m.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):m.format("TimeUnit_hours_with_value",[s(v,1)])}function o(v,m){var p=v.value,y=v.unit,S=v.isTimeUnit;switch(y){case"S":return 1===p?m.get("TimeUnit_One_second"):m.format("TimeUnit_seconds_with_value",p);case"M":return S?1===p?m.get("TimeUnit_One_minute"):m.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",p):1===p?m.get("TimeUnit_One_month"):m.format("TimeUnit_months_with_value",p);case"H":return 1===p?m.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):m.format("TimeUnit_hours_with_value",p);case"D":return 1===p?m.get("TimeUnit_One_day"):m.format("TimeUnit_days_with_value",p);case"W":return 1===p?m.get("TimeUnit_One_week"):m.format("TimeUnit_weeks_with_value",p);case"Y":return 1===p?m.get("TimeUnit_One_year"):m.format("TimeUnit_years_with_value",p);default:return r.Y.assertNever(y),""}}},867341:function(me,j,e){e.d(j,{v:function(){return t}});var r=e(785463),i=e(922686);class a{constructor(g){this.visualContainerStateVisitor=g}visitFilterContainer(g){}visitSectionState(g){}}class t extends a{constructor(g,n){super(n),this.rewriters=g,r.Y.assertValue(g,"rewriters")}visitFilterContainer(g){(0,i.Rm)(g,this.rewriters)}}},686416:function(me,j,e){e.d(j,{IJ:function(){return l},wW:function(){return h}});var r=e(785463),i=e(580626),a=e(4509),t=e(712813);function l(E,c,f){r.Y.assertValue(c,"visitor"),r.Y.assertValue(E,"exploration"),c.visitExploration(E),p(E.filters,c);var D=E.bookmarks;if(!_.isEmpty(D))for(var b of D)g(b,E.sections,f,c);var T=E.sections;if(!_.isEmpty(T))for(var M of T)d(M,c,f);!function(E,c){if(!_.isEmpty(E))for(var f of E)c.visitPod(f)}(E.pods,c)}function g(E,c,f,D){if(D.visitBookmark(E),i.$.isBookmarkGroup(E))for(var b of E.children)g(b,c,f,D);else!function(E,c,f,D){E&&(y(E.filters,D),_.forOwn(E.sections,(b,T)=>{!function(E,c,f,D){if(E&&c){D.visitSectionState(E),y(E.filters,D);var b=D.visualContainerStateVisitor;if(b){var T=c.visualContainers;_.forOwn(E.visualContainers,(M,V)=>{!function(E,c,f,D){!E||!c||(D.visitVisualContainerState(E),y(E.filters,D),function(E,c){if(E){if(!_.isEmpty(E.selection))for(var f of E.selection)c.visitSelectorsByColumn(f);E.filterExpressionMetadata&&c.visitFilterExpressionMetadata(E.filterExpressionMetadata)}}(E.highlight,D),function(E,c,f,D){if(E){D.visitSingleVisualState(E);var b=E.orderBy;b&&D.visitOrderByStates(b);var T=E.objects;if(T){var M=(0,t.p6)(c,f);if(M){var V=M.objects;V&&D.visitDataViewObjectDefinitionUpdates(T,V)}var w=T.merge;w&&S(w,D);var P=T.remove;if(!_.isEmpty(P))for(var N of P){var I=N.selector;I&&D.visitSelector(I)}}var O=E.activeProjections;O&&D.visitActiveProjectionStates(O)}}(E&&E.singleVisual,c,f,D))}(M,_.find(T,P=>P.name===V),f,b)})}}}(b,_.find(c,V=>V.name===T),f,D)}))}(E.explorationState,c,f,D.explorationStateVisitor)}function d(E,c,f){r.Y.assertValue(E,"section"),c.visitSection(E),p(E.filters,c),function(E,c){if(!_.isEmpty(E))for(var f of E)c.visitLinkField(f)}(E.linkFields,c);var D=E.visualContainers;if(!_.isEmpty(D))for(var b=0,T=D.length;b<T;b++)h(D[b],c.visualContainerVisitor,f)}function h(E,c,f){var D;if(c.visitVisualContainer(E),E.config&&(D=E.config.singleVisual)){c.visitSingleVisualConfig(D);var b=D.query;b&&c.visitQuery(b);var T=function(O,R){R&&c.visitDataViewObjects(O,R),S(O,c)},M=D.objects;if(M){var V,w=(0,t.p6)(E,f);w&&(V=w.objects),T(M,V)}var P=D.vcObjects;if(P){T(P,a.Xe);var I=D.vcObjects.visualLink;I&&c.visitVisualLinks(I)}}p(E.filters,c)}function p(E,c){if(!_.isEmpty(E))for(var f of E)r.Y.assertValue(f,"traverseFilters: collection contains null filterContainer"),null!=f&&c.visitFilterContainer(f)}function y(E,c){if(E){_.forOwn(E.nameIdentifiedMerges,T=>{c.visitFilterContainer(T)});var D=E.exprIdentifiedMerges;if(!_.isEmpty(D))for(var b of D)c.visitFilterContainer(b)}}function S(E,c){_.forOwn(E,f=>{if(!_.isEmpty(f))for(var D of f){var b=D.selector;b&&c.visitSelector(b)}})}},298624:function(me,j,e){e.d(j,{x:function(){return r}});class r{constructor(a,t){this.explorationStateVisitor=a,this.visualContainerVisitor=t}visitBookmark(a){}visitFilterContainer(a){}visitExploration(a){}visitSection(a){}visitLinkField(a){}visitPod(a){}}},367239:function(me,j,e){e.d(j,{Jv:function(){return c},M8:function(){return v},N6:function(){return b},QM:function(){return p},QP:function(){return y},XD:function(){return o},ZL:function(){return m},oI:function(){return u}});var r=e(549393),i=e(935236),a=e(785463),t=e(121153),l=e(464205),g=e(289239),n=e(42630),d=e(446024),s=e(662785),h=e(978450);function o(T,M,V,w=!1){if(!_.isEmpty(T)&&function(T,M){if(!_.isEmpty(T)){var V=_.map(T,w=>(0,l.j9)(w));return c(V,M)}}(T,M))return _.some(T,I=>I.valueDetails)&&w?function(T,M){if(!_.isEmpty(T)){var V={expressions:[],cachedValueItems:[]};for(var w of T){var P={identities:[],valueMap:{}};if(!w.valueDetails){var N=r.WZ.getDataViewKind(M);w.valueDetails=r.WZ.query([M],w,N,[],!0)}for(var I of w.valueDetails)if(I.expr&&((0,s.R3)(I.expr)||(0,s.Ah)(I.expr))){var O=_.indexOf(V.expressions,I.expr);O<0&&(V.expressions.push(I.expr),O=V.expressions.length-1),P.valueMap[O]=I.formattedValue}if(!_.isEmpty(P.valueMap)){for(var R in w.dataMap){var W=(0,i.eC)(w.dataMap[R]);for(var F of W)F.kind===t.y.ScopeIdentity?P.identities.push(F):a.Y.assertFail("Unexpected item.kind")}V.cachedValueItems.push(P)}}return V}}(T,V):function(T){if(!_.isEmpty(T)){var M={expressions:[],cachedValueItems:[]};for(var V of T){var w={identities:[],valueMap:{}};for(var P of V.selector.data)P.kind===t.y.ScopeIdentity?w.identities.push(P):a.Y.assertFail("Unexpected item.kind");for(var N of V.values)if(N.expr instanceof d.Dw||(0,s.Ah)(N.expr)){var I=_.indexOf(M.expressions,N.expr);I<0&&(M.expressions.push(N.expr),I=M.expressions.length-1),w.valueMap[I]=N.formattedValue}_.isEmpty(w.valueMap)||M.cachedValueItems.push(w)}return M}}(r.WZ.getDataPointsDescription(V,T))}function v(T,M){if(!T||!M)return T||M;for(var V={expressions:M.expressions.slice(),cachedValueItems:_.isEmpty(M.cachedValueItems)?[]:M.cachedValueItems.slice()},w={},P=function(){var W=T.expressions[N],F=_.findIndex(V.expressions,U=>U===W||(0,h.aI)(U,W));-1===F&&(F=M.expressions.length,V.expressions.push(W)),w[N]=F},N=0;N<T.expressions.length;N++)P();if(!_.isEmpty(T.cachedValueItems))for(var I of T.cachedValueItems){var O={};for(var R in I.valueMap)O[w[R]]=I.valueMap[R];V.cachedValueItems.push({identities:I.identities,valueMap:O})}return V}function m(T){var M=null;for(var V of T)M=v(V,M);return M}function p(T,M){if(!_.isEmpty(M)&&T){var V=[];for(var w of M){var P={identities:[w.identity],valueMap:{}};P.valueMap[0]=w.displayName,V.push(P)}return{expressions:[T],cachedValueItems:V}}}function y(T,M){if(T.length&&M.cachedValueItems&&M.cachedValueItems.length)for(var V=function(){var P=T[w],N=P.dataMap,I=w,O=M.cachedValueItems[I].identities,R=!0,W=0;for(var F in N){var U=(0,i.eC)(N[F]);for(var B of U){if(!O[W]||!(0,g.aI)(B,O[W])){R=!1;break}W++}}if(R||(I=_.findIndex(M.cachedValueItems,Y=>{var z=0;for(var H in N){var Z=(0,i.eC)(N[H]);for(var k of Z){if(!Y.identities[z]||!(0,g.aI)(k,Y.identities[z]))return!1;z++}}return!0})),I<0)return a.Y.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),1;var x=[],A=M.cachedValueItems[I].valueMap;for(var L in A)x.push({identity:M.cachedValueItems[I].identities[0],expr:M.expressions[L],formattedValue:A[L],value:A[L]});P.valueDetails=x},w=0;w<T.length;w++)V()}function u(T){if(T&&!(_.isEmpty(T.expressions)||T.expressions.length>1)){var M=[];for(var V of T.cachedValueItems){if(_.isEmpty(V.identities)||V.identities.length>1)return;a.Y.assertAnyValue(V.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),M.push({identity:V.identities[0],displayName:V.valueMap[0]})}return M}}function c(T,M){if(!_.isEmpty(T)&&M&&M.query){var V=M.query.defn.select();for(var w of T){var P=(0,l.uR)(w);if(_.isEmpty(P))return;for(var N of P){var O=(0,n.xD)(N.expr);for(var R of(a.Y.assertNonEmpty(O,"identityFields are expected"),O))for(var W of V)if(!(0,h.aI)(R,W.expr))return!0}}}}function b(T,M){if(!T)return null;for(var V,w=0;w<T.length;w++){var P=(0,d.LC)(T[w],M[w]);V=V?(0,d.Uo)(V,P):P}return(0,g.UQ)(V)}},343382:function(me,j,e){e.d(j,{M:function(){return L}});var r=e(167515),i=e(125129),a=e(460169),t=e(997519),l=e(5863),g=e(486395),n=e(785463),d=e(47917),s=e(168376),h=e(381839),o=e(289239),v=e(336983),m=e(759520),p=e(574324),y=e(892066),S=e(42630),C=e(364472),u=e(160800),E=e(850396),c=e(669129),f=e(20502),D=e(15721),b=e(103965),T=e(691605),M=e(668309),V=e(64974),w=e(270475),P=e(4509),N=e(229456),I=e(347130),O=e(712813),R=e(990370),W=e(662785),F=e(511334),U=e(273327),B=e(978450),x=e(983240),A=e(147293);class L{static getFormatter(k,K){var ee=k.getMetadata(K);if(ee)return(0,v.vt)({format:ee.format,allowFormatBeautification:!0})}static getFilterType(k,K){return(0,F.t)(k)||!K?M.RJ.Advanced:M.RJ.Categorical}static canAdd(k,K,ee,Q,J,X,ne){if(n.Y.assertValue(Q,"scope"),Q.scopeType===w.$d.Visual){var ae=Q.container;if(!ae||!(0,R.gz)(ae,ne))return!1}if(X)return!0;if(!K||!ee)return!1;if(!(0,R.E4)(k,ne)&&(0,F.t)(K))return!1;var Me=(0,p.F)(K,ee),Ye=(0,m.vG)(Me),Le=ee.schema(Ye.schema);if(!Le)return!1;var ut,St,lt=Le.findProperty(Ye.entity,(0,m.hm)(Me));if(lt||(Me.hierarchyLevel?(ut=Le.findHierarchy(Ye.entity,Me.hierarchyLevel.name))&&(St=ut.levels.withName(Me.hierarchyLevel.level)):Me.columnHierarchyLevelVariation&&(ut=Le.findHierarchy(Me.columnHierarchyLevelVariation.level.entity,Me.columnHierarchyLevelVariation.level.name))&&(St=ut.levels.withName(Me.columnHierarchyLevelVariation.level.level))),!lt&&!St||!Q||!Q.container||lt&&lt.kind===u.ye.Measure&&(Q.scopeType!==w.$d.Visual||Le.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!J)return!1;if(J){var ze=lt&&lt.kind;if(!St&&ze!==u.ye.Column&&ze!==u.ye.Measure)return!1;var Ce=!1;if(Q.scopeType===w.$d.Section){var Ae=Q.container;Ae&&!Ae.transient&&(Ce=!0)}if(!Ce)return!1}return!0}static supportsFilterOutput(k){return null!=this.tryGetFilterPropertyIdentifier(k,null,null)}static tryGetFilterPropertyIdentifier(k,K,ee){return K&&ee&&ee.isCustomVisual(K)?b.PO:k?(0,h.x_)(k.objects):void 0}static tryGetFilterProperty(k,K,ee,Q){var J=this.tryGetFilterPropertyIdentifier(k,K,ee);if(J)return(0,s._W)(Q,J,void 0)}static add(k,K){k.filters||(k.filters=[]),k.filters.push(K)}static getFiltersContainer(k,K,ee){switch(k){case w.$d.Visual:return I.qN.getSelectedVisual(K);case w.$d.Section:return ee.getCurrentSection();case w.$d.Exploration:return ee.getCurrentExploration();default:n.Y.assertNever(k)}}static getMatchingReportFilterContainers(k,K){if(K)return this.getMatchingFilterContainers(k,K.filters)}static getMatchingSectionFilterContainers(k,K){if(K)return this.getMatchingFilterContainers(k,K.filters)}static getMatchingVisualsFilterContainers(k,K){var ee=[];for(var Q of K)if((0,x.iA)(Q)&&Q.filters){var J=this.getMatchingFilterContainers(k,Q.filters);J&&ee.push(...J)}return _.isEmpty(ee)?void 0:ee}static getMatchingFilterContainers(k,K){if(K){var ee=K.filter(Q=>(0,B.aI)(Q.expression,k,!1,!0,!0));return _.isEmpty(ee)?void 0:ee}}static getMatchingFilterVisuals(k,K,ee){var Q=[],J=this.getFilteringSupportedVisuals(K,ee);if(J){var X=function(){var oe=ee.capabilities(ne.config.singleVisual.visualType),Me=(0,O.NU)(ne),Ye=L.getSupportedQueryRefs(oe,Me);if(!Me.defn.select().filter(ut=>Ye.some(St=>ut.name===St)).map(ut=>ut.expr).some(ut=>(0,B.aI)(ut,k,!1,!0,!0)))return 1;Q.push(ne)};for(var ne of J)X();return _.isEmpty(Q)?void 0:Q}}static getFilteringSupportedVisuals(k,K){var ee=[];for(var Q of k){var J=Q.config.singleVisual,X=J.visualType;if(!(0,P.dK)(J)){var ne=K.capabilities(X),ae=L.supportsFilterOutput(ne),oe=(0,O.NU)(Q),Me=K.getPlugin(X);if(ae&&!_.isEmpty(oe)&&Me&&Me.tryCreateFilterObjectsToPersist){var Ye=L.getSupportedQueryRefs(ne,oe);_.isEmpty(Ye)||ee.push(Q)}}}return _.isEmpty(ee)?void 0:ee}static getSupportedQueryRefs(k,K){if(!k||!K)return[];var J=k.dataRoles.filter(Me=>Me.kind===A.Ts.Grouping).map(Me=>Me.name),X=K.projections;if(_.isEmpty(X))return[];var ne=[];for(var ae of J){var oe=X[ae].getQueryRefs();ne.push(...oe)}return ne}static convertFilterData(k,K,ee){if(k){var Q={filter:k.filter,name:this.getNextFilterName(K),type:k.type,restatement:k.restatement,howCreated:ee};if(k.type===M.RJ.Categorical||k.filterExpressionMetadata&&1===k.filterExpressionMetadata.expressions.length){Q.expression=k.filterExpressionMetadata.expressions[0];var J=[];if(!_.isEmpty(k.filterExpressionMetadata.cachedValueItems)){for(var X of k.filterExpressionMetadata.cachedValueItems)1===X.identities.length&&J.push({identity:X.identities[0],displayName:X.valueMap[0]});Q.cachedValueItems=J}}else k.filterExpressionMetadata&&(Q.filterExpressionMetadata=k.filterExpressionMetadata);return Q}}static shouldDisableFilter(k,K,ee,Q,J){if(!ee)return!1;var X=k.expression;if(!X)return!1;var ne=(0,F.t)(X),ae=!_.isEmpty(this.validate(k,K,Q)),oe=(0,O.gk)(ee,K);if(ne){if(!oe&&!ae)return!0;var Me=X.getTargetEntity();if(!Me)return!0;if(K.schema(Me.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,O.Pg)(ee,K,J)||(0,O.aj)(ee))return!0}return!1}static getValueType(k,K){var ee=k.getMetadata(K);if(ee)return ee.type}static getDefaultRetainedValue(k,K){var ee=c.B.getDefaultValues(k,K);if(!_.isEmpty(ee))return{isNot:!1,scopeIds:[[(0,o.UQ)((0,U.o)(k,ee))]]}}static validate(k,K,ee){n.Y.assertValue(k,"filterContainer");var J=k.filter,X=c.B.validate(k.expression,K,ee);if(J&&(X=J.validate(K,ee,X)),!_.isEmpty(X))return X}static getNextFilterName(k){null==k&&(k=[]);var K={};for(var ee of k)n.Y.assertValue(ee,"getNextFilterName: collection contains null filter"),null!=ee&&(K[ee.name]=!0);return g.Q.generateUniqueId(K)}static isCategoricalFilter(k){return k===M.RJ.Categorical||k===M.RJ.Visual}static getQueryRefsForSingleItemDrillFilters(k,K,ee){var Q=k.filters,J=[];if(Q)for(var X of Q){var ne=X&&X.filter;if(ne&&_.isEmpty(ne.validate(K,ee))&&X.howCreated===V.GS.Drill&&this.areDrillFiltersSingleValue(ne.where())){var ae=this.getQueryRefFromFilter(k,X.expression);ae&&J.push(ae)}}return J}static areDrillFiltersSingleValue(k){return!_.isEmpty(k)&&_.every(k,K=>{if(null==K)return!1;var ee=K.condition;return(0,W.S1)(ee)?ee.values&&1===ee.values.length:!!(0,W.Ze)(ee)&&ee.comparison===a.mq.Equal})}static getQueryRefFromFilter(k,K){var ee=(0,O.NU)(k);if(ee)return ee.defn.selectNameOf(K)}static getFilterValuesForColumn(k,K){if(n.Y.assertAnyValue(K,"filters"),n.Y.assertValue(k,"column"),K){var ee=K.condition,Q=new H(k);return ee.accept(Q),Q.values}}static deriveFromSQFilters(k,K,ee){var Q=[],J=ee&&ee.Filters&&0!==ee.Filters.length?ee.Filters:null;J&&J.length!==K.length&&(J=null);for(var X=0,ne=K.length;X<ne;X++){var ae=K[X],oe=J&&J[X],Me=oe&&oe.expression&&t.F3.deserializeExpr(oe.expression);Q.push({name:this.getNextFilterName(Q),filter:new C.b0(k,[ae]),restatement:oe&&oe.Restatement,expression:Me,howCreated:V.GS.Auto,type:oe&&oe.type})}return Q}static extractParameterFilters(k,K){n.Y.assertValue(k,"queryDefn"),n.Y.assertAnyValue(K,"queryMetadata");var ee=_.filter(k.From,ne=>ne.Type!==a.nO.Pod),J={RemovedIndexes:[]},X=t.F3.deserializeFilter({Version:k.Version,From:ee,Where:k.Where},J);if(K&&!_.isEmpty(J.RemovedIndexes)&&(K.Filters=_.filter(K.Filters,(ne,ae)=>!_.includes(J.RemovedIndexes,ae))),X)return this.deriveFromSQFilters(X.from(),X.where(),K)}static mergeExplorationSectionFilters(k,K){n.Y.assertValue(k,"exploration"),n.Y.assertValue(K,"section"),_.isEmpty(k.filters)||(K.filters=this.mergeFilters(K.filters,k.filters,"explore"),k.filters=[])}static isFilterModified(k){var X=!0===k.isHiddenInViewMode||!0===k.isLockedInViewMode||!!k.displayName||void 0!==k.ordinal;return!!k.filter||!(0,s.Im)(k.objects)||X}static ensureFilterHasName(k,K){null==k.name&&this.isFilterModified(k)&&(k.name=this.getNextFilterName(K.container&&K.container.filters))}static applySectionParameterFilters(k,K,ee,Q,J){n.Y.assertValue(k,"section"),n.Y.assertAnyValue(K,"pod"),n.Y.assertAnyValue(Q,"parameterFilters"),n.Y.assertAnyValue(ee,"additionalSourceFilters");var X=J;if(k.filters=this.getSectionParameterFiltersToApply(K,k.filters,ee,Q),(!_.isEmpty(Q)||!_.isEmpty(ee))&&(X=!0),X)for(var ne of k.visualContainers)ne.cachedData=null}static getFiltersToApplyFromVisualQueryFilterContext(k){if(k){var K=k.dataFilters?k.dataFilters.slice():[];k.highlightFiltersUnmerged&&(K=K.concat(k.highlightFiltersUnmerged));var ee=k.query,Q=[],J=[],X=!1;for(var ne of K){var ae=ne.filter.where();if(_.find(ae,Be=>(0,y.m)(Be.condition)===E.l0.VisualTopN))X=!0;else if(!_.isEmpty(ae)){var oe=_.filter(ae,Be=>(0,y.m)(Be.condition)===E.l0.Measure);if(J.push(...oe||[]),!_.isEmpty(oe)){var Me=_.filter(ae,Be=>(0,y.m)(Be.condition)!==E.l0.Measure&&(0,y.m)(Be.condition)!==E.l0.VisualTopN);if(_.isEmpty(Me))continue;ne={filter:C.b0.fromSQFromAndSQFilters(ne.filter.from(),Me)}}Q.push(ne)}}if(!_.isEmpty(J)){var Ye=C.b0.fromMeasureFilters(ee,J);Ye&&Q.push({filter:Ye})}if(X){var Le=ee.from().getSubquerySources(),lt=_.findKey(Le,Be=>Be.inheritsSorting),ut=Le[lt],St=_.find(ee.where(),Be=>{var Ce=new z;return Be.condition.accept(Ce),Ce.source===lt});if(St){var ze=new D.l0({[lt]:ut});Q.push({filter:C.b0.fromSQFromAndSQFilters(ze,[St])})}}return Q}}static findValuesInFilterCache(k,K,ee){if(n.Y.assert(()=>k.length===K.length,".extractValuesFromMetadata the columns length should be equal to values length"),ee&&!_.isEmpty(ee.cachedValueItems)){var Q=this.findIdentityMapInFilterCache(k,K,ee);if(Q){var J=[],X=[];for(var ne in Q.valueMap)J.push(Q.valueMap[ne]),X.push(ee.expressions[ne]);return{values:J,columns:X}}}}static removeEntryFromFilterCache(k,K,ee){if(n.Y.assert(()=>k.length===K.length,".removeEntryFromFilterCache the columns length should be equal to values length"),ee&&!_.isEmpty(ee.cachedValueItems)){var Q=this.findIdentityMapInFilterCache(k,K,ee);Q&&_.remove(ee.cachedValueItems,J=>J===Q)}}static findIdentityMapInFilterCache(k,K,ee){if(n.Y.assert(()=>k.length===K.length,".findIdentityMapInFilterCache the columns length should be equal to values length"),ee&&!_.isEmpty(ee.cachedValueItems))for(var Q of ee.cachedValueItems){var J=new S.Rq;for(var X of Q.identities)X.expr.accept(J);if(J.keys.length===k.length){for(var ne=!0,ae=function(){var Me=J.keys[oe];if(_.findIndex(k,Le=>(0,B.aI)(Le,Me))<0||K[oe].value!==J.values[oe].value)return ne=!1,1},oe=0;oe<J.keys.length&&!ae();oe++);if(ne)return Q}}}static fillMissingValuesFromCache(k,K){if(!K||_.isEmpty(K.cachedValueItems))return k;var ee=new Map,Q=function(ae){ae.identities.forEach((oe,Me)=>ee.set(oe.key,ae.valueMap[Me]))};for(var J of K.cachedValueItems)Q(J);var X=function(ae){ae.identities.forEach((oe,Me)=>{var Ye;return(Ye=ae.valueMap)[Me]??(Ye[Me]=ee.get(oe.key))})};for(var ne of k)X(ne);return k}static getSectionParameterFiltersToApply(k,K,ee,Q){n.Y.assertAnyValue(k,"pod"),n.Y.assertAnyValue(K,"sectionFilters"),n.Y.assertAnyValue(Q,"parameterFilters"),n.Y.assertAnyValue(ee,"additionalSourceFilters");var J=[...K||[]];if(_.isEmpty(Q)||k&&!_.isEmpty(k.parameters)&&_.remove(J,ne=>_.some(k.parameters,ae=>ae.boundFilter===ne.name)),!_.isEmpty(Q)||!_.isEmpty(ee)){var X=this.getUnOverriddenAndMergedFilters(Q,ee);return this.getUnOverriddenAndMergedFilters(X,J)}return J}static getUnOverriddenAndMergedFilters(k,K){if(n.Y.assertAnyValue(k,"higherPrecedenceFilters"),n.Y.assertAnyValue(K,"lowerPrecedenceFilters"),_.isEmpty(k))return K;if(_.isEmpty(K))return k;var ee=this.getNonoverriddenFilters(k,K);return this.mergeFilters(ee||[],k||[],"param")}static getNonoverriddenFilters(k,K){if(n.Y.assertAnyValue(k,"higherPrecedenceFilters"),n.Y.assertAnyValue(K,"lowerPrecedenceFilters"),_.isEmpty(k)||_.isEmpty(K))return K;var ee=this.extractAllReferencedFields(k);return _.filter(K,J=>{var X=this.extractReferencedFields(J);return!_.some(X,ne=>_.some(ee,ae=>(0,B.aI)(ae,ne,!1,!0)))})}static extractParameterFiltersFromSection(k,K){n.Y.assertAnyValue(k,"sectionFilters"),n.Y.assertAnyValue(K,"originalFilters"),k=k||[],K=K||[];var ee={},Q=[];for(var J of K)ee[J.name]=J;for(var X of k){var ne=ee[X.name];(!ne||!_.isEqual(ne,X))&&Q.push(X)}return Q}static mergeFilters(k,K,ee){var Q={};for(var J of k=k||[])Q[J.name]=!0;for(var X of K)X.name=ee+"_"+X.name,Q[X.name]?n.Y.assertFail("Filter name conflict: "+X.name):Q[X.name]=!0;return k.concat(K)}static canExpandManually(k,K,ee,Q,J){return k!==V.GS.CrossDrill&&!(k===V.GS.Drillthrough&&!K&&J!==M.RJ.Exclude&&J!==M.RJ.Include&&ee&&(0,W.tx)(ee)||!Q)}static hasMeasureOrAsAggregationLinkField(k){return n.Y.assertValue(k,"section"),_.some(k.filters,K=>K.howCreated===V.GS.Drillthrough&&!K.isTransient&&(K.isLinkedAsAggregation||K.expression&&(0,W.tx)(K.expression)))}static notifyFilterContainerChangedByUser(k,K){k.publishToChannel(N.LZI,{source:r.vd.FilterChange}),k.publishToChannel(N.gsd,K)}static createChangeFilterActivity(k,K,ee){var Q={name:i.n.ChangeFilter,operationType:K};return ee?ee.createChildActivity(Q):k.createActivity(Q)}static notifyBufferedFilterChanges(k,K,ee,Q,J,X){k.publishToChannel(N.D6m,{filterScopeType:K,filterType:ee,id:Q,canApply:J,wasDeleted:X})}static isApplyAllEnabled(k,K){var ee=K.getCurrentExploration();return!!(k&&ee&&ee.slowDataSourceSettings)&&ee.slowDataSourceSettings.isApplyAllButtonEnabled}static getFilterCardStyle(k,K,ee,Q){var X,ne,J=k&&k.filterCard;K?(X=J&&J.$instances&&J.$instances[T.Mm],ne=T.Lt):(X=J&&J.$instances&&J.$instances[T.y],ne=T.RT);var ae=this.getDefaultFilterCardStyle(k,K,ee,Q);return Q?.forceApplyDefaultStyleOverride?ae:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(k&&k.outspacePane,ae.checkboxAndApplyColor),borderColor:this.getBorderColor(X,ae.borderColor,Q?.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(X,ae.backgroundColor,ne,K,ae.backgroundColorApplied),foregroundColor:this.getColor(X,"foregroundColor",ae.foregroundColor),inputBoxBorderColor:this.getBorderColor(X,ae.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(X,"inputBoxColor",ae.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(X,"foregroundColor",ae.inputBoxForegroundColor),fontSize:Q?.ignoreFontSizeAndFamily?null:ae.fontSize,fontFamily:Q?.ignoreFontSizeAndFamily?null:ae.fontFamily}}static getDefaultFilterCardStyle(k,K,ee,Q){var X,ne,J=k&&k.filterCard;K?(X=J&&J.$instances&&J.$instances[T.Mm],ne=ee.colorPalette.backgroundLight.value):(X=J&&J.$instances&&J.$instances[T.y],ne=ee.colorPalette.background.value);var ae=K?Q?.defaultStyleOverride?.backgroundColorApplied:Q?.defaultStyleOverride?.backgroundColorAvailable,oe=Q?.defaultStyleOverride,Me=ae||oe?.backgroundColor;return oe?{...oe,backgroundColor:Me}:{checkboxAndApplyColor:T.VF,borderColor:T.DE,backgroundColor:ne,foregroundColor:ee.colorPalette.foreground.value,inputBoxBorderColor:T.DE,inputBoxBackgroundColor:T.Cv,inputBoxForegroundColor:T.tU,fontSize:this.getFontSize(X),fontFamily:this.getFontFamily(X)}}static determineIsLinkedAsAggregation(k,K,ee){if(k.howCreated===V.GS.Drillthrough)return null!=ee.defaultAggregate(k.expression,K)}static getDisplayNameForIncludeExcludeFilters(k,K,ee){return k.get(K===M.RJ.Include?"Include_Label":"FilterPane_Exclude")+" ("+ee+")"}static getCheckboxAndApplyColor(k,K=T.VF){var ee=(0,d.a)(k,"checkboxAndApplyColor",K);return(0,l.ND)(ee)}static getBorderColor(k,K,ee){var Q=(0,d.a)(k,"borderColor",K),X=0;return(!0===(0,d._)(k,"border",T.iw)||ee)&&(X=1),(0,l.ND)(Q,X)}static getBackgroundColor(k,K,ee,Q,J){var ne=(0,d.a)(k,"backgroundColor",Q&&J?J:K),ae=(0,l.yS)((0,d._)(k,"transparency",ee));return(0,l.ND)(ne,ae)}static getColor(k,K,ee){var Q=(0,d.a)(k,K,ee);return(0,l.ND)(Q)}static getFontSize(k){return`${(0,d._)(k,"textSize",T.s1)}pt`}static getFontFamily(k){return(0,d._)(k,"fontFamily",T.D6)}static extractAllReferencedFields(k){return _.flatten(_.map(k,K=>this.extractReferencedFields(K)))}static extractReferencedFields(k){var K=[];if(k.expression&&K.push(k.expression),k.filter)for(var ee of k.filter.conditions()){var Q=new Y;ee.accept(Q),K=K.concat(Q.fields)}return K}static getFilterCapabilities(k){return{canClear:this.canClearManually(k),canDelete:this.canDeleteManually(k),canEdit:this.canEditManually(k),canHide:this.canHideManually(k),canLock:this.canLockManually(k),canRename:this.canRenameManually(k),canSort:this.canSortManually(k)}}static canClearManually(k){return!(k.howCreated!==V.GS.Auto&&k.howCreated!==V.GS.User&&k.howCreated!==V.GS.Drill&&k.howCreated!==V.GS.Drillthrough&&k.howCreated!==V.GS.URL||k.type===M.RJ.Passthrough||k.howCreated===V.GS.Drillthrough&&(k.type===M.RJ.Exclude||k.type===M.RJ.Include))}static canDeleteManually(k){return k.howCreated===V.GS.User||k.howCreated===V.GS.Drillthrough||k.howCreated===V.GS.URL||k.type===M.RJ.Passthrough||k.howCreated===V.GS.Include||k.howCreated===V.GS.Exclude}static canEditManually(k){return(k.howCreated===V.GS.Auto||k.howCreated===V.GS.User||k.howCreated===V.GS.Drill||k.howCreated===V.GS.Drillthrough||k.howCreated===V.GS.URL||k.howCreated===V.GS.Include||k.howCreated===V.GS.Exclude)&&k.type!==M.RJ.Passthrough}static canHideManually(k){return k.howCreated===V.GS.Auto||k.howCreated===V.GS.User||k.howCreated===V.GS.Drillthrough&&!k.isTransient||k.type===M.RJ.Passthrough||k.howCreated===V.GS.Include||k.howCreated===V.GS.Exclude}static canLockManually(k){return(k.howCreated===V.GS.Auto||k.howCreated===V.GS.User||k.howCreated===V.GS.Drillthrough&&!k.isTransient||k.howCreated===V.GS.Include||k.howCreated===V.GS.Exclude)&&k.type!==M.RJ.Passthrough}static canRenameManually(k){return(k.howCreated===V.GS.Auto||k.howCreated===V.GS.User)&&k.type!==M.RJ.Passthrough&&k.type!==M.RJ.VisualTopN}static canSortManually(k){return k.howCreated===V.GS.Auto||k.howCreated===V.GS.User||k.type===M.RJ.Passthrough||k.howCreated===V.GS.Include||k.howCreated===V.GS.Exclude}}class Y extends f.ff{constructor(){super(...arguments),this.fields=[]}visitColumnRef(k){this.fields.push(k)}visitHierarchyLevel(k){this.fields.push(k)}visitMeasureRef(k){this.fields.push(k)}visitEntity(k){this.fields.push(k)}visitAggr(){}}class z extends f.ff{visitSubqueryRef(k){this.source=k.variable}}class H extends f.nP{constructor(k){super(),this.comparisonColumn=k,this.values=[]}visitCompare(k){k.comparison===a.mq.Equal&&(0,W.VO)(k.right)&&(0,B.aI)(k.left,this.comparisonColumn)&&this.values.push(k.right)}visitIn(k){if(!_.isEmpty(k.values)){var ee=_.findIndex(k.args,J=>(0,B.aI)(J,this.comparisonColumn,void 0,!0));if(!(ee<0))for(var Q of k.values)this.values.push(Q[ee])}}}},990370:function(me,j,e){e.d(j,{E4:function(){return n},I_:function(){return d},gz:function(){return g}});var r=e(978450),i=e(668309),a=e(64974),t=e(925397),l=e(511334);function g(s,h){var o=(0,t.d)(s);return h.isQueryVisual(o)}function n(s,h){var o=(0,t.d)(s);return!h.isAnalysisVisual(o)}function d(s,h,o,v){var m=s.getMetadata(h);if(m){if(o===a.GS.Drillthrough)return i.RJ.Categorical;var p=m.type,y=p&&(p.text||p.bool||p.dateTime),S=m.idOnEntityKey&&v&&(0,r.aI)(s,v);return!y||(0,l.t)(s)||S?i.RJ.Advanced:i.RJ.Categorical}}},932701:function(me,j,e){e.d(j,{No:function(){return v},PC:function(){return p},RQ:function(){return m},__:function(){return o},ao:function(){return V},pG:function(){return h},vc:function(){return T}});var r=e(662785),i=e(423029),a=e(785463),t=e(160800),l=e(759520),g=e(574324),n=e(446024),d=e(669129);function h(B,x,A){if(a.Y.assertValue(B,"entity"),!x||!x.column||!x.column.groupingMetadata)return i.r.None;if(A){var L=A.getGroupingDesignState(B,x.name);if(!L)return i.r.Basic;if(L.partitionTable)return i.r.Clustering;if(L.binItem)return i.r.Binning}return i.r.Basic}function o(B,x,A){var L=h(B,x,A);return L===i.r.Basic||L===i.r.Binning}function v(B,x,A){return h(B,x,A)===i.r.Clustering}function m(B,x,A){if(!x||!x.column||!x.column.groupingMetadata)return!1;var L=A.getGroupingDesignState(B,x.name);return!(!L||!L.groupItems&&!L.partitionTable)}function p(B,x){return!(!x||!function(B,x){return function(B,x){var A=(0,l._w)((0,g.F)(x));return B.schema(A)}(B,x).capabilities.canEdit}(B,x)||!(0,r.R3)(x)&&!(0,r.Jq)(x))&&function(B){return B&&!!(B.type.dateTime||B.type.integer||B.type.numeric||B.type.text)}(x.getConceptualProperty(B))}function T(B,x){return _.chain(B.groupedColumns).map(A=>{if(function(B){return B.kind===t.ye.Column}(A))return(0,n.sX)(x,A.name)}).filter(A=>null!=A).value()}function V(B,x){var A=x&&x.defn.select();if(!_.isEmpty(A)&&!_.isEmpty(B)){for(var L of B){if(!L||!L.dataMap)return!1;var Y=Object.keys(L.dataMap),z=_.size(L.dataMap);if(z>2)return!1;if(2===z){var H=A.withName(Y[0]),Z=A.withName(Y[1]);if(H&&Z&&!W(H.expr,Z.expr))return!1}else if(1===z){var k=A.withName(Y[0]);if(k&&!(0,r.R3)(k.expr)&&!(0,r.Jq)(k.expr))return!1}}return!0}return!1}function W(B,x){return!!function(B,x){if((0,r.Jq)(B)&&(0,r.R3)(x)&&U(B,x))return B;if((0,r.Jq)(x)&&(0,r.R3)(B)&&U(x,B))return x;if((0,r.Jq)(B)&&(0,r.Jq)(x)){if(U(B,x))return B;if(U(x,B))return x}}(B,x)}function U(B,x){return d.B.sequenceEqual(B.groupedExprs,[x])}},452701:function(me,j,e){e.d(j,{JI:function(){return h},rT:function(){return d},tc:function(){return o}});var r=e(662785),i=e(978450),t=(e(785463),e(147293)),l=e(446024),g=e(548186),n=e(822874);function d(y,S,C,u){if(C&&S&&(0,r.Ah)(u)){var E=u,c=E.arg,f=(0,n.w)(y,c),D=[],b=function(){var V,M=C.tryGetExprs(T.name);if(!M)return 1;if((0,r.Ir)(c)&&(0,r.sD)(c.arg)){var w=c.arg;V=_((0,g.c)(y,M,{})).filter(I=>I.isHierarchyLevelsGroup&&(0,r.R3)(I.expr)&&(0,i.aI)(I.expr.source,w.arg)&&I.expr.ref===w.property).reverse().value()}else V=_((0,g.c)(y,M,{})).filter(I=>(0,i.aI)(I.expr,c)).reverse().value();for(var P of V){var N=(0,n._q)(f,P.children,E);D.push({expr:E,schema:y,targetRole:T.name,projOptions:{fieldIndex:P.selectQueryIndex+N}})}};for(var T of S.dataRoles)b();return D}}function h(y,S,C,u,E,c){var D=(y.singleVisual.query.tryGetExprs(S)||[]).slice(C,C+u);if(!_.isEmpty(D)){var b;if(b=_.isEmpty(c)?D[0]:c[0],(0,r.Ah)(b)){var T=function(y,S){if(y&&y.kind===t.Ts.Measure){var C=(0,n.PT)(S);if(C)return(0,l.sX)(C.arg,C.property)}}(E,b);if(T)return[T]}return _.isEmpty(c)?D:c}}function o(y,S){return(0,r.Ah)(y)&&(0,r.Ah)(S)&&(0,i.aI)(y.arg,S.arg)}},340125:function(me,j,e){e.d(j,{J:function(){return g}});var r=e(418310),i=e(785463),a=e(525253),t=e(811901),l=e(511334);class g{static generate(d,s,h,o,v,m,p,y){if(i.Y.assertValue(d,"dataView"),i.Y.assertValue(s,"originalSelects"),i.Y.assertValue(o,"originalDataRoleNames"),i.Y.assertAnyValue(v,"originalProjectionOrdering"),d.matrix){var S=[],C=[],u=[],E=[],c=d.matrix;for(var f of s){var D={...f};D.roles={},S.push(D)}var b=O=>{if(m&&m.featureSwitches.showGeneratedColumnsInDetailView)return!0;var R=s[O.index];return!R||!_.isEmpty(R.roles)||!_.isEmpty(R.relatedSelects)},T=this.getSelectsGroupedByRowHierarchy(h,s,d.matrix,b),V=(p&&y?this.tryProcessDataViewHierarchy(c.rows,S,u,r.o.columns,T,O=>!O.isMeasure):this.tryProcessDataViewHierarchy(c.rows,S,C,r.o.rows,T)&&this.tryProcessDataViewHierarchy(c.columns,S,u,r.o.columns,T,O=>!O.isMeasure))&&this.tryUpdateReferencedSelects(c.valueSources,S,E,r.o.values,T,b),w=_.last(c.rows.levels);if(w&&(V=V&&this.tryUpdateReferencedSelects((0,t.Io)(w),S,E,r.o.values,T,b)),V){var P=d;this.sortMatrixRoleProjectionOrders(o,v,C,u,E,S),_.isEmpty(T)||(P=this.fixMeasuresGroupedByRowHierarchy(d,T));var N={};return C.length>0&&(N[r.o.rows]=C),u.length>0&&(N[r.o.columns]=u),E.length>0&&(N[r.o.values]=E),{transformActions:{selects:S,roles:{ordering:N}},dataView:P}}}}static getSelectsGroupedByRowHierarchyFromMatrix(d,s){var h={},o=d?.rows?.levels;if(!_.isEmpty(o)){var v=_.last(o),m=(0,t.Io)(v);if(!_.isEmpty(m))for(var p of m)_.isNumber(p.index)&&s(p)&&(h[p.index]=!0)}return h}static tryProcessDataViewHierarchy(d,s,h,o,v,m){if(!d||_.isEmpty(d.levels))return!0;for(var p of d.levels)if(!this.tryUpdateReferencedSelects(p.sources,s,h,o,v,m))return!1;return!0}static tryUpdateReferencedSelects(d,s,h,o,v,m){if(_.isEmpty(d))return!0;var y,p=function(C){if(!m||m(C)){if(null==C.index&&_.some(d,c=>c.formatSource&&c.formatSource.formatString===C))return 0;if(v[C.index]){if(!_.isEmpty(s[C.index].relatedSelects)){var u=function(c){var f=_.findIndex(s,D=>D.queryName===c.queryName);v[f]||h.push(C.index)};for(var E of s[C.index].relatedSelects)u(E)}}else h.push(C.index);if(!s[C.index])return{v:!1};s[C.index].roles[o]=!0}};for(var S of d)if(0!==(y=p(S))&&y)return y.v;return!0}static sortMatrixRoleProjectionOrders(d,s,h,o,v,m){if(i.Y.assertValue(d,"originalDataRoleNames"),i.Y.assertAnyValue(s,"originalProjectionOrdering"),i.Y.assertValue(h,"matrixRowsOrdering"),i.Y.assertValue(o,"matrixColumnsOrdering"),i.Y.assertValue(v,"matrixValuesOrdering"),!_.isEmpty(d)&&s){var p=h.length>=2,y=o.length>=2,S=v.length>=2;if(p||y||S){var C=this.createSelectIndexToSortOrderMappings(d,s);C&&(p&&this.applySortOrder(h,C),y&&this.applySortOrder(o,C),S)&&(this.applySortOrder(v,C),(0,a.gZ)(m,{[r.o.values]:v}))}}}static createSelectIndexToSortOrderMappings(d,s){i.Y.assertNonEmpty(d,"originalDataRoleNames"),i.Y.assertValue(s,"originalProjectionOrdering");var h=_.chain(d).map(v=>s[v]).flatten().filter(v=>_.isNumber(v)).value(),o=_.reduce(h,(v,m,p)=>(void 0===v[m]&&(v[m]=p),v),{});return Object.keys(o).length>=2?o:void 0}static applySortOrder(d,s){i.Y.assertNonEmpty(d,"matrixRoleSelectIndices"),i.Y.assertValue(s,"selectIndexToSortOrderMapping"),d.sort((h,o)=>this.getSortOrderOrDefault(h,s)-this.getSortOrderOrDefault(o,s))}static getSortOrderOrDefault(d,s,h=Number.MAX_VALUE){return i.Y.assertValue(d,"selectIndex"),i.Y.assertValue(s,"selectIndexToSortOrderMapping"),_.isNumber(s[d])?s[d]:h}static fixMeasuresGroupedByRowHierarchy(d,s){if(i.Y.assertValue(d,"dataView"),i.Y.assertValue(d.matrix,"matrix"),i.Y.assertValue(d.matrix.columns,"matrix.columns"),this.nothingToFix(s,d.matrix))return d;var o=_.cloneDeep(d);return this.addMeasureValuesGroupedByRowHierarchy(o,s),o}static nothingToFix(d,s){return _.isEmpty(Object.keys(d))||_.isEmpty(s.columns.root.children)||_.isEmpty(s.rows.root.children)}static getSelectsGroupedByRowHierarchy(d,s,h,o){if(d&&d.length>1){i.Y.assertValue(d[0]?.selects&&d[1]?.selects,"Split transforms should be defined");var v=this.categorizeSplitSelects(d[0],s);if(_.isEmpty(v.measureSelectIndices))return{};var m=this.categorizeSplitSelects(d[1],s);if(_.isEqual(v.groupingSelectIndices,m.groupingSelectIndices))return{};if(!_.isEmpty(m.measureSelectIndices))for(var p=_.map(_.keys(m.measureSelectIndices),E=>s[parseInt(E,10)].queryName),y=0;y<s.length;y++){var S=s[y];if(!_.isEmpty(S.relatedSelects)){var C=function(E){null!=_.find(p,c=>E.queryName===c)&&(m.measureSelectIndices[y]=!0)};for(var u of S.relatedSelects)C(u)}}return m.measureSelectIndices}return g.getSelectsGroupedByRowHierarchyFromMatrix(h,o)}static categorizeSplitSelects(d,s){var h={groupingSelectIndices:{},measureSelectIndices:{}};for(var o in d.selects){var v=s[o];v.expr&&((0,l.t)(v.expr)?h.measureSelectIndices[o]=!0:h.groupingSelectIndices[o]=!0)}return h}static addMeasureValuesGroupedByRowHierarchy(d,s){i.Y.assertNonEmpty(d.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),i.Y.assertValue(s,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var h=d.matrix,o=h.columns.levels[0],v=[],m=_.last(h.rows.levels),p=h.valueSources.length;i.Y.assertAnyValue(m.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var y=(0,t.Io)(m);if(y){for(var S=h.columns.root,C=this.getColumnLeavesCount(S),u=0;u<y.length;u++){var E=y[u];s[E.index]&&(E.formatSource&&delete E.formatSource,h.valueSources.push(E),this.addStaticMeasureColumnHeader(o,E,S),v.push(u))}(0,t.lq)(d.matrix.rows.root,c=>{var f=C,D=(0,t.de)(c);if(!_.isEmpty(D))for(var b=0;b<v.length;b++)c.values[f++]={value:D[v[b]].value,valueSourceIndex:p+b}})}}static getColumnLeavesCount(d){var s=0;return(0,t.lq)(d,()=>s++),s}static addStaticMeasureColumnHeader(d,s,h){d.sources.push(s),h.children.push({level:0,levelSourceIndex:d.sources.length-1})}}},294030:function(me,j,e){e.d(j,{U:function(){return i}});var r=e(512134);class i{constructor(t){this.modelExtension=t,this.visited={}}visitReference(t){if(t.schema===this.modelExtension.name){var l=(0,r.J0)(this.modelExtension,t.entity);if(l){var g=(0,r.lS)(l,t.name);if(g){var n=this.toVisitedKey(t);if(!this.visited[n])for(var d of(this.visitMeasure(this.modelExtension,l,g),this.visited[n]=!0,g.references.measures))this.visitReference(d)}}}}visitMeasure(t,l,g){}toVisitedKey(t){return JSON.stringify(t)}}},512134:function(me,j,e){e.d(j,{FQ:function(){return n},J0:function(){return o},QH:function(){return h},Rx:function(){return u},W_:function(){return p},aX:function(){return E},gM:function(){return V},hZ:function(){return s},lC:function(){return g},lS:function(){return S},p4:function(){return y},tC:function(){return m}});var r=e(61917),i=e(113577),a=e(364515),t=e(935236),l=e(785463);function g(N,I){return N.modelExtensions&&N.modelExtensions.withName(I)}function n(N,I){var O=g(N,I);if(!O)throw new Error("Unable to find expected model extension: "+I);return O}function s(N,I){return{name:N,extends:I,entities:(0,t.OX)()}}function h(N,I,O){var R=function(N,I,O){N.modelExtensions||(N.modelExtensions=(0,t.OX)());var R=N.modelExtensions.withName(I);return R||(R=s(I,O),N.modelExtensions.push(R)),l.Y.assert(()=>R.extends===O,"Found model extension with incompatible extends field"),R}(N,I,a.CF);return m(R,O)}function o(N,I){return N.entities.withName(I)}function v(N,I,O){var W=o(n(N,I),O);if(!W)throw new Error("Unable to find expected entity: "+O);return W}function m(N,I){N.entities||(N.entities=(0,t.OX)());var O=N.entities.withName(I);return O||(O={name:I,extends:I,measures:(0,t.OX)()},N.entities.push(O)),l.Y.assert(()=>O.extends===I,"Found model extension entity with incompatible extends field"),O}function p(N,I){if(N.measures||(N.measures=(0,t.OX)()),N.measures.withName(I.name))throw new Error(`Measure ${I.name} already exists and cannot be added`);N.measures.push(I)}function y(N,I,O,R){return C(v(N,I,O),R)}function S(N,I){return N.measures.withName(I)}function C(N,I){var O=S(N,I);if(!O)throw new Error("Unable to find expected measure:"+I);return O}function u(N,I,O,R){var W=v(N,I,O),F=C(W,R),U=W.measures.indexOf(F);W.measures.splice(U,1),0===W.measures.length&&(delete W.measures,function(N,I,O){if(!M(O)){var R=n(N,I),W=R.entities.indexOf(O);R.entities.splice(W,1),0===R.entities.length&&(delete R.entities,function(N,I){if(!M(I)){var O=N.modelExtensions.indexOf(I);N.modelExtensions.splice(O,1),0===N.modelExtensions.length&&delete N.modelExtensions}}(N,R))}}(N,I,W))}function E(N,I,O){null==O?function(N,I){var O=N.annotations&&N.annotations.withName(I);if(O){var R=N.annotations.indexOf(O);N.annotations.splice(R,1),N.annotations&&0===N.annotations.length&&delete N.annotations}}(N,I):function(N,I,O){N.annotations||(N.annotations=(0,t.OX)());var R=N.annotations.withName(I);R?R.value=O:N.annotations.push(R={name:I,value:O})}(N,I,O)}function M(N){var I=Object.keys(N),O=_.chain(I).filter(R=>"name"!==R&&"extends"!==R).filter(R=>!(_.isArray(N[R])&&_.isEmpty(N[R]))).value();return _.some(O)}function V(N){if(N){var I={Version:i.fn.Version0,Name:N.name,Extends:N.extends};return N.entities&&(I.Entities=_.map(N.entities,O=>function(N){var I={Extends:N.extends,Name:N.name};return N.measures&&(I.Measures=_.map(N.measures,O=>function(N){var I=N.dataType;return(I===r.W.Date||I===r.W.Time)&&(I=r.W.DateTime),{Name:N.name,Expression:N.expression,DataType:I}}(O))),I}(O))),I}}},415566:function(me,j,e){e.d(j,{DE:function(){return h},EP:function(){return v},V_:function(){return m},s1:function(){return o},sk:function(){return s}});var r=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i=1e3,a=60*i,t=60*a,l=24*t,g=7*l,n=30*l,d=365*l;function s(S){return function(S){var C=r.exec(S)||new Array(9),u="-"===C[1]?-1:1;return{years:p(C[2],u),months:p(C[3],u),weeks:p(C[4],u),days:p(C[5],u),hours:p(C[6],u),minutes:p(C[7],u),seconds:p(C[8],u)}}(S)}function h(S){return S.years*d+S.months*n+S.weeks*g+S.days*l+S.hours*t+S.minutes*a+S.seconds*i}function o(S){var C={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};for(var u of S){var E=u.value;u.isTimeUnit&&"S"===u.unit?C.seconds=E:u.isTimeUnit&&"M"===u.unit?C.minutes=E:u.isTimeUnit&&"H"===u.unit?C.hours=E:"D"===u.unit?C.days=E:"W"===u.unit?C.weeks=E:"M"===u.unit?C.months=E:"Y"===u.unit&&(C.years=E)}return C}function v(S){var C="P";return S.years>0&&(C+=`${S.years}Y`),S.months>0&&(C+=`${S.months}M`),S.weeks>0&&(C+=`${S.weeks}W`),S.days>0&&(C+=`${S.days}D`),0===S.hours&&0===S.minutes&&0===S.seconds||(C+="T",S.hours>0&&(C+=`${S.hours}H`),S.minutes>0&&(C+=`${S.minutes}M`),S.seconds>0&&(C+=`${S.seconds}S`)),C}function m(S){var C=[];return S.seconds&&C.push({value:S.seconds,unit:"S",isTimeUnit:!0}),S.minutes&&C.push({value:S.minutes,unit:"M",isTimeUnit:!0}),S.hours&&C.push({value:S.hours,unit:"H",isTimeUnit:!0}),S.days&&C.push({value:S.days,unit:"D",isTimeUnit:!1}),S.weeks&&C.push({value:S.weeks,unit:"W",isTimeUnit:!1}),S.months&&C.push({value:S.months,unit:"M",isTimeUnit:!1}),S.years&&C.push({value:S.years,unit:"Y",isTimeUnit:!1}),C}function p(S,C){var u=S&&parseFloat(S.replace(",","."));return(isNaN(u)?0:u)*C}},565445:function(me,j,e){e.d(j,{$z:function(){return F},AJ:function(){return P},Ax:function(){return h},DE:function(){return c},Fl:function(){return D},GL:function(){return M},Gg:function(){return L},Il:function(){return u},Sj:function(){return B},TA:function(){return s},TN:function(){return A},VA:function(){return V},W8:function(){return T},Xo:function(){return I},Y_:function(){return S},Yk:function(){return b},_R:function(){return N},_h:function(){return W},dA:function(){return v},gm:function(){return w},i1:function(){return U},lY:function(){return f},rv:function(){return O},s8:function(){return p},so:function(){return R},y1:function(){return x}});var r=e(619584),i=e(935236),a=e(785463),t=e(486395),l=e(270475),g=e(64974),n=e(905278),d=e(343382);function s(Q,J,X,ne){a.Y.assertValue(J,"sectionName");var ae=ne.defer(),oe=w(Q,J);return-1===oe?ae.resolve(void 0):X.get(Q.reportId,Q.pods[oe].name).then(Me=>{var Ye=Me&&Me.words.slice();_.isEmpty(Ye)?ae.resolve(void 0):(Ye.shift(),ae.resolve({altNames:Ye}))}),ae.promise}function h(Q,J,X){return o.apply(this,arguments)}function o(){return(o=(0,r.A)(function*(Q,J,X){a.Y.assertValue(J,"sectionName");var ne=w(Q,J);ne>-1&&(yield X.set(Q.reportId,Q.pods[ne].name,[]),Z(Q,ne,X,!1))})).apply(this,arguments)}function v(Q,J,X){return m.apply(this,arguments)}function m(){return(m=(0,r.A)(function*(Q,J,X){a.Y.assertValue(J,"sectionName");var ne=w(Q,J);ne>-1&&(yield X.set(Q.reportId,Q.pods[ne].name,[]),k(Q,ne))})).apply(this,arguments)}function p(Q,J,X){return y.apply(this,arguments)}function y(){return(y=(0,r.A)(function*(Q,J,X){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"section"),yield S(Q,J.name,J.displayName,X,!0)})).apply(this,arguments)}function S(Q,J,X,ne,ae){return C.apply(this,arguments)}function C(){return(C=(0,r.A)(function*(Q,J,X,ne,ae){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"newSectionDisplayName");var oe=ae?z(Q,J,g.th.Default,g.G4.Default):P(Q,J);if(ae||oe){var Me=yield ne.get(Q.reportId,oe.name),Ye=Me&&Me.words;_.isEmpty(Ye)?Ye=[X]:Ye[0]=X,yield ne.set(Q.reportId,oe.name,Ye)}})).apply(this,arguments)}function u(Q,J,X,ne){return E.apply(this,arguments)}function E(){return(E=(0,r.A)(function*(Q,J,X,ne){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"section");var ae=z(Q,J.name,g.th.Default,g.G4.Default);X.unshift(J.displayName),yield ne.set(Q.reportId,ae.name,X)})).apply(this,arguments)}function c(Q,J,X,ne,ae,oe,Me){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"filterName"),a.Y.assertValue(Me,"podType");var Ye=z(Q,J,g.th.Default,g.G4.Default);Ye.parameters||(Ye.parameters=[]);var Le={name:t.Q.generateUniqueId(_.zipObject(_.map(Ye.parameters,lt=>lt.name),_.map(Ye.parameters,()=>!0))),boundFilter:X,fieldExpr:ne,asAggregation:ae,isLegacySingleSelection:oe};Ye.parameters.push(Le),(null==Ye.type||Ye.type===g.cN.Default)&&Me!==g.cN.Default&&(Ye.type=Me)}function f(Q,J,X,ne){a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"filterName");var ae=w(Q,J);if(ae>-1){var oe=Q.pods[ae],Me=Y(oe,X);Me>-1&&(oe.parameters.splice(Me,1),Z(Q,ae,ne,!0))}}function D(Q,J,X,ne){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"filterName");var ae=w(Q,J);if(ae>-1){var oe=Q.pods[ae],Me=Y(oe,X);Me>-1&&(oe.parameters[Me].asAggregation=ne)}}function b(Q,J,X){a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"filterName");var ne=w(Q,J);return-1!==ne&&-1!==Y(Q.pods[ne],X)}function T(Q,J,X,ne){a.Y.assertValue(J,"sectionName");var ae,oe=w(Q,J);(-1!==oe||X)&&(-1===oe?(ae=H(Q,J,g.th.Default,g.G4.Default),oe=Q.pods.length-1):ae=Q.pods[oe],ae.cortanaEnabled=X,Z(Q,oe,ne,!0))}function M(Q,J){if(Q&&Q.pods){var ne=_.findIndex(Q.pods,ae=>ae.name===J);if(-1!==ne)return ne}}function V(Q,J,X,ne,ae){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"newSection"),a.Y.assertValue(ne,"linguisticSchemaProxy"),a.Y.assert(()=>X<=Q.sections.length,"Expected target index should be less than or equals sections length.");var oe=w(Q,Q.sections[X].name);if(-1===oe)return ae.resolve();var Me=Q.pods[oe],Le=H(Q,J.name,Me.referenceScope,void 0!==Me.config?Me.config.acceptsFilterContext:g.G4.Default);return Le.cortanaEnabled=Me.cortanaEnabled,Le.parameters=_.cloneDeep(Me.parameters),Le.type=Me.type,function(Q,J,X,ne,ae){return ae.get(Q,ne.name).then(oe=>{var Me=oe&&oe.words.slice();_.isEmpty(Me)||(Me.shift(),Me.unshift(J.displayName),ae.set(Q,X.name,Me))})}(Q.reportId,J,Le,Me,ne)}function w(Q,J){return a.Y.assertValue(J,"sectionName"),Q&&Q.pods?_.findIndex(Q.pods,X=>X.boundSection===J):-1}function P(Q,J){var X=w(Q,J);if(-1!==X)return Q.pods[X]}function N(Q,J,X){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"acceptsFilterContextKind");var ne=P(Q,J);if(!ne&&X!==g.G4.Default&&(ne=H(Q,J,g.th.Default,X)),ne){if(null==ne.config)return void(ne.config={acceptsFilterContext:X});ne.config.acceptsFilterContext!==X&&(ne.config.acceptsFilterContext=X)}}function I(Q,J,X){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),a.Y.assertValue(X,"referenceScope");var ne=P(Q,J);!ne&&X!==g.th.Default&&(ne=H(Q,J,X,g.G4.Default)),ne&&null!=X&&ne.referenceScope!==X&&(ne.referenceScope=X)}function O(Q,J){if(!Q||!J)return!0;var X=P(Q,J.name);return!X||!X.config||X.config.acceptsFilterContext===g.G4.Default}function R(Q,J){if(!Q||!J)return!1;var X=P(Q,J.name);return!(!X||!X.config)&&(0,n.s)(X.type,X.parameters)}function W(Q,J){if(!Q||!J)return!1;var X=P(Q,J.name);return!!X&&X.referenceScope===g.th.CrossReport}function F(Q){return Q?g.th.CrossReport:g.th.Default}function U(Q){return Q?g.G4.Default:g.G4.None}function B(Q,J){return a.Y.assertValue(Q,"section"),!J&&(Q.type===g.gX.Regular||null==Q.type)||J&&Q.type===g.gX.Drillthrough?g.cN.Drillthrough:Q.type===g.gX.Tooltip?g.cN.Tooltip:g.cN.Default}function x(Q,J,X){if(!Q||!J)return!1;var ne=P(Q,J.name);if(!ne||_.isEmpty(ne.parameters))return!1;var ae=Y(ne,X.name);return-1!==ae&&ne.parameters[ae].asAggregation}function A(Q,J){return J&&J.scopeType===l.$d.Section&&d.M.isCategoricalFilter(Q.type)&&!Q.isTransient}function L(Q,J,X){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName");var ne=w(Q,J);if(-1!==ne){var ae=Q.pods[ne];_.isEmpty(ae.parameters)&&(ae.type=g.cN.Default),ae.type=X}}function Y(Q,J){return a.Y.assertValue(J,"filterName"),Q&&Q.parameters?_.findIndex(Q.parameters,X=>X.boundFilter===J):-1}function z(Q,J,X,ne){return a.Y.assertValue(ne,"acceptsFilterContextKind"),P(Q,J)||H(Q,J,X,ne)}function H(Q,J,X,ne){a.Y.assertValue(Q,"exploration"),a.Y.assertValue(J,"sectionName"),Q.pods||(Q.pods=[]);var ae={name:K(Q.pods),boundSection:J,parameters:[],type:g.cN.Default,referenceScope:X,config:{acceptsFilterContext:ne}};return Q.pods.push(ae),a.Y.assert(()=>(0,i.Aj)(Q.pods),"pod names must be unique"),ae}function Z(Q,J,X,ne){var ae=Q.pods[J];_.isEmpty(ae.parameters)&&(ae.type=g.cN.Default),!ae.cortanaEnabled&&_.isEmpty(ae.parameters)&&ae.config.acceptsFilterContext===g.G4.Default&&ae.referenceScope===g.th.Default&&(ne?X.get(Q.reportId,ae.name).then(oe=>{(!oe||_.isEmpty(oe.words))&&k(Q,J)}):k(Q,J))}function k(Q,J){Q.pods.splice(J,1),0===Q.pods.length&&(Q.pods=void 0)}function K(Q){var J=_.map(Q,ne=>ne.name),X=_.zipObject(J,_.map(J,()=>!0));return t.Q.generateUniqueId(X)}},362356:function(me,j,e){function r(t){var l={};for(var g of t.sections)for(var n of(l[g.name]={},g.visualContainers))if(n.config.singleVisual){var d=n.config.singleVisual;l[g.name][n.name]={visualType:d.visualType,autoSelectVisualType:d.autoSelectVisualType,projections:d.query?i(d.query,!0):void 0}}return l}function i(t,l){var g={},n=t.defn.select();if(!n)return g;for(var d in t.projections){var s=t.projections[d];if(s){g[d]=[];for(var h=s.all(),o=0;o<h.length;o++){var v=s.convertProjectionIndexToFieldIndex(o),m=n.withName(h[o].queryRef);m&&(s.doesParameterExist(v)||l)?g[d].push(m.expr):g[d].push(null)}}}return g}function a(t){var g;if(!t.defn.select())return g;for(var n in t.projections){var d=t.projections[n];if(d){var s=_.sortBy(d.getFieldParameters(),y=>y.index);if(!_.isEmpty(s))for(var h of(g||(g={}),g[n]=[],s)){var{expr:o,index:v,length:m,sortDirection:p}=h;g[n].push({expr:o,index:v,length:m,sortDirection:p})}}}return g}e.d(j,{$F:function(){return i},fh:function(){return a},gd:function(){return r}})},698236:function(me,j,e){e.d(j,{g:function(){return a}});var r=e(125129),i=e(785463);class a{constructor(l){this.container=l,this.context={pendingGeocodingCount:0}}newQuery(l){var g=0!==this.context.pendingGeocodingCount,n=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:l},g&&(n&&n.cancel(!0),this.container.onStopGeocoding())}hasPendingGeocoding(){return this.context.pendingGeocodingCount>0}wrapGeocoder(l){return{geocode:this.wrapAsyncGeocoderMethod(l,l.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(l,l.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(l,l.geocodePoint),geolocation:this.wrapAsyncGeocoderMethod(l,l.geolocation),tryGeocodeImmediate:(g,n,d,s,h,o)=>l.tryGeocodeImmediate(g,n,d,s,h,o),tryGeocodeBoundaryImmediate:(g,n,d,s,h)=>l.tryGeocodeBoundaryImmediate(g,n,d,s,h),getResolvedIsoCode:()=>l.getResolvedIsoCode()}}wrapAsyncGeocoderMethod(l,g){return(...n)=>{var d=this.context,s=g.apply(l,n);1==++d.pendingGeocodingCount&&(this.context.rootActivity&&(this.context.geocodingActivity=this.context.rootActivity.createChildActivity({name:r.n.Geocoding})),this.container.onStartGeocoding());var h=()=>{d===this.context&&--d.pendingGeocodingCount<=0&&(i.Y.assert(()=>0===d.pendingGeocodingCount,"requestContext.pendingGeocodingCount underflow"),this.context.geocodingActivity&&this.context.geocodingActivity.resolve(),this.container.onStopGeocoding())};return s.then(h,h),s}}}},50079:function(me,j,e){e.d(j,{Ch:function(){return r},JJ:function(){return i},bI:function(){return a}});var r=function(t){return t.AlertCreationRequested="AlertCreationRequested",t.AlertCreationInProgress="AlertCreationInProgress",t.AlertCreationCompleted="AlertCreationCompleted",t}({}),i=function(t){return t[t.PBIToolbar=0]="PBIToolbar",t[t.VisualContextMenu=1]="VisualContextMenu",t[t.VisualRightClickMenu=2]="VisualRightClickMenu",t[t.VisualAlertButton=3]="VisualAlertButton",t[t.VisualFollowButton=4]="VisualFollowButton",t[t.PBIToolbarV2=5]="PBIToolbarV2",t[t.VisualContextMenuV2=6]="VisualContextMenuV2",t[t.VisualRightClickMenuV2=7]="VisualRightClickMenuV2",t[t.VisualAlertButtonV2=8]="VisualAlertButtonV2",t[t.TrialProvisioningV2=9]="TrialProvisioningV2",t}({});class a{static getReflexPaneState(){return this.reflexPaneState}static setReflexPaneState(l=void 0){this.reflexPaneState=l}static getReflexPaneEntryPoint(){return this.reflexPaneEntryPoint}static setReflexPaneEntryPoint(l=void 0){this.reflexPaneEntryPoint=l}static getSelectedArtifactId(){return this.selectedArtifactId}static setSelectedWorkspaceId(l=void 0){this.selectedWorkspaceId=l}static getSelectedWorkspaceId(){return this.selectedWorkspaceId}static setSelectedArtifactId(l=void 0){this.selectedArtifactId=l}static isAlertSupportedVisual(l){return["columnChart","dataDotStackedColumnComboChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","clusteredColumnChart","dataDotClusteredColumnComboChart","lineClusteredColumnComboChart","barChart","hundredPercentStackedBarChart","clusteredBarChart","ribbonChart","lineChart","realTimeLineChart","areaChart","stackedAreaChart","hundredPercentStackedAreaChart","pieChart","donutChart","gauge","card","kpi","map","filledMap","azureMap","tableEx","pivotTable","treemap","funnel","decompositionTreeVisual","multiRowCard","cardVisual"].includes(l)}}},401856:function(me,j,e){e.d(j,{P8:function(){return a},Sh:function(){return l},Wt:function(){return g},ZC:function(){return t},g$:function(){return n},nk:function(){return d}});var r=e(785463),i=e(402389);function a(s,h,o){return(0,i.P8)(s,h,o)}function t(s,h,o){var v=g(s);return(0,i.J)(v,h,o)}function l(s){var h=s.publicCustomVisuals;return h||(s.publicCustomVisuals=h=[]),h}function g(s){var h=s.resourcePackages;return h||(s.resourcePackages=h=[]),h}function n(s,h){if(!_.isEmpty(h)&&!_.isEmpty(s))for(var o of h){var v=(0,i.uN)(s,o.type,o.name);if(v)for(var m of(r.Y.assertValue(v.id,"ID should exist in new resource package"),o.id=v.id,o.items)){var p=(0,i.AU)(v,m.name);p&&(r.Y.assertValue(p.id,"ID should exist in new resource package item"),m.id=p.id)}}}function d(s,h){r.Y.assert(()=>!!s,"synchronizeExplorationV2Packages - newPackages should be defined"),h.resourcePackages=[...s]}},506400:function(me,j,e){e.d(j,{F:function(){return d},K:function(){return o}});var r=e(662785),i=e(978450),a=e(59853),t=e(785463),l=e(574324),g=e(446024),n=e(177328);function d(m){t.Y.assertValue(m,"changes");var p=[],y=function(C){C.measureMove&&p.push(new o((0,a.iX)(C.measureMove))),C.entityRename&&p.push(new o((0,a.el)(C.entityRename))),C.propertyRename&&p.push(new o((0,a.y0)(C.propertyRename))),C.hierarchyLevelRename&&p.push(new o((0,a.Mc)(C.hierarchyLevelRename))),C.removeVariation&&p.push(new v(new h(C.removeVariation),C.removeVariation)),C.newMeasureCreated&&_.find(m,function(u){return u.itemDelete&&u.itemDelete.property===C.newMeasureCreated.name&&u.itemDelete.entity===C.newMeasureCreated.entity&&u.itemDelete.schema!==C.newMeasureCreated.schema})&&p.push(new o((0,a.kw)(C.newMeasureCreated)))};for(var S of m)y(S);return p}function s(m,p){t.Y.assertValue(m,"expr");var y=(0,l.F)(m);return y.columnHierarchyLevelVariation&&y.columnHierarchyLevelVariation.source.entity===p.entity&&y.columnHierarchyLevelVariation.source.schema===p.schema&&y.columnHierarchyLevelVariation.source.name===p.property&&y.columnHierarchyLevelVariation.variationName===p.name}class h extends n.k{constructor(p){t.Y.assertValue(p,"change"),super(),this.change=p}visitHierarchyLevel(p){return s(p,this.change)?new g.Dw(new g.BO(this.change.schema,this.change.entity),this.change.property):p}}class o{constructor(p){this.exprRewriter=p}rewriteQuery(p){var y=p.defn;y=y.rewrite(this.exprRewriter),p.defn=y,p.expansionStates=_.map(p.expansionStates,u=>u.rewrite(this.exprRewriter));var S=p.getQueryFieldParameters();if(!_.isEmpty(S))for(var C of S)C.expr=C.expr.accept(this.exprRewriter);return p}rewriteFilter(p){return p.rewrite(this.exprRewriter)}rewriteExpr(p){return p.accept(this.exprRewriter)}}class v{constructor(p,y){this.exprRewriter=p,this.change=y}rewriteQuery(p){this.removeDuplicateSQHierarchyLevelExpr(p);var y=p.defn;return y=y.rewrite(this.exprRewriter),p.defn=y,p.expansionStates=_.map(p.expansionStates,S=>S.rewrite(this.exprRewriter)),p}rewriteFilter(p){return p.rewrite(this.exprRewriter)}rewriteExpr(p){return p.accept(this.exprRewriter)}removeDuplicateSQHierarchyLevelExpr(p){for(var y=p.defn.select(),S=0;S<y.length;){var C=y[S];if(S++,(0,r.Ah)(C.expr)&&s(C.expr,this.change))for(;S<y.length&&(0,r.Ah)(y[S].expr)&&(0,i.aI)(C.expr.arg,y[S].expr.arg);)p.removeExpr(y[S].expr,!1),S++}}}},275704:function(me,j,e){e.d(j,{CX:function(){return l},E3:function(){return a},K_:function(){return g},ON:function(){return t},Yp:function(){return n}});var r=e(270475);function a(s,h){var o=[];if(!s||!s.visualContainers)return o;for(var v of s.visualContainers)h.addScriptVisualInfo(v,o);return o}function t(s,h){var o={totalVisualsCount:0,info:[]};if(!s||!s.sections)return o;for(var v of s.sections)if(v.visualContainers){var m=a(v,h);o.info=o.info.concat(m),o.totalVisualsCount+=v.visualContainers.length}return o}function l(s,h,o,v,m){var p=[];switch(s){case r.$d.Visual:if(!v)return p;m.addScriptVisualInfo(v,p);break;case r.$d.Section:p=a(o,m);break;case r.$d.Exploration:if(!h)return p;for(var y of h.sections){var S=a(y,m);p=p.concat(S)}break;default:return p}return p}function g(s,h){for(var o of s)if(o&&o.config&&o.config.singleVisual){var v=o.config.singleVisual.visualType;if(v&&h.isScriptVisual(v))return!0}return!1}function n(s){switch(s){case"scriptVisual":return r.wY.RScript;case"pythonVisual":return r.wY.PythonScript;default:return null}}},986417:function(me,j,e){e.d(j,{OV:function(){return l},QD:function(){return s},Ys:function(){return d},mL:function(){return g},qb:function(){return n}});var r=e(785463),i=e(64974),a=e(983240),t=e(712813);function l(h){return r.Y.assertValue(h,"section"),!!h.dynamicConfig?.quickExplore}function g(h){return _.some(h,o=>l(o))}function n(h){var o=h?.dynamicConfig?.quickExplore?.layout;if(o){if(o.combination)return`Combination.${o.combination.version}`;if(o.related)return`Related.${o.related.version}`}}function d(h,o){var v=_.flatMap(o,m=>m.visualContainerGroups);_.isEmpty(v)||(0,a.Uu)(h.visualContainerGroups,m=>{var p=(0,t.Vz)(v);m.name=p,v.push(m)})}function s(h){function o(m,p){var y=p.howCreated??i.ZM.Default;m[y]||(m[y]=0),m[y]++}return r.Y.assertValue(h,"sections"),function(){var m={};for(var p of h)o(m,p);return m}()}},991031:function(me,j,e){e.d(j,{F:function(){return i}});var r=e(662785);class i{constructor(t){this.key=[],this.value=[],this.comparer=t}add(t,l){this.key.push(t),this.value.push(l)}get(t){if((0,r.Ah)(t))for(var l=0;l<this.key.length;l++)if(this.comparer(this.key[l],t))return this.value[l]}}},943175:function(me,j,e){e.d(j,{A:function(){return D},G7:function(){return P},JV:function(){return M},T3:function(){return T},YS:function(){return R},oi:function(){return N}});var r=e(748958),i=e(352362),a=e(785463),t=e(168376),l=e(738060),g=e(691605),n=e(311096),d=e(481041),s=e(980553),h=e(437849),o=e(41324),v=e(511931),m=e(51926),p={AccessibleDefault:"BuiltInReportThemeAccessibleDefault",AccessibleCityPark:"BuiltInReportThemeAccessibleCityPark",AccessibleTidal:"BuiltInReportThemeAccessibleTidal",AccessibleNeutral:"BuiltInReportThemeAccessibleNeutral",AccessibleOrchid:"BuiltInReportThemeAccessibleOrchid",Default:"Default",Bloom:"BuiltInReportThemeBloom",CityPark:"BuiltInReportThemeCityPark",Classic:"BuiltInReportThemeClassic",Classroom:"BuiltInReportThemeClassroom",ColorblindSafe:"BuiltInReportThemeColorblindSafe",Divergent:"BuiltInReportThemeDivergent",Electric:"BuiltInReportThemeElectric",NewExecutive:"BuiltInReportThemeExecutive",Frontier:"BuiltInReportThemeFrontier",HighContrast:"BuiltInReportThemeHighContrast",Highrise:"BuiltInReportThemeHighrise",Innovate:"BuiltInReportThemeInnovate",Solar:"BuiltInReportThemeSolar",Storm:"BuiltInReportThemeStorm",Sunset:"BuiltInReportThemeSunset",Temperature:"BuiltInReportThemeTemperature",Tidal:"BuiltInReportThemeTidal",Twilight:"BuiltInReportThemeTwilight"},y="CY18SU07",S="CY24SU10",C={CY17SU10:s.ZNK.v3_6,CY17SU12:s.ZNK.v3_7,CY18SU04:s.ZNK.v3_12,CY18SU07:s.ZNK.v3_15,CY19SU06:s.ZNK.v5_3,CY19SU12:s.ZNK.v5_6,CY20SU07:s.ZNK.v5_13,CY20SU09:s.ZNK.v5_15,CY21SU02:s.ZNK.v5_18,CY21SU03:s.ZNK.v5_19,CY21SU04:s.ZNK.v5_20,CY21SU07:s.ZNK.v5_24,CY21SU11:s.ZNK.v5_27,CY22SU03:s.ZNK.v5_30,CY22SU08:s.ZNK.v5_35,CY22SU09:s.ZNK.v5_37,CY22SU11:s.ZNK.v5_40,CY23SU04:s.ZNK.v5_43,CY23SU08:s.ZNK.v5_47,CY23SU11:s.ZNK.v5_49,CY24SU02:s.ZNK.v5_51,CY24SU05:s.ZNK.v5_54,CY24SU06:s.ZNK.v5_55,CY24SU08:s.ZNK.v5_57,CY24SU10:s.ZNK.v5_59},u="Classic",E="Default",f=["Classic","CityPark","Classroom","ColorblindSafe","Electric","HighContrast","Sunset","Twilight"];function D(W){return a.Y.assertValue(W,"baseThemeName should exist to get its version"),C[W]||s.ZNK.v3_6}function T(W,F,U,B){return(0,i.T)(W,F,U||d.t,B)}function M(W){return{name:W&&W.featureSwitches&&W.featureSwitches.useNewCY19SU06BaseTheme?S:y,version:d.t,type:r.X.SharedResources}}function P(W,F,U){var B=W.themeCollection,A=W.objects,L=F.getVisualObjects(B,g.Jy,void 0,n.F);L&&(A=(0,t.o8)(A||{}),(0,t.X$)(A,L));var Y=F.getVisualStyle(B),z=(0,l.Mo)(A,n.F,Y,U);W.evaluatedObjects=z.dataViewObjects}function N(W,F,U,B,x,A=!1){A&&x.transientUserSetTheme&&((x=_.cloneDeep(x)).customTheme=x.transientUserSetTheme);var L=W.getVisualStyle(x),Y=W.getVisualObjects(x,g.Jr,void 0,v.Cq),z={};Y&&(0,t.X$)(z,Y),U[B]&&URL.revokeObjectURL(U[B]);var H=(0,l.Mo)(z,v.Cq,L,F.featureSwitches),Z=(0,m._W)(H.dataViewObjects,{objectName:"outspace",propertyName:"image"}),k=(0,m._W)(H.dataViewObjects,{objectName:"background",propertyName:"image"}),K=k&&k.url||Z&&Z.url;if(K&&_.startsWith(K,"data:")&&(K=U[B]=function(W){for(var[F,U]=W.split(","),B=F.split(":")[1].split(";")[0],x=atob(U),A=[],L=0;L<x.length;L++)A.push(x.charCodeAt(L));return URL.createObjectURL(new Blob([new Uint8Array(A)],{type:B}))}(K)),x.highContrastTheme){var ee=x.highContrastTheme;delete x.highContrastTheme,L=W.getVisualStyle(x),x.highContrastTheme=ee}return function(W){var F=W.palette,U=W.backgroundUrl&&`url(${W.backgroundUrl})`,B=U?F.background.value:F.foreground.value;return{root:["highContrastDisabled",{...U&&{backgroundImage:U,backgroundClip:"content-box"},selectors:{".BackgroundFill":U?{fillOpacity:0}:{fill:F.background.value},".BackgroundStroke":{fill:F.foreground.value},".Letter_1":{fill:B},".Letter_2":{fill:B},".Bar_1":{fill:F.dataColors.getColorByIndex(0).value},".Bar_2":{fill:F.dataColors.getColorByIndex(1).value},".Bar_3":{fill:F.dataColors.getColorByIndex(2).value},".Bar_4":{fill:F.dataColors.getColorByIndex(3).value},".Bar_5":{fill:F.dataColors.getColorByIndex(4).value},".Bar_6":{fill:F.dataColors.getColorByIndex(5).value},".Bar_7":{fill:F.dataColors.getColorByIndex(6).value},".Bar_8":{fill:F.dataColors.getColorByIndex(7).value}}}]}}({id:B,palette:L.colorPalette,backgroundUrl:K})}function R(W,F,U,B,x,A){var L=F.getCurrentExploration();if(!L)return Promise.resolve([]);var Y=M(W),z={name:y,version:C[y],type:r.X.SharedResources},H={};f.forEach(K=>H[K]=!0);var Z=Object.keys(p).map(K=>{if(K===E)return U.add(Y.name,r.X.SharedResources,o.gH.BaseTheme),{themeName:K,metadata:Y,themeCollection:{baseTheme:Y}};if(K===u)return U.add(z.name,r.X.SharedResources,o.gH.BaseTheme),{themeName:K,metadata:z,themeCollection:{baseTheme:z}};var ee=T(K,r.X.SharedResources);return U.add(ee.name,r.X.SharedResources,o.gH.CustomTheme),{themeName:K,metadata:ee,themeCollection:{baseTheme:H[K]?z:Y,customTheme:ee}}}),k=Z.map(K=>h.T.loadTheme(r.X.SharedResources,A,B,x,L.resourcePackages,K.metadata.name));return Promise.all(k).then(()=>Z)}},213075:function(me,j,e){e.d(j,{Ru:function(){return C},ZI:function(){return p},_b:function(){return u},xg:function(){return m}});var r=e(662785),i=e(978450),a=e(308699),t=e(428749),l=e(785463),g=e(928912),n=e(147293),d=e(309746),s=e(702087),h=e(168376),o=e(446024),v=e(511334);function m(w,P,N,I,O){if(l.Y.assertAnyValue(P,"mappings"),l.Y.assertValue(N,"query"),l.Y.assertValue(I,"transformPluginService"),l.Y.assertValue(O,"visualCapabilities"),!w)return N;var R=[],W=O.objects,F=function(Y){var z=W[Y],H=function(k){if(z.properties[k].type.queryTransform){var K=_.filter(w[Y],ee=>function(w,P){if(!w.selector||!_.isString(w.selector.metadata))return!0;var N=P.projections;if(!N)return!1;for(var I in N){var O=N[I];if(O){var R=O.all();if(R)for(var W of R)if(W.queryRef===w.selector.metadata)return!0}}return!1}(ee,N));R.push(..._.map(K,ee=>({objectName:Y,propertyName:k,object:ee})))}};for(var Z in z.properties)H(Z)};for(var U in W)F(U);if(_.isEmpty(R))return N;var B=N.clone();for(var x of R){var A=(0,h._W)(w,{objectName:x.objectName,propertyName:x.propertyName},x.object.selector);if(A&&y(A.algorithm,P)){var L=I.getTransformPlugin(A.algorithm);B.addTransform(L,A.parameters,O)}}return B}function p(w,P,N){l.Y.assertValue(w,"transformPluginService"),l.Y.assertValue(P,"query"),l.Y.assertAnyValue(N,"compiledMappings");var I=P.defn.transforms();if(_.isEmpty(I))return P;var O=P.clone();for(var R of I)if(!y(R.algorithm,N)){var W=w.getTransformPlugin(R.algorithm);O.removeTransform(W,R.name)}return O}function y(w,P){switch(w){case a.Nx.Forecast.name:return P.some(N=>(0,s.$7)(N));case a.Nx.SampleAndDetectAnomaly.name:return P.some(N=>(0,s.nM)(N));default:return!0}}function C(w,P,N,I,O,R,W){l.Y.assertValue(P,"query"),l.Y.assertAnyValue(I,"dataRoles"),l.Y.assertValue(O,"queryRefsByRole"),l.Y.assertAnyValue(R,"additionalProjections"),l.Y.assertValue(W,"compiledMappings");var F=P.transforms();if(_.isEmpty(F))return P;var U=P.select();if(_.isEmpty(U))return P;for(var{transformSelects:B,topLevelSelects:x}=function(w,P,N,I,O){l.Y.assertValue(w,"query"),l.Y.assertValue(P,"projections"),l.Y.assertAnyValue(N,"dataRoles"),l.Y.assertValue(I,"queryRefsByRole"),l.Y.assertAnyValue(O,"additionalProjections");var R=[],W=[],F=w.select(),U=function(A){if((0,r.VT)(A.expr))return R.push(A),0;var L=Object.keys(I),Y=_.filter(L,k=>_.includes(I[k],A.name));if(!_.isEmpty(Y)){var z=!1;for(var H of Y)if(!P[H].activeProjectionRefs||_.includes(P[H].activeProjectionRefs,A.name)){R.push(A),z=!0;break}return z||W.push(A),0}if(!_.isEmpty(O)){var Z=_.find(O,k=>k.queryName===A.name);Z&&Z.selector&&Z.selector.data?R.push(A):W.push(A)}};for(var x of F)U(x);return{transformSelects:R,topLevelSelects:W}}(P,N,I,O,R),A=[],L=0;L<F.length;L++){var Y=F[L],z=w.getTransformPlugin(Y.algorithm),H="input"+L,Z="output"+L;Y.input.parameters=V(Y.input.parameters,W);var k={algorithm:Y.algorithm,name:Y.name,input:{parameters:Y.input.parameters,table:{name:H,columns:c(B,O,I,z,W)}},output:{table:{name:Z,columns:D(B,H,N)}}};B=_.map(k.output.table.columns,ae=>{var oe=(0,o.sX)((0,o.CR)(Z),ae.expression.name);return{name:ae.expression.name,expr:oe}}),A.push(k)}var Q,K=_.last(A),ee=P.orderBy();K&&!_.isEmpty(ee)&&(Q=_.map(ee,ae=>{var oe=_.find(U,Ye=>(0,i.aI)(Ye.expr,ae.expr));l.Y.assertValue(oe,"orderby clause not found in selects");var Me=(0,o.sX)((0,o.CR)(K.output.table.name),oe.name);return{direction:ae.direction,expr:Me}}));var J=P.transforms(A);if(!_.isEmpty(x)){var X=function(ae){var oe=_.findIndex(U,Me=>Me.name===ae.name);l.Y.assert(()=>oe>=0,"Should be able to find the select in topLevelSelects"),B.splice(oe,0,ae)};for(var ne of x)X(ne)}return J=J.select(B),Q&&(J=J.orderBy(Q)),J}function u(w,P){if(l.Y.assertValue(w,"query"),_.isEmpty(w.transforms())||_.isEmpty(w.select()))return w;var N=[];return _.map(w.select().slice(0,P),I=>{if((0,r.R3)(I.expr)&&(0,r.eN)(I.expr.source)){var O=I.expr.source.source,R=_.find(w.transforms(),F=>F.output.table?.name===O);if(R){var W=function(w,P){l.Y.assertValue(w,"sqTransform"),l.Y.assertValue(w.output.table,"sqTransform.output.table"),l.Y.assertValue(P,"refToOutputColumn");var N=_.find(w.output.table.columns,R=>R.expression.name===P.ref);if(N){var I=N.expression.expr;if((0,r.R3)(I)){var O=_.find(w.input.table?.columns,R=>R.expression?.name===I.ref);return O?.expression.expr}}}(R,I.expr);W&&!(0,r.VT)(W)&&N.push({name:I.name,expr:W})}}else N.push(I)}),w.createModified({select:N,transforms:null})}function c(w,P,N,I,O){l.Y.assertValue(w,"selects"),l.Y.assertValue(P,"queryRefsByRole"),l.Y.assertAnyValue(N,"dataRoles"),l.Y.assertValue(I,"transformPlugin"),l.Y.assertValue(O,"compiledMappings");var R=_.filter(w,F=>!(0,r.VT)(F.expr)),W=function(w){var P,N;for(var I of w){if(I.categorical){var R=I.categorical.categories;_.isEmpty(R)||(0,d.Ax)(R,{visitRole:W=>{var F=_.find(W.items,U=>U.scalarKeyInfo?.scalarKeyMinProperty);F&&(P=W.role,N=F.scalarKeyInfo.scalarKeyQueryName)}})}if(P&&N)return{roleName:P,queryName:N}}}(O);return _.map(R,F=>function(w,P,N,I,O){var R=Object.keys(N),W=w.name===P?.queryName,F=W?P.roleName:_.find(R,x=>_.includes(N[x],w.name)),U=_.find(I,x=>x.name===F);return{role:(null==P?null!=U:W||null!=F&&F!==P.roleName)?M(w.expr,O,U):void 0,expression:w}}(F,W,P,N,I))}function D(w,P,N){l.Y.assertValue(w,"selects"),l.Y.assertValue(P,"inputTableName"),l.Y.assertValue(N,"projections");var I={};for(var O of w)(0,r.VT)(O.expr)||(I[O.name]=!0);return _.map(w,R=>{var W,F,U;if((0,r.VT)(R.expr)){var B;for(var x in N){var A=N[x].all();_.some(A,L=>L.queryRef===R.name)&&(B=x)}l.Y.assertValue(B,"should be able to find the role in projections"),W=B,F=R.expr,U=(0,g.uL)(I,R.name)}else F=(0,o.sX)((0,o.CR)(P),R.name),U=R.name;return{role:W,expression:{name:U,expr:F}}})}function M(w,P,N){l.Y.assertValue(P,"transform"),l.Y.assertAnyValue(N,"visualDataRole");var I=_.find(P.inputRoles,O=>{l.Y.assertValue(O,"transform.inputRoles should not contain undefined/null roles");var R=O.visualDataRoleMatching;return!R||!(void 0!==R.cartesianKind&&R.cartesianKind!==N.cartesianKind||void 0!==R.matchGrouping&&R.matchGrouping===(0,v.t)(w)||void 0!==R.matchMeasure&&R.matchMeasure!==(0,v.t)(w)||R.skipJoinPredicateNone&&N.joinPredicate===n.gD.None)});if(I)return I.name}function V(w,P){l.Y.assertValue(w,"parameters"),l.Y.assertValue(P,"compiledMappings");var N=_.find(P,R=>(0,s.nM)(R));if(N){var I=N.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,O=t.aY;I&&!_.find(w,R=>R.name===O)&&w.push({name:O,expr:(0,o.nd)(I)})}return w}},941832:function(me,j,e){e.d(j,{C:function(){return a}});var r=e(446024),i=e(177328);class a extends i.k{constructor(l){super(),this.schema=l}visitEntity(l){var g=this.getVariationMapping(l);return g?new r.BO(l.schema,g.sourceEntity.name):l}visitColumnRef(l){var g=l.source.accept(this);if(g!==l.source){var n=this.getVariationMapping(l.source);if(n){var d=_.find(n.variation.defaultHierarchy.levels,s=>s.column.name===l.ref);if(d)return new r.LV(new r.t9(new r.P0(g,n.variation.name,n.sourceProperty.name),n.variation.defaultHierarchy.name),d.name)}}return l}getVariationMapping(l){var g=this.schema.schema(l.schema).findVariationToHierarchyMappings(l.entity);if(g)return _.last(g)}}},922686:function(me,j,e){e.d(j,{Ki:function(){return N},L4:function(){return C},Rm:function(){return E},SR:function(){return m},ZZ:function(){return w},_9:function(){return O},dM:function(){return I},iT:function(){return W},mC:function(){return u},oI:function(){return f},sL:function(){return c}});var r=e(935236),i=e(785463),a=e(59764),t=e(464205),l=e(168376),g=e(381839),n=e(289239),d=e(101903),s=e(815863),h=e(446024),o=e(249521),v=e(14445);function m(F,U){if(i.Y.assertAnyValue(F,"dataSelectors"),_.isEmpty(F))return F;var B=(0,r.cd)(F,x=>(0,t.fF)(x)?p(x,U):(0,t.rh)(x)?function(F,U){i.Y.assertValue(F,"scopeWildcard");var B=(0,r.cd)(F.exprs,x=>N(x,U));return B!==F.exprs?(0,s.Hg)(B):F}(x,U):(0,t.jG)(x)||(0,t.z2)(x)?x:(0,t.pB)(x)?function(F,U){i.Y.assertValue(F,"scopeTotal");var B=(0,r.cd)(F.exprs,x=>N(x,U));return B!==F.exprs?(0,d.Hg)(B):F}(x,U):(i.Y.assertFail("Unknown selector type"),x));return B}function p(F,U){i.Y.assertValue(F,"scopeIdentity");var B=N(F.expr,U);return B!==F.expr?(0,n.UQ)(B):F}function C(F,U){}function u(F,U){V(F,U)}function E(F,U){V(F,U)}function c(F,U,B){i.Y.assertValue(F,"objects"),i.Y.assertValue(U,"descriptors");var x=(0,g.x_)(U);if(x){var A=(0,l.pG)(F,x,null);if(A){var L=x.propertyName,Y=A[L];if(Y){for(var z of B)Y=z.rewriteFilter(Y);A[L]=Y}}}}function f(F,U,B){function x(H){var Z=A(H.value);return{textStyle:H.textStyle,url:H.url,value:Z,mentionEmail:H.mentionEmail}}function A(H){var Z=H;return Z instanceof h.yj&&(Z=z(Z,B)),Z}function Y(H){return{textRuns:_.map(H.textRuns,k=>x(k))}}function z(H,Z){for(var k of(i.Y.assertNonEmpty(Z,"rewriters"),i.Y.assertValue(H,"rewriters"),Z))H=k.rewriteExpr(H);return H}F&&U&&!_.isEmpty(B)&&(0,l.po)(F,U,(H,Z,k,K,ee)=>{var Q=ee&&ee.properties[Z],J=H[Z];if(J instanceof h.yj)for(var X of B)J=X.rewriteExpr(J);else if((0,l.JZ)(J))for(var ne of B){if(!_.isEmpty(J.context?.filterContext))for(var ae of J.context.filterContext)ae.filter=ne.rewriteFilter(ae.filter);J.value=ne.rewriteExpr(J.value)}else{var oe=Q.type;if(oe.fill&&oe.fill.solid&&oe.fill.solid.color){if(!(0,v.xo)(J))return;var Me=J.solid.color;if(!Me)return;var Ye=Me;(Me=z(Me,B))!==Ye&&(J={solid:{color:Me}})}else if(oe.paragraphs){if(!(0,v.pj)(J)||!function(F,U){for(var B of F){var x=B.textRuns;for(var A of x)if((0,o.OX)(A)){if(b(A.value,U))return!0}else if((0,o.k9)(A)){for(var L of A.cases)if(T(L,U))return!0;if(M(A.defaultCase,U)||b(A.expression,U))return!0}else i.Y.assertNever(A)}return!1}(J,B))return;J=_.map(J,Ae=>({horizontalTextAlignment:Ae.horizontalTextAlignment,textRuns:_.map(Ae.textRuns,be=>{if((0,o.OX)(be))return x(be);if((0,o.k9)(be)){var Ie=_.map(be.cases,Ee=>function(H){var Z=H.pattern;return Z instanceof h.yj&&(Z=z(Z,B)),{pattern:Z,...Y(H)}}(Ee));return{cases:Ie,defaultCase:Y(be.defaultCase),expression:A(be.expression)}}i.Y.assertNever(be)})}))}else if(oe.icon){if(!(0,v.P3)(J))return;var Le={kind:a.P.Icon,value:J.value?z(J.value,B):J.value,layout:J.layout?z(J.layout,B):J.layout,verticalAlignment:J.verticalAlignment?z(J.verticalAlignment,B):J.verticalAlignment};(J.value!==Le.value||J.layout!==Le.layout||J.layout!==Le.layout)&&(J=Le)}else if(oe.errorRange){if(!(0,v.lF)(J))return;var lt={kind:a.P.ErrorRange};if(J.explicit){var ut=J.explicit,St=lt.explicit={isRelative:z(ut.isRelative,B)};ut.lowerBound&&(St.lowerBound=z(ut.lowerBound,B)),ut.upperBound&&(St.upperBound=z(ut.upperBound,B))}else if(J.symmetricalExplicit)lt.symmetricalExplicit={delta:z(J.symmetricalExplicit.delta,B)};else if(J.standardDeviation){var ze=J.standardDeviation;lt.standardDeviation={value:z(ze.value,B),multiplier:z(ze.multiplier,B)}}else if(J.percentage){var Be=J.percentage;lt.percentage={lowerBoundDelta:z(Be.lowerBoundDelta,B),upperBoundDelta:z(Be.upperBoundDelta,B)}}else if(J.percentile){var Ce=J.percentile;lt.percentile={lowerBound:z(Ce.lowerBound,B),upperBound:z(Ce.upperBound,B)}}J=lt}}H[Z]=J})}function b(F,U){if(F instanceof h.yj){var B=F;for(var x of U)if((B=x.rewriteExpr(B))!==F)return!0}}function T(F,U){if(M(F,U)||b(F.pattern,U))return!0}function M(F,U){for(var B of F.textRuns)if(b(B.value,U))return!0}function V(F,U){var B=F.expression,x=F.filter,A=F.cachedValueItems;B&&(F.expression=N(B,U)),x&&(F.filter=function(F,U){return _.reduce(U,(B,x)=>x.rewriteFilter(B),F)}(x,U)),A&&w(A,U)}function w(F,U){for(var B of F){var x=p(B.identity,U);x!==B.identity&&(B.identity=x)}}function N(F,U){return _.reduce(U,(B,x)=>x.rewriteExpr(B),F)}function I(F,U){var B=F.fieldExpr;i.Y.assertValue(B,"link field expression should always exist"),F.fieldExpr=N(B,U)}function O(F,U){if(!_.isEmpty(F.parameters))for(var B of F.parameters)B.fieldExpr&&(B.fieldExpr=N(B.fieldExpr,U))}function W(F,U){F.expressions=(0,r.cd)(F.expressions,B=>N(B,U)),F.cachedValueItems&&function(F,U){for(var B of F)B.identities=(0,r.cd)(B.identities,x=>p(x,U))}(F.cachedValueItems,U)}},18551:function(me,j,e){e.d(j,{H:function(){return l}});var r=e(935236),i=e(785463),a=e(922686);class t{visitActiveProjectionStates(n){}visitDataViewObjectDefinitionUpdates(n,d){}visitFilterContainer(n){}visitOrderByStates(n){}visitSelector(n){}visitSelectorsByColumn(n){}visitSingleVisualState(n){}visitVisualContainerState(n){}visitFilterExpressionMetadata(n){}}class l extends t{constructor(n){super(),this.rewriters=n,i.Y.assertValue(n,"rewriters")}visitActiveProjectionStates(n){_.forOwn(n,(d,s)=>{var h=d.map(o=>(0,a.Ki)(o,this.rewriters));n[s]=h})}visitFilterContainer(n){(0,a.Rm)(n,this.rewriters)}visitDataViewObjectDefinitionUpdates(n,d){var s=n.merge;s&&((0,a.sL)(s,d,this.rewriters),(0,a.oI)(s,d,this.rewriters))}visitOrderByStates(n){for(var d of n)d.expr=(0,a.Ki)(d.expr,this.rewriters)}visitSelector(n){var d=(0,a.SR)(n.data,this.rewriters);d!==n.data&&(n.data=d)}visitSelectorsByColumn(n){var d=(0,r.nC)(n.dataMap,(s,h)=>(0,a.SR)(h,this.rewriters));d!==n.dataMap&&(n.dataMap=d)}visitFilterExpressionMetadata(n){(0,a.iT)(n,this.rewriters)}}},712813:function(me,j,e){e.d(j,{$c:function(){return ae},AD:function(){return Re},AX:function(){return nt},CL:function(){return at},D_:function(){return xe},Dh:function(){return Qt},E5:function(){return Te},E8:function(){return Be},EP:function(){return q},Em:function(){return ea},FR:function(){return Ir},Fi:function(){return Ce},Gp:function(){return Qe},Ji:function(){return Kt},K_:function(){return We},Kj:function(){return st},L:function(){return _r},L7:function(){return _e},M3:function(){return jr},M9:function(){return Ye},MU:function(){return Fe},N3:function(){return Ue},NU:function(){return St},Nb:function(){return qr},Oh:function(){return Ke},PN:function(){return J},Pg:function(){return mr},Pv:function(){return Ge},QC:function(){return Le},QZ:function(){return br},TQ:function(){return tt},Tb:function(){return ze},Td:function(){return Ut},Tg:function(){return ce},U0:function(){return Fr},Ui:function(){return At},Vz:function(){return te},W3:function(){return Lr},WC:function(){return Ve},WQ:function(){return Ur},XY:function(){return De},YB:function(){return wt},YF:function(){return It},Z3:function(){return qt},ZW:function(){return Or},_I:function(){return Xe},aB:function(){return nr},aO:function(){return ut},aj:function(){return Ht},ep:function(){return oe},ey:function(){return de},gZ:function(){return pe},gj:function(){return lt},gk:function(){return he},hb:function(){return Et},iU:function(){return re},il:function(){return je},kE:function(){return Ct},kW:function(){return Vr},kl:function(){return Xr},lU:function(){return qe},m2:function(){return xt},mZ:function(){return vt},p6:function(){return ve},r7:function(){return Ne},rA:function(){return Ee},rf:function(){return kt},rm:function(){return Ae},sB:function(){return hr},sX:function(){return fe},sx:function(){return Kr},tD:function(){return kr},tb:function(){return Ie},ti:function(){return Gr},ty:function(){return lr},uM:function(){return ot},uk:function(){return ft},vC:function(){return wr},vG:function(){return $e},wk:function(){return Wt},xC:function(){return Pt},xR:function(){return ke},yF:function(){return Se},zK:function(){return ye}});var r=e(619584),i=e(339131),a=e(167515),t=e(125129),l=e(61917),g=e(460169),n=e(419216),d=e(717312),s=e(925245),h=e(5863),o=e(486395),v=e(607055),m=e(228783),p=e(237193),y=e(506036),S=e(935236),C=e(255319),u=e(785463),E=e(791106),c=e(304703),f=e(123198),D=e(147293),b=e(721442),T=e(690702),M=e(661249),V=e(160800),w=e(360834),P=e(839765),N=e(709099),I=e(168376),O=e(738060),R=e(669129),W=e(64974),F=e(4509),U=e(73689),B=e(983240),x=e(229456),A=e(481621),L=e(925397),Y=e(662785),z=e(511334),H=e(857327),Z=e(246060),k=e(990370),K=12,ee="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",J="largeTitle",ae="lightLabel",oe="foreground",Me=f.V4.toPoint(K),Ye={size:p.Z.createFromPt(Me),family:ee,color:"#C8C8C8"},Le=F.Mx,lt=F.f_,ut=function(pt){return pt[pt.Title=0]="Title",pt[pt.SubTitle=1]="SubTitle",pt[pt.Divider=2]="Divider",pt}({});function St(pt){return pt&&pt.config&&pt.config.singleVisual?pt.config.singleVisual.query:null}function ze(pt){return pt&&pt.config&&pt.config.singleVisual}function Be(pt){return pt?.config?.singleVisual?.autoSelectVisualType}function Ce(pt){var Je=St(pt);if(Je)return Je.defn.select()}function Ae(pt){var Je=St(pt);if(Je)return Je.projections}function be(pt,Je){if(pt&&Je){var ie=Je.getPlugin(pt);if(ie)return ie.capabilities}}function Ie(pt,Je){return be(pt&&pt.config&&pt.config.singleVisual?pt.config.singleVisual.visualType:null,Je)}function ve(pt,Je){return be((0,L.d)(pt),Je)}function xe(pt,Je){var ie=ve(pt,Je);if(ie&&!_.isEmpty(ie.dataRoles))return ie.dataRoles}function Ee(pt,Je,ie){if(pt)return ie||Je===a.vd.ModelChange||Je===a.vd.Refresh?P.D.BypassCache:P.D.Default}function Ne(pt,Je){return(0,Z.i)(pt.config.singleVisual.query,Je)}function ye(pt){if(pt.config&&pt.config.singleVisual){var Je=pt.config.singleVisual;Je&&Je.query&&Je.query.hasShowAll()&&(Je.queryOptions=Je.queryOptions||{},Je.queryOptions.keepProjectionOrder=!0)}}function Xe(pt){if(pt){var Je=pt.capabilities;if(Je&&!_.isEmpty(Je.dataRoles))return Je.dataRoles}}function fe(pt,Je,ie){var G=ve(pt,Je);if(G){var se=St(pt);if(se)return(0,A.Z)().create(G,ie,se.isDrillDisabled).getNumberRangesForRoles(se)}}function Se(pt,Je){var ie=(0,L.d)(pt);return Je&&Je.isScriptVisual(ie)}function qe(pt){if([H.U.lineChart,H.U.areaChart,H.U.stackedAreaChart,H.U.hundredPercentStackedAreaChart,H.U.barChart,H.U.clusteredBarChart,H.U.hundredPercentStackedBarChart,H.U.columnChart,H.U.clusteredColumnChart,H.U.hundredPercentStackedColumnChart,H.U.lineClusteredColumnComboChart,H.U.lineStackedColumnComboChart].indexOf(pt.visualType)>=0){var ie=pt.query?.projections;if(ie&&ie[m.lP.rows]&&ie[m.lP.rows].all().length>0)return!0}return!1}function Ue(pt){return pt.config?.singleVisual?.objects}function _e(pt){return pt.config&&pt.config.singleVisual&&pt.config.singleVisual.vcObjects}function at(pt,Je,ie){var G=pt.config.singleVisual.query.projections[Je],se=G.convertFieldIndexToProjectionIndex(ie),Mt=G.all()[se];return u.Y.assertValue(Mt,"items[projectionIndex]"),Mt.queryRef}function ot(pt,Je,ie,G,se,He,Mt){if(ie){var zt=ie.defn.select(),or=ie.projections,rr=[],Gt=[],Er=_r(ie),Ze=(0,N.i7)(ie.projections,se.dataViewMappings,Er,He).supportedMappings;if(Ze){for(var ct of Ze){var ht=Ze.length>1?yt(ct):null,_t=[];for(var Rt in or)if(null==ht||_.includes(ht,Rt)){var Vt=or[Rt];for(var jt of Vt.all()){var Tt=(0,S.i4)(zt,jt.queryRef);if(-1!==Tt){var Zt=zt[Tt];if(!(0,Y.VT)(Zt.expr)){var tr=Zt.expr.getMetadata(Je,R.B.buildExprEvaluationContext(ie.defn.from()));u.Y.assertValue(tr,"exprMetadata");var dr={Restatement:pt.getDisplayName(Zt.expr,Je,se,Zt.name,G),Name:jt.queryRef,Type:Nt(tr.type)},Lt=R.B.getKpiMetadata(Zt.expr,Je);Lt&&(dr.kpi=Lt);var we,rt=G?.[jt.queryRef]?.formatString;(we=He.visualLevelFormatStringConsumption&&null!=rt?rt:tr.format)&&(dr.Format=we);var gt=Bt(tr.type);gt&&(dr.DataCategory=gt),rr[Tt]=dr,_t.push({Name:Rt,Projection:Tt,isActive:_.includes(Vt.activeProjectionRefs,jt.queryRef)})}}}}Gt.push({DataRoles:_t})}return{queryMetadata:{Select:rr,Filters:Mt},visualElements:Gt}}}}function mt(pt,Je){if(pt.role)Je.push(pt.role);else if(pt.bind)pt.bind.to&&Je.push(pt.bind.to);else if(pt.for)pt.for.in&&Je.push(pt.for.in);else{var He=pt;if(He.group){if(He.group.by&&Je.push(He.group.by),He.group.select)for(var Mt of He.group.select)mt(Mt,Je)}else{var zt=pt;if(zt.composite)for(var or of zt.composite)mt(or,Je);else{var rr=pt;if(rr.select)for(var Gt of rr.select)mt(Gt,Je)}}}}function yt(pt){var Je=[];return pt&&(pt.categorical&&(pt.categorical.categories&&mt(pt.categorical.categories,Je),pt.categorical.values&&mt(pt.categorical.values,Je)),pt.table&&pt.table.rows&&mt(pt.table.rows,Je),pt.single&&mt(pt.single,Je),pt.tree&&(pt.tree.nodes&&mt(pt.tree.nodes,Je),pt.tree.values&&mt(pt.tree.values,Je)),pt.matrix&&(pt.matrix.columns&&mt(pt.matrix.columns,Je),pt.matrix.rows&&mt(pt.matrix.rows,Je),pt.matrix.values&&mt(pt.matrix.values,Je))),_.uniq(Je)}function Nt(pt){switch(u.Y.assertValue(pt,"type"),pt.extendedType){case T.K.Years:return g.r$.Year;case T.K.Months:return g.r$.Month}switch(pt.primitiveType){case l.W.Text:return g.r$.String;case l.W.Decimal:case l.W.Double:return g.r$.Number;case l.W.Integer:return g.r$.Integer;case l.W.Boolean:return g.r$.Boolean;case l.W.Date:return g.r$.Date;case l.W.DateTime:return g.r$.DateTime;case l.W.Time:return g.r$.Time}}function Bt(pt){return u.Y.assertValue(pt,"type"),(0,M.iL)(pt.categoryString)}function he(pt,Je){if(pt&&pt.config&&pt.config.singleVisual&&pt.config.singleVisual.query&&pt.config.singleVisual.query.defn){var ie=pt.config.singleVisual.query.projections,G=pt.config.singleVisual.query.defn.select();if(ie&&G.length>0)for(var se in ie){var He=ie[se];for(var Mt of He.all()){var zt=(0,S.q7)(G,Mt.queryRef);if(zt){var rr=zt.expr.getMetadata(Je);if(rr&&rr.kind===b.L.Column&&null==rr.aggregate)return!0}}}return!1}}function Qe(pt){return pt.some(Je=>je(Je)||Ke(Je))}function je(pt){var Je=Ce(pt);return _.some(Je,ie=>(0,Y.$M)(ie.expr))}function Ke(pt){var Je=St(pt);return null!=Je&&Je.hasHiddenProjections()}function tt(pt){var Je=St(pt);return null!=Je&&Je.hasVisibleProjections()}function $e(pt){return Je=>pt===Je}function de(pt){return Je=>pt!==Je}function De(pt,Je,ie,G,se){return He=>pt===He||(ie&&ie.relationshipFilterAction(Je,pt,He,G,se))!==W.NJ.NoFilter}function re(pt,Je){pt.publishToChannel(x.N3x,{affectContainer:ie=>ie===Je})}function ce(pt,Je,ie,G,se,He,Mt,zt,or){if(u.Y.assertAnyValue(ie,"dataAsObject"),He){var Gt,rr=pt.capabilities(He.visualType);if(rr){var Er=ot(Je,se,He.query,He.columnProperties,rr,Mt,zt);if(Er){var Oe=(0,n.Eo)(He.objects,rr.objects,Mt.serializeSpaceOptimization,!1);(Gt=G.transforms&&rr&&rr.objects?d.R.serializeDataViewTransformActions(G.transforms,rr.objects):{objects:Oe}).objects=Gt.objects||Oe,Gt.visualElements=Er.visualElements,Gt.queryMetadata=Er.queryMetadata}}return{queryObject:G.options.query.command,dataObject:ie,transformsObject:Gt,dataUpdatedTime:or}}}function te(pt){u.Y.assertValue(pt,"visualContainerGroups");var Je={};return(0,B.Uu)(pt,ie=>{u.Y.assertValue(ie.name,"visualContainer.name"),Je[ie.name]=!0}),Te(Je)}function Te(pt){return u.Y.assertValue(pt,"existingNames"),o.Q.generateUniqueId(pt)}function Fe(pt){var Je=[];return(0,B.Uu)(pt,ie=>{(0,B.tx)(ie)&&Je.push(ie)}),Je}function vt(pt){return(0,F.dK)(pt.config.singleVisual)||function(pt){for(var Je=pt.parentGroup;Je;){if((0,U.dK)(Je))return!0;Je=Je.parentGroup}return!1}(pt)}function At(pt,Je=i.v.Master,ie){var G=_.cloneDeep(pt),se=ie;if(Je===i.v.PhonePortrait)return G;for(;se;){if(!se.layouts.withId(Je))return u.Y.assertFail(`must provide a layout for groups for layout${Je}`),G;var He=se.layouts.withId(Je).position;G.x+=He.x,G.y+=He.y,se=se.parentGroup}return G}function st(pt,Je,ie=i.v.Master){for(var G=_.cloneDeep(pt),se=Je.parentGroup;se;){var He=se.layouts.withId(ie).position;G.x-=He.x,G.y-=He.y,se=se.parentGroup}return G}function Re(pt,Je,ie,G,se){pt.publishToChannel(x.wl,{affectContainer:He=>He!==Je,sourceLabelKey:ie,parentActivity:G,parentContextActivity:se})}function q(pt,Je,ie,G,se){_.isEmpty(Je)||pt.publishToChannel(x.wl,{affectContainer:He=>_.includes(Je,He),sourceLabelKey:ie,parentActivity:G,parentContextActivity:se})}function pe(pt,Je){return pt.createActivity({name:t.n.CrossHighlight,operationType:Je})}function Ve(pt){return pt.createActivity({name:t.n.ChangeSlicer})}function ke(pt){return _.some(pt,Je=>Je.dsr&&Je.dsr.vsName===v.PUe)}function ft(pt){var Je=function(pt){return pt&&null!=pt.size?f.V4.fromPoint(pt.size.pt):f.V4.toString(K)}(pt);return E.N.estimateSvgTextHeight({fontFamily:pt&&pt.family||ee,fontSize:Je})}function Pt(pt,Je,ie,G,se,He,Mt){var zt=ie.config.singleVisual.visualType,or=ie.config.singleVisual.vcObjects,rr=(0,I._W)(or,{objectName:"stylePreset",propertyName:"name"},void 0),Gt=Je.getVisualObjects(pt,zt,rr&&(0,Y.VO)(rr)&&rr.value,F.Xe);Gt&&(or=(0,I.o8)(or||{}),(0,I.X$)(or,Gt,!0));var Er=Je.getVisualStyle(pt);return(0,O.Mo)(or,F.Xe,Er,G,se,He,Mt)}function Ut(pt,Je){Je.toggleClass("showHover",pt)}function Kt(pt,Je,ie){ie.publishToChannel(pt?s.E8:s.Tv,{containerName:Je})}function Qt(pt,Je,ie,G,se){var He={};return He[C.gA]=Je||"",He[C.OL]=G||"",He[C._o]=ie||"",He[C.FI]=pt||"",He[C.hr]=se||"",He}function qt(pt,Je){var ie={};return ie[C.ut]=null!=Je?"scale("+Je+")":"scale(1)",ie[C.u5]=pt.width,ie[C.xf]=pt.height,ie}function nr(pt){if(pt&&pt.show){var Je=(0,y.wY)();return(pt.transparency||0===pt.transparency)&&(Je.transparency=pt.transparency),pt.color&&pt.color.solid.color&&(Je.color=pt.color),(0,h.Pz)(Je.color.solid.color,(100-Je.transparency)/100)}}function Ge(pt,Je){return{show:pt?pt.show:Je.show,color:pt&&pt.color&&pt.color.solid&&pt.color.solid.color?pt.color:Je.color,radius:pt&&pt.radius||Je.radius,width:pt&&pt.width}}function Ct(pt,Je){return{show:pt?pt.show:Je.show,preset:pt&&pt.preset?pt.preset:Je.preset,position:pt&&pt.position?pt.position:Je.position,color:pt&&pt.color&&pt.color.solid&&pt.color.solid.color?pt.color:Je.color,transparency:pt&&void 0!==pt.transparency?pt.transparency:Je.transparency,shadowBlur:pt&&void 0!==pt.shadowBlur?pt.shadowBlur:Je.shadowBlur,shadowSpread:pt&&void 0!==pt.shadowSpread?pt.shadowSpread:Je.shadowSpread,angle:pt&&void 0!==pt.angle?pt.angle:Je.angle,shadowDistance:pt&&void 0!==pt.shadowDistance?pt.shadowDistance:Je.shadowDistance}}function xt(pt,Je,ie=!1){pt=pt||{};var G=Je?.suppressDefaultPadding?0:5;return{top:pt.top??(ie?0:G),bottom:pt.bottom??G,left:pt.left??G,right:pt.right??G}}function We(pt,Je,ie){return _.isEmpty(Je)&&ie&&((isNaN(ie)||ie<0)&&(ie=0),0!==ie)?{left:pt.left+ie,right:pt.right+ie,top:pt.top+ie,bottom:pt.bottom+ie}:pt}function nt(pt,Je){if(!Je?.customizeSpacing)return Je?.verticalSpacing??5;switch(pt){case ut.Title:return void 0!==Je?.verticalSpacing&&void 0===Je?.spaceBelowTitle?Je?.verticalSpacing:void 0!==Je?.spaceBelowTitle?Je?.spaceBelowTitle:5;case ut.SubTitle:return void 0!==Je?.verticalSpacing&&void 0===Je?.spaceBelowSubTitle?Je.verticalSpacing:void 0!==Je?.spaceBelowSubTitle?Je.spaceBelowSubTitle:5;case ut.Divider:return void 0!==Je?.verticalSpacing&&void 0===Je?.spaceBelowTitleArea?Je?.verticalSpacing:void 0!==Je?.spaceBelowTitleArea?Je?.spaceBelowTitleArea:5;default:return u.Y.assertNever(pt),5}}function Wt(pt){return null!=pt&&null!=pt.metadata&&null!=pt.metadata.segment}function kt(pt){if(pt&&pt.defn){var Je=pt.defn.groupBy();return!_.isEmpty(Je)}return!1}function Ht(pt){return kt(St(pt))}function lr(pt,Je,ie){var G=xe(pt,Je),se=St(pt);if(se&&!_.isEmpty(G)){var Mt=se.tryGetExprs(G[0].name);return!_.isEmpty(Mt)&&!_.some(Mt,zt=>{var or=zt.getMetadata(ie);if(or)return!or.type.text})}}function mr(pt,Je,ie){var G=function(pt,Je){var ie=St(pt);if(ie){var G=ve(pt,Je);if(G&&G.filterMappings&&G.filterMappings.measureFilter&&G.filterMappings.measureFilter.targetRoles){var se=G.filterMappings.measureFilter.targetRoles,He=_.chain(G.dataRoles).filter(rr=>rr.kind===D.Ts.Grouping).map(rr=>rr.name).difference(se).value(),Mt=[];for(var zt of He)ie.projections[zt]&&Mt.push.apply(Mt,ie.projections[zt].all());var or=Ce(pt);if(!_.isEmpty(Mt))return _.chain(or).filter(rr=>_.some(Mt,Gt=>Gt.queryRef===rr.name)).map(rr=>rr.expr).value()}}}(pt,ie);if(_.isEmpty(G))return!1;for(var se of G)if(R.B.getAggregateBehavior(se,Je)===V.u2.DiscourageAcrossGroups)return!0;return!1}function _r(pt){var Je={},ie=pt.defn.select();for(var G of ie){var se;se=(0,z.t)(G.expr)?D.Ts.Measure:D.Ts.Grouping,Je[G.name]=se}return Je}function Vr(pt){for(var Je of(u.Y.assertValue(pt,"exploration"),pt.sections))br(Je)}function br(pt){for(var Je of(u.Y.assertValue(pt,"section"),pt.visualContainers))delete Je.cachedData,Je.disableCacheOnServerForInitialLoad=!0}function Fr(pt){function Je(G,se){var He=se.howCreated??W.S_.Default;G[He]||(G[He]=0),G[He]++}return u.Y.assertValue(pt,"section"),function(){var G=pt&&pt.visualContainers||[],se={};for(var He of G=_.reject(G,Mt=>(0,F.dK)(Mt.config.singleVisual)))Je(se,He);return se}()}function jr(pt){function Je(se,He){var Mt=He.config.singleVisual.visualType;se[Mt]||(se[Mt]=0),se[Mt]++}function ie(){var se=pt&&pt.visualContainers||[],He={};for(var Mt of se=_.reject(se,zt=>(0,F.dK)(zt.config.singleVisual)))Je(He,Mt);return He}u.Y.assertValue(pt,"section");try{return function(){if(_.isEmpty(pt&&pt.visualContainerGroups))return ie();var He={},Mt={__hidden:He};return(0,B.Uu)(pt.visualContainerGroups,(zt,or)=>{(0,B.iA)(zt)&&Je(or?He:Mt,zt)}),Mt}()}catch(se){return c.Cn.error(`Error getting visuals from groups ${se&&se.message}: ${se&&se.stack}`),ie()}}function Lr(pt,Je,ie,G){if((0,k.gz)(pt,Je)){var Mt=(0,k.E4)(pt,Je),zt=Ce(pt);if(Mt||(zt=_.filter(zt,rr=>!(0,z.t)(rr.expr))),zt=_.filter(zt,rr=>!(0,Y.$M)(rr.expr)))return _.chain(zt).map(rr=>rr.expr).filter(rr=>R.B.isExprValidForFiltering(rr)&&_.isEmpty(rr.validate(ie,G))).map(rr=>(rr=>{var Gt=W.GS.Auto;return{name:void 0,expression:rr,expanded:!1,howCreated:Gt,type:(0,k.I_)(rr,ie,Gt),isHiddenInViewMode:!1}})(rr)).value()}}function wr(pt,Je,ie,G){var se=ie.getDrillCrossFiltersToApply(pt,Je,G);return _.map(se,Mt=>(Mt=>({name:void 0,type:Mt.type,filter:Mt.filter,expression:Mt.expression,expanded:!1,howCreated:W.GS.CrossDrill,precedence:Mt.precedence}))(Mt))}function Ur(pt){var Je=pt.resourcePackages,ie=pt.publicCustomVisuals??[];if(!Je&&0===ie.length)return!1;for(var G of pt.sections)if(G.visualContainers){var Mt,se=G.visualContainers,He=function(){if(zt.config&&zt.config.singleVisual&&zt.config.singleVisual.visualType){var or=zt.config.singleVisual.visualType;if(_(Je).find(rr=>rr.name===or))return{v:!0};if(_(ie).includes(or))return{v:!0}}};for(var zt of se)if(Mt=He())return Mt.v}return!1}function Kr(pt,Je){var ie={usingImprovedFilterExperience:!0,viewMode:Je===D.nE.View},G=function(pt){var Je=pt.objects;if(Je&&Je.outspacePane){var ie=(0,I._W)(Je,{objectName:"outspacePane",propertyName:"expanded"},null);return ie&&ie.value}}(pt);_.isUndefined(G)||(ie.isOutspacePaneExpanded=G);var se=function(pt){var Je=pt.objects;if(Je&&Je.outspacePane){var ie=(0,I._W)(Je,{objectName:"outspacePane",propertyName:"visible"},null);return ie&&ie.value}}(pt);return _.isUndefined(se)||(ie.isOutspacePaneVisible=se),ie}function qr(pt,Je){return pt.id&&!Je}function ea(pt){return pt?w.bc.Basic|w.bc.QueryText:w.bc.Basic}function Gr(pt,Je,ie){var G;Je&&(G=Je.createChildActivity(pt));var se=ie();return G&&G.resolve(),se}function Ir(pt,Je,ie){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.A)(function*(pt,Je,ie){var G;Je&&(G=Je.createChildActivity(pt));var se=yield ie();return G&&G.resolve(),se})).apply(this,arguments)}function hr(pt){var Je=ze(pt);return Je&&Je.columnProperties}function kr(pt){if(_.isEmpty(pt))return!1;for(var Je of pt)if((0,B.iA)(Je)){var ie=hr(Je);if(ie)for(var G in ie)if(ie[G].displayName)return!0}return!1}function Or(pt){if(_.isEmpty(pt))return!1;for(var Je of pt)if(null!=Je&&(0,B.iA)(Je)){var ie=hr(Je);if(ie)for(var G in ie)if(ie[G].formatString)return!0}return!1}function Xr(pt){if(_.isEmpty(pt))return!1;for(var Je of pt)if((0,B.iA)(Je)){var ie=Ce(Je);if(ie)for(var G of ie){var se=G.expr;if((0,Y.$M)(se)&&null!=se.dataType)return!0}}return!1}function wt(pt,Je){var ie=(0,L.d)(Je);return pt.isQnaVisual(ie)||pt.isQueryVisual(ie)}function Et(pt,Je){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.A)(function*(pt,Je){var ie=ze(pt),G=Je.dataSources.get(),se=yield Je.conceptualSchemaProxy.get(G),He=ve(pt,Je.visualPlugin);return Je.displayNameService.getVisualTitle(ie,se,He,void 0,void 0,!0)?.text})).apply(this,arguments)}function It(pt,Je){return{visual:{objects:pt.objects,descriptors:Je.objects},visualContainer:{objects:pt.vcObjects,descriptors:F.Xe}}}},925397:function(me,j,e){e.d(j,{d:function(){return a}});var r=e(691605),i=e(983240);function a(t){if(t){if((0,i.tx)(t))return r.Ts;if(t.config&&t.config.singleVisual)return t.config.singleVisual.visualType}}},721850:function(me,j,e){e.d(j,{A:function(){return t}});var r=e(785463),i=e(922686);class a{visitVisualContainer(g){}visitSingleVisualConfig(g){}visitQuery(g){}visitDataViewObjects(g,n){}visitSelector(g){}visitFilterContainer(g){}visitVisualLinks(g){}}class t extends a{constructor(g){super(),this.rewriters=g,r.Y.assertValue(g,"rewriters")}visitSingleVisualConfig(g){g.cachedFilterDisplayItems&&(0,i.ZZ)(g.cachedFilterDisplayItems,this.rewriters)}visitQuery(g){if(r.Y.assertValue(g,"query"),g.defn){var d=this.rewriters;for(var s of d)g=s.rewriteQuery(g)}}visitDataViewObjects(g,n){(0,i.sL)(g,n,this.rewriters),(0,i.oI)(g,n,this.rewriters)}visitFilterContainer(g){r.Y.assertValue(g,"filter"),(0,i.mC)(g,this.rewriters)}visitVisualLinks(g){for(var n of(r.Y.assertValue(g,"visualLink"),g))(0,i.L4)(n,this.rewriters)}visitSelector(g){var n=(0,i.SR)(g.data,this.rewriters);n!==g.data&&(g.data=n)}}},911672:function(me,j,e){e.d(j,{NW:function(){return m},wY:function(){return o}});var r=e(933107),i=!1,a=r.xn,t=r.hL,l=70,g=3,n=10,d=45,s=10,h="#000";function o(p,y){var S=p&&p.preset?p.preset:a,C=p&&p.position?p.position:t,u=m(S,C);return{show:i,preset:S,position:C,color:{solid:{color:y?y.colorPalette.foreground.value:h}},shadowSpread:u?u.shadowSpread:g,shadowBlur:u?u.shadowBlur:n,angle:u?u.angle:d,shadowDistance:u?u.shadowDistance:s,transparency:u?u.transparency:l}}function m(p,y){var S=function(p){var y=p===r.U9,S=10,C=y?15:10,u=y?0:3;return{[r.xn]:{angle:y?225:45,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.NQ]:{angle:y?270:90,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.yS]:{angle:y?315:135,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.bz]:{angle:y?180:0,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.bW]:{angle:0,shadowDistance:0,shadowBlur:y?20:15,shadowSpread:u,transparency:l},[r.kW]:{angle:y?0:180,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.xm]:{angle:y?135:315,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.Lw]:{angle:y?90:270,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l},[r.Cj]:{angle:y?45:225,shadowDistance:S,shadowBlur:C,shadowSpread:u,transparency:l}}}(y||t);return S.hasOwnProperty(p)?S[p]:null}},823786:function(me,j,e){e.d(j,{B:function(){return i}});var r=e(785463);function i(a,t,l){if(a&&a.getProperty("telemetryActivityId")){var g=l.getOpenActivityById(a&&a.getProperty("telemetryActivityId"));if(r.Y.assert(()=>g&&g.isActive(),"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),g&&g.isActive()){var n=l.startChildActivity(g.event,t);return a.setProperty("telemetryActivityId",n.event.id),n}}}},526574:function(me,j,e){e.d(j,{Q:function(){return n}});var r=e(574324),i=e(879460),a=e(51161),t=e(785463),l=e(759520),g=e(507345);class n{constructor(s,h,o){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=s,this.hideErrorHelperText=!1,"Missing_References"===s?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=o,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource=a.gf.User):"Broken_Filters"===s?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=h.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=h.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=h.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource=a.gf.User,this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=h.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource=a.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===s?(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=h.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource=a.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278"):"NoSupportSpecificRolesWithVC_Hidden"===s?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=o,this.errorSource=a.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857"):"Data_Limit_Disabled_VisualCalc_Hidden"===s&&(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=h.get("Data_Limit_Disabled_VisualCalc_Hidden"),this.errorSource=a.gf.User,this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2249857")}static create(s,h,o){if(!_.isEmpty(s)){var v=[],m=(S,C)=>S.hierarchy?S.hierarchy.name:S.hierarchyLevel?S.hierarchyLevel.name+"."+S.hierarchyLevel.level:C,p=function(){var C,S=(0,r.F)(y);if(S.sparklineData){var u=S.sparklineData.measure;t.Y.assert(()=>1===_.size(S.sparklineData.grouping),"expect 1 field in grouping for sparklines");var E=_.first(S.sparklineData.grouping),c=m(u,(0,l.hm)(u)),f=m(E,(0,l.hm)(E));C=o.format("VisualTitle_By_Template",c,f)}else{var D=(0,l.vG)(S);if(!D)return 1;var b=m(S,(0,l.hm)(S));C="("+D.entity+") "+b;var T=h.schema(D.schema),M=T&&T.findProperty(D.entity,b);M&&M.errorMessage&&(C+=": "+M.errorMessage)}v.push(C)};for(var y of s)p();return new n("Missing_References",o,v.join(", "))}}get code(){return this.errorCode}get source(){return this.errorSource}addDebugInfo(s,h){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:s,errorInfoValue:h})}getDetails(s){var h=s.get(this.displayableErrorInfo[0].errorInfoKey),o=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(o=(0,g.G)(s.get(this.detailsMessageFormat),o)),{message:s.get(this.messageId),displayableErrorInfo:[{errorInfoKey:h,errorInfoValue:o}],debugErrorInfo:[{errorInfoKey:i.JM,errorInfoValue:this.code}].concat(...this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}}}},246060:function(me,j,e){function r(a,t){var l={};if(_.isEmpty(t))return l;for(var g of t){var n=a.tryGetExprs(g.name);l[g.name]=_.map(n,d=>a.defn.selectNameOf(d))}return l}function i(a,t){return!(!a?.projections||!a.projections[t])&&a.projections[t].all().some(l=>void 0!==l.queryRef)}e.d(j,{_:function(){return r},i:function(){return i}})},346099:function(me){me.exports=function(j){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return j[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=j,r.c=e,r.p="",r(0)}([function(j,e){var r=function(){function i(a,t,l){void 0===t&&(t={}),this.defaultHeaders=t,this.defaultTargetWindow=l,this.windowPostMessageProxy=a}return i.addTrackingProperties=function(a,t){return a.headers=a.headers||{},t&&t.id&&(a.headers.id=t.id),a},i.getTrackingProperties=function(a){return{id:a.headers&&a.headers.id}},i.isErrorMessage=function(a){return"number"==typeof(a&&a.statusCode)&&!(200<=a.statusCode&&a.statusCode<300)},i.prototype.get=function(a,t,l){return void 0===t&&(t={}),void 0===l&&(l=this.defaultTargetWindow),this.send({method:"GET",url:a,headers:t},l)},i.prototype.post=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"POST",url:a,headers:l,body:t},g)},i.prototype.put=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"PUT",url:a,headers:l,body:t},g)},i.prototype.patch=function(a,t,l,g){return void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"PATCH",url:a,headers:l,body:t},g)},i.prototype.delete=function(a,t,l,g){return void 0===t&&(t=null),void 0===l&&(l={}),void 0===g&&(g=this.defaultTargetWindow),this.send({method:"DELETE",url:a,headers:l,body:t},g)},i.prototype.send=function(a,t){if(void 0===t&&(t=this.defaultTargetWindow),a.headers=this.assign({},this.defaultHeaders,a.headers),!t)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(t,a)},i.prototype.assign=function(a){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];if(null==a)throw new TypeError("Cannot convert undefined or null to object");var g=Object(a);return t.forEach(function(n){if(null!=n)for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(g[d]=n[d])}),g},i}();e.HttpPostMessage=r}])},874215:function(me){var r;r=()=>{return j=[function(a,t,l){var g=this&&this.__extends||function(){var Ge=function(Ct,xt){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(We,nt){We.__proto__=nt}||function(We,nt){for(var Wt in nt)Object.prototype.hasOwnProperty.call(nt,Wt)&&(We[Wt]=nt[Wt])})(Ct,xt)};return function(Ct,xt){if("function"!=typeof xt&&null!==xt)throw new TypeError("Class extends value "+String(xt)+" is not a constructor or null");function We(){this.constructor=Ct}Ge(Ct,xt),Ct.prototype=null===xt?Object.create(xt):(We.prototype=xt.prototype,new We)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CommonErrorCodes=t.BookmarksPlayMode=t.ExportDataType=t.QnaMode=t.PageNavigationPosition=t.BrowserPrintAdjustmentsMode=t.AggregateFunction=t.DataCacheMode=t.CredentialType=t.isPercentOfGrandTotal=t.isColumnAggr=t.isHierarchyLevelAggr=t.isHierarchyLevel=t.isColumn=t.isMeasure=t.getFilterType=t.isBasicFilterWithKeys=t.isFilterKeyColumnsTarget=t.HierarchyIdentityFilter=t.HierarchyFilter=t.AdvancedFilter=t.TupleFilter=t.IdentityFilter=t.BasicFilterWithKeys=t.BasicFilter=t.RelativeTimeFilter=t.RelativeDateFilter=t.TopNFilter=t.IncludeExcludeFilter=t.NotSupportedFilter=t.Filter=t.RelativeDateOperators=t.RelativeDateFilterTimeUnit=t.FilterType=t.FiltersLevel=t.FiltersOperations=t.MenuLocation=t.ContrastMode=t.TokenType=t.ViewMode=t.Permissions=t.SectionVisibility=t.ReportAlignment=t.HyperlinkClickBehavior=t.LayoutType=t.VisualContainerDisplayMode=t.BackgroundType=t.DisplayOption=t.PageSizeType=t.TraceType=void 0,t.validateExportDataRequest=t.validateQnaInterpretInputData=t.validateLoadQnaConfiguration=t.validateSaveAsParameters=t.validateUpdateFiltersRequest=t.validateFilter=t.validatePage=t.validateTileLoad=t.validateDashboardLoad=t.validateQuickCreate=t.validateCreateReport=t.validatePaginatedReportLoad=t.validateReportLoad=t.validateMenuGroupExtension=t.validateExtension=t.validateCustomPageSize=t.validateVisualizationsPane=t.validateSyncSlicersPane=t.validateSelectionPane=t.validatePageNavigationPane=t.validateFieldsPane=t.validateFiltersPane=t.validateBookmarksPane=t.validatePanes=t.validateSettings=t.validateCaptureBookmarkRequest=t.validateApplyBookmarkStateRequest=t.validateApplyBookmarkByNameRequest=t.validateAddBookmarkRequest=t.validatePlayBookmarkRequest=t.validateSlicerState=t.validateSlicer=t.validateVisualSelector=t.isIExtensionArray=t.isIExtensions=t.isGroupedMenuExtension=t.isFlatMenuExtension=t.isReportFiltersArray=t.isOnLoadFilters=t.VisualDataRoleKindPreference=t.VisualDataRoleKind=t.CommandDisplayOption=t.SlicerTargetSelector=t.VisualTypeSelector=t.VisualSelector=t.PageSelector=t.Selector=t.SortDirection=t.LegendPosition=t.TextAlignment=void 0,t.validatePrintSettings=t.validateZoomLevel=t.validateCustomTheme=t.validateCommandsSettings=t.validateVisualSettings=t.validateVisualHeader=void 0;var Ge,T,n=l(1);(Ge=t.TraceType||(t.TraceType={}))[Ge.Information=0]="Information",Ge[Ge.Verbose=1]="Verbose",Ge[Ge.Warning=2]="Warning",Ge[Ge.Error=3]="Error",Ge[Ge.ExpectedError=4]="ExpectedError",Ge[Ge.UnexpectedError=5]="UnexpectedError",Ge[Ge.Fatal=6]="Fatal",function(Ge){Ge[Ge.Widescreen=0]="Widescreen",Ge[Ge.Standard=1]="Standard",Ge[Ge.Cortana=2]="Cortana",Ge[Ge.Letter=3]="Letter",Ge[Ge.Custom=4]="Custom",Ge[Ge.Mobile=5]="Mobile"}(t.PageSizeType||(t.PageSizeType={})),function(Ge){Ge[Ge.FitToPage=0]="FitToPage",Ge[Ge.FitToWidth=1]="FitToWidth",Ge[Ge.ActualSize=2]="ActualSize"}(t.DisplayOption||(t.DisplayOption={})),function(Ge){Ge[Ge.Default=0]="Default",Ge[Ge.Transparent=1]="Transparent"}(t.BackgroundType||(t.BackgroundType={})),function(Ge){Ge[Ge.Visible=0]="Visible",Ge[Ge.Hidden=1]="Hidden"}(t.VisualContainerDisplayMode||(t.VisualContainerDisplayMode={})),function(Ge){Ge[Ge.Master=0]="Master",Ge[Ge.Custom=1]="Custom",Ge[Ge.MobilePortrait=2]="MobilePortrait",Ge[Ge.MobileLandscape=3]="MobileLandscape"}(t.LayoutType||(t.LayoutType={})),function(Ge){Ge[Ge.Navigate=0]="Navigate",Ge[Ge.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",Ge[Ge.RaiseEvent=2]="RaiseEvent"}(t.HyperlinkClickBehavior||(t.HyperlinkClickBehavior={})),function(Ge){Ge[Ge.Left=0]="Left",Ge[Ge.Center=1]="Center",Ge[Ge.Right=2]="Right",Ge[Ge.None=3]="None"}(t.ReportAlignment||(t.ReportAlignment={})),function(Ge){Ge[Ge.AlwaysVisible=0]="AlwaysVisible",Ge[Ge.HiddenInViewMode=1]="HiddenInViewMode"}(t.SectionVisibility||(t.SectionVisibility={})),function(Ge){Ge[Ge.Read=0]="Read",Ge[Ge.ReadWrite=1]="ReadWrite",Ge[Ge.Copy=2]="Copy",Ge[Ge.Create=4]="Create",Ge[Ge.All=7]="All"}(t.Permissions||(t.Permissions={})),function(Ge){Ge[Ge.View=0]="View",Ge[Ge.Edit=1]="Edit"}(t.ViewMode||(t.ViewMode={})),function(Ge){Ge[Ge.Aad=0]="Aad",Ge[Ge.Embed=1]="Embed"}(t.TokenType||(t.TokenType={})),function(Ge){Ge[Ge.None=0]="None",Ge[Ge.HighContrast1=1]="HighContrast1",Ge[Ge.HighContrast2=2]="HighContrast2",Ge[Ge.HighContrastBlack=3]="HighContrastBlack",Ge[Ge.HighContrastWhite=4]="HighContrastWhite"}(t.ContrastMode||(t.ContrastMode={})),function(Ge){Ge[Ge.Bottom=0]="Bottom",Ge[Ge.Top=1]="Top"}(t.MenuLocation||(t.MenuLocation={})),function(Ge){Ge[Ge.RemoveAll=0]="RemoveAll",Ge[Ge.ReplaceAll=1]="ReplaceAll",Ge[Ge.Add=2]="Add",Ge[Ge.Replace=3]="Replace"}(t.FiltersOperations||(t.FiltersOperations={})),function(Ge){Ge[Ge.Report=0]="Report",Ge[Ge.Page=1]="Page",Ge[Ge.Visual=2]="Visual"}(t.FiltersLevel||(t.FiltersLevel={})),function(Ge){Ge[Ge.Advanced=0]="Advanced",Ge[Ge.Basic=1]="Basic",Ge[Ge.Unknown=2]="Unknown",Ge[Ge.IncludeExclude=3]="IncludeExclude",Ge[Ge.RelativeDate=4]="RelativeDate",Ge[Ge.TopN=5]="TopN",Ge[Ge.Tuple=6]="Tuple",Ge[Ge.RelativeTime=7]="RelativeTime",Ge[Ge.Identity=8]="Identity",Ge[Ge.Hierarchy=9]="Hierarchy",Ge[Ge.HierarchyIdentity=10]="HierarchyIdentity"}(T=t.FilterType||(t.FilterType={})),function(Ge){Ge[Ge.Days=0]="Days",Ge[Ge.Weeks=1]="Weeks",Ge[Ge.CalendarWeeks=2]="CalendarWeeks",Ge[Ge.Months=3]="Months",Ge[Ge.CalendarMonths=4]="CalendarMonths",Ge[Ge.Years=5]="Years",Ge[Ge.CalendarYears=6]="CalendarYears",Ge[Ge.Minutes=7]="Minutes",Ge[Ge.Hours=8]="Hours"}(t.RelativeDateFilterTimeUnit||(t.RelativeDateFilterTimeUnit={})),function(Ge){Ge[Ge.InLast=0]="InLast",Ge[Ge.InThis=1]="InThis",Ge[Ge.InNext=2]="InNext"}(t.RelativeDateOperators||(t.RelativeDateOperators={}));var w=function(){function Ge(Ct,xt){this.target=Ct,this.filterType=xt}return Ge.prototype.toJSON=function(){var Ct={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Ct.displaySettings=this.displaySettings),Ct},Ge}();t.Filter=w;var P=function(Ge){function Ct(xt,We,nt){var Wt=Ge.call(this,xt,T.Unknown)||this;return Wt.message=We,Wt.notSupportedTypeName=nt,Wt.schemaUrl=Ct.schemaUrl,Wt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.message=this.message,xt.notSupportedTypeName=this.notSupportedTypeName,xt},Ct.schemaUrl="http://powerbi.com/product/schema#notSupported",Ct}(w);t.NotSupportedFilter=P;var N=function(Ge){function Ct(xt,We,nt){var Wt=Ge.call(this,xt,T.IncludeExclude)||this;return Wt.target=xt,Wt.values=nt,Wt.isExclude=We,Wt.schemaUrl=Ct.schemaUrl,Wt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.isExclude=this.isExclude,xt.values=this.values,xt},Ct.schemaUrl="http://powerbi.com/product/schema#includeExclude",Ct}(w);t.IncludeExcludeFilter=N;var I=function(Ge){function Ct(xt,We,nt,Wt){var kt=Ge.call(this,xt,T.TopN)||this;return kt.operator=We,kt.itemCount=nt,kt.schemaUrl=Ct.schemaUrl,kt.orderBy=Wt,kt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.itemCount=this.itemCount,xt.orderBy=this.orderBy,xt},Ct.schemaUrl="http://powerbi.com/product/schema#topN",Ct}(w);t.TopNFilter=I;var O=function(Ge){function Ct(xt,We,nt,Wt,kt){var Ht=Ge.call(this,xt,T.RelativeDate)||this;return Ht.operator=We,Ht.timeUnitsCount=nt,Ht.timeUnitType=Wt,Ht.includeToday=kt,Ht.schemaUrl=Ct.schemaUrl,Ht}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.timeUnitsCount=this.timeUnitsCount,xt.timeUnitType=this.timeUnitType,xt.includeToday=this.includeToday,xt},Ct.schemaUrl="http://powerbi.com/product/schema#relativeDate",Ct}(w);t.RelativeDateFilter=O;var R=function(Ge){function Ct(xt,We,nt,Wt){var kt=Ge.call(this,xt,T.RelativeTime)||this;return kt.operator=We,kt.timeUnitsCount=nt,kt.timeUnitType=Wt,kt.schemaUrl=Ct.schemaUrl,kt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.timeUnitsCount=this.timeUnitsCount,xt.timeUnitType=this.timeUnitType,xt},Ct.schemaUrl="http://powerbi.com/product/schema#relativeTime",Ct}(w);t.RelativeTimeFilter=R;var W=function(Ge){function Ct(xt,We){for(var nt=[],Wt=2;Wt<arguments.length;Wt++)nt[Wt-2]=arguments[Wt];var kt=Ge.call(this,xt,T.Basic)||this;if(kt.operator=We,kt.schemaUrl=Ct.schemaUrl,0===nt.length&&"All"!==We)throw new Error('values must be a non-empty array unless your operator is "All".');return kt.values=Array.isArray(nt[0])?nt[0]:nt,kt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.values=this.values,xt.requireSingleSelection=!!this.requireSingleSelection,xt},Ct.schemaUrl="http://powerbi.com/product/schema#basic",Ct}(w);t.BasicFilter=W;var F=function(Ge){function Ct(xt,We,nt,Wt){var kt=Ge.call(this,xt,We,nt)||this;kt.keyValues=Wt,kt.target=xt;var Ht=xt.keys?xt.keys.length:0;if(Ht>0&&!Wt)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(Ht," keys"));if(0===Ht&&Wt&&Wt.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var lr=0,mr=kt.keyValues;lr<mr.length;lr++){var _r=mr[lr];if(_r){var Vr=_r.length;if(Vr!==Ht)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Vr," values and ").concat(Ht," keys"))}}return kt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.keyValues=this.keyValues,xt},Ct}(W);t.BasicFilterWithKeys=F;var U=function(Ge){function Ct(xt,We){var nt=Ge.call(this,xt,T.Identity)||this;return nt.operator=We,nt.schemaUrl=Ct.schemaUrl,nt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.target=this.target,xt},Ct.schemaUrl="http://powerbi.com/product/schema#identity",Ct}(w);t.IdentityFilter=U;var B=function(Ge){function Ct(xt,We,nt){var Wt=Ge.call(this,xt,T.Tuple)||this;return Wt.operator=We,Wt.schemaUrl=Ct.schemaUrl,Wt.values=nt,Wt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.operator=this.operator,xt.values=this.values,xt.target=this.target,xt},Ct.schemaUrl="http://powerbi.com/product/schema#tuple",Ct}(w);t.TupleFilter=B;var x=function(Ge){function Ct(xt,We){for(var nt=[],Wt=2;Wt<arguments.length;Wt++)nt[Wt-2]=arguments[Wt];var Ht,kt=Ge.call(this,xt,T.Advanced)||this;if(kt.schemaUrl=Ct.schemaUrl,"string"!=typeof We||0===We.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(We));if(kt.logicalOperator=We,(Ht=Array.isArray(nt[0])?nt[0]:nt).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(nt.length));if(1===Ht.length&&"And"!==We)throw new Error('Logical Operator must be "And" when there is only one condition provided');return kt.conditions=Ht,kt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.logicalOperator=this.logicalOperator,xt.conditions=this.conditions,xt},Ct.schemaUrl="http://powerbi.com/product/schema#advanced",Ct}(w);t.AdvancedFilter=x;var A=function(Ge){function Ct(xt,We){var nt=Ge.call(this,xt,T.Hierarchy)||this;return nt.schemaUrl=Ct.schemaUrl,nt.hierarchyData=We,nt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.hierarchyData=this.hierarchyData,xt.target=this.target,xt},Ct.schemaUrl="http://powerbi.com/product/schema#hierarchy",Ct}(w);t.HierarchyFilter=A;var L=function(Ge){function Ct(xt,We){var nt=Ge.call(this,xt,T.HierarchyIdentity)||this;return nt.schemaUrl=Ct.schemaUrl,nt.hierarchyData=We,nt}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.hierarchyData=this.hierarchyData,xt.target=this.target,xt},Ct.schemaUrl="http://powerbi.com/product/schema#hierarchyIdentity",Ct}(w);function H(Ge){if(Ge.filterType)return Ge.filterType;var xt=Ge;return"string"==typeof Ge.operator&&Array.isArray(Ge.values)?T.Basic:"string"==typeof xt.logicalOperator&&Array.isArray(xt.conditions)?T.Advanced:T.Unknown}function k(Ge){return!(!Ge.table||!Ge.column||Ge.aggregationFunction)}t.HierarchyIdentityFilter=L,t.isFilterKeyColumnsTarget=function(Ge){return k(Ge)&&!!Ge.keys},t.isBasicFilterWithKeys=function(Ge){return H(Ge)===T.Basic&&!!Ge.keyValues},t.getFilterType=H,t.isMeasure=function(Ge){return void 0!==Ge.table&&void 0!==Ge.measure},t.isColumn=k,t.isHierarchyLevel=function(Ge){return!(!(Ge.table&&Ge.hierarchy&&Ge.hierarchyLevel)||Ge.aggregationFunction)},t.isHierarchyLevelAggr=function(Ge){return!!(Ge.table&&Ge.hierarchy&&Ge.hierarchyLevel&&Ge.aggregationFunction)},t.isColumnAggr=function(Ge){return!!(Ge.table&&Ge.column&&Ge.aggregationFunction)},t.isPercentOfGrandTotal=function(Ge){return!!Ge.percentOfGrandTotal},function(Ge){Ge[Ge.NoConnection=0]="NoConnection",Ge[Ge.OnBehalfOf=1]="OnBehalfOf",Ge[Ge.Anonymous=2]="Anonymous"}(t.CredentialType||(t.CredentialType={})),function(Ge){Ge[Ge.Import=0]="Import",Ge[Ge.DirectQuery=1]="DirectQuery"}(t.DataCacheMode||(t.DataCacheMode={})),function(Ge){Ge[Ge.Default=1]="Default",Ge[Ge.None=2]="None",Ge[Ge.Sum=3]="Sum",Ge[Ge.Min=4]="Min",Ge[Ge.Max=5]="Max",Ge[Ge.Count=6]="Count",Ge[Ge.Average=7]="Average",Ge[Ge.DistinctCount=8]="DistinctCount"}(t.AggregateFunction||(t.AggregateFunction={})),function(Ge){Ge[Ge.Default=0]="Default",Ge[Ge.NoAdjustments=1]="NoAdjustments"}(t.BrowserPrintAdjustmentsMode||(t.BrowserPrintAdjustmentsMode={})),function(Ge){Ge[Ge.Bottom=0]="Bottom",Ge[Ge.Left=1]="Left"}(t.PageNavigationPosition||(t.PageNavigationPosition={})),function(Ge){Ge[Ge.Interactive=0]="Interactive",Ge[Ge.ResultOnly=1]="ResultOnly"}(t.QnaMode||(t.QnaMode={})),function(Ge){Ge[Ge.Summarized=0]="Summarized",Ge[Ge.Underlying=1]="Underlying"}(t.ExportDataType||(t.ExportDataType={})),function(Ge){Ge[Ge.Off=0]="Off",Ge[Ge.Presentation=1]="Presentation"}(t.BookmarksPlayMode||(t.BookmarksPlayMode={})),t.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},t.TextAlignment={Left:"left",Center:"center",Right:"right"},t.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(Ge){Ge[Ge.Ascending=1]="Ascending",Ge[Ge.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={}));var St=function(){function Ge(Ct){this.$schema=Ct}return Ge.prototype.toJSON=function(){return{$schema:this.$schema}},Ge}();t.Selector=St;var ze=function(Ge){function Ct(xt){var We=Ge.call(this,Ct.schemaUrl)||this;return We.pageName=xt,We}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.pageName=this.pageName,xt},Ct.schemaUrl="http://powerbi.com/product/schema#pageSelector",Ct}(St);t.PageSelector=ze;var Be=function(Ge){function Ct(xt){var We=Ge.call(this,Ct.schemaUrl)||this;return We.visualName=xt,We}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.visualName=this.visualName,xt},Ct.schemaUrl="http://powerbi.com/product/schema#visualSelector",Ct}(St);t.VisualSelector=Be;var Ce=function(Ge){function Ct(xt){var We=Ge.call(this,Be.schemaUrl)||this;return We.visualType=xt,We}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.visualType=this.visualType,xt},Ct.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Ct}(St);t.VisualTypeSelector=Ce;var Ae=function(Ge){function Ct(xt){var We=Ge.call(this,Be.schemaUrl)||this;return We.target=xt,We}return g(Ct,Ge),Ct.prototype.toJSON=function(){var xt=Ge.prototype.toJSON.call(this);return xt.target=this.target,xt},Ct.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Ct}(St);function Ee(Ge){return Array.isArray(Ge)}function ye(Ge){return Ge&&!!Ge.groupName}function fe(Ge){return Array.isArray(Ge)}function Se(Ge){var Ct=Ge.message;return Ct||(Ct="".concat(Ge.path," is invalid. Not meeting ").concat(Ge.keyword," constraint")),{message:Ct}}t.SlicerTargetSelector=Ae,function(Ge){Ge[Ge.Enabled=0]="Enabled",Ge[Ge.Disabled=1]="Disabled",Ge[Ge.Hidden=2]="Hidden"}(t.CommandDisplayOption||(t.CommandDisplayOption={})),function(Ge){Ge[Ge.Grouping=0]="Grouping",Ge[Ge.Measure=1]="Measure",Ge[Ge.GroupingOrMeasure=2]="GroupingOrMeasure"}(t.VisualDataRoleKind||(t.VisualDataRoleKind={})),function(Ge){Ge[Ge.Measure=0]="Measure",Ge[Ge.Grouping=1]="Grouping"}(t.VisualDataRoleKindPreference||(t.VisualDataRoleKindPreference={})),t.isOnLoadFilters=function(Ge){return Ge&&!Ee(Ge)},t.isReportFiltersArray=Ee,t.isFlatMenuExtension=function(Ge){return Ge&&!ye(Ge)},t.isGroupedMenuExtension=ye,t.isIExtensions=function(Ge){return Ge&&!fe(Ge)},t.isIExtensionArray=fe,t.validateVisualSelector=function(Ge){var Ct=n.Validators.visualSelectorValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSlicer=function(Ge){var Ct=n.Validators.slicerValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSlicerState=function(Ge){var Ct=n.Validators.slicerStateValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePlayBookmarkRequest=function(Ge){var Ct=n.Validators.playBookmarkRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateAddBookmarkRequest=function(Ge){var Ct=n.Validators.addBookmarkRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateApplyBookmarkByNameRequest=function(Ge){var Ct=n.Validators.applyBookmarkByNameRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateApplyBookmarkStateRequest=function(Ge){var Ct=n.Validators.applyBookmarkStateRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateCaptureBookmarkRequest=function(Ge){var Ct=n.Validators.captureBookmarkRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSettings=function(Ge){var Ct=n.Validators.settingsValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePanes=function(Ge){var Ct=n.Validators.reportPanesValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateBookmarksPane=function(Ge){var Ct=n.Validators.bookmarksPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateFiltersPane=function(Ge){var Ct=n.Validators.filtersPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateFieldsPane=function(Ge){var Ct=n.Validators.fieldsPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePageNavigationPane=function(Ge){var Ct=n.Validators.pageNavigationPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSelectionPane=function(Ge){var Ct=n.Validators.selectionPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSyncSlicersPane=function(Ge){var Ct=n.Validators.syncSlicersPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateVisualizationsPane=function(Ge){var Ct=n.Validators.visualizationsPaneValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateCustomPageSize=function(Ge){var Ct=n.Validators.customPageSizeValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateExtension=function(Ge){var Ct=n.Validators.extensionValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateMenuGroupExtension=function(Ge){var Ct=n.Validators.menuGroupExtensionValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateReportLoad=function(Ge){var Ct=n.Validators.reportLoadValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePaginatedReportLoad=function(Ge){var Ct=n.Validators.paginatedReportLoadValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateCreateReport=function(Ge){var Ct=n.Validators.reportCreateValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateQuickCreate=function(Ge){var Ct=n.Validators.quickCreateValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateDashboardLoad=function(Ge){var Ct=n.Validators.dashboardLoadValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateTileLoad=function(Ge){var Ct=n.Validators.tileLoadValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePage=function(Ge){var Ct=n.Validators.pageValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateFilter=function(Ge){var Ct=n.Validators.filterValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateUpdateFiltersRequest=function(Ge){var Ct=n.Validators.updateFiltersRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateSaveAsParameters=function(Ge){var Ct=n.Validators.saveAsParametersValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateLoadQnaConfiguration=function(Ge){var Ct=n.Validators.loadQnaValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateQnaInterpretInputData=function(Ge){var Ct=n.Validators.qnaInterpretInputDataValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateExportDataRequest=function(Ge){var Ct=n.Validators.exportDataRequestValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateVisualHeader=function(Ge){var Ct=n.Validators.visualHeaderValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateVisualSettings=function(Ge){var Ct=n.Validators.visualSettingsValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateCommandsSettings=function(Ge){var Ct=n.Validators.commandsSettingsValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateCustomTheme=function(Ge){var Ct=n.Validators.customThemeValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validateZoomLevel=function(Ge){var Ct=n.Validators.zoomLevelValidator.validate(Ge);return Ct?Ct.map(Se):void 0},t.validatePrintSettings=function(Ge){var Ct=n.Validators.printSettingsValidator.validate(Ge);return Ct?Ct.map(Se):void 0}},(a,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Validators=void 0;var g=l(2),n=l(5),d=l(6),s=l(7),h=l(8),o=l(9),v=l(10),m=l(11),p=l(12),y=l(13),S=l(14),C=l(15),u=l(16),E=l(17),c=l(18),f=l(19),D=l(20),b=l(21),T=l(22),M=l(23),V=l(24),w=l(25),P=l(26),N=l(27),I=l(28),O=l(29),R=l(4),W=l(30),F=l(31),U=l(32),B=l(33),x=l(34);t.Validators={addBookmarkRequestValidator:new n.AddBookmarkRequestValidator,advancedFilterTypeValidator:new R.EnumValidator([0]),advancedFilterValidator:new p.AdvancedFilterValidator,anyArrayValidator:new R.ArrayValidator([new P.AnyOfValidator([new R.StringValidator,new R.NumberValidator,new R.BooleanValidator])]),anyFilterValidator:new P.AnyOfValidator([new p.BasicFilterValidator,new p.AdvancedFilterValidator,new p.IncludeExcludeFilterValidator,new p.NotSupportedFilterValidator,new p.RelativeDateFilterValidator,new p.TopNFilterValidator,new p.RelativeTimeFilterValidator,new p.HierarchyFilterValidator]),anyValueValidator:new P.AnyOfValidator([new R.StringValidator,new R.NumberValidator,new R.BooleanValidator]),actionBarValidator:new g.ActionBarValidator,statusBarValidator:new g.StatusBarValidator,applyBookmarkByNameRequestValidator:new n.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new n.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new P.AnyOfValidator([new n.ApplyBookmarkByNameRequestValidator,new n.ApplyBookmarkStateRequestValidator]),backgroundValidator:new R.EnumValidator([0,1]),basicFilterTypeValidator:new R.EnumValidator([1]),basicFilterValidator:new p.BasicFilterValidator,booleanArrayValidator:new R.BooleanArrayValidator,booleanValidator:new R.BooleanValidator,bookmarksPaneValidator:new C.BookmarksPaneValidator,captureBookmarkOptionsValidator:new n.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new n.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new R.ArrayValidator([new F.ColumnSchemaValidator]),commandDisplayOptionValidator:new R.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new P.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new R.ArrayValidator([new m.CommandExtensionValidator]),commandExtensionValidator:new m.CommandExtensionValidator,commandsSettingsArrayValidator:new R.ArrayValidator([new d.CommandsSettingsValidator]),commandsSettingsValidator:new d.CommandsSettingsValidator,conditionItemValidator:new p.ConditionItemValidator,contrastModeValidator:new R.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new O.MapValidator([new R.StringValidator],[new R.StringValidator]),credentialsValidator:new F.CredentialsValidator,credentialTypeValidator:new R.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new R.EnumValidator([0,1,2]),customLayoutValidator:new y.CustomLayoutValidator,customPageSizeValidator:new S.CustomPageSizeValidator,customThemeValidator:new s.CustomThemeValidator,dashboardLoadValidator:new h.DashboardLoadValidator,dataCacheModeValidator:new R.EnumValidator([0,1]),datasetBindingValidator:new o.DatasetBindingValidator,datasetCreateConfigValidator:new F.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new F.DatasourceConnectionConfigValidator,displayStateModeValidator:new R.EnumValidator([0,1]),displayStateValidator:new y.DisplayStateValidator,exportDataRequestValidator:new v.ExportDataRequestValidator,extensionArrayValidator:new R.ArrayValidator([new m.ExtensionValidator]),extensionsValidator:new P.AnyOfValidator([new R.ArrayValidator([new m.ExtensionValidator]),new m.ExtensionsValidator]),extensionPointsValidator:new m.ExtensionPointsValidator,extensionValidator:new m.ExtensionValidator,fieldForbiddenValidator:new N.FieldForbiddenValidator,fieldRequiredValidator:new I.FieldRequiredValidator,fieldsPaneValidator:new C.FieldsPaneValidator,filterColumnTargetValidator:new p.FilterColumnTargetValidator,filterDisplaySettingsValidator:new p.FilterDisplaySettingsValidator,filterConditionsValidator:new R.ArrayValidator([new p.ConditionItemValidator]),filterHierarchyTargetValidator:new p.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new p.FilterMeasureTargetValidator,filterTargetValidator:new P.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new R.ArrayValidator([new P.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator,new R.ArrayValidator([new P.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator])])])])]),filterValidator:new p.FilterValidator,filterTypeValidator:new R.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new R.ArrayValidator([new p.FilterValidator]),filtersOperationsUpdateValidator:new R.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new R.EnumValidator([0]),filtersPaneValidator:new C.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new R.EnumValidator([0,1,2]),includeExcludeFilterValidator:new p.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new R.EnumValidator([3]),includeExcludeFilterValuesValidator:new R.ArrayValidator([new P.AnyOfValidator([new R.StringValidator,new R.NumberValidator,new R.BooleanValidator,new R.ArrayValidator([new R.ArrayValidator([new p.IncludeExcludePointValueValidator])])])]),hierarchyFilterTypeValidator:new R.EnumValidator([9]),hierarchyFilterValuesValidator:new R.ArrayValidator([new p.HierarchyFilterNodeValidator]),layoutTypeValidator:new R.EnumValidator([0,1,2,3]),loadQnaValidator:new u.LoadQnaValidator,menuExtensionValidator:new P.AnyOfValidator([new m.FlatMenuExtensionValidator,new m.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new R.ArrayValidator([new m.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new m.MenuGroupExtensionValidator,menuLocationValidator:new R.EnumValidator([0,1]),notSupportedFilterTypeValidator:new R.EnumValidator([2]),notSupportedFilterValidator:new p.NotSupportedFilterValidator,numberArrayValidator:new R.NumberArrayValidator,numberValidator:new R.NumberValidator,onLoadFiltersBaseValidator:new P.AnyOfValidator([new p.OnLoadFiltersBaseValidator,new p.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new O.MapValidator([new R.StringValidator],[new y.VisualLayoutValidator]),pageNavigationPaneValidator:new C.PageNavigationPaneValidator,pageNavigationPositionValidator:new R.EnumValidator([0,1]),pageSizeTypeValidator:new R.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new S.PageSizeValidator,pageValidator:new S.PageValidator,pageViewFieldValidator:new S.PageViewFieldValidator,pagesLayoutValidator:new O.MapValidator([new R.StringValidator],[new y.PageLayoutValidator]),paginatedReportCommandsValidator:new d.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new R.ArrayValidator([new x.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new f.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new T.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new R.ArrayValidator([new f.ReportParameterFieldsValidator]),parametersPanelValidator:new W.ParametersPanelValidator,permissionsValidator:new R.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new n.PlayBookmarkRequestValidator,printSettingsValidator:new B.PrintSettingsValidator,qnaInterpretInputDataValidator:new u.QnaInterpretInputDataValidator,qnaPanesValidator:new C.QnaPanesValidator,qnaSettingValidator:new u.QnaSettingsValidator,quickCreateValidator:new U.QuickCreateValidator,rawDataValidator:new R.ArrayValidator([new R.ArrayValidator([new R.StringValidator])]),relativeDateFilterOperatorValidator:new R.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new R.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new R.EnumValidator([4]),relativeDateFilterValidator:new p.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new R.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new R.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new R.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new R.EnumValidator([7]),relativeTimeFilterValidator:new p.RelativeTimeFilterValidator,reportBarsValidator:new g.ReportBarsValidator,reportCreateValidator:new E.ReportCreateValidator,reportLoadFiltersValidator:new P.AnyOfValidator([new R.ArrayValidator([new p.FilterValidator]),new p.OnLoadFiltersValidator]),reportLoadValidator:new c.ReportLoadValidator,reportPanesValidator:new C.ReportPanesValidator,saveAsParametersValidator:new D.SaveAsParametersValidator,selectionPaneValidator:new C.SelectionPaneValidator,settingsValidator:new T.SettingsValidator,singleCommandSettingsValidator:new d.SingleCommandSettingsValidator,slicerSelectorValidator:new P.AnyOfValidator([new b.VisualSelectorValidator,new b.SlicerTargetSelectorValidator]),slicerStateValidator:new M.SlicerStateValidator,slicerTargetValidator:new P.AnyOfValidator([new p.FilterColumnTargetValidator,new p.FilterHierarchyTargetValidator,new p.FilterMeasureTargetValidator,new p.FilterKeyColumnsTargetValidator,new p.FilterKeyHierarchyTargetValidator]),slicerValidator:new M.SlicerValidator,stringArrayValidator:new R.StringArrayValidator,stringValidator:new R.StringValidator,syncSlicersPaneValidator:new C.SyncSlicersPaneValidator,tableDataArrayValidator:new R.ArrayValidator([new F.TableDataValidator]),tableSchemaListValidator:new R.ArrayValidator([new F.TableSchemaValidator]),tileLoadValidator:new V.TileLoadValidator,tokenTypeValidator:new R.EnumValidator([0,1]),topNFilterTypeValidator:new R.EnumValidator([5]),topNFilterValidator:new p.TopNFilterValidator,updateFiltersRequestValidator:new P.AnyOfValidator([new p.UpdateFiltersRequestValidator,new p.RemoveFiltersRequestValidator]),viewModeValidator:new R.EnumValidator([0,1]),visualCommandSelectorValidator:new P.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new P.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new w.VisualHeaderSettingsValidator,visualHeaderValidator:new w.VisualHeaderValidator,visualHeadersValidator:new R.ArrayValidator([new w.VisualHeaderValidator]),visualizationsPaneValidator:new C.VisualizationsPaneValidator,visualLayoutValidator:new y.VisualLayoutValidator,visualSelectorValidator:new b.VisualSelectorValidator,visualSettingsValidator:new w.VisualSettingsValidator,visualTypeSelectorValidator:new b.VisualTypeSelectorValidator,zoomLevelValidator:new R.RangeValidator(.25,4)}},function(a,t,l){var g=this&&this.__extends||function(){var m=function(p,y){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var u in C)Object.prototype.hasOwnProperty.call(C,u)&&(S[u]=C[u])})(p,y)};return function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=p}m(p,y),p.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarValidator=t.ActionBarValidator=t.ReportBarsValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"actionBar",validators:[s.Validators.actionBarValidator]},{field:"statusBar",validators:[s.Validators.statusBarValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.ReportBarsValidator=h;var o=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.ActionBarValidator=o;var v=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.StatusBarValidator=v},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MultipleFieldsValidator=void 0,t.MultipleFieldsValidator=function(){function g(n){this.fieldValidatorsPairs=n}return g.prototype.validate=function(n,d,s){if(!this.fieldValidatorsPairs)return null;for(var h=d?d+"."+s:s,o=0,v=this.fieldValidatorsPairs;o<v.length;o++)for(var m=v[o],p=0,y=m.validators;p<y.length;p++){var C=y[p].validate(n[m.field],h,m.field);if(C)return C}return null},g}()},function(a,t){var l=this&&this.__extends||function(){var E=function(c,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(D[T]=b[T])})(c,f)};return function(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function D(){this.constructor=c}E(c,f),c.prototype=null===f?Object.create(f):(D.prototype=f.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.RangeValidator=t.NumberArrayValidator=t.BooleanArrayValidator=t.StringArrayValidator=t.EnumValidator=t.SchemaValidator=t.ValueValidator=t.NumberValidator=t.BooleanValidator=t.StringValidator=t.TypeValidator=t.ArrayValidator=t.ObjectValidator=void 0,t.ObjectValidator=function(){function E(){}return E.prototype.validate=function(c,f,D){return null==c?null:"object"!=typeof c||Array.isArray(c)?[{message:void 0!==D?D+" must be an object":"input must be an object",path:f,keyword:"type"}]:null},E}();var n=function(){function E(c){this.itemValidators=c}return E.prototype.validate=function(c,f,D){if(null==c)return null;if(!Array.isArray(c))return[{message:D+" property is invalid",path:(f?f+".":"")+D,keyword:"type"}];for(var b=0;b<c.length;b++)for(var T=(f?f+".":"")+D+"."+b.toString(),M=0,V=this.itemValidators;M<V.length;M++)if(V[M].validate(c[b],T,D))return[{message:D+" property is invalid",path:(f?f+".":"")+D,keyword:"type"}];return null},E}();t.ArrayValidator=n;var d=function(){function E(c){this.expectedType=c}return E.prototype.validate=function(c,f,D){return null==c?null:typeof c!==this.expectedType?[{message:D+" must be a "+this.expectedType,path:(f?f+".":"")+D,keyword:"type"}]:null},E}();t.TypeValidator=d;var s=function(E){function c(){return E.call(this,"string")||this}return l(c,E),c}(d);t.StringValidator=s;var h=function(E){function c(){return E.call(this,"boolean")||this}return l(c,E),c}(d);t.BooleanValidator=h;var o=function(E){function c(){return E.call(this,"number")||this}return l(c,E),c}(d);t.NumberValidator=o;var v=function(){function E(c){this.possibleValues=c}return E.prototype.validate=function(c,f,D){return null==c?null:this.possibleValues.indexOf(c)<0?[{message:D+" property is invalid",path:(f?f+".":"")+D,keyword:"invalid"}]:null},E}();t.ValueValidator=v,t.SchemaValidator=function(E){function c(f){var D=E.call(this,[f])||this;return D.schemaValue=f,D}return l(c,E),c.prototype.validate=function(f,D,b){return E.prototype.validate.call(this,f,D,b)},c}(v),t.EnumValidator=function(E){function c(f){var D=E.call(this)||this;return D.possibleValues=f,D}return l(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new v(this.possibleValues).validate(f,D,b)},c}(o),t.StringArrayValidator=function(E){function c(){return E.call(this,[new s])||this}return l(c,E),c.prototype.validate=function(f,D,b){return E.prototype.validate.call(this,f,D,b)?[{message:b+" must be an array of strings",path:(D?D+".":"")+b,keyword:"type"}]:null},c}(n),t.BooleanArrayValidator=function(E){function c(){return E.call(this,[new h])||this}return l(c,E),c.prototype.validate=function(f,D,b){return E.prototype.validate.call(this,f,D,b)?[{message:b+" must be an array of booleans",path:(D?D+".":"")+b,keyword:"type"}]:null},c}(n),t.NumberArrayValidator=function(E){function c(){return E.call(this,[new o])||this}return l(c,E),c.prototype.validate=function(f,D,b){return E.prototype.validate.call(this,f,D,b)?[{message:b+" must be an array of numbers",path:(D?D+".":"")+b,keyword:"type"}]:null},c}(n),t.RangeValidator=function(E){function c(f,D){var b=E.call(this)||this;return b.minValue=f,b.maxValue=D,b}return l(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||(f>this.maxValue||f<this.minValue?[{message:b+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(D?D+".":"")+b,keyword:"range"}]:null)},c}(o)},function(a,t,l){var g=this&&this.__extends||function(){var S=function(C,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,c){E.__proto__=c}||function(E,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(E[f]=c[f])})(C,u)};return function(C,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function E(){this.constructor=C}S(C,u),C.prototype=null===u?Object.create(u):(E.prototype=u.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureBookmarkRequestValidator=t.CaptureBookmarkOptionsValidator=t.ApplyBookmarkStateRequestValidator=t.ApplyBookmarkByNameRequestValidator=t.AddBookmarkRequestValidator=t.PlayBookmarkRequestValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){if(null==u)return null;var f=S.prototype.validate.call(this,u,E,c);if(f)return f;var D=[{field:"playMode",validators:[s.Validators.fieldRequiredValidator,new d.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(D).validate(u,E,c)},C}(d.ObjectValidator);t.PlayBookmarkRequestValidator=h;var o=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"apply",validators:[s.Validators.booleanValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.AddBookmarkRequestValidator=o;var v=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.ApplyBookmarkByNameRequestValidator=v;var m=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.ApplyBookmarkStateRequestValidator=m;var p=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[s.Validators.booleanValidator]},{field:"allPages",validators:[s.Validators.booleanValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.CaptureBookmarkOptionsValidator=p;var y=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"options",validators:[s.Validators.fieldRequiredValidator,s.Validators.captureBookmarkOptionsValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.CaptureBookmarkRequestValidator=y},function(a,t,l){var g=this&&this.__extends||function(){var m=function(p,y){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var u in C)Object.prototype.hasOwnProperty.call(C,u)&&(S[u]=C[u])})(p,y)};return function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=p}m(p,y),p.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportCommandsValidator=t.SingleCommandSettingsValidator=t.CommandsSettingsValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"copy",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[s.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[s.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[s.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[s.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[s.Validators.singleCommandSettingsValidator]},{field:"search",validators:[s.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[s.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[s.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[s.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[s.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[s.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[s.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[s.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[s.Validators.singleCommandSettingsValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.CommandsSettingsValidator=h;var o=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"displayOption",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[s.Validators.visualCommandSelectorValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.SingleCommandSettingsValidator=o;var v=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"parameterPanel",validators:[s.Validators.parametersPanelValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.PaginatedReportCommandsValidator=v},function(a,t,l){var g=this&&this.__extends||function(){var h=function(o,v){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(m[y]=p[y])})(o,v)};return function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}h(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CustomThemeValidator=void 0;var n=l(3),d=l(4),s=function(h){function o(){return null!==h&&h.apply(this,arguments)||this}return g(o,h),o.prototype.validate=function(v,m,p){if(null==v)return null;var y=h.prototype.validate.call(this,v,m,p);if(y)return y;var S=[{field:"themeJson",validators:[new d.ObjectValidator]}];return new n.MultipleFieldsValidator(S).validate(v,m,p)},o}(d.ObjectValidator);t.CustomThemeValidator=s},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardLoadValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.DashboardLoadValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetBindingValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||(m.datasetId||m.paginatedReportBindings?new n.MultipleFieldsValidator([{field:"datasetId",validators:[s.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(m,p,y):[{message:"datasetBinding cannot be empty",path:(p?p+".":"")+y,keyword:"invalid"}])},v}(d.ObjectValidator);t.DatasetBindingValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var h=function(o,v){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(m[y]=p[y])})(o,v)};return function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}h(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExportDataRequestValidator=void 0;var n=l(3),d=l(4),s=function(h){function o(){return null!==h&&h.apply(this,arguments)||this}return g(o,h),o.prototype.validate=function(v,m,p){if(null==v)return null;var y=h.prototype.validate.call(this,v,m,p);if(y)return y;var S=[{field:"rows",validators:[new d.NumberValidator]},{field:"exportDataType",validators:[new d.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(S).validate(v,m,p)},o}(d.ObjectValidator);t.ExportDataRequestValidator=s},function(a,t,l){var g=this&&this.__extends||function(){var E=function(c,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(D[T]=b[T])})(c,f)};return function(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function D(){this.constructor=c}E(c,f),c.prototype=null===f?Object.create(f):(D.prototype=f.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsValidator=t.MenuGroupExtensionValidator=t.ExtensionValidator=t.CommandExtensionValidator=t.ExtensionItemValidator=t.ExtensionPointsValidator=t.GroupedMenuExtensionValidator=t.FlatMenuExtensionValidator=t.MenuExtensionBaseValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.MenuExtensionBaseValidator=h;var o=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"menuLocation",validators:[s.Validators.menuLocationValidator]},{field:"groupName",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,D,b)},c}(h);t.FlatMenuExtensionValidator=o;var v=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"groupName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.fieldForbiddenValidator]}]).validate(f,D,b)},c}(h);t.GroupedMenuExtensionValidator=v;var m=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visualContextMenu",validators:[s.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[s.Validators.menuExtensionValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.ExtensionPointsValidator=m;var p=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"extend",validators:[s.Validators.fieldRequiredValidator,s.Validators.extensionPointsValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.ExtensionItemValidator=p;var y=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"icon",validators:[s.Validators.stringValidator]},{field:"selector",validators:[s.Validators.commandExtensionSelectorValidator]}]).validate(f,D,b)},c}(p);t.CommandExtensionValidator=y;var S=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"command",validators:[s.Validators.commandExtensionValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.ExtensionValidator=S;var C=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"title",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"menuLocation",validators:[s.Validators.menuLocationValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.MenuGroupExtensionValidator=C;var u=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.fieldRequiredValidator,s.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[s.Validators.menuGroupExtensionArrayValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.ExtensionsValidator=u},function(a,t,l){var g=this&&this.__extends||function(){var U=function(B,x){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var Y in L)Object.prototype.hasOwnProperty.call(L,Y)&&(A[Y]=L[Y])})(B,x)};return function(B,x){if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function A(){this.constructor=B}U(B,x),B.prototype=null===x?Object.create(x):(A.prototype=x.prototype,new A)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OnLoadFiltersValidator=t.OnLoadFiltersBaseRemoveOperationValidator=t.OnLoadFiltersBaseValidator=t.ConditionItemValidator=t.RemoveFiltersRequestValidator=t.UpdateFiltersRequestValidator=t.FilterValidator=t.IncludeExcludePointValueValidator=t.HierarchyFilterNodeValidator=t.HierarchyFilterValidator=t.IncludeExcludeFilterValidator=t.NotSupportedFilterValidator=t.TopNFilterValidator=t.RelativeTimeFilterValidator=t.RelativeDateFilterValidator=t.RelativeDateTimeFilterValidator=t.AdvancedFilterValidator=t.BasicFilterValidator=t.FilterValidatorBase=t.FilterDisplaySettingsValidator=t.FilterMeasureTargetValidator=t.FilterKeyHierarchyTargetValidator=t.FilterHierarchyTargetValidator=t.FilterKeyColumnsTargetValidator=t.FilterColumnTargetValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"column",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.FilterColumnTargetValidator=h;var o=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(x,A,L)},B}(h);t.FilterKeyColumnsTargetValidator=o;var v=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchy",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"hierarchyLevel",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.FilterHierarchyTargetValidator=v;var m=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"keys",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]}]).validate(x,A,L)},B}(v);t.FilterKeyHierarchyTargetValidator=m;var p=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"table",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"measure",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.FilterMeasureTargetValidator=p;var y=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[s.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[s.Validators.booleanValidator]},{field:"displayName",validators:[s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.FilterDisplaySettingsValidator=y;var S=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"target",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]},{field:"$schema",validators:[s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.filterTypeValidator]},{field:"displaySettings",validators:[s.Validators.filterDisplaySettingsValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.FilterValidatorBase=S;var C=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyArrayValidator]},{field:"filterType",validators:[s.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[s.Validators.booleanValidator]}]).validate(x,A,L)},B}(S);t.BasicFilterValidator=C;var u=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"logicalOperator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"conditions",validators:[s.Validators.filterConditionsValidator]},{field:"filterType",validators:[s.Validators.advancedFilterTypeValidator]}]).validate(x,A,L)},B}(S);t.AdvancedFilterValidator=u;var E=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[s.Validators.numberValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateTimeFilterTypeValidator]}]).validate(x,A,L)},B}(S);t.RelativeDateTimeFilterValidator=E;var c=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"includeToday",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeDateFilterTypeValidator]}]).validate(x,A,L)},B}(E);t.RelativeDateFilterValidator=c;var f=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"timeUnitType",validators:[s.Validators.fieldRequiredValidator,s.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[s.Validators.relativeTimeFilterTypeValidator]}]).validate(x,A,L)},B}(E);t.RelativeTimeFilterValidator=f;var D=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"itemCount",validators:[s.Validators.fieldRequiredValidator,s.Validators.numberValidator]},{field:"filterType",validators:[s.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[s.Validators.fieldRequiredValidator,s.Validators.filterTargetValidator]}]).validate(x,A,L)},B}(S);t.TopNFilterValidator=D;var b=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"message",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"filterType",validators:[s.Validators.notSupportedFilterTypeValidator]}]).validate(x,A,L)},B}(S);t.NotSupportedFilterValidator=b;var T=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"isExclude",validators:[s.Validators.fieldRequiredValidator,s.Validators.booleanValidator]},{field:"values",validators:[s.Validators.fieldRequiredValidator,s.Validators.includeExcludeFilterValuesValidator]},{field:"filterType",validators:[s.Validators.includeExludeFilterTypeValidator]}]).validate(x,A,L)},B}(S);t.IncludeExcludeFilterValidator=T;var M=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"hierarchyData",validators:[s.Validators.fieldRequiredValidator,s.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[s.Validators.hierarchyFilterTypeValidator]}]).validate(x,A,L)},B}(S);t.HierarchyFilterValidator=M;var V=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]},{field:"children",validators:[s.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.HierarchyFilterNodeValidator=V;var w=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.fieldRequiredValidator,s.Validators.anyValueValidator]},{field:"keyValues",validators:[s.Validators.anyArrayValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.IncludeExcludePointValueValidator=w;var P=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||s.Validators.anyFilterValidator.validate(x,A,L)},B}(d.ObjectValidator);t.FilterValidator=P;var N=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.UpdateFiltersRequestValidator=N;var I=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"filtersOperation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.RemoveFiltersRequestValidator=I;var O=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"value",validators:[s.Validators.anyValueValidator]},{field:"operator",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.ConditionItemValidator=O;var R=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersArrayValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.OnLoadFiltersBaseValidator=R;var W=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"operation",validators:[s.Validators.fieldRequiredValidator,s.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[s.Validators.fieldForbiddenValidator,s.Validators.filtersArrayValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.OnLoadFiltersBaseRemoveOperationValidator=W;var F=function(U){function B(){return null!==U&&U.apply(this,arguments)||this}return g(B,U),B.prototype.validate=function(x,A,L){return null==x?null:U.prototype.validate.call(this,x,A,L)||new n.MultipleFieldsValidator([{field:"allPages",validators:[s.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[s.Validators.onLoadFiltersBaseValidator]}]).validate(x,A,L)},B}(d.ObjectValidator);t.OnLoadFiltersValidator=F},function(a,t,l){var g=this&&this.__extends||function(){var p=function(y,S){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,u){C.__proto__=u}||function(C,u){for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(C[E]=u[E])})(y,S)};return function(y,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=y}p(y,S),y.prototype=null===S?Object.create(S):(C.prototype=S.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageLayoutValidator=t.DisplayStateValidator=t.VisualLayoutValidator=t.CustomLayoutValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"pageSize",validators:[s.Validators.pageSizeValidator]},{field:"displayOption",validators:[s.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[s.Validators.pagesLayoutValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.CustomLayoutValidator=h;var o=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"x",validators:[s.Validators.numberValidator]},{field:"y",validators:[s.Validators.numberValidator]},{field:"z",validators:[s.Validators.numberValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]},{field:"displayState",validators:[s.Validators.displayStateValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.VisualLayoutValidator=o;var v=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"mode",validators:[s.Validators.displayStateModeValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.DisplayStateValidator=v;var m=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"visualsLayout",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[s.Validators.visualLayoutValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.PageLayoutValidator=m},function(a,t,l){var g=this&&this.__extends||function(){var p=function(y,S){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,u){C.__proto__=u}||function(C,u){for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(C[E]=u[E])})(y,S)};return function(y,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=y}p(y,S),y.prototype=null===S?Object.create(S):(C.prototype=S.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PageViewFieldValidator=t.PageValidator=t.CustomPageSizeValidator=t.PageSizeValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"type",validators:[s.Validators.fieldRequiredValidator,s.Validators.pageSizeTypeValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.PageSizeValidator=h;var o=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(S,C,u)},y}(h);t.CustomPageSizeValidator=o;var v=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(S,C,u)},y}(d.ObjectValidator);t.PageValidator=v;var m=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){return null==S?null:p.prototype.validate.call(this,S,C,u)||(["actualSize","fitToWidth","oneColumn"].indexOf(S)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},y}(d.StringValidator);t.PageViewFieldValidator=m},function(a,t,l){var g=this&&this.__extends||function(){var E=function(c,f){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,b){D.__proto__=b}||function(D,b){for(var T in b)Object.prototype.hasOwnProperty.call(b,T)&&(D[T]=b[T])})(c,f)};return function(c,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function D(){this.constructor=c}E(c,f),c.prototype=null===f?Object.create(f):(D.prototype=f.prototype,new D)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationsPaneValidator=t.SyncSlicersPaneValidator=t.SelectionPaneValidator=t.PageNavigationPaneValidator=t.FiltersPaneValidator=t.FieldsPaneValidator=t.BookmarksPaneValidator=t.QnaPanesValidator=t.ReportPanesValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"bookmarks",validators:[s.Validators.bookmarksPaneValidator]},{field:"fields",validators:[s.Validators.fieldsPaneValidator]},{field:"filters",validators:[s.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[s.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[s.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[s.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[s.Validators.visualizationsPaneValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.ReportPanesValidator=h;var o=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersPaneValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.QnaPanesValidator=o;var v=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.BookmarksPaneValidator=v;var m=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.FieldsPaneValidator=m;var p=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.FiltersPaneValidator=p;var y=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]},{field:"position",validators:[s.Validators.pageNavigationPositionValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.PageNavigationPaneValidator=y;var S=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.SelectionPaneValidator=S;var C=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.SyncSlicersPaneValidator=C;var u=function(E){function c(){return null!==E&&E.apply(this,arguments)||this}return g(c,E),c.prototype.validate=function(f,D,b){return null==f?null:E.prototype.validate.call(this,f,D,b)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]}]).validate(f,D,b)},c}(d.ObjectValidator);t.VisualizationsPaneValidator=u},function(a,t,l){var g=this&&this.__extends||function(){var m=function(p,y){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var u in C)Object.prototype.hasOwnProperty.call(C,u)&&(S[u]=C[u])})(p,y)};return function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=p}m(p,y),p.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QnaInterpretInputDataValidator=t.QnaSettingsValidator=t.LoadQnaValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetIds",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.stringValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"settings",validators:[s.Validators.qnaSettingValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"groupId",validators:[s.Validators.stringValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.LoadQnaValidator=h;var o=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"panes",validators:[s.Validators.qnaPanesValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.QnaSettingsValidator=o;var v=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"datasetIds",validators:[s.Validators.stringArrayValidator]},{field:"question",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.QnaInterpretInputDataValidator=v},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportCreateValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"datasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.ReportCreateValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportLoadValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.settingsValidator]},{field:"pageName",validators:[s.Validators.stringValidator]},{field:"filters",validators:[s.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[s.Validators.permissionsValidator]},{field:"viewMode",validators:[s.Validators.viewModeValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"bookmark",validators:[s.Validators.applyBookmarkValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"datasetBinding",validators:[s.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[s.Validators.contrastModeValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.ReportLoadValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var v=function(m,p){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(y[C]=S[C])})(m,p)};return function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function y(){this.constructor=m}v(m,p),m.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ReportParameterFieldsValidator=t.PaginatedReportLoadValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(p,y,S){return null==p?null:v.prototype.validate.call(this,p,y,S)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"settings",validators:[s.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[s.Validators.stringValidator]},{field:"type",validators:[s.Validators.stringValidator]},{field:"parameterValues",validators:[s.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[s.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(p,y,S)},m}(d.ObjectValidator);t.PaginatedReportLoadValidator=h,t.ReportParameterFieldsValidator=function(){function v(){}return v.prototype.validate=function(m,p,y){return null==m?null:new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"value",validators:[s.Validators.stringValidator]}]).validate(m,p,y)},v}()},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SaveAsParametersValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.SaveAsParametersValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var p=function(y,S){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,u){C.__proto__=u}||function(C,u){for(var E in u)Object.prototype.hasOwnProperty.call(u,E)&&(C[E]=u[E])})(y,S)};return function(y,S){if("function"!=typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function C(){this.constructor=y}p(y,S),y.prototype=null===S?Object.create(S):(C.prototype=S.prototype,new C)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerTargetSelectorValidator=t.VisualTypeSelectorValidator=t.VisualSelectorValidator=void 0;var n=l(3),d=l(4),s=l(4),h=l(1),o=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){if(null==S)return null;var E=p.prototype.validate.call(this,S,C,u);if(E)return E;var c=[{field:"$schema",validators:[h.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new n.MultipleFieldsValidator(c).validate(S,C,u)},y}(d.ObjectValidator);t.VisualSelectorValidator=o;var v=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){if(null==S)return null;var E=p.prototype.validate.call(this,S,C,u);if(E)return E;var c=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator]}];return new n.MultipleFieldsValidator(c).validate(S,C,u)},y}(d.ObjectValidator);t.VisualTypeSelectorValidator=v;var m=function(p){function y(){return null!==p&&p.apply(this,arguments)||this}return g(y,p),y.prototype.validate=function(S,C,u){if(null==S)return null;var E=p.prototype.validate.call(this,S,C,u);if(E)return E;var c=[{field:"$schema",validators:[h.Validators.fieldRequiredValidator,h.Validators.stringValidator,new s.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[h.Validators.fieldRequiredValidator,h.Validators.slicerTargetValidator]}];return new n.MultipleFieldsValidator(c).validate(S,C,u)},y}(d.ObjectValidator);t.SlicerTargetSelectorValidator=m},function(a,t,l){var g=this&&this.__extends||function(){var v=function(m,p){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(y[C]=S[C])})(m,p)};return function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function y(){this.constructor=m}v(m,p),m.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportSettingsValidator=t.SettingsValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(p,y,S){return null==p?null:v.prototype.validate.call(this,p,y,S)||new n.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[s.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[s.Validators.booleanValidator]},{field:"extensions",validators:[s.Validators.extensionsValidator]},{field:"layoutType",validators:[s.Validators.layoutTypeValidator]},{field:"customLayout",validators:[s.Validators.customLayoutValidator]},{field:"background",validators:[s.Validators.backgroundValidator]},{field:"visualSettings",validators:[s.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[s.Validators.booleanValidator]},{field:"commands",validators:[s.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[s.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[s.Validators.reportBarsValidator]},{field:"panes",validators:[s.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[s.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[s.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[s.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[s.Validators.booleanValidator]},{field:"printSettings",validators:[s.Validators.printSettingsValidator]}]).validate(p,y,S)},m}(d.ObjectValidator);t.SettingsValidator=h;var o=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(p,y,S){return null==p?null:v.prototype.validate.call(this,p,y,S)||new n.MultipleFieldsValidator([{field:"commands",validators:[s.Validators.paginatedReportCommandsValidator]}]).validate(p,y,S)},m}(d.ObjectValidator);t.PaginatedReportSettingsValidator=o},function(a,t,l){var g=this&&this.__extends||function(){var v=function(m,p){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&(y[C]=S[C])})(m,p)};return function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function y(){this.constructor=m}v(m,p),m.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SlicerStateValidator=t.SlicerValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(p,y,S){return null==p?null:v.prototype.validate.call(this,p,y,S)||new n.MultipleFieldsValidator([{field:"selector",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerSelectorValidator]},{field:"state",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerStateValidator]}]).validate(p,y,S)},m}(d.ObjectValidator);t.SlicerValidator=h;var o=function(v){function m(){return null!==v&&v.apply(this,arguments)||this}return g(m,v),m.prototype.validate=function(p,y,S){return null==p?null:v.prototype.validate.call(this,p,y,S)||new n.MultipleFieldsValidator([{field:"filters",validators:[s.Validators.filtersArrayValidator]}]).validate(p,y,S)},m}(d.ObjectValidator);t.SlicerStateValidator=o},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TileLoadValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"id",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"dashboardId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"pageView",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"width",validators:[s.Validators.numberValidator]},{field:"height",validators:[s.Validators.numberValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.TileLoadValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var m=function(p,y){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,C){S.__proto__=C}||function(S,C){for(var u in C)Object.prototype.hasOwnProperty.call(C,u)&&(S[u]=C[u])})(p,y)};return function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function S(){this.constructor=p}m(p,y),p.prototype=null===y?Object.create(y):(S.prototype=y.prototype,new S)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.VisualHeaderValidator=t.VisualHeaderSettingsValidator=t.VisualSettingsValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"visualHeaders",validators:[s.Validators.visualHeadersValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.VisualSettingsValidator=h;var o=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"visible",validators:[s.Validators.booleanValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.VisualHeaderSettingsValidator=o;var v=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return g(p,m),p.prototype.validate=function(y,S,C){return null==y?null:m.prototype.validate.call(this,y,S,C)||new n.MultipleFieldsValidator([{field:"settings",validators:[s.Validators.fieldRequiredValidator,s.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[s.Validators.visualHeaderSelectorValidator]}]).validate(y,S,C)},p}(d.ObjectValidator);t.VisualHeaderValidator=v},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnyOfValidator=void 0,t.AnyOfValidator=function(){function g(n){this.validators=n}return g.prototype.validate=function(n,d,s){if(null==n)return null;for(var h=!1,o=0,v=this.validators;o<v.length;o++)if(!v[o].validate(n,d,s)){h=!0;break}return h?null:[{message:s+" property is invalid",path:(d?d+".":"")+s,keyword:"invalid"}]},g}()},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldForbiddenValidator=void 0,t.FieldForbiddenValidator=function(){function g(){}return g.prototype.validate=function(n,d,s){return void 0!==n?[{message:s+" is forbidden",path:(d?d+".":"")+s,keyword:"forbidden"}]:null},g}()},(a,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FieldRequiredValidator=void 0,t.FieldRequiredValidator=function(){function g(){}return g.prototype.validate=function(n,d,s){return null==n?[{message:s+" is required",path:(d?d+".":"")+s,keyword:"required"}]:null},g}()},function(a,t,l){var g=this&&this.__extends||function(){var s=function(h,o){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(v[p]=m[p])})(h,o)};return function(h,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function v(){this.constructor=h}s(h,o),h.prototype=null===o?Object.create(o):(v.prototype=o.prototype,new v)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.MapValidator=void 0;var n=l(4);t.MapValidator=function(s){function h(o,v){var m=s.call(this)||this;return m.keyValidators=o,m.valueValidators=v,m}return g(h,s),h.prototype.validate=function(o,v,m){if(null==o)return null;var p=s.prototype.validate.call(this,o,v,m);if(p)return p;for(var y in o)if(o.hasOwnProperty(y)){for(var S=(v?v+".":"")+m+"."+y,C=0,u=this.keyValidators;C<u.length;C++)if(p=u[C].validate(y,S,m))return p;for(var c=0,f=this.valueValidators;c<f.length;c++)if(p=f[c].validate(o[y],S,m))return p}return null},h}(n.ObjectValidator)},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ParametersPanelValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"expanded",validators:[s.Validators.booleanValidator]},{field:"enabled",validators:[s.Validators.booleanValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.ParametersPanelValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var S=function(C,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,c){E.__proto__=c}||function(E,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(E[f]=c[f])})(C,u)};return function(C,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function E(){this.constructor=C}S(C,u),C.prototype=null===u?Object.create(u):(E.prototype=u.prototype,new E)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TableDataValidator=t.TableSchemaValidator=t.ColumnSchemaValidator=t.CredentialsValidator=t.DatasourceConnectionConfigValidator=t.DatasetCreateConfigValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){if(null==u)return null;var f=S.prototype.validate.call(this,u,E,c);return f||((f=new n.MultipleFieldsValidator([{field:"locale",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"mashupDocument",validators:[s.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[s.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[s.Validators.tableSchemaListValidator]},{field:"data",validators:[s.Validators.tableDataArrayValidator]}]).validate(u,E,c))?f:u.datasourceConnectionConfig&&null==u.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:u.data&&null==u.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==u.data&&null==u.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},C}(d.ObjectValidator);t.DatasetCreateConfigValidator=h;var o=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"dataCacheMode",validators:[s.Validators.dataCacheModeValidator]},{field:"credentials",validators:[s.Validators.credentialsValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.DatasourceConnectionConfigValidator=o;var v=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"credentialType",validators:[s.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[s.Validators.credentialDetailsValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.CredentialsValidator=v;var m=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"displayName",validators:[s.Validators.stringValidator]},{field:"dataType",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.ColumnSchemaValidator=m;var p=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"columns",validators:[s.Validators.fieldRequiredValidator,s.Validators.columnSchemaArrayValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.TableSchemaValidator=p;var y=function(S){function C(){return null!==S&&S.apply(this,arguments)||this}return g(C,S),C.prototype.validate=function(u,E,c){return null==u?null:S.prototype.validate.call(this,u,E,c)||new n.MultipleFieldsValidator([{field:"name",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"rows",validators:[s.Validators.fieldRequiredValidator,s.Validators.rawDataValidator]}]).validate(u,E,c)},C}(d.ObjectValidator);t.TableDataValidator=y},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.QuickCreateValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"accessToken",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"groupId",validators:[s.Validators.stringValidator]},{field:"tokenType",validators:[s.Validators.tokenTypeValidator]},{field:"theme",validators:[s.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[s.Validators.fieldRequiredValidator,s.Validators.datasetCreateConfigValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.QuickCreateValidator=h},function(a,t,l){var g=this&&this.__extends||function(){var h=function(o,v){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(m[y]=p[y])})(o,v)};return function(o,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function m(){this.constructor=o}h(o,v),o.prototype=null===v?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PrintSettingsValidator=void 0;var n=l(3),d=l(4),s=function(h){function o(){return null!==h&&h.apply(this,arguments)||this}return g(o,h),o.prototype.validate=function(v,m,p){if(null==v)return null;var y=h.prototype.validate.call(this,v,m,p);if(y)return y;var S=[{field:"browserPrintAdjustmentsMode",validators:[new d.EnumValidator([0,1])]}];return new n.MultipleFieldsValidator(S).validate(v,m,p)},o}(d.ObjectValidator);t.PrintSettingsValidator=s},function(a,t,l){var g=this&&this.__extends||function(){var o=function(v,m){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(p[S]=y[S])})(v,m)};return function(v,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=v}o(v,m),v.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PaginatedReportDatasetBindingValidator=void 0;var n=l(3),d=l(4),s=l(1),h=function(o){function v(){return null!==o&&o.apply(this,arguments)||this}return g(v,o),v.prototype.validate=function(m,p,y){return null==m?null:o.prototype.validate.call(this,m,p,y)||new n.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]},{field:"targetDatasetId",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}]).validate(m,p,y)},v}(d.ObjectValidator);t.PaginatedReportDatasetBindingValidator=h}],e={},function r(a){var t=e[a];if(void 0!==t)return t.exports;var l=e[a]={exports:{}};return j[a].call(l.exports,l,l.exports,r),l.exports}(0);var j,e},me.exports=r()},711501:function(me){me.exports=function(j){var e={};function r(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return j[i].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.m=j,r.c=e,r.p="",r(0)}([function(j,e,r){var i=r(1),a=function(){function l(g){this.handlers=g,this.getRouteRecognizer=new i,this.patchRouteRecognizer=new i,this.postRouteRecognizer=new i,this.putRouteRecognizer=new i,this.deleteRouteRecognizer=new i}return l.prototype.get=function(g,n){return this.registerHandler(this.getRouteRecognizer,"GET",g,n),this},l.prototype.patch=function(g,n){return this.registerHandler(this.patchRouteRecognizer,"PATCH",g,n),this},l.prototype.post=function(g,n){return this.registerHandler(this.postRouteRecognizer,"POST",g,n),this},l.prototype.put=function(g,n){return this.registerHandler(this.putRouteRecognizer,"PUT",g,n),this},l.prototype.delete=function(g,n){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",g,n),this},l.prototype.registerHandler=function(g,n,d,s){g.add([{path:d,handler:function(v){var m=new t;return Promise.resolve(s(v,m)).then(function(p){return m})}}]),this.handlers.addHandler({test:function(v){if(v.method!==n)return!1;var m=g.recognize(v.url);if(void 0===m)return!1;var p=m[0];return v.params=p.params,v.queryParams=m.queryParams,v.handler=p.handler,!0},handle:function(v){return v.handler(v)}})},l}();e.Router=a;var t=function(){function l(){this.statusCode=200,this.headers={},this.body=null}return l.prototype.send=function(g,n){this.statusCode=g,this.body=n},l}();e.Response=t},function(j,e,r){var i;(function(a){(function(){function t(w,P,N){this.path=w,this.matcher=P,this.delegate=N}function l(w){this.routes={},this.children={},this.target=w}function g(w,P,N){return function(I,O){var R=w+I;if(!O)return new t(w+I,P,N);O(g(R,P,N))}}function n(w,P,N){for(var I=0,O=0;O<w.length;O++)I+=w[O].path.length;P=P.substr(I),w.push({path:P,handler:N})}function d(w,P,N,I){var O=P.routes;for(var R in O)if(O.hasOwnProperty(R)){var W=w.slice();n(W,R,O[R]),P.children[R]?d(W,P.children[R],N,I):N.call(I,W)}}t.prototype={to:function(w,P){var N=this.delegate;if(N&&N.willAddRoute&&(w=N.willAddRoute(this.matcher.target,w)),this.matcher.add(this.path,w),P){if(0===P.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,w,P,this.delegate)}return this}},l.prototype={add:function(w,P){this.routes[w]=P},addChild:function(w,P,N,I){var O=new l(P);this.children[w]=O;var R=g(w,O,I);I&&I.contextEntered&&I.contextEntered(P,R),N(R)}};var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function v(w){return"[object Array]"===Object.prototype.toString.call(w)}function m(w){this.string=w}function p(w){this.name=w}function y(w){this.name=w}function S(){}function C(w,P,N){"/"===w.charAt(0)&&(w=w.substr(1));var I=w.split("/"),O=new Array(I.length);N.val="";for(var R=0;R<I.length;R++){var F,W=I[R];(F=W.match(/^:([^\/]+)$/))?(O[R]=new p(F[1]),P.push(F[1]),N.val+="3"):(F=W.match(/^\*([^\/]+)$/))?(O[R]=new y(F[1]),N.val+="1",P.push(F[1])):""===W?(O[R]=new S,N.val+="2"):(O[R]=new m(W),N.val+="4")}return N.val=+N.val,O}function u(w){this.charSpec=w,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function c(w,P){for(var N=[],I=0,O=w.length;I<O;I++)N=N.concat(w[I].match(P));return N}function D(w){this.queryParams=w||{}}function T(w){var P;w=w.replace(/\+/gm,"%20");try{P=decodeURIComponent(w)}catch{P=""}return P}m.prototype={eachChar:function(w){for(var N,P=this.string,I=0;I<P.length;I++)N=P.charAt(I),w=w.put({invalidChars:void 0,repeat:!1,validChars:N});return w},regex:function(){return this.string.replace(o,"\\$1")},generate:function(){return this.string}},p.prototype={eachChar:function(w){return w.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(w){return w[this.name]}},y.prototype={eachChar:function(w){return w.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(w){return w[this.name]}},S.prototype={eachChar:function(w){return w},regex:function(){return""},generate:function(){return""}},u.prototype={get:function(w){if(this.charSpecs[w.validChars])return this.charSpecs[w.validChars];for(var P=this.nextStates,N=0;N<P.length;N++){var I=P[N],O=I.charSpec.validChars===w.validChars;if(O=O&&I.charSpec.invalidChars===w.invalidChars)return this.charSpecs[w.validChars]=I,I}},put:function(w){var P;return(P=this.get(w))||(P=new u(w),this.nextStates.push(P),w.repeat&&P.nextStates.push(P)),P},match:function(w){for(var N,I,O,P=this.nextStates,R=[],W=0;W<P.length;W++)typeof(O=(I=(N=P[W]).charSpec).validChars)<"u"?-1!==O.indexOf(w)&&R.push(N):typeof(O=I.invalidChars)<"u"&&-1===O.indexOf(w)&&R.push(N);return R}},D.prototype=(Object.create||function(w){function P(){}return P.prototype=w,new P})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var M=function(){this.rootState=new u,this.names={}};(M.prototype={add:function(w,P){for(var F,N=this.rootState,I="^",O={},R=new Array(w.length),W=[],U=!0,B=0;B<w.length;B++){var x=w[B],A=[],L=C(x.path,A,O);W=W.concat(L);for(var Y=0;Y<L.length;Y++){var z=L[Y];z instanceof S||(U=!1,N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),I+="/",N=z.eachChar(N),I+=z.regex())}R[B]={handler:x.handler,names:A}}U&&(N=N.put({invalidChars:void 0,repeat:!1,validChars:"/"}),I+="/"),N.handlers=R,N.regex=new RegExp(I+"$"),N.specificity=O,(F=P&&P.as)&&(this.names[F]={segments:W,handlers:R})},handlersFor:function(w){var P=this.names[w];if(!P)throw new Error("There is no route named "+w);for(var N=new Array(P.handlers.length),I=0;I<P.handlers.length;I++)N[I]=P.handlers[I];return N},hasRoute:function(w){return!!this.names[w]},generate:function(w,P){var N=this.names[w],I="";if(!N)throw new Error("There is no route named "+w);for(var O=N.segments,R=0;R<O.length;R++){var W=O[R];W instanceof S||(I+="/",I+=W.generate(P))}return"/"!==I.charAt(0)&&(I="/"+I),P&&P.queryParams&&(I+=this.generateQueryString(P.queryParams,N.handlers)),I},generateQueryString:function(w,P){var N=[],I=[];for(var O in w)w.hasOwnProperty(O)&&I.push(O);I.sort();for(var R=0;R<I.length;R++){var W=w[O=I[R]];if(null!=W){var F=encodeURIComponent(O);if(v(W))for(var U=0;U<W.length;U++){var B=O+"[]="+encodeURIComponent(W[U]);N.push(B)}else F+="="+encodeURIComponent(W),N.push(F)}}return 0===N.length?"":"?"+N.join("&")},parseQueryString:function(w){for(var P=w.split("&"),N={},I=0;I<P.length;I++){var U,O=P[I].split("="),R=T(O[0]),W=R.length,F=!1;1===O.length?U="true":(W>2&&"[]"===R.slice(W-2)&&(F=!0,N[R=R.slice(0,W-2)]||(N[R]=[])),U=O[1]?T(O[1]):""),F?N[R].push(U):N[R]=U}return N},recognize:function(w){var N,I,R,P=[this.rootState],W={},F=!1;if(-1!==(R=w.indexOf("?"))){var U=w.substr(R+1,w.length);w=w.substr(0,R),W=this.parseQueryString(U)}for("/"!==(w=decodeURI(w)).charAt(0)&&(w="/"+w),(N=w.length)>1&&"/"===w.charAt(N-1)&&(w=w.substr(0,N-1),F=!0),I=0;I<w.length&&(P=c(P,w.charAt(I))).length;I++);var B=[];for(I=0;I<P.length;I++)P[I].handlers&&B.push(P[I]);P=function(w){return w.sort(function(P,N){return N.specificity.val-P.specificity.val})}(B);var x=B[0];if(x&&x.handlers)return F&&"(.+)$"===x.regex.source.slice(-5)&&(w+="/"),function(w,P,N){var I=w.handlers,R=P.match(w.regex),W=1,F=new D(N);F.length=I.length;for(var U=0;U<I.length;U++){for(var B=I[U],x=B.names,A={},L=0;L<x.length;L++)A[x[L]]=R[W++];F[U]={handler:B.handler,params:A,isDynamic:!!x.length}}return F}(x,w,W)}}).map=function(w,P){var N=new l;w(g("",N,this.delegate)),d([],N,function(I){P?P(this,I):this.add(I)},this)},M.VERSION="0.1.11";var V=M;r(3).amd?void 0!==(i=function(){return V}.call(e,r,e,a))&&(a.exports=i):typeof a<"u"&&a.exports?a.exports=V:typeof this<"u"&&(this.RouteRecognizer=V)}).call(this)}).call(e,r(2)(j))},function(j,e){j.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children=[],r.webpackPolyfill=1),r}},function(j,e){j.exports=function(){throw new Error("define cannot be used indirect")}}])},743079:function(me){var j;self,me.exports=(j={},(()=>{var e=j;Object.defineProperty(e,"__esModule",{value:!0}),e.WindowPostMessageProxy=void 0;var r=function(){function i(a){void 0===a&&(a={processTrackingProperties:{addTrackingProperties:i.defaultAddTrackingProperties,getTrackingProperties:i.defaultGetTrackingProperties},isErrorMessage:i.defaultIsErrorMessage,receiveWindow:window,name:i.createRandomString()});var t=this;this.pendingRequestPromises={},this.addTrackingProperties=a.processTrackingProperties&&a.processTrackingProperties.addTrackingProperties||i.defaultAddTrackingProperties,this.getTrackingProperties=a.processTrackingProperties&&a.processTrackingProperties.getTrackingProperties||i.defaultGetTrackingProperties,this.isErrorMessage=a.isErrorMessage||i.defaultIsErrorMessage,this.receiveWindow=a.receiveWindow||window,this.name=a.name||i.createRandomString(),this.logMessages=a.logMessages||!1,this.eventSourceOverrideWindow=a.eventSourceOverrideWindow,this.suppressWarnings=a.suppressWarnings||!1,this.receivedMessageValidation=a.receivedMessageValidation,this.handlers=[],this.windowMessageHandler=function(l){return t.onMessageReceived(l)},this.start()}return i.defaultAddTrackingProperties=function(a,t){return a[i.messagePropertyName]=t,a},i.defaultGetTrackingProperties=function(a){return a[i.messagePropertyName]},i.defaultIsErrorMessage=function(a){return!!a.error},i.createDeferred=function(){var a={resolve:null,reject:null,promise:null},t=new Promise(function(l,g){a.resolve=l,a.reject=g});return a.promise=t,a},i.createRandomString=function(){var a=window.crypto||window.msCrypto,t=new Uint32Array(1);return a.getRandomValues(t),t[0].toString(36).substring(1)},i.prototype.addHandler=function(a){this.handlers.push(a)},i.prototype.removeHandler=function(a){var t=this.handlers.indexOf(a);if(-1===t)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(t,1)},i.prototype.start=function(){var a=this;this.receiveWindow.addEventListener("message",function(t){a.isReceivedMessageValid(t)&&a.windowMessageHandler(t)})},i.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},i.prototype.postMessage=function(a,t){var l={id:i.createRandomString()};this.addTrackingProperties(t,l),a.postMessage(t,"*");var g=i.createDeferred();return this.pendingRequestPromises[l.id]=g,g.promise},i.prototype.sendResponse=function(a,t,l){this.addTrackingProperties(t,l),a.postMessage(t,"*")},i.prototype.isReceivedMessageValid=function(a){if(this.receivedMessageValidation){var t=this.receivedMessageValidation.expectedMessageSource,l=this.receivedMessageValidation.expectedMessageOrigin;if(t&&a.source!==t)return!1;if(l&&a.origin!==l)return!1}return!0},i.prototype.onMessageReceived=function(a){var t=this,l=this.eventSourceOverrideWindow||a.source;if(l){var n,d,g=a.data;if("object"!=typeof g)return;try{n=this.getTrackingProperties(g)}catch(o){}if(n&&(d=this.pendingRequestPromises[n.id]),d){var h=!0;try{h=this.isErrorMessage(g)}catch(o){}h?d.reject(g):d.resolve(g),delete this.pendingRequestPromises[n.id]}else this.handlers.some(function(o){var v=!1;try{v=o.test(g)}catch(p){}if(v){var m=void 0;try{m=Promise.resolve(o.handle(g))}catch(p){m=Promise.resolve()}return m.then(function(p){p||(p={warning:"Handler for message: ".concat(JSON.stringify(g,null,"  ")," did not return a response message. The default response message will be returned instead.")}),t.sendResponse(l,p,n)}),!0}})}},i.messagePropertyName="windowPostMessageProxy",i}();e.WindowPostMessageProxy=r})(),j)},948793:function(me,j,e){e.d(j,{G:function(){return r}});class r{constructor(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.azureMapsEnabled=null,this.azureMapsCrossRegionDataProcessingEnabled=null,this.azureMapsThirdPartyDataProcessingEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.RestrictAccessListsToGroupsSupport=null,this.allowCVLocalStorageV2TenantSwitch=null,this.disablePromotionalBanner=null,this.immersiveTenantAdminSwitchEnabled=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.slowDataSourceModeEnabled=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiplesAuthoring=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.enterDataFooter=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.cesNewUserDayZeroIntent=null,this.cesTest=null,this.smallMultiplesConditionalFormatting=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.closeSupportTicketOrSendMessage=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.supportCenterEditTicket=null,this.supportCenterDemoMode=null,this.supportTicketFilters=null,this.SharedToMSaaS=null,this.SharedToMSaaSGetPeripheralTickets=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.oneLakeFabricCapacityBanner=null,this.azureMapsBubbleCluster=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.matrixLayouts=null,this.ASVirtualConnectionForFabricTDS=null,this.assistedDateTable=null,this.qnaFuzzyMatch=null,this.ASDirectLakeOnOneLake=null,this.ASOneLakeDatasourceManagement=null,this.copilotErrorChatItem=null,this.notebookResourceIdFromPayload=null,this.forceEnhancedTooltips=null,this.cardVisualCFSelector=null,this.bingGeocoderIndexedDB=null,this.freeUserAccessPremiumWorkspace=null,this.restrictFreeUsersActions=null,this.notebookPrefetchAzNB=null,this.copilotPanePreviewLink=null,this.visualBorderWidth=null,this.interactivityServiceCaching=null,this.navigatorAccentBar=null,this.azureMapsCustomFormattingReferenceLayer=null,this.azureMapsCsvSupport=null,this.azureMapsDynamicReferenceLayer=null,this.cardVisualSmallMultiples=null,this.dataBoundAddingQueryExprs=null,this.visualLevelFormatStringAuthoring=null,this.visualLevelFormatStringConsumption=null,this.warehouseCapacityBanner=null,this.notebookChartEnhancement=null,this.visualLevelFormatStringFullSupport=null,this.enableVisualCalcWithFieldParameter=null,this.enableVisualCalculationDaxTemplateMenu=null,this.useTabularLayoutForVisualCalcVisualMatrix=null,this.lineChartMarkerRendering=null,this.newMarkerProperties=null,this.advancedSlicerTypeList=null,this.AllowCopilotUserCapacity=null,this.azureMapsDataBoundReferenceLayer=null,this.dataQuestionPromptSuggestions=null,this.monacoPlaceholderWidget=null,this.textSlicer=null,this.azureMapsPathLayer=null,this.conditionalFormattingVisualCalculation=null,this.visualCalcColumnHighlight=null,this.visualLevelFormatStringExportToExcel=null,this.visualLevelFormatStringUseVBA=null,this.azureMapsPathLayerVisualCalculation=null,this.semanticModelVersioningSoP=null,this.visualThemeStylePresets=null,this.ReferenceLineShadeRegion=null,this.workspaceEncryption=null,this.workspaceEncryptionDemoMode=null,this.CMKForFabric=null,this.dataQuestionTextualAnswer=null,this.forceColorSchemeForIFrames=null,this.setTelemetryNameColumnWithEventName=null,this.azureMapsAutoZoomIncludesReferenceLayer=null,this.fieldParameterSort=null,this.enableVisualShapeComparisonInDataExplore=null,this.visualCalcInlineSelection=null,this.enforceImmersiveTenantAdminSwitch=null,this.orgThemes=null,this.webThemesGallery=null,this.enableGen2DataflowsGetLatestPublishHistoryEntry=null,this.enableGen2DataflowsDocumentStagingDefinition=null,this.enableGen2SaveAs=null,this.enableFabricDataflowsNewPublishAndRefreshAPIs=null,this.enableFabricDataflowCreationChoiceByDefault=null,this.enableParametricDataflowSupport=null,this.enableOpenGen2FabricDataflowAsNonOwner=null,this.DisableRetrievalOfGen2DataflowPublishedVersionOnSpecificFailuresToRetrieveDraft=null,this.enableGen2DataflowsStartFlowV2=null,this.enableGen2DataflowsLocalization=null,this.enableFabricDataflowsParallelApiInvocations=null,this.textSlicerMultiselect=null,this.enableGen2DataflowsCachingTokenProvider=null,this.preloadGen2Dataflows=null,this.updateDataflowsFrontendApiToUseObjectId=null,this.a11yShowAsMatrix=null,this.enableNewGetPowerQueryHostUrlApi=null,this.QnAMultiInstanceFiltering=null,this.QnaOverOlsModels=null,this.qnaNLToDaxFallback=null,this.qnaNLToDaxFallbackOverride=null,this.qnaNLToDaxForReportInReadMode=null,this.qnaNLToDaxExpandDialog=null,this.qnaNLToDaxNavigateWithQuery=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.fieldParametersCV=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.storytellingTitleSuggestion=null,this.storytellingRefreshNotification=null,this.storytellingNewExportDialog=null,this.storytellingRedeemOrgLink=null,this.storytellingUsePrintSectionReadyEvent=null,this.teamsPersonalAppSideNav=null,this.showMatDialogConfirmation=null,this.showCopilotInPersonalAppNavbar=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.tridentGitForkBranch=null,this.tridentGitRelatedNavigation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.useTridentErrorDialog=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.dataflowsPauseConsecutivlyFailingDataflowRefreshes=null,this.logDataflowGen2MenuItemInformation=null,this.logDataflowsDebugInfo=null,this.dataQuestionUseDataModelDescription=null,this.dataQuestionUseCustomInstructions=null,this.disableRetrievalOfGen2DataflowPublishedVersionOnFailureToRetrieveDraft=null,this.enableGen2DataflowsSaveIndicator=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCopilotInFabricDataflows=null,this.enableCopilotStatusPaneInFabricDataflows=null,this.enableFabricDataflowsCheckValidationStatus=null,this.enableDataflowGen2CreationProgress=null,this.enableFastCopyByDefault=null,this.enableGen2EndpointsForDataflows=null,this.enableGen2LegacyDataflowsSaveAs=null,this.enableGen1DataflowsSaveAs=null,this.enableDataflowArtifactStatusBar=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableSharedNewGen2DataflowDialog=null,this.mobileSkipPreloadConceptualSchema=null,this.mobileNewDashboardConsumption=null,this.upsellDataflowGen2=null,this.enableMashupEditorBasedAuthoringForDataflows=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.getDataCSVConnector=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.delayGroupMetadataForQC=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.customCalendarsPreview=null,this.rlsSwitchReportEnabled=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.OneLakeUXS3Cache=null,this.OneLakeUXCacheRetentionPeriod=null,this.OneLakeUXResetCache=null,this.newManageRelationshipDialog=null,this.getDatasetInfoViaStore=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.ASFixedIdentityByDatasourceBindingState=null,this.allowDirectLakeDataValidation=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.deprecateAdminPortalUM=null,this.adminPortalUMPredeprecationLandingPage=null,this.adminPortalUMPostdeprecationLandingPage=null,this.adminPortalUMEmbeddedReport=null,this.umv2DeprecationBanner=null,this.showTASDeprecationBanner=null,this.tasDeprecated=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.disallowLongRunningQueries=null,this.supportLargeStorageModePbixDownload=null,this.immersiveCopilotOnArtifactEntryPoint=null,this.immersiveCopilotContextSelection=null,this.immersiveCopilotAISkill=null,this.immersiveCopilotReportContentSkill=null,this.immersiveCopilotReportContentAnnotations=null,this.immersiveCopilotReportContentInlineVisuals=null,this.immersiveCopilotAnnotationEntitiesInChat=null,this.immersiveCopilotAnnotationEntitiesInChatInput=null,this.immersiveCopilotSkillPrioritization=null,this.immersiveCopilotAISkillThreads=null,this.immersiveCopilotEnhancedCitations=null,this.immersiveCopilotAppsIntegration=null,this.immersiveCopilotFeatureSwitchConfig=null,this.immersiveCopilotM3Prompting=null,this.immersiveM365HandoffTesting=null,this.SkipCopilotCapacitySkuRequirements=null,this.usePrerenderChatItemExtension=null,this.trialCapacityFAQ=null,this.unifiedHomepageM1=null,this.embedGetIncludeExcludeMultiTargetsFilter=null,this.DetermineIsCloudMonikerDatasourceByOnPremGatewayRequired=null,this.getAvailableGatewaysV2=null,this.rlsExternalReportImpersonationEnabled=null,this.tridentGitGitHubApis=null,this.tridentGitAdoCrossTenant=null,this.tridentGitSubfolders=null,this.fabricGitStatusAsync=null,this.downloadPbixAsync=null,this.DirectLakeAutoSyncNotificationUI=null,this.visualCalculationOnComboChart=null,this.newArcSelectionAPI=null,this.irisMessageBar=null,this.getIrisNotificationWithClusterCountryCode=null,this.upgradeLegacyReportToPBIR=null,this.valueFilterBehavior=null,this.tourOnReport=null,this.refreshUserServicePlan=null,this.workloadAnnouncement=null,this.FabricLicensingRulesets=null,this.copilotFrameworkAnnotations=null,this.setAccessTokenThrottling=null,this.azureMapsDefaultOn=null,this.cardVisualSmallMultiplesUpdate=null,this.azureMapsEnsureScreenshotInService=null,this.showTrialDaysLeftInAdminPortal=null,this.supportTrialSizeUpgradeInAdminPortal=null,this.trialCapacityNameEditable=null,this.conflictHandleDialog=null,this.appCopilotQnaFallback=null,this.NotebookCopilotV2UI=null,this.UseVerifiedAnswersWithLlmParser=null,this.azureMapsCustomMarkers=null,this.DataAgentEnableDataSourceInstructions=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFreeLicenseAllowances=null,this.createArtifactPanel_variantA=null,this.createArtifactPanel_variantB=null,this.migrationPanel=null,this.migrationEntrySample=null,this.tridentMultitasking=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFabricDataflows=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentMultitaskingCosmosDbNative=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductGraph=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedOracledb=null,this.MountedGoogleBigQuerydb=null,this.MountedAzureSQLdb=null,this.MountedGenericDB=null,this.MirroredSapCdc=null,this.MountedPostgreSqlFlexibleServer=null,this.MountedAzureSQLManagedInstance=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.enableGen2DataflowsIncrementalRefresh=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.useOnlyEditFlowsForGen2Dataflows=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXAzureBlobsShortcut=null,this.oneLakeUXS3CompatibleShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXS3CompatibleStoredCredentials=null,this.oneLakeUXAzureBlobsStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.oneLakeUXDatabricksShortcut=null,this.oneSecurityPublicUXContract=null,this.SchemaSupportForArtifactInUsec=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.oneLakeUXShowUnityCatalogInBrowse=null,this.oneLakeUXShowSqlDbNativeInBrowse=null,this.oneLakeUXAzureBlobBrowseAtAccountLevel=null,this.oneLakeUXPQGatewaySettingsForADLS=null,this.oneLakeUXPQGatewaySettingsForDataverse=null,this.oneLakeUXPQGatewaySettingsForGCP=null,this.oneLakeUXPQGatewaySettingsForS3=null,this.oneLakeUXPQGatewaySettingsForAzureBlobs=null,this.onelakeUXPQADLSExistingConnections=null,this.onelakeUXPQS3ExistingConnections=null,this.onelakeUXPQGCPExistingConnections=null,this.onelakeUXPQS3CompatibleExistingConnections=null,this.onelakeUXPQAzureBlobsExistingConnections=null,this.onelakeUXPQDataverseExistingConnections=null,this.oneLakeUXReplaceTridentDomain=null,this.onelakeOrphanedConnections=null,this.onelakeShortcutEnableCache=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingCustomRequestAccess=null,this.storytellingResetDialog=null,this.storytellingChangeViewModeShortcuts=null,this.storytellingMsaDialog=null,this.appArtifactLevelSecurity=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.onObjectTemplateFlyout=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewNav=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexEditPowerAutomateAction=null,this.reflexICMAction=null,this.reflexFabricJobAction=null,this.reflexFabricItemsReauth=null,this.reflexEnrichmentComponent=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBICoachMark=null,this.reflexPBIMultiDimension=null,this.reflexPBITextMeasure=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIButtonExp_variantA=null,this.reflexPBIButtonExp_variantB=null,this.reflexPBIButtonExp_variantC=null,this.reflexPBIButtonExp_variantD=null,this.reflexPBIButtonExp_variantE=null,this.reflexPBIButtonExp_variantF=null,this.reflexPBIPaneExpOn=null,this.reflexPBIRecipientsInputEnabled=null,this.reflexPBIRecipientsInputExp=null,this.reflexPBIVisualContextEntry=null,this.reflexPBIVisualToolbarEntry=null,this.reflexPBIAlertCreatedSurvey=null,this.reflexPBIAlertDiscardSurvey=null,this.reflexPBIAlwaysShowSurveys=null,this.reflexPBIArtifact=null,this.reflexPBIArtifactV2=null,this.reflexPBIHideArtifactV1=null,this.reflexPBIOneClick=null,this.reflexPBIFollowVisual=null,this.reflexPBIFabricTrial=null,this.reflexPBIDashboardEntry=null,this.reflexPBIGA=null,this.reflexPBISubscriptionsEntry=null,this.reflexPBISurveyExposureHighIncrease=null,this.reflexPBISurveyExposureLowIncrease=null,this.reflexPBIOneClickFabricTrial=null,this.reflexPBIRefreshTokenV2=null,this.reflexPBIV2=null,this.reflexPBIDelayArtifactCreation=null,this.reflexPBIDelayTrialArtifactCreation=null,this.reflexPBIReuseTrialCapacity=null,this.reflexGetEventsWizard=null,this.reflexAnomalyDetection=null,this.reflexAnomalyDetectionV2=null,this.reflexTriggerPane=null,this.reflexFirstRunExperience=null,this.reflexMultiConditionEventTrigger=null,this.reflexReauth=null,this.reflexAutoTrialSignupV2=null,this.reflexPBINewCertifiedEvents=null,this.reflexOnrampContainersReadonly=null,this.reflexTrialTermsAndConditions=null,this.reflexPBIAdvancedAlertsReadOnly=null,this.reflexPBILightWeightArtifactCreation=null,this.reflexAdvancedPbiOnrampAlerts=null,this.reflexAdvancedNonPbiOnrampAlerts=null,this.reflexManageSourceRunQueryEvery=null,this.reflexRtpOneMinuteCronFrequency=null,this.reflexSimpleRuleCreation=null,this.reflexTeamsChatAction=null,this.reflexTeamsChannelAction=null,this.rtpPupr=null,this.rtpEventstreamPush=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentAznbAutosaveFallback=null,this.tridentNotebookContentSaveMonitor=null,this.tridentNotebookSaveGuarantee=null,this.tridentNotebookMetadataUpdate=null,this.tridentNotebookCommentTagAccessCheck=null,this.tridentNotebookNormalizedSessionState=null,this.tridentNotebookLiveVersioning=null,this.tridentNotebookContentSizeMonitor=null,this.tridentNotebookLanguageGroupSwitchCheck=null,this.tridentNotebookSaveLeaderReEvaluation=null,this.tridentSparkAutotuneInMetrics=null,this.tridentSparkMetrics=null,this.tridentSparkCompareRun=null,this.tridentTSQLNotebook=null,this.tridentJupyterNotebook=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.modelingNotebookCleanUp=null,this.tsqlInPythonNotebook=null,this.tridentNotebookFullSizeModeOnCell=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.tridentOneLakeSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.mobileVcObjectsProxySelectPopOut=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentFeedbackPane=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.workspaceIdentityDisableCapacityCheck=null,this.fabricIdentitiesTable=null,this.fabricIdentitiesDemoMode=null,this.FabricIdentitySharing=null,this.fabricIdentitiesUserAssignedTable=null,this.workspacePrivateEndpoints=null,this.privateEndpointsDemoMode=null,this.RestrictOutBoundPEFromF64=null,this.schemaReduction=null,this.workspacePillFilter=null,this.crossSubfolderFilter=null,this.rdlParamAuthoring=null,this.useLayoutEditor=null,this.parameterControlsUpdate=null,this.artifactCloudConnections=null,this.tridentEnvironmentBuiltInLibrary=null,this.tridentEnvironmentGetLMLibsFromPlatform=null,this.tridentMonitoringArtifactMonitoringApi=null,this.tridentEnvironmentPrivateCondaChannel=null,this.tridentEnvironmentRefreshTokenBeforePublish=null,this.tridentEnvironmentExternalRepositories=null,this.tridentEnvironmentLMNewSnapshotApiSupport=null,this.fabricSparkMonitoringCtid=null,this.tridentMultitaskingGraph=null,this.enableOrgAppExplorationV2=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.almFolderContributorDeployments=null,this.increaseOrgAppAudiences=null,this.orgAppDeprecation=null,this.editConnectionFlow=null,this.visualDatapointAnnotations=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.redirectDatamartToDatawarehouse=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.datahubLastAccessColumn=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.thirdPartyArtifactsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.hostDetailsRequired_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.appMetadataSlimEffects_HEAD_DataHub_Embed_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.deprecateDataOwners_HEAD_PurviewHub_FE=null,this.deprecate_HEAD_ProtectionMetrics_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.main_HEAD_CrossTenantDataSharing_Read_FE=null,this.main_HEAD_CrossTenantDataSharing_SupportMultiPath_FE=null,this.acceptReviewPage_HEAD_ExternalDataShare_FE=null,this.showGA_HEAD_CrossTenantDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.leftNavPipelineButtonUnpinned=null,this.leftNavBrowseButtonUnpinned=null,this.leftNavCreateButtonUnpinned=null,this.leftNavMoveUpWorkspace=null,this.splitLeftNav=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.blockNoWorkspaceAdminInsights=null,this.useModernMashupEditor=null,this.forceDownloadPbix=null,this.main_HEAD_endorsementMasterData_FE=null,this.VisualQueryCustomTimeout=null,this.debugReportAuthoring=null,this.immersiveCopilotAnswerProductQuestionsSkill=null,this.showOneLakeManageSecurityForDatabricksCatalog=null,this.activateMinimePlayground=null,this.emitOrchestratorExceptionMessage=null,this.noSpinnerStateLogging=null,this.verifiedAnswers=null,this.verifiedAnswersCustomVisuals=null,this.copilotModelInstructions=null,this.copilotRefineData=null,this.copilotUnifiedTooling=null,this.copilotUnifiedToolingService=null,this.donutChartBorderFillTransparency=null,this.sqlDbNativeDesktopOneLakeCatalog=null,this.disableReportCreatePageSkill=null,this.disableReportSuggestTopicsSkill=null,this.disableReportContentSkill=null,this.disableReportDatasetSummarySkill=null,this.disableReportDataQuestionSkill=null,this.disableReportModifyFiltersSkill=null,this.allowDisablingReportBackendSkills=null,this.enhancedReportFormat=null,this.copyObjectNamesReportSetting=null,this.fileFormatInFlight=null,this.forceMinervaSchemaValidation=null,this.pbirUpgradeBackgroundValidation=null,this.automaticallyUsePBIR=null,this.pbir_report_2_0_0=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCreatePage=null,this.dataExploreRibbon=null,this.dataExploreGrantModelPermission=null,this.dataExploreVisualEP=null,this.dataExploreLeftDataPane=null,this.dataExploreCopilotPane=null,this.DataExploreViewPermission=null,this.HideDataExploreViewPermissionCheckbox=null,this.DataExplorationAdminConfig=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.newWorkloadHubPage=null,this.workloadsWithMarketplace=null,this.showWorkloadHubWithEmptyMarketplace=null,this.sqlDbNative_QueryAutoCompletion=null,this.tridentSemanticModelSettings=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.newMobileDownloadQRDialog=null,this.mobileFiltersWithoutFooterCalc=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmhDeleteCapability=null,this.EnforceDMHWorkloadProvisioning=null,this.EnforceDMHWorkloadPrivateLinkSupport=null,this.EnforceDMHTipsIntegration=null,this.dmhShowImagingCapability=null,this.hdsEnforceWorkloadLroApi=null,this.hdsEnforceReservedNamesApi=null,this.hdsEnforceCapacityRegionCheck=null,this.hdsShowImagingSampleData=null,this.hdsEnforceLifecycleManagement=null,this.hdsEnforceLifecycleManagementUpdates=null,this.hdsHideSeleniumChanges=null,this.dmhShowSdohCapability=null,this.hdsShowClaimsCapability=null,this.hdsShowCareManagementAnalyticsCapability=null,this.dmhShowPatientOutreachAnalyticsCapability=null,this.hdsShowDaxConversationalDataCapability=null,this.hdsAiEnrichmentsCapability=null,this.hdsShowDaxTranscriptionIntegrationCapability=null,this.dmhShowHealthcareDataExplorerCapability=null,this.dmhHealthcareDataExplorerAllowCustomLakehouse=null,this.dmrPreloadExtension=null,this.dmsPreloadExtension=null,this.enableM365CapabilityInSustainabilitySolutions=null,this.enableServiceBasedCapabilityProvisioningInESGLake=null,this.enableCapabilityUpgradeInESGLake=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.lhTableNameWithSpace=null,this.lhTableNameSpecial=null,this.lhVerboseLogging=null,this.lhPreloadChildFolder=null,this.lhDbtIntegration=null,this.lhSchemaSupport=null,this.lhSchemaCheckbox=null,this.lhSchemaDataflows=null,this.lhSchemaEventstream=null,this.lhSchemaOneLakeSecurity=null,this.lhManageShortcuts=null,this.OnelakeUXShortcutVariable=null,this.lhDataArtifact=null,this.lhParquetPreviewSupport=null,this.lhArrowPreviewSupport=null,this.lhAutomaticRouting=null,this.lhVirtualized=null,this.lhMaterializedView=null,this.lhOLCTablePreview=null,this.lhOLCTablePreviewRamp=null,this.lhSearchFilterSort=null,this.lhDownloadFiles=null,this.lhDepRestrictions=null,this.lhSchemaAwareListTables=null,this.lhShortcutVariableUpdate=null,this.DmsAllowNullDefaultDataset=null,this.consistentLakehouseCreation=null,this.sparkUpgradeToFabric=null,this.sqlDbNative_PerformanceDashboard=null,this.sqlDbNative_PerformanceDashboard_PuPr=null,this.sqlDbNative_CopilotSidecar=null,this.sqlDbNative_AutoIndexing=null,this.sqlDbNative_FavoriteQuery=null,this.sqlDbNative_LeadBlockers=null,this.sqlDbNative_PerformanceAlerts=null,this.sqlDbNative_PerformanceFeedback=null,this.sqlDbNative_SqlSecurityUI=null,this.sqlDbNative_LinkMonitorDashboard=null,this.sqlDBNative_PITR=null,this.sqlDbNative_LinkMonitorLoadUnsupportedTables=null,this.sqlDbNative_shortcuts=null,this.sqlDbNative_Dataflows=null,this.sqlDbNative_Datapipeline=null,this.sqlDbNative_GraphQL=null,this.sqlDbNative_ListArtifactsInWorkspace=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.metricsHub=null,this.metricsHubUseMetricList=null,this.enableMetricSetEnabled=null,this.tridentAlm_MetricSet=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.taskflowRecommendationForPBIWorkspace=null,this.unifyTaskflowAndListView=null,this.orgAppV2Copilot=null,this.odspSaveBackgroundUpload=null,this.backendNotificationMsgBar=null,this.alwaysShowTutorial=null,this.orgLinksDCR=null,this.useMetricsHubMetricV2APIs=null,this.reportSerializationSizeCountTelemetry=null,this.multipleVisualsForMetric=null,this.metricPreviewSummaries=null,this.WorkspaceLevelPrivateLinksInFabric=null,this.metricDisablePreferTimeseries=null,this.EnforceDMRWorkloadPrivateLinkSupport=null,this.EnableDMRWorkloadPrivateLinkSupport=null,this.pipelineTemplateDownload=null,this.redeemOrgLinkDCR=null,this.refreshSemanticModelByPipeline=null,this.reportOrgLinksCanOnlyHaveReadPermissions=null,this.OnelakeUXCatalogSecure=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.deferExplorationStateCapture=null,this.artifactCloudConnectionsDemoMode=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.PersistingRemoteDiagramLayouts=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.enableWebModelingOnByDefaultForPremiumWS=null,this.enableWebModelingOnByDefaultForProWS=null,this.WebModelingSharedAuthoring=null,this.WebModelingAllowXmlaModifiedModels=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domainDelegatedSettings=null,this.domainDelegatedSettingsNewUI_HEAD_FE=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.excludeDomainSearch_HEAD_mesh_FE=null,this.domainsForL2_HEAD_DataDomain=null,this.domainsForFlyout_HEAD_DataDomain=null,this.filtersWorkspacesByDomains_HEAD_mesh_FE=null,this.domainLocationColumnInSearchTable_HEAD_mesh_FE=null,this.recommendedWorkspaces_HEAD_DataDomain_FE=null,this.defaultSubdomainSetting_HEAD_FE=null,this.subdomainContributorsSetting_HEAD_Domains_FE=null,this.separateContributorsAndContributorsScope_HEAD_Domains_FE=null,this.domainTagsMain_HEAD_mesh_FE=null,this.domainTagsAdmin_HEAD_mesh_FE=null,this.domainTagsAssign_HEAD_mesh_FE=null,this.domainTagsConsume_HEAD_mesh_FE=null,this.newImagesMigration_HEAD_Domains_FE=null,this.newImagesPopupNotification_HEAD_Domains_FE=null,this.taggingMain_HEAD_tagging_FE=null,this.taggingNewBadge_HEAD_tagging_FE=null,this.taggingTagDetails_HEAD_tagging_FE=null,this.appliedTags_HEAD_tagging_FE=null,this.navigateToDatasetDetails=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.immersiveCopilotReportContentQuestion=null,this.immersiveNL2DAXUIUpdates=null,this.WorkspaceOutboundRestriction=null,this.workspaceOutboundRestrictionDemoMode=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.fabricRestrictAccess_HEAD_DLP_FE=null,this.restrictAccessOverrideAction_HEAD_DLP_FE=null,this.fabricRestrictAccessOverrideAction_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifact_HEAD_DLP_FE=null,this.dlpPolicyTipFlyout_HEAD_DLP_FE=null,this.dlpPolicyTipTridentArtifactOverride_HEAD_DLP_FE=null,this.hoverCardRelatedContent_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.workspaceLineageView_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.upstreamV3_HEAD_RelationsPlatform_FE=null,this.downstreamV3_HEAD_RelationsPlatform_FE=null,this.datahubL2RelationsDiagram_HEAD_lineage_FE=null,this.relationsDiagramDialog_HEAD_lineage_FE=null,this.oneLakeDataOwnerTab_HEAD_Governance_FE=null,this.metadataEndpoints_HEAD_Governance_FE=null,this.actionsVisual_HEAD_Governance_FE=null,this.newVisualsForInsights_HEAD_Governance_FE=null,this.doaminFilterActions_HEAD_governance_FE=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.SchemaPickerLHSqlEndpointEditTables=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.modernOfficeFilePicker=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.hardBlockServiceClient=null,this.preloadDES=null,this.preloadV2=null,this.preventPreloadOnOpenArtifact=null,this.parallelLoadingEXA=null,this.parallelLoadingLHE=null,this.parallelLoadingDPE=null,this.parallelLoadingDES=null,this.parallelLoadingDFW=null,this.parallelLoadingFabricExtension=null,this.parallelLoadingWHS=null,this.parallelLoadingSQL=null,this.handleCreateArtifactAction=null,this.preloadWHS=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.exportToExcelAndCSVDelegationClient=null,this.showSQLDatabasesDefaultCheckbox=null,this.disableDownloadFallback=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithSharedTrial=null,this.createArtifactWithInformPreviewSwitchOff=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.createWorkspaceAfterTrialLicenseAcquired=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.fabricConferencePromotionSwitch=null,this.fabric2024EuropeConfMsgBar=null,this.fabric2024EuropeConfMsgBarSkipCheckWFE=null,this.fabric2024AmericaConfMsgBar=null,this.fabric2024AmericaConfMsgBarSkipCheckWFE=null,this.fabricConfMsgBar=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.dwFeedback=null,this.dwOpenInApp=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4o=null,this.aiNarrativesGPT4o_v2=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT4Turbo=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.aiNarrativesPreferLowDataVolume=null,this.aiNarrativesUseCurrentLocale=null,this.copilotReportContentSkipPartialResults=null,this.copilotReportContentCitationSyntaxV3=null,this.CopilotSummaryCustomInstructions=null,this.textboxCopilot=null,this.exploreCopilotChatHistoryEncoding=null,this.useCopilotSearch=null,this.capacitySparkAutoscale=null,this.capacitySparkAutoscaleRangeSupport=null,this.capacitySparkAutoscaleDemoMode=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.ASWritethruSupportAbfUI=null,this.ASContinuousExportByDefaultLargeModels=null,this.ShowReadPermModelOnOneLake=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.hideTrialRenewalButton=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_LicenseAutoassignmentFailedHandling_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_DatabricksCatalog=null,this.tridentAlm_DataflowFabric=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.tridentAlm_Environment=null,this.tridentAlm_OrgApp=null,this.tridentAlm_KustoDashboard=null,this.tridentAlm_KustoQueryWorkbench=null,this.tridentAlm_ReflexProject=null,this.tridentAlm_Variables=null,this.tridentAlm_RetailDataManager=null,this.tridentAlm_GraphQL=null,this.tridentAlm_GraphIndex=null,this.tridentAlm_FunctionSet=null,this.tridentAlm_KustoEventHouse=null,this.tridentAlm_KustoDatabase=null,this.tridentAlm_CopyJob=null,this.tridentAlm_Warehouse=null,this.tridentAlm_SustainabilityDataManager=null,this.tridentAlm_HealthDataManager=null,this.tridentAlm_HLSCohort=null,this.tridentAlm_MountedRelationalDatabase=null,this.tridentAlm_EventStream=null,this.tridentAlm_MountedDataFactory=null,this.tridentAlm_ApacheAirflowProject=null,this.tridentAlm_ApacheAirflowJob=null,this.tridentAlm_DBTItem=null,this.tridentAlm_DigitalOperationsOperationalInsight=null,this.tridentAlm_DigitalOperationsAction=null,this.tridentAlm_DataAgent=null,this.tridentAlm_MLModel=null,this.tridentAlm_MLExperiment=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.tridentAlm_DigitalTwinBuilder=null,this.tridentAlm_DigitalTwinBuilderFlow=null,this.useExtensionsManifestsModule=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.parentChildWithRelationsStore_HEAD_Relations_FE=null,this.hiddenInWorkspace=null,this.daxQueryViewWeb=null,this.daxLinkSharingWeb=null,this.disableDaxNavigateWithQuery=null,this.dedsEnableAzNBProxy=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.sqlCompletionQuickActions=null,this.sqlCopilot=null,this.sqlEndpointCopilot=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotReportSummary=null,this.exploreCopilotReportSummaryWithVisualRanker=null,this.exploreCopilotReportQuestionSkill=null,this.exploreCopilotReportForecastSkill=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.extensionCDNESG=null,this.extensionCDNAPP=null,this.extensionCDNADX=null,this.extensionCDNDPE=null,this.extensionCDNSQL=null,this.extensionCDNWHS=null,this.extensionCDNGQL=null,this.extensionCDNFXS=null,this.extensionCDNDBC=null,this.extensionCDNRTH=null,this.extensionCDNWSV=null,this.rdsCapabilityFBT=null,this.rdsCapabilitySitecore=null,this.rdsCapabilityShopperCopilot=null,this.rdsTemplateCommerce=null,this.EnforceDMRCoreUILibrary=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.oneLakeUXS3CompatibleShortcutPublicText=null,this.oneLakeUXGCPShortcutPublicText=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.copilotLicensingNoneCapacityHandling=null,this.copilotPanePreview=null,this.copilotPatchInvalidConversation=null,this.copilotConversationRehydration=null,this.copilotReportSessionPersistence=null,this.copilotImmersiveSessionPersistence=null,this.copilotEntryButtonDiscoverability=null,this.copilotNewZeroPromptSupport=null,this.copilotNewZeroPromptExperimentA=null,this.copilotNewZeroPromptExperimentB=null,this.copilotNewZeroPromptExperimentC=null,this.F2CopilotCapacitySkuRequirements=null,this.reportCopilotPreviewPillGA=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.racConversationalPageCreation=null,this.pageCreationLegacyOnBEV2Web=null,this.racConversationalPageCreationDesktop=null,this.pageCreateNL2FOPL=null,this.copilotPaneV2=null,this.desktopCopilotPaneV2=null,this.copilotPaneV2Streaming=null,this.clientCopilotStatusFCCSupport=null,this.copilotPaneV2SingleToolExecution=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.copilotFeedbackDialog=null,this.copilotFeedbackCommentsModal=null,this.copilotDesktopFeedbackDialog=null,this.copilotDesktopFeedbackCommentsModal=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.OneLakeShortcutsManualPath=null,this.OneLakeDataverseBrowse=null,this.allowOnlySingleShortcutCreationInKQL=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.preloadDPE=null,this.REPDisableReplicationLimit=null,this.MetadataDiscoveryWithSchemas=null,this.REPEnableSchemaHierarchyInMountedRelationalDatabaseSink=null,this.REPEnableColumnMapping=null,this.REPEnablePQOClientForSnowflakeInOPDG=null,this.REPEnablePQOClientForAzureSqlInOPDG=null,this.REPEnablePQOClientForAzureSqlMIInOPDG=null,this.REPEnablePQOClientForSnowflakeInVNET=null,this.REPEnablePQOClientForAzureSqlInVNET=null,this.REPEnablePQOClientForAzureSqlMIInVNET=null,this.REPEnableSourceTableWithoutPkInAzureSql=null,this.REPEnableSourceTableWithoutPkInAzureSqlMi=null,this.REPEnablePQOClientForPostgresInVNET=null,this.REPEnablePQOClientForPostgresInOPDG=null,this.REPSnowflakeReplicateViews=null,this.OnPremRuntimeIntegration=null,this.SSISInFabric=null,this.EnableCopyJobEditFlow=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.generateModelItemDescriptionCopilotGPT4o=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.artifactWorkspaceVariables=null,this.itemReferenceSupport=null,this.tridentErrorFeedback=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.warehouseNewEditorSwitch=null,this.daxInlineCopilot=null,this.daxInlineCopilotQueryValidation=null,this.daxInlineCopilotGPT4o=null,this.daxInlineCopilotO3mini=null,this.daxInlineCopilotDisableGPT4oTokenLimits=null,this.EnableReportExtension=null,this.EnableModelingExtension=null,this.EnableDashboardExtension=null,this.EnableMetricSetExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.gitHubTenantSettingsEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.showMirroredDatabaseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.directLakeRemoteModeling=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.dataQuestionSkillV2=null,this.dataAndContentQuestionSkillIntegration=null,this.OneLakeUXShortcutBatchApi=null,this.allowOnlyMultiShortcutCreationInKQL=null,this.useCustomAPICreateShortcutURLInKQL=null,this.OnelakeUXWorkspaceOAP=null,this.enableAccelerationToggleInKQL=null,this.OneLakeBrowseWithStorageAudience=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null,this.FuncSetPythonSupport=null,this.FuncSetEventHub=null,this.KustoGenerateQuery=null,this.ArtifactKustoDashboard=null,this.KustoDashboardPermissionSegregation=null,this.trackLocalizationLoaderIssues=null,this.dedsNotebookResourceUsage=null,this.dedsSparkMonitoringL2DetailPanelSparkConf=null,this.dedsSparkMonitoringRunSeries=null,this.manualTrialInitiationExperiment=null,this.OpenAIMwcForML=null,this.labelEnhancementsM1=null,this.rowLevelSecurity=null,this.columnLevelSecurity=null,this.getWorkspaceFromSubscriptionInfo=null,this.artifactIdForCopilotCapability=null,this.enablePromptEncodingClientsForAIEndpoint=null,this.artifactIdForUsageMetadata=null,this.disableRelativePositionStrategy=null,this.desktopReportAuthoringCopilot=null,this.copilotWorkspacePicker=null,this.buttonSlicerTableLayout=null,this.fabricTrialExpirationExperience=null,this.enableGPT4ForDatasetSummary=null,this.enableGPT4ForSuggestTopicSkill=null,this.enableSuggestTopicCaching=null,this.autoAddDefaultDatasetDefaultValueUpdate=null,this.OneLakeADLSBrowse=null,this.OneLakeS3Browse=null,this.OneLakeGCPBrowse=null,this.OneLakeS3CompatibleBrowse=null,this.OneLakeAzureBlobsBrowse=null,this.feedbackInHelpPane=null,this.useCDKVirtualScroll=null,this.reportMessageBar=null,this.azureMapGeocodingRequireLocalCache=null,this.dedsNotebookPaneSide=null,this.oneRiverHubPage=null,this.eventSubscriptionUI=null,this.oneRiverPreloadRFX=null,this.oneRiverPreloadRTP=null,this.oneriverExtensionCorsUI=null,this.rthOneLakeEventsUI=null,this.rthConsumptionEventsUI=null,this.eventDefinitionUI=null,this.rthJobEventsUI=null,this.rthAdxShortcut=null,this.rthADXSerialization=null,this.rthExploreDataUI=null,this.rthCertifiedEventCapacityCheck=null,this.rthDataSourcesTab=null,this.rthEventHubDropdown=null,this.rthNewEmptyPageView=null,this.rthAutofillEventHubKey=null,this.rthEventHubKeysDropdown=null,this.rthRealTimeIntelligenceSample=null,this.rthPreloadExtension=null,this.rthReviewValidation=null,this.rthSAPHana=null,this.rthCapacityEventWhen=null,this.rthSerialization=null,this.rthSubArtifactTypesFilter=null,this.rthPublicWeather=null,this.rthPublicMQTT=null,this.rthKustoCDC=null,this.rthCDCSerialization=null,this.rthTrialSignUp=null,this.rthE2ESampleBicycle=null,this.rthConfluentSchema=null,this.rthKafkaSerialization=null,this.rthEventGridMQTT=null,this.rthSolacePubSub=null,this.rthGenerateDashboard=null,this.rthRemoveItemReadEvents=null,this.rthWorkspaceEventsReadPermission=null,this.rthNewErrorLog=null,this.rthPubSubGA=null,this.rthActivatorRules=null,this.rthAzureMonitor=null,this.rthDataverse=null,this.rthNonCDCSerialization=null,this.rthSubscriberStatus=null,this.useNewCommunitySearchService=null,this.autoMLDeprecateNewModels=null,this.SortByColumnDataQueryValidation=null,this.showGetDataInGraphql=null,this.GraphQL_showQueryMutationContextMenu=null,this.GraphQL_showMonitoringDashboard=null,this.GraphQL_FrontEndPerformanceStatusBar=null,this.GraphQL_SampleQuery=null,this.AINarrativesForceDV3=null,this.AINarrativesForceGPT4=null,this.AINarrativesForceGPT4_32k=null,this.AINarrativesForceGPT4Turbo=null,this.AINarrativesForceGPT4o=null,this.AINarrativesForceGPT4o_v2=null,this.AINarrativesForceGPT4o_v3=null,this.copilotSummaryEmbedApi=null,this.showGetDataInFuncSet=null,this.homeOnboardingModalPart2Experiment_variantA=null,this.homeOnboardingModalPart2Experiment_variantB=null,this.enableHorizontalScrollOnL1_HEAD_DataHub=null,this.EventstreamCodeGenUX=null,this.streamingDataflowQueryTestV2=null,this.artifactDataflowAddPermission=null,this.tridentStreamingGetDataPoC=null,this.enableEventstreamV2Entry=null,this.enableOneLakeSecurityDataAccess=null,this.dedsSparkMonitoringLogFilterNB=null,this.adjustCopyVisualViewportInLoadTile=null,this.ShortcutNameAllowSpace=null,this.ShortcutNameSpecialCharValidation=null,this.showThemeSwitcherInTitlebar=null,this.dataQuestionRewording=null,this.dataQuestionDesktopAndViewMode=null,this.dataQuestionWithLinguisticSchema=null,this.dataQuestion4o=null,this.DataQuestionRewordingScenario=null,this.dataQuestionRewordingCopilotScenario=null,this.dataQuestionDisableRuntimeImprovement=null,this.dataQuestionDiagnostics=null,this.dataQuestionLlmParserBypassCache=null,this.dataQuestionTrimPromptSchema=null,this.dataQuestionSchemaSeparateSkeletals=null,this.functionsHubEntry=null,this.subscriptionsCopilotSummary=null,this.OneLakeCSTApiEndpoint=null,this.enableEventstreamDerivedStreams=null,this.enableEventstreamDiscreteEvents=null,this.FuncSetUseUDFs=null,this.notebookUseNewAznbCDN=null,this.notebookInOrgApp=null,this.enableDesFrequentApiCallDetection=null,this.enableDesDeeperCallStack=null,this.unlimitedListColumnWidth=null,this.reportCopilotInEmbed=null,this.aiNarrativesInEmbed=null,this.datahubEmbedMain_HEAD_initialApisCaching_FE=null,this.enableEventstreamKafkaConnector=null,this.enableEventstreamMySQLConnector=null,this.hideKustoCreateStandaloneDB=null,this.kustoSetReflexAlert=null,this.showLakehouseTutorial=null,this.enableHCForPipe=null,this.allowVisualDebugSnapshot=null,this.inplaceRestore=null,this.enableCalculationHighlighting=null,this.notebookPylance=null,this.displayFabricFeedbackTenantSwitch=null,this.displayFabricPromotionTenantSwitch=null,this.dialogDirectToQuickCreateTabularModel=null,this.FuncSetEnableLakewarehouse=null,this.ExportToImageDelegatedSettings=null,this.ExportToMHTMLDelegatedSettings=null,this.ExportToPowerPointDelegatedSettings=null,this.ExportToWordDelegatedSettings=null,this.ExportToXMLDelegatedSettings=null,this.dedsEnvironmentFileSystem=null,this.visualTopN=null,this.artifactTakeOverInArtifactSetting=null,this.showLocationInArtifactSetting=null,this.enableCapacityDefinedPool=null,this.enableEventstreamCosmosDBConnector=null,this.enableEventstreamKafkaDataPreview=null,this.sqlDbNative_queryPersistence=null,this.enableCalculationScatterChartMap=null,this.SeeThruModelGitSync=null,this.queryArchivedJobs=null,this.preloadSqlDatabases=null,this.dedsNotebookPreConnectCompute=null,this.enableFabric13R2=null,this.meControlV2=null,this.enableKustoExploreData=null,this.disableBrowserDeprecationDialog=null,this.embedDialogsInvokeRefactor=null,this.attachReportToTaskflowAfterSave=null,this.monitoringHubL2PageForSemanticModel=null,this.onelakeCatalog_HEAD_Datahub_FE=null,this.onelakeCatalog_PermissionsTab_HEAD_Datahub_FE=null,this.onelakeCatalog_AllInsights_HEAD_Datahub_FE=null,this.renderSurveyViaSDK=null,this.enableEventStreamV1VNet=null,this.enableEventStreamCustomCode=null,this.moveImportNotebookToImport=null,this.copilotDownloadChatHistory=null,this.copilotCreateEvalFromChatHistory=null,this.tridentGraphDataTable=null,this.FuncSetEnableAzureSQLdb=null,this.OrgAppV3SaveAndSections=null,this.fabricTrialAcknowledgeExpiryExperience=null,this.OrgAppV3AllowRdl=null,this.OrgAppV3AllowNotebook=null,this.OrgAppV3AllowLlmPlugin=null,this.suggestTopicsRevised=null,this.azureMapsPreserveDrawingBufferForExport=null,this.enableEventstreamsV2TrafficPauseResume=null,this.enableParentChild_HEAD_DataHub_CompactView_FE=null,this.semanticModelVersioning=null,this.modelingViewOnlyMode=null,this.modelingNotebooks=null,this.copilotOrchestratorGPT4oSupport=null,this.fabricTrialEndMsgBarDismissible=null,this.filtersCopilotSkill=null,this.CopilotPreviewToggle=null,this.appBarResizingV2=null,this.enableEventstreamLakehouseSchema=null,this.FluentListColumnOption=null,this.backendCopilotOrchestrator=null,this.immersiveCopilotM1=null,this.immersiveCopilotV2=null,this.backendCopilotOrchestratorMobile=null,this.backendCopilotOrchestratorDesktop=null,this.backendCopilotOrchestratorDesktopSU11=null,this.copilotDesktopDebug=null,this.copilotCapabilityNoCapacityShortCircuit=null,this.copilotCapabilityAgentMetadataCheck=null,this.tablixRenderUpgrade=null,this.copilotCapabilityClientCaching=null,this.enableCopilotPromptDebug=null,this.fabricTrialInternalExpirationExperience=null,this.newLeadsUrl=null,this.dedsNotebookFileEditor=null,this.lastDayOfMonthSubscription=null,this.DownloadExplorationFileFormatV2=null,this.fabricTrialThirtyDaysRetentionExperience=null,this.fabricAddContributorForTrialExperience=null,this.fabricCancelTrialFromCapacitySettingsShowChangeImmediately=null,this.informSharedTrial=null,this.tryFabricTrialDialogV2=null,this.MirroredOneSecurity=null,this.directLakeOverOneLake=null,this.enableCapacitySurgeProtection=null,this.blockedAndMissionCriticalWorkspaces=null,this.blockedAndMissionCriticalWorkspacesMultipleUnblockRules=null,this.blockedAndMissionCriticalWorkspacesDemoMode=null,this.enableJobAdmission=null,this.showJMTimeoutSettings=null,this.alchemySearch=null,this.AlchemyInsights=null,this.enablePageCreationVisualValidation=null,this.racPageCreationPoseidonSupport=null,this.racCardsCreationPoseidonSupport=null,this.racSuggestPoseidonSupport=null,this.LegacyIndirectAccessSource=null,this.enableExportToDataWithVisualCalculations=null,this.FuncSet_EnableAsyncDeployCode=null,this.azureMapsPublishToWeb=null,this.enableCopilotInGraphql=null,this.mobileCopilot=null,this.mobileHomeCopilot=null,this.preloadConceptualSchema=null,this.mobilePinchToZoomSmallLandscape=null,this.emitVisualReadyByDetailVisual=null,this.decoupleTimeZoneAndScheduleRefresh=null,this.consistentArtifactCreation=null,this.consistentMLExperimentCreation=null,this.consistentMLModelCreation=null,this.NotebookEnableWidgetReference=null,this.realTimeIntelligenceSampleTutorial=null,this.visualCalculationFRE=null,this.SparkCoreSparkSettingsNativeEngineEnabled=null,this.defaultLabel_HEAD_Domains_FE=null,this.disableEnsure3PConsent=null,this.fabricDeveloperExperience=null,this.TableDiscovery=null,this.SchemaDiscovery=null,this.ArtifactGraphEnableCreationAsync=null,this.artifactMonthlySchedule=null,this.enableEventstreamAmazonMskKafkaConnector=null,this.enableEventstreamApacheKafkaConnector=null,this.enableEventstreamAzureSqlMiDbCdcConnector=null,this.enableEventstreamSqlServerOnVmDbCdcConnector=null,this.downloadEmptyReportWithDatasetOnly=null,this.GraphQL_showCopyClientCodeButton=null,this.shellWorkspaceCopilot=null,this.enableSaveACopyExpV2=null,this.dataQuestionLlmParser=null,this.dataQuestionO3Mini=null,this.dataQuestionCustomInstructions=null,this.oneSecurityUXPublic=null,this.advancedSlicerSelectionIcon=null,this.blockExtensionMessageOnValidationFailure=null,this.dataFunctionActions=null,this.OrgAppV3Ingress=null,this.OrgAppCopilotUi=null,this.orgAppImmersiveCopilot=null,this.ArtifactGraphLoadOnSave=null,this.webModelingViewSwitcher=null,this.kustoAllowEmbeddedQueryset=null,this.enableFabric13R3=null,this.kustoEnableQueryAcceleration=null,this.geofilterSynonymAdjustLocalityWhenNullDisabled=null,this.shouldEnableWarningStreamingDataset=null,this.RelevanceEngine_AllowLlmRequests=null,this.artifactDiscoverySkill=null,this.FuncSetEnablePortalEditing=null,this.disableAppinsightsRetries=null,this.syncPerformanceItemsFromExtensions=null,this.shouldDisableCreationStreamingDataset=null,this.manageDatasetRefresh=null,this.unsupportedBrowserNotification=null,this.dashboard_and_report_HEAD_CompactView_FE=null,this.dedsNotebookTeachingTourDRL=null,this.OrgAppConsolidatedNavigation=null,this.ArtifactGraphPersistLayout=null,this.KustoGenerateDashboard=null,this.enableEventstreamEventType=null,this.enableInferredSchema=null,this.ArtifactFunctionSet=null,this.treemapLayoutOptions=null,this.showHelpPaneInGlobalSearch_variantA=null,this.showHelpPaneInGlobalSearch_variantB=null,this.ArtifactGraphQueryCopilot=null,this.enableEventstreamAzureServiceBusConnector=null,this.ODSPSubscriptionUserPermissionsCheck=null,this.OneSecurityForDataWarehouseFE=null,this.FuncSetEnableLibraryManagement=null,this.dataQuestionDispreferTables=null,this.GraphQL_ShowSqlAnalyticsEndpointArtifactType=null,this.GraphQL_ShowWarehouseArtifactType=null,this.AlmCrossRegionDeployment=null,this.daxCopilotV2=null,this.daxCopilotIncreasedTokenLimits=null,this.azureMapGeocodingAuditor=null,this.notebookAzNBInSW=null,this.notebookPylanceInSW=null,this.subscribePermissionSharing=null,this.NL2DAXAddCustomInstructions=null,this.NL2DAXUseSynonyms=null,this.NL2DAXIncludeSampleValues=null,this.NL2DAXIncludeSampleValuesDirectLake=null,this.GraphQL_ShowSqlAnalyticsEndpointDmts=null,this.showChangeOwnershipOptionForTenantAdmin=null,this.GraphQL_ShowWarehouseDmts=null,this.enableEventstreamReflexPushMode=null,this.FuncSetEnableDotNetSupport=null,this.disableCacheUpdatesForV2Reports=null,this.fabricMigration=null,this.exploreInReportCopilot=null,this.GraphQL_ShowSqlDbNativeDmts=null,this.tmdlCopilotToggle=null,this.tmdlPreview=null,this.OrgAppV3PublicContract=null,this.debugImmersiveCopilot=null,this.GraphQL_ShowMountedWarehouseDmts=null,this.GraphQL_NewDnsEndpoint=null,this.datahubPillsBar_HEAD_a11y_FE=null,this.databricksNetworkSecurityUX=null,this.DigitalOperationsM1UI=null,this.DigitalOperationsM2UI=null,this.DigitalOperationsUIAdvancedQuery=null,this.DigitalOperationsUIAskQuestion=null,this.fabricArtifactSyncService=null,this.fabricArtifactClientCache=null,this.multitaskingUpdateSyncService=null,this.artifactGraphConditionalFormatting=null,this.FuncSetEnableUseOwnerToken=null,this.saveNewReportAsExplorationV2=null,this.ArtifactGraphInferGraphUI=null,this.ArtifactGraphNewObjectModel=null,this.ArtifactGraphNewLook=null,this.analyzeDataWith=null,this.enableReadonlyDqv=null,this.ArtifactGraphNodeExpansion=null,this.daxCopilotV2Web=null,this.enableDaxScenarioParameterOverride=null,this.DataverseShortcutServicePrincipalAuthKind=null,this.acceptEncoding=null,this.acceptEncodingActivation=null,this.initializeCapacityWithFolderAPI=null,this.accessibleMeControlV1=null,this.dataQuestionEnhancedReasoning=null,this.dataQuestionEnhancedReasoningImmersive=null,this.copilotFilterSingleTool=null,this.consistentHomeOneCreation=null,this.disableStarterWorkspacePool=null,this.stableReporting=null,this.dedsPythonMonitor=null,this.sqlDwGpt4oMini=null,this.refreshDataflowFabric=null,this.enableEventstreamEntraIDAuthForCustomEndpoint=null,this.ArtifactGraphQuerySearch=null,this.copilotDatasetSummaryFrontendV2=null,this.GraphQL_CreateFromSampleSqlDb=null,this.addKeyInfluencersForCopilotSummary=null,this.ArtifactGraphNewLookDecember=null,this.GraphUIUpdateFeb=null,this.graphExploreV2=null,this.visualTooltipRenderTelemetry=null,this.addKeyInfluencersForCopilotSummaryFirst=null,this.rowHierarchySelector=null,this.rowHierarchySelectorAuthoring=null,this.helpPaneAutosuggest=null,this.UseConfidentialClientForOAuthOnPremDataSources=null,this.FuncSetEnableVSCodeFunctionsUri=null,this.FuncSetEnableGenericWarehouse=null,this.MLOpenAIAssistant=null,this.addCapacityNameInMonitoringHub=null,this.realTimeIntelligenceSampleGallery=null,this.dwModelingUx=null,this.pbiMoveImportNotebookToImport=null,this.workspaceIdentityAuthForAdlaAndAdls=null,this.dedsNotebookMirroredDB=null,this.notebookAzMaps=null,this.EventstreamCodeGenUXNative=null,this.FuncSetHomeDesignV2=null,this.OneLakeUXTransMirroring=null,this.tridentGitForkBranchExistingFolder=null,this.FuncSetPylanceDiagnostics=null,this.eventNotificationUx=null,this.EventNotificationUxExpanded=null,this.copilotRemoveOffTopicRestriction=null,this.FuncSetNameChange=null,this.daxCopilotBackendRetryWeb=null,this.suggestQueriesForCopilotSummary=null,this.ArtifactGraphGetArtifactTablesList=null,this.copilotStreamToolResponse=null,this.DmsUniversalSecurity=null,this.copilotSummaryDisableToolParam=null,this.onelakeCatalogOnTeams_HEAD_Datahub_FE=null,this.dedsEnvironmentCrossWS=null,this.disableAppCopilotFollowUpSuggestions=null,this.dedsNBPythonResourceUsage=null,this.dedsNBTSqlRecentRun=null,this.genericTyping_HEAD_CompactView_FE=null,this.GraphQL_Copilot_V2=null,this.helpPaneBranching=null,this.helpPaneCreateTicket=null,this.displayOneDriveSourceUri=null,this.enableVisualCalculationsInDataExplore=null,this.oneLakeUXShowWarehouseSnapshotInBrowse=null,this.FuncSetPylanceDebug=null,this.sendPSKUExpiryNotification=null,this.DataverseShortcutWorkspaceIdentityAuthKind=null,this.RelevanceEngine_ExperimentalOptions=null,this.GraphItemDefinition=null,this.GraphItemDefinitionUI=null,this.clearChatInReportCopilotPane=null,this.FuncSetEnableConnectionStringHeaders=null,this.notebookDisableLazyLoadOnIdle=null,this.notebookEnableLazyLoadEditorOnView=null,this.fabricMigrationPuPr=null,this.fabricMigrationDedicatedSqlPool=null,this.updateLLMModelTogpt4o2024_11_20=null,this.enableDataPreviewForPartialConnectors=null,this.enableEventstreamRealTimeWeather=null,this.multipleSchedulerUX=null,this.azureMapsTileHostEmbedValidation=null,this.secureEmbedDialogAllowCopilot=null,this.sharepointEmbedDialogAllowCopilot=null,this.desktopReportAuthoringCopilotGA=null,this.desktopReportAuthoringCopilotButton=null,this.QueryEditsInWebModeling=null,this.KustoCopilotDashboardFeedback=null,this.NL2DAXAddDisplayFolderAndHierarchy=null,this.UseArtifactDiscoverySkillV2=null,this.openRemoteModelingFromWeb=null,this.categoricalIntersectionEval=null,this.teamsNewLeftNav=null,this.EnhancedFoplResults=null,this.workloadHubFeaturedWorkloads=null,this.exp_workloadHubFeaturedWorkloads=null,this.workloadHubBagIcon=null,this.exp_workloadHubBagIcon=null,this.UseSearchToolUXInADSkill=null,this.UseSearchToolUXInADSkillM2=null,this.fabricExtensibility_DefaultWorkload=null,this.fabricExtensibility_ClientSideAuth=null,this.restrictWorkspaceAccessToSG=null,this.FuncSetEnablePrivateLibraryManagement=null,this.disableLiveConnectOptionForAASDataset=null,this.FuncSetDisablePortalEditorLibValidation=null,this.FuncSetPortalTest=null,this.OneLakeUXEnableDataverseFilter=null,this.M365DataQuestionSkill=null,this.taskFlowExportAndImport=null,this.copilotBackendOrchestratorStreaming=null,this.reportAuthoringCopilotStreamingEnabled=null,this.reportConsumptionCopilotStreamingEnabled=null,this.sqlAuditLogsSettingsUXForDW=null,this.exp_onelakeCatalog_LeftNavLabel_HEAD_Datahub_FE=null,this.tvfScalarFunctions=null,this.subItemsQuickActions_HEAD_Datahub_FE=null,this.disableFabricReadOptions=null,this.cosmosDbMetricsSummary=null,this.cosmosDbSqlEndpoint=null,this.dataflowConnectionInPipeline=null,this.tridentDSAIFunction=null,this.OrgAppV3Audiences=null,this.enableEventStreamSqlCode=null,this.nativeMlflowUI=null,this.reportPageTitle=null,this.authoringFeedback=null,this.onelakeCatalog_Insights_Recent_HEAD_Datahub_FE=null,this.fabricWranglerNL2Code=null,this.fabricWranglerPandas2PySpark=null,this.fabricWranglerSuggestions=null,this.fabricWranglerNewLaunchingExperience=null,this.dwCodeSnippets=null,this.dwUseMWCBatchApi=null,this.SupportSchemalessArtifactForOneSecurity=null,this.semanticLinkPythonNotebook=null,this.notebookPerfProfiling=null,this.GetDatasetSchemaCustomInstructions=null,this.copilotPageCreateToolArgsHandling=null,this.onelakeCatalog_purview_HEAD_Datahub_FE=null,this.OneSecurityForLakeWarehouseFE=null,this.servicePrincipalTenantAdminSettingsDefaultCheckbox=null,this.consistentVariableLibraryCreation=null,this.ocvInAppFeedback=null,this.OneLakeUXTransformProperties=null,this.azureMapsCustomBasemap=null,this.cvMessageChannel=null,this.enableFabricPolicies_HEAD_FabricPolicies_FE=null,this.dataflowParametersInPipeline=null,this.pasteSlicerFilter=null,this.EventStreamKustoSkipTableAndSchemaCheck=null,this.TridentPublicApisMLModelRename=null,this.expandL2_HEAD_Datahub_FE=null,this.fabricWranglerAIFunction=null,this.FunctionsHubEnableCreate=null}}},928839:function(me,j,e){e.d(j,{g:function(){return i}});var r=e(809912),i={annotationsUI:r.IM.Web,exp_deferVCLoadingChangeSection:r.IM.All&~r.IM.EmbedHost,exp_deferVCLoadingChangeSectionEmbed:r.IM.EmbedHost,exp_noEmptyUpdate:r.IM.All&~r.IM.EmbedHost,noEmptyUpdate:r.IM.All&~r.IM.EmbedHost,noEmptyUpdateEmbed:r.IM.EmbedHost,personalVisualizationPaneEnabled:r.IM.All&~r.IM.EmbedHost,queryCancellation:r.IM.Desktop|r.IM.Web|r.IM.WindowsApp,reportAnnotationsUI:r.IM.Web|r.IM.ExploreHost,stickyFeatureSwitches:r.IM.All&~r.IM.EmbedHost,userFavoriteResourcePackagesEnabled:r.IM.All&~r.IM.EmbedHost}},830295:function(me,j,e){e.d(j,{yZ:function(){return L},So:function(){return E}});var r=e(136950),i=e(816570),a=e(255319),t=e(510958),l=e(864047),g=e(614960),n=e(993629),d=e(21133),s=e(928912),o="infonav-additionalError",v="infonav-showAdditionalError";function y(Y,z){var H=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",Y));return H.find(".infonav-errorInfoText").text(z||""),H.html(H.html().replace(/\n/g,"<br/>")),H}var C=e(388651),u=function(Y){return Y[Y.Info=0]="Info",Y[Y.Warning=1]="Warning",Y[Y.SecurityWarning=2]="SecurityWarning",Y}({}),E="https://support.powerbi.com",D="."+r.A.modalDialog,b="."+r.A.dialogTitle,T="."+r.A.dialogCloseIcon,M="."+r.A.dialogContent,V="."+r.A.dialogActions,w="."+r.A.dialogNotificationIcon,P="."+r.A.dialogContentNotificationText,N="infonav-modalContainerHost",I="."+N,O="."+r.A.dialogHtmlMessage,R="infonav-describedBy",W='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="'+r.A.modalDialog+'" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="'+r.A.dialogTitle+'" id='+R+' role="heading" aria-level="1"></div><input type="button" class="'+r.A.dialogCloseIcon+'" data-testid="infonav-modal-dialog-close-btn"></input><div class="'+r.A.dialogContent+'" data-testid="infonav-modal-dialog-content"><div class="'+r.A.dialogActions+'"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',F='<div class="'+r.A.dialogContentNotification+'"><span class="'+r.A.dialogNotificationIcon+'"></span><span class= "'+r.A.dialogContentNotificationText+'" > </span></div>',U=`<input type="button" class=${r.A.dialogButton}></input>`,x='<label class="'+r.A.dialogCheckboxLabel+'">';class L{constructor(z,H){this.dialogHost=z,this.localizationMap=H,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}refocus(){this.modalContainer.focus()}showMessage(z,H,Z,k){this.ensureInitialized();var Q,K=[];if(Z||(Z=this.localizationMap?this.localizationMap.closePromptText:d.rv),k){var J=$('<a target="_blank"></a>').text(k.label).attr("href",k.url);Q=$("<div></div>").text(H+" ").append(J),H=void 0}K[0]=this.createButton(Z,()=>{this.hideDialog()},null,"primary"),this.pushMessage(z,H,Q,K,!0)}showPrompt(z,H,Z,k){this.ensureInitialized();for(var K=new Array,ee=0;ee<Z.length;ee++){var Q=Z[ee],J=Q.cssClass;0===ee&&(J+=" primary"),K[ee]=this.createButton(Q.labelText,Q.actionCallback,Q.data,J,Q.disabled)}this.pushMessage(z,H,void 0,K,!!k)}showError(z,H,Z,k,K){this.showCustomError(d.vX,z,H,H!==l.W.Fatal,Z,k,K)}showCustomError(z,H,Z,k,K,ee,Q,J,X,ne,ae,oe,Me){this.ensureInitialized();var Le,Ye=new Array;Q?Q.forEach(Ae=>{Ye.push(this.createButton(Ae.label,()=>{this.hideDialog(),$.isFunction(ee)&&ee(Ae.resultValue)},null,Ae.cssClass,Ae.disabled))}):Ye[0]=Z!==l.W.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:d.rv,()=>{this.hideDialog(),$.isFunction(ee)&&ee(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:d.Lr,()=>{window.location.reload()},null,"primary"),Le=ne?$("<div></div>").append(ne):$("<div></div>").text(H);var ut,lt=$("<div></div>").addClass(r.A.dialogFooter);if(!_.isEmpty(K)){ut=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:d.Ew,ae&&(ut=ae),Le.append($("<br/>")).append(ut);var St=this.localizationMap?this.localizationMap.copyPromptText:d.aE,ze=this.localizationMap?this.localizationMap.copySuccessText:d.wp,Be={title:z,message:ne?ne.text():H,helperText:ut,additionalErrorInfo:K},Ce=$("<button></button>").text(St).addClass("modalCopyToClipboard").click(()=>{this.tryCopyToClipboard(Be)&&(Ce.text(ze).addClass("modalCopySuccess"),setTimeout(()=>{Ce.text(St).removeClass("modalCopySuccess")},3e3))});lt.prepend(Ce)}this.addAdditionalErrorInfo(Le,K,this.localizationMap?this.localizationMap.showTechnicalDetailsText:d.Xd),J&&(J.url===E||J.isGetHelpTextReplaced?lt.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(J.label).attr("href",J.url)):Ye.unshift(this.createButton(J.label,()=>{window.open(J.url)},null,"primary"))),Le.append(lt),this.pushMessage(z||d.vX,void 0,Le,Ye,k,X,void 0,void 0,oe,Me)}showCustomDialog(z,H,Z,k,K,ee,Q,J,X,ne,ae,oe,Me,Ye,Le,lt,ut,St){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var ze=[];Le&&(ze[0]=this.createCheckbox(Le.labelText,Le.actionCallback,Le.data));for(var Be=Z.findIndex(xe=>xe?.type===C.I.Button),Ce=0;Ce<Z.length;Ce++){var Ae=Z[Ce],be=Ae.cssClass;!oe&&Ce===Be&&(be+=" primary"),ze[Le?Ce+1:Ce]=Ae.type===C.I.Link?this.createLink(Ae.labelText,Ae.link):this.createButton(Ae.labelText,Ae.actionCallback,Ae.data,be,Ae.disabled)}if(ut){var ve=$("<p></p>").append($('<a target="_blank"></a>').text(ut.label).attr("href",ut.url));H=H.append(ve)}return this.pushMessage(z,void 0,H,ze,!!K,X,k,ee,Q,J,ne,ae,oe,Me,Ye,lt,St),this.dialogContent}hideDialog(){this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,()=>{this.modalContainer.css(a.e_,a.eU),this.modalDialogElement.removeClass(this.modalDialogCustomClass),this.modalContainer.removeClass(this.modalContainerCustomClass),this.currentModalDialogMessage&&this.currentModalDialogMessage.onDialogClosed&&this.currentModalDialogMessage.onDialogClosed(),this.messageCurrentlyShown=!1;var z=this.messageQueue.shift();z?this.showDialogInternal(z):(this.modalContainer.off(),this.modalContainer.remove(),$(I).off(),$(I).remove(),this.initialized=!1,this.unregisterFocusManager&&this.unregisterFocusManager())})}ensureInitialized(){if(!this.initialized){if(this.modalContainer=$(W),this.modalDialogElement=this.modalContainer.find(D),this.dialogTitle=this.modalContainer.find(b),this.dialogCloseButton=this.modalContainer.find(T),this.dialogContent=this.modalContainer.find(M),this.dialogActions=this.modalContainer.find(V),this.dialogCloseButton.on(t.Jp,()=>this.hideDialog()).on("keydown",H=>{H.keyCode===t.cK.escKeyCode&&this.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:d.rv).attr("name",this.localizationMap?this.localizationMap.closePromptText:d.rv).attr("title",this.localizationMap?this.localizationMap.closePromptText:d.rv),!this.dialogHost){var z=$(I);_.isEmpty(z)||z.remove(),(z=(0,i.y4)().addClass(N)).attr("role","dialog"),z.attr("aria-labelledby",R),this.dialogHost=$(t.IT).append(z),this.dialogHost=z}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=g.c_.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}}updatePosition(z){var H=(this.modalContainer.height()-this.modalDialogElement.height())/2,Z=(this.modalContainer.width()-this.modalDialogElement.width())/2,k={top:H+a.YU,left:Z+a.YU};z?this.modalDialogElement.animate(k,250):this.modalDialogElement.css(k)}addAdditionalErrorInfo(z,H,Z){if(!_.isEmpty(H)){var k=$("<p ></p>");for(var K of H)k.append(y(K.errorInfoKey,K.errorInfoValue));var ee=function(Y,z){var H=$("<div ></div>"),Z=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return Z.addClass(v),Z.text(z||d.Xd),Z.on(t.Jp,()=>{H.find(s.n4.createClassSelector(v)).remove(),H.find(s.n4.createClassSelector(o)).css(a.e_,a.nE)}),Y.css(a.e_,a.eU),Y.addClass(o),H.append(Z),H.append(Y),H}(k,Z);z.append($("<br />")),z.append(ee),z.find(".showAdditionalDetailsLink").on(t.Jp,()=>{this.updatePosition(!0)})}}pushMessage(z,H,Z,k,K,ee,Q,J,X,ne,ae,oe,Me,Ye,Le,lt,ut){typeof K>"u"&&(K=!0),typeof X>"u"&&(X=""),typeof ne>"u"&&(ne=""),typeof ut>"u"&&(ut=""),this.messageQueue.push({titleText:z,messageText:H,dialogContent:Z,dialogButtons:k,onDialogDisplayed:Q,isDismissable:K,dialogCssClass:X,dialogActionsCssClass:ut,containerCssClass:ne,onDialogClosed:ee,notificationType:ae,notificationText:oe,htmlMessageText:Ye}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),J,Me,Le,lt)}tryCopyToClipboard(z){if(!z)return!1;var H=[];if(z.title&&H.push(z.title),z.message&&H.push(z.message),z.helperText&&H.push(z.helperText),z.additionalErrorInfo)for(var Z of z.additionalErrorInfo)H.push(`${Z.errorInfoKey}: ${Z.errorInfoValue}`);var k=H.join("\n");try{return(0,n.vt)().copyText(k),!0}catch{return!1}}showDialogInternal(z,H,Z,k,K){if(this.currentModalDialogMessage=z,this.messageCurrentlyShown=!0,this.dialogContentNotification=$(F),this.dialogContentNotificationIcon=this.dialogContentNotification.find(w),this.dialogContentNotificationText=this.dialogContentNotification.find(P),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(z.titleText).attr("title",z.titleText),k?(this.appendNotification(z.notificationType,z.notificationText),this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText)):(this.appendMessageText(z.dialogContent,z.messageText,z.htmlMessageText),this.appendNotification(z.notificationType,z.notificationText)),this.dialogCloseButton.css(a.e_,z.isDismissable?a.nE:a.eU),z.dialogButtons.length>0)for(var ee of(this.dialogActions.show(),z.dialogButtons))this.dialogActions.append(ee);else this.dialogActions.hide();var Q=this.dialogContent.find(`.${r.A.dialogFooter}`);Q.length>0?Q.append(this.dialogActions):this.dialogContent.after(this.dialogActions),z.dialogCssClass&&(this.modalDialogElement.addClass(z.dialogCssClass),this.modalDialogCustomClass=z.dialogCssClass),z.containerCssClass&&(this.modalContainer.addClass(z.containerCssClass),this.modalContainerCustomClass=z.containerCssClass),z.dialogActionsCssClass&&this.dialogActions.addClass(z.dialogActionsCssClass);var J=this.modalContainer.css(a.e_)===a.eU?this.modalContainer:this.modalDialogElement;J.fadeTo(0,0),this.updatePosition(!1),J.fadeTo(250,1,()=>{if(z.onDialogDisplayed&&z.onDialogDisplayed(this.dialogContent),!(this.modalDialogElement.find("dialog-frame").length>0)){0===this.modalDialogElement.find(":focus").length&&this.modalDialogElement.focus(),K&&this.modalDialogElement.keydown(ne=>{ne.keyCode===t.cK.escKeyCode&&this.hideDialog()});var X=this.dialogActions.find("input");!Z&&X.length>0&&X[0].focus(),H&&this.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})}appendMessageText(z,H,Z){_.isEmpty(H)&&z?this.dialogContent.append(z):this.dialogContent.text(H),_.isEmpty(Z)||(this.dialogContentMessage=this.dialogContent.find(O),this.dialogContentMessage.html(Z))}appendNotification(z,H){if(null!==z&&!_.isEmpty(H)){switch(z){case u.Info:this.dialogContentNotificationIcon.addClass(r.A.dialogInfoIcon),this.dialogContentNotification.addClass(r.A.notificationInfo);break;case u.Warning:this.dialogContentNotificationIcon.addClass(r.A.dialogWarningIcon),this.dialogContentNotification.addClass(r.A.notificationWarning);break;case u.SecurityWarning:this.dialogContentNotificationIcon.addClass(r.A.dialogSecurityWarningIcon),this.dialogContentNotification.addClass(r.A.notificationSecurityWarning)}this.dialogContentNotificationText.html(H),this.dialogContent.append(this.dialogContentNotification)}}createButton(z,H,Z,k,K){var ee=$(U);return ee.attr("value",z),ee.attr("data-testid",`infonav-dialog-action-${z}`),ee.on(t.Jp,()=>{H(ee,this.dialogContent,Z)}),k&&ee.addClass(k),K&&ee.prop("disabled",!0),ee}createCheckbox(z,H,Z){var K=$('<div class="'+r.A.dialogCheckbox+'"><input type="checkbox"></input>'+x+z+"</label></div>"),ee=K.find("input");return ee.on(t.ig,()=>{H(ee,this.dialogContent,Z)}),K}createLink(z,H="",Z=!0){return $(`<div>\n                <br>\n                    <a href=${H} target='_blank' class='pbi-external-link'>\n                        ${z}${Z?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":""}\n                    </a>\n                <br>\n            </div>`)}modalDialogResizeHandler(){this.updatePosition(!1)}}},388651:function(me,j,e){e.d(j,{I:function(){return r},O:function(){return i}});var r=function(a){return a.Button="Button",a.Link="Link",a}({});class i{constructor(t,l,g,n,d,s,h){this.type=r.Button,this.link="",this.labelText=t,this.actionCallback=l,this.data=g,this.cssClass=n,this.disabled=!!d,this.type=s||this.type,this.link=h||this.link}}},136950:function(me,j,e){e.d(j,{A:function(){return i},R:function(){return r}});var r=function(a){return a[a.Ok=0]="Ok",a[a.Cancel=1]="Cancel",a}({}),i=function(a){return a.modalDialog="infonav-modalDialog",a.dialogTitle="infonav-dialogTitle",a.dialogCloseIcon="infonav-dialogCloseIcon",a.dialogContent="infonav-dialogContent",a.dialogContentNotification="infonav-dialogContentNotification",a.dialogWarningIcon="pbi-glyph-warning glyph-mini",a.dialogSecurityWarningIcon="pbi-glyph-securityalert glyph-mini",a.dialogInfoIcon="pbi-glyph-info glyph-mini",a.dialogNotificationIcon="glyphicon",a.notificationWarning="typeWarning",a.notificationSecurityWarning="typeSecurityWarning",a.notificationInfo="typeInfo",a.dialogContentNotificationText="infonav-dialogContentNotificationText",a.dialogFooter="infonav-dialogFooter",a.dialogActions="infonav-dialogActions",a.dialogButton="pbi-fluent-button",a.dialogCheckbox="pbi-input checkbox",a.dialogCheckboxLabel="form-label",a.dialogHtmlMessage="dialogMessage",a.dialogTitleWarningIcon="pbi-glyph-warning glyph-medium",a.dialogTitleCircleWarningIcon="pbi-glyph-error-circle-exclamation glyph-mini",a}({})},727695:function(me,j,e){e.d(j,{BD:function(){return f},KJ:function(){return c},Od:function(){return p},Yh:function(){return o},Yp:function(){return S},ZG:function(){return u},iN:function(){return E},jT:function(){return v},kJ:function(){return h},mW:function(){return s},oS:function(){return D},pX:function(){return m},z3:function(){return C}});var r=e(219481),i=e(785463),a=e(190846),t=e(376292),l=e(928912),g=e(136834),n="/Date(",d=")/",s=function(b){return b[b.MillisecondsPerMinute=6e4]="MillisecondsPerMinute",b[b.MilisecondsPerHour=36e5]="MilisecondsPerHour",b[b.MillisecondsPerDay=864e5]="MillisecondsPerDay",b}({});function h(b){return i.Y.assertValue(b,"date"),(b.getTime()-b.getTimezoneOffset()*s.MillisecondsPerMinute)%s.MillisecondsPerDay==0}function o(){return typeof moment<"u"}function v(b){var T=m(b);if(T)return T;i.Y.assert(()=>o(),"Moment.js should be loaded for non-fast parseIsoDate.");var M=moment(b);return M.isValid()?M.toDate():null}function m(b){if(b){var T=b.length;if(!(T<=18||T>28)){var M=b[10];if("-"===b[4]&&"-"===b[7]&&("T"===M||" "===M)&&":"===b[13]&&":"===b[16]){var V=(0,g.c)(b,0,4),w=(0,g.c)(b,5,2),P=(0,g.c)(b,8,2),N=(0,g.c)(b,11,2),I=(0,g.c)(b,14,2),O=(0,g.c)(b,17,2),R="Z"===b.charAt(T-1);R&&T--;var W=0;if(T>19){if("."!==b[19])return;var F=T-20,U=(0,g.c)(b,20,F);if(null===U)return;W=U*(0,a.eC)(3-F)}if(null!==V&&null!==w&&null!==P&&null!==N&&null!==I&&null!==O&&null!==W)return R?new Date(Date.UTC(V,w-1,P,N,I,O,W)):(0,t.HE)(V,w-1,P,N,I,O,W)}}}}function p(b){return i.Y.assert(()=>o(),"Moment.js should be loaded for parseUtcDate."),moment.utc(b).toDate()}function S(b){if(l.n4.throwIfNullOrEmptyString(b,null,"deserializeDate","Cannot deserialize empty string"),(0,r.z6)(0===b.indexOf(n)&&_.endsWith(b,d),"Cannot deserialize empty string"),o()){var T=moment(b);return(0,r.z6)(T.isValid(),"parsedValue.isValid must be true"),T.toDate()}var M=b.substring(n.length,b.length-d.length);(0,r.z6)(/^\-?\d+$/.test(M),"Cannot deserialize invalid date");var V=parseInt(M,10);return(0,r.z6)(!isNaN(V),"Cannot deserialize invalid date"),new Date(V)}function C(b){try{return S(b)}catch{}}function u(b,T,M,V){i.Y.assertValue(b,"date");var w=moment().subtract(M,T);return V&&(w=w.startOf(T)),moment(b)>=w}function E(b,T){return i.Y.assertValue(T,"date"),T.toLocaleTimeString(b,{second:"numeric",minute:"numeric",hour:"numeric"})}function c(b,T){return i.Y.assertValue(T,"date"),T.toLocaleDateString(b,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function f(b,T){return i.Y.assertValue(T,"date"),T.toLocaleDateString(b,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function D(){return(new Date).toISOString()}},582626:function(me,j,e){e.d(j,{Y:function(){return a}});var r=e(558109),i={},a=(()=>{class n{static clearQueryString(s){var h=n.parseQueryString();return delete h[s],n.rebuildQueryString(h)}static clearQueryStrings(s){var h=n.parseQueryString();for(var o of s)delete h[o];return n.rebuildQueryString(h)}static addOrUpdateQueryString(s,h){var o=n.parseQueryString();return o[s]=h,n.rebuildQueryString(o)}static addOrUpdateQueryStringToUrl(s,h){var o=n.parseUrl(s),v=n.clearAllQueriesFromUrl(s);for(var m of Object.keys(h))o[m]=h[m];return v+n.rebuildQueryString(o)}static getQueryStringValue(s){return n.parseQueryString()[s]}static isQueryParamSet(s,h){var o=i[s];if(!h||void 0===o){var v=n.getQueryStringValue(s);o=null!=v&&"false"!==v&&("1"===v||"true"===v.toLowerCase()||v.length>1),h&&(i[s]=o)}return o}static parseUrl(s){var h=s.indexOf("?"),o=h>=0?s.substr(h):void 0;return n.parseQueryString(o)}static parseQueryString(s=window.location.search){var h={};return new URLSearchParams(s).forEach((o,v)=>{h[v]=o}),h}static parseQueryStringWithMultipleKeyValues(s=window.location.search){var h={};return new URLSearchParams(s).forEach((o,v)=>{h[v]?h[v].push(o):h[v]=[o]}),h}static rebuildQueryString(s){var h="",o=!0;for(var v in s)o||(h+="&"),h+=encodeURIComponent(v)+"=",s[v]&&(h+=encodeURIComponent(s[v])),o=!1;return o||(h="?"+h),h}static clearAllQueriesFromUrl(s){var h=s.indexOf("?"),o=s.indexOf("#");return o>=0&&(o<h||-1===h)&&(h=o),h>=0?s.substr(0,h):s}static fileOfUrl(s){var h=(s=n.clearAllQueriesFromUrl(s)).lastIndexOf("/");return-1!==h&&(s=s.substring(h+1)),s}}return n.OriginClientActivityIdParameterName="caid",n.OriginRootActivityIdParameterName="raid",n.OriginActivityIdParameterName="aid",n})();function t(){var n=(0,r.RI)();return n.QueryStringUtil||(n.QueryStringUtil={}),n.QueryStringUtil}var g=!1;!function(){if(!g){var n=a.getQueryStringValue;t().getQueryStringValue=s=>n(s);var d=a.parseQueryString;t().parseQueryString=(s=window.location.search)=>d(s),g=!0}}()},56175:function(me,j,e){e.d(j,{L:function(){return t},Z:function(){return a}});var i,r=e(785463);function a(n){return new g(n)}function t(n){return new g(n)}var l=function(n){return n[n.Pending=0]="Pending",n[n.Resolved=1]="Resolved",n[n.Rejected=2]="Rejected",n}({});class g{constructor(d){this[i]="Promise",r.Y.assertValue(d,"deferred"),this.deferred=d,this.state=l.Pending,d.promise.then(()=>this.state=l.Resolved,()=>this.state=l.Rejected)}then(d,s){return this.deferred.promise.then(d,s)}catch(d){return this.deferred.promise.catch(d)}finally(d){return this.deferred.promise.finally(d)}resolved(){return this.state===l.Resolved}rejected(){return this.state===l.Rejected}pending(){return this.state===l.Pending}reject(d){this.pending()&&(this.deferred.reject(d),this.state=l.Rejected)}}i=Symbol.toStringTag},136834:function(me,j,e){e.d(j,{c:function(){return a},l:function(){return t}});var r=e(785463),i=e(190846);function a(l,g,n){if(r.Y.assertValue(l,"fullString"),r.Y.assertValue(g,"from"),r.Y.assertValue(n,"length"),r.Y.assert(()=>g>=0,"from >= 0"),r.Y.assert(()=>n>=0,"length >= 0"),r.Y.assert(()=>g+n<=l.length,"(from + length) <= fullString.length"),0===n)return null;for(var d=0,s=0,h=g+n-1;s<n;s++,h--){var o=l.charCodeAt(h)-48;if(o<0||9<o)return null;d+=o*(0,i.eC)(s)}return d}function t(l,g){return r.Y.assertValue(l,"literalStringToRegex - string"),r.Y.assertAnyValue(g,"literalStringToRegex - flags"),new RegExp(l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),g)}},21133:function(me,j,e){e.d(j,{Ew:function(){return C},Jl:function(){return y},Lr:function(){return m},Xd:function(){return o},aE:function(){return u},rv:function(){return v},sz:function(){return S},vX:function(){return p},wp:function(){return E}});var o="Show technical details",v="Close",m="Refresh Page",p="oops, something went wrong",y="Unsupported browser detected",S="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",C="Please try again later or contact support. If you contact support, please provide these details.",u="Copy",E="Success!"},477546:function(me,j,e){function r(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch{return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function a(){var v=window.navigator.userAgent.toLowerCase();return v.indexOf("msie ")>-1||v.indexOf("trident/")>-1}function l(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}e.d(j,{hU:function(){return a},nr:function(){return l},zC:function(){return r}})},3136:function(me,j,e){e.d(j,{R:function(){return i}});var r=e(664496);function i(t,l){return(0,r.R)(t,l)}},208309:function(me,j,e){e.d(j,{$L:function(){return l},GQ:function(){return d},aP:function(){return a},j7:function(){return n},u_:function(){return g},wH:function(){return t}});var r=e(600441);function a(s,h){var o=function(s){var h=window.performance.getEntriesByType("resource").filter(v=>"xmlhttprequest"===v.initiatorType&&-1!==v.name.indexOf(s));if(h&&1===h.length)return h[0]}(s);return!!o&&(t(o,h),!0)}function t(s,h){s&&(h.timeOrigin=window.performance.timeOrigin,h.decodedBodySize=s.decodedBodySize,h.duration=s.duration,h.encodedBodySize=s.encodedBodySize,h.transferSize=s.transferSize,h.connectEnd=s.connectEnd,h.connectStart=s.connectStart,h.domainLookupEnd=s.domainLookupEnd,h.domainLookupStart=s.domainLookupStart,h.fetchStart=s.fetchStart,h.redirectEnd=s.redirectEnd,h.redirectStart=s.redirectStart,h.requestStart=s.requestStart,h.responseEnd=s.responseEnd,h.responseStart=s.responseStart,h.secureConnectionStart=s.secureConnectionStart,h.startTime=s.startTime,h.workerStart=s.workerStart,null!=s.responseStart&&null!=s.startTime&&(h.timeToFirstByte=s.responseStart-s.startTime))}function l(s){return s&&s.requestId&&s.responseRequestId?s.requestId===s.responseRequestId:null}function g(s){return s&&s.responseRequestId?s.responseRequestId:null}function n(s){switch(s){case r.k.Unauthorized:case r.k.Forbidden:case r.k.RequestEntityTooLarge:case r.k.BadRequest:case r.k.NotFound:case r.k.Conflict:case r.k.PreconditionFailed:case r.k.UnprocessableEntity:case r.k.UnsupportedMediaType:return!1;default:return!0}}function d(s){switch(s){case r.k.InternalServerError:case r.k.ServiceUnavailable:return!0;default:return!1}}},587814:function(me,j,e){function r(a,t,l){try{return JSON.parse(a,t)}catch(g){}}e.d(j,{p:function(){return r}})},352362:function(me,j,e){e.d(j,{T:function(){return i},w:function(){return r}});var r=["highContrastTheme","customTheme","baseTheme"];function i(a,t,l,g){var n={name:a,version:l,type:t};return g&&(n.source=g),n}},566296:function(me,j,e){e.d(j,{Bc:function(){return d},N9:function(){return l},QY:function(){return s},kU:function(){return n},kl:function(){return h}});var r=e(785463),i=e(304703),a=e(582626);function l(){var o;try{o=window.parent.origin}catch{r.Y.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),o="blockedBecauseCrossOrigin"}return window.origin!==o}function n(o){if(o)try{var v=atob(o);return pako.inflate(v,{to:"string"})}catch(p){i.Cn.error(`Error while uncompressing TileData: ${JSON.stringify(p)}`,null==p.stack)}return null}function d(o){if(o)try{var v=pako.gzip(o,{to:"string"});return btoa(v)}catch(p){i.Cn.error(`Error while compressing data: ${JSON.stringify(p)}`,null==p.stack)}return null}var s=(()=>{var o;return function(){return null==o&&(o=!!a.Y.getQueryStringValue("isE2ERun2")),o}})();function h(){return window}},844938:function(me,j,e){e.d(j,{M9:function(){return t},fT:function(){return d},wX:function(){return g},xz:function(){return l}});var r=e(785463),i=e(727695),a=moment.duration;function t(o,v,m=!1){var p=new Date,y=Intl.DateTimeFormat(v.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(o);if(h(o,p))return v.format("TodayAt",y);var S=new Date;return S.setDate(p.getDate()-1),h(o,S)?v.format("YesterdayAt",y):l(o,v,m)}function l(o,v,m=!1){if(r.Y.assert(()=>(0,i.Yh)(),"Moment not available"),!o)return"-";var p=moment().diff(o),y=a(p),S=Math.floor;r.Y.assert(()=>y.asMilliseconds()>=0,"This function is intended to be used only with dates from the past.");var C=S(y.asYears());if(C>1)return v.format("RelativeDate_YearsAgo",[C]);if(1===C)return v.get(s("RelativeDate_YearAgo",m));var u=S(y.asMonths());if(u>1)return v.format("RelativeDate_MonthsAgo",[u]);if(1===u)return v.get(s("RelativeDate_MonthAgo",m));var E=S(y.asDays());if(E>1)return v.format("RelativeDate_DaysAgo",[E]);if(1===E)return v.get(s("RelativeDate_DayAgo",m));var c=S(y.asHours());if(c>1)return v.format("RelativeDate_HoursAgo",[c]);if(1===c)return v.get(s("RelativeDate_HourAgo",m));var f=S(y.asMinutes());if(f>1)return v.format("RelativeDate_MinutesAgo",[f]);if(1===f)return v.get(s("RelativeDate_MinuteAgo",m));var D=S(y.asSeconds());return D>=30?v.format("RelativeDate_SecondsAgo",[D]):v.get("RelativeDate_Now")}function g(o,v,m="DisplayDateTime_Common",p=!1){r.Y.assertValue(o,"timestamp is required param"),r.Y.assertValue(v,"localizationService is required param");var y=function(o,v,m=!1){r.Y.assertValue(o,"timestamp is required param"),r.Y.assertValue(v,"localizationService is required param");var p=new Date(o),y=new Date;if(h(p,y))return v.get(m?"TodayTitle":"Today");var S=new Date;return S.setDate(y.getDate()-1),h(p,S)?v.get(m?"YesterdayTitle":"Yesterday"):new Date(o).toLocaleDateString(v.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(o,v,p),S=new Date(o).toLocaleTimeString(v.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return v.format(m,[y,S])}function d(o){if(r.Y.assert(()=>(0,i.Yh)(),"Moment not available"),!o)return 0;var v=moment().diff(o),m=a(v),p=Math.floor;if(!(m.asMilliseconds()>=0))return 0;var y=p(m.asYears());if(y>=1)return 1e6+y;var S=p(m.asMonths());if(S>=1)return 1e5+S;var C=p(m.asDays());if(C>=1)return 1e4+C;var u=p(m.asHours());if(u>=1)return 1e3+u;var E=p(m.asMinutes());if(E>=1)return 100+E;var c=p(m.asSeconds());return c>=30?c:0}function s(o,v){return v?o+"_Capitalize":o}function h(o,v){return o.getFullYear()===v.getFullYear()&&o.getMonth()===v.getMonth()&&o.getDate()===v.getDate()}},855076:function(me,j,e){e.d(j,{D2:function(){return S},EK:function(){return V},Er:function(){return b},Gf:function(){return c},JN:function(){return M},NV:function(){return v},N_:function(){return T},No:function(){return C},Nt:function(){return m},ST:function(){return u},Tl:function(){return P},Yw:function(){return d},Zx:function(){return p},ci:function(){return f},dW:function(){return y},nT:function(){return D},oi:function(){return g},uD:function(){return h},we:function(){return w},yX:function(){return l}});var r=e(255319),i=e(785463),a=e(510958),t=(0,r.tI)("explorationContainer"),l=function(N){return N[N.Above=1]="Above",N[N.RightOf=2]="RightOf",N[N.Below=4]="Below",N[N.LeftOf=8]="LeftOf",N[N.VerticalMiddle=16]="VerticalMiddle",N[N.HorizontalMiddle=32]="HorizontalMiddle",N}({});function g(N){return!!(N&l.Above)}function d(N){return!!(N&l.Below)}function h(N){return!!(N&l.VerticalMiddle)}var v=(0,r.tI)("notDroppable"),m=(0,r.tI)("dropover"),p=(0,r.tI)("prepend"),y=(0,r.tI)("append"),S="dragover",C="drag",u=function(N){return N[N.None=0]="None",N[N.Replace=1]="Replace",N[N.Prepend=2]="Prepend",N[N.Append=3]="Append",N}({});function c(N){var I=N.clone();return I.find("[id]").removeAttr(a.Iv),I.addClass("dragHelper"),I}function f(N){var I=N.parents(t.selector);return i.Y.assert(()=>I.length<=1,"We should only append the drag helper to 1 DOM element."),I}function D(N,I){var O=I();return O?(N.data[P]=O,!0):(N.data[w]=!0,!1)}function b(N,I){return!N.data[w]&&N.data[P]===I&&(N.data[w]=!0,!0)}function T(N,I){var O=I.height(),R=I.width(),W=I.offset(),F=N.pageY,U=N.pageX,B=0;return B|=W.top+O/2>F?l.Above:l.Below,B|=W.left+R/2>U?l.LeftOf:l.RightOf,W.top+O/3<F&&W.top+O/3*2>F&&(B|=l.VerticalMiddle),W.left+R/3<U&&W.left+R/3*2>U&&(B|=l.HorizontalMiddle),B}function M(N,I){if(!N)return!0;var O=function(N){return N.attr(C)}(N);return I.indexOf(O)>=0}var V="DragScrollHandler",w="DropEventHandled",P="DropTarget"},895774:function(me,j,e){e.d(j,{Et:function(){return l},vh:function(){return g},wu:function(){return t}});var r=e(212554),i=e(510958),a=e(716782),t={type:r.U.Visual,name:"visualThemeChanged"};function l(n){return null!=n.composed&&null!=n.repeat&&(!n.composed||n.repeat&&(n.keyCode===i.cK.ctrlKeyCode||(0,a.AD)(n.keyCode)))}function g(n){return!$(n.target).is(i.Hq)&&!$(n.target).is(i.tk)}},706166:function(me,j,e){function r(n){}function i(n,d=!1){try{if(!n)return;var s=n.stack;if(!s)return;var h=s.indexOf("\n");return-1===h?void 0:(s=s.substring(h+1),d&&(s=s.replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,o=>{var v=o.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=v?` (${v[1]})`:""})),s)}catch{return"Error at cleanExceptionStack"}}function a(n){try{if(n instanceof TypeError||n instanceof ReferenceError||"ChunkLoadError"===n.name)return n.message;if(n)return`Error of type ${n.name} had a ${n.message?.length} characters long message`}catch{return"Error at cleanExceptionMessage"}}function t(n,d,s,h){if(!(s instanceof Error))try{throw new Error(`Error wrapper for thrown object: ${JSON.stringify(s)}`)}catch(m){s=m}if(!s.rejection||!(s.rejection.clientError&&s.rejection.clientError.ignorable||s.rejection.ignorable)){var o=s.message,v=s.stack;try{h?n.logChildEvent(h.event,d,{stack:v,message:o}):n.logEvent(d,{stack:v,message:o})}catch(m){}}}e.d(j,{Zk:function(){return t},lO:function(){return i},qd:function(){return a},tA:function(){return r}})},76772:function(me,j,e){e.d(j,{r:function(){return t}});var r=e(510958),i=e(285445),a=e(155210);class t{constructor(g=a.V.Group){this.focusNavMode=g}findNext(g,n=!0,d=!1){var s=this.getDomWalker(n),h=g.getAttribute(i.$N);return h===a.V.Group||h===a.V.Browser||d?this.traverseDown(g,s):this.searchFocusElement(g,s)}searchFocusElement(g,n){var d=this.traverseForward(n.getNextSibling(g),n);return d||(g.parentElement&&g.parentElement.getAttribute(i.$N)!==this.focusNavMode?d=this.searchFocusElement(g.parentElement,n):g.parentNode&&g.parentNode.nodeType===Node.ELEMENT_NODE&&g.parentNode.getAttribute(i.$N)!==this.focusNavMode&&(d=this.searchFocusElement(g.parentNode,n))),d}traverseForward(g,n){var d;if(g)return(0,i.AO)(g)?g:(null==g.getAttribute(r.JG)&&(d=this.traverseDown(g,n)),d||(d=this.traverseForward(n.getNextSibling(g),n)),d)}traverseDown(g,n){if(g&&g.getAttribute(i.$N)!==a.V.Skip)return this.traverseForward(n.getNextChild(g),n)}getDomWalker(g){return g?{getNextSibling:n=>n.nextElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,g):void 0:n.children[0]}:{getNextSibling:n=>n.previousElementSibling,getNextChild:n=>_.isEmpty(n.children)?n.hasChildNodes()?this.getNextChildNodes(n,g):void 0:n.children[n.children.length-1]}}getNextChildNodes(g,n){var d=g.childNodes,s=d.length,h=n?1:-1,o=n?0:s-1;do{var v=d[o];if(v&&v.nodeType===Node.ELEMENT_NODE)return v;o+=h}while(o>=0&&o<s)}}},457516:function(me,j,e){e.d(j,{a:function(){return d}});var r=e(510958),i=e(76772),a=e(285445),t=e(155210),l=e(770472),g=e(85947);class n{constructor(h){this.groupElement=h}findNext(h,o=!0){var y,v=h===this.groupElement?-1:this.getTabIndex(h),m=h!==this.groupElement&&!isNaN(v),p=o?1/0:0;return m||(v=o?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(C=>{var u=this.getTabIndex(C.elem);isNaN(u)||(o?u>v&&u<=p:u<v&&u>=p)&&(p=u,y=C.elem)}),y}getTabIndex(h){return parseFloat(h.getAttribute(a.UN))}buildTabOrderMany(h){var o=[];return h.forEach(v=>{null==v.getAttribute(r.JG)&&(o=_.concat(o,this.buildTabOrders(v)))}),o}buildTabOrders(h){var o=this.getTabIndex(h);return isNaN(o)?this.buildTabOrderMany([].slice.call(h.children)):[{tabOrder:o,elem:h}]}}class d{constructor(h=!1){this.skipCyclicNavigation=h}get name(){return t.V.Group}shouldHandleFocus(h,o){return!$.contains(o,l.N.getTabbableParent(h,o))}findNextElementToFocus(h,o){var v=d.getGroupNavigationElement(h);switch(o.keyCode){case r.cK.rightArrowKeyCode:case r.cK.downArrowKeyCode:if(d.groupElementSupportsArrows(v)&&!d.canHandleKeyEvents(h))return d.getFocusNextElement(!0);break;case r.cK.upArrowKeyCode:case r.cK.leftArrowKeyCode:if(d.groupElementSupportsArrows(v)&&!d.canHandleKeyEvents(h))return d.getFocusNextElement(!1);break;case r.cK.tabKeyCode:if(!l.N.isElementContentEditable(h))return d.getFocusNextElement(!o.shiftKey,void 0,this.skipCyclicNavigation);break;case r.cK.escKeyCode:return l.N.getTabbableParent(document.activeElement);case r.cK.enterKeyCode:if(v&&null!=v.getAttribute(a.Dg))return l.N.getFirstTabbableChild(document.activeElement)}}static getFocusNextElement(h,o=null,v=!1){var m=document.activeElement;if(o=o||d.getFirstFocusableParent(m)){var y,S,p=d.getGroupNavigationElement(o);if(p&&null!=p.getAttribute(a.Dg))S=(y=new n(p)).findNext(o,h);else{var C=(0,g.X1)(o)||(0,g.oQ)(o);C&&(S=(y=new g.IV).findNext(o,h)),(!S||!C)&&(S=(y=new i.r).findNext(o,h))}if(S)return S;if(o.getAttribute(a.$N)!==t.V.Group&&!v){var u=d.getParentGroupElement(o);return u?y.findNext(u,h):void 0}}}static getGroupNavigationElement(h){var o=h.getAttribute(a.$N);return o&&o===t.V.Group?h:d.getParentGroupElement(h)}static getFirstFocusableParent(h){if(!h)return null;if((0,a.AO)(h)||h.getAttribute(a.$N)===t.V.Group)return h;for(var o=h.parentElement||h.parentNode&&h.parentNode.nodeType===Node.ELEMENT_NODE?h.parentNode:null;o;){if((0,a.AO)(o)||o.getAttribute(a.$N)===t.V.Group)return o;o=o.parentElement||o.parentNode&&o.parentNode.nodeType===Node.ELEMENT_NODE?o.parentNode:null}return o}static getParentGroupElement(h){return $(h).parents(a.Sq).get(0)}static canHandleKeyEvents(h){return l.N.isElementContentEditable(h)||l.N.isTextElement(h)}static groupElementSupportsArrows(h){return!h||null==h.getAttribute(a.Dg)||null==h.getAttribute(a.j0)}}},770472:function(me,j,e){e.d(j,{N:function(){return r}});var r={isElementContentEditable:i=>$(i).closest("[contentEditable]").length>0,isTextElement(i){if($(i).is(":disabled"))return!1;var a=i.nodeName.toLowerCase();return i.nodeType===Node.ELEMENT_NODE&&("textarea"===a||"select"===a||"input"===a&&/^(?:text|email|number|search|tel|url|password)$/i.test(i.type))},contains:(i,a)=>!!(a.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINS),getFirstMatchingAncestor(i,a,t,l=!0){var g=i;if(g!==(t=t||document.body)||l&&a(g))for(!l&&i&&(g=g.parentElement||g.parentNode||void 0);g&&g!==document.body&&g.nodeType===Node.ELEMENT_NODE;){if(a(g))return g;if(g===t)break;g=g.parentElement||g.parentNode||void 0}},isElementTabbable:i=>!0===$(i).is(":tabbable"),getTabbableParent(i,a){return a=a||document.body,this.getFirstMatchingAncestor(i,this.isElementTabbable,a,!1)},getFirstTabbableChild(i){return this.getTabbableChildren(i)[0]},getTabbableDescendants:i=>$(i).find(":tabbable").get(),getTabbableChildren(i){return _.filter(this.getTabbableDescendants(i),a=>!$.contains(i,this.getTabbableParent(a,i)))},getTabbableSiblingsMatch(i,a,t=document.body){var l=r.getTabbableSiblings(i,t);return _.filter(l,a)},getNextTabbableMatchingSibling(i,a,t){t=t||document.body;var l=this.getTabbableSiblingsMatch(i,a,t);if(l.length>0)return l[0]},getPrevTabbableMatchingSibling(i,a,t){t=t||document.body;var l=this.getTabbableSiblingsMatch(i,a,t);if(l.length>0)return l[l.length-1]},getTabbableSiblings(i,a){a=a||document.body;var t=this.getTabbableParent(i,a);if((!t||a&&$.contains(t,a))&&(t=a),t){var l=this.getTabbableChildren(t),g=[],n=0;for(var d of l)d===i||this.contains(i,d)?n=0:g.splice(n++,0,d);return g}return[]},getNextTabbableSibling(i,a){return a=a||document.body,this.getTabbableSiblings(i,a)[0]},getPrevTabbableSibling(i,a){a=a||document.body;var t=this.getTabbableSiblings(i,a);return t[t.length-1]},isElementVisible:i=>$(i).is(":visible"),getParentFocusElement:i=>$(i).parents(":tabbable:first").get(0)}},85947:function(me,j,e){e.d(j,{IV:function(){return t},Kv:function(){return l},X1:function(){return n},oQ:function(){return g}});var r=e(285445),i=e(155210),a=e(770472);class t{constructor(y=i.V.Group){this.focusNavMode=y}findNext(y,S=!0,C=!0,u=!1){var E;if(u||n(y))(E=this.getFirstActiveChild(y))||(E=this.getNextTabOrderChild(y,S,h(S)));else if(g(y))E=this.getNextTabOrderSibling(y,S,C);else if(null!=y.getAttribute(r.UQ)){var c=function(p,y){var S=$(p).closest(`[${y}]`);return S&&S.get(0)}(y,r.Sy);E=this.getNextTabOrderSibling(c,S,C)}return E}getNextTabOrderSibling(y,S,C){var f,u=y.getAttribute(r.Sy),E=parseFloat(u);if(!isNaN(E)){var D=function(p,y){var S=y===i.V.HierarchicalTabOrder?r.J$:r.Sq;return $(p).parents(S)[0]}(y,this.focusNavMode);if(!D)return;!(f=this.getNextTabOrderChild(D,S,E))&&C&&(f=this.getNextTabOrderChild(D,S,h(S)))}return f}getFirstActiveChild(y){var S;return $(y).find(`[${r.$Y}]`).each((u,E)=>{d(E)&&(S=E)}),S}getNextTabOrderChild(y,S,C){var u,E,c=$(y).find(`[${r.Sy}]`);return this.focusNavMode===i.V.HierarchicalTabOrder&&(c=c.filter((f,D)=>a.N.getTabbableParent(D)===y)),c.each((f,D)=>{var b=l(D);d(D)?u=D:a.N.isElementTabbable(D)&&(S?b<C:b>C)&&(void 0===u&&void 0===E||(S?b>E:b<E))&&(E=b,u=D)}),u}}function l(p){if(p.hasAttribute(r.Sy))return parseFloat(p.getAttribute(r.Sy))}function g(p){return null!=p.getAttribute(r.Sy)}function n(p){return null!=p.getAttribute(r.tN)}function d(p){return null!=p.getAttribute(r.$Y)}function h(p){return p?10000001:-10000001}},155210:function(me,j,e){e.d(j,{V:function(){return r}});var r=function(i){return i.Browser="Browser",i.Hierarchy="Hierarchy",i.Group="Group",i.HierarchicalTabOrder="HierarchicalTabOrder",i.Skip="Skip",i}({})},285445:function(me,j,e){e.d(j,{$N:function(){return l},$Y:function(){return s},AO:function(){return t},Dg:function(){return n},J$:function(){return p},Sq:function(){return m},Sy:function(){return d},UN:function(){return o},UQ:function(){return h},hE:function(){return i},iR:function(){return a},j0:function(){return v},tN:function(){return g}});var r=e(155210),i="focusManager_focus",a="focusManager_focusOn";function t(y){return!0===$(y).is(":tabbable")&&!1===$(y).is(":disabled")}var l="focus-nav-mode",g="tab-order-enabled",n="tab-order-recursive-enabled",d="tab-order",s="tab-active",h="tab-order-child",o="tabindex",v="skip-arrow-navigation",m=`[${l}="${r.V.Group}"]:first`,p=`[${l}="${r.V.HierarchicalTabOrder}"]:first`},614960:function(me,j,e){e.d(j,{c_:function(){return p},EI:function(){return D}});var r=e(510958),i=e(753771),a=e(866752),t=e(457516),l=e(770472),g=e(155210);class n{get name(){return g.V.Hierarchy}shouldHandleFocus(){return!0}findNextElementToFocus(T,M,V){switch(M.keyCode){case r.cK.tabKeyCode:if(l.N.isElementContentEditable(T))return;var w=l.N.getTabbableChildren(V),P=l.N.getTabbableParent(T,V)===V;if(M.shiftKey){if(w.length>0&&(T!==w[0]||P))return l.N.getPrevTabbableSibling(T,V)}else{if(w.length>0&&(T!==w[w.length-1]||P))return l.N.getNextTabbableSibling(T,V);var N=l.N.getTabbableDescendants(V);if(N.length>0)return void N[N.length-1].focus()}break;case r.cK.escKeyCode:if(T!==V)return l.N.getTabbableParent(T);break;case r.cK.enterKeyCode:return l.N.getFirstTabbableChild(T)}}}var d=e(76772),s=e(285445),h=e(85947);class o{get name(){return g.V.HierarchicalTabOrder}shouldHandleFocus(T){return!l.N.isElementContentEditable(T)}findNextElementToFocus(T,M){var P,V=T.hasAttribute(s.tN),w=T.getAttribute(s.$N)===g.V.HierarchicalTabOrder;switch(M.keyCode){case r.cK.rightArrowKeyCode:case r.cK.downArrowKeyCode:P=o.getFocusNextElement(T,!0,V);break;case r.cK.upArrowKeyCode:case r.cK.leftArrowKeyCode:P=o.getFocusNextElement(T,!1,V);break;case r.cK.tabKeyCode:P=o.getFocusNextElement(T,!M.shiftKey,V);break;case r.cK.escKeyCode:P=l.N.getTabbableParent(document.activeElement);break;case r.cK.enterKeyCode:P=w?o.getFocusNextElement(T,!0,!0):void 0}return P}static getFocusNextElement(T,M,V){var N,w=T.hasAttribute(s.tN);if((void 0!==(0,h.Kv)(T)||w)&&(N=new h.IV(g.V.HierarchicalTabOrder).findNext(T,M,!0,V)),!N){var O=new d.r(g.V.HierarchicalTabOrder);if(!(N=O.findNext(T,M,V))&&!V){var R=$(T).parents(s.J$)[0];N=O.findNext(R,M,!0)}}return N}}var v="return-focus-element-attribute",m=0,p=(()=>{class b{constructor(){this.registeredElements=[],this.shortcutContainer=new D}get keyboardFocused(){return b.keyboardFocused}set keyboardFocused(M){b.keyboardFocused=M}static getInstance(){return this._instance||(this._instance=new b)}register(M,V=!1,w=!1){var P=[new t.a(w),new n,new o],N=R=>this.handleKeyPress(R,V,P);_.includes(this.registeredElements,M)||(M.addEventListener("keydown",N),this.registeredElements.push(M));var I=_.find(this.registeredElements,M);return()=>{I.removeEventListener("keydown",N),_.pull(this.registeredElements,M)}}registerShortcut(M){this.shortcutContainer.add(M)}unregisterShortcut(M){this.shortcutContainer.remove(M)}static focusChildInGroup(M,V){var w=M.getAttribute(s.$N)===g.V.Group?M:$(M).find(s.Sq).get(0);w&&b.focus(t.a.getFocusNextElement(!0,w),V)}static focusChildInCanvas(M){var w=M.getAttribute(s.$N)===g.V.HierarchicalTabOrder?M:$(M).find(s.J$)[0];w&&b.focus(o.getFocusNextElement(w,!0,!0))}static focus(M,V=!0){if(M){var w=document.activeElement;a.b.setTimeout(()=>{i.C.focus(M),$(M).triggerHandler(s.iR,w),$(M).trigger(s.hE,w),V&&(b.keyboardFocused=!0,$("html").attr("data-focus-source","key")),M&&$(M).removeAttr(s.$Y)})}}focus(M,V=!0){b.focus(M,V)}focusOnGroupByIndex(M,V,w,P,N){this.shortcutContainer.handleByPriority(M,V,w,P,N)}static setFocusOnPreviousElementOnDestroy(M,V,w){var P;return M.on(s.hE,(N,I)=>{N.stopPropagation(),I&&(!V||void 0===P)&&!$.contains(M[0],I)&&(P=m++,I.setAttribute(v,P.toString()))}),()=>{var N=document.activeElement;if(void 0!==P){var I=document.documentElement.querySelector(`[${v}="${P}"]`);I&&$(I).closest(document.documentElement)&&(!w||$.contains(M[0],N))&&b.focus(I,!1)}}}handleKeyPress(M,V,w){if(this.handleShortcut(M))return M.stopPropagation(),void M.preventDefault();var P=document.activeElement;if(P){for(var N,R,I=l.N.getFirstMatchingAncestor(P,W=>W.hasAttribute(s.$N),document.body),O=function(){var W=I.getAttribute(s.$N);if(W===g.V.Browser)return{v:void 0};var F=_.find(w,U=>U.name===W);if(F&&F.shouldHandleFocus(P,I)&&(N=F.findNextElementToFocus(P,M,I)),N)return 0;I=l.N.getFirstMatchingAncestor(I,U=>U.hasAttribute(s.$N),document.body,!1)};I&&I!==document.body&&0!==(R=O());)if(R)return R.v;N&&b.focus(N),V&&M.stopPropagation(),N&&M.keyCode!==r.cK.enterKeyCode&&M.keyCode!==r.cK.spaceKeyCode&&(M.stopPropagation(),M.preventDefault())}}handleShortcut(M){return this.shortcutContainer.handle(M)}focusNextElement(M){b.focus(t.a.getFocusNextElement(!0,M))}}return b.keyboardFocused=!1,b})(),u=function(b){return b[b.SHIFT=512]="SHIFT",b[b.CTRL=1024]="CTRL",b[b.ALT=2048]="ALT",b}({});class D{constructor(){this.shortcuts=[],this.scopedShortcuts=[]}add(T){var M=this.getKeyCode(T.keycode,T.shift,T.alt,T.ctrl),V=T.scoped?this.scopedShortcuts:this.shortcuts;V[M]&&!_.find(V[M],w=>$(w.element).is(T.element))?V[M].push(T):_.isEmpty(this.shortcuts[M])&&(V[M]=[T])}remove(T){var M=this.getKeyCode(T.keycode,T.shift,T.alt,T.ctrl);_.remove((T.scoped?this.scopedShortcuts:this.shortcuts)[M],w=>$(w.element).is(T.element))}handle(T){if(T.keyCode>256)return!1;var M=i.C.isCtrlOrMeta(T),V=this.getKeyCode(T.keyCode,T.shiftKey,T.altKey,M),w=T.shiftKey&&M&&1653===V,P=this.findScopedShortcut(V);if(!P){var N=this.filterGroups(this.shortcuts[w?1141:V]);if(_.isEmpty(N))return!1;P=this.getNextShortcutElementToFocus(N,void 0,w)}return!!P&&(this.focusOnGroup(P),!0)}handleByPriority(T,M,V,w,P){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(T,M,V,w)]),P))}focusOnGroup(T){T.getAttribute(s.$N)===g.V.HierarchicalTabOrder?p.focus(o.getFocusNextElement(T,!0,!0)):p.focus(t.a.getFocusNextElement(!0,T))}getKeyCode(T,M,V,w){var P=T;return M&&(P|=u.SHIFT),w&&(P|=u.CTRL),V&&(P|=u.ALT),P}filterGroups(T){return _.filter(T,M=>{var V=l.N.isElementVisible(M.element);return M.element.getAttribute(s.$N)===g.V.HierarchicalTabOrder?V&&!!o.getFocusNextElement(M.element,!0,!0):V&&!!t.a.getFocusNextElement(!0,M.element)})}static getFocusPriority(T,M=!0){if(T){var V=T.getAttribute("focus-priority");if(null!=V)return parseInt(V,10);if(null!=T.parentElement&&M)return this.getFocusPriority(T.parentElement)}}getFocusPriority(T,M=!0){return D.getFocusPriority(T,M)}findScopedShortcut(T){var M=document.activeElement,V=this.findExtendedScope(M),P=this.filterGroups(this.scopedShortcuts[T]);if(!_.isEmpty(P)&&M)for(var N of P)if(N&&($(M).is(N.element)||$.contains(M,N.element)||V&&($(V).is(N.element)||$.contains(V,N.element))))return N.element}findExtendedScope(T){for(var M=T;M;){if(M.attributes.getNamedItem("extended-shortcut-scope"))return M;M=M.parentElement}}findCurrentFocusedShortcutElement(T){if(document.activeElement)for(var M=document.activeElement;M;){if(M.getAttribute("keyboard-shortcuts")===T)return M;M=M.parentElement}}getNextShortcutElementToFocus(T,M,V=!1){var w=(T=_.sortBy(T,W=>W.focusPriority))[0];if(document.activeElement&&T.length>1)for(var P=null==M?this.findCurrentFocusedShortcutElement(w.shortcutString):null,N=0;N<=T.length-1;N++){var I=T[N];if(null!=M&&M>(I.focusPriority||-1)||P&&$(P).is(I.element)){w=T[(V?0===N?T.length-1:N-1:N+1)%T.length];break}}return w?.element}}},567759:function(me,j,e){e.d(j,{A:function(){return i}});var r=e(212554),i={LuciaDomainModelChangedEvent:{type:r.U.Global,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:r.U.Global,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:r.U.Global,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:r.U.Global,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:r.U.Global,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:r.U.Global,name:"WindowStateChangedEvent"},UpdateAvailableEvent:{type:r.U.Global,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:r.U.Global,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:r.U.Global,name:"OpenFileMenuEvent"}}},531353:function(me,j,e){e.d(j,{Cy:function(){return h},I6:function(){return a},Mr:function(){return g},Os:function(){return o},TF:function(){return n},WQ:function(){return l},bz:function(){return v},iQ:function(){return s},ro:function(){return t},zi:function(){return m}});var r=e(935236),i=e(785463);function a(E,c){var f;if(E&&c)return S(E,c,(D,b,T)=>(f=b,D)),f}function t(E,c){var f;return S(E.name,c,(D,b,T)=>(f=D,D)),f}function l(E,...c){return[...E||[],...c||[]]}function g(E,c,f){return S(c.name,f,(D,b,T)=>{if(!u(b))return i.Y.assertFail("should find group item"),D;var M=b.clone?b.clone():_.clone(b);for(var V of(M.children=[...b.children||[],E],M.children))V.parentGroup=M;return(0,r.cd)(D,w=>w===b?M:w)})}function n(E,c,f=!0){return c=S(E.name,c,(D,b,T)=>(0,r._u)(D,M=>b!==M)),f&&(c=y(c)),c}function s(E,c){return y(E=C(E,f=>(0,r._u)(f,D=>!c(D))))}function h(E,c,f,D){return E.forEach(b=>b.parentGroup=void 0),f=function(E,c,f=!0){return c=C(c,D=>{var b=_.differenceWith(D,E,(T,M)=>T.name===M.name);return b.length===D.length?D:b}),f&&(c=y(c)),c}(E,f,!1),y(f=S(c.name,f,(b,T,M)=>(0,r.eL)(b,V=>V===T?D?[V,...E]:[...E,V]:[V])))}function o(E,c){for(var f of E.children)f.parentGroup=E;return c=function(E,c,f){return C(f,D=>(0,r.eL)(D,b=>b===E[0]?[c]:_.includes(E,b)?[]:[b]))}(E.children,E,c),y(c)}function v(E,c){for(var f of E.children)f.parentGroup=void 0;return S(E.name,c,(D,b,T)=>(0,r.eL)(D,M=>M===E?E.children:[M]))}function m(E,c,f){var D=f||[];for(var b of E)u(b)?D=m(b.children,c,D):c(b)&&(D=[...D||[],b]);return D}function y(E){return C(E,c=>(0,r._u)(c,f=>!u(f)||!_.isEmpty(f.children)))}function S(E,c,f){i.Y.assertValue(c,"itemGrouping - itemList"),i.Y.assertValue(E,"itemGrouping - targetName"),i.Y.assertValue(f,"itemGrouping - callback");for(var b,D=function(){var M=c[T];if(M.name===E)return{v:f(c,M,T)};if(u(M)){var V=S(E,M.children,f);if(V!==M.children){var w=M.clone?M.clone():_.clone(M);for(var P of(w.children=V,w.children))P.parentGroup=w;return{v:(0,r.cd)(c,N=>N===M?w:N)}}}},T=0;T<c.length;T++)if(b=D())return b.v;return c}function C(E,c){i.Y.assertValue(E,"itemGrouping - itemList"),i.Y.assertValue(c,"itemGrouping - callback");var f=function(b){if(u(b)){var T=C(b.children,c);if(T!==b.children){var M=b.clone?b.clone():_.clone(b);for(var V of(M.children=T,M.children))V.parentGroup=M;E=(0,r.cd)(E,w=>w===b?M:w)}}};for(var D of E)f(D);return E=c(E)}function u(E){return void 0!==E.children}},993629:function(me,j,e){e.d(j,{vt:function(){return g}});var l,r=e(785463),i=e(871090),a=e(898145);class t{constructor(d){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}copyText(d,s,h){var o;r.Y.assertValue(d,"copyText didn't get a value"),"string"==typeof d?o=d:"function"==typeof d?o=d():r.Y.assertNever(d),this.copyToClipboard(o),this.logTelemetry(s,a.ei.Value,h)}copyGrid(d,s,h){r.Y.assertValue(d,"copyGrid didn't get a value");var{grid:o,coveragePercentage:v}=d(),m=[];if(!_.isEmpty(o))for(var p of o)_.isEmpty(p)||m.push(_.map(p,y=>null==y?"":this.removeBreaks(y)).join("\t"));this.copyToClipboard(m.join("\n")),this.logTelemetry(s,a.ei.Selection,h,v)}removeBreaks(d){return d.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")}copyToClipboard(d){this.element.value=d,document.body.appendChild(this.element);var s=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),s&&s.focus()}logTelemetry(d,s,h,o){d&&d.logEvent(i.eo,{copyType:s,visualType:h||"(unknown)",copySelectionPercentage:o||0})}}function g(){return l||(l=new t),l}},871090:function(me,j,e){e.d(j,{$D:function(){return m},B0:function(){return Ee},Br:function(){return Ye},Cn:function(){return o},H6:function(){return M},I$:function(){return X},Iz:function(){return K},JG:function(){return E},NW:function(){return oe},TT:function(){return N},TW:function(){return w},U2:function(){return O},UB:function(){return Le},UE:function(){return x},X_:function(){return Ce},eo:function(){return ut},ez:function(){return ze},fQ:function(){return ae},ir:function(){return W},jr:function(){return R},o0:function(){return Me},xI:function(){return b},yC:function(){return be},z9:function(){return Z},zv:function(){return Q}});var r=e(817491),i="BaseEvent",t=(r.Xi[i]=(0,r.Vp)(i),"TimedEvent"),g=(r.Xi[t]=(0,r.Vp)(t),"Verbose"),d=(r.Xi[g]=(0,r.Vp)(g),"VerboseTimedEvent"),h=(r.Xi[d]=(0,r.Vp)(d),"Trace"),o=r.Xi[h]=(0,r.Vp)(h),v="Error",m=r.Xi[v]=(0,r.Vp)(v),p="ErrorWithStackTrace",S=(r.Xi[p]=(0,r.Vp)(p),"ErrorWithStackTraceAndSourceDetails"),u=(r.Xi[S]=(0,r.Vp)(S),"LLMEncodingError"),E=r.Xi[u]=(0,r.Vp)(u),c="CustomerAction",D=(r.Xi[c]=(0,r.Vp)(c),"PBI.Dashboard.RootSession"),b=r.Xi[D]=(0,r.Vp)(D),T="PBI.WFE.Error",M=r.Xi[T]=(0,r.Vp)(T),V="PBI.Dashboard.ErrorDialog",w=r.Xi[V]=(0,r.Vp)(V),P="PBI.Dashboard.UnhandledAngularException",N=r.Xi[P]=(0,r.Vp)(P),I="PBI.Data.Exception",O=r.Xi[I]=(0,r.Vp)(I),R="PBI.Visual.Exception",W=r.Xi[R]=(0,r.Vp)(R),F="PBI.Dashboard.UnhandledException",B=(r.Xi[F]=(0,r.Vp)(F),"PBI.HandledException"),x=r.Xi[B]=(0,r.Vp)(B),A="PBI.Dashboard.ReportTilePopulateException",Y=(r.Xi[A]=(0,r.Vp)(A),"PBI.Dashboard.UnhandledStacklessException"),H=(r.Xi[Y]=(0,r.Vp)(Y,{logRatio:1e-4}),"PBI.Visual.Error"),Z=r.Xi[H]=(0,r.Vp)(H),k="PBI.WFE.ReopenUserAccount",K=r.Xi[k]=(0,r.Vp)(k),ee="PBI.WFE.AccountClosedPage",Q=r.Xi[ee]=(0,r.Vp)(ee),J="PBI.WFE.AbtSignoutRedirectPage",X=r.Xi[J]=(0,r.Vp)(J),ne="PBI.Visual.Warning",ae=r.Xi[ne]=(0,r.Vp)(ne),oe="PBI.Visual.ApiUsage",Me=r.Xi[oe]=(0,r.Vp)(oe),Ye="PBI.Visual.CustomVisualsGenericEvent",Le=r.Xi[Ye]=(0,r.Vp)(Ye),lt="PBI.EX.CopyActionClicked",ut=r.Xi[lt]=(0,r.Vp)(lt),St="StartActivity",ze=r.Xi[St]=(0,r.Vp)(St),Be="EndActivity",Ce=r.Xi[Be]=(0,r.Vp)(Be),Ae="PBI.App.SignInError",be=r.Xi[Ae]=(0,r.Vp)(Ae),Ie="PBI.App.TokenRefreshError",xe=(r.Xi[Ie]=(0,r.Vp)(Ie),"PBI.Storytelling.BrowserNotSupportedLoaded"),Ee=r.Xi[xe]=(0,r.Vp)(xe)},200773:function(me,j,e){e.d(j,{Hv:function(){return t},PR:function(){return n},WB:function(){return a},aD:function(){return g},hM:function(){return l},iD:function(){return d}});var r=e(125129),i=e(879460);function a(s){return!!s&&s.getProperty("name")===r.n.OpenReport}function t(s){return!!s&&s.getProperty("name")===r.n.ChangeReportPage}function l(s,h){return h&&g(s,h.getProperty("parent"))}function g(s,h){for(;h;){if(s(h))return h;h=h.parent}}class n{constructor(h){this.keepAlive=h?.keepAlive()}cancel(){this.keepAlive?.cancel()}resolve(){this.keepAlive?.resolve()}reject(h){this.keepAlive?.reject(h)}}class d extends i.eo{constructor(h,o){super(h),this.level=o}}},898145:function(me,j,e){e.d(j,{ei:function(){return a},gf:function(){return r},vI:function(){return i}});var r=function(t){return t.PowerBI="PowerBI",t.External="External",t.User="User",t}({}),i=function(t){return t.Master="Master",t.PhonePortrait="PhonePortrait",t}({}),a=function(t){return t.Value="Value",t.Selection="Selection",t.VisualContract="VisualContract",t}({})},864508:function(me,j,e){e.d(j,{JO:function(){return o},Vn:function(){return d},Xr:function(){return s},o6:function(){return n}});var r=e(624608),i=e(785463),a=e(659956),t=e(566296),l=e(871090),g="v2",n=function(v){return v[v.None=0]="None",v[v.Start=1]="Start",v[v.End=2]="End",v[v.StartAndEnd=3]="StartAndEnd",v}({}),d=function(v){return v[v.Awaited=0]="Awaited",v[v.FireAndForget=1]="FireAndForget",v}({});function s(v,m=n.StartAndEnd,p=d.Awaited){return(y,S,C)=>{i.Y.assertValue(y,"target"),i.Y.assertValue(S,"propertyKey");var u=C.value;return C.value=function(...E){i.Y.assert(()=>!_.isEmpty(v),"eventName"),i.Y.assert(()=>m!==n.None,"activityAction");for(var c=(0,t.kl)();!(c===window.top||c.featureSwitchService&&c.telemetryService);)c=c.parent;var T,f=c.featureSwitchService,D=c.telemetryService,b=!1;if(f&&f.isFeatureSwitchesRegistered()&&f.featureSwitches&&f.featureSwitches.telemetryV2&&D||(b=!0),b)return T=u.apply(this,E);var M=Zone&&Zone.current,V=M&&M.get("data"),w=V&&V.monitoredActivity;(0,a.Lt)(m,n.Start)&&(w=D.startMonitoredActivity(w,v,{baseVersion:g,isFireAndForget:p===d.FireAndForget||void 0}),M=w.currentZone),i.Y.assertValue(M,"currentZone");try{M.run(()=>T=u.apply(this,E))}catch(P){if((0,a.Lt)(m,n.End))return void h(w,P);throw P}return(0,a.Lt)(m,n.End)&&(i.Y.assert(()=>M.name===v,"Event name should be same as the current zone name"),T&&_.isObject(T)&&T.then&&_.isFunction(T.then)?T.then(()=>{h(w)},P=>{h(w,P)}):(i.Y.assertValue(w,"Decorated method called without a start action"),h(w))),T},C}}function h(v,m){i.Y.assertValue(v,"Decorated method called without a start action"),v&&(m?v.reject(m):v.resolve())}function o(v,m,p){return function(y,S,C){i.Y.assertValue(y,"target"),i.Y.assertValue(S,"propertyKey");var u=C.value,E=C.value.length,c=E-1;return C.value=function(...f){var D=f.length,b={},M=E>D;(m&&!M||p&&p>=D)&&i.Y.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),f=m&&M?f.concat([...Array(c-f.length),B=>{b.telemetryServiceArgs=B.telemetryServiceArgs,b.activityAttributesArgs=B.activityAttributesArgs}]):f;for(var w=this.proxy?.plugin?.name,P=p&&p<D?f[p]:w||"",N=(0,t.kl)();!(N===window.top||N.telemetryService&&N.certifiedEventsService);)N=N.parent;var I=N.telemetryService,O=N.certifiedEventsService,R=(B,x={})=>{O?.logStandardizedFeatureEvent({visualId:P,correlationId:I?.root?.id,activityName:l.Br,activityAttributes:{...x,apiName:v},activityStatus:B})},W=(B,x,A)=>{I?.logEvent(l.UB,{apiName:v,visualType:P,errorOccurred:B,reason:A,additionalInfo:x})};try{var F=u.apply(this,f);if(F&&_.isObject(F)&&F.then&&_.isFunction(F.then))return F.then(B=>{var x=m?JSON.stringify(b.telemetryServiceArgs):void 0;return W(!1,x),R(r.A.Succeeded,b.activityAttributesArgs),B},B=>{var x=m?JSON.stringify(b.telemetryServiceArgs):void 0;throw W(!0,x,B),R(r.A.Failed,b.activityAttributesArgs),B});var U=m?JSON.stringify(b.telemetryServiceArgs):void 0;return W(!1,U),R(r.A.Succeeded,b.activityAttributesArgs),F}catch(B){throw W(!0,void 0,B),R(r.A.Failed),B}},C}}},566982:function(me,j,e){e.d(j,{C$:function(){return g},E2:function(){return m},Jd:function(){return d},M8:function(){return h},Yr:function(){return o},b7:function(){return v},pO:function(){return n},wH:function(){return p}});var r=e(600441),i=e(51161),a=e(736668),t=e(359315),l=e(898145);function g(S){switch(S){case 2:return i.gf.External;case 1:return i.gf.User;default:return i.gf.PowerBI}}function n(S,C,u){var E=h(S,u);return E&&(E.errorMessage=C),E}function d(S,C){var u=h(S,C);return u&&(u.errorMessage=S.message),u}function h(S,C,u){if(S&&S.code){var E=S.code,c=S["pbi.error"]&&S["pbi.error"].exceptionCulprit;return null!=c?u?{errorCode:E,errorSource:y(c),requestId:u}:{errorCode:E,errorSource:y(c)}:function(S,C){return C===r.k.Unauthorized||C===r.k.Forbidden||C===r.k.TooManyRequests||S===a.bQ.Code||S===r.k.Unauthorized.toString()||S===r.k.Forbidden.toString()||S===r.k.TooManyRequests.toString()}(E,C)?u?{errorCode:E,errorSource:l.gf.User,requestId:u}:{errorCode:E,errorSource:l.gf.User}:u?{errorCode:E,errorSource:l.gf.PowerBI,requestId:u}:{errorCode:E,errorSource:l.gf.PowerBI}}if(null!=C){var f=C===r.k.TooManyRequests?l.gf.User:l.gf.PowerBI;return u?{errorCode:"HttpStatusCode = "+C,errorSource:f,requestId:u}:{errorCode:"HttpStatusCode = "+C,errorSource:f}}}function o(S,C){var u=h(S,C);if(u)return null!=C&&(C===r.k.BadRequest||C===r.k.Unauthorized||C===r.k.Forbidden||C===r.k.TooManyRequests||C===r.k.NotFound)&&(u.errorSource=l.gf.User),u}function v(S){if(S)return{errorCode:S.errorCode,errorMessage:"StatusCode="+S.statusCode,errorSource:null!=S.exceptionCulprit?p(S.exceptionCulprit):void 0}}function m(S){if(S){if(S.error)return S.error.code;if(S.status)return S.status.toString()}}function p(S){switch(S){case t.eZ:return l.gf.External;case t.Qw:return l.gf.User;default:return l.gf.PowerBI}}function y(S){switch(S){case 2:return l.gf.External;case 1:return l.gf.User;default:return l.gf.PowerBI}}},817491:function(me,j,e){e.d(j,{Xi:function(){return l},FP:function(){return h},DJ:function(){return y},Vp:function(){return p},ih:function(){return d},OO:function(){return u},$F:function(){return s},DK:function(){return S}});var r=e(785463),i=e(253261),a=e(928912),l={},g=a.n4.generateGuid,n=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function d(E){var f,b,c=0;if(0===E.length)return c;var T=E.toLowerCase();for(f=0,b=T.length;f<b;f++)c=(c<<5)-c+T.charCodeAt(f),c|=0;return c}function s(E){return d(E).toString()}function h(E,c,f){r.Y.assertAnyValue(E,"requiredFields"),r.Y.assertAnyValue(c,"optionalFields"),r.Y.assertAnyValue(f,"target");var D=f||E||{};if(f&&E&&(f=function(E,c,f){if(E||c)return!E||c?E||!c?$.extend(E,c,f):c:E}(f,E)),c)for(var b in c)if(c.hasOwnProperty(b)){var T=c[b];void 0!==T&&!1!==T&&(D[b]=T)}return D}function p(E,c){return f=>({name:E,time:(0,i.t)(),id:g(),...c,info:f,formatted:()=>function(E,c,f){if(f){var D=[];for(var b in f){var T=c[f[b]];(void 0===T||!1===T)&&D.push(f[b])}c=_.omit(c,D)}return _.extend(E,c),E}({},f,c?.optionalParameters)})}function y(E,c){r.Y.assert(()=>!_.isEmpty(E),"eventName"),r.Y.assertValue(c,"info"),r.Y.assertValue(Zone,"Zone");var f=Zone.current;if(f&&f.name===E){var D=f.get("data");if(D){for(var b of n)if(void 0!==c[b])throw new Error("Field '"+b+"' is restricted from override.");_.extend((D.monitoredActivity&&D.monitoredActivity.activityEvent).info,c)}else r.Y.assertFail("No data field is stored in current zone")}else r.Y.assertFail(`This method is expected to be used with ZoneJS and current Zone match the event name. event=${E}, currentZone=${f&&f.name}`)}function S(E,c,f){return E?E.run(()=>c.apply(f)):f?f.fn():c()}function C(E){return E&&!0===E.get("isAngularZone")}function u(E){for(var c=!1,f=E;f&&C(f);){if(f._zoneDelegate._taskCounts.microTask>0){c=!0;break}f=f.parent}return c}},802701:function(me,j,e){e.d(j,{X:function(){return a}});var r=e(894361),i=function(t){return t[t.Member=0]="Member",t[t.Guest=1]="Guest",t}({});class a{static getFullName(){var l=(0,r.ug)();return l.givenName+" "+l.surname}static isInternalUser(){var l=(0,r.ug)();if(!l||!l.name)return!1;var g=l.name.toLowerCase();return g.indexOf("@microsoft.com")>=0||g.indexOf(".microsoft.com")>=0}static getUPN(){return(0,r.ug)().name}static getEmailAddressForReceivingMail(){var l=(0,r.ug)();return null==l?"":_.isEmpty(l.alternateEmail)?l.name:l.alternateEmail}static isEntraExternalUser(){var l=(0,r.ug)();return!!l&&!!l.idp&&l.idp!==l.iss}static userAccountStatus(){var l=(0,r.ug)();return l&&1===l.acct?i.Guest:i.Member}}},464586:function(me,j,e){e.d(j,{Oo:function(){return g},wk:function(){return n},MG:function(){return l}});var r=e(19930);function i(){var v=(0,r.N)();return v.telemetry||(v.telemetry={}),v.telemetry}var t=e(871090),l="PowerBI.com",g="ActivityId",n="RequestId";i().WFEError||(i().WFEError=t.H6),i().AppSignInError||(i().AppSignInError=t.yC,i().WFEAccountClosedPage=t.zv,i().WFEReopenUserAccount=t.Iz),i().WFEAbtSignoutRedirectPage||(i().WFEAbtSignoutRedirectPage=t.I$),i().StorytellingBrowserNotSupportedLoaded||(i().StorytellingBrowserNotSupportedLoaded=t.B0)},205775:function(me,j,e){e.d(j,{YR:function(){return a},au:function(){return i},o8:function(){return t}}),e(785463);var i=function(n){return n[n.Verbose=0]="Verbose",n[n.CustomerAction=1]="CustomerAction",n[n.CriticalError=2]="CriticalError",n[n.Trace=3]="Trace",n[n.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",n}({}),a=function(n){return n[n.LocalyticsDeprecated=1]="LocalyticsDeprecated",n[n.AppInsightDeprecated=2]="AppInsightDeprecated",n[n.AppInsight=4]="AppInsight",n[n.Etw=8]="Etw",n[n.Mobile=16]="Mobile",n[n.WinJs=32]="WinJs",n[n.Designer=64]="Designer",n[n.NgRx=128]="NgRx",n[n.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",n[n.DatahubEmbedLocal=800]="DatahubEmbedLocal",n}({});function t(){return window.powerbi.telemetrySamplingRules}},201991:function(me,j,e){e.d(j,{T9:function(){return y},e3:function(){return t},eq:function(){return p},ge:function(){return m},gt:function(){return o},lt:function(){return v},tw:function(){return l},x6:function(){return d}});var r=e(785463),i=e(136834),a={major:0,minor:0,patch:0},t="0.0",l="99.9",g=function(c){return c[c.Major=0]="Major",c[c.Minor=1]="Minor",c[c.Patch=2]="Patch",c[c.Prerel=3]="Prerel",c}({}),n=function(c){return c[c.Dot=46]="Dot",c[c.Dash=45]="Dash",c[c.Zero=48]="Zero",c[c.Nine=57]="Nine",c[c.A=65]="A",c[c.Z=90]="Z",c[c.a=97]="a",c[c.z=122]="z",c}({});function d(c){r.Y.assertValue(c,"versionString");for(var T,f=0,D=0,b=0,M=g.Major,V=0,w=0,P=c.length;V<=P;V++){var N=V===P?n.Dot:c.charCodeAt(V);switch(N){case n.Dot:case n.Dash:if(V===w)return;var I=(0,i.c)(c,w,V-w);if(null==I)return;switch(M){case g.Major:f=I;break;case g.Minor:D=I;break;case g.Patch:b=I;break;default:return}if(M++,w=V+1,N===n.Dash){if(M!==g.Prerel||!s(T=c.substr(V+1)))return;V=P}break;default:if(N<n.Zero||N>n.Nine)return}}var O={major:f,minor:D,patch:b};return T&&(O.prerel=T),O}function s(c){r.Y.assertValue(c,"prerel");for(var f=0,D=c.length;f<D;f++){var b=c.charCodeAt(f);if(!(n.A<=b&&b<=n.Z||n.a<=b&&b<=n.z||n.Zero<=b&&b<=n.Nine||b===n.Dash||b===n.Dot))return!1}return!0}function o(c,f){return r.Y.assertValue(c,"v1"),r.Y.assertValue(f,"v2"),C(S(c),S(f))>0}function v(c,f){return r.Y.assertValue(c,"v1"),r.Y.assertValue(f,"v2"),C(S(c),S(f))<0}function m(c,f){return r.Y.assertValue(c,"v1"),r.Y.assertValue(f,"v2"),C(S(c),S(f))>=0}function p(c,f){return r.Y.assertValue(c,"v1"),r.Y.assertValue(f,"v2"),c=S(c),f=S(f),!C(S(c),S(f))}function y(c,f){return o(S(c),S(f))?c:f}function S(c){return _.isString(c)?d(c)||a:c}function C(c,f){var D=u(c.major,f.major);return D||(D=u(c.minor,f.minor))||(D=u(c.patch,f.patch))?D:function(c,f){var D=_.isEmpty(c),b=_.isEmpty(f);if(D)return b?0:1;if(b)return-1;var T=(0,i.c)(c,0,c.length),M=(0,i.c)(f,0,f.length);return null!=T?null!=M?u(T,M):-1:null!=M?1:c.localeCompare(f)}(c.prerel,f.prerel)}function u(c,f){var D=(c=c||0)-(f=f||0);return 0===D?0:D<0?-1:(r.Y.assert(()=>D>0,"diff > 0"),1)}},887615:function(me,j,e){e.d(j,{A:function(){return i}});var r=e(830295);class i{static getModalDialog(t){return i.modalDialog||(i.modalDialog=new r.yZ(null,t)),i.modalDialog}static errorServiceModalDialogControl(t){return i.getModalDialog(t)}}},746330:function(me,j,e){e.d(j,{Iq:function(){return n}});var r=e(817491),i="PBI.ShowModalDialogRejected",t=(r.Xi[i]=(0,r.Vp)(i),"PBI.ShowModalDialogSkippedNestedDialogs"),g=(r.Xi[t]=(0,r.Vp)(t),"PBI.TriggerRefresh"),n=r.Xi[g]=(0,r.Vp)(g)},360147:function(me,j,e){e.d(j,{x:function(){return r}});class r{constructor(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}},866835:function(me,j,e){e.d(j,{vt:function(){return p},zL:function(){return d}});var r=e(785463),i=e(981265),g="[toolbar-anchor]",d="[toolbar-container]",s="overlayActive",m={layout:i.m1.Overlayed,preferHorizontalLayout:!1,theme:i.pu.Dark};function p(C,u,E){return new S(C,u,E)}var y=function(C){return C[C.Top=0]="Top",C[C.Bottom=1]="Bottom",C[C.Left=2]="Left",C[C.Right=3]="Right",C}({});class S{constructor(u,E,c){this.anchor=u.closest(g),this.container=u.closest(d),r.Y.assert(()=>this.container.length>0,"toolbarOverlay.container"),this.updateOptions(c),this.visible=!1,E&&this.setToolbar(E)}setToolbar(u){var E=this.toolbar;if(E!==u){if(E&&E.remove(),!u)return void(this.toolbar=null);this.toolbar=u,u.addClass("toolbarOverlay");var{layout:c,theme:f}=this.options;this.updateTheme(void 0,f),this.updateLayout(void 0,c),this.setVisibility(this.visible),this.container.append(u)}}destroy(){var u=this.toolbar;u&&u.remove(),this.toolbar=void 0,this.visible=!1}updateOptions(u){var E=this.options;u=this.options=_.defaults({},u,this.options,m),this.updateTheme(E&&E.theme,u.theme),this.updateLayout(E&&E.layout,u.layout)}updateTheme(u,E){!this.toolbar||u===E||(null!=u&&this.toolbar.removeClass(u),this.toolbar.addClass(E))}updateLayout(u,E){!this.toolbar||u===E||(r.Y.assert(()=>E!==i.m1.Overlayed||!!this.anchor,`Overlayed must have an element matching the "${g}" selector`),null!=u&&(this.toolbar.removeClass(u),u===i.m1.Overlayed&&this.clearToolbarPosition()),this.toolbar.addClass(E))}show(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(s),this.visible=!0)}hide(){this.toolbar&&(this.toolbar.removeClass(s),this.visible=!1)}setVisibility(u){u?this.show():this.hide()}isVisible(){return this.visible}clearToolbarPosition(){this.toolbar&&this.toolbar.removeClass("top right bottom left")}repositionToolbar(){if(this.options.layout===i.m1.Overlayed){var u=this.toolbar;if(u){r.Y.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var W,E=u.outerWidth(!0),c=u.outerHeight(!0),f=this.anchor.get(0).getBoundingClientRect(),D=f.left,b=f.right,T=f.bottom,M=this.container.get(0).getBoundingClientRect(),V=M.top,w=M.left,P=M.right,N=f.top,I=0,O=!0,R=!0,F=E+17,U=D-w,B=M.width-b;this.options.preferHorizontalLayout&&(U>F||B>F)?U>=B?(I=D-F,W=y.Left):(I=b+17,W=y.Right):((I=D)+E>w+M.width&&(I=D+f.width-E,O=!1),I<0&&(I=0),W=y.Top,(N=f.top-c-27)<V&&(N=f.top+f.height+27,W=y.Bottom,R=!1));var Y=M.bottom,z=N+c+27;if(z>Y&&(N-=z-Y),this.options.dropdownOptions){var{dropdown:H,extraWidthOnRight:Z,extraWidthOnLeft:k}=this.options.dropdownOptions,K=H.getBoundingClientRect(),ee=N-V,Q=Y-(N+c),J=I-k>w,X=I+E+Z>P;switch(W){case y.Top:this.updateDropdownVerticalAlignment(H,ee,Q,b>K.left),this.updateDropdownHorizontalAlignment(H,J,X);break;case y.Bottom:this.updateDropdownVerticalAlignment(H,ee,Q),this.updateDropdownHorizontalAlignment(H,J,X);break;case y.Left:this.updateDropdownHorizontalAlignment(H,J,X,T>K.top),this.updateDropdownVerticalAlignment(H,ee,Q);break;case y.Right:this.updateDropdownHorizontalAlignment(H,J,X),this.updateDropdownVerticalAlignment(H,ee,Q);break;default:r.Y.assertNever(W)}}u.css({top:N,left:I});var oe=`${O?"left":"right"} ${R?"top":"bottom"}`;u.removeClass("top right bottom left"),u.addClass(oe)}}}resetDropdownHorizontalAlignment(u){$(u).css("right","")}resetDropdownVerticalAlignment(u){$(u).css("top","100%").css("bottom","")}moveDropdownToTheLeft(u){$(u).css("right",0)}moveDropdownUp(u){$(u).css("top","initial").css("bottom","100%")}updateDropdownVerticalAlignment(u,E,c,f=!1){var D=u.getBoundingClientRect().height,b=E>D,T=c<D;b&&(T||f)?this.moveDropdownUp(u):(this.resetDropdownVerticalAlignment(u),!b&&T&&$(u).css("height",`${c}px`))}updateDropdownHorizontalAlignment(u,E,c,f=!1){E&&(c||f)?this.moveDropdownToTheLeft(u):this.resetDropdownHorizontalAlignment(u)}}},193760:function(me,j,e){e.d(j,{F7:function(){return w},FN:function(){return b},Gp:function(){return E},HL:function(){return C},Ht:function(){return x},Id:function(){return M},KD:function(){return a},KS:function(){return t},NL:function(){return g},O8:function(){return r},P5:function(){return m},Sz:function(){return T},To:function(){return P},VU:function(){return U},ZJ:function(){return v},_C:function(){return V},hJ:function(){return u},iA:function(){return h},kM:function(){return d},l_:function(){return A},ln:function(){return p},o:function(){return n},o7:function(){return s},p0:function(){return o},qH:function(){return l},s_:function(){return S},sm:function(){return N},sw:function(){return B},tO:function(){return f},uZ:function(){return i},zn:function(){return y}});var r="Explore_ExplorationCreation",i="ExportExcel_EmptyColumnName",a="modelFailednoErrorInfo",t="ModelSizeExceedsSharedCapacityLimit",l="ModelWithIncrementalRefreshIsNotDownloadable",g="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",n="ExportData_DisabledForModelModifiedByXmlaEndpoint",d="ExportData_DisabledForModelWithInferredPartition",s="UnsupportedModelWithRefreshPolicyInSharedCapacity",h="DatasetsWithCompositeModelsNotSupported",o="ServerError_PremiumFilesErrors_ASWLConversionBadRequest",v="ServerError_PremiumFilesErrors_ASWLConversionInternalServerError",m="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModelWithoutCapacity",p="ServerError_PremiumFilesErrors_ASWLConversionConflict",y="ExportData_DisabledForModelWithDirectLakeMode",S="ExportPBIX_NoExplorationFound",C="ExportPBIXV2_NoExplorationDocumentFound",u="PowerBIEntityNotFound",E="PowerBINotAuthorizedException",f="rsErrorOpeningConnection",b="TokenExpired",T="UserNotLicensed",M="NetworkConnectionIssue",V="NavigateAway",w="ChangeDetectionMeasureExecutionDisabledException",P="UnsupportedChangeDetectionMeasureException",N="FailedToAutoAssignLicense",U="ChangeOwnership_InvalidSelectedUserException",B="ChangeOwnership_UnauthorizedException",x="PowerBIOperationNotSupported",A="UserCancelled"},699273:function(me,j,e){e.d(j,{Y:function(){return a},q:function(){return i}});var r=e(558109);function i(t){(0,r.iE)().errorService=t}function a(){return(0,r.iE)().errorService}},925245:function(me,j,e){e.d(j,{E8:function(){return n},Er:function(){return p},GE:function(){return g},Hb:function(){return m},Kc:function(){return f},L_:function(){return y},N4:function(){return b},No:function(){return C},Tv:function(){return d},VA:function(){return l},Wk:function(){return E},Yw:function(){return i},gE:function(){return h},hl:function(){return v},iN:function(){return D},nv:function(){return c},p_:function(){return S},sr:function(){return t},uG:function(){return s},wM:function(){return o}});var r=e(212554),i=function(T){return T[T.AzureMapsDomain=1]="AzureMapsDomain",T[T.All=1]="All",T}({}),t={type:r.U.Visual,name:"visualContainerResizeStart"},l={type:r.U.Visual,name:"visualContainerResizeEnd"},g={type:r.U.Visual,name:"visualContainerInteraction"},n={type:r.U.Visual,name:"canvasItemContainerShowHover"},d={type:r.U.Visual,name:"canvasItemContainerHideHover"},s={type:r.U.Visual,name:"liveReportTileReady"},h={type:r.U.Visual,name:"printSectionReady"},o={type:r.U.Exploration,name:"reportPrintSectionStarted"},v={type:r.U.Exploration,name:"reportPrintSectionFinished"},m={type:r.U.Global,name:"loadPowerViewReport"},p={type:r.U.Global,name:"explorationUnloaded"},y={type:r.U.Global,name:"informationProtectionLoaded"},S={type:r.U.Global,name:"printModeChanged"},C={name:"reportRefreshStateChanged",type:r.U.Global},E={name:"tileVisualLoadedChanged",type:r.U.Global},c={name:"externalUrlChanged",type:r.U.Global},f={type:r.U.Global,name:"scrollToSelectedTile"},D={type:r.U.Global,name:"Tile_RLS_NoAccess"},b={name:"dashboardTileScaleChanged",type:r.U.Visual}},891586:function(me,j,e){e.d(j,{IZ:function(){return g},R0:function(){return i},VY:function(){return h},ZZ:function(){return t},cZ:function(){return r},pr:function(){return a},sr:function(){return s},uF:function(){return l},yt:function(){return n}});var r={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},i="https://go.microsoft.com/fwlink/?LinkId=532757",a="https://go.microsoft.com/fwlink/?linkid=2179788",t="https://go.microsoft.com/fwlink/?LinkId=525916",l="https://go.microsoft.com/fwlink/?LinkId=823121",g="https://go.microsoft.com/fwlink/?LinkId=786855",n="https://go.microsoft.com/fwlink/?LinkId=823122",s="https://go.microsoft.com/fwlink/?LinkID=825665",h="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},84491:function(me,j,e){e.d(j,{uy:function(){return n}});var r=e(607055),i=e(785463),a=e(753771),t=e(925245);class n{static getPrintTargetViewPort(s){var h={width:r.a2e,height:r.fAq};if(s.width()>s.height()&&(h.width=r.OJn,h.height=r.Vw7),a.C.isChrome()){var m=s.parent();h.width=m.width(),h.height=m.height()}return h}static calculateScaleFactor(s,h,o){var v=h.width/s.width,m=h.height/s.height;return o?Math.max(v,m):Math.min(v,m)}getStyleString(s){for(var h=Object.keys(s),o="",v=0,m=h.length;v<m;v++){var p=h[v];o=o+p+":"+s[p]+";"}return o}onInit(s,h,o,v,m,p,y){p||(this.globalSubscriptionManager=y.createChannelSubscriptionManager().subscribe(t.p_,(S,C)=>{C===r.Nk9?this.insertPrintStylingInDOM(s,h,o,v,m):C===r.hUJ&&this.removePrintStylingFromDOM(s)}))}onDestroy(s,h){h||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(s,!0)}insertPrintStylingInDOM(s,h,o,v,m){if(null!=o){var p=window.location.pathname.toLowerCase();if(!1===m.featureSwitches.printingEnabled&&"/export/report"!==p&&"/reportembedexporthost"!==p){if(!this.printDisabledElement){var S=v.get("PrintingIsDisabledForThisTenantMessage"),C=$("<div>").addClass("errorTitle").text(S),u=$("<div>").attr("id","printDisabledOverlay").append(C);this.printDisabledElement=u,$("body").append(this.printDisabledElement)}return void s.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var E=h(s);i.Y.assertValue(E,"printStylesObject");var c=this.getStyleString(E);this.printStyleElement.get(0).sheet.insertRule(`.${o} { ${c} }`)}}removePrintStylingFromDOM(s,h=!1){if(this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,s.show()),this.printStyleElement)if(h)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var o=this.printStyleElement.get(0).sheet,v=o.cssRules.length;v--;)o.removeRule(v)}}},833377:function(me,j,e){e.d(j,{$y:function(){return S},C1:function(){return B},D_:function(){return J},EE:function(){return ee},FR:function(){return f},Gb:function(){return x},IJ:function(){return u},Iq:function(){return c},PH:function(){return P},Qv:function(){return A},TI:function(){return M},Tg:function(){return p},Uo:function(){return Q},WT:function(){return E},Xc:function(){return K},jU:function(){return N},k7:function(){return I},kz:function(){return O},rY:function(){return T},sq:function(){return U},t8:function(){return C},v_:function(){return W},vr:function(){return D},yd:function(){return y}});var r=e(838436),i=e(587814),a=e(607055),t=e(774973),l=e(106258),g=e(785463),n=e(928912),d=e(699273),s=e(882787),h=2998,o=2,v={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},m={year:"2-digit",month:"numeric",day:"numeric"};function p(ae){for(var oe=ae.refreshConnections,Me=void 0!==oe?oe.length:0,Ye=0;Ye<Me;Ye++)if(oe[Ye].onpremGatewayRequired)return!0;return!1}function y(ae){return p(ae)||S(ae)}function S(ae){var oe=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===ae.onPremModelConnectionString||oe.test(ae.onPremModelConnectionString))&&ae.dataCacheMode!==t.Ak.DirectQuery}function C(ae){try{var oe=n.n4.getDateFromWcfJsonString(ae,!0);return ae&&!oe&&g.Y.assertFail("malformed refresh time could not be parsed to date: "+ae),oe}catch(Me){return g.Y.assertFail(Me.message),null}}function u(ae,oe,Me=!0){try{var Ye=C(ae);return!Me||!Ye||Ye.getFullYear()>h||Ye.getFullYear()<o?oe.get("ManageDatasets_NextRefresh_NA"):Ye.toLocaleString()}catch(Le){return g.Y.assertFail(Le.message),oe.get("ManageDatasets_NextRefresh_NA")}}function E(ae,oe){try{var Me=C(ae);return!Me||Me.getFullYear()>h||Me.getFullYear()<o?oe&&oe.invalidDateTimePlaceholder||"":Me.toLocaleDateString(oe?.locale||void 0,oe&&oe.format||m)}catch(Ye){return g.Y.assertFail(Ye.message),oe&&oe.invalidDateTimePlaceholder||""}}function c(ae,oe,Me){try{var Ye=C(ae);return!Ye||Ye.getFullYear()>h||Ye.getFullYear()<o?oe&&oe.invalidDateTimePlaceholder||"":Ye.toLocaleString(Me,oe&&oe.format||v)}catch(Le){return g.Y.assertFail(Le.message),oe&&oe.invalidDateTimePlaceholder||""}}function f(ae,oe,Me){var Ye=new Array;for(var Le of oe){var lt=T(ae,Le,Me);lt.datasourceId=Le.dataSourceId,lt.dataSourceObjectId=Le.dataSourceObjectId,lt.gatewayId=Le.gatewayId,lt.gatewayObjectId=Le.gatewayObjectId,lt.testConnectionState=Le.credentialDetails?s.wm.NotStart:s.wm.NotSpecified,lt.alreadyExecutedTestConnection=!1,lt.normalizedPath=Le.normalizedPath,lt.dsr=Le.dataSourceReference,lt.onpremGatewayRequired=Le.onPremGatewayRequired,Ye.push(lt)}return Ye}function D(ae,oe){switch(ae){case l.aG.NotSpecified:return oe.get("AuthenticationMethod_NotSpecified");case l.aG.Windows:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case l.aG.Anonymous:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case l.aG.Basic:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case l.aG.Key:return oe.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case l.aG.OAuth2:return oe.get("AuthenticationMethod_OAuth2");case l.aG.EffectiveUserName:return oe.get("AuthenticationMethod_EffectiveUserName");case l.aG.SingleSignOn:return oe.get("AuthenticationMethod_SingleSignOn");case l.aG.WindowsWithoutImpersonation:return oe.get("AuthenticationMethod_WindowsWithoutImpersonation");case l.aG.SAS:return oe.get("AuthenticationMethod_SAS");case l.aG.ServicePrincipal:return oe.get("AuthenticationMethod_ServicePrincipal");case l.aG.WorkspaceIdentity:return oe.get("Trident_Workspace_Settings_Workspace_Identity");default:return l.aG[ae]}}function b(ae,oe){return _.map(ae,Me=>D(Me,oe))}function T(ae,oe,Me){var Ye=oe.credentialDetails,Le={modelId:ae,datasourceId:oe.dataSourceId,dataSourceObjectId:oe.dataSourceObjectId,gatewayId:oe.gatewayId,gatewayObjectId:oe.gatewayObjectId,name:oe.dataSourceName,oAuth2URL:oe.oAuth2Endpoint,oAuth2Nonce:oe.oAuth2Nonce,datasourceType:oe.dataSourceType,datasourceReference:V(oe.dataSourceReference),dsr:oe.dataSourceReference,credentialTypes:oe.supportedAuthenticationTypes,credentialTypesNames:b(oe.supportedAuthenticationTypes,Me),connectionStringGeneralProperties:M(oe.connectionDetails),onpremGatewayRequired:oe.onPremGatewayRequired,singleSignOnType:oe.singleSignOnType,skipTestConnection:!!Ye&&Ye.skipTestConnection,selectedCredentialType:Ye?Ye.credentialType:void 0,selectedPrivacyLevel:Ye?Ye.privacyLevel:void 0,gatewayType:oe.gatewayType};if(Le.datasourceType===l.ol.Extension){var lt=JSON.parse(oe.dataSourceReference);Le.dataSourceKind=lt.kind}return Le.fullName=F(Le,Me),Le.displayName=W(Le,Me),Le}function M(ae){return V(ae)}function V(ae){var oe=new Array;if(ae){var Me=JSON.parse(ae);for(var Ye in Me)oe.push({name:Ye,value:Me[Ye]})}return oe}function w(ae){return ae?null!=ae.server?(g.Y.assertValue(ae.database,"database"),[{name:"Server",value:ae.server},{name:"Database",value:ae.database}]):null!=ae.path?[{name:"path",value:ae.path}]:null!=ae.modelId?[{name:"modelId",value:ae.modelId},{name:"workspaceId",value:ae.workspaceId}]:(g.Y.assertValue(ae.extensionDataSourceKind,"extensionDataSourceKind"),g.Y.assertValue(ae.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:ae.extensionDataSourceKind},{name:"extensionDataSourcePath",value:ae.extensionDataSourcePath}]):[]}function P(ae,oe,Me){var Ye=(0,i.p)(oe.connectionDetails),Le=[];_.includes(oe.supportedAuthenticationTypes,l.aG.Basic)&&Le.push(l.aG.Basic),_.includes(oe.supportedAuthenticationTypes,l.aG.OAuth2)&&Le.push(l.aG.OAuth2),oe.supportedAuthenticationTypes=Le;var lt={modelId:ae,datasourceId:oe.dataSourceId,dataSourceObjectId:oe.dataSourceObjectId,name:l.ol[oe.dataSourceType],oAuth2URL:oe.oAuth2Endpoint,oAuth2Nonce:oe.oAuth2Nonce,datasourceType:oe.dataSourceType,credentialTypes:oe.supportedAuthenticationTypes,credentialTypesNames:b(oe.supportedAuthenticationTypes,Me),connectionStringGeneralProperties:w(Ye),onpremGatewayRequired:!1,gatewayId:oe.gatewayId,gatewayObjectId:oe.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:oe.credentialDetails?null:Me.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:oe.credentialDetails?s.wm.Passed:s.wm.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:oe.singleSignOnType};return lt.fullName=F(lt,Me),lt.displayName=W(lt,Me),lt}function N(ae,oe){return{importAndRefreshBehavior:ae.importAndRefreshBehavior,refreshEnabled:ae.refreshEnabled,refreshFrequency:X(ae),refreshDays:x(ae.weekDays),refreshTimeWindowIndex:Y(ae.executionTime,oe),refreshTimesHourly:k(ae.executionTimeHourly,oe),refreshTimeZoneId:ae.localTimeZoneId,sendFailureEmail:!0,isRefreshable:ae.isRefreshable,refreshNotificationEnabled:ae.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function I(ae,oe){var Me=ae.refreshSchedule,Ye=N(Me,oe);return Ye.refreshFrequency===s.o0.Weekly&&Me.refreshFrequency&&Me.refreshFrequency===s.o0.Daily.toString()&&9===ae.contentProviderId&&(Ye.refreshFrequency=s.o0.Daily,Ye.refreshEnabled=!0,ae.nextRefreshTime&&((!Ye.refreshTimesHourly||Ye.refreshTimesHourly.length<1)&&(Ye.refreshTimesHourly=function(ae){var oe=C(ae),Me=oe.getMinutes(),Ye=oe.getHours();return Me>30?(Me=0,++Ye>24&&(Ye-=24)):Me=30,[{refreshHourIndex:(Ye+11)%12,refreshMinuteIndex:Math.floor(Me/30),refreshAmPmIndex:Math.floor(Ye/12),isIncomplete:!1,isDuplicate:!1}]}(ae.nextRefreshTime)),(!Ye.refreshTimeWindowIndex||0===Ye.refreshTimeWindowIndex)&&(Ye.refreshTimeWindowIndex=function(ae){var oe=C(ae),Me=oe.getHours();return oe.getMinutes()>30&&(++Me>24&&(Me-=24)),Me}(ae.nextRefreshTime)))),new s.p0(ae,ae.id,ae.displayName,ae.description,ae.lastRefreshStatus===r.Ym.RefreshError||ae.lastRefreshStatus===r.Ym.PublishError,_.isEmpty(ae.refreshHistories)?"":ae.refreshHistories[0].friendlyErrorMessage,C(ae.nextRefreshTime)?.toString()??void 0,Ye,ae.parameters,oe)}function O(ae,oe){var Me=ae.refreshFrequency===s.o0.Daily,Ye=ae.refreshFrequency===s.o0.Weekly,Le=null;Me?Le=a.Pif:Ye&&(Le=A(ae.refreshDays));var lt=null;return!Me&&!Ye&&(lt=ae.refreshFrequency.toString()),{importAndRefreshBehavior:ae.importAndRefreshBehavior,refreshEnabled:ae.refreshEnabled,isDaily:ae.refreshFrequency===s.o0.Daily,refreshFrequency:lt,weekDays:Le,executionTime:oe?z(6*ae.refreshTimeWindowIndex):null,executionTimeHourly:oe?null:L(ae.refreshTimesHourly),localTimeZoneId:ae.refreshTimeZoneId,refreshNotificationEnabled:ae.refreshNotificationEnabled,refreshContacts:ae.refreshEmails.emailsList?ae.refreshEmails.emailsList.inputUserList:[]}}function W(ae,oe){switch(ae.datasourceType){case l.ol.AnalysisServices:case l.ol.Oracle:case l.ol.SqlServer:case l.ol.MySql:case l.ol.PostgreSql:case l.ol.Sybase:case l.ol.Teradata:case l.ol.DB2:case l.ol.Informix:case l.ol.SAP:case l.ol.Essbase:var Me,Ye,Le=ae.connectionStringGeneralProperties;if(!Le)return l.ol[ae.datasourceType];for(var lt=Le.length,ut=0;ut<lt;ut++){var St=Le[ut];"database"===St.name?Me=St.value:"server"===St.name&&(Ye=St.value)}return Me||Ye?(Me||"")+(Me&&Ye?"-":"")+(Ye||""):l.ol[ae.datasourceType];case l.ol.Folder:case l.ol.File:var ze=_.find(ae.connectionStringGeneralProperties,{name:"path"});return n.n4.extractFileNameFromPath(ze.value);case l.ol.Extension:return _.find(ae.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case l.ol.AdoDotNet:var Ce=_.find(ae.connectionStringGeneralProperties,{name:"workspaceId"}),Ae=_.find(ae.connectionStringGeneralProperties,{name:"modelId"});return oe.format("SettingsDataset_AdoDotNetText",[Ce.value,Ae.value]);case l.ol.ActiveDirectory:case l.ol.AzureTable:case l.ol.AzureBlob:case l.ol.Web:case l.ol.OData:case l.ol.SharePoint:case l.ol.GoogleAnalytics:case l.ol.Exchange:case l.ol.Facebook:case l.ol.HDInsight:case l.ol.AzureMarketplace:case l.ol.Salesforce:case l.ol.SAPBW:case l.ol.OleDb:case l.ol.ODBC:return l.ol[ae.datasourceType];case l.ol.SharePointList:return"SharePoint";default:return ae.name}}function F(ae,oe){switch(+ae.datasourceType){case l.ol.Folder:case l.ol.File:return _.find(ae.connectionStringGeneralProperties,{name:"path"}).value;default:return W(ae,oe)}}function U(ae,oe){if(!_.isEmpty(ae))for(var Me of ae)Me.displayName=W(Me,oe),Me.fullName=F(Me,oe)}function B(ae){if(ae){if(null!=ae.clientCategory)return ae.clientCategory;switch(ae.category){case t.r8.BuiltIn:case t.r8.Services:case t.r8.ServiceApp:return t.Cs.Service;case t.r8.Organizational:case t.r8.OrganizationalApp:case t.r8.OrganizationalTemplate:case t.r8.OrganizationalTemplateApp:return t.Cs.Organizational;default:g.Y.assertFail("Unknown content provider category")}}}function x(ae){for(var oe=new Array,Me=0;Me<7;Me++)oe[Me]=!(1&~ae),ae>>=1;return oe}function A(ae){for(var oe=0,Me=6;Me>=0;Me--)oe<<=1,oe=!0===ae[Me]?1|oe:oe;return oe}function L(ae){for(var oe=[],Me=ae.length,Ye=0;Ye<Me;Ye++){var Le=ae[Ye],ut=30*Le.refreshMinuteIndex;oe.push(((Le.refreshHourIndex+1)%12+12*Le.refreshAmPmIndex).toString()+":"+(0===ut?"00":ut.toString())+":00")}return JSON.stringify(oe)}function Y(ae,oe){var Me;if(ae){var Ye=ae.split(":"),Le=parseInt(Ye[0],10);Le>=0&&Le<24?Me=Math.floor(Le/6):((0,d.Y)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Me=0)}else Me=0;return Me}function z(ae){var oe=new Date;oe.setHours(ae),oe.setMinutes(0),oe.setSeconds(0);var Me=oe.toTimeString(),Ye=Me.indexOf(" ");return Me.substr(0,Ye)}function k(ae,oe){var Me=[];if(ae){try{var Ye=JSON.parse(ae)}catch{return void(0,d.Y)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var Le=Ye.length,lt=0;lt<Le;lt++){var St=Ye[lt].split(":"),ze=parseInt(St[0],10),Be=parseInt(St[1],10);if(ze<0||ze>=24)(0,d.Y)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(Be<0||Be>=60)(0,d.Y)().error(oe.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var Ce={refreshHourIndex:(ze+11)%12,refreshMinuteIndex:Math.floor(Be/30),refreshAmPmIndex:Math.floor(ze/12),isIncomplete:!1,isDuplicate:!1};Me.push(Ce)}}}return Me}function K(ae){return _.isEmpty(ae.displayName)?ae.qnaSupported:!0===ae.qnaSupported&&(1===ae.pushDataVersion||2===ae.pushDataVersion||ae.dataCacheMode===t.Ak.Import&&!1!==ae.powerBIQnaEnabled||!!ae.onPremModelConnectionString&&ae.powerBIQnaEnabled||(ae.dataCacheMode===t.Ak.DirectQuery||ae.dataCacheMode===t.Ak.Mixed)&&ae.powerBIQnaEnabled)}function ee(ae){return!(!ae||ae.dataCacheMode!==t.Ak.DirectQuery&&ae.dataCacheMode!==t.Ak.Mixed&&_.isEmpty(ae.onPremModelConnectionString))}function Q(ae){for(var oe of ae.monikers){var Me=_.filter(oe.monikerDataSources,lt=>null==lt.dataSourceId&&!ne(lt));if(Me&&0!==Me.length){if(_.every(Me,lt=>!lt.matchingDataSourceObjectIds||0===lt.matchingDataSourceObjectIds.length))return!0;for(var Ye of Me){var Le=_.map(Ye.matchingDataSourceObjectIds,lt=>_.find(ae.datasources,ut=>ut.dataSourceObjectId===lt));if(_.every(Le,lt=>"Personal"!==lt?.gatewayType))return!0}}}return!1}function J(ae,oe){var Me=[];for(var Ye of ae.monikers){var Le=_.map(Ye.monikerDataSources,ut=>ut.dataSourceObjectId);_.every(Le,ut=>ut)&&Me.push(...Le||[])}return _.filter(ae.datasources,ut=>(ut.gatewayObjectId===oe||!1===ut.onPremGatewayRequired)&&_.includes(Me,ut.dataSourceObjectId))}function X(ae){switch(g.Y.assertValue(ae,"schedule"),parseInt(ae.refreshFrequency,10)){case s.o0.FifteenMinutes:return s.o0.FifteenMinutes;case s.o0.ThirtyMinutes:return s.o0.ThirtyMinutes;case s.o0.OneHour:return s.o0.OneHour;case s.o0.TwoHours:return s.o0.TwoHours;case s.o0.ThreeHours:return s.o0.ThreeHours}return ae.isDaily?s.o0.Daily:s.o0.Weekly}function ne(ae){return(ae.monikerDataSourceAttribute&l.Hf.IsFabricTdsEndpoint)===l.Hf.IsFabricTdsEndpoint||(ae.monikerDataSourceAttribute&l.Hf.IsFabricOneLake)===l.Hf.IsFabricOneLake}},343969:function(me,j,e){e.d(j,{E:function(){return g}});var r=e(813220),i=e(607055),a=e(785463),t=e(507345),l=window;class g{static webRedirectUrlHelper(d){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new g("Redirect",d)),this._webRedirectUrlHelper}static mobileRedirectUrlHelper(d){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new g("MobileRedirect.html",d)),this._mobileRedirectUrlHelper}constructor(d,s,h=!1){this.redirectPath=d,this.appSettings=s,this.useMsPbi=h}getAppRedirectUrl(d,s,h,o){return a.Y.assertValue(s,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:d,context:o,appId:s,ctid:h})}getDashboardRedirectUrl(d,s,h,o,v,m,p,y){return a.Y.assert(()=>"MSTeams"===p||"ChatInTeams"===p||!_.isEmpty(d)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.Y.assertValue("MSTeams"===p||"ChatInTeams"===p||h,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:v,groupObjectId:d,appId:s,dashboardObjectId:h,ctid:o,tileId:m,pbi_source:p,openDashboardSource:y})}getReportRedirectUrl(d,s,h,o,v,m,p,y,S){a.Y.assert(()=>"MSTeams"===y||"ChatInTeams"===y||!_.isEmpty(d)||!_.isEmpty(s),"getReportRedirectUrl: groupId or appId shouldn't be null"),a.Y.assertValue("MSTeams"===y||"ChatInTeams"===y||h,"getReportRedirectUrl: reportObjectId");var C={action:p===r.nI.RdlReport?"OpenRdlReport":"OpenReport",context:m,groupObjectId:d,appId:s,reportObjectId:h,ctid:v,pbi_source:y,bookmarkGuid:S};return _.isEmpty(o)||(C.reportPage=o),this.getRedirectUrl(C)}getDatasetRedirectUrl(d,s,h,o){return a.Y.assert(()=>"MSTeams"===o||"ChatInTeams"===o||!_.isEmpty(d),"getDatasetRedirectUrl: groupId shouldn't be null"),a.Y.assertValue("MSTeams"===o||"ChatInTeams"===o||s,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:h,groupObjectId:d,datasetObjectId:s,pbi_source:o})}getScorecardRedirectUrl(d,s,h,o,v){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:d,scorecardObjectId:s,ctid:h,context:o,pbi_source:v})}getWorkbookRedirectUrl(d,s,h,o,v){return a.Y.assert(()=>!_.isEmpty(d)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.Y.assertValue(h,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:v,groupObjectId:d,appId:s,workbookUniqueId:h,ctid:o})}getTileRedirectUrl(d,s,h,o,v){return a.Y.assert(()=>!_.isEmpty(d)||!_.isEmpty(s),"getDashboardRedirectUrl: groupId or appId shouldn't be null"),a.Y.assertValue(h,"getDashboardRedirectUrl: dashboardObjectId"),a.Y.assertValue(o,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:v,groupObjectId:d,appId:s,dashboardObjectId:h,tileObjectId:o})}getServiceAppInstallRedirectUrl(d,s,h,o){a.Y.assertValue(d,"getAppRedirectUrl: appKey"),a.Y.assertValue(s,"getAppRedirectUrl: packageKey");var v={action:"InstallApp",appId:d,packageKey:s.replace("=",""),ownerId:h};_.isEmpty(o)||(v.buildVersion=o);var p=(window.location.protocol+"//"+window.location.host).replace(l.baseUrl,l.feUrl);return this.getRedirectUrl(v,p)}getLineageViewRedirectUrl(d,s){return a.Y.assert(()=>!_.isEmpty(d),"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),a.Y.assertValue(s,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:d,reportObjectId:s})}getRedirectUrl(d,s){if(a.Y.assertValue(d,"getRedirectUrl: params"),this.useMsPbi){var{action:h}=d;return d=this.removeEmptyParams(d,this.useMsPbi),(0,t.G)("{0}/{1}?{2}","mspbi://app",h,$.param(d))}return d=this.removeEmptyParams(d),(0,t.G)("{0}/{1}?{2}",s||this.appSettings.baseUrl,this.redirectPath,$.param(d))}removeEmptyParams(d,s=!1){var h=[];return(_.isEmpty(d.groupObjectId)||d.groupObjectId===i.RSC)&&h.push("groupObjectId"),_.isEmpty(d.appId)&&h.push("appId"),_.isEmpty(d.context)&&h.push("context"),_.isEmpty(d.reportObjectId)&&h.push("reportObjectId"),_.isEmpty(d.ctid)&&h.push("ctid"),_.isEmpty(d.openDashboardSource)&&h.push("openDashboardSource"),_.isEmpty(d.tileId)&&h.push("tileId"),_.isEmpty(d.dashboardObjectId)&&h.push("dashboardObjectId"),_.isEmpty(d.bookmarkGuid)&&h.push("bookmarkGuid"),_.isEmpty(d.pbi_source)&&h.push("pbi_source"),(_.isEmpty(d.action)||s)&&h.push("action"),h.length>0&&(d=_.omit(d,h)),d}}},331367:function(me,j,e){e.d(j,{$:function(){return l},s:function(){return t}});var r=e(339131),i=e(898145),a=e(785463);function t(g){switch(g){case r.v.Master:return i.vI.Master;case r.v.PhonePortrait:return i.vI.PhonePortrait;default:a.Y.assertFail("Unsupported telemetry canvas layout")}return null}class l{constructor(n){this.options=n}start(n){this.reject(),this.event=n()}resolve(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)}reject(n){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,n),this.event.reject(n),this.event=void 0)}}},443129:function(me,j,e){function r(i,a,t){var l=_.trim(i),g=_.trim(a);return _.isEmpty(l)?t||"":_.isEmpty(g)?l:`${l} ${g}`}e.d(j,{d:function(){return r}})},993076:function(me,j,e){e.d(j,{O:function(){return i}});var r=e(785463);class i{constructor(){this.css={},this.elems=[]}setDimensionBehavior(t){this.skipJqueryDimension=t}addAttributes(t){for(var l in t)this.css[l]=t[l]}element(t){r.Y.assertValue(t,"element"),this.elems=[t]}addElement(t){r.Y.assertValue(t,"element"),this.elems.push(t)}removeElement(t){r.Y.assertValue(t,"element"),_.pull(this.elems,t)}position(t){r.Y.assertValue(t,"position");var l=this.css;l.WebkitTransform=l.transform="translate("+t.x+"px, "+t.y+"px)"}viewport(t){r.Y.assertValue(t,"viewport");var l=this.css;l.height=t.height,l.width=t.width}zIndex(t){r.Y.assertValue(t,"zIndex"),this.css.zIndex=t}rotate(t){if(r.Y.assertValue(t,"rotate angle"),t){var l=this.css;l.WebkitTransform=l.transform+=" rotate("+t+"deg)"}}apply(t){if(this.skipJqueryDimension)if(t)this.applyStyleWithoutDimensionHooks(t);else for(var l of this.elems)this.applyStyleWithoutDimensionHooks(l);else if(t)t.css(this.css);else for(var g of this.elems)g.css(this.css)}applyStyleWithoutDimensionHooks(t){var l=t.get(0);null!=this.css.height&&(l.style.height=`${this.css.height}px`),null!=this.css.width&&(l.style.width=`${this.css.width}px`);var g=_.omit(this.css,["height","width"]);t.css(g)}getCss(){return this.css}}},445536:function(me,j,e){e.d(j,{D8:function(){return d},JA:function(){return y},v7:function(){return h}});var g=7,n=7;function d(){return g}function h(){return n}var y=function(S){return S[S.drag=0]="drag",S[S.resizing=1]="resizing",S[S.resized=2]="resized",S[S.refresh=3]="refresh",S}({})},316584:function(me,j,e){e.d(j,{K:function(){return g},X:function(){return l}});var r=e(838436),i=e(774973),a=e(833377),t=e(681497),l=function(n){return n[n.None=0]="None",n[n.Shared=1]="Shared",n[n.Group=2]="Group",n[n.Apps=4]="Apps",n[n.SharedAndGroup=3]="SharedAndGroup",n[n.SharedAndApps=5]="SharedAndApps",n[n.GroupAndApps=6]="GroupAndApps",n[n.SharedAndGroupAndApps=7]="SharedAndGroupAndApps",n}({});class g extends t.F{constructor(d){super(),this.contract=d,this.isRefreshInProgress=!1,this.uniqueId=g.getUniqueId(d.id,d.packageId),this.categories=l.None}getPermissions(){var d;return this.getPermissionsCallback&&null!=(d=this.getPermissionsCallback())?d:this.contract&&this.contract.permissions}get hasError(){return this.contract&&(this.packagePublishStatus===r.Ym.PublishError||this.packagePublishStatus===r.Ym.RefreshError||this.contract.lastRefreshStatus===r.Ym.PublishError||this.contract.lastRefreshStatus===r.Ym.RefreshError)}get lastRefreshTimeInLocaleString(){var d=this.getLastRefreshTime();if(d)return d.toLocaleString()}get lastRefreshEpochTime(){var d=this.getLastRefreshTime();if(d)return d.getTime()}get contentTileType(){return i.u9.Dataset}getRefreshDisabledReason(){return(this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)??r.iK.None}static getUniqueId(d,s){return`${i.u9.Dataset}_${d}_${s}`}getLastRefreshTime(){var d=this.contract;return(0,a.t8)(d.onPremModelConnectionString?d.lastTimeAModelChangeWasDetectedInTheCluster:d.lastRefreshTime)}}},211119:function(me,j,e){e.d(j,{J:function(){return n},p:function(){return g}});var r=e(813220),i=e(774973),a=e(659956),t=e(220631),l=e(681497);class g extends t.X{constructor(s){super(typeof s>"u"?0:s.id,l.v.Report,typeof s>"u"?0:s.packageId),this.contract=s,this.isRefreshInProgress=!1,this.reportType=this.contract&&this.contract.reportType===r.nI.RdlReport?r.nI.RdlReport:r.nI.PowerBI,this.contentTileType=this.reportType===r.nI.RdlReport?i.u9.RdlReport:i.u9.Report}getPermissions(){var s;return this.getPermissionsCallback&&null!=(s=this.getPermissionsCallback())?s:this.contract&&this.contract.permissions}get canWrite(){return(0,a.Lt)(this.getPermissions(),n.Write)}get canCopy(){return(0,a.Lt)(this.getPermissions(),n.CopyOnWrite)}get canExplore(){return(0,a.Lt)(this.getPermissions(),n.Explore)}}var n=function(d){return d[d.None=0]="None",d[d.Read=1]="Read",d[d.Write=2]="Write",d[d.ReShare=4]="ReShare",d[d.Explore=8]="Explore",d[d.CopyOnWrite=17]="CopyOnWrite",d[d.ReadWrite=3]="ReadWrite",d[d.ReadReshare=5]="ReadReshare",d[d.Personalized=11]="Personalized",d[d.All=7]="All",d}({})},220631:function(me,j,e){e.d(j,{X:function(){return i}});var r=e(681497);class i extends r.F{constructor(t,l,g){super(l),this.uniqueId=i.getUniqueId(l,t,g)}static getUniqueId(t,l,g){return t+"_"+l+"_"+g}}},681497:function(me,j,e){e.d(j,{F:function(){return i},v:function(){return r}});var r=function(a){return a[a.Report=0]="Report",a[a.Workbook=1]="Workbook",a[a.Model=2]="Model",a[a.CdsaModel=3]="CdsaModel",a}({});class i{constructor(t){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=t}}},882787:function(me,j,e){e.d(j,{Pu:function(){return d},go:function(){return g},o0:function(){return l},p0:function(){return n},wm:function(){return t}});var r=e(607055),i=e(774973),a=e(106258),t=function(s){return s[s.NotSpecified=0]="NotSpecified",s[s.NotStart=1]="NotStart",s[s.Progressing=2]="Progressing",s[s.Failed=3]="Failed",s[s.Passed=4]="Passed",s}({}),l=function(s){return s[s.FifteenMinutes=15]="FifteenMinutes",s[s.ThirtyMinutes=30]="ThirtyMinutes",s[s.OneHour=60]="OneHour",s[s.TwoHours=120]="TwoHours",s[s.ThreeHours=180]="ThreeHours",s[s.Daily=1440]="Daily",s[s.Weekly=10080]="Weekly",s}({});class g{constructor(h,o){this.localizationService=o,this.refreshSettings=h,this.refreshSectionExpand=!1}get showWeekDays(){return this.refreshSettings.refreshFrequency===l.Weekly}get showRefreshTimeInfo(){var h=this.refreshSettings.refreshFrequency;return h===l.Daily||h===l.Weekly}get refreshFrequencyString(){return this.refreshSettings.refreshFrequency.toString()}set refreshFrequencyString(h){this.refreshSettings.refreshFrequency=parseInt(h,10)}get weekdayKeys(){return d.weekdayKeys()}get refreshTimeWindows(){return d.refreshTimeWindows(this.localizationService)}get refreshTimeHourWindows(){return d.refreshTimeHourWindows(this.localizationService)}get refreshTimeMinuteWindows(){return d.refreshTimeMinuteWindows(this.localizationService)}get refreshTimeAmPmWindows(){return d.refreshTimeAmPmWindows(this.localizationService)}get refreshTimeZones(){return d.refreshTimeZones(this.localizationService)}get refreshTimeZonesViewModel(){return d.refreshTimeZonesViewModel(this.localizationService)}}class n{constructor(h,o,v,m,p,y,S,C,u,E){this.localizationService=E,this.contract=h,this.modelId=o,this.name=v,this.description=m,this.lastRefreshFailed=p,this.lastRefreshFailedMessage=y,this.nextRefresh=S,this.refreshSettingsModel=new g(C,E),this.parameters=u,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=h?.paSupported,this.paEnabled=h?.paEnabled,this.paSettings=h?.paSettings,this.hasAggregationTable=h?.hasAggregationTable,this.directLakeAutoSync=h?.directLakeAutoSync,this.directLakeMode=h?.directLakeMode,this.directLakeAutoSyncResult=h?.directLakeAutoSyncResult,this.storageMode=h?.storageMode,this.isQsoSupported=h?.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=h?.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=h?.qsoCommitVersionTimestamp}get takeoverStatusText(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")}get takeoverButtonText(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")}get hasDatasourceWithWrongCredentials(){return this.datasources&&_.some(this.datasources,h=>!h.isCloudDirectQuery&&h.testConnectionState!==t.Passed)}get showSkipTestConnectionWarning(){return _.some(this.datasources,h=>!0===h.skipTestConnection)}get hasDirectQueryDatasourceWithMissingCredentials(){return this.datasources&&_.some(this.datasources,h=>h.isCloudDirectQuery&&h.testConnectionState===t.Failed)}get hasRDataSource(){return this.datasources&&_.some(this.datasources,h=>h.datasourceType===a.ol.Extension&&(h.name===r.hNc||h.fullName===r.hNc))}get isPlainDirectQueryOrOnPremModel(){return n.isPlainDirectQueryOrOnPremModel(this.contract)}static isPlainDirectQueryOrOnPremModel(h){return h.dataCacheMode===i.Ak.DirectQuery||!_.isEmpty(h.onPremModelConnectionString)}getTakeoverStatusTextForUser(h){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+h+'">'+h+"</a>"])}}class d{constructor(){}static weekdayKeys(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]}static refreshTimeWindows(h){return[h.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),h.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),h.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),h.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]}static refreshTimeHourWindows(h){return[h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),h.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]}static refreshTimeMinuteWindows(h){return[h.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),h.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]}static refreshTimeAmPmWindows(h){return[h.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),h.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]}static refreshTimeZones(h){return{"Dateline Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":h.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":h.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":h.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":h.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:h.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":h.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":h.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}}static refreshTimeZonesViewModel(h){var o=[];return _.forOwn(this.refreshTimeZones(h),(v,m)=>{o.push({key:m,value:v})}),o}}},192130:function(me,j,e){function r(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}e.d(j,{J:function(){return r}})},139882:function(me,j,e){e.d(j,{y:function(){return n}});var r=e(785463),i=e(304703),a=e(507345);class n{constructor(s,h){this.promiseFactory=s,this.httpService=h,r.Y.assertValue(s,"promiseFactory"),r.Y.assertValue(h,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}startMonitoring(s=0){this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(()=>{this.sendLongPollRequest()},s))}setLongPollInitialized(s){this.longPollInitialized=s}cancelCurrentRequest(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)}pause(){this.paused=!0,this.cancelCurrentRequest()}resume(){this.paused=!1,this.startMonitoring()}trySendRequest(s){var h=this.requestOptions,o=h.headers.Authorization,v=!1;if(o){var m=o.split(" ");v=m.length>1&&!(0,a.M)(m[1])&&"undefined"!==m[1]}if(v)return this.httpService.post(this.getEndpointUrl(),{request:s},h);i.Cn.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")}get requestHeader(){return null}get longPollDurationInMs(){return 6e4}get requestOptions(){var s=this.requestDeferred;r.Y.assertValue(s,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(()=>{this.lastLongPollTimedOut=!0,s.resolve(null)},this.longPollDurationInMs);var h=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return h.retryCount=0,h.timeout=s.promise,h.silentlyFailOnExpiry=!0,h}sendLongPollRequest(){if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var s=this.getRequest();if(!s)return void this.reset();var h=this.trySendRequest(s);if(!h)return;h.then(o=>{this.retryCount=0,this.requestDeferred.resolve(null),this.processResponse(o.data),this.sendLongPollRequest()},o=>{this.requestDeferred.resolve(null),this.lastLongPollTimedOut?(this.retryCount=0,this.sendLongPollRequest()):this.lastLongPollCancelled?this.retryCount=0:this.retryCount<3?(this.retryCount++,this.sendLongPollRequest()):(this.processError(o&&o.error),this.suspend())})}}suspend(){var s=this.promiseFactory.defer();s.promise.then(()=>{this.cancelCurrentRequest(),this.startMonitoring()});var h=o=>{o&&(this.httpService.unregisterResponseCallback(h),s.resolve(null))};this.httpService.registerResponseCallback(h),setTimeout(()=>{s.resolve(null)},12e4)}reset(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1}}},994512:function(me,j,e){e.d(j,{I:function(){return d}});var r=e(582626),i=e(785463),a=e(157912),t=e(872189),l=window,g=function(s){return s[s.InternalScript=0]="InternalScript",s[s.InternalStyle=1]="InternalStyle",s[s.ExternalScript=2]="ExternalScript",s[s.ExternalStyle=3]="ExternalStyle",s}({});function n(s,h,o=!0,v){var y,S,m=(0,a.ls)(),p="";switch(o&&(p=r.Y.getQueryStringValue("unmin")?"":".min"),h){case g.InternalScript:y="scripts",S=".js";break;case g.InternalStyle:y="styles",S=".css";break;case g.ExternalScript:y="externals",S=".js";break;case g.ExternalStyle:y="externals",S=".css";break;default:i.Y.assertNever(h)}var C=[m];if("True"===l.useCDN&&l.hashMappings){var u;u=v?[v,y,`${s}${p}${S}`].join("/"):[y,`${s}${p}${S}`].join("/");var E=(0,t.L)();E.isRtlLayout&&(h===g.InternalStyle||h===g.ExternalStyle)&&(u=u.indexOf(".min")>-1?u.replace(".min.css",".rtl.min.css"):u.replace(".css",".rtl.css"));var c=l.hashMappings[u];if(!c&&E.isRtlLayout&&(h===g.InternalStyle||h===g.ExternalStyle)&&(u=u.replace(".rtl.min.css",".min.rtl.css"),c=l.hashMappings[u]),c)return[C=l.cdnUrl,c.substring(0,c.indexOf(S))].join("/")}return v&&C.push(v),[...C||[],y,`${s}${p}`].join("/")}function d(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":n("angular-ui-datetimepicker",g.ExternalScript,!0),"d3-array":n("d3-array",g.ExternalScript,!0),"d3-geo":n("d3-geo",g.ExternalScript,!0),"es6-promise":n("es6-promise",g.ExternalScript,!0),filesaver:n("filesaver",g.ExternalScript,!0),"jquery-qrcode":n("jquery-qrcode",g.ExternalScript,!0),"jquery-ui":n("jquery-ui",g.ExternalScript,!0),msrcrypto:n("msrcrypto",g.ExternalScript,!0),ngTagsInput:n("ngTagsInput",g.ExternalScript,!0),pubnub:n("pubnub",g.ExternalScript,!0),quill:n("quill",g.ExternalScript,!0),resizeSensor:n("resizeSensor",g.ExternalScript,!0),"powerbi-models":n("powerbi-models",g.ExternalScript,!0),topojson:n("topojson",g.ExternalScript,!0),cropperjs:n("cropper",g.ExternalScript,!0),"globalize.cultures":n("jquery.globalize/globalize.cultures",g.InternalScript,!1)},bundles:{},cssPaths:{"jquery-ui":n("jquery-ui.min",g.ExternalStyle,!1),ngTagsInput:n("ngTagsInput",g.ExternalStyle,!0),"quill.core":n("quill.core",g.ExternalStyle,!1),cropperjs:n("cropper",g.ExternalStyle,!1),accessibleTableVisual:n("accessibleTableVisual",g.InternalStyle,!0),adminPortal:n("adminPortal",g.InternalStyle,!0),advancedSlicerVisual:n("advancedSlicerVisual",g.InternalStyle,!0),aiNarrativesVisual:n("aiNarrativesVisual",g.InternalStyle,!0),azureMapVisuals:n("azureMapVisuals",g.InternalStyle,!0),capacityAdmin:n("capacityAdmin",g.InternalStyle,!0),cardVisual:n("cardVisual",g.InternalStyle,!0),exploreUIDialogs:n("exploreUIDialogs",g.InternalStyle,!0),getData:n("getData",g.InternalStyle,!0),mobileAuthoring:n("mobileAuthoring",g.InternalStyle,!0),permissions:n("permissions",g.InternalStyle,!0),pivotTableVisuals:n("pivotTableVisuals",g.InternalStyle,!0),rdlVisual:n("rdlVisual",g.InternalStyle,!0),scorecardVisual:n("scorecardVisual",g.InternalStyle,!0),settings:n("settings",g.InternalStyle,!0),sharing:n("sharing",g.InternalStyle,!0),textSlicerVisual:n("textSlicerVisual",g.InternalStyle,!0)}}}},839009:function(me,j,e){e.d(j,{H:function(){return a}});var r=e(869574),i=e(141451);function a(t,l,g){return(0,i.H)((0,r.w$)(t,l),g)}},372706:function(me,j,e){e.d(j,{$x:function(){return S},AQ:function(){return n},U8:function(){return i},Ug:function(){return o},_R:function(){return p},aI:function(){return d},hO:function(){return a},k4:function(){return t},m3:function(){return s},pk:function(){return v},um:function(){return h}});var r=e(399204),i=44,a=50,t=4,n=1,d=1,s=2*n,h=2*d,o=3*n,v=3*d;function p(){return{rowSpan:s,colSpan:h}}function S(T){return{height:T.rowSpan*r.n3-r.A4,width:T.colSpan*r.MW-r.A4}}p()},399204:function(me,j,e){e.d(j,{A4:function(){return a},MW:function(){return r},n3:function(){return i}});var r=260,i=180,a=10},933191:function(me,j,e){e.d(j,{Eo:function(){return g},Ox:function(){return i},oY:function(){return a},vt:function(){return t}});var r=e(558109),i="x-powerbi-error-info",a="x-powerbi-error-details";function t(n,d,s,h){var o={method:n,url:d};return void 0!==h&&(o.data=h),Object.assign(o,s)}function g(n){(0,r.iE)().httpService=n}},542732:function(me,j,e){e.d(j,{Il:function(){return a},oB:function(){return i},qn:function(){return g}});var r=e(558109);function i(d){return d||(0,r.iE)().localize}function a(d){(0,r.iE)().localize=d}function g(){return(0,r.iE)().localizedStrings}},429384:function(me,j,e){e.d(j,{VH:function(){return t},rq:function(){return i}});var r=e(558109);function i(){return(0,r.iE)().cultureInfo}function t(){return(0,r.iE)().unmappedCultureInfo}},507212:function(me,j,e){e.d(j,{e:function(){return g}});var r=e(614960),i=e(607055),a=e(785463),t=e(510958),l=e(95707);function g(m,p,y,S){return new v(m,p,y,S)}var n="overlayActive",d="overlay";class v{constructor(p,y,S,C){this.root=S,this.rtl=C,this.dropdowns=[],this.$window=$(p).on(t.Bb+".overlayService",u=>this.mouseClickHideDialog(u,this.dropdowns)).on("resize.overlayService",()=>this.hideAllDropdowns()),this.root=S||$("body")}onDestroy(){$(this.$window).off(t.Bb+".overlayService"),$(this.$window).off("resize.overlayService")}register(p,y){this.dropdowns.push({element:p}),p.addClass(d).appendTo(y||this.root)}unregister(p){_.remove(this.dropdowns,y=>y.element.is(p)),p.removeClass(d).removeClass(n).remove()}isRegistered(p){return _.some(this.dropdowns,y=>y.element.is(p))}mouseClickHideDialog(p,y){!_.some(this.dropdowns,C=>C.element.hasClass(n)&&!this.outOfBoundsClickHandler(p,C.element))&&this.hideAllDropdowns(!0)}showOverlay(p,y){if(a.Y.assert(()=>+!(!y.anchorElement&&!y.anchorDimensions)+ +!!y.position==1,"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),a.Y.assert(()=>p.length>0,"element to show does not exist."),y.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,p),p.addClass(n),p.attr("aria-modal","false"),p.attr("role","dialog"),y.anchorElement||y.anchorDimensions){y.blurNeeded&&this.registerBlurHandler(y.anchorElement,y.disableAnimation);var S=y.anchorDimensions||(0,l.F)(y.anchorElement);this.repositionDropdownWithAnchorCoordinates(p,S,!!y.preferLeft,y.horizontal,y.showOutsideAnchorElement,y.showIndicator,y.scale)}else y.position&&y.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(p,{left:y.position.x,top:y.position.y,width:0,height:0},!!y.preferLeft,!1,y.showOutsideAnchorElement,y.showIndicator,y.scale):y.position&&this.repositionDropdown(p,y.position);var C=_.filter(this.dropdowns,c=>c.element.is(p));if(!_.isEmpty(C)){var u=C[0];u.escHandler=c=>{this.keyPress(c,u,y.anchorElement)};var E=u.element.get(0);E&&E.addEventListener("keydown",u.escHandler),u.isModal=y.isModal,u.returnFocusToElement=y.returnFocusToElement}this.registerScrollHandler(),r.c_.focusChildInGroup(p.get(0))}registerScrollHandler(){setTimeout(()=>this.registerScrollHandlerCore())}registerScrollHandlerCore(){this.scrollEventListener||(this.scrollEventListener=p=>{this.isResizeSensorScrollEvent(p)||$(p.target).parents().addBack().hasClass(n)||this.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))}unregisterScrollHandler(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0}keyPress(p,y,S){!p.skipOverlayServiceEscHandler&&p.keyCode===t.cK.escKeyCode&&(S&&S.focus(),this.hideDropdown(y,!0),p.stopPropagation())}registerBlurHandler(p,y){p.on("focusout.overlay",S=>{p.off("focusout.overlay"),setTimeout(()=>this.hideAllDropdowns(!!y))})}getOverlayElement(p,y){var S=this.getOverlaySelector(p);return y?y.siblings(S):$(S)}getOverlaySelector(p){return`[dropdown-overlay-name="${p}"]`}outOfBoundsClickHandler(p,y){return!$(p.target).parents().addBack().hasClass(n)}repositionDropdownWithAnchorCoordinates(p,y,S,C,u,E,c){var V,w,R,W,F,f=this.$window.width(),D=this.$window.height(),b=p.find(".explorationAppBarMenu"),T=b.length?b.outerWidth(!0):p.outerWidth(!0),M=b.length?b.outerHeight(!0):p.outerHeight(!0),P=null==c?T:T*c,N=null==c?M:M*c,I=E?16:0,O=E?Math.floor(Math.sqrt(I*I+I*I)/2):0;if(C){var U,B,x;if(B=y.left,w=(F=N+(U=y.top)-I>D)?U+y.height-M+I:U-I,this.rtl&&this.rtl.isRtlLayout){var A=(x=B)-P-O<0;W=!A,V=A?x+O:x-T-O}else{var L=P+(x=B+y.width)+O>f;W=L,V=L?x-T-O:x+O}u&&V+T>=B&&V<x&&(V=B-T)}else{var z,Y=y.top+y.height;if(w=(F=N+Y-I>D)?Y-M+I:Y-I,S||this.rtl&&this.rtl.isRtlLayout){var H=(z=y.left+y.width)-T-O<0;W=!H,V=H?z-y.width+O:z-T-O}else V=(W=T+(z=y.left)+O>f)?z+y.width-T-O:z+O;V<0&&(V=z)}w<0&&(w=10);var k={x:Math.ceil(V),y:w};if(E){var K=y.top-k.y-I/2;K<0?K+=I:K>p.height()-I&&(K-=I),R={top:K},k.x>=y.left?R.left=-8:R.right=-8}this.repositionDropdown(p,k,R,c,W,F)}repositionDropdown(p,y,S,C,u,E){S&&p.append($.parseHTML(`<div class="indicator" style="position: absolute;transform: rotate(45deg);height: 16px;width: 16px;top: ${S.top}px;${S.left?`left: ${S.left}px`:`right: ${S.right}px`};"></div>`));var M={top:y.y,left:y.x};void 0!==C&&(M.transform=`scale(${C})`,M["transform-origin"]=`${u?"right":"left"} ${E?"bottom":"top"}`),p.css(M)}hideAllDropdowns(p,y,S){var C;y||(C=_.find(this.dropdowns,u=>u.isModal)),this.hideAllDropdownsExcept(p,C&&C.element)}hideAllDropdownsExcept(p,y){var S=[];for(var C of this.dropdowns)C&&!C.element.is(y)&&C.element.hasClass(n)&&(this.hideDropdown(C,p),S.push(C));this.removeAllFromRegister(S)}hideDropdown(p,y){if(p.escHandler){var S=p.element.get(0);S&&S.removeEventListener("keydown",p.escHandler),p.escHandler=null}p.returnFocusToElement&&p.returnFocusToElement.focus(),y?this.hideOverlay(p):p.element.animate({opacity:0},250,()=>this.hideOverlay(p)),this.unregisterScrollHandler(),this.removeSingleFromRegister(p)}removeSingleFromRegister(p){p.element.trigger(i.Ir1)}removeAllFromRegister(p){_.forEach(p,y=>y.element.trigger(i.Ir1))}hideOverlay(p){p.element.removeClass(n).removeAttr("style")}isResizeSensorScrollEvent(p){return p&&$(p.target).parent().hasClass("ResizeSensor")}}},229129:function(me,j,e){function r(i){var a=[];for(var t in i){var l=i[t];!l.start||!l.end||a.push({start:new Date(l.start).toISOString(),end:new Date(l.end).toISOString(),startEval:l.startEval?new Date(l.startEval).toISOString():void 0,endEval:l.endEval?new Date(l.endEval).toISOString():void 0,fileName:t})}return a}e.d(j,{F:function(){return r}})},872189:function(me,j,e){e.d(j,{$:function(){return i},L:function(){return a}});var r=e(558109);function i(){return(0,r.iE)().isCurrentContextRtl}function a(){return{isRtlLayout:"True"===i()}}},35899:function(me,j,e){e.d(j,{E:function(){return t},G:function(){return l}});var r=e(587814),i=e(618644),a=e(912202);function t(g,n){return null==g?!n:"string"==typeof g&&(0,i.AZ)(g)}function l(g,n=[],d){var s=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],h=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],o=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(s,h,n);try{var v=(0,r.p)(g);if(_.isObject(v)&&!_.isArray(v)&&!d){var p=v.name;if(!p||!_.isString(p))throw new Error("Theme name missing");var y=v.dataColors;if(null!=y&&(!_.isArray(y)||_.some(y,f=>!t(f,!0))))throw new Error("Invalid theme data colors");for(var S of s)if(!t(v[S],!1))throw new Error("Invalid theme data color");for(var C in v)if(-1===o.indexOf(C))throw new Error("Invalid theme field: "+C);var u=v.textClasses;if(!_.isEmpty(u))for(var E in u)if(-1===h.indexOf(E))throw new Error("Invalid theme text class: "+E)}if(v){if(!_.isEmpty(v.dataColors)){var c=a.SU.getDefaultColors();v.dataColors.length<c.length&&(v.dataColors=v.dataColors.concat(c.slice(v.dataColors.length).map(f=>f.value)))}return v}}catch{}}},927729:function(me,j,e){function t(g){return new l(g)}e.d(j,{Jr:function(){return t}});class l{constructor(n){this.promiseFactory=n,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}setTimeout(n=0,d=!1){var s=this.promiseFactory.defer(d),h=50,o=this.queueDictionaryForBigDelays;n<=100&&(h=5,o=this.queueDictionaryForSmallDelays);var v=-1===n?-1:n?Math.ceil((Date.now()+n)/h):0,m=o[v];if(!m){m=o[v]=[];var p=()=>{delete o[v],_.forEach(m,y=>y.resolve(null))};-1===n?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",p):window.setTimeout(p,n)}return m.push(s),s}}},755477:function(me,j,e){e.d(j,{$J:function(){return kr},BA:function(){return N},Bd:function(){return ye},Cs:function(){return He},D:function(){return z},Dp:function(){return Pt},EB:function(){return Je},Eh:function(){return n},F8:function(){return qe},GW:function(){return ae},Gn:function(){return L},H7:function(){return Ee},Hq:function(){return Ce},IQ:function(){return Gr},IT:function(){return Z},JT:function(){return w},Je:function(){return _r},K5:function(){return lr},NC:function(){return Lr},NS:function(){return it},Nm:function(){return $e},OQ:function(){return l},P4:function(){return nt},Ps:function(){return Q},Qc:function(){return yt},R7:function(){return zt},SA:function(){return U},Vu:function(){return q},Xx:function(){return Le},Zs:function(){return ot},_6:function(){return t},_Y:function(){return Xr},ab:function(){return Qr},am:function(){return M},bO:function(){return _e},ce:function(){return Ke},cv:function(){return ce},dC:function(){return br},dw:function(){return Te},g3:function(){return G},gE:function(){return et},gb:function(){return ut},hV:function(){return a},jA:function(){return Ge},jN:function(){return be},l3:function(){return b},mS:function(){return ze},oJ:function(){return It},pu:function(){return Ur},pz:function(){return i},ro:function(){return fe},rt:function(){return Yr},sF:function(){return x},ty:function(){return qr},uo:function(){return ve},vo:function(){return Me},wR:function(){return Et},wn:function(){return X},xN:function(){return o},xQ:function(){return kt},ym:function(){return g},yx:function(){return Fr},zV:function(){return At},zm:function(){return K}});var r=e(817491),i=function(Gt){return Gt.Unknown="Unknown",Gt.ReportMessage="ReportMessage",Gt.ShareDashboard="ShareDashboard",Gt.ConnectApps="ConnectApps",Gt.ConnectContentProvider="ConnectContentProvider",Gt.ConnectContentPacks="ConnectContentPacks",Gt.CopyArtifact="CopyArtifact",Gt.QuotaExceededTrialAndPaidUser="QuotaExceededTrialAndPaidUser",Gt.QuotaExceededTrialUser="QuotaExceededTrialUser",Gt.ManageStorageView="ManageStorageView",Gt.Dataset="Dataset",Gt.Dataflow="Dataflow",Gt.CreateGroups="CreateGroups",Gt.SwitchGroups="SwitchGroups",Gt.LandingGroups="LandingGroups",Gt.SwitchDashboards="SwitchDashboards",Gt.InitialDashboardLoad="InitialDashboardLoad",Gt.NotificationBar="NotificationBar",Gt.EmailLink="EmailLink",Gt.RLS="RLS",Gt.DashboardEmailSubscription="DashboardEmailSubscription",Gt.ReportEmailSubscription="ReportEmailSubscription",Gt.UsageMetrics="UsageMetrics",Gt.ProModels="ProModels",Gt.ScriptVisual="ScriptVisual",Gt.Sharing="Sharing",Gt.ExportToPowerPoint="ExportToPowerPoint",Gt.ExportToPdf="ExportToPdf",Gt.PremiumContentProviders="PremiumContentProviders",Gt.AnalyzeInExcel="AnalyzeInExcel",Gt.NavigationBar="NavigationBar",Gt.AuthorApps="AuthorApps",Gt.TutorialPopup="TutorialPopup",Gt.ExportData="ExportData",Gt.AccessApps="AccessApps",Gt.ServiceApps="ServiceApps",Gt.AppPersonalize="AppPersonalize",Gt.HomeUpgradeBar="HomeUpgradeBar",Gt.UserInfoMenu="UserInfoMenu",Gt.DeploymentPipelines="DeploymentPipelines",Gt.SharepointList="SharepointList",Gt.UploadFile="UploadFile",Gt.CreateScorecardPane="CreateScorecardPane",Gt.OpenAutomatedInsights="OpenAutomatedInsights",Gt.CreateReport_DatasetAction="CreateReport_DatasetAction",Gt.CreatePaginatedReport_DatasetAction="CreatePaginatedReport_DatasetAction",Gt.SettingsNavigation_DatasetAction="SettingsNavigation_DatasetAction",Gt.ManagePermissions_DatasetAction="ManagePermissions_DatasetAction",Gt.ChatInTeams_DatasetAction="ChatInTeams_DatasetAction",Gt.ViewLineage_DatasetAction="ViewLineage_DatasetAction",Gt.DownloadPbix_DatasetAction="DownloadPbix_DatasetAction",Gt.RefreshNow_DatasetAction="RefreshNow_DatasetAction",Gt.Rename_DatasetAction="Rename_DatasetAction",Gt.DeleteConfirmation_DatasetAction="DeleteConfirmation_DatasetAction",Gt.ScheduleRefresh_DatasetAction="ScheduleRefresh_DatasetAction",Gt.RequestAccess_Dataset="RequestAccess_Dataset",Gt.ImpactAnalysis_Dataset="ImpactAnalysis_Dataset",Gt.ShowTable_Dataset="ShowTable_Dataset",Gt.Scan_Dataset="Scan_Dataset",Gt.NewMigrationPane="NewMigrationPane",Gt.CreatePowerBIArtifact="CreatePowerBIArtifact",Gt.CreateTridentArtifact="CreateTridentArtifact",Gt.DlpAction="DlpAction",Gt.PurviewHub="PurviewHub",Gt.OneDriveViewer="OneDriveViewer",Gt.DataExploration="DataExploration",Gt.CreatePaginatedReport="CreatePaginatedReport",Gt.DeleteConfirmation="DeleteConfirmation",Gt.DeveloperPlayground="DeveloperPlayground",Gt.DownloadReport="DownloadReport",Gt.EditArtifact="EditArtifact",Gt.EditArtifactInfo="EditArtifactInfo",Gt.EmbedReport="EmbedReport",Gt.ManagePermissions="ManagePermissions",Gt.MoveTo="MoveTo",Gt.OpenDataModel="OpenDataModel",Gt.PublishToWeb="PublishToWeb",Gt.Rename="Rename",Gt.SaveACopy="SaveACopy",Gt.SaveAs="SaveAs",Gt.SettingsNavigation="SettingsNavigation",Gt.ViewLineage="ViewLineage",Gt}({}),a=function(Gt){return Gt.Unknown="Unknown",Gt.Accept="Accept",Gt.Cancel="Cancel",Gt.Upgrade="Upgrade",Gt.Error="Error",Gt.BuyNow="BuyNow",Gt}({}),t=function(Gt){return Gt.Dashboard="Dashboard",Gt.Report="Report",Gt}({}),l=function(Gt){return Gt.Models="Models",Gt.Packages="Packages",Gt.DirectLake="DirectLake",Gt}({}),g=function(Gt){return Gt.Unknown="Unknown",Gt.GET="GET",Gt.POST="POST",Gt.PUT="PUT",Gt.PATCH="PATCH",Gt.DELETE="DELETE",Gt}({}),n=function(Gt){return Gt.TenantSet="TenantSet",Gt.SelfServeEligible="SelfServeEligible",Gt.Ineligible="Ineligible",Gt.Unknown="Unknown",Gt}({}),d="PBI.Dashboard.BITokenRefreshPrompt",h=(r.Xi[d]=(0,r.Vp)(d),"PBI.Dashboard.FailedToRefreshToken"),o=r.Xi[h]=(0,r.Vp)(h),v="PBI.Dashboard.OpenLink",p=(r.Xi[v]=(0,r.Vp)(v),"PBI.MashUpContentProvider.ConnectButtonClicked"),S=(r.Xi[p]=(0,r.Vp)(p),"PBI.MashUpContentProvider.OrgAppPassThrough"),u=(r.Xi[S]=(0,r.Vp)(S),"PBI.MashUpContentProvider.PreparePackageSucceed"),c=(r.Xi[u]=(0,r.Vp)(u),"PBI.MashUpContentProvider.GetPackageModels"),D=(r.Xi[c]=(0,r.Vp)(c),"PBI.MashUpContentProvider.SaveModelParameters"),b=r.Xi[D]=(0,r.Vp)(D),T="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",M=r.Xi[T]=(0,r.Vp)(T),V="PBI.MashUpContentProvider.UpdateDatasource",w=r.Xi[V]=(0,r.Vp)(V),P="PBI.MashUpContentProvider.ValidateParameters",N=r.Xi[P]=(0,r.Vp)(P),I="PBI.ContentProvider.UrlParametersPassed",R=(r.Xi[I]=(0,r.Vp)(I),"PBI.ContentProvider.UrlParametersDecodingFailed"),F=(r.Xi[R]=(0,r.Vp)(R),"PBI.ContentProvider.Http.GetContentProviders"),U=r.Xi[F]=(0,r.Vp)(F),B="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",x=r.Xi[B]=(0,r.Vp)(B),A="PBI.Dashboard.ParametersDialogSaveParameters",L=r.Xi[A]=(0,r.Vp)(A),Y="PBI.Dashboard.RefreshNowFailedToRetrieveModel",z=r.Xi[Y]=(0,r.Vp)(Y),H="PBI.Dashboard.AuthenticationDialogSaveCredentials",Z=r.Xi[H]=(0,r.Vp)(H),k="PBI.Dashboard.RetrieveGateway",K=r.Xi[k]=(0,r.Vp)(k),ee="PBI.Dashboard.PrepareRefreshNow",Q=r.Xi[ee]=(0,r.Vp)(ee),J="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",X=r.Xi[J]=(0,r.Vp)(J),ne="PBI.Dashboard.DatasetRefresh",ae=r.Xi[ne]=(0,r.Vp)(ne),oe="PBI.Dashboard.DatasetRefreshCancellation",Me=r.Xi[oe]=(0,r.Vp)(oe),Ye="PBI.Dashboard.InitializeSettingsDatasetModel",Le=r.Xi[Ye]=(0,r.Vp)(Ye),lt="PBI.Dashboard.GetRefreshHistory",ut=r.Xi[lt]=(0,r.Vp)(lt),St="PBI.Dashboard.GetGroupIcon",ze=r.Xi[St]=(0,r.Vp)(St),Be="PBI.Dashboard.RefreshAndGetUserMetadata",Ce=r.Xi[Be]=(0,r.Vp)(Be),Ae="PBI.UserInfo.RefreshUserServicePlan",be=r.Xi[Ae]=(0,r.Vp)(Ae),Ie="PBI.UserInfo.GetSelfServiceEligibility",ve=r.Xi[Ie]=(0,r.Vp)(Ie),xe="PBI.UserInfo.GetIsModernCommerceAdmin",Ee=r.Xi[xe]=(0,r.Vp)(xe),Ne="PBI.Quota.UpgradeInteraction",ye=r.Xi[Ne]=(0,r.Vp)(Ne),Xe="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",fe=r.Xi[Xe]=(0,r.Vp)(Xe),Se="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",qe=r.Xi[Se]=(0,r.Vp)(Se),Ue="PBI.LicenseEnforcement.ShowUpgradeToProDialog",_e=r.Xi[Ue]=(0,r.Vp)(Ue),at="PBI.LicenseEnforcement.Accept2017proTrial",ot=r.Xi[at]=(0,r.Vp)(at),mt="PBI.LicenseEnforcement.AutoTrialAssignment",yt=r.Xi[mt]=(0,r.Vp)(mt),Nt="PBI.TeamsLicenseEnforcement.UpgradeNowClick",he=(r.Xi[Nt]=(0,r.Vp)(Nt),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),je=(r.Xi[he]=(0,r.Vp)(he),"PBI.DashboardAndReports.Print"),Ke=r.Xi[je]=(0,r.Vp)(je,{logExpAssignment:!0}),tt="PBI.DashboardAndReports.AnalyzeInExcel",$e=r.Xi[tt]=(0,r.Vp)(tt,{logExpAssignment:!0}),de="PBI.DeprecatedNotificationToastUsage",re=(r.Xi[de]=(0,r.Vp)(de),"PBI.DomainHelper.GetVerifiedDomains"),ce=r.Xi[re]=(0,r.Vp)(re),te="PBI.NewerExplorationVersion",Te=r.Xi[te]=(0,r.Vp)(te),Fe="PBI.DeveloperVisualEnabledChanged",et=r.Xi[Fe]=(0,r.Vp)(Fe),vt="PBI.ModuleLoad",At=r.Xi[vt]=(0,r.Vp)(vt),st="PBI.ModuleLoadError",q=(r.Xi[st]=(0,r.Vp)(st),function(Gt){return Gt.Data="Data",Gt.Highlight="Highlight",Gt}({})),pe="ScriptVisualFilterAction",ke=(r.Xi[pe]=(0,r.Vp)(pe),"PBI.EX.CrossFilterScriptVisual"),it=r.Xi[ke]=(0,r.Vp)(ke),ft="PBI.EX.FilterScriptVisual",Pt=r.Xi[ft]=(0,r.Vp)(ft),Ut="PBI.ClusterResolved",Qt=(r.Xi[Ut]=(0,r.Vp)(Ut),"PBI.DashboardAndReports.AuditEvent"),nr=(r.Xi[Qt]=(0,r.Vp)(Qt),"PBI.DownloadReport"),Ge=r.Xi[nr]=(0,r.Vp)(nr,{logExpAssignment:!0}),Ct="PBI.Settings.UpdateGateway",We=(r.Xi[Ct]=(0,r.Vp)(Ct),"PBI.Settings.DeleteGateway"),nt=r.Xi[We]=(0,r.Vp)(We),Wt="PBI.Settings.CreateDataSource",kt=r.Xi[Wt]=(0,r.Vp)(Wt),Ht="PBI.Settings.DeleteDataSource",lr=r.Xi[Ht]=(0,r.Vp)(Ht),mr="PBI.Settings.BindModelToGateway",_r=r.Xi[mr]=(0,r.Vp)(mr),Vr="PBI.Settings.AddDataSourcePrincipals",br=r.Xi[Vr]=(0,r.Vp)(Vr),Br="PBI.Settings.RemoveDataSourcePrincipals",Fr=r.Xi[Br]=(0,r.Vp)(Br),jr="PBI.Settings.AddGatewayPrincipals",Lr=r.Xi[jr]=(0,r.Vp)(jr),wr="PBI.Settings.RemoveGatewayPrincipals",Yr=r.Xi[wr]=(0,r.Vp)(wr),vr="PBI.Settings.UpdateCredentials",Ur=r.Xi[vr]=(0,r.Vp)(vr),xr="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",Kr=(r.Xi[xr]=(0,r.Vp)(xr),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),qr=r.Xi[Kr]=(0,r.Vp)(Kr),ea="PBI.Settings.TestGatewayDatasourceUPNMapping",Gr=r.Xi[ea]=(0,r.Vp)(ea),Ir="PBI.App.JavaScriptParse",Qr=r.Xi[Ir]=(0,r.Vp)(Ir),hr="PBI.App.PreemptiveQueryData",kr=r.Xi[hr]=(0,r.Vp)(hr),Or="PBI.GeocodingSummary",Xr=r.Xi[Or]=(0,r.Vp)(Or,{logRatio:.1}),wt="PBI.GeocodingBatchSummary",Et=r.Xi[wt]=(0,r.Vp)(wt,{logRatio:.1}),Dt="PBI.GeocodingCacheLimitExceeded",It=r.Xi[Dt]=(0,r.Vp)(Dt,{logRatio:.1}),Xt="PBI.AzureMapsResponseMetrics",pt=(r.Xi[Xt]=(0,r.Vp)(Xt),"PBI.SyncServiceUpdate"),Je=r.Xi[pt]=(0,r.Vp)(pt),ie="PBI.LicenseEnforcement.AccessCustomizedProperties",G=r.Xi[ie]=(0,r.Vp)(ie),se="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",He=r.Xi[se]=(0,r.Vp)(se),Mt="PBI.Settings.OAuthPopup",zt=r.Xi[Mt]=(0,r.Vp)(Mt),or="PBI.LegacyServiceUsed";r.Xi[or]=(0,r.Vp)(or)},5863:function(me,j,e){e.d(j,{Me:function(){return n},ND:function(){return h},Ob:function(){return d},Pz:function(){return m},Rd:function(){return b},WL:function(){return S},fd:function(){return p},g9:function(){return E},mV:function(){return f},wE:function(){return P},wp:function(){return D},yL:function(){return T},yS:function(){return c}});var r=e(785463),i="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=[.6,.4,.2,.1,0],l=[-.1,-.2,-.3,-.5,-.6],g=[.6,.4,.2,-.25,-.5];function n(W,F,U){var B,x,A,L=Math.floor(6*W),Y=6*W-L,z=U*(1-F),H=U*(1-Y*F),Z=U*(1-(1-Y)*F);switch(L%6){case 0:B=U,x=Z,A=z;break;case 1:B=H,x=U,A=z;break;case 2:B=z,x=U,A=Z;break;case 3:B=z,x=H,A=U;break;case 4:B=Z,x=z,A=U;break;case 5:B=U,x=z,A=H}return[Math.round(255*B),Math.round(255*x),Math.round(255*A)]}function d(W,F,U){return"#"+s(W)+s(F)+s(U)}function s(W){var F=W.toString(16);return 1===F.length?"0"+F:F}function h(W,F){var U=T(W);return null===U?"":F||0===F?"rgba("+U.r+","+U.g+","+U.b+","+F+")":"rgb("+U.r+","+U.g+","+U.b+")"}function m(W,F){if(p(W))return h(W,F);if(function(W){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var U=function(W){var U,F=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!F)return null;F[5]&&(U=parseFloat(F[5])),F[6]&&(U=parseFloat(F[6]));var B=parseInt(F[1],10);B%=360;var x=parseInt(F[2],10);x=x>100?100:x;var A=parseInt(F[3],10);return{h:B,s:x,l:A=A>100?100:A,a:U}}(W);return"hsla("+U.h+","+U.s+"%,"+U.l+"%,"+(U.a||0===U.a?U.a:F)+")"}if(function(W){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(W)}(W)){var x=function(W){var U,F=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(W);if(!F)return null;F[5]&&(U=parseFloat(F[5])),F[6]&&(U=parseFloat(F[6]));var B=parseInt(F[1],10);B=B>255?255:B;var x=parseInt(F[2],10);x=x>255?255:x;var A=parseInt(F[3],10);return{r:B,g:x,b:A=A>255?255:A,a:U}}(W);return"rgba("+x.r+","+x.g+","+x.b+","+(x.a||0===x.a?x.a:F)+")"}return""}function p(W){return null!=W&&!!W.match(i)}function S(W){return r.Y.assertValue(W,"color"),function(W){return"#FFFFFF"===W||"#FFF"===W}(W)?l:function(W){return"#000000"===W||"#000"===W}(W)?t:g}function E(W){return p(W)||p(W="#"+W)?W:null}function c(W){return 1-W/100}function f(W){var F=T(W);return(.299*F.r+.587*F.g+.114*F.b)/255}function D(W){return W&&!!W.match("^#([A-Fa-f0-9]{3})$")}function b(W,F){return W=(W=F?W.substring(1):W).replace(a,function(U,B,x,A){return B+B+x+x+A+A}),F?"#"+W:W}function T(W){W=b(W,!1);var F=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(W);return F?{r:parseInt(F[1],16),g:parseInt(F[2],16),b:parseInt(F[3],16)}:null}function P(W,F,U){W/=255,F/=255,U/=255;var A,L,B=Math.max(W,F,U),x=Math.min(W,F,U),Y=B,z=B-x;if(L=0===B?0:z/B,B===x)A=0;else{switch(B){case W:A=(F-U)/z+(F<U?6:0);break;case F:A=(U-W)/z+2;break;case U:A=(W-F)/z+4}A/=6}return[A,L,Y]}},973817:function(me,j,e){function r(i){return{dsrV2:i.dsrV2||i.dsrV2_Staging,queryCancellation:i.queryCancellation,telemetryV2:i.telemetryV2,scopedAggregates:i.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:i.addVisualIdToQueryDataAsHttpBodyId,queryContext:i.queryContext,lruCacheEvictionPolicy:i.lruCacheEvictionPolicy,categoricalSecondaryCF:i.categoricalSecondaryCF,useEnrichedApplicationContext:i.useEnrichedApplicationContext,disallowLongRunningQueries:i.disallowLongRunningQueries,visualCalculationOnComboChart:i.visualCalculationOnComboChart,visualTopN:i.visualTopN,rowHierarchySelector:i.rowHierarchySelector}}e.d(j,{p:function(){return r}})},486395:function(me,j,e){e.d(j,{Q:function(){return a}});var r=e(785463),i=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/;class a{static generateId(l,g){return`${l||""}${a.generateUUID()}${g||""}`}static generateShortId(l){return(Math.random().toString(36)+"00000000000000000").slice(2,l+2)}static generateUniqueId(l,g,n){r.Y.assertValue(l,"usedIds");for(var d,s=0;void 0===d||l[d];){if(++s>1e3){r.Y.assertFail("iterationCount is greater than 1000 while generating a unique id");break}d=a.generateId(g,n)}return d}static isGuid(l){if(_.isEmpty(l)||36!==l.length)return!1;var g=l.match(i);return!_.isEmpty(g)&&1===g.length}static generateUUID(){var l=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(l+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(g){var n=l+16*Math.random()&15;return l>>=4,n.toString(16)})}}},95707:function(me,j,e){function r(i){var a=i.offset();return{left:a.left,top:a.top,width:i.outerWidth(!0),height:i.outerHeight(!0)}}e.d(j,{F:function(){return r}})},845204:function(me,j,e){e.d(j,{Z:function(){return l},n:function(){return i}});var r=e(785463),i=function(g){return g[g.Reference=0]="Reference",g[g.Array=1]="Array",g[g.Deep=2]="Deep",g}({});function a(g){if(g){var d,n=g.value();if(g.firstChange?(g.firstChange=!1,d=!0):g.equal(n,g.oldValue)||(d=!1),void 0!==d){var s=g.oldValue;g.oldValue=g.copy(n),g.onChange(n,s,d)}}}class l{constructor(){this.watches={}}has(n){return null!=this.watches[n]}add(n,d,s,h){var o,v;r.Y.assertValue(n,"id"),r.Y.assert(()=>!this.watches[n],`Added watch twice: ${n}`),r.Y.assertValue(d,"value"),r.Y.assertValue(s,"onChange"),h&&h.mode===i.Deep?(o=(m,p)=>_.isEqual(m,p),v=m=>_.cloneDeep(m)):h&&h.mode===i.Array?(o=(m,p)=>function(g,n){if(!g||!n)return g===n;var d=g.length;if(d!==n.length)return!1;for(var s=d;s-- >0;)if(g[s]!==n[s])return!1;return!0}(m,p),v=m=>_.clone(m)):(o=(m,p)=>m===p,v=m=>m),this.watches[n]={id:n,value:d,onChange:s,firstChange:!0,equal:o,copy:v}}remove(n){delete this.watches[n]}doCheck(){_.forEach(this.watches,a)}}},607055:function(me,j,e){e.d(j,{AjU:function(){return P},Bdn:function(){return Vt},CnU:function(){return ua},DnA:function(){return Pt},FVA:function(){return et},FxJ:function(){return Dr},HTz:function(){return _r},HaT:function(){return le},Hiw:function(){return R},Ibe:function(){return vr},Ir1:function(){return W},J1w:function(){return s},JTY:function(){return D},Jih:function(){return jt},LVJ:function(){return g},Lqx:function(){return pe},MLn:function(){return Kt},MVu:function(){return q},Nji:function(){return Or},Nk9:function(){return nr},OJn:function(){return M},OYt:function(){return xr},PHG:function(){return Mr},PNz:function(){return kr},PQ5:function(){return ga},PUe:function(){return x},Pif:function(){return Ut},Q0z:function(){return Yr},QT:function(){return f},Qs_:function(){return Pr},R0W:function(){return oe},RSC:function(){return U},Rqq:function(){return lr},TRo:function(){return Et},Tbb:function(){return ft},Tby:function(){return a},VCx:function(){return Ur},Vw7:function(){return V},W33:function(){return w},Wqv:function(){return Pe},Z8c:function(){return gr},ZN4:function(){return E},Zpm:function(){return mr},__N:function(){return se},_e:function(){return ke},_j3:function(){return va},a2e:function(){return b},bJ9:function(){return Br},bZs:function(){return Xr},cTp:function(){return N},fAq:function(){return T},hNc:function(){return B},hUJ:function(){return Ge},kA_:function(){return zr},kGi:function(){return l},klP:function(){return ie},nLn:function(){return n},ohZ:function(){return la},puD:function(){return c},tMM:function(){return Qt},tzh:function(){return Wr},u2M:function(){return Ht},u2g:function(){return u},vNi:function(){return O},xP6:function(){return Vr},yKx:function(){return Tr},z2S:function(){return t}});var r=e(212554),i=e(774973),a="ActivityId",t="RequestId",l="x-ms-root-activity-id",g="http",n="X-PowerBI-UploadFileSize",s="refreshAccessToken",u="azure",E="office",c="trial",f="dc",D=function(ue){return ue.Settings="settings",ue.Health="health",ue.DelegatedSettings="delegatedSettings",ue}({}),b=673,T=860,M=940,V=578,w="/openReport",P="/openWorkbook",N="/openQnA",O="/openInsights",R="/openUrl",W="overlay.close",U="me",B="R",x="sobe_onpremisevirtualserver",oe="selectedQueryId",et={name:"datasetDatasourceUpdated",type:r.U.Global},q=980,pe=640,ke={name:"datasetShowAuthDialog",type:r.U.Global},ft={name:"datasetShowParameterDialogAfterInvalidParameter",type:r.U.Global},Pt="ContentProvider_InvalidModelParameter",Ut=127,Kt=8,Qt=48,nr="enterPrintModeEvent",Ge="exitPrintModeEvent",Ht="PackageOperationInProgress",lr="DataRefreshTooSoon",mr="OnPremiseServiceException",_r="RefreshNotSupportedFFXL",Vr="CloudRLSAccessDeniedErrorCode",Br=location.origin||location.protocol+"//"+location.hostname,Yr="contentProviderStoreCancelModalDialogMessage",vr="contentProviderStoreCloseModalDialogMessage",Ur="contentProviderStoreGoBackModalDialogMessage",xr="contentProviderStoreGoToAppDocModalDialogMessage",kr=6,Or=7,Xr=26,Et=1073741824,gr=1004,ie=10,se=2147483647,Vt=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12},{backendUri:"https://fabric-shared-edog-redirect.analysis-df.windows.net",hostNameMatch:["fabric-shared-edog"],index:13}],jt="dsr",Dr=function(ue){return ue[ue.UserReportUsageMetrics=102]="UserReportUsageMetrics",ue[ue.UserDashboardUsageMetrics=103]="UserDashboardUsageMetrics",ue}({}),Pr=function(ue){return ue[ue.maxTagTelemetrySize=300]="maxTagTelemetrySize",ue}({});function Wr(ue){var dt=ue.contentProviderId;return dt===Dr.UserDashboardUsageMetrics||dt===Dr.UserReportUsageMetrics||ue.packageType===i.Rn.UsageMetricsV2}function Mr(ue){return ue?.packageType===i.Rn.Scorecard}function Tr(ue){return ue?.originalPackageType===i.Rn.Scorecard}function zr(ue){return ue===Dr.UserDashboardUsageMetrics||ue===Dr.UserReportUsageMetrics}var la=60,ua="invitationCode",va="i",ga="00000000-0000-0000-0000-000000000000",le=2147483647,Pe=[22,43,44,45,46,47,48,49]},774973:function(me,j,e){e.d(j,{Ak:function(){return m},Cm:function(){return y},Cs:function(){return v},DR:function(){return M},E8:function(){return g},KI:function(){return l},Nx:function(){return w},OK:function(){return u},OL:function(){return d},RY:function(){return E},Rn:function(){return s},VK:function(){return b},Xq:function(){return D},ac:function(){return T},d2:function(){return S},fI:function(){return c},r8:function(){return h},rf:function(){return t},u9:function(){return p},wQ:function(){return o},xR:function(){return C},yW:function(){return V},yt:function(){return n}}),e(170099),e(140817),e(788622);var t=["PowerBIServicePlan0"],l=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],g=["PowerBIServicePlan3"],n=["PowerBIServicePlan1"],d=["PowerBIServicePlan1","PowerBIServicePlan2"],s=function(P){return P[P.Undefined=0]="Undefined",P[P.AppTemplate=1]="AppTemplate",P[P.AppInstance=2]="AppInstance",P[P.AppCopy=3]="AppCopy",P[P.UsageMetricsV2=4]="UsageMetricsV2",P[P.ProtectionMetrics=5]="ProtectionMetrics",P[P.AdminUsageMetrics=6]="AdminUsageMetrics",P[P.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",P[P.Sample=8]="Sample",P[P.Scorecard=9]="Scorecard",P[P.TeamsAnalytics=10]="TeamsAnalytics",P[P.Datamart=11]="Datamart",P[P.AdminMonitoring=12]="AdminMonitoring",P[P.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",P[P.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",P[P.AdminInsights=15]="AdminInsights",P[P.SeeThruModel=16]="SeeThruModel",P[P.PurviewHub=17]="PurviewHub",P}({}),h=function(P){return P[P.None=0]="None",P[P.BuiltIn=1]="BuiltIn",P[P.Organizational=2]="Organizational",P[P.Services=3]="Services",P[P.OrganizationalTemplate=4]="OrganizationalTemplate",P[P.OrganizationalApp=5]="OrganizationalApp",P[P.ServiceApp=6]="ServiceApp",P[P.OrganizationalTemplateApp=7]="OrganizationalTemplateApp",P[P.PowerBIServiceApp=8]="PowerBIServiceApp",P}({}),o=function(P){return P.None="",P.BuiltIn="BuiltIn",P.Organizational="Organizational",P.Services="Services",P.OrganizationalTemplate="OrganizationalTemplate",P.OrganizationalApp="OrganizationalApp",P.ServiceApp="ServiceApp",P.OrganizationalTemplateApp="OrganizationalTemplateApp",P.PowerBIServiceApp="PowerBIServiceApp",P}({}),v=function(P){return P[P.Service=1]="Service",P[P.Organizational=2]="Organizational",P[P.File=3]="File",P[P.Sample=4]="Sample",P[P.Learn=5]="Learn",P[P.BigDataAndMore=6]="BigDataAndMore",P[P.Dataflows=7]="Dataflows",P[P.OrgContentPacks=8]="OrgContentPacks",P[P.Apps=9]="Apps",P}({}),m=function(P){return P[P.Import=0]="Import",P[P.DirectQuery=1]="DirectQuery",P[P.Mixed=2]="Mixed",P}({}),p=function(P){return P[P.Favorite=1]="Favorite",P[P.Report=2]="Report",P[P.Dashboard=4]="Dashboard",P[P.Workbook=8]="Workbook",P[P.OrgApp=16]="OrgApp",P[P.MRU=128]="MRU",P[P.Workspace=256]="Workspace",P[P.Dataset=512]="Dataset",P[P.AppPlaceHolder=1024]="AppPlaceHolder",P[P.RdlReport=2048]="RdlReport",P[P.CdsaModel=4096]="CdsaModel",P[P.StreamingCdsaModel=8192]="StreamingCdsaModel",P[P.Scorecard=16384]="Scorecard",P[P.StreamingDataset=32768]="StreamingDataset",P[P.Datamart=65536]="Datamart",P}({}),y=function(P){return P[P.AlmPipelineDeployment=0]="AlmPipelineDeployment",P[P.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",P[P.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",P[P.LiveConnectModel=3]="LiveConnectModel",P[P.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",P[P.NonV3Model=5]="NonV3Model",P[P.SharedCapacityModel=6]="SharedCapacityModel",P}({}),S=function(P){return P[P.Shared=0]="Shared",P[P.Dedicated=1]="Dedicated",P[P.ASAzure=2]="ASAzure",P[P.ASOnPrem=3]="ASOnPrem",P}({}),C=function(P){return P[P.Unknown=0]="Unknown",P[P.Abf=1]="Abf",P[P.PremiumFiles=2]="PremiumFiles",P}({}),u=function(P){return P[P.Origin=0]="Origin",P[P.Strict=1]="Strict",P}({}),E=function(P){return P.UploadPBIX="UploadPBIX",P.SaveEditedReport="SaveEditedReport",P.NewDashboard="NewDashboard",P.AddTile="AddTile",P.NewReport="NewReport",P.NewDataset="NewDataset",P.UploadRdl="UploadRdl",P.NewRdlReport="NewRdlReport",P}({}),c=function(P){return P[P.Default=0]="Default",P[P.NativeV3=1]="NativeV3",P[P.AutoConvertedV3=2]="AutoConvertedV3",P}({}),D=function(P){return P.InformationProtection="Information Protection",P.InformationProtectionArtifactView="Information Protection - Artifact View",P.InformationProtectionArtifactViewDownstreamInheritance="Information Protection - Artifact View Downstream Inheritance",P.InformationProtectionDownstreamDatasetUsage="Information Protection - Downstream Dataset Usage",P.InformationProtectionEmbedBanner="Information Protection - Embed Banner",P.InformationProtectionMandatory="Information Protection - Mandatory",P.InformationProtectionOverride="Information Protection - Override",P.Datahub="Data hub",P.DatahubList="Data hub compact view",P.DatahubActionTriggered="Data hub action triggered",P.DatahubListActionTriggered="Data hub compact view action triggered",P.DatahubItemDetailsPage="Data hub item details page",P.DatahubItemDetailsPageActionTriggered="Data hub item details page action triggered",P.DataLossPreventionRestrictAccess="Data Loss Prevention - Restrict Access",P.ArtifactEndorsement="Artifact endorsement",P.ArtifactEndorsementAPI="Artifact endorsement API",P.ArtifactEndorsementSet="Artifact Endorsement Set",P.ArtifactEndorsementConsumption="Artifact Endorsement Consumption",P.QuickShare="Quick Dataset Creation",P.PurviewHub="Purview Hub",P.Domains="Domains",P.DomainsManagedMAU="Domains Managed MAU",P.DomainsWorkspaceLoadedInDomain="Domains Workspace Loaded In Domain",P.PaginatedReport="PaginatedReport",P.RdlWebAuthoring="Paginated Report Web Authoring",P.RdlConsumption="Paginated Report Consumption",P.RdlEmbed="Paginated Report Embed",P.CopilotNarrativeVisualUsage="CopilotNarrativeVisualUsage",P.CopilotReportAuthoringUsage="CopilotReportAuthoringUsage",P.CopilotReportExplorationUsage="CopilotReportExplorationUsage",P.CopilotReportAuthoringReliability="CopilotReportAuthoringReliability",P.CopilotReportExplorationReliability="CopilotReportExplorationReliability",P.CopilotWorkspaceUsage="CopilotWorkspaceUsage",P.CopilotPanePreviewToggle="CopilotPanePreviewToggle",P.CopilotFetchColumnStatistics="CopilotFetchColumnStatistics",P.CopilotFetchLinguisticSchema="CopilotFetchLinguisticSchema",P.Datawarehouse="Datawarehouse",P.DatamartSaveAsTableClicked="Datamart Save As Table Clicked",P.DatamartSaveAsTableSaveClicked="Datamart Save As Table Save Clicked",P.DatamartSaveAsViewClicked="Datamart Save As View Clicked",P.DatamartSaveAsViewSaveClicked="Datamart Save As View Save Clicked",P.DatamartDownloadExcelFileClicked="Datamart Download Excel File Clicked",P.DatamartVisualizeResultClicked="Datamart Visualize Result Clicked",P.DatamartWorkspaceAnalyzeInExcelClicked="Datamart Workspace Analyze In Excel Clicked",P.DatamartWorkspaceRenameClicked="Datamart Workspace Rename Clicked",P.DatamartWorkspaceShareClicked="Datamart Workspace Share Clicked",P.DatamartRefreshNowClicked="Datamart Refresh Now Clicked",P.DatamartRefreshHistoryClicked="Datamart Refresh History Clicked",P.DatamartQueryRenameAction="Datamart Query Rename Action",P.DatamartQueryRenameClicked="Datamart Query Rename Clicked",P.DatamartQueryDeleteAction="Datamart Query Delete Action",P.DatamartQueryDeleteTabClicked="Datamart Query Delete Tab Clicked",P.DatamartQueryMoveToMyQueryClicked="Datamart Query Move To My Query Clicked",P.DatamartQueryMoveToSharedQueryClicked="Datamart Query Move To Shared Query Clicked",P.DatamartQueryDuplicateQueryClicked="Datamart Query Duplicate Query Clicked",P.DatamartQuerySqlEditorRunClicked="Datamart Query Sql Editor Run Clicked",P.DatamartQuerySqlEditorSaveClicked="Datamart Query Sql Editor Save Clicked",P.DatamartQuerySqlEditorCancelClicked="Datamart Query Sql Editor Cancel Clicked",P.DatamartCreateNewDatamartClicked="Datamart Create New Datamart Clicked",P.DatamartCloneTableAction="Datamart Clone Table Action",P.DatamartContextMenuSelectTopRowsClicked="Datamart Context Menu Select Top Rows Clicked",P.DatamartContextMenuAlterClicked="Datamart Context Menu Alter Clicked",P.DatamartContextMenuCloneTableClicked="Datamart Context Menu Clone Table Clicked",P.DatamartContextMenuCreateClicked="Datamart Context Menu Create Clicked",P.DatamartContextMenuCreateDefaultTableClicked="Datamart Context Menu Create Default Table Clicked",P.DatamartContextMenuCreateDefaultViewClicked="Datamart Context Menu Create Default View Clicked",P.DatamartContextMenuCreateDefaultSchemaClicked="Datamart Context Menu Create Default Schema Clicked",P.DatamartContextMenuCreateDefaultStoredProcedureClicked="Datamart Context Menu Create Default Stored Procedure Clicked",P.DatamartContextMenuCreateTableAsSelectClicked="Datamart Context Menu Create Table As Select Clicked",P.DatamartContextMenuDropAndCreateClicked="Datamart Context Menu Drop And Create Clicked",P.DatamartContextMenuDropClicked="Datamart Context Menu Drop Clicked",P.DatamartContextMenuRemoveFromDefaultDatasetClicked="Datamart Context Menu Remove From Default Dataset Clicked",P.DatamartContextMenuHideUnhideInReportViewClicked="Datamart Context Menu Hide Unhide In Report View Clicked",P.DatamartRibbonCreateNewSchemaTemplateClicked="Datamart Ribbon Create New Schema Template Clicked",P.DatamartRibbonCreateNewTableTemplateClicked="Datamart Ribbon Create New Table Template Clicked",P.DatamartRibbonAutoUpdateDatasetClicked="Datamart Ribbon Automatically Update Dataset Clicked",P.DatamartRibbonAzureDataStudioClicked="Datamart Ribbon Azure Data Studio Clicked",P.DatamartRibbonEnterDataClicked="Datamart Ribbon Enter Data Clicked",P.DatamartRibbonGetDataClicked="Datamart Ribbon Get Data Clicked",P.DatamartRibbonGetDataNewPipelineClicked="Datamart Ribbon Get Data New Pipeline Clicked",P.DatamartRibbonGetDataNewDataflowGen2Clicked="Datamart Ribbon Get Data New Dataflow Gen2 Clicked",P.DatamartRibbonManageRolesClicked="Datamart Ribbon Manage Roles Clicked",P.DatamartRibbonManuallyUpdateDatasetClicked="Datamart Ribbon Manually Update Dataset Clicked",P.DatamartRibbonNewMeasureClicked="Datamart Ribbon New Measure Clicked",P.DatamartRibbonNewReportClicked="Datamart Ribbon New Report Clicked",P.DatamartRibbonNewReportClickedInReadonlyMode="Datamart Ribbon New Report Clicked In Readonly Mode",P.DatamartRibbonNewSqlQueryClicked="Datamart Ribbon New Sql Query Clicked",P.DatamartRibbonNewSqlQueryClickedInReadonlyMode="Datamart Ribbon New Query Clicked In Readonly Mode",P.DatamartRibbonNewVisualQueryClicked="Datamart Ribbon New Visual Query Clicked",P.DatamartRibbonNewVisualQueryClickedInReadonlyMode="Datamart Ribbon New Visual Query Clicked In Readonly Mode",P.DatamartRibbonOpenInADSClicked="Datamart Ribbon Open In ADS Clicked",P.DatamartRibbonTransformDataClicked="Datamart Ribbon Transform Data Clicked",P.DatamartRibbonUpdateMeasureClicked="Datamart Ribbon Update Measure Clicked",P.DatamartRibbonViewAsRolesClicked="Datamart Ribbon View As Roles Clicked",P.DatamartRibbonNewQueryClicked="Datamart Ribbon New Query Clicked",P.DatamartRibbonNewQueryClickedInReadonlyMode="Datamart Ribbon New Query Clicked In Readonly Mode",P.DatamartRibbonCreateNewViewTemplateClicked="Datamart Ribbon Create New View Template Clicked",P.DatamartRibbonCreateNewStoredProcedureTemplateClicked="Datamart Ribbon Create New Stored Procedure Template Clicked",P.DatamartViewNavigationModelViewClicked="Datamart View Navigation Model View Clicked",P.DatamartFieldListAddWarehousesClicked="Datamart Field List Add Warehouses Clicked",P.DaxQueryView="DAX Query View",P.DaxInlineCopilot="DaxInlineCopilot",P.ManageCustomDirectLakeDataset="SeeThroughModeling",P.ManageDefaultDirectLakeDataset="ManageDefaultDataset",P.MobileExploreAuthoring="Mobile report authoring",P.MobileExploreAuthoringAutoLayout="Mobile report layout was auto-created",P.HoverCardRelatedContentClicked="Hover Card - Related Content Clicked",P.GetExplorationService="Get Exploration In Service",P.SaveExplorationService="Save Exploration In Service",P.TmdlView="TMDL View",P.MetricsHub="Metrics Hub",P.VisualCalculationSeen="VisualCalculationSeen",P.VisualCalculationSubmitted="VisualCalculationSubmitted",P.InPlaceRestoreCreateRestorePoint="InPlaceRestoreCreateRestorePoint",P.InPlaceRestoreListRestorePoints="InPlaceRestoreListRestorePoints",P.InPlaceRestoreDeleteRestorePoints="InPlaceRestoreDeleteRestorePoints",P.InPlaceRestoreRestoreWarehouse="InPlaceRestoreRestoreRestorePoint",P.InPlaceRestoreModifyRestorePoint="InPlaceRestoreModifyRestorePoint",P.CustomCalendars="Custom Calendars",P.TenantSwitcher="Tenant_Switcher",P.TenantSwitcherTenantNameLoaded="Tenant_Switcher_Tenant_Name_Loaded",P.TenantSwitcherDialogLoaded="Tenant_Switcher_Dialog_Loaded",P.TenantSwitcherAccountManagerSwitchClicked="Tenant_Switcher_Account_Manager_Switch_Clicked",P.TenantSwitcherSwitchClicked="Tenant_Switcher_Switch_Clicked",P.FromExternalOrgs="From External Orgs",P.FromExternalOrgsTabClick="From External Orgs Tab Click",P.FromExternalOrgsLoadResourceTenants="From External Orgs Load Resource Tenants",P.FromExternalOrgsInitiateB2BToken="From External Orgs Initiate B2B Token",P.FromExternalOrgsLoadDiscoverableContent="From External Orgs Load Discoverable Content",P.ModernOfficeFilePickerOpen="Modern Office filepicker open",P.ModernOfficeFilePickerFileOpen="Modern Office filepicker file open",P.ModernOfficeFilePickerFileSave="Modern Office filepicker file save",P.OneLakeCatalog="OneLake catalog",P.OneLakeCatalogExplore="Explore",P.OneLakeCatalogLoadEvent="Catalog load event",P.OneLakeCatalogActionEvent="Catalog action event",P.OneLakeCatalogLandingPage="Catalog landing page",P.OneLakeCatalogItemDetails="Catalog item details",P.OneLakeCatalogCompactView="Catalog compact view",P.Annotations="annotations",P.LinkSharing="Link Sharing",P}({}),b=function(P){return P.Started="Started",P.Succeeded="Succeeded",P.SucceededWithErrors="SucceededWithErrors",P.Failed="Failed",P.FailedWithRemote="FailedWithRemote",P.Interrupted="Interrupted",P.Cancelled="Cancelled",P}({}),T=function(P){return P[P.Restricted=0]="Restricted",P[P.Automatic=1]="Automatic",P[P.Legacy=2]="Legacy",P}({}),M=function(P){return P[P.Dashboard=1]="Dashboard",P[P.Report=2]="Report",P[P.App=3]="App",P[P.RdlReport=4]="RdlReport",P[P.ResourcePackage=5]="ResourcePackage",P[P.Artifact=6]="Artifact",P[P.Datamart=7]="Datamart",P}({}),V=function(P){return P[P.None=0]="None",P[P.InsufficientPermission=1]="InsufficientPermission",P}({}),w=function(P){return P[P.None=0]="None",P[P.PowerBI=1]="PowerBI",P[P.Fabric=2]="Fabric",P}({})},211187:function(me,j,e){e.d(j,{S:function(){return i},a:function(){return r}});var r=function(a){return a[a.NewFeatureProductMessage=0]="NewFeatureProductMessage",a[a.DashboardSharing=2]="DashboardSharing",a[a.DashboardAddedToGroup=3]="DashboardAddedToGroup",a[a.Trial=5]="Trial",a[a.DataDrivenAlert=6]="DataDrivenAlert",a[a.AccessRequest=14]="AccessRequest",a[a.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",a[a.CapacityOverloaded=34]="CapacityOverloaded",a[a.CapacityAutoScaled=35]="CapacityAutoScaled",a[a.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",a[a.TeamsAppInstallation=42]="TeamsAppInstallation",a[a.ScdProvisioningFailed=62]="ScdProvisioningFailed",a[a.DynamicMessage=999]="DynamicMessage",a}({}),i=function(a){return a[a.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",a[a.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",a[a.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",a[a.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",a[a.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",a[a.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",a[a.UsersNotifications_UserName=6]="UsersNotifications_UserName",a[a.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",a[a.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",a[a.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",a[a.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",a[a.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",a[a.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",a[a.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",a[a.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",a[a.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",a[a.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",a[a.UsersNotifications_TileName=17]="UsersNotifications_TileName",a[a.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",a[a.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",a[a.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",a[a.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",a[a.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",a[a.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",a[a.Generic_LearnMore=24]="Generic_LearnMore",a[a.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",a[a.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",a[a.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",a[a.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",a[a.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",a[a.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",a[a.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",a[a.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",a[a.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",a[a.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",a[a.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",a[a.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",a[a.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",a[a.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",a[a.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",a[a.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",a[a.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",a[a.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",a[a.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",a[a.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",a[a.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",a[a.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",a[a.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",a[a.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",a[a.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",a[a.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",a[a.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",a[a.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",a[a.UsersNotifications_CapacityLoadExceeded_Title=2004]="UsersNotifications_CapacityLoadExceeded_Title",a[a.UsersNotifications_CapacityLoadExceeded=2005]="UsersNotifications_CapacityLoadExceeded",a[a.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",a[a.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",a[a.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",a[a.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",a[a.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",a}({})},530537:function(me,j,e){e.d(j,{H:function(){return r}});class r{constructor(a){a&&(this.uniqueId=a.objectId,this.displayName=a.displayName,this.capacity=a.capacityObjectId&&{id:a.capacityObjectId,name:a.capacityName,region:a.region},this.contract=a,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!a||!a.isMyWorkspace),this.folderType=a.folderType||a.type)}getPermissions(){}}},206208:function(me,j,e){e.d(j,{v:function(){return t}});var r=e(928912),i=e(530537),a=window;class t extends i.H{constructor(g){super(g),g&&(this.id=g.id,this.description=g.description,this.icon=g.iconUrl&&r.n4.urlCombine(a.clusterUri,g.iconUrl),this.permissions=g.permissions,this.contacts=g.contacts,this.allowContributorUpdateApp=g.allowContributorUpdateApp,this.defaultDatasetStorageMode=g.defaultDatasetStorageMode,this.type=g.type,this.folderType=g.type,this.domainObjectId=g.domainObjectId,this.allowWebModeling=g.allowWebModeling,this.datasourceBindingSecurityMode=g.datasourceBindingSecurityMode)}get folderContract(){return this.contract}get sharePointStorage(){return this.folderContract.sharePointStorage}set sharePointStorage(g){this.folderContract.sharePointStorage=g}}},312405:function(me,j,e){e.d(j,{Y:function(){return n}});var r=e(774973),i=e(530537),a=e(447183);class t{constructor(s){this.contextMenuItemList=[],s&&s.metadata&&(s.metadata.contextMenuItemList.forEach(h=>{this.contextMenuItemList.push(h)}),this.contextMenuSeparatorPosition=s.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),s&&s.isMyWorkspace?this.contextMenuItemList.push({linkType:a.y_.EditMyWorkspace}):(this.contextMenuItemList.push(s.isOwner?{linkType:a.y_.EditGroup}:{linkType:a.y_.ViewGroup}),this.contextMenuItemList.push({linkType:a.y_.LeaveGroup}))}}var l=function(d){return d[d.AllContent=0]="AllContent",d[d.MyContent=1]="MyContent",d[d.SharedWithMe=2]="SharedWithMe",d}({});class n extends i.H{constructor(s){super(s),s&&(this.aadGroupId=s.objectId,this.metadata=new t(s)),this.lastOwnershipFilter=l.AllContent,this.contentTileType=r.u9.Workspace}}},19052:function(me,j,e){e.d(j,{$B:function(){return g},AB:function(){return C},BA:function(){return b},Bs:function(){return ze},Cg:function(){return B},D_:function(){return S},Dv:function(){return y},FF:function(){return oe},FO:function(){return Z},Ff:function(){return Ye},G9:function(){return K},HY:function(){return z},Hu:function(){return N},IL:function(){return lt},IO:function(){return Le},K4:function(){return F},KK:function(){return O},N:function(){return Y},Nn:function(){return w},Pr:function(){return Me},Ql:function(){return c},RL:function(){return t},TY:function(){return D},UG:function(){return x},Ub:function(){return P},V:function(){return a},V9:function(){return Be},VE:function(){return ne},W2:function(){return s},X8:function(){return n},XO:function(){return o},XS:function(){return i},Y9:function(){return M},Z8:function(){return L},a2:function(){return St},b6:function(){return X},bt:function(){return J},ce:function(){return U},d3:function(){return E},gO:function(){return W},gZ:function(){return V},h9:function(){return m},hI:function(){return p},hU:function(){return k},jh:function(){return l},kw:function(){return u},m9:function(){return ut},nV:function(){return Q},oc:function(){return f},r$:function(){return v},sG:function(){return ee},ss:function(){return h},uy:function(){return R},vy:function(){return A},w0:function(){return T},w_:function(){return I},x2:function(){return d},yO:function(){return ae},yw:function(){return Ce},zG:function(){return H}});var r=e(420496),i=0,a=60,t=0,l=360,g=r.OO.grayscaleLight,n=0,d=22,s=10,h=1,o=1,v=50,m=1,p=10,y=0,S=20,C=0,u=1,E=60,c="backgroundDark",f=.5,D=0,b=5,T=0,M=5,V=r.KQ.pixels,w=1,P=200,N=4e6,I=0,O=5,R=5e3,W=128,F=100,U=0,B=-180,x=180,A=-90,L=90,Y=Math.pow(2,53)-1,z="bubbleDataSource",H="heatMapDataSource",Z="filledMapDataSource",k="barChart3DDataSource",K="referenceDataSource",ee="pathDataSource",Q="bubbleLayer",J="heatMapLayer",X="barChart3DLayer",ne="unselectedBarChart3DLayer",ae="filledMapFillLayer",oe="filledMapOutlineLayer",Me="clusterBubbleLayer",Ye="clusterSymbolLayer",Le="pathLayer",lt="pathBubbleLayer",ut="AzureMaps_MapsControlLoad",St="AzureMaps_SHPJSLoad",ze="AzureMaps_WaitForIdle",Be="AzureMaps_BecameIdle",Ce={bubbleStrokeOpacity:1,bubbleStrokeWidth:2}},401803:function(me,j,e){e.d(j,{Bb:function(){return r},I3:function(){return a},ii:function(){return i},lI:function(){return l},zY:function(){return t}});var r=function(g){return g[g.Line=0]="Line",g[g.Area=1]="Area",g[g.StackedArea=2]="StackedArea",g[g.HundredPercentStackedArea=3]="HundredPercentStackedArea",g[g.ClusteredColumn=4]="ClusteredColumn",g[g.StackedColumn=5]="StackedColumn",g[g.ClusteredBar=6]="ClusteredBar",g[g.StackedBar=7]="StackedBar",g[g.HundredPercentStackedBar=8]="HundredPercentStackedBar",g[g.HundredPercentStackedColumn=9]="HundredPercentStackedColumn",g[g.RibbonChart=10]="RibbonChart",g[g.Scatter=11]="Scatter",g[g.Waterfall=12]="Waterfall",g[g.LineClusteredColumnCombo=13]="LineClusteredColumnCombo",g[g.LineStackedColumnCombo=14]="LineStackedColumnCombo",g[g.RealTimeLineChart=15]="RealTimeLineChart",g}({}),i=function(g){return g[g.Auto=0]="Auto",g[g.Custom=1]="Custom",g}({}),a=function(g){return g[g.Line=0]="Line",g[g.RealTime=1]="RealTime",g[g.Scatter=2]="Scatter",g[g.Waterfall=3]="Waterfall",g[g.Column=4]="Column",g}({}),t=function(g){return g[g.Top=0]="Top",g[g.Bottom=1]="Bottom",g}({}),l=function(g){return g[g.Left=0]="Left",g[g.Center=1]="Center",g[g.Right=2]="Right",g}({})},885787:function(me,j,e){e.d(j,{N:function(){return y}});var r=e(841333),i=e(943209),a=e(785463),t=e(147293),l=e(942596),g=e(856701),n=e(981265),d=e(464205),s=e(51926),h=e(42630),o=e(364472),v=e(446024),m=e(273327),p=e(164338);class y{constructor(C,u){this.hostService=C,this.behavior=u,this.isInvertedSelectionMode=!1,this.isSearchUpdateMode=!1,this.selected=[]}static buildDefaultValueFilter(C,u=!1){a.Y.assertNonEmpty(C,".buildDefaultValueFilter columns should not be empty");var E=[],c=[],f=u?E:c;for(var D of C){var b=D.parameter?.kind===g.t_.MParameters,T=!!D.parameter?.supportsSelectAll,M=null!=(0,s._W)(D.objects,r.NK.general.defaultValue);b&&T||M?f.push(...y.getMetadataColumnIdentityExprs(D)):f=E}if(!_.isEmpty(E)||!_.isEmpty(c))return o.b0.getDefaultAnyValueFilter(c,E)}static getMetadataColumnIdentityExprs(C){return _.isEmpty(C.identityExprs)?[C.expr]:C.identityExprs}setDefaultValueMode(C){this.useDefaultValue=C}bind(C,u){this.selected=_.filter(C,E=>E.selected),this.behavior.bindEvents(u,this),this.behavior.renderSelection()}setSelected(C){this.selected=_.isEmpty(C)?[]:_.filter(C,u=>u.selected)}setSelectionModeInverted(C){this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=C}setColumns(C){this.columns=C,this.columnExprs=_.map(C,u=>u.expr),this.supportsDefaultValueByLevel=_.map(C,u=>null!=(0,s._W)(u.objects,r.NK.general.defaultValue))}hasSelection(){return!_.isEmpty(this.selected)}isSelectionModeInverted(){return this.isInvertedSelectionMode}setQueryNameByLevel(C){this.queryNameByLevel=C}persistSelfFilter(C,u){var E=(0,p.kR)(this.columnExprs,u);this.hostService.persistProperties(y.createChangeForProperty(C,E))}setSearchMode(C){this.isSearchUpdateMode=C}isSearchMode(){return this.isSearchUpdateMode}handleClearSelection(){if(this.previouslySelected=this.selected.slice(),this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!1,!(1===this.selected.length&&this.isStrictSingleSelect||this.hasDefaultValue()&&this.useDefaultValue)){var C=this.hostService.getLocalizedString("Slicer_ClearSelectionsCleared");this.hostService.alertWithDebounce("announce-clear-selection",C),this.useDefaultValue=!0,this.resetSelected(),this.behavior.renderSelection()}}persistSelectionFilter(C,u=!1,E,c=!1){var f=this.getFilterFromDataPoints();if(f&&!_.isEmpty(this.selected)){var D=this.toFilterExpressionMetadata(this.selected);this.hostService.setFilterExpressionMetadata(D)}var b=y.createChangeForProperty(C,f),M=y.createChangeForProperty(r.NK.data.isInvertedSelectionMode,!(u||!this.isInvertedSelectionMode)||null);if(c){var V=y.createChangeForProperty(r.NK.general.selfFilter,null);this.mergeObjectInstancesToPersist(b,V)}b=this.mergeObjectInstancesToPersist(b,M),this.hostService.persistProperties(b,E),this.sendSelectionToHost()}getDataMultiSelectMode(){return this.hostService.dataMultiSelectMode()}sendSelectionToHost(){if(this.hostService.onSelect){var C=_.isEmpty(this.selected)?[]:_.map(this.selected,D=>D.identity),u=i.pl.createSelectEventArgs(C,l.v.Single),E=_.isEmpty(this.previouslySelected)?[]:_.map(this.previouslySelected,D=>D.identity),c=i.pl.createSelectEventArgs(E,l.v.Single),f=_.size(u.visualObjects)!==_.size(c.visualObjects)||_.some(u.visualObjects,(D,b)=>!(0,d.Pv)(D.selectorsByColumn,c.visualObjects[b].selectorsByColumn));u.fireDataSelectedEvent=f||this.isInvertedSelectionMode!==this.previousInversionMode,this.hostService.onSelect(u)}}handleSelection(C,u,E){if(this.onSelecting(C,E))return!1;var c=C.partially,f=C.selected;this.useDefaultValue=!1,this.previouslySelected=this.selected.slice(),u===l.v.Single||this.isStrictSingleSelect?this.resetSelected():this.clearDataPointState(C);var D=this.getDataPointSelectedState(C,u,c,f);return this.updateSelectedState(C,D),this.behavior.renderSelection(),!0}getDataPointSelectedState(C,u,E,c){return E?(0,p.tM)(C,this.isInvertedSelectionMode)?C.selected:!C.selected:!!this.isStrictSingleSelect||(u===l.v.Single?!c||this.selected.length>1:!c)}onSelecting(C,u){var E=(0,p.Zt)(C,this.queryNameByLevel),c={type:n.H6.DataPointSelection,visualObjects:[{objectName:i.pl.dataPointObjectName,selectorsByColumn:E.selector}],position:u};return this.hostService.onSelecting(c),c.action!==t.Ii.Selection&&null!=c.action}updateSelectedState(C,u){var E=C.selected;C.selected=u,E!==u&&(this.clearDataPointState(C,!0),this.updateParentState(C)),C.selected?this.selected.push(C):E&&!C.selected&&_.remove(this.selected,C)}setStrictSingleSelect(C,u){this.isStrictSingleSelect=C,this.adjustStrictSingleSelectSelection(u)}resetSelected(){_.isEmpty(this.selected)||_.each(this.selected,C=>C.selected=!1),this.selected=[]}clearDataPointState(C,u=!1){if(u||(C.selected&&_.remove(this.selected,C),C.selected=!1),!_.isEmpty(C.children)&&C.partially)for(var E of(C.partially=!1,C.children))this.clearDataPointState(E)}updateParentState(C){if(C.parent)for(var u=C.parent;u;)u.partially=!!C.selected||_.some(u.children,E=>E.selected),u=u.parent}mergeObjectInstancesToPersist(C,u){var E={};return E.merge=C.merge,E.remove=C.remove,_.isEmpty(u.merge)||(E.merge=E.merge||[],E.merge.push(...u.merge||[])),_.isEmpty(u.remove)||(E.remove=E.remove||[],E.remove.push(...u.remove||[])),E}toFilterExpressionMetadata(C){if(!_.isEmpty(C)){var u={expressions:this.columnExprs,cachedValueItems:[]},E=0;for(var c of C){for(var f=c,D={identities:[],valueMap:{}};f;)D.identities.unshift(f.scopeIdentity),D.valueMap[f.level]=f.value,E=Math.max(E,f.level),f=f.parent;u.cachedValueItems.push(D)}return u.expressions=this.columnExprs.slice(0,E+1),u}}isDisableMultipleSelectForMappedColumn(){return _.some(this.columns,u=>u.parameter?.kind===g.t_.MParameters&&!u.parameter?.supportsMultipleValues)}toggleSelectionModeInversion(C=!1){return this.previouslySelected=this.selected.slice(),this.useDefaultValue=!1,this.previousInversionMode=this.isInvertedSelectionMode,this.isInvertedSelectionMode=!this.isInvertedSelectionMode,this.resetSelected(),C&&this.hostService.persistProperties(y.createChangeForProperty(r.NK.data.isInvertedSelectionMode,!!this.isInvertedSelectionMode||null)),this.behavior.renderSelection(),this.isInvertedSelectionMode}getFilterFromDataPoints(){var C=(0,p.zP)({columns:this.columns});if(_.isEmpty(this.selected)&&(this.hasDefaultValue()||this.isInvertedSelectionMode&&C))return y.buildDefaultValueFilter(this.columns,!this.useDefaultValue||C);var E=this.buildSelectorsByLevel();if(E){var c=y.buildExprForHierarchyFilter(E.selected,E.unselected,C);return c=this.ensureAnyFilter(c,E.maxLevel),o.b0.fromSQExpr(c)}}static buildExprForHierarchyFilter(C,u,E){var c=y.buildExprsFromSelectorsByLevel(C),f=y.buildExprForUnselectedState(u,!E);return c&&f?c=(0,v.Uo)(c,f):f&&(c=f),c}ensureAnyFilter(C,u){var E=u+1;if(E<this.columns.length){for(var c=(0,v.mh)(),f=[],D=E;D<this.columns.length;D++)this.supportsDefaultValueByLevel[D]&&f.push(...y.getMetadataColumnIdentityExprs(this.columns[D]));if(!_.isEmpty(f)){var b=Array.apply(null,Array(f.length)).map(()=>c);C=(0,v.Uo)(C,(0,m.o)(f,b))}}return C}static getInExprByLevel(C){var E,u=(0,d.$B)(C);for(var c of u){var f=(0,h.lj)(c);E=E?(0,v.or)(E,f):f||c}return E}hasDefaultValue(){if(!_.isEmpty(this.columns))return null!=(0,s._W)(this.columns[0].objects,r.NK.general.defaultValue)}static buildExprsFromSelectorsByLevel(C,u=!1){var E;for(var c in C){var f=y.getInExprByLevel(C[c]);E=E?(0,v.or)(E,f):f}return u&&E&&(E=(0,v.AU)(E)),E}buildSelectorsByLevel(){if(!_.isEmpty(this.selected)){var C={},u={},E={},c=0;for(var f of this.selected){for(var D=-1,b=f,T={data:[]};b;)T.data.unshift(b.scopeIdentity),b=b.parent,D++;if(c=Math.max(c,D),(0,p.tM)(f,this.isInvertedSelectionMode)){var M=this.getFirstUnselectedParent(f,this.isInvertedSelectionMode),V=C;M&&(V=this.ensureState(M,E).selectedChildren),V[D]=V[D]||[],V[D].push(T)}else{var P=this.ensureState(f,E);P.selector=T,u[D]=u[D]||[],u[D].push(P)}}return{selected:C,unselected:u,maxLevel:c}}}static buildExprForUnselectedState(C,u){var E,c={};for(var f in C){var D=C[f],b=[],T=[];for(var M of D)_.isEmpty(M.selectedChildren)?T.push(M.selector):b.push(M);if(_.isEmpty(T)||(c[f]=T),!_.isEmpty(b)){var V=y.getExprForUnselectedStateWithSelection(b);E=E?(0,v.Uo)(V,E):V}}var w=y.buildExprsFromSelectorsByLevel(c,u);return E?(0,v.Uo)(w,E):w}static getExprForUnselectedStateWithSelection(C){var u;for(var E of C){var c=y.buildExprsFromSelectorsByLevel(E.selectedChildren),f=(0,v.AU)(y.getInExprByLevel([E.selector])),D=(0,v.or)(c,f);u=u?(0,v.Uo)(D,u):D}return u}ensureState(C,u){var E=u[C.identity.getKey()];return E||(E={selector:{},selectedChildren:{}},u[C.identity.getKey()]=E),E}getFirstUnselectedParent(C,u){for(;C;){if(C.selected&&!(0,p.tM)(C,u))return C;C=C.parent}}static createChangeForProperty(C,u){var E={},c={objectName:C.objectName,selector:void 0,properties:E};return null==u?(E[C.propertyName]={},{remove:[c]}):(E[C.propertyName]=u,{merge:[c]})}adjustStrictSingleSelectSelection(C){if(this.isStrictSingleSelect&&!_.isEmpty(C)&&(1!==_.filter(C,b=>b.selected).length||this.isInvertedSelectionMode)){var E;if(C.length>1){for(var c of C)if(c.selected&&!this.isInvertedSelectionMode||!c.selected&&this.isInvertedSelectionMode){E=c;break}if(!E)if((0,p.zP)({columns:this.columns})){for(var D of C)if(!D.disabled){E=D;break}}else E=C[0]}this.isInvertedSelectionMode&&this.toggleSelectionModeInversion(null==E),E&&(E.selected=!0,this.selected=[E],this.persistSelectionFilter(r.NK.general.filter,void 0,!0))}}}},164338:function(me,j,e){e.d(j,{DO:function(){return Y},Ex:function(){return St},Fz:function(){return lt},Iu:function(){return Be},QI:function(){return B},RE:function(){return Ee},Ro:function(){return z},T2:function(){return ne},T6:function(){return x},Tt:function(){return Ae},Uz:function(){return ze},V:function(){return xe},W1:function(){return Ye},XT:function(){return Se},YR:function(){return ye},ZQ:function(){return ot},Zt:function(){return ae},cW:function(){return U},dq:function(){return J},eY:function(){return k},ei:function(){return K},f8:function(){return Xe},hi:function(){return Ce},jV:function(){return mt},jw:function(){return Nt},kN:function(){return ee},kR:function(){return oe},mm:function(){return L},nB:function(){return W},ny:function(){return yt},pO:function(){return H},qW:function(){return fe},sM:function(){return qe},t4:function(){return ve},tM:function(){return ut},w1:function(){return A},xN:function(){return Ne},yC:function(){return Le},yI:function(){return Me},zP:function(){return be},zQ:function(){return at}});var r=e(888193),i=e(255319),a=e(680626),t=e(753771),l=e(618644),g=e(596920),n=e(446024),d=e(856701),s=e(587360),h=e(289239),o=e(494762),v=e(386426),m=e(256210),p=e(659956),y=e(981265),S=e(420987),C=e(177394),u=e(123198),E=e(364472),c=e(841333),f=e(791106),D=e(785463),b=e(468291),T=e(819713),M=e(336983),V=(0,i.tI)("clearSearchTextButton"),N=((0,i.tI)("headerContainer"),(0,i.tI)("slicerHeader"),(0,i.tI)("hidden")),I=(0,i.tI)("icon"),W=((0,i.tI)("titleHeader"),(0,i.tI)("headerText"),(0,i.tI)("slicerBody")),U=((0,i.tI)("slicerLabel"),(0,i.tI)("slicerText")),B=(0,i.tI)("slicerImage"),x=(0,i.tI)("slicerCountText"),A=(0,i.tI)("searchHeader"),L=(0,i.tI)("searchIcon"),Y=(0,i.tI)("searchInput"),z=(0,i.tI)("collapsed"),H=(0,i.tI)("show"),k=((0,i.tI)("isMultiSelectEnabled"),(0,i.tI)("enable-hover")),K=(0,i.tI)("disableScrollHover"),ee="SelectAll",Q="SearchBox_Text",J="DeselectAll";function X(je){return null!=je&&null!=je.slicerSettings}function ne(je){return(0,S.Hk)(je,c.E0.value)}function ae(je,Ke){var $e={dataMap:{},metadata:[Ke[je.level]]},de=[],De=[],re=je;for(de.push(je),De.push(je.levelIndex);re.parent;)de.unshift(re=re.parent),De.unshift(re.levelIndex);for(var ce of de)$e.dataMap[Ke[ce.level]]=[ce.scopeIdentity];return{selector:$e,path:De}}function oe(je,Ke){var tt;if(!_.isEmpty(Ke)&&!_.isEmpty(je)){var de,$e=(0,n.Qq)(Ke);for(var De of je){var re=(0,n.gR)(De,$e);de=de?(0,n.or)(de,re):re}tt=E.b0.fromSQExpr(de)}return tt}function Me(je,Ke){if(!_.isEmpty(je)&&!_.isEmpty(Ke)){var $e;for(var de of Ke){var De=(0,n.gR)(je,(0,n.Qq)(de));$e=$e?(0,n.or)($e,De):De}return E.b0.fromSQExpr($e)}}function Ye(je){return je?je.kind===b.Ez.Contains?[(0,n.q7)(je.right)]:je.kind===b.Ez.Or?[...Ye(je.left),...Ye(je.right)]:void D.Y.assertFail("operator not supported"):[]}function Le(je){if(je){var Ke=je.categorical;if(Ke&&!_.isEmpty(Ke.categories))return Ke.categories[0].identityFields}}function lt(je,Ke,tt){if(je&&!_.isEmpty(Ke))for(var $e=0,de=Ke.length;$e<de;$e++)if((0,h.aI)(je,Ke[$e].identity,tt))return Ke.splice($e,1)[0]}function ut(je,Ke){var tt=je.parent?ut(je.parent,Ke):Ke;return je.selected?!tt:tt}function St(je,Ke){je.persistProperties({remove:[{objectName:"general",selector:null,properties:{filter:!0}}],replace:[{objectName:"data",selector:null,properties:{[c.NK.data.mode.propertyName]:Ke}}]}),je.onSelect({type:y.H6.DataPointSelection,visualObjects:[]});var $e=je.getLocalizedString("Slicer_ClearSelectionsCleared");je.alertWithDebounce("announce-clear-selection",$e)}function ze(je,Ke){var tt=je.complete(),$e=tt?tt.visualObjectWarnings:void 0;for(var de in $e)Ke.addForVisualObject(de,...$e[de]||[])}function Be(je){return je.identity.getKey()}function Ce(je,Ke,tt=!1){je.handleClearSelection(),tt&&je.setSearchMode(!0),je.persistSelectionFilter(c.NK.general.filter,null,!0!==Ke,tt)}function Ae(je){je.setSearchMode(!0),je.persistSelfFilter(c.NK.general.selfFilter,null)}function be(je){return _.some(je.columns,Ke=>Ke.parameter?.kind===d.t_.MParameters)}function Ie(je){return _.some(je.columns,Ke=>Ke.parameter?.supportsMultipleValues)}function ve(je){return _.some(je.columns,Ke=>Ke.parameter?.supportsSelectAll)}function xe(je,Ke){je.attr("disabled",!!Ke.disabled||void 0)}function Ee(je,Ke){return""!==Ke?Ke:je.getLocalizedString("NullValue")}function Ne(){return{singleSelect:!0,selectAllCheckboxEnabled:!1,strictSingleSelect:!1,restrictToLeafNodes:!1}}class ye{onPopupHideEvent(Ke,tt,$e,de){return this.popup=$e,this.popupHideEventHandler=Ke,this.boundBox=tt,this.originalOffset=$(tt).offset(),this.scrollEventHandler=De=>this.scrollEventReceived(De),this.focusEventHandler=De=>this.focusInEventReceived(De,de),this.popupHideEvent=De=>this.popupHideEventReceived(De),this.mouseEventHandler=De=>this.onMouseDown(De,de),this.bindPopupHideHandlers(),$.proxy(this.unbindPopupHideHandlers,this)}popupHideEventReceived(Ke){this.popupHideEventHandler(Ke.type,Ke.target)}scrollEventReceived(Ke){if(this.boundBox){var tt=$(this.boundBox).offset();(tt.left!==this.originalOffset.left||tt.top!==this.originalOffset.top)&&(this.originalOffset=tt,this.popupHideEventHandler(Ke.type,Ke.target))}}focusInEventReceived(Ke,tt){!this.popup||this.popup.contains(Ke.target)||tt&&this.isContextMenuElement(Ke.target)||this.popupHideEventHandler(Ke.type,Ke.target)}onMouseDown(Ke,tt){2===Ke.button&&tt&&(!this.popup||this.popup.contains(Ke.target)||this.isContextMenuElement(Ke.target))||this.popupHideEventHandler(Ke.type,Ke.target)}bindPopupHideHandlers(){document.addEventListener("mousedown",this.mouseEventHandler,!0),document.addEventListener("pointerdown",this.mouseEventHandler,!0),document.addEventListener("touchstart",this.popupHideEvent,!0),$(window).on("resize",$.proxy(this.popupHideEventReceived,this)),$(this.boundBox).on("destroy",$.proxy(this.popupHideEventReceived,this)),document.addEventListener("scroll",this.scrollEventHandler,!0),document.addEventListener("focusin",this.focusEventHandler,!0),$(window).on("orientationchange",this.popupHideEventReceived.bind(this))}unbindPopupHideHandlers(){document.removeEventListener("mousedown",this.mouseEventHandler,!0),document.removeEventListener("pointerdown",this.mouseEventHandler,!0),document.removeEventListener("touchstart",this.popupHideEvent,!0),$(window).off("resize",this.popupHideEventReceived),document.removeEventListener("scroll",this.scrollEventHandler,!0),$(this.boundBox).off("destroy",this.popupHideEventReceived),document.removeEventListener("focusin",this.focusEventHandler,!0),$(window).off("orientationchange",this.popupHideEventReceived)}isContextMenuElement(Ke){return $(Ke).parents("drop-down-list:first").length>0}}class Xe{addSearch(Ke,tt){var $e=tt.append("div").classed(A.class,!0).classed(z.class,!0);return $e.append("span").classed("powervisuals-glyph search",!0).classed(I.class,!0).classed(L.class,!0).attr("title",Ke.getLocalizedString(Q)),$e.append("input").attr("type","text").attr("aria-label",Ke.getLocalizedString(Q)).attr("placeholder",Ke.getLocalizedString(Q)).attr("spellcheck",!1).classed(Y.class,!0).attr("drag-resize-disabled","true"),$e}addClearSearchButton(Ke,tt){var $e=tt.append("span").classed("powervisuals-glyph x",!0).classed(I.class,!0).classed(V.class,!0);return tt.select(Y.selector).attr("placeholder",Ke.getLocalizedString(Q)),$e}configureSearchBoxIcon(Ke,tt){var $e=_.isEmpty(tt);Ke.select(L.selector).classed(N.class,!$e),Ke.select(V.selector).classed(N.class,$e)}getRowHeight(Ke,tt,$e){return f.N.estimateSvgTextHeight(this.getTextProperties(Ke.slicerText.textSize,Ke.slicerText.fontFamily,tt))+this.getRowsOutlineWidth(Ke.slicerText.outlineStyle,Ke.general.outlineWeight)}setSlicerTextStyle(Ke,tt,$e){Ke.styles({color:tt.slicerText.color,"background-color":tt.slicerText.background,"border-style":"solid","border-color":tt.general.outlineColor,"border-width":(0,m.gz)(tt.slicerText.outlineStyle,tt.general.outlineWeight),"font-size":u.V4.fromPoint(tt.slicerText.textSize),"font-family":tt.slicerText.fontFamily,"line-height":Math.floor(1.79*tt.slicerText.textSize)+"px","font-weight":tt.slicerText.labelBold?i.HM:i.Fl,"font-style":tt.slicerText.labelItalic?i.On:i.Fl,"text-decoration":tt.slicerText.labelUnderline?i.wr:i.eU});var De=this.calculateSlicerTextHighlightColor(tt.slicerText.color);Ke.on("mouseover",function(re){d3.select(this).styles({color:De})}),Ke.on("mouseout",function(re){d3.select(this).styles({color:tt.slicerText.color})})}getRowsOutlineWidth(Ke,tt){if("number"==typeof Ke){var $e=(0,p.Lt)(Ke,a.JL.Top),de=(0,p.Lt)(Ke,a.JL.Bottom);return $e&&de?2*tt:$e||de?tt:0}switch(Ke){case a.dv:case a.U0:return 0;case a.yk:case a.G7:return tt;case a.$O:case a.Gt:return 2*tt;default:return 0}}calculateSlicerTextHighlightColor(Ke){var tt=(0,l.IO)(Ke);return tt&&255===tt.R&&255===tt.G&&255===tt.B?"#C8C8C8":(0,l.KY)(tt,.8,.2)}getTextProperties(Ke,tt,$e){return $e.fontSize=u.V4.fromPoint(Ke),$e.fontFamily=tt,$e}}function fe(){return!t.C.isIOSWebView()&&!t.C.isAndroidWebView()}function Se(je,Ke){if(Ke===y.bj.Default&&1===je.length&&je[0].objectName===c.NK.data.mode.objectName&&je[0].propertyName===c.NK.data.mode.propertyName){var tt=[],$e=je[0].propertyValue;return(tt=$e===r.FF||$e===r.Bw?[{objectName:c.NK.data.mode.objectName,propertyName:c.NK.data.mode.propertyName,propertyValue:r.HX,propertyType:{enumeration:r.NW}},{objectName:c.NK.general.orientation.objectName,propertyName:c.NK.general.orientation.propertyName,propertyValue:$e===r.Bw?C.t.Horizontal:C.t.Vertical,propertyType:{enumeration:C.N}}]:[...je]).push({objectName:c.NK.general.filter.objectName,propertyName:c.NK.general.filter.propertyName,propertyValue:null,propertyType:{filter:{}}}),tt}return je}function qe(je,Ke,tt,$e,de){if(Ke)switch(je.objectName){case"items":return function(je,Ke,tt){var $e=Ke,de=X(je)&&je.slicerSettings.slicerText,ce={fontColor:de&&je.slicerSettings.slicerText.color?je.slicerSettings.slicerText.color:$e.slicerText.color,background:de&&je.slicerSettings.slicerText.background?je.slicerSettings.slicerText.background:$e.slicerText.background,textSize:$e.slicerText.textSize,fontFamily:$e.slicerText.fontFamily,bold:$e.slicerText.labelBold,italic:$e.slicerText.labelItalic,underline:$e.slicerText.labelUnderline,outlineStyle:$e.slicerText.outlineStyle};return!_.isEmpty(je.queryNameByLevel)&&je.queryNameByLevel.length>1&&(ce.steppedLayoutIndentation=$e.expandCollapse.indentation,ce.expandCollapseToggleType=$e.expandCollapse.toggleType),[{selector:null,objectName:"items",properties:ce}]}(Ke,tt);case"selection":return function(je,Ke,tt){var $e=X(je)&&je.slicerSettings.selection,de=$e&&je.slicerSettings.selection.selectAllCheckboxEnabled?je.slicerSettings.selection.selectAllCheckboxEnabled:Ke.selection.selectAllCheckboxEnabled,De=$e&&void 0!==je.slicerSettings.selection.singleSelect?je.slicerSettings.selection.singleSelect:Ke.selection.singleSelect,re=$e&&void 0!==je.slicerSettings.selection.strictSingleSelect?je.slicerSettings.selection.strictSingleSelect:Ke.selection.strictSingleSelect;!re&&be(tt.metadata)&&!Ie(tt.metadata)&&(re=!0);var ce={selector:null,objectName:"selection",properties:{strictSingleSelect:re}};return re||(ce.properties.singleSelect=De,ce.properties.selectAllCheckboxEnabled=de),[ce]}(Ke,tt,$e)}}function at(je,Ke,tt,$e){if(Ke){var de=X(Ke)&&Ke.slicerSettings.slicerText,De=de&&Ke.slicerSettings.slicerText.color?Ke.slicerSettings.slicerText.color:tt.slicerText.color,re=de&&Ke.slicerSettings.slicerText.background?Ke.slicerSettings.slicerText.background:tt.slicerText.background,ce=c.NK.items,te=new g.lb(new g.lO(v.jw.Values),"Role_DisplayName_Values",[ce.fontFamily,ce.textSize,ce.bold,ce.italic,ce.underline,ce.fontColor,ce.padding,ce.outlineStyle,c.NK.general.outlineColor,c.NK.general.outlineWeight,ce.background],et=>je.getLocalizedString(et)),Fe=(new g.IT).withFontFamily({descriptor:ce.fontFamily,value:tt.slicerText.fontFamily}).withFontSizeProperties({descriptor:ce.textSize,value:tt.slicerText.textSize}).withBold({descriptor:ce.bold,value:tt.slicerText.labelBold}).withItalic({descriptor:ce.italic,value:tt.slicerText.labelItalic}).withUnderline({descriptor:ce.underline,value:tt.slicerText.labelUnderline}).build();return te.addGroup(v.uL.Values,et=>{et.withDisplayName("Role_DisplayName_Values").addCompositeSlice("fontselector","Font",Fe).addSimpleSlice("color",new g.V({descriptor:ce.fontColor,value:{value:De}}).build()),$e&&$e.slicerAccessibility&&et.addSimpleSlice("padding",new g.dW({descriptor:ce.padding,value:tt.items.padding,options:{minValue:{type:o.vb.Min,value:0},maxValue:{type:o.vb.Max,value:999},unitSymbol:"Numeric_Pixel"}}).build())}).addGroup(v.uL.Border,et=>{et.withDisplayName("Visual_Border").addSimpleSlice("border position",new g.Wb({descriptor:ce.outlineStyle,value:tt.slicerText.outlineStyle}).build(),vt=>vt.withCustomDisplayName("Visual_Border_Position")).addSimpleSlice("color",new g.V({descriptor:{...c.NK.general.outlineColor,instanceKind:s.K.ConstantOrRule},value:{value:tt.general.outlineColor}}).build(),vt=>vt.withCustomDisplayName("Generic_Color")).addSimpleSlice("lineWidth",new g.pB({descriptor:c.NK.general.outlineWeight,value:tt.general.outlineWeight,options:{minValue:{type:o.vb.Min,value:1},maxValue:{type:o.vb.Max,value:10}},localize:vt=>je.getLocalizedString(vt)}).build(),vt=>vt.withCustomDisplayName("Visual_Line_Width"))}).addGroup(v.uL.Background,et=>{et.withDisplayName("Visual_Background").addSimpleSlice("color",new g.V({descriptor:ce.background,value:{value:re}}).build(),vt=>vt.withCustomDisplayName("Generic_Color"))}),te.build()}}function ot(je,Ke,tt,$e){if(Ke){var de=c.NK.items,De=new g.lb(new g.lO(v.jw.Hierarchy),"Hierarchy",[de.steppedLayoutIndentation,de.expandCollapseToggleType],re=>je.getLocalizedString(re));if(!_.isEmpty(Ke.queryNameByLevel)&&Ke.queryNameByLevel.length>1)return De.addGroup(v.uL.Levels,re=>{re.withDisplayName("Slicer_Hierarchy_Levels").addSimpleSlice("steppedIndentation",new g.pB({descriptor:de.steppedLayoutIndentation,value:tt.expandCollapse.indentation,options:{minValue:{type:o.vb.Min,value:0},maxValue:{type:o.vb.Max,value:40}},localize:ce=>je.getLocalizedString(ce)}).build())}).addGroup(v.uL.ExpandCollapseButtons,re=>{re.withDisplayName("Slicer_ExpandCollapse").addSimpleSlice("expand/collapseIcon",new g.ZF({descriptor:de.expandCollapseToggleType,value:tt.expandCollapse.toggleType}).build())}),[De.build()]}}function mt(je){var{cardUidBuilder:Ke,currentSlicerSettings:tt,data:$e,dataView:de,hostServices:De,orientation:re,slicerModes:ce,featureSwitches:te}=je,Te=je.activeMode;if($e||!(0,r.Nu)(Te)){var Fe=[],et=[],vt=$e&&$e.slicerSettings,At=new g.OM(new g.uC(Ke,v.uL.Options),it=>De.getLocalizedString(it));if(et.push(c.NK.general.selfFilterEnabled),At.withDisplayName("Desktop_FileMenu_Options"),te.updateFormattingPaneObjects&&te.moveSlicerTypeSelection){Te===r.HX&&(Te=re&&re===C.t.Horizontal?r.Bw:r.FF);var st=[];for(var Re of ce){var q=Re.displayName({get:De.getLocalizedString});st.push({value:Re.value,displayName:q})}var pe=st.filter(it=>it.value===Te);At.addSimpleSlice("style",new g.ZF({descriptor:c.NK.data.mode,value:pe&&pe[0],items:st}).build()),et.push(c.NK.data.mode)}else null!=re&&(At.addSimpleSlice("orientation",new g.ZF({descriptor:c.NK.general.orientation,value:re}).build()),et.push(c.NK.general.orientation));var Ve=At.build();if(Ve.slices.length>0&&Fe.push(Ve),$e&&tt&&de){var ke=yt(vt,de,tt,De,Ke,et);Fe.push(ke)}return{groups:Fe,revertToDefaultDescriptors:et}}}function yt(je,Ke,tt,$e,de,De,re=!0,ce=!1){var te=je&&je.selection,Te=tt.selection,Fe=te&&te.selectAllCheckboxEnabled?te.selectAllCheckboxEnabled:Te.selectAllCheckboxEnabled,et=te&&void 0!==te.singleSelect?te.singleSelect:Te.singleSelect,vt=te&&void 0!==te.strictSingleSelect?te.strictSingleSelect:Te.strictSingleSelect,At=ce&&te.restrictToLeafNodes;!vt&&be(Ke.metadata)&&!Ie(Ke.metadata)&&(vt=!0);var st=c.NK.selection,Re=new g.OM(new g.uC(de,v.uL.Selection),q=>$e.getLocalizedString(q));return De.push(c.NK.general.selfFilterEnabled,st.strictSingleSelect,st.singleSelect,st.selectAllCheckboxEnabled),ce&&De.push(c.Eq),re||Re.addSimpleSlice("singleSelect",new g.AJ({descriptor:st.singleSelect,value:et}).build()),(et||re)&&!At&&Re.withDisplayName("ExpandCollapseNode").addSimpleSlice("strictSingleSelect",new g.AJ({descriptor:st.strictSingleSelect,value:vt}).build()),vt||(re&&Re.addSimpleSlice("singleSelect",new g.AJ({descriptor:st.singleSelect,value:et}).build()),(!ce||!At)&&Re.addSimpleSlice("selectAllCheckboxEnabled",new g.AJ({descriptor:st.selectAllCheckboxEnabled,value:Fe}).build()),et&&!Fe&&ce&&Re.addSimpleSlice("restrictToLeafNodes",new g.AJ({descriptor:c.Eq,value:te.restrictToLeafNodes}).build())),Re.build()}function Nt(je,Ke,tt){if(null==je&&!_.isEmpty(Ke.showBlankAs))return Ke.showBlankAs;var De,$e=Ke.labelDisplayUnits,de=$e===T.hQ.Custom;de&&!_.isEmpty(Ke.customFormatString)&&(De=Ke.customFormatString);var ce={};return null!=De&&(ce={general:{formatString:De}}),new M.T2({column:tt,formatStringPropId:c.NK.general.formatString,nullsAreBlank:!0,precision:de?void 0:Ke.labelPrecision,formatSingleValues:$e===T.hQ.Auto,defaultPrecisionForScaledValues:!0,trailingZeroes:!0}).format(je,ce)}},585848:function(me,j,e){e.d(j,{Ig:function(){return o},ad:function(){return v},q9:function(){return m},YO:function(){return p},EY:function(){return S},mo:function(){return C},bU:function(){return y},$7:function(){return u},yx:function(){return E},s3:function(){return c}});var r=e(61917),i=e(818365),t=e(785463),l=e(147293),g=e(51926),n=e(47917),d=e(336983),s=e(861816),h=e(191941);function o(f,D){var b=[];for(var T of f){var V=m(T.value,D);V&&b.push(V)}return b.join("")}function v(f,D){var b;if((0,s.p)(f.expression)){var T=f.expression.selector.id,M=D?.[T];b=M?.value}else b=f.expression;var V=function(f,D){return _.find(f.cases,b=>b.pattern===D)||f.defaultCase}(f,b);return V.textRuns}function m(f,D){return(0,s.p)(f)?p(f.selector.id,D):f}function p(f,D){var b=D?.[f];return b?.formattedValue}function y(f){var D=f;return t.Y.assertValue(D,"textRun"),_.isString(D.value)||(0,s.p)(D.value)}function S(f){return!_.isNil(f.mentionEmail)}function C(f){return!_.isNil(f.mentionKey)}function u(f){var D=f;return t.Y.assertValue(D,"textRunConditional"),_.isArray(D.cases)&&!!D.defaultCase&&_.isArray(D.defaultCase.textRuns)&&((0,s.p)(D.expression)||_.isString(D.expression)||_.isNumber(D.expression)||_.isBoolean(D.expression)||_.isDate(D.expression))}function E(f,D,b){t.Y.assertValue(D,"evaluatedValues must be defined");var T=i.PE.values.expr.objectName;t.Y.assert(()=>T===i.PE.values.formatString.objectName,"Format strings are expected in the same object as evaluated values");var M=(0,g.nq)(f,T);if(!_.isEmpty(M)){for(var V in M){var w=(0,n._)(M[V],i.PE.values.expr.propertyName),P=new d.T2({column:{displayName:"",objects:M,type:h.eV.fromPrimitiveTypeAndCategory(c(w))},formatStringPropId:{objectName:V,propertyName:i.PE.values.formatString.propertyName},nullsAreBlank:!1});D[V]={value:w,formattedValue:P.format(w)}}b&&b.trace(l.Zf.Trace,"TextboxWithSmartNarrativeValuesDataChanged")}}function c(f){return _.isDate(f)?r.W.DateTime:_.isInteger(f)?r.W.Integer:_.isNumber(f)?r.W.Double:_.isBoolean(f)?r.W.Boolean:_.isString(f)?r.W.Text:(t.Y.assert(()=>!f,"Unsupported primitive value"),r.W.Null)}},816570:function(me,j,e){function r(){return $("<div></div>")}function i(){return $("<span></span>")}function n(){return $("<select></select>")}function d(){return $('<input type="text"/>')}e.d(j,{DU:function(){return d},Ln:function(){return i},Lt:function(){return n},y4:function(){return r}})},255319:function(me,j,e){function r(Ue){return{class:Ue,selector:"."+Ue}}e.d(j,{AP:function(){return k},Cd:function(){return H},FI:function(){return C},Fl:function(){return Ie},Fp:function(){return T},Fx:function(){return L},G6:function(){return X},H1:function(){return qe},HM:function(){return ve},Ix:function(){return xe},Mg:function(){return p},N6:function(){return A},OL:function(){return Y},Oi:function(){return B},Ol:function(){return ye},On:function(){return Ee},SM:function(){return S},TN:function(){return Z},Tm:function(){return o},Vr:function(){return c},Wo:function(){return F},XJ:function(){return Le},YU:function(){return a},Yu:function(){return be},Zq:function(){return fe},_o:function(){return N},ad:function(){return ze},cj:function(){return Ye},d8:function(){return U},de:function(){return W},e5:function(){return Me},eU:function(){return Be},e_:function(){return y},es:function(){return x},gA:function(){return b},hr:function(){return O},lM:function(){return E},nE:function(){return Ce},nK:function(){return m},oc:function(){return D},pk:function(){return d},tI:function(){return r},tj:function(){return I},u5:function(){return l},ut:function(){return ae},vo:function(){return ne},wr:function(){return Ne},wv:function(){return z},xO:function(){return g},xf:function(){return t},xv:function(){return St}});var a="px",t="height",l="width",g="top",d="left",o="margin-top",m="margin-left",p="margin-right",y="display",S="background",C="background-color",E="background-size",c="background-image",D="text-align",b="border",T="border-top",N="border-radius",I="border-color",O="box-shadow",W="font-family",F="font-size",U="font-weight",B="font-style",x="text-decoration",A="color",L="opacity",Y="padding",z="padding-top",H="padding-left",Z="padding-right",k="padding-bottom",X="overflow-x",ne="overflow-y",ae="transform",Me="cursor",Ye="visibility",Le="fill",St="auto",ze="hidden",Be="none",Ce="block",be="transparent",Ie="normal",ve="bold",xe="600",Ee="italic",Ne="underline",ye="visible",fe="cover",qe="scroll"},510958:function(me,j,e){e.d(j,{BL:function(){return T},Bb:function(){return O},Ct:function(){return b},FF:function(){return c},Hq:function(){return d},IT:function(){return g},Iv:function(){return v},JG:function(){return D},Jp:function(){return A},LM:function(){return a},RK:function(){return L},RL:function(){return U},Rv:function(){return ut},Tj:function(){return Ye},U3:function(){return B},VH:function(){return J},VR:function(){return K},Y4:function(){return ae},aD:function(){return k},cK:function(){return r},dO:function(){return ne},e6:function(){return M},gJ:function(){return X},ig:function(){return w},m2:function(){return t},m4:function(){return Z},nQ:function(){return N},oc:function(){return f},pC:function(){return Me},qw:function(){return C},qy:function(){return I},tk:function(){return s},uO:function(){return ee},uf:function(){return i},vz:function(){return F},w3:function(){return l}});var r=function(ze){return ze[ze.escKeyCode=27]="escKeyCode",ze[ze.enterKeyCode=13]="enterKeyCode",ze[ze.tabKeyCode=9]="tabKeyCode",ze[ze.upArrowKeyCode=38]="upArrowKeyCode",ze[ze.downArrowKeyCode=40]="downArrowKeyCode",ze[ze.leftArrowKeyCode=37]="leftArrowKeyCode",ze[ze.rightArrowKeyCode=39]="rightArrowKeyCode",ze[ze.homeKeyCode=36]="homeKeyCode",ze[ze.endKeyCode=35]="endKeyCode",ze[ze.backSpaceKeyCode=8]="backSpaceKeyCode",ze[ze.deleteKeyCode=46]="deleteKeyCode",ze[ze.spaceKeyCode=32]="spaceKeyCode",ze[ze.pageUpKeyCode=33]="pageUpKeyCode",ze[ze.pageDownKeyCode=34]="pageDownKeyCode",ze[ze.shiftKeyCode=16]="shiftKeyCode",ze[ze.ctrlKeyCode=17]="ctrlKeyCode",ze[ze.altKeyCode=18]="altKeyCode",ze[ze.aKeyCode=65]="aKeyCode",ze[ze.bKeyCode=66]="bKeyCode",ze[ze.cKeyCode=67]="cKeyCode",ze[ze.dKeyCode=68]="dKeyCode",ze[ze.fKeyCode=70]="fKeyCode",ze[ze.gKeyCode=71]="gKeyCode",ze[ze.hKeyCode=72]="hKeyCode",ze[ze.kKeyCode=75]="kKeyCode",ze[ze.mKeyCode=77]="mKeyCode",ze[ze.rKeyCode=82]="rKeyCode",ze[ze.sKeyCode=83]="sKeyCode",ze[ze.tKeyCode=84]="tKeyCode",ze[ze.vKeyCode=86]="vKeyCode",ze[ze.wKeyCode=87]="wKeyCode",ze[ze.xKeyCode=88]="xKeyCode",ze[ze.yKeyCode=89]="yKeyCode",ze[ze.zKeyCode=90]="zKeyCode",ze[ze.f6KeyCode=117]="f6KeyCode",ze[ze.f11KeyCode=122]="f11KeyCode",ze[ze.plusKeyCode=187]="plusKeyCode",ze[ze.minusKeyCode=189]="minusKeyCode",ze[ze.numpadAdd=107]="numpadAdd",ze[ze.numpadSubtract=109]="numpadSubtract",ze[ze.questionMarkKeyCode=191]="questionMarkKeyCode",ze[ze.zeroKeyCode=48]="zeroKeyCode",ze[ze.oneKeyCode=49]="oneKeyCode",ze[ze.twoKeyCode=50]="twoKeyCode",ze[ze.threeKeyCode=51]="threeKeyCode",ze[ze.fourKeyCode=52]="fourKeyCode",ze[ze.fiveKeyCode=53]="fiveKeyCode",ze[ze.sixKeyCode=54]="sixKeyCode",ze[ze.f10KeyCode=121]="f10KeyCode",ze[ze.nineKeyCode=57]="nineKeyCode",ze[ze.asteriskKeyCode=56]="asteriskKeyCode",ze}({}),i=function(ze){return ze.A="KeyA",ze.ArrowDown="ArrowDown",ze.ArrowLeft="ArrowLeft",ze.ArrowRight="ArrowRight",ze.ArrowUp="ArrowUp",ze.Backspace="Backspace",ze.Delete="Delete",ze.End="End",ze.Enter="Enter",ze.Escape="Escape",ze.F2="F2",ze.F10="F10",ze.Home="Home",ze.PageUp="PageUp",ze.PageDown="PageDown",ze.Space="Space",ze.Tab="Tab",ze}({}),a=[r.twoKeyCode,r.threeKeyCode,r.fourKeyCode,r.fiveKeyCode,r.sixKeyCode,r.hKeyCode,r.kKeyCode,r.bKeyCode,r.tKeyCode],t=function(ze){return ze[ze.Enter=13]="Enter",ze[ze.F1=112]="F1",ze[ze.F2=113]="F2",ze[ze.F6=117]="F6",ze[ze.F10=121]="F10",ze[ze.ArrowRight=39]="ArrowRight",ze[ze.KeyT=84]="KeyT",ze}({}),l=function(ze){return ze[ze.Main=0]="Main",ze[ze.Auxilary=1]="Auxilary",ze[ze.Secondary=2]="Secondary",ze[ze.Fourth=3]="Fourth",ze[ze.Fifth=4]="Fifth",ze}({}),g="body",d=":text, textarea",s='[type="number"]',v="id",C="_self",c="src",f="contenteditable",D="skip-children-focus",b="contextmenu",T="blur",M="keyup",w="change",N="keydown",I="mousemove",O="mousedown",F="mouseover",U="mouseout",B="mouseup",A="click",L="dblclick",Z="hover",k="focus",K="focusin",ee="focusout",J="message",X="load",ne="beforeunload",ae="pointermove",Me="pointerdown",Ye="pointerout",ut="pointerover"},190846:function(me,j,e){e.d(j,{A$:function(){return d},B4:function(){return I},CR:function(){return T},D9:function(){return C},Fq:function(){return N},Id:function(){return E},RC:function(){return R},Vi:function(){return n},XV:function(){return p},Xm:function(){return b},YL:function(){return m},Yt:function(){return S},c4:function(){return P},eC:function(){return v},h1:function(){return t},hA:function(){return M},iW:function(){return D},lO:function(){return y},pp:function(){return c},tk:function(){return l},vK:function(){return u},w1:function(){return f}});var r=e(785463),t=-308,l=308,n=1e-4,d=12,s=Math.log(10),h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],o=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function v(W){return r.Y.assertValue(W,"exp"),W>=0?W<h.length?h[W]:1/0:(W=-W)>0&&W<o.length?o[W]:0}function m(W){return r.Y.assert(()=>W>=0,"val"),W>1&&W<1e16?W<1e8?W<1e4?W<100?W<10?0:1:W<1e3?2:3:W<1e6?W<1e5?4:5:W<1e7?6:7:W<1e12?W<1e10?W<1e9?8:9:W<1e11?10:11:W<1e14?W<1e13?12:13:W<1e15?14:15:W>1e-16&&W<1?W<1e-8?W<1e-12?W<1e-14?W<1e-15?-16:-15:W<1e-13?-14:-13:W<1e-10?W<1e-11?-12:-11:W<1e-9?-10:-9:W<1e-4?W<1e-6?W<1e-7?-8:-7:W<1e-5?-6:-5:W<.01?W<.001?-4:-3:W<.1?-2:-1:c(Math.log(W)/s)}function p(W,F){if(void 0===F?F=d:r.Y.assert(()=>F>=0,"decimalDigits"),W&&isFinite(W)){var U=m(Math.abs(W));return U<t?0:v(Math.max(U-F,1-o.length))}}function y(W,F,U){return U=O(U,W,F),r.Y.assert(()=>U>=0,"precision"),W===F||Math.abs(W-F)<U}function S(W,F,U){return U=O(U,W,F),r.Y.assert(()=>U>=0,"precision"),W<F&&Math.abs(W-F)>U}function C(W,F,U){return U=O(U,W,F),r.Y.assert(()=>U>=0,"precision"),W<F||Math.abs(W-F)<U}function u(W,F,U){return U=O(U,W,F),r.Y.assert(()=>U>=0,"precision"),W>F&&Math.abs(W-F)>U}function E(W,F,U){return U=O(U,W,F),r.Y.assert(()=>U>=0,"precision"),W>F||Math.abs(W-F)<U}function c(W,F){F=F??n,r.Y.assert(()=>F>=0,"precision");var U=Math.round(W);return Math.abs(W-U)<F?U:Math.floor(W)}function f(W,F){F=O(F,n),r.Y.assert(()=>F>=0,"precision");var U=Math.round(W);return Math.abs(W-U)<F?U:Math.ceil(W)}function D(W,F){return F=O(F,n),r.Y.assert(()=>F>=0,"precision"),0===F||0===W?W:Math.floor(W/F)*F}function b(W,F){return F=O(F,n),r.Y.assert(()=>F>=0,"precision"),0===F||0===W?W:Math.ceil(W/F)*F}function T(W,F){if(F=O(F,n),r.Y.assert(()=>F>=0,"precision"),0===F||0===W)return W;var U=Math.round(W/F)*F,B=Math.round(m(Math.abs(W))-m(F))+1;return B>0&&B<16&&(U=parseFloat(U.toPrecision(B))),U}function M(W,F,U){return r.Y.assert(()=>F<=U,"min must be less or equal to max"),null==W?W:W<F?F:W>U?U:W}function P(W){return T(W,p(W))}function N(W){return null!==W&&W%1==0}function I(W,F){return Math.round(W/F)*F}function O(W,F,U){return void 0!==W?W:p(U?F?Math.min(Math.abs(F),Math.abs(U)):U:F)||n}function R(W){return isNaN(W)?null:W===Number.POSITIVE_INFINITY?Number.MAX_VALUE:W===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:W}},319684:function(me,j,e){e.d(j,{If:function(){return l},WD:function(){return d},qX:function(){return t},rg:function(){return a}});class r extends Error{constructor(h,o){super(o),this.name=h}}class i extends r{constructor(h,o,v){super(h,o+": "+v),this.argument=v}}function a(s){return new i("argumentNull","Argument was null",s)}function t(s){return new i("argumentUndefined","Argument was undefined",s)}function l(s){return new i("argumentOutOfRange","Argument was out of range",s)}function d(s=1){var h,o,v;try{if(!(v=new Error).stack)throw v}catch(m){v=m}return null!=(h=v.stack)&&((o=h.split("\n")).splice(1,s),h=o.join("\n")),h}Error},795169:function(me,j,e){e.d(j,{d:function(){return i}});var r=e(785463);class i{constructor(t){r.Y.assertValue(t,"factoryMethod"),this.factoryMethod=t}getValue(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value}}},473001:function(me,j,e){function r(g,n){if(null===g)return null;var d=Object.create(g);return n&&n(d),d}function i(g){if(null==g)return!1;var n=Object.getPrototypeOf(g);return n!==Object.prototype&&n!==Array.prototype}function a(g){return null===g?null:(i(g)||(g=r(g)),g)}function t(g,n){if(null!=g){for(var d,s=0,h=g.length;s<h;s++){var o=n(g[s]);o&&(d||(d=r(g)),d[s]=o)}return d}}function l(g,n){if(g&&n&&"object"==typeof g)for(var d in Object.getPrototypeOf(g)!==Object.getPrototypeOf(n)&&(n.__proto__=g.__proto__),g)l(g[d],n[d])}e.d(j,{IL:function(){return r},M2:function(){return t},Uz:function(){return a},cH:function(){return i},sP:function(){return l}})},653621:function(me,j,e){function r(i){for(var a in Object.freeze(i),i){var t=i[a];t&&"object"==typeof t&&r(t)}}e.d(j,{o:function(){return r}})},123198:function(me,j,e){e.d(j,{Fj:function(){return l},V4:function(){return d},aI:function(){return a},eF:function(){return s},eP:function(){return i},l:function(){return t}});var r=e(785463);function i(h,o){return(h||o)&&!(h&&o)}function a(h,o){return h===o||JSON.stringify(h)===JSON.stringify(o)}var t=8,l=60,d=(()=>{class h{static fromPoint(v){return h.toString(h.fromPointToPixel(v))}static fromPointToPixel(v){return h.PxPtRatio*v}static toPoint(v){return v/h.PxPtRatio}static toString(v){return v+h.PixelString}}return h.PxPtRatio=4/3,h.PixelString="px",h})();function s(h,o,v){return r.Y.assertValue(h,"regex"),h.lastIndex=v||0,h.exec(o)}},659956:function(me,j,e){e.d(j,{Lt:function(){return i},Z0:function(){return g},dI:function(){return l},lA:function(){return a},wi:function(){return t}});var r=e(785463);function i(n,d){return r.Y.assert(()=>!!d,"flag must be specified and nonzero."),(n&d)===d}function a(n,d){return r.Y.assert(()=>!!d,"flag must be specified and nonzero."),n|d}function t(n,d){return r.Y.assert(()=>!!d,"flag must be specified and nonzero."),n&~d}function l(n,d){return n[d]}function g(n){if(null===n||n%1!=0)return 0;for(var d=0,s=n;0!==s;)!(1&~s)&&d++,s>>>=1;return d}},928912:function(me,j,e){e.d(j,{Ax:function(){return p},Az:function(){return C},Bq:function(){return u},Fe:function(){return z},Gt:function(){return T},Gy:function(){return oe},Hd:function(){return c},K0:function(){return L},KG:function(){return Ye},Mt:function(){return Me},O4:function(){return B},Px:function(){return A},TB:function(){return V},YQ:function(){return S},Yh:function(){return R},Yv:function(){return w},_k:function(){return M},aM:function(){return ut},gR:function(){return b},jD:function(){return x},m:function(){return N},mo:function(){return m},n4:function(){return J},ni:function(){return ae},o4:function(){return H},p:function(){return v},sZ:function(){return y},tw:function(){return lt},uL:function(){return W},vX:function(){return I},w0:function(){return k},w1:function(){return f},yM:function(){return Y},yh:function(){return O}});var r=e(619584),i=e(785463),a=e(558109),t=e(319684),l=e(253261),g=e(304703),n=e(866752),d=e(507345),s=window,h=window.location.protocol+"//"+window.location.host,o="__DataProperty__5941464455110614";function v(Ce,Ae,be){if(i.Y.assertValue(Ce,"element"),null!=Ce){var Ie=Ce[o];if(!Ie){if(void 0===be)return;Ie=Ce[o]={}}return void 0===be?Ie[Ae]:Ie[Ae]=be}}var m="application/octet-stream",p="application/json",y="image/jpeg",S="blob",C="arraybuffer",u="Accept",E=new RegExp("[<>]","g");function c(Ce,Ae){return M(Ce)===M(Ae)}function f(Ce,Ae){return null!=Ce&&0===Ce.indexOf(Ae)}function b(Ce,Ae){return null!=Ce&&-1!==Ce.indexOf(Ae)}function T(Ce,Ae){return null!=Ce&&b(M(Ce),M(Ae))}function M(Ce){return J.throwIfNullOrUndefined(Ce,J,"normalizeCase","value"),Ce.toUpperCase()}function V(Ce){return J.throwIfNullOrUndefined(Ce,J,"containsWhitespace","str"),/\s/.test(Ce)}function w(Ce){return""===_.trim(Ce)}function N(Ce){return J.throwIfNullOrUndefined(Ce,J,"trimWhitespace","str"),Ce.replace(/^\s+/,"").replace(/\s+$/,"")}function I(Ce){return Ce.replace(/\s/g,"")}function O(Ce,Ae,be){if(!Ae)return Ce;var Ie=x(Ae);return Ce.replace(new RegExp(Ie,"gi"),be)}function R(Ce){i.Y.assertValue(Ce,"names");var Ae={};for(var be of Ce)Ae[be]=!1;var Ie=[];for(var ve of Ce){var xe=ve;if(Ae[xe])for(var Ee=0;void 0!==Ae[xe];)xe=ve+"."+ ++Ee;Ie.push(xe),Ae[xe]=!0}return Ie}function W(Ce,Ae,be,Ie){i.Y.assertValue(Ce,"usedNames"),i.Y.assertValue(Ae,"baseName"),i.Y.assert(()=>null==be||be>=0,"startSuffix == null || startSuffix >= 0");var ve=Ie?" ":"",xe=be||0,Ee=Ae;for(be&&(Ee+=ve+be);F(Ce,Ee);)Ee=Ae+ve+ ++xe;return Ee}function F(Ce,Ae){return _.isSet(Ce)?Ce.has(Ae):Ce[Ae]}function B(Ce,Ae,be){if(!Ce||0===Ce.length)return"";null==be&&(be=Number.MAX_VALUE);for(var Ie=Math.min(be,Ce.length),ve=[],xe=0;xe<2;xe++)for(var Ee="{"+xe+"}",Ne="_|_<"+xe+">_|_",ye=0;ye<Ie;ye++)Ce[ye].indexOf(Ee)>-1&&(Ce[ye]=Ce[ye].replace(Ee,Ne),ve.push({targetValue:Ee,replaceValue:Ne}));for(var Xe="",fe=0;fe<Ie;fe++)Xe=0===fe?Ce[fe]:(0,d.G)(Ae.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),Xe,Ce[fe]);for(var Se of ve)Xe=Xe.replace(Se.replaceValue,Se.targetValue);return Xe}function x(Ce){return Ce.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function A(Ce){return i.Y.assertValue(Ce,"fileName"),Ce.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function L(Ce){return JSON.stringify(Ce)}function Y(Ce,Ae){i.Y.assertValue(Ce,"input");var be=Ce.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return be.length>0?be:Ae}function z(Ce){return Ce.replace(E,"")}function H(Ce,Ae=!1,be=!1){if(!Ce||be&&"&nbsp;"===Ce)return Ce;var Ie=Ce.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ve=>"&#"+(1024*(ve.charCodeAt(0)-55296)+(ve.charCodeAt(1)-56320)+65536)+";").replace(/([^!-~ ])/g,ve=>"&#"+ve.charCodeAt(0)+";");return Ae&&(Ie=Ie.replace(/\ /g,"&nbsp;")),Ie}function k(Ce){return Ce>=0&&Ce<=55295||Ce>=57344&&Ce<=65535}var K=new WeakMap,ee=new WeakMap;class Q extends Error{constructor(Ae){super(Ae),Object.setPrototypeOf(this,new.target.prototype)}getInnerError(){return K.get(this)}setInnerError(Ae){if(Ae){var be=_.isPlainObject(Ae)?Ae:ee.get(Ae);if(be){for(var Ie of Object.keys(be))this[Ie]=be[Ie];ee.set(this,be)}var ve=this.message.matchAll(/(\{\{[^\}]+\}\})/g);if(ve){var xe=this.message;for(var Ee of _.reverse(Array.from(ve))){var Ne=Ee[0].substring(2,Ee[0].length-2),ye=(be||Ae)?.[Ne]||"";xe=xe.substring(0,Ee.index)+ye+xe.substring(Ee.index+Ee[0].length)}this.stack&&(this.stack=this.stack.replace(this.message,xe)),this.message=xe}K.set(this,Ae)}else K.delete(this)}}var J=(()=>{class Ce{static ensureError(be){return be instanceof Error||(be=new Error(be?be.message||be.toString():"<null-or-undefined> error was thrown")),be}static ensurePromiseError(be,Ie){var ve=new Q(Ie);return be.catch(xe=>{throw ve.setInnerError(xe),ve})}static throwIfNullOrUndefined(be,Ie,ve,xe){null===be?this.throwException((0,t.rg)(this.getComponentName(Ie)+ve+"."+xe)):void 0===be&&this.throwException((0,t.qX)(this.getComponentName(Ie)+ve+"."+xe))}static throwIfNullOrEmptyString(be,Ie,ve,xe){this.throwIfNullOrUndefined(be,Ie,ve,xe),be.length<1&&this.throwException((0,t.If)(this.getComponentName(Ie)+ve+"."+xe))}static valueOrDefault(be,Ie){return be??Ie}static urlCombine(be,Ie){if(this.throwIfNullOrUndefined(be,Ce,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(Ie,Ce,"urlCombine","path"),(0,d.M)(Ie))return be;if((0,d.M)(be))return Ie;var ve=be;return"/"===ve.charAt(ve.length-1)?"/"===Ie.charAt(0)&&(Ie=Ie.slice(1)):"/"!==Ie.charAt(0)&&(Ie="/"+Ie),ve+Ie}static getAbsoluteUri(be){this.throwIfNullOrUndefined(be,Ce,"getAbsoluteUri","path");var Ie=be;return Ie&&-1===Ie.indexOf("http")&&(Ie=this.urlCombine(s.clusterUri,Ie)),Ie}static getStaticResourceUri(be){this.throwIfNullOrUndefined(be,Ce,"getStaticResourceUri","path");var Ie=be;return Ie&&-1===Ie.indexOf("http")&&(Ie=this.urlCombine(h,Ie)),Ie}static getComponentName(be){return be?(typeof be).toString()+".":""}static throwException(be){throw g.Cn.error(`Throwing exception: ${JSON.stringify(be)}`,null==be.stack),this.ensureError(be)}static createClassSelector(be){return this.throwIfNullOrEmptyString(be,null,"CreateClassSelector","className"),"."+be}static createIdSelector(be){return this.throwIfNullOrEmptyString(be,null,"CreateIdSelector","id"),"#"+be}static clampValue(be,Ie,ve){return i.Y.assert(()=>Ie<=ve,"min value must be less than or equal the max value"),be=Math.min(be,ve),Math.max(be,Ie)}static generateGuid(){var be="",Ie=0;for(Ie=0;Ie<32;Ie+=1){var ve=16*Math.random()|0;switch(Ie){case 8:case 12:case 16:case 20:be+="-"}be+=ve.toString(16)}return be}static getCookieValue(be){var Ie=document.cookie.split(";");for(var ve of Ie){var xe=ve.split("=");if(xe.length>0&&xe[0].trim()===be)return ve.substr(ve.indexOf("=")+1)}return null}static getDomainForUrl(be){var Ie=this.getHrefObjectFromUrl(be);return Ie.prop("protocol")+"//"+Ie.prop("hostname")}static getHostNameForUrl(be){var Ie=this.getHrefObjectFromUrl(be);return this.urlCombine(Ie.prop("hostname"),Ie.prop("pathname"))}static getUrlWithoutQueryString(be){var Ie=this.getHrefObjectFromUrl(be);return Ie.prop("protocol")+"//"+this.urlCombine(Ie.prop("host"),Ie.prop("pathname"))}static getProtocolFromUrl(be){return this.getHrefObjectFromUrl(be).prop("protocol").replace(":","")}static getHrefObjectFromUrl(be){var Ie=$("<a>");return Ie.prop("href",be)}static getDateFromWcfJsonString(be,Ie){if(_.isEmpty(be))return null;var ve=be.indexOf("("),xe=be.indexOf(")");if(-1!==ve&&-1!==xe){var Ee=parseInt(be.substring(ve+1,xe),10);if(isNaN(Ee)&&(Ee=0),Ie)return new Date(Ee);var Ne=new Date(0);return Ne.setUTCMilliseconds(Ee),Ne}return null}static isValidImageDataUrl(be){return this.ImageDataRegex.test(be)}static encodeUriForImageDataSvg(be){if(this.ImageDataSvgRegex.test(be)){var Ie=be.indexOf(",");if(Ie>-1){var ve=be.substring(0,Ie).split(";"),xe=be.substring(Ie+1);try{xe=decodeURIComponent(xe)}catch{}return`${ve[0]},${encodeURIComponent(xe)}`}}return be}static isLocalUrl(be){return _.startsWith(be,"data:")||_.startsWith(be,"blob:")}static extractFileNameFromPath(be){return be.replace(/^.*[\\\/]/,"")}static is64BitOperatingSystem(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")}static isWindows10(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")}static isWindows(){return-1!==navigator.userAgent.indexOf("Windows")}static parseNumber(be,Ie){if(null===be)return null;if(void 0===be)return Ie;var ve=Number(be);return isFinite(ve)?ve:isNaN(ve)&&"number"!=typeof be&&"NaN"!==be?Ie:ve}static getURLParamValue(be){var Ie=new RegExp("[?&]"+be+"=([^&#]*)").exec(window.location.href);return null==Ie?null:Ie[1]||0}static getLocalTimeZoneString(){var Ie=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),xe=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===Ie&&-720===xe?"Dateline Standard Time":-660===Ie&&-660===xe?"UTC-11":-660===Ie&&-660===xe?"Samoa Standard Time":-600===Ie&&-600===xe?"Hawaiian Standard Time":-480===Ie&&-540===xe?"Alaskan Standard Time":-420===Ie&&-480===xe?"Pacific Standard Time":-420===Ie&&-420===xe?"US Mountain Standard Time":-360===Ie&&-420===xe?"Mountain Standard Time":-360===Ie&&-360===xe?"Central America Standard Time":-300===Ie&&-360===xe?"Central Standard Time":-300===Ie&&-300===xe?"SA Pacific Standard Time":-240===Ie&&-300===xe?"Eastern Standard Time":-270===Ie&&-270===xe?"Venezuela Standard Time":-240===Ie&&-240===xe?"SA Western Standard Time":-240===Ie&&-180===xe?"Central Brazilian Standard Time":-180===Ie&&-240===xe?"Atlantic Standard Time":-180===Ie&&-180===xe?"Montevideo Standard Time":-180===Ie&&-120===xe?"E. South America Standard Time":-150===Ie&&-210===xe?"Mid-Atlantic Standard Time":-120===Ie&&-120===xe?"SA Eastern Standard Time":0===Ie&&0===xe?"UTC":60===Ie&&0===xe?"GMT Standard Time":60===Ie&&120===xe?"Namibia Standard Time":120===Ie&&60===xe?"Romance Standard Time":120===Ie&&120===xe?"South Africa Standard Time":180===Ie&&120===xe?"GTB Standard Time":180===Ie&&180===xe?"E. Africa Standard Time":240===Ie&&180===xe?"Russian Standard Time":240===Ie&&240===xe?"Arabian Standard Time":270===Ie&&210===xe?"Iran Standard Time":270===Ie&&270===xe?"Afghanistan Standard Time":300===Ie&&240===xe?"Pakistan Standard Time":300===Ie&&300===xe?"West Asia Standard Time":330===Ie&&330===xe?"India Standard Time":345===Ie&&345===xe?"Nepal Standard Time":360===Ie&&300===xe?"N. Central Asia Standard Time":360===Ie&&360===xe?"Central Asia Standard Time":390===Ie&&390===xe?"Myanmar Standard Time":420===Ie&&360===xe?"North Asia Standard Time":420===Ie&&420===xe?"SE Asia Standard Time":480===Ie&&420===xe?"North Asia East Standard Time":480===Ie&&480===xe?"China Standard Time":540===Ie&&480===xe?"Yakutsk Standard Time":540===Ie&&540===xe?"Tokyo Standard Time":570===Ie&&570===xe?"Cen. Australia Standard Time":600===Ie&&600===xe?"E. Australia Standard Time":600===Ie&&660===xe?"AUS Eastern Standard Time":660===Ie&&600===xe?"Tasmania Standard Time":660===Ie&&660===xe?"West Pacific Standard Time":690===Ie&&690===xe?"Central Pacific Standard Time":720===Ie&&660===xe?"Magadan Standard Time":720===Ie&&720===xe?"Fiji Standard Time":720===Ie&&780===xe?"New Zealand Standard Time":780===Ie&&780===xe?"Tonga Standard Time":"UTC"}}return Ce.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),Ce.ImageDataSvgRegex=new RegExp("data:(image/svg)"),Ce})(),ne=0;function ae(Ce){var Ae=window.performance;if(!Ae||!Ae.mark)return()=>0;var be="Begin "+(Ce=++ne+" "+Ce);Ae.mark(be);var Ie=(0,l.t)();return()=>{var ve="End "+Ce;return Ae.mark(ve),Ae.measure&&Ae.measure(Ce,be,ve),(0,l.t)()-Ie}}function oe(Ce){var Ae=window.performance;!Ae||!Ae.mark||(Ce=++ne+" "+Ce,Ae.mark(Ce))}function Me(Ce){var Ae=(0,l.t)();return Ce(),(0,l.t)()-Ae}function Ye(Ce){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.A)(function*(Ce){var Ae=(0,l.t)();return yield Ce(),(0,l.t)()-Ae})).apply(this,arguments)}function lt(Ce){var Ae,be,Ie;return window.requestAnimationFrame||(window.requestAnimationFrame=ve=>setTimeout(ve,20)),function(){Ae||(Ae=!0,be=arguments,Ie=this,n.b.requestAnimationFrame(()=>{Ae=!1,Ce.apply(Ie,be)}))}}function ut(Ce){return null!=Ce&&Ce%1!=0}var Be=!1;!function(){if(!Be){var Ce=d.G;(function(){var Ce=(0,a.RI)();return Ce.StringExtensions||(Ce.StringExtensions={}),Ce.StringExtensions}()).format=(...Ae)=>Ce(...Ae),Be=!0}}()},444384:function(me,j,e){e.d(j,{P:function(){return a}});var r=e(619584),i=e(364785);class a{constructor(n){this.onReEntry=n,this.active=0}enqueue(n){this.tail||(this.tail=new i.c,function(g){l.apply(this,arguments)}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var d=new i.c,s={next:d.promise,callback:n,result:new i.c};this.tail.resolve(s),this.tail=d;var h=s.result.promise;return++this.active,h.finally(()=>--this.active)}}function l(){return(l=(0,r.A)(function*(g){for(;;){var n=yield g;g=n.next;try{n.result.resolve(yield n.callback())}catch(d){n.result.reject(d)}}})).apply(this,arguments)}},753771:function(me,j,e){e.d(j,{C:function(){return l},t:function(){return g}});var r=e(686243),a=e(942596),t=e(785463),l=(()=>{class n{static getLanguage(){return this.navigator.userLanguage||this.navigator.language}static isChrome(){if(null!=this.isChromeCache)return this.isChromeCache;var s=this.navigator.vendor||"",h=this.navigator.userAgent.toLowerCase();return this.isChromeCache=s.toLowerCase().indexOf("google")>-1&&h.indexOf("chrome")>-1&&-1===h.indexOf("edge")&&-1===h.indexOf("opr"),this.isChromeCache}static isInternetExplorerOrEdge(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=s.indexOf("msie")>-1||s.indexOf("trident")>-1||s.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache}static isInternetExplorer11(){var s=this.navigator.userAgent.toLowerCase(),h=s.match(/rv:(\d+)/i);return!!(h&&h[1]&&parseInt&&11===parseInt(h[1],10))&&s.indexOf("trident")>-1&&-1===s.indexOf("msie")}static isEdge(){if(null!=this.isEdgeCache)return this.isEdgeCache;var s=this.navigator.userAgent.toLowerCase();return this.isEdgeCache=s.indexOf("edg")>-1,this.isEdgeCache}static isEdgeLegacy(){return!n.isInternetExplorer11()&&"StyleMedia"in window}static isWindows10(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")}static isKeyboardClick(s){return 0===s.clientX&&0===s.clientX}static isCtrlOrMeta(s){return!0===s[n.isMacOs()?"metaKey":"ctrlKey"]}static noModifierPressed(s){var h=n.isMacOs()?"metaKey":"ctrlKey";return!s.shiftKey&&!s.altKey&&!s[h]}static isPointerTypeTouch(s){return"touch"===s.pointerType}static getInternetExplorerVersion(){var s=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var o=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);o&&(s=parseFloat(o[1]))}return s}static isFirefox(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}static isMacOs(){return this.navigator.userAgent.indexOf("Macintosh")>=0}static isSafari(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)}static isMacSafariByFeature(){return this.isMacOs()&&CSS.supports("-webkit-backdrop-filter","blur(0)")}static isSafari11OrHigher(){if(!this.isSafari())return!1;var s=this.navigator.userAgent.match(/version\/(\d+)/i),h=s?.[1];return!(null==h||!parseInt)&&parseInt(h,10)>=11}static isIOSWebView(){var s=this.navigator.userAgent.toLowerCase();return s.indexOf("iphone")>-1||s.indexOf("ipad")>-1||s.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1}static isAndroidWebView(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1}static focus(s,h){if(s)if(s.focus)h?s.focus(h):s.focus();else try{HTMLElement.prototype.focus.apply(s)}catch(o){t.Y.assertFail("BrowserUtils.focus: failed to set focus on element: "+o)}}static setBrowserSupportsHttp2(s){this.browserSupportsHttp2=s}static getBrowserVersion(){var s=(0,r.getParser)(window.navigator.userAgent);return s?.getBrowserVersion()}static calculateBrowserSupportsHttp2(){if(!window||!window.performance)return!1;var s=window.performance;return"h2"===(s.getEntriesByType&&s.getEntriesByType("navigation")&&s.getEntriesByType("navigation")[0]&&s.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())}}return n.navigator=window.navigator,n.browserSupportsHttp2=()=>(null!=n.browserSupportsHttp2Cache||(n.browserSupportsHttp2Cache=n.calculateBrowserSupportsHttp2()),n.browserSupportsHttp2Cache),n})();function g(n){return n.shiftKey?a.v.Union:l.isCtrlOrMeta(n)?a.v.Difference:a.v.Single}},596920:function(me,j,e){e.d(j,{AJ:function(){return Se},Be:function(){return S},Ey:function(){return Xe},FC:function(){return fe},GA:function(){return Q},HT:function(){return ze},Ht:function(){return u},IJ:function(){return R},IT:function(){return St},JE:function(){return t},Ky:function(){return p},L2:function(){return ut},NY:function(){return xe},OM:function(){return L},Ol:function(){return ee},Q1:function(){return Ee},RU:function(){return D},SF:function(){return J},Sh:function(){return f},St:function(){return I},T:function(){return P},T1:function(){return x},V:function(){return ae},Wb:function(){return X},Wd:function(){return Be},Wi:function(){return ye},Wv:function(){return Me},ZF:function(){return Ye},_Z:function(){return l},cM:function(){return N},d7:function(){return ve},dW:function(){return Ie},fY:function(){return M},fc:function(){return y},fp:function(){return c},gA:function(){return E},kH:function(){return oe},lN:function(){return be},lO:function(){return W},lb:function(){return A},mC:function(){return Ce},pB:function(){return Ne},rM:function(){return Ae},s$:function(){return v},t:function(){return k},uC:function(){return F},ub:function(){return g},wK:function(){return d},xH:function(){return m},yt:function(){return Le}});var r=e(494762),i=e(785463),a=e(928912),t="</___",l="___/>";function g(Ue){return void 0===Ue.control.properties.descriptor}function d(Ue){return!!Ue.type}function s(Ue){return Ue.type===r.hl.Card}function h(Ue){return Ue.type===r.hl.Group}function o(Ue){return Ue.type===r.hl.Slice}function v(Ue){return Ue.source===r.ww.Host}function m(Ue){return s(Ue)}function p(Ue){return h(Ue)}function y(Ue){return o(Ue)}function S(Ue,_e){return{name:Ue,source:r.ww.Host,type:r.hl.Card,suppressDefaultValue:_e}}function u(Ue,_e){return{name:Ue,source:r.ww.Host,type:r.hl.Slice,suppressDefaultValue:_e}}function E(Ue){return Ue.source===r.ww.Visual}function c(Ue){return s(Ue)}function f(Ue){return h(Ue)}function D(Ue){return o(Ue)}function M(Ue,_e){return{name:Ue,source:r.ww.Visual,type:r.hl.Slice,suppressDefaultValue:_e}}function P(Ue,_e){return Ue+"-"+_e}function N(Ue){var _e={};for(var at in Ue)if(_.isString(at)){var ot={},yt=Ue[at].properties;for(var Nt in yt)_.isString(Nt)?ot[Nt]={objectName:at,propertyName:Nt}:i.Y.assertFail(`Expected propertyName "${Nt}" to be a string`);_e[at]=ot}else i.Y.assertFail(`Expected objectName "${at}" to be a string`);return _e}class I{constructor(..._e){this.cards=_e}addCards(..._e){return this.cards.push(..._e),this}withWarnings(_e){return this.warnings=_e,this}build(){return{cards:this.cards.reduce((at,ot)=>{if(!ot)return at;var mt;if(!(mt=_.isFunction(ot)?ot():ot))return at;if(_.isArray(mt)){for(var yt of mt)if(yt){if(!d(yt)){var Nt=this.shouldDisableCard(yt,this.disabledCards);Nt&&(yt={...yt,disabled:Nt.disabled,disabledReason:Nt.disabledReason})}at.push(yt)}}else{var Bt=mt;if(!d(Bt)){var he=this.shouldDisableCard(Bt,this.disabledCards);he&&(Bt={...Bt,disabled:he.disabled,disabledReason:he.disabledReason})}at.push(Bt)}return at},[]),warnings:this.warnings}}withDisabledCards(_e){return this.disabledCards=_e,this}shouldDisableCard(_e,at){var ot=at?.[_e.uid];if(ot)return{disabled:!0,disabledReason:ot.disabledReason}}}function R(Ue){var _e=Ue.uid.split(" "),at=function(Ue){return new W(Ue)}(_e[0]);return at.withGroup(_e[1])}class W{constructor(_e){this.cardName=_e,this.groupNames=new Set}build(){return(0,a.vX)(this.cardName)}withGroup(_e="default"){return i.Y.assert(()=>!this.groupNames.has(_e),`Already have group "${_e}"`),this.groupNames.add((0,a.vX)(_e)),new F(this,_e)}}class F{constructor(_e,at){this.cardUidBuilder=_e,this.groupName=at,this.sliceNames=new Set}static getGroupUid(_e){var at=_e.split("-");return i.Y.assert(()=>at.length>=2,"GroupUid must have at least two sections in the uid"),`${at[at.length-1]}`}build(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var _e=(0,a.vX)(this.groupName);return`${this.cardUid}-${_e}`}withSlice(_e){return this.sliceNames.add(_e),new x(this,_e)}withContainer(_e){return new B(this,_e)}}class U{constructor(_e,at){this.containerUidBuilder=_e,this.itemName=at,this.sliceNames=new Set,this.groupNames=new Set}build(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var _e=(0,a.vX)(this.itemName);return`${this.containerUid}-${_e}`}withSlice(_e){return this.sliceNames.add(_e),new x(this,_e)}withGroup(_e="default"){return this.groupNames.add(_e),new F(this,_e)}withContainer(_e){return new B(this,_e)}}class B{constructor(_e,at){this.groupUidBuilder=_e,this.containerName=at}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var _e=(0,a.vX)(this.containerName);return`${this.groupUid}-${_e}`}withContainerItem(_e){return new U(this,_e)}}class x{constructor(_e,at){this.groupUidBuilder=_e,this.sliceName=at}static getGroupAndSliceUid(_e){var at=_e.split("-");return i.Y.assert(()=>at.length>=3,"SliceUid must have at least three sections in the uid"),`${at[at.length-2]}-${at[at.length-1]}`}static getSliceUid(_e){var at=_e.split("-");return i.Y.assert(()=>at.length>=3,"SliceUid must have at least three sections in the uid"),`${at[at.length-1]}`}build(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var _e=(0,a.vX)(this.sliceName);return`${this.groupUid}-${_e}`}}class A{constructor(_e,at,ot,mt,yt=!0,Nt){this.uidBuilder=_e,this.displayName=at,this.localize=mt,this.localizeDisplayName=yt,this.analyticsPane=Nt,this.suppressDisplayName=!1,this.groups=[],ot&&(this.revertToDefaultDescriptors=_.isArray(ot)?ot:_.values(ot))}withDisabled(_e,at){return this.disabled=_e,this.disabledReason=at?this.localize(at):void 0,this}withDisabledLocalized(_e,at){return this.disabled=_e,this.disabledReason=at,this}withDescription(_e){return this.description=_e,this}withAliasName(_e){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(_e)),this}withGroups(_e){return this.groups=_e,this}addGroupPlaceholder(_e){return this.groups.push(_e),this}addGroup(_e,at){if(!at)return this;var ot=this.getGroupBuilder(_e);return at(ot),this.groups.push(ot.build()),this}getGroupBuilder(_e="default"){return new L(this.uidBuilder.withGroup(_e),at=>this.localize(at))}addTopLevelToggle(_e,at,ot){var mt=this.uidBuilder.withGroup("topLevelToggle").withSlice(_e),yt=at(),Bt=new qe({control:yt,localize:this.localize,uidBuilder:mt});return ot&&ot(Bt),this.topLevelToggle=Bt.build(),this}assertDescriptorsAreAdded(){if(this.revertToDefaultDescriptors){var _e=[];this.groups.forEach(mt=>{!d(mt)&&mt.slices&&mt.slices.forEach(yt=>{d(yt)||_e.push(yt)})});var at=new Set,ot="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(mt=>at.add(mt.objectName+"-"+mt.propertyName)),_e.forEach(mt=>{if(!d(mt))if(g(mt)){var yt=mt.control.properties;Object.keys(yt).forEach(he=>{var Qe=yt[he]?.descriptor;if(void 0!==Qe){var je=Qe.objectName+"-"+Qe.propertyName;i.Y.assert(()=>at.has(je),`${ot} ${je?`- missing '${je}'`:""}`)}})}else{var Nt=mt.control.properties.descriptor,Bt=Nt.objectName+"-"+Nt.propertyName;i.Y.assert(()=>at.has(Bt),`${ot} ${Bt?`- missing '${Bt}'`:""}`)}})}}build(){var _e=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:_e,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}}}class L{constructor(_e,at){this.uidBuilder=_e,this.localize=at,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}withContainer(_e){return this.container=_e,this}withContainerDisabled(_e=!0){return this.containerDisabled=_e,this.sliceWithContainer=!0,this}withDescription(_e){return this.description=_e,this}withAliasName(_e){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(_e)),this}withInheritDisabled(_e){return this.inheritDisabled=_e,this}withDelaySaveSlices(){return this.delaySaveSlices=!0,this}withCollapsible(_e=!0){return this.collapsible=_e,this}withDisplayName(_e,at=!0){return this.displayName=at?_e?this.localize(_e):void 0:_e,this.suppressDisplayName=!1,this}withSlices(_e){return this.slices=_.map(_e,at=>{if(d(at))return at;var mt=this.uidBuilder.withSlice(at.uid).build();return{...at,uid:mt}}),this}withDisabled(_e,at){return this.disabled=_e,this.disabledReason=at?this.localize(at):void 0,this}addSlicePlaceholder(_e){return this.slices.push(_e),this}addSlice(_e){return this.slices.push(_e),this}addSimpleSlice(_e,at,ot){var mt=this.getSliceName(_e),yt=_.isFunction(at)?at():at,Nt=this.getSimpleSliceBuilder(mt,yt);return ot&&ot(Nt),this.slices.push(Nt.build()),this}addCompositeSlice(_e,at,ot,mt){var yt=_.isFunction(ot)?ot():ot,Nt=this.getCompositeSliceBuilder(_e,at,yt);return mt&&mt(Nt),this.slices.push(Nt.build()),this}addSlices(_e){return this.slices=this.slices.concat(_e),this}getSimpleSliceBuilder(_e,at){var ot=this.getSliceName(_e),mt=this.uidBuilder.withSlice(ot);return new k({control:at,localize:this.localize,uidBuilder:mt})}addTopLevelToggle(_e,at,ot){var mt=this.uidBuilder.withSlice(_e),yt=at(),Bt=new qe({control:yt,localize:this.localize,uidBuilder:mt});return ot&&ot(Bt),this.topLevelToggle=Bt.build(),this}getCompositeSliceBuilder(_e,at,ot){var mt=this.getSliceName(_e),yt=this.uidBuilder.withSlice(mt);return new K({control:ot,displayName:at,localize:this.localize,uidBuilder:yt})}getSliceName(_e){return _.isString(_e)?(0,a.vX)(_e):`${_e.objectName}-${_e.propertyName}`}addContainer(_e,at){var ot=this.getContainerBuilder(_e);return at(ot),this.container=ot.build(),this}getContainerBuilder(_e){return new H(this.uidBuilder.withContainer(_e),this.localize)}build(){return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:this.displayName??"",collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}}}class Y extends L{build(){return super.build()}}class z{constructor(_e,at,ot){this.uidBuilder=_e,this.displayName=at,this.localize=ot,this.slices=[],this.groups=[]}withIcon(_e){return this.iconName=_e,this}withSlices(_e){return this.slices=_.map(_e,at=>this.updatedSlice(at)),this}addSimpleSlice(_e,at,ot){var mt=this.getSliceName(_e),yt=_.isFunction(at)?at():at,Nt=this.getSimpleSliceBuilder(mt,yt);return ot&&ot(Nt),this.slices.push(Nt.build()),this}addCompositeSlice(_e,at,ot,mt){var yt=_.isFunction(ot)?ot():ot,Nt=this.getCompositeSliceBuilder(_e,at,yt);return mt&&mt(Nt),this.slices.push(Nt.build()),this}getSimpleSliceBuilder(_e,at){var ot=this.getSliceName(_e),mt=this.uidBuilder.withSlice(ot);return new k({control:at,localize:this.localize,uidBuilder:mt})}getCompositeSliceBuilder(_e,at,ot){var mt=this.getSliceName(_e),yt=this.uidBuilder.withSlice(mt);return new K({control:ot,displayName:at,localize:this.localize,uidBuilder:yt})}addContainer(_e,at){var ot=this.getContainerBuilder(_e);return at(ot),this.container=ot.build(),this}getContainerBuilder(_e){return new H(this.uidBuilder.withContainer(_e),this.localize)}getSliceName(_e){return _.isString(_e)?_e:`${_e.objectName}-${_e.propertyName}`}withGroups(_e){return this.groups=_.map(_e,at=>{var ot=at.uid,mt=this.uidBuilder.withGroup(ot).build();return{...at,uid:mt,slices:_.map(at.slices,yt=>this.updatedSlice(yt,ot))}}),this}updatedSlice(_e,at){if(d(_e))return _e;var ot=_e.uid,yt=(at?this.uidBuilder.withGroup(at):this.uidBuilder).withSlice(ot).build();return{..._e,uid:yt}}addGroup(_e,at){var ot=_e?(0,a.vX)(_e):void 0,mt=this.getGroupBuilder(ot);return at(mt),this.groups.push(mt.build()),this}getGroupBuilder(_e="default"){return new Y(this.uidBuilder.withGroup(_e),this.localize)}withDefaultSelected(_e){return this.defaultSelected=_e,this}build(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build(),icon:this.iconName}}}class H{constructor(_e,at){this.uidBuilder=_e,this.localize=at,this.suppressDisplayName=!0,this.containerItems=[]}withDisplayName(_e){return this.displayName=_e,this.suppressDisplayName=!1,this}withSuppressDisplayName(_e){return this.suppressDisplayName=_e,this}withDescription(_e){return this.description=_e,this}addContainerItem(_e,at,ot){var mt=(0,a.vX)(_e??""),yt=this.getContainerItemBuilder(mt,at??"");return ot(yt),this.containerItems.push(yt.build()),this}getContainerItemBuilder(_e,at){return new z(this.uidBuilder.withContainerItem(`${t}${_e}${l}`),at,this.localize)}build(){var _e=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:_e,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class Z{constructor(_e){this.control=_e.control,this.localize=_e.localize,this.uidBuilder=_e.uidBuilder}withDisabled(_e,at){return this.disabled=_e,this.disabledReason=at?this.localize(at):void 0,this}withHidden(_e){return this.hidden=_e,this}getSimpleControlDescriptor(){if(void 0!==this.control.properties.descriptor)return this.control.properties.descriptor}}class k extends Z{constructor(_e){super(_e)}withCustomDisplayName(_e,at=!0){return this.displayName=at?this.localize(_e):_e,this}withSuppressDisplayName(_e){return this.suppressDisplayName=_e,this}withCustomDescription(_e,at=!0){return i.Y.assertValue(_e,"description"),this.description=at?this.localize(_e):_e,this}withCustomDescriptionIf(_e,at,ot=!0){return _e()?this.withCustomDescription(at,ot):this}withAliasName(_e){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(_e)),this}withInfoIconText(_e){return this.infoIconText=_e,this}build(){return i.Y.assert(()=>!!this.control,"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}}}class K extends Z{constructor(_e){super(_e),this.displayName=_e.displayName,this.description=_e.description}withInfoIconText(_e){return this.infoIconText=_e,this}withAliasName(_e){return this.aliasNames=this.aliasNames??[],this.aliasNames.push(this.localize(_e)),this}withSuppressDisplayName(_e){return this.suppressDisplayName=_e,this}build(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}}}class ee{withDisplayName(_e,at,ot){return this.description=at,this.displayName=_e,this.suppressDisplayName=ot,this}withUid(_e){return this.uid=P(_e.objectName,_e.propertyName),this}withControlProperties(_e){return this.control=_e,this}withDisabled(_e=!0){return this.disabled=_e,this}build(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}}}class Q{constructor(_e){this.properties=_e}build(){return{type:r.PL.AlignmentGroup,properties:this.properties}}}class J{constructor(_e){this.properties=_e}build(){return{type:r.PL.EmptyControl,properties:this.properties}}}class X{constructor(_e){this.properties=_e}build(){return{type:r.PL.FlagsSelection,properties:this.properties}}}class ae{constructor(_e){this.properties=_e}build(){return{type:r.PL.ColorPicker,properties:this.properties}}}class oe{constructor(_e){this.properties=_e}build(){return{type:r.PL.ConditionalFormattingControl,properties:this.properties}}}class Me{constructor(_e){this.properties=_e}build(){return{type:r.PL.DatePicker,properties:this.properties}}}class Ye{constructor(_e){this.properties=_e}build(){return{type:r.PL.Dropdown,properties:this.properties}}}class Le{constructor(_e){this.properties=_e}build(){return{type:r.PL.DurationPicker,properties:this.properties}}}var ut={minValue:{type:r.vb.Min,value:8},maxValue:{type:r.vb.Max,value:60}};class St{withFontSizeProperties(_e){var mt,at=_e.options,ot={...ut};mt=at?{...ot,...at}:ot;var yt={..._e,options:mt};return this.fontSize=yt,this}withFontFamily(_e){return this.fontFamily=_e,this}withBold(_e){return this.bold=_e,this}withItalic(_e){return this.italic=_e,this}withUnderline(_e){return this.underline=_e,this}build(){return{type:r.PL.FontControl,properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}}}class ze{constructor(_e){this.properties=_e}build(){return{type:r.PL.GradientBar,properties:this.properties}}}class Be{constructor(_e){this.properties=_e}withHiddenScale(_e,at){return this.hideFitImage=_e,this.defaultScalingValue=at,this}build(){return{type:r.PL.ImageUpload,properties:{...this.properties,imageScalingProperties:{defaultScalingValue:this.defaultScalingValue,hideFitImage:this.hideFitImage}}}}}class Ce{constructor(_e){this.properties=_e}build(){return{type:r.PL.Link,properties:this.properties}}}class Ae{constructor(_e){this.properties=_e}build(){return{type:r.PL.SeriesDialogLink,properties:this.properties}}}class be{withLeft(_e){return this.left=_e,this}withRight(_e){return this.right=_e,this}withTop(_e){return this.top=_e,this}withBottom(_e){return this.bottom=_e,this}build(){return{type:r.PL.MarginPadding,properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}}}class Ie{constructor(_e){this.properties=_e}build(){var _e=this.properties;return null==_e.placeholderText&&(_e={..._e}),{type:r.PL.NumUpDown,properties:_e}}}class ve{constructor(_e){this.properties=_e}build(){return{type:r.PL.ReadOnlyText,properties:this.properties}}}class xe{constructor(_e){this.properties=_e}build(){return{type:r.PL.ErrorRangeControl,properties:this.properties}}}class Ee{constructor(_e){this.properties=_e}build(){return{type:r.PL.FieldPicker,properties:this.properties}}}class Ne{static getTransparencySliderBuilder({descriptor:_e,value:at,localize:ot},mt){var yt={descriptor:_e,value:at,localize:ot,options:{minValue:{type:r.vb.Min,value:0},maxValue:{type:r.vb.Max,value:100},unitSymbol:"Slider_Percent"}};return new Ne(mt?mt(yt):yt)}static getRotationSliderBuilder({descriptor:_e,value:at,localize:ot},mt){var yt={descriptor:_e,value:(at%360+360)%360,localize:ot,options:{minValue:{type:r.vb.Min,value:0},maxValue:{type:r.vb.Max,value:360},unitSymbol:"Slider_Degree"}};return new Ne(mt?mt(yt):yt)}constructor(_e){this.properties=_e}build(){var _e={...this.properties};return delete _e.localize,{type:r.PL.Slider,properties:_e}}}class ye{constructor(_e){this.properties=_e}build(){return{type:r.PL.ShapeMapSelector,properties:this.properties}}}class Xe{constructor(_e){this.properties=_e}build(){var _e=this.properties.placeholder;_e&&(_e=this.properties.localize(_e));var at={...this.properties,placeholder:_e};return delete at.localize,{type:r.PL.TextArea,properties:at}}}class fe{constructor(_e){this.properties=_e}build(){return{type:r.PL.TextInput,properties:this.properties}}}class Se{constructor(_e){this.properties=_e}build(){return{type:r.PL.ToggleSwitch,properties:this.properties}}}class qe extends Z{constructor(_e){super(_e)}build(){return i.Y.assert(()=>!!this.control,"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}}withNoDefaultImpact(_e){return this.noDefaultImpact=_e,this}}},376292:function(me,j,e){function r(g){return g instanceof Date&&"number"==typeof g.epochTimeStamp}function i(g){var n=new Date(g.getTime());return n.epochTimeStamp=g.epochTimeStamp,n}function a(g,n=0,d=1,s=0,h=0,o=0,v=0){var m=new Date(g,n,d,s,h,o,v);return m.epochTimeStamp=Date.UTC(g,n,d,s,h,o,v),m}function t(g){var n=g;return n.epochTimeStamp=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),n}function l(g){return t(new Date(g))}e.d(j,{Ar:function(){return i},HE:function(){return a},IG:function(){return t},S7:function(){return l},th:function(){return r}})},974255:function(me,j,e){function r(i){i&&Object.getOwnPropertyNames(i).forEach(a=>{"constructor"!==a&&Object.defineProperty(i,a,{enumerable:!0})})}e.d(j,{d:function(){return r}})},662031:function(me,j,e){function r(a){var t=_.lastIndexOf(a,".");return t>=0?a.substr(t+1):""}function i(a){var t=_.lastIndexOf(a,".");return t>=0?a.substr(0,t):a}e.d(j,{G:function(){return i},Q:function(){return r}})},507345:function(me,j,e){function r(a){return _.isEmpty(a)||_.isEmpty(a.trim())}function i(...a){var t=a[0];if(r(t))return t;for(var l=0;l<a.length-1;l++){var g=new RegExp("\\{"+l+"\\}","gm");t=t.replace(g,a[l+1])}return t}e.d(j,{G:function(){return i},M:function(){return r}})},716782:function(me,j,e){e.d(j,{AD:function(){return l},Pn:function(){return i},Xr:function(){return t},gd:function(){return a},t:function(){return g}});var r=e(510958);function i(n){return n===r.cK.downArrowKeyCode||n===r.cK.upArrowKeyCode||n===r.cK.leftArrowKeyCode||n===r.cK.rightArrowKeyCode}function a(n){return n===r.uf.ArrowDown||n===r.uf.ArrowUp||n===r.uf.ArrowRight||n===r.uf.ArrowLeft}function t(n){return n===r.cK.aKeyCode||n===r.cK.cKeyCode||n===r.cK.xKeyCode||n===r.cK.vKeyCode||n===r.cK.zKeyCode||n===r.cK.yKeyCode}function l(n){return n===r.cK.shiftKeyCode}function g(n){return n===r.cK.deleteKeyCode}},289306:function(me,j,e){e.d(j,{TF:function(){return a},dK:function(){return i}});var r=e(904518);class i{constructor(g=!1){this.promise=new r.h((n,d)=>{this.resolver=n,this.rejector=d})}resolve(g){this.resolver(g)}reject(g){this.rejector(g)}}function a(l){if(r.h.useNativePromise)return Promise.resolve(l);var g=new i(!0);return g.resolve(l),g.promise}},904518:function(me,j,e){e.d(j,{h:function(){return h}});var r=e(785463);function i(o,v){return new a(o,v)}class a{constructor(v,m){this.deferMethod=v,this.drainMethod=m,this.asyncQueue=[],this.processing=!1}defer(v,m,...p){r.Y.assertValue(v,"callback"),this.deferMethod?this.deferMethod(v):this.deferInternal(v,m,p)}drain(){this.drainMethod?this.drainMethod():this.drainQueue()}deferInternal(v,m,...p){!this.processing&&!this.asyncQueue.length&&setTimeout(()=>{this.asyncQueue.length>0&&this.drainQueue()},m),this.asyncQueue.push({callback:v,args:p})}drainQueue(){for(var v of(this.processing=!0,this.asyncQueue))v.callback(v.args);this.asyncQueue.length=0,this.processing=!1}}var t=e(304703);function l(o){return o&&_.isObject(o)&&o.then&&_.isFunction(o.then)}function g(o){return l(o)?o.then:null}var n,s=function(o){return o[o.Unknown=-1]="Unknown",o[o.Pending=0]="Pending",o[o.Fulfilled=1]="Fulfilled",o[o.Rejected=2]="Rejected",o}({});class h{constructor(v,m){if(this[n]="Promise",this.timeout=h.ensurePbiTimeout(),this.autoFlush=h.autoFlushInitialized||!!m,this.state={status:s.Pending},v){if(h.useNativePromise)return new Promise(v);v(p=>h.resolvePromise(this,p),p=>h.rejectPromise(this,p))}}then(v,m){if(_.isUndefined(v)&&_.isUndefined(m))return this;var p=new h(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:p,onFulfilled:v,onRejected:m}),this.state.status>s.Pending&&this.scheduleProcessQueue(),p}catch(v){return this.then(null,v)}finally(v){return this.then(m=>h.handleCallback(m,h.resolve,v),m=>h.handleCallback(m,h.reject,v))}static all(v,m){if(h.useNativePromise)return Promise.all(v);var p,y,S=new h((D,b)=>{p=D,y=b},m),C=[],u=v.length;if(u>0)for(var E=0,c=function(D){var b=v[D];g(b)||(b=h.resolve(b,m)),b.then(V=>{C[D]=V}).catch(V=>{y(V)}).finally(()=>{++E===u&&p(C)})},f=0;f<u;f++)c(f);else p(C);return S}static setUseNativePromise(v){h.useNativePromise=v}static resolvePromise(v,m){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.Cn.error("resolvePromise should not be called when useNativePromise is true")),!v.state.status&&(m===v?v.rejectInternal("Expected promise to be resolved with value other than itself"):v.resolveInternal(m))}static rejectPromise(v,m){this.useNativePromise&&this.traceError&&(this.traceError=!1,t.Cn.error("rejectPromise should not be called when useNativePromise is true")),!v.state.status&&v.rejectInternal(m)}static reset(){h.usingMicrotask=void 0,h.pbiTimeout=void 0,h.autoFlushInitialized=void 0}static init(v,m,p,y){void 0!==y&&(h.useNativePromise=y,h.useNativePromise)||h.usingMicrotask||(h.autoFlushInitialized=m,p?(h.pbiTimeout=i(S=>{Zone.current.scheduleMicroTask("DO_NOT_USE_PbiPromise.useMicrotask",S)}),h.usingMicrotask=!0):(r.Y.assertValue(v,"pbiTimeout"),h.pbiTimeout=v||h.pbiTimeout))}static resolve(v,m,p,y){if(h.useNativePromise)return Promise.resolve(v);var S=new h(null,m);return h.resolvePromise(S,v),S.then(p??null,y)}static reject(v,m){return h.useNativePromise?Promise.reject(v):new h((p,y)=>y(v),m)}defer(v){r.Y.assert(()=>_.isFunction(v),"callback"),this.autoFlush&&this.state.status>s.Pending?v():(r.Y.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(v,0))}resolveInternal(v){var m;try{(m=g(v))?(this.state.status=s.Unknown,m.call(v,p=>{this.resolveInternal(p)},p=>{this.rejectInternal(p)})):(this.state.value=v,this.state.status=s.Fulfilled,this.scheduleProcessQueue())}catch(p){this.rejectInternal(p)}}rejectInternal(v){this.state.value=v,this.state.status=s.Rejected,this.scheduleProcessQueue()}scheduleProcessQueue(){var v=this.state;v.processScheduled||_.isEmpty(v.pending)||(v.processScheduled=!0,this.defer(()=>h.processQueue(v)))}static ensurePbiTimeout(){var v=h.pbiTimeout;return v||(v=h.pbiTimeout=i()),v}static handleCallback(v,m,p){var y=null;try{_.isFunction(p)&&(y=p())}catch(S){return h.reject(S)}return l(y)?y.then(S=>m(v),h.reject):m(v)}static processQueue(v){var m=v.pending;for(var p of(v.processScheduled=!1,v.pending=void 0,m)){var y=p.result,S=void 0;S=v.status===s.Fulfilled?p.onFulfilled:S,S=v.status===s.Rejected?p.onRejected:S;try{_.isFunction(S)?h.resolvePromise(y,S(v.value)):v.status===s.Fulfilled?h.resolvePromise(y,v.value):h.rejectPromise(y,v.value)}catch(C){h.rejectPromise(y,C)}}}}n=Symbol.toStringTag,h.useNativePromise=!0,h.traceError=!0},364785:function(me,j,e){e.d(j,{K:function(){return l},c:function(){return g}});var t,r=e(532304),i=e(785463),a=e(375953);class l{constructor(s){if(this[t]="Promise",l.useNativePromise)return new window.Promise(s);this.defer=l.ensureFactory().defer(),s(h=>this.onResolve(h),h=>this.onReject(h))}then(s,h){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==h,this.defer.promise.then(s,h)}catch(s){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==s,this.defer.promise.catch(s)}finally(s){return this.defer.promise.finally(s)}static init(s,h,o,v){i.Y.assertValue(s,"promiseFactory"),i.Y.assertAnyValue(h,"exceptionHandler"),i.Y.assert(()=>o||!l.defaultFactoryWasProvided,"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=v&&(l.useNativePromise=v),l.factory=s,l.exceptions=h,l.defaultFactoryWasProvided=!1}static setUseNativePromise(s){l.useNativePromise=s}static ensureFactory(){var s=l.factory;return s||(s=l.factory=(0,a.C)(),l.defaultFactoryWasProvided=!0),s}static resolve(s){return l.useNativePromise?window.Promise.resolve(s):new l((h,o)=>h(s))}static reject(s){return l.useNativePromise?window.Promise.reject(s):new l((h,o)=>o(s))}static allSettled(s){return l.useNativePromise?window.Promise.allSettled(s):new l((h,o)=>{var v=s.length;if(v>0)for(var m=[],p=0;p<v;p++)s[p].then(y=>m.push({value:y,type:r.f.Success})).catch(y=>m.push({value:y,type:r.f.Failure})).finally(()=>{m.length===v&&h(m)});else h([])})}onResolve(s){var d;i.Y.assertAnyValue(s,"value"),(d=s)&&_.isFunction(d.then)?s.then(h=>this.onResolve(h),h=>this.onReject(h)):this.defer.resolve(s)}onReject(s){if(i.Y.assertAnyValue(s,"error"),!this.hasRejectionHandling&&s instanceof Error&&!s.suppressExceptionHandler){var h=l.exceptions;h&&(s.suppressExceptionHandler=!0,h(s))}this.defer.reject(s)}}t=Symbol.toStringTag,l.useNativePromise=!0;class g{constructor(){this.promise=new l((s,h)=>{this.resolver=s,this.rejector=h})}resolve(s){this.resolver(s)}reject(s){this.rejector(s)}}},590466:function(me,j,e){e.d(j,{AR:function(){return d},B6:function(){return C},IS:function(){return p},J$:function(){return u},JY:function(){return g},MK:function(){return m},TX:function(){return o},Tl:function(){return a},ar:function(){return t},cL:function(){return l},j6:function(){return v},rB:function(){return y},vn:function(){return i}});var r=e(785463),i=1e-6;function a(c,f){return r.Y.assertValue(c,"x"),r.Y.assertValue(f,"y"),`translate(${c},${f})`}function t(c){return r.Y.assertValue(c,"x"),`translateX(${c}px)`}function l(c,f){return r.Y.assertValue(c,"x"),r.Y.assertValue(f,"y"),`translate(${c}px,${f}px)`}function g(c,f,D,b,T){return r.Y.assertValue(c,"x"),r.Y.assertValue(f,"y"),r.Y.assertValue(D,"px"),r.Y.assertValue(b,"py"),r.Y.assertValue(T,"angle"),`translate(${c},${f}) rotate(${T},${D},${b})`}function d(c,f,D){return r.Y.assertValue(c,"x"),r.Y.assertValue(f,"y"),r.Y.assertValue(D,"ratio"),`translate(${c},${f}) scale(${D})`}function h(c){return()=>{c.forEach(f=>{f?.each(function(){if(null!=this.__transition){if(_.some(this.__transition,N=>0===N.state)){var D=d3.select(this);return void requestAnimationFrame(h([D]))}var b=this.__transition||{},T=Object.keys(b);for(var M of T){var V=b[M];V&&V.timer?._call();var w=V.on._.end;for(var P of w)P.value.apply(this)}}})})}}function o(c,...f){if(c){var D=c;c.animation&&(D=c.animation),D&&D.transitionImmediate&&(_.isEmpty(f)||requestAnimationFrame(h(f)))}}function v(c){isNaN(c.x)&&(c.x=0),isNaN(c.y)&&(c.y=0)}function m(c){if(!c||0===c.length)return{x:"0",y:"0"};var f=c.split(/[\s,]+/);r.Y.assertValue(f,"translateCoordinates"),r.Y.assert(()=>f.length>0,"translate array must atleast have one value");var b,D="0",T=f[0];if(1===f.length)b=T.substring(10,T.length-1);else{var M=f[1];D=M.substring(0,M.length-1),b=T.substring(10,T.length)}return{x:b,y:D}}function p(c,f,D){return{path:`M0 0L0 ${f}L${c} ${f/2} Z`,transform:`rotate(${D} ${c/2} ${f/2})`}}function y(c){var f;try{f=c.getBBox()}catch{}return f||{x:0,y:0,width:0,height:0}}function C(c){return _.map(c,(b,T)=>(b=>1&~b?0===b?"M":"L":",")(T)+b).join("")+"z"}function u(c,f){if(!(c.length<4||c.length%2!=0)){var D=_.map(c,I=>Math.round(I*f)),b=[],T=D[0],M=D[1];b.push(T),b.push(M);for(var V=2;V<D.length;V+=2){var w=D[V],P=D[V+1];Math.abs(T-w)+Math.abs(M-P)<2||(b.push(w),b.push(P))}return C(b)}}},899448:function(me,j,e){e.d(j,{Dl:function(){return f},FI:function(){return V},Hr:function(){return l},LF:function(){return E},LT:function(){return u},L_:function(){return c},O:function(){return S},Rx:function(){return b},U8:function(){return i},V0:function(){return t},VP:function(){return a},Xn:function(){return n},e6:function(){return C},xK:function(){return D}});var r=e(233514);function i(I,O=!0){if(_.isEmpty(I))return!1;var R=f(I);if(!R)return!1;switch(w(R.scheme)){case D.http:case D.https:return O||!_.isEmpty(R.host);default:return!1}}function a(I){return i(I)}function t(I){return!(!I||0!==I.indexOf("data:"))}function l(I){if(!t(I))throw new Error("Expected data uri");var R=I.indexOf(";base64,");if(R<0)throw new Error("Expected base 64 content in data url");var W=R+8;return I.substr(W,I.length-W)}function n(I){return"data:application/json;base64,"+S(I)}var v=r.x4||function(I){return I&&I.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(O,R,W)=>String.fromCharCode(parseInt(R||W,16)))},m=r.ih||function(I){return I&&I.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,O=>{var R=O.charCodeAt(0).toString(16).toUpperCase();switch(R.length){case 1:return"%0"+R;case 2:return"%"+R;case 3:return"%u0"+R;default:return"%u"+R}})};function S(I){return btoa(function(I){return v(encodeURIComponent(I))}(I))}function C(I){return function(I){return decodeURIComponent(m(I))}(atob(I))}function u(I){var O=P(I);if(O)return N(O)}function E(I,O,R=!1){var W=c(I),F=W.baseUrl;if(R&&_.assign(O,W.queryParameters),_.isEmpty(O))return F;var U=[];for(var B in O){var x=O[B];if(null==x)U.push(encodeURIComponent(B));else if("string"==typeof x)U.push(encodeURIComponent(B)+"="+encodeURIComponent(x));else for(var A of x)U.push(encodeURIComponent(B)+"="+encodeURIComponent(A))}return F+"?"+U.join("&")}function c(I){var O=P(I);return{baseUrl:O?I.slice(0,I.indexOf("?")):I,queryParameters:N(O)}}function f(I){var O={scheme:"",host:"",path:"",query:"",fragment:""};if(null==I)return O;var R=I.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return R?{scheme:R[1],host:R[2],path:R[3],query:R[4],fragment:R[5]}:O}var D=function(I){return I[I.NONE=0]="NONE",I[I.http=1]="http",I[I.https=2]="https",I[I.file=3]="file",I[I.ftp=4]="ftp",I[I.mailto=5]="mailto",I[I.news=6]="news",I[I.telnet=7]="telnet",I}({});function b(I){var O=f(I);return null==O||null==O.scheme?D.NONE:w(O.scheme)}var M=/https?:\/\/[^\/]+/i;function V(I){return I&&I.replace(M,"")}function w(I){if(_.isEmpty(I))return D.NONE;switch(I.toLowerCase()){case"http":return D.http;case"https":return D.https;case"file":return D.file;case"ftp":return D.ftp;case"mailto":return D.mailto;case"news":return D.news;case"telnet":return D.telnet;default:return D.NONE}}function P(I){var O=document.createElement("a");return O.href=I,O.search}function N(I){if(!I)return{};var O={};return new URLSearchParams(I).forEach((R,W)=>{var F=O[W];null==F?O[W]=R:"string"==typeof F?O[W]=[F,R]:F.push(R)}),O}},97458:function(me,j,e){e.d(j,{I6:function(){return n},JI:function(){return h},MY:function(){return d},cA:function(){return y},e:function(){return s}});var r=e(785463),i=/\n+/g,a=/[\s\n]+/g,t=/([^\S\r\n])/g,l=" ";function g(c,f,D){if(D){for(var b=c-1;b>-1;b--)if(d(f[b]))return b+1}else for(var T=c,M=f.length;T<M;T++)if(d(f[T]))return T;return D?0:f.length}function n(c,f){r.Y.assert(()=>c>=0&&c<=f.length,"index within content string bounds");var D={start:0,end:0};return 0===f.length||(D.start=g(c,f,!0),D.end=g(c,f,!1)),D}function d(c){return a.lastIndex=0,a.test(c)}function s(c){var f=1;for(a.lastIndex=0,a.exec(c);0!==a.lastIndex;)f++,a.exec(c);return f}function h(c,f,D){var b=E(c),T=0;for(var M of b)D.text=M,T=Math.max(T,f(D));return T}function o(c,f,D){return f.text=c,D(f)}class m{constructor(){this.words=[],this.width=0}getWidth(){return this.width}addWord(f,D){this.words.push(f),this.width+=D}toString(f){return this.words.join(f?"":l)}isEmpty(){return _.isEmpty(this.words)}}class p{constructor(){this.lastLine=new m,this.lines=[this.lastLine]}newLine(){var f=this.lastLine;return this.lastLine=new m,this.lines.push(this.lastLine),f}get count(){return this.lines.length}getLastLine(){return this.lastLine}getLastLineWidth(){return this.getLastLine().getWidth()}addWord(f,D){this.lastLine.addWord(f,D)}getLines(){return this.lines}}function y(c,f,D,b,T,M,V,w,P=!1){if(!c)return[""];if("string"!=typeof c&&(c=String(c)),r.Y.assert(()=>"string"==typeof c,"splitByWidth: content should be of type string"),T<1&&(T=Number.POSITIVE_INFINITY),w){var N=c.split(i),I=[];for(var O of N){var R=y(O,f,D,b,Math.max(1,T),M,V,!1,P);if(T>0)I.push(...R||[]),T-=R.length;else{var W=_.last(I);I[I.length-1]=W+l+R}}return I}M=M||((Q,J)=>Q.text);var F=o(l,f,D),U=new p,B=E(c,P);for(var x of B){var A=o(x,f,D),L=A,Y=U.getLastLine().isEmpty();if(!Y&&x!==l&&(L+=F),U.getLastLineWidth()+L<=b||U.count>=T)U.addWord(x,L);else if(Y||U.newLine(),A<=b)U.addWord(x,A);else{var z=T-U.count;if(!V||z<=0)U.addWord(x,A);else for(var H=S(x,f,D,b,z+1),Z=0,k=H.chunks.length;Z<k;Z++){var K=H.chunks[Z];Z<k-1?(U.addWord(K,b),U.newLine()):U.addWord(K,H.lastChunkWidth)}}}var ee=_.map(U.getLines(),Q=>Q.getWidth()>b?function(c,f,D,b){return f.text=c,D(f,b)}(Q.toString(P),f,M,b):Q.toString(P));return ee}function S(c,f,D,b,T){var M={chunks:[],lastChunkWidth:0};if(T<1||0===c.length)return M;for(var V=function(c,f,D){return c.text="a",Math.floor(D/f(c))}(f,D,b),w=c,P=function(){if(M.chunks.length===T-1)return M.chunks.push(w),M.lastChunkWidth=o(w,f,D),0;var I=function(c,f,D,b,T){if(_.isEmpty(c))return{sizeInCharacters:0,sizeInPixels:0};if(0===b)return{sizeInCharacters:1,sizeInPixels:o(c.substr(0,1),f,D)};for(var V={sizeInCharacters:0,sizeInPixels:0},w=Math.min(T,c.length),P=-1,N=c.length+1;P<N-1;){var I=o(c.substr(0,w),f,D),O=I/b;if(I<=b){P=w,V.sizeInCharacters=w,V.sizeInPixels=I;var R=O>0?Math.ceil(w/O):w+1;R=Math.max(R,w+1),w=R=Math.min(R,N-1)}else{N=w;var W=O>0?Math.floor(w/O):w-1;W=Math.min(W,w-1),w=W=Math.max(W,P+1)}}return 0===V.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:o(c.substr(0,1),f,D)}:V}(w,f,D,b,V);V=I.sizeInCharacters;var O=I.sizeInCharacters;if(r.Y.assert(()=>O<=w.length,"Chunk size is greater than the whole text"),M.chunks.push(w.substr(0,O)),M.lastChunkWidth=I.sizeInPixels,O===w.length)return 0;w=w.substr(O,w.length-O)};w.length>0&&0!==P(););return M}function E(c,f){return f&&(c=c.replace(i,"")),c.split(f?t:a)}},866752:function(me,j,e){e.d(j,{b:function(){return i}});var i=new class{initialize(t){this.runOutsideAngular=l=>t.runOutsideAngular(l)}setInterval(t,l){return this.runOutsideAngular(()=>window.setInterval(t,l))}setTimeout(t,l){return this.runOutsideAngular(()=>window.setTimeout(t,l))}requestAnimationFrame(t){this.runOutsideAngular(()=>requestAnimationFrame(t))}runOutsideAngular(t){return t()}}},935236:function(me,j,e){e.d(j,{Aj:function(){return F},C:function(){return s},IU:function(){return V},KS:function(){return L},OX:function(){return u},RD:function(){return A},Sg:function(){return I},TR:function(){return H},WC:function(){return O},_u:function(){return x},cd:function(){return U},dM:function(){return t},e$:function(){return m},eC:function(){return W},eL:function(){return B},h8:function(){return D},hn:function(){return N},i4:function(){return f},lz:function(){return S},m2:function(){return h},mq:function(){return p},nC:function(){return Z},nO:function(){return b},q7:function(){return c},qR:function(){return o},qh:function(){return v},s:function(){return d},s0:function(){return E},u_:function(){return y},wg:function(){return P},y1:function(){return n},zW:function(){return R}});var r=e(785463);function t(k){for(var K=[],ee=0,Q=k.length;ee<Q;ee++){var J=k[ee];-1===K.indexOf(J)&&K.push(J)}return K}function n(k,K,ee){r.Y.assert(()=>K>=0&&K<k.length,"startIndex is out of range."),r.Y.assert(()=>ee>=0&&ee<k.length,"endIndex is out of range.");for(var Q=[],J=K;J<=ee;++J)Q.push(k[J]);return Q}function d(k,K){r.Y.assert(()=>K>=0,"Count is negative."),r.Y.assert(()=>K<=k.length,"Count is too large.");for(var ee=[],Q=0;Q<K;++Q)ee.push(k[Q]);return ee}function s(k){return r.Y.assertValue(k,"source"),d(k,k.length)}function h(k,K,ee){if(k||(k=null),K||(K=null),k===K)return!0;if(!!k!=!!K)return!1;var Q=k?.length??0;if(Q!==K?.length)return!1;for(var J=0;J<Q&&ee(k?.[J],K?.[J]);)++J;return J===Q}function o(k){return k&&0===k.length?null:k}function v(k,K){r.Y.assertValue(k,"array"),r.Y.assertValue(K,"predicate");for(var ee=0,Q=k.length;ee<Q;++ee)if(K(k[ee]))return ee;return-1}function m(k,K){if(0===K)return k.slice();var ee=k.slice(K);return Array.prototype.push.apply(ee,k.slice(0,K)),ee}function p(){return y([])}function y(k){r.Y.assertValue(k,"array");var K=k;return K.withId=C,K}function S(k,K){for(var ee=0,Q=k.length;ee<Q;ee++){var J=k[ee];if(J.id===K)return J}}function C(k){return S(this,k)}function u(){return E([])}function E(k){r.Y.assertValue(k,"array");var K=k;return K.withName=M,K}function c(k,K){var ee=f(k,K);if(ee>=0)return k[ee]}function f(k,K){for(var ee=0,Q=k.length;ee<Q;ee++)if(k[ee].name===K)return ee;return-1}function D(k,K){r.Y.assertValue(k,"list"),r.Y.assertValue(K,"value");for(var Q=k.length-1;Q>=0;Q--){var J=k[Q]-K;if(0===J)return!1;if(!(J>0))return k.splice(Q+1,0,K),!0}return k.unshift(K),!0}function b(k,K){for(var ee of(r.Y.assertValue(k,"list"),r.Y.assertValue(K,"value"),k))if(ee===K)return!1;return k.push(K),!0}function M(k){return c(this,k)}function V(k){if(k)for(;k.length>0;)k.pop()}function P(k,K,ee){var Q=k[K];k[K]=k[ee],k[ee]=Q}function N(k,K,ee){return _.some(k,Q=>ee(Q,K))}function I(k){r.Y.assertValue(k,"obj");for(var K=k;null!=K;){if(_.isArray(K))return!0;K=Object.getPrototypeOf(K)}return!1}function O(k,K){r.Y.assertValue(k,"values"),r.Y.assertValue(K,"compareFunction");var ee=k.length;if(ee>=2)for(var Q=1;Q<ee;Q++)if(K(k[Q-1],k[Q])>0)return!1;return!0}function R(k,K){return r.Y.assertValue(k,"values"),r.Y.assertAnyValue(K,"descendingOrder"),O(k,K?(Q,J)=>J-Q:(Q,J)=>Q-J)}function W(k){return _.isArray(k)?k:[k]}function F(k){return _.uniqBy(k,K=>K.name).length===k.length}function U(k,K){r.Y.assertValue(k,"array");for(var ee,Q=0,J=k.length;Q<J;Q++){var X=k[Q],ne=K(X);X!==ne&&!ee&&(ee=d(k,Q)),ee&&ee.push(ne)}return ee||k}function B(k,K){r.Y.assertValue(k,"array");for(var ee,Q=0,J=k.length;Q<J;Q++){var X=k[Q],ne=K(X,Q),ae=1!==ne.length||ne[0]!==X;ae&&!ee&&(ee=d(k,Q)),ee&&(ae?ee.push(...ne||[]):ee.push(X))}return ee||k}function x(k,K){r.Y.assertValue(k,"array");for(var ee,Q=0,J=k.length;Q<J;Q++){var X=k[Q],ne=K(X,Q);!ne&&!ee&&(ee=d(k,Q)),ee&&ne&&ee.push(X)}return ee||k}function A(k,K,ee){return _.isEmpty(k)||_.isEmpty(K)?_.isEmpty(k)&&_.isEmpty(K):k.length===K.length&&function(k,K,ee){var Q=new Array(K.length);for(var J of k){for(var X=!1,ne=0;ne<K.length;ne++)if(!Q[ne]&&ee(J,K[ne])){X=!0,Q[ne]=!0;break}if(!X)return!1}return!0}(k,K,ee)}function L(k,K){var ee=_.findIndex(k,K);if(-1!==ee){var Q=k[ee];k.splice(ee,1),k.push(Q)}}function H(k,K,ee){if(_.isEmpty(k)||_.isEmpty(K))return[];for(var Q=[],J=0;J<=k.length;J++){Q[J]=[];for(var X=0;X<=K.length;X++)Q[J][X]=0===J||0===X?0:ee(k[J-1],K[X-1])?Q[J-1][X-1]+1:Math.max(Q[J-1][X],Q[J][X-1])}for(var ne=[],ae=Q[k.length][K.length],oe=k.length,Me=K.length;oe>0&&Me>0;)ee(k[oe-1],K[Me-1])?(ne[ae-1]=k[oe-1],oe--,Me--,ae--):Q[oe-1][Me]>Q[oe][Me-1]?oe--:Me--;return ne}function Z(k,K){r.Y.assertValue(k,"dictionary");for(var ee,Q=Object.getOwnPropertyNames(k),J=0,X=Q.length;J<X;J++){var ne=Q[J],ae=k[ne],oe=K(ne,ae);ae!==oe&&!ee&&(ee=_.pick(k,d(Q,J))),ee&&(ee[ne]=oe)}return ee||k}},879460:function(me,j,e){e.d(j,{C8:function(){return v},F9:function(){return c},Hk:function(){return o},JM:function(){return g},KE:function(){return C},Kg:function(){return u},Lu:function(){return s},O4:function(){return n},PJ:function(){return l},T5:function(){return h},Zf:function(){return f},eo:function(){return t},mh:function(){return m},qQ:function(){return p},r8:function(){return E},vj:function(){return d},zN:function(){return a}});var r=e(785463),i=e(51161);function a(D){return!(!D||!D.performanceActivities)}class t extends Error{constructor(b){super(b),Object.setPrototypeOf(this,new.target.prototype)}}class l extends t{constructor(b){super(b?.code),this.clientError=b}}var g="Client Error Code",n="Error Code",d="Error Details",s="HTTP Request Id",h="Job Id",o="OData Error Message",v="Stack Trace",m="QueryCacheMissError";class p{constructor(b){this.code=b,this.ignorable=!1,r.Y.assertValue(b,"code")}getDetails(b){return{resourceKey:"ClientError_UnknownClientErrorKey",message:b.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:b.get("ClientError_UnknownClientErrorKey"),errorInfoValue:b.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:g,errorInfoValue:this.code}]}}}var y={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:i.Qs.LearnMore}},S={RLSNotAuthorizedForModel:y,NotAuthorizedForImpersonation:y,TokenExpired:{localizedMessage:"ClientError_TokenExpired"}};function C(D){return null!=D&&void 0!==D.code&&void 0!==D.ignorable&&void 0!==D.requestId&&void 0!==D.getDetails}class u{constructor(b,T,M,V,w){this.statusCode=b,this.httpRequestId=T,this.detailedErrorCode=M,this.detailedMessage=V,this.source=w,r.Y.assertValue(b,"httpStatusCode")}get code(){return this.detailedErrorCode||"HttpClientError"}get ignorable(){return!1}get requestId(){return this.httpRequestId}get httpStatusCode(){return this.statusCode}getDetails(b){var T=this.detailedErrorCode&&S[this.detailedErrorCode];if(T){var M=T.localizedMessage,V=T.additionalInfoKey||"DsrError_Key",w=T.additionalInfoValue||M||"DsrError_UnknownErrorValue",P=T.helpLinkInfo;return{resourceKey:V,message:M?b.get(M):null,displayableErrorInfo:[{errorInfoKey:b.get(V),errorInfoValue:b.get(w)}],debugErrorInfo:[],helpLink:P&&P.helpLink,helpLinkType:P&&P.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(b)}getGenericErrorDetails(b){var T={resourceKey:"DsrError_Key",message:b.get("ServerError_NetworkConnectionIssue"),displayableErrorInfo:[{errorInfoKey:b.get("DsrError_Key"),errorInfoValue:b.get("DsrError_UnknownErrorValue")},{errorInfoKey:b.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:s,errorInfoValue:this.httpRequestId},{errorInfoKey:g,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:d,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:n,errorInfoValue:this.detailedErrorCode}),T}}var E=(()=>{class D{constructor(T){this.debugInfo=T,this.code=D.Code,this.ignorable=!0}getDetails(T){return{message:"",displayableErrorInfo:[]}}}return D.Code="IgnorableClientError",D})();class c extends E{constructor(b){super("QueryCancellationClientError: "+b),this.cancellationSource=b}get queryCancellationSource(){return this.cancellationSource}}class f{constructor(){this.errorCode=m}get code(){return this.errorCode}get ignorable(){return!1}getDetails(b){return{message:b.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:b.get("ServiceError_QueryExecutionRequired"),errorInfoValue:b.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:b.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:g,errorInfoValue:this.code}]}}}},618644:function(me,j,e){e.d(j,{AZ:function(){return u},Bt:function(){return M},IO:function(){return l},KY:function(){return b},Ko:function(){return h},Lo:function(){return S},NN:function(){return a},R3:function(){return I},Te:function(){return N},Zb:function(){return t},e$:function(){return s},e3:function(){return V},fh:function(){return E},j$:function(){return c},p8:function(){return p},qI:function(){return o},xq:function(){return P},yS:function(){return m},zO:function(){return y}});var r=e(785463),i=e(190846);function a(O,R){if(0===R)return O;var W=l(O);if(W){var F=g(W);if(F){var U=function(O,R){var W=O.H+R;return{H:W>1?W-1:W,S:O.S,V:O.V}}(F,R);if(U){var B=n(U);if(B)return y(B)}}}}function t(O){var R=l(O);if(R)return y(R)}function l(O){if(O.indexOf("#")>=0){if(7===O.length){var R=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);return null==R||R.length<4?void 0:{R:parseInt(R[1],16),G:parseInt(R[2],16),B:parseInt(R[3],16)}}if(4===O.length){var W=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(O);return null==W||W.length<4?void 0:{R:parseInt(W[1]+W[1],16),G:parseInt(W[2]+W[2],16),B:parseInt(W[3]+W[3],16)}}}else{if(O.indexOf("rgb(")>=0){var F=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(O);return null==F||F.length<4?void 0:{R:parseInt(F[1],10),G:parseInt(F[2],10),B:parseInt(F[3],10)}}if(O.indexOf("rgba(")>=0){var U=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(O);return null==U||U.length<5?void 0:{R:parseInt(U[1],10),G:parseInt(U[2],10),B:parseInt(U[3],10),A:parseFloat(U[4])}}}}function g(O){if(O){var R,W,F=O.R/255,U=O.G/255,B=O.B/255,x=Math.min(F,Math.min(U,B)),A=Math.max(F,Math.max(U,B)),Y=A-x;return 0===A||0===Y?(R=0,W=0):(R=Y/A,W=F===A?(U-B)/Y:U===A?2+(B-F)/Y:4+(F-U)/Y),(W/=6)<0&&(W+=1),{H:W,S:R,V:A}}}function n(O){var R,W,F,A,L,Y,z,H,Z,B=O.S,x=O.V;if(0===B)R=x,W=x,F=x;else switch(A=x*(1-B),L=x*(1-B*(z=(Z=6*O.H)-(H=Math.floor(Z)))),Y=x*(1-B*(1-z)),H){case 0:R=x,W=Y,F=A;break;case 1:R=L,W=x,F=A;break;case 2:R=A,W=x,F=Y;break;case 3:R=A,W=L,F=x;break;case 4:R=Y,W=A,F=x;break;case 5:R=x,W=A,F=L;break;default:return void r.Y.assertFail("unexpected")}return{R:Math.floor(255*R),G:Math.floor(255*W),B:Math.floor(255*F)}}function s(O,R){var W=Math.floor(R);return{R:Math.max(0,O.R-W),G:Math.max(0,O.G-W),B:Math.max(0,O.B-W)}}function h(O,R){return O.A=R,O}function o(O){var R=l(O);if(R)return function(O){return _.isNumber(O.A)?Math.round(100*(1-O.A)):0}(R)}function m(O){return 1-(O??0)/100}function p(O){return null==O.A?"rgb("+O.R+","+O.G+","+O.B+")":"rgba("+O.R+","+O.G+","+O.B+","+O.A+")"}function y(O){return"#"+T(O.R)+T(O.G)+T(O.B)}function S(O){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(O)}function u(O){return/^#[0-9a-f]{6}$/i.test(O)}function E(O){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(O)}function c(O,R,W){var F=l(O),U=l(W);if(F&&U)return y(function(O,R,W){return R=(0,i.hA)(R,0,1),{R:D(O.R,R,W.R),G:D(O.G,R,W.G),B:D(O.B,R,W.B)}}(F,R,U))}function D(O,R,W){return R=(0,i.hA)(R,0,1),O=(0,i.hA)(O,0,255),W=(0,i.hA)(W,0,255),Math.round(R*O+(1-R)*W)}function b(O,R,W){var F=g(O);if(F){(R+W>1||R<=0||W<=0)&&(r.Y.assert(()=>!1,"Invalid lumianceThreshold and highlightColor adjusting delta."),R=.8,W=.2),F.V=F.V<R?F.V+W:F.V-W;var U=n(F);if(U)return y(U)}}function T(O){var W=(0,i.hA)(O,0,255).toString(16).toUpperCase();return 1===W.length?"0"+W:W}function M(O,R,W){r.Y.assert(()=>O.length===R.length,"createLinearColorScale - domain and range must be the same size"),r.Y.assert(()=>O.length>1,"createLinearColorScale - domain and range must contain at least 2 values");var F=R.map(U=>l(U));return U=>{if(null==U&&(U=0),!isNaN(U)){if(W){var B=_.last(O);if(null==B||U>=B)return _.last(R);if(U<=O[0])return R[0]}for(var x,A,L,Y,z=1,H=O.length;z<H;z++){if(A=O[z],(x=O[z-1])===Number.NEGATIVE_INFINITY&&isNaN(A))return R[z];if(isNaN(x)||isNaN(A))return;if(U===A)return R[z];if(U>=x&&U<=A){L=F[z-1],Y=F[z];break}}if(void 0!==x&&void 0!==A&&void 0!==L&&void 0!==Y)return y({R:w(U,x,A,L.R,Y.R),G:w(U,x,A,L.G,Y.G),B:w(U,x,A,L.B,Y.B)})}}}function V(O,R=.25){r.Y.assert(()=>R>0&&R<=.5,"valueOffset must be positive and less than 0.5");var F=g(l(O));if(F){F.V=F.V>1-R?1-R:F.V<R?R:F.V;var U=_.clone(F),B=_.clone(F);U.V=Math.min(F.V+R,1),B.V=Math.max(F.V-R,0);var x=n(U),A=n(B);if(x&&A)return M([0,1],[y(x),y(A)],!0)}}function w(O,R,W,F,U){return R===Number.NEGATIVE_INFINITY&&W===Number.POSITIVE_INFINITY?Math.round((U+F)/2):R===Number.NEGATIVE_INFINITY?U:W===Number.POSITIVE_INFINITY?F:Math.round(F+(O-R)*(U-F)/(W-R))}function P(O,R){var W=parseInt(O.slice(1),16),F=R<0?0:255,U=R<0?-1*R:R,B=W>>16,x=W>>8&255,A=255&W;return"#"+(16777216+65536*(Math.round((F-B)*U)+B)+256*(Math.round((F-x)*U)+x)+(Math.round((F-A)*U)+A)).toString(16).slice(1)}var N={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function I(O){return r.Y.assertValue(O,"getWebColorValue - colorName"),N[O.toLocaleLowerCase()]}},587308:function(me,j,e){e.d(j,{DA:function(){return t},Ky:function(){return a},TA:function(){return l},q6:function(){return i}});var r=e(391059),i=r.s.foreground,a=r.s.foregroundDark,t=r.s.background,l=r.s.backgroundNeutral},219481:function(me,j,e){function r(l,g){!0!==l&&t(g||"condition: "+l)}function i(l,g){null==l&&t(g||"condition: "+l)}function t(l){throw new Error("Contract check failed: "+l)}e.d(j,{Su:function(){return i},fJ:function(){return t},z6:function(){return r}})},233514:function(me,j,e){e.d(j,{ih:function(){return a},io:function(){return l},x4:function(){return t}});var a=window.escape,t=window.unescape;function l(g){}},558109:function(me,j,e){function r(){return window.powerbi||(window.powerbi={}),window.powerbi}function i(){var l=r();return l.common||(l.common={}),l.common}function a(){var l=r();return l.visuals||(l.visuals={}),l.visuals}function t(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}e.d(j,{N0:function(){return r},RI:function(){return t},iE:function(){return i},qV:function(){return a}})},51161:function(me,j,e){e.d(j,{By:function(){return a},Qs:function(){return t},gf:function(){return r},pG:function(){return i}});var r=function(l){return l.PowerBI="PowerBI",l.External="External",l.User="User",l}({}),i=function(l){return l.NewQuery="NewQuery",l.OnDestroy="OnDestroy",l.PausedQuery="PausedQuery",l}({}),a=function(l){return l[l.VisualNotSupported=1]="VisualNotSupported",l}({}),t=function(l){return l[l.GetHelp=0]="GetHelp",l[l.LearnMore=1]="LearnMore",l}({})},416341:function(me,j,e){e.d(j,{H1:function(){return l},Hx:function(){return t},cp:function(){return g}});var r='"',i=", ";class a{constructor(h){this.families=h}get family(){return this.getFamily()}getFamily(){return this.families.join(i)}get css(){return this.getCSS()}getCSS(){return this.families?this.families.map(h=>h.indexOf(" ")>-1?`'${h}'`:h).join(", "):null}}var t={light:new a(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new a(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new a(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new a(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new a(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new a(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new a(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new a(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new a(["PowerVisuals"])},l={"Segoe UI Light":t.light,"Segoe UI Semilight":t.semilight,"Segoe UI":t.regular,"Segoe UI Semibold":t.semibold,"Segoe (Bold)":t.bold,"Segoe UI Bold":t.bold,DIN:t.regularSecondary,"DIN Light":t.lightSecondary,Heading:t.light,Body:t.regular};function g(s,h=!0){return null==s||""===s?s:-1===s.indexOf(",")?-1===s.indexOf(" ")?s:h?function(s){if(s)return r+s.replace(/['"]+/g,"")+r}(s):function(s){if(s)return s.replace(/['"]+/g,"")}(s):s.split(",").map(v=>g(v.trim(),h)).join(i)}},292812:function(me,j,e){e.d(j,{r:function(){return r}});class r{constructor(a,t,l,g){this.left=a||0,this.top=t||0,this.width=l||0,this.height=g||0}}},400308:function(me,j,e){e.d(j,{Y0:function(){return o},Yf:function(){return n},ZJ:function(){return v},aI:function(){return a}});var r=e(804477);function a(m,p){return null!=m&&null!=p&&m.x===p.x&&m.y===p.y}function n(m,p){if(null===m||null===p)return null;var y=p.x-m.x,S=p.y-m.y;return Math.sqrt(y*y+S*S)}function o(m,p,y){var S=(p.y-m.y)*(y.x-p.x)-(p.x-m.x)*(y.y-p.y);return 0===S?r.t.Colinear:S>0?r.t.Clockwise:r.t.Counterclockwise}function v(m,p,y){return y.x<=Math.max(m.x,p.x)&&y.x>=Math.min(m.x,p.x)&&y.y<=Math.max(m.y,p.y)&&y.y>=Math.min(m.y,p.y)}},39634:function(me,j,e){function C(u,E){if(u&&E)return{x:E.x-u.x,y:E.y-u.y}}e.d(j,{w1:function(){return C}})},935304:function(me,j,e){e.d(j,{Iu:function(){return W},Ne:function(){return F},O3:function(){return s},RV:function(){return h},Re:function(){return C},UD:function(){return u},Uc:function(){return V},WQ:function(){return S},aI:function(){return v},l7:function(){return R},lA:function(){return d},o8:function(){return m},oF:function(){return o},pG:function(){return g},qL:function(){return w},sQ:function(){return n},y$:function(){return P}});var r=e(785463),i=e(190846);function g(U){return U.left+U.width}function n(U){return U.top+U.height}function d(U){return{x:U.left,y:U.top}}function s(U){return{x:U.left+U.width,y:U.top}}function h(U){return{x:U.left,y:U.top+U.height}}function o(U){return{x:U.left+U.width,y:U.top+U.height}}function v(U,B){return null!=B&&U.left===B.left&&U.top===B.top&&U.width===B.width&&U.height===B.height}function m(U){return null!==U?{left:U.left,top:U.top,width:U.width,height:U.height}:null}function S(U,B){return r.Y.assertValue(U,"rect"),r.Y.assertValue(B,"rect2"),{left:U.left+B.left,top:U.top+B.top,height:U.height+B.height,width:U.width+B.width}}function C(U,B){return r.Y.assertValue(U,"rect"),r.Y.assertValue(B,"rect2"),{left:U.left-B.left,top:U.top-B.top,height:U.height-B.height,width:U.width-B.width}}function u(U,B){var x=m(U);return x?(B&&(x.left-=B.left,x.top-=B.top,x.width+=B.left+B.right,x.height+=B.top+B.bottom),x):null}function V(U,B,x=!1){return null!==U&&null!==B&&(x?(0,i.Yt)(U.left,B.x)&&(0,i.Yt)(B.x,U.left+U.width)&&(0,i.Yt)(U.top,B.y)&&(0,i.Yt)(B.y,U.top+U.height):(0,i.D9)(U.left,B.x)&&(0,i.D9)(B.x,U.left+U.width)&&(0,i.D9)(U.top,B.y)&&(0,i.D9)(B.y,U.top+U.height))}function w(U,B){return!(!U||!B||B.left>U.left+U.width||B.left+B.width<U.left||B.top>U.top+U.height||B.top+B.height<U.top)}function P(U,B){if(!U)return B;if(!B)return U;var x=Math.max(U.left,B.left),A=Math.max(U.top,B.top),L=Math.min(U.left+U.width,B.left+B.width),Y=Math.min(U.top+U.height,B.top+B.height);return x<=L&&A<=Y?{left:x,top:A,width:L-x,height:Y-A}:{left:0,top:0,width:0,height:0}}function R(U){return{x:U.left+U.width/2,y:U.top+U.height/2}}function W(U,B){var x=B.width||0,A=B.height||0;U.left+U.width>x&&(U.left=Math.max(x-U.width,0)),U.top+U.height>A&&(U.top=Math.max(A-U.height,0)),U.left=Math.max(0,U.left),U.top=Math.max(0,U.top)}function F(U,B,x,A){return void 0!==U&&void 0!==B&&void 0!==x&&void 0!==A&&(r.Y.assert(()=>U<=B,"Lower bound for range should not be greater than upper bound."),r.Y.assert(()=>x<=A,"Lower bound for range should not be greater than upper bound."),(0,i.D9)(U,A)&&(0,i.D9)(x,B))}},137303:function(me,j,e){e.d(j,{t:function(){return t}});var r=e(804477),i=e(400308),a=e(935304);class t{constructor(g){g&&(this.polygonPoints=this.convertArrayPathToPoints(g))}static fromPolygonPoints(g){var n=new t(null);return n.polygonPoints=g,n}absoluteCentroid(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid}absoluteBoundingRect(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect}contains(g){var d={x:g.left+g.width,y:g.top},s={x:g.left,y:g.top+g.height},h={x:g.left+g.width,y:g.top+g.height};return this.inside({x:g.left,y:g.top})&&this.inside(d)&&this.inside(s)&&this.inside(h)}conflicts(g){if(!this.isConflictWithBoundingBox(g))return!1;var d={x:g.left+g.width/2,y:g.top},s={x:g.left+g.width,y:g.top},h={x:g.left,y:g.top+g.height},o={x:g.left+g.width/2,y:g.top+g.height},v={x:g.left+g.width,y:g.top+g.height},m={x:g.left,y:g.top+g.height/2},p={x:g.left+g.width,y:g.top+g.height/2};return this.inside({x:g.left,y:g.top})||this.inside(d)||this.inside(s)||this.inside(h)||this.inside(o)||this.inside(v)||this.inside(m)||this.inside(p)}lineIntersectionPoint(g,n){for(var d=0;d<this.polygonPoints.length;d++){var o=this.getLineIntersection(g,n,this.polygonPoints[d],d===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[d+1]);if(null!==o)return o}return null}static calculateAbsolutePolygonArea(g){var n,d=1,s=0;for(n=0;n<g.length;n++)s+=g[n].x*g[d].y-g[d].x*g[n].y,d=(d+1)%g.length;return.5*s}overlapPath(g){if(this.inside({x:g[0],y:g[1]}))return!0;var n=new t(g);if(n.inside(this.polygonPoints[0]))return!0;for(var d=0;d<this.polygonPoints.length;d++)if(n.lineIntersectionPoint(this.polygonPoints[d],this.polygonPoints[(d+1)%this.polygonPoints.length]))return!0;return!1}inside(g){for(var n=g.x,d=g.y,s=!1,h=0,o=this.polygonPoints.length-1;h<this.polygonPoints.length;o=h++){var v=this.polygonPoints[h].x,m=this.polygonPoints[h].y,y=this.polygonPoints[o].y;m>d!=y>d&&n<(this.polygonPoints[o].x-v)*(d-m)/(y-m)+v&&(s=!s)}return s}static translateX(g,n){for(var d=new Float64Array(2*g.polygonPoints.length),s=0;s<g.polygonPoints.length;s++)d[2*s]=g.polygonPoints[s].x+n,d[2*s+1]=g.polygonPoints[s].y;return new t(d)}static polygonBoundsOverlap(g,n){var d=(0,a.Ne)(t.getPolyBoundLeft(g),t.getPolyBoundRight(g),t.getPolyBoundLeft(n),t.getPolyBoundRight(n)),s=(0,a.Ne)(t.getPolyBoundLower(g),t.getPolyBoundUpper(g),t.getPolyBoundLower(n),t.getPolyBoundUpper(n));return d&&s}static circleRectangleOverlap(g,n,d){var s=Math.max(g.left,Math.min(n.x,g.right)),h=Math.min(g.bottom,Math.max(n.y,g.top)),o=s-n.x,v=h-n.y;return o*o+v*v<=d*d}static linesIntersect(g,n,d,s,h=!0){var o=(0,i.Y0)(g,n,d),v=(0,i.Y0)(g,n,s),m=(0,i.Y0)(d,s,g),p=(0,i.Y0)(d,s,n);return o!==v&&m!==p||!!h&&!!(o===r.t.Colinear&&(0,i.ZJ)(g,n,d)||v===r.t.Colinear&&(0,i.ZJ)(g,n,s)||m===r.t.Colinear&&(0,i.ZJ)(d,s,g)||p===r.t.Colinear&&(0,i.ZJ)(d,s,n))}static resize(g,n){if(0===n)return g;for(var d=t.calculateAbsolutePolygonArea(g.polygonPoints)>0,h=_.clone(n>0&&!0===d||n<0&&!1===d?g.polygonPoints.reverse():g.polygonPoints),o=g.absoluteCentroid(),v=[],m=0;m<h.length;m++){var p=h[m],y=h[(m+1)%h.length],S=y.y-p.y,C=void 0;0!==S&&(C=-(y.x-p.x)/S);var u=0;_.isUndefined(C)||(u=(p.y<y.y?-1:1)*Math.sqrt(n*n/(1+C*C)));var E=0;0===u?E=(p.x>y.x?-1:1)*n:_.isUndefined(C)||(E=C*u);var c={x:p.x+u,y:p.y+E},f={x:0,y:0};0===C?(f.x=c.x,f.y=c.y+10):_.isUndefined(C)||(f.x=c.x+10,f.y=c.y-10/C);var D=(c.x-f.x)*(o.y-p.y)-(c.y-f.y)*(o.x-p.x);if(0!==D){var b={x:((c.x*f.y-c.y*f.x)*(o.x-p.x)-(c.x-f.x)*(o.x*p.y-o.y*p.x))/D,y:((c.x*f.y-c.y*f.x)*(o.y-p.y)-(c.y-f.y)*(o.x*p.y-o.y*p.x))/D};isFinite(b.x)&&isFinite(b.y)&&v.push(b)}}return t.fromPolygonPoints(v)}static getPolyBoundLeft(g){return _.minBy(g.polygonPoints,n=>n.x)?.x}static getPolyBoundRight(g){return _.maxBy(g.polygonPoints,n=>n.x)?.x}static getPolyBoundUpper(g){return _.maxBy(g.polygonPoints,n=>n.y)?.y}static getPolyBoundLower(g){return _.minBy(g.polygonPoints,n=>n.y)?.y}isConflictWithBoundingBox(g){return(0,a.qL)(this.absoluteBoundingRect(),g)}calculatePolygonCentroid(){var g,n,d,s,h,o;for(g=t.calculateAbsolutePolygonArea(this.polygonPoints),d=s=0,o=1,h=0;h<this.polygonPoints.length;h++)d+=(this.polygonPoints[h].x+this.polygonPoints[o].x)*(n=this.polygonPoints[h].x*this.polygonPoints[o].y-this.polygonPoints[o].x*this.polygonPoints[h].y),s+=(this.polygonPoints[h].y+this.polygonPoints[o].y)*n,o=(o+1)%this.polygonPoints.length;return{x:d/=6*g,y:s/=6*g}}calculateBoundingRect(){var g=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY;for(var h of this.polygonPoints)h.x<g?g=h.x:h.x>d&&(d=h.x),h.y<n?n=h.y:h.y>s&&(s=h.y);return{left:g,top:n,width:d-g,height:s-n}}getLineIntersection(g,n,d,s){var h=g.x,o=g.y,p=d.x,y=d.y,u=n.x-h,E=n.y-o,c=s.x-p,f=s.y-y,D=(-E*(h-p)+u*(o-y))/(-c*E+u*f),b=(c*(o-y)-f*(h-p))/(-c*E+u*f);return D>=0&&D<=1&&b>=0&&b<=1?{x:h+b*u,y:o+b*E}:null}convertArrayPathToPoints(g){for(var n=[],d=0;d<g.length;d+=2)n.push({x:g[d],y:g[d+1]});return n}}},832638:function(me,j,e){e.d(j,{$e:function(){return d},Zp:function(){return g},ff:function(){return n},kX:function(){return t},rh:function(){return l},uT:function(){return h}});var r=e(879460),i=e(51161),a=e(359315),t="ServerError_";function l(o,v,m){if(!v)return o;for(var p of v){var y=m.getOptional(t+p.code),S=p.detail.value;0===p.detail.type&&(S=m.get(t+S)),o.displayableErrorInfo.push({errorInfoKey:y||p.code,errorInfoValue:S})}return o}function g(o,v,m,p,y){var S=o.debugErrorInfo=o.debugErrorInfo||[];return y&&S.push({errorInfoKey:r.Lu,errorInfoValue:y}),v&&S.push({errorInfoKey:r.JM,errorInfoValue:v}),m&&S.push({errorInfoKey:r.vj,errorInfoValue:m}),p&&S.push({errorInfoKey:r.C8,errorInfoValue:p}),o}function n(o,v){return{message:o.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:o.get("ServiceError_CannotLoadVisual"),errorInfoValue:v.message}]}}function d(o,v,m,p){var y,S={};if(m)if(_.isArray(m))for(var C of m)S[C.Key]=C.Value;else S=m;return y={message:s(o,v,S),displayableErrorInfo:[]},p&&l(y,p,o),y}function s(o,v,m){if(!v)return"";var p,y=o.get(t+v);return y&&(p=y.replace(/\{\s*([^}\s]+)\s*\}/g,function(S,C,u,E){return m[C]})),p}function h(o,v){var C,m="",p="",y="",S="",u=!1;switch(v.errorCode){case a.Np:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("PremiumRequired_TitleText"),y=o.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),u=!0;break;case a.GT:m=o.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),p=o.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),y=s(o,"LargeModelMovedAcrossRegions",v.parameters),S="https://aka.ms/moving-large-datasets",u=!0;break;case a.lv:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelFetchingFailureKey"),y=o.get("DsrError_NoPermissionDueToRLSGroupMessage"),u=!0;break;case a.R_:case a._b:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelFetchingFailureKey"),y=o.get("DsrError_CanNotRetrieveModelMessage"),u=!0;break;case a.iQ:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelFetchingFailureKey"),y=o.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),u=!0;break;case a.Gm:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelFetchingFailureKey"),y=o.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),u=!0;break;case a.kq:m=o.get("ServiceError_CannotLoadVisual"),p=o.get("ServiceError_AuthenticationErrorKey"),y=o.get("ServiceError_AuthenticationErrorValue"),u=!0;break;case a.tv:m=o.get("ServiceError_CannotLoadVisual"),p=o.get("ServiceError_AuthenticationErrorKey"),y=o.get("ServiceError_WindowsAuthNotSupportedErrorValue"),u=!0;break;case a.$o:m=o.get("ServiceError_CannotLoadVisual"),p=o.get("ServiceError_AuthenticationErrorKey"),y=o.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),u=!0;break;case a.oK:m=o.get("UploadPowerBICompanion_AccessDatasetWarning"),u=!0;break;case a.y7:m=o.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),p=o.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),y=o.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),u=!0;break;case a.GI:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("PremiumRequired_TitleText"),y=o.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),u=!0;break;case a.RD:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelCannotLoad"),y=o.get("ServerError_CustomerKeyNotAccessible_Report"),u=!0;break;case a.Io:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelCannotLoad"),y=o.get("ServerError_CustomerKeyVaultError_Report"),u=!0;break;case a.f3:m=o.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),p=o.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),y=o.get("ServiceError_CapacityOverloadedMessage"),S="https://aka.ms/AboutFabricCapacity",u=!0,C="Capacity_Limit_Exceeded_LearnMore"}if(!u)switch(v.statusCode){case a.Lj.CsdlConvertXmlToConceptualSchema:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelConvertFailureKey"),y=o.get("ServiceError_ModelConvertFailureValue");break;case a.Lj.CsdlCreateClientSchema:m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelCreationFailureKey"),y=o.get("ServiceError_ModelCreationFailureValue");break;case a.Lj.CsdlFetching:case a.Lj.GetSchemaDataSetError:if(m=o.get("ServiceError_ModelCannotLoad"),p=o.get("ServiceError_ModelCannotLoad"),v.errorDetails){var E=_.find(v.errorDetails,f=>"ModelMode"===f.code);if(E)switch(E.detail.value){case"Internal":y=o.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":y=o.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":y=o.get("ServiceError_ModelConnectFailurePBIServiceValue")}}y||(y=o.get("ServiceError_ModelFetchingFailureValue"));break;case a.Lj.ExecuteSemanticQueryError:m=o.get("ServiceError_CannotLoadVisual"),p=o.get("ServiceError_ExecuteSemanticQueryErrorKey"),y=o.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case a.Lj.ExecuteSemanticQueryInvalidStreamFormat:m=o.get("ServiceError_CannotLoadVisual"),p=o.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),y=o.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:m=o.get("ServiceError_GeneralError"),p=o.get("ServiceError_GeneralErrorKey"),y=o.get("ServiceError_GeneralErrorValue")}var c={message:m,displayableErrorInfo:[{errorInfoKey:p,errorInfoValue:y}]};return v.errorCode===a.f3&&(c.helpLinkType=i.Qs.LearnMore),C&&(c.helpLinkOverrideText=C),S&&(c.helpLink=S),c}},140714:function(me,j,e){e.d(j,{c:function(){return l}});var r=e(785463),t={conditionalFormattingDialogIcons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}},mapIcons:{Bicycle:{svgId:"Bicycle",description:{resourceKey:"Icon_Bicycle"}},Airplane:{svgId:"Airplane",description:{resourceKey:"Icon_Airplane"}},Truck:{svgId:"Truck",description:{resourceKey:"Icon_Truck"}},Car:{svgId:"Car",description:{resourceKey:"Icon_Car"}},Ship:{svgId:"Ship",description:{resourceKey:"Icon_Ship"}},Medical_Briefcase:{svgId:"Medical_Briefcase",description:{resourceKey:"Icon_Medical_Briefcase"}},Doctor:{svgId:"Doctor",description:{resourceKey:"Icon_Doctor"}},Tree:{svgId:"Tree",description:{resourceKey:"Icon_Tree"}},Circle:{svgId:"Circle",description:{resourceKey:"Icon_Circle"}},Square:{svgId:"Square",description:{resourceKey:"Icon_Square"}},Triangle:{svgId:"Triangle",description:{resourceKey:"Icon_Triangle"}},Diamond:{svgId:"Diamond",description:{resourceKey:"Icon_Diamond"}},Cross:{svgId:"Cross",description:{resourceKey:"Icon_Cross"}},Pin:{svgId:"Pin",description:{resourceKey:"Icon_Pin"}},Location:{svgId:"Location",description:{resourceKey:"Icon_Location"}},Location_Checkmark:{svgId:"Location_Checkmark",description:{resourceKey:"Icon_Location_Checkmark"}},Location_Add:{svgId:"Location_Add",description:{resourceKey:"Icon_Location_Add"}},Location_Arrow:{svgId:"Location_Arrow",description:{resourceKey:"Icon_Location_Arrow"}},Home:{svgId:"Home",description:{resourceKey:"Icon_Home"}},Flag:{svgId:"Flag",description:{resourceKey:"Icon_Flag"}},Dismiss:{svgId:"Dismiss",description:{resourceKey:"Icon_Dismiss"}},Subway:{svgId:"Subway",description:{resourceKey:"Icon_Subway"}},Signal:{svgId:"Signal",description:{resourceKey:"Icon_Signal"}},Tower_Signal:{svgId:"Tower_Signal",description:{resourceKey:"Icon_Tower_Signal"}},Briefcase:{svgId:"Briefcase",description:{resourceKey:"Icon_Briefcase"}},Building:{svgId:"Building",description:{resourceKey:"Icon_Building"}}}};function l(g){return g in t||r.Y.assertFail(`Icon sheet "${g}" not found in iconRegistry`),{iconSheet:g,themeIcons:t[g]}}},253261:function(me,j,e){e.d(j,{t:function(){return i}});var i=typeof window.performance<"u"&&window.performance.now&&window.performance.timeOrigin?()=>window.performance.now()+window.performance.timeOrigin:Date.now},736668:function(me,j,e){e.d(j,{D:function(){return g},bQ:function(){return n},eH:function(){return l}});var r=e(51161),i=e(785463),a=e(832638),t=e(359315),l=(()=>{class d{get code(){return this.m_serviceError.errorCode||d.codeName}get ignorable(){return!1}get requestId(){return this.httpRequestId}set requestId(h){this.httpRequestId=h}get source(){var h=this.m_serviceError.exceptionCulprit;if(null!=h)switch(h){case t.iw:case t.Nf:return r.gf.PowerBI;case t.eZ:return r.gf.External;case t.Qw:return r.gf.User;default:return i.Y.assertFail("exceptionCulprit: unrecognized value"),r.gf.PowerBI}}constructor(h){this.message=h.message?h.message:"",this.m_serviceError=h}getDetails(h){var o;return o=this.m_serviceError.statusCode===t.Lj.ExecuteSemanticQueryTransformError?(0,a.ff)(h,this.m_serviceError):(0,a.uT)(h,this.m_serviceError),this.m_serviceError.errorDetails&&(0,a.rh)(o,this.m_serviceError.errorDetails,h),(0,a.Zp)(o,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),o.source=this.source,o}}return d.codeName="ServiceErrorToClientError",d})();class g{constructor(s){this.innerError=s}get code(){return this.innerError.code}get ignorable(){return!1}get source(){var s=this.innerError["pbi.error"],h=s&&s.exceptionCulprit;if(null!=h)switch(h){case 0:return r.gf.PowerBI;case 2:return r.gf.External;case 1:return r.gf.User;default:return i.Y.assertFail("exceptionCulprit: unrecognized value"),r.gf.PowerBI}}getDetails(s){var h=this.innerError["pbi.error"];if(h){var o=(0,a.$e)(s,h.code,h.parameters,h.details);return o.source=this.source,o}}}var n=(()=>{class d{constructor(){}get code(){return d.Code}get ignorable(){return!1}get source(){return r.gf.User}getDetails(h){}}return d.Code="TooManyRequests",d})()},359315:function(me,j,e){e.d(j,{$o:function(){return o},GG:function(){return u},GI:function(){return V},GT:function(){return i},Gm:function(){return d},Io:function(){return P},Lj:function(){return O},Nf:function(){return b},Np:function(){return r},OF:function(){return S},Pu:function(){return c},Q3:function(){return y},Qw:function(){return T},RD:function(){return w},R_:function(){return t},V:function(){return N},W$:function(){return p},_b:function(){return g},cP:function(){return s},eZ:function(){return M},f3:function(){return I},fv:function(){return C},iQ:function(){return n},iw:function(){return D},kq:function(){return h},lv:function(){return a},my:function(){return l},oK:function(){return f},qA:function(){return m},tv:function(){return v},y7:function(){return E}});var r="PremiumFilesModelRequiresPremiumCapacity",i="LargeModelMovedAcrossRegions",a="rsAccessDeniedDueToRLSGroup",t="rsCannotRetrieveModel",l="RLSNotAuthorizedForModel",g="CannotRetrieveModelError",n="DMTS_NoGatewayWithAllDatasourcesToBindError",d="DM_GWPipeline_UnknownError",s="DM_GWPipeline_Gateway_GatewayUpgradeRequired",h="pbidAccessDenied",o="pbidWindowsAuthWindowsAuthImpersonationNotSupported",v="pbidWindowsAuthNotSupported",m="PowerBIAdomdErrorResponseExternal",p="PowerBIAdomdErrorResponseSystem",y="PowerBIAdomdErrorResponseUser",S="ConnectionThrottledDueToCapacityOverload",C="DatasourceNotFound",u="DatabaseDoesNotExistOrUserDoesNotHavePermission",E="InsecureLibraryLoadingPatchMissing",c="MaximumAllowableMemoryReached",f="PowerBIServiceLiveConnectModelNotFound",D="System",b="PowerBI",T="User",M="External",V="BYOKEncryptedModelRequiresPremiumCapacity",w="CustomerKeyNotAccessible",P="CustomerKeyVaultError",N="rsOrphanedModel",I="CapacityLimitExceeded",O=function(R){return R[R.GeneralError=0]="GeneralError",R[R.CsdlFetching=1]="CsdlFetching",R[R.CsdlConvertXmlToConceptualSchema=2]="CsdlConvertXmlToConceptualSchema",R[R.CsdlCreateClientSchema=3]="CsdlCreateClientSchema",R[R.ExecuteSemanticQueryError=4]="ExecuteSemanticQueryError",R[R.ExecuteSemanticQueryInvalidStreamFormat=5]="ExecuteSemanticQueryInvalidStreamFormat",R[R.ExecuteSemanticQueryTransformError=6]="ExecuteSemanticQueryTransformError",R[R.TranslateSemanticQueryInvalidStreamFormat=7]="TranslateSemanticQueryInvalidStreamFormat",R[R.TranslateSemanticQueryError=8]="TranslateSemanticQueryError",R[R.GetSchemaDataSetError=9]="GetSchemaDataSetError",R}({})},157912:function(me,j,e){e.d(j,{$u:function(){return n},BG:function(){return s},Oo:function(){return l},ls:function(){return i}});var r=e(558109);function i(){return(0,r.N0)().build}function l(){return(0,r.N0)().clientVersion}function n(){return(0,r.N0)().cvUrl}function s(){return(0,r.N0)().visualCDNBlobContainerUrl}},60049:function(me,j,e){e.d(j,{k:function(){return i}});var r=e(785463);function i(){var t={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"};class l{constructor(n){this.getLocalized=n,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}ensureCategoriesArePopulated(){if(this.GeotaggingString_Continent)return!0;var n=this.getLocalized,d=n("GeotaggingString_Continent");return null==d?(r.Y.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=d.toLowerCase(),this.GeotaggingString_Continents=n("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=n("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=n("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=n("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=n("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=n("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=n("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=n("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=n("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=n("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=n("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=n("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=n("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=n("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=n("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=n("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=n("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=n("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=n("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=n("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=n("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=n("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=n("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=n("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=n("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=n("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=n("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=n("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=n("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=n("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=n("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=n("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=n("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=n("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=n("GeotaggingString_Territories").toLowerCase(),!0)}isLongitudeOrLatitude(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(n)||this.isLatitude(n))}isGeographic(n){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(n)||this.isGeocodable(n))}isGeocodable(n){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(n)||this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPlace(n)||this.isPostalCode(n)||this.isTerritory(n))}isGeoshapable(n){return!!this.ensureCategoriesArePopulated()&&(this.isCity(n)||this.isContinent(n)||this.isCountry(n)||this.isCounty(n)||this.isStateOrProvince(n)||this.isPostalCode(n)||this.isTerritory(n)||this.isPlace(n)||this.isGeoshapableEnglish(n))}isGeoshapableEnglish(n){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(n)||this.isEnglishContinent(n)||this.isEnglishCountry(n)||this.isEnglishCounty(n)||this.isEnglishStateOrProvince(n)||this.isEnglishPostalCode(n)||this.isEnglishTerritory(n)||this.isEnglishPlace(n))}isAddress(n){return l.hasMatches(n,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])}isPlace(n){return l.hasMatches(n,[this.GeotaggingString_Place,this.GeotaggingString_Places])}isCity(n){return l.hasMatches(n,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])}isStateOrProvince(n){return l.hasMatches(n,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])}isCountry(n){return l.hasMatches(n,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])}isCounty(n){return l.hasMatches(n,[this.GeotaggingString_County,this.GeotaggingString_Counties])}isContinent(n){return l.hasMatches(n,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])}isPostalCode(n){var d=l.hasMatches(n,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&l.hasMatches(n,[this.GeotaggingString_Code])||l.hasMatches(n,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!d){var s=/\s+/,h=n.replace(s,"");d=l.hasMatches(h,[this.GeotaggingString_PostalCode.replace(s,""),this.GeotaggingString_PostalCodes.replace(s,""),this.GeotaggingString_ZipCode.replace(s,""),this.GeotaggingString_ZipCodes.replace(s,"")])}return d}isLongitude(n){return l.hasMatches(n,[this.GeotaggingString_Longitude])||l.hasMatches(n,[this.GeotaggingString_Longitude_Short],!0)||l.hasMatches(n,[this.GeotaggingString_Longitude_Short2],!0)}isLatitude(n){return l.hasMatches(n,[this.GeotaggingString_Latitude])||l.hasMatches(n,[this.GeotaggingString_Latitude_Short],!0)}isTerritory(n){return l.hasMatches(n,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])}static hasMatches(n,d,s){for(var h=/\W/,o=n.toLowerCase(),v=0,m=d.length;v<m;v++){var p=d[v].toLowerCase();if(s){var y=o.indexOf(p);if(y>-1){var S=void 0,C=void 0;if(S=C=!0,y-1>0&&(C=h.test(o[y-1])),y+p.length<o.length&&(S=h.test(o[y+p.length])),C&&S)return!0}}else if(o.indexOf(p)>-1)return!0}return!1}getFieldType(n){if(this.ensureCategoriesArePopulated()&&void 0!==n)return this.isLatitude(n)?"Latitude":this.isLongitude(n)?"Longitude":this.isPostalCode(n)?"PostalCode":this.isAddress(n)?"Address":this.isPlace(n)?"Place":this.isCity(n)?"City":this.isCountry(n)?"Country":this.isCounty(n)?"County":this.isStateOrProvince(n)?"StateOrProvince":this.isContinent(n)?"Continent":this.getEnglishFieldType(n)}getFieldTypeFromDescriptor(n){if(null!=n&&null!=n.geography){var d=n.geography;if(d.latitude)return"Latitude";if(d.longitude)return"Longitude";if(d.postalCode)return"PostalCode";if(d.address)return"Address";if(d.place)return"Place";if(d.city)return"City";if(d.country)return"Country";if(d.county)return"County";if(d.stateOrProvince)return"StateOrProvince";if(d.continent)return"Continent"}}isEnglishAddress(n){return l.hasMatches(n,[t.GeotaggingString_Address,t.GeotaggingString_Addresses,t.GeotaggingString_Street,t.GeotaggingString_Streets])}isEnglishPlace(n){return l.hasMatches(n,[t.GeotaggingString_Place,t.GeotaggingString_Places])}isEnglishCity(n){return l.hasMatches(n,[t.GeotaggingString_City,t.GeotaggingString_Cities,t.GeotaggingString_Town,t.GeotaggingString_Towns,t.GeotaggingString_Village,t.GeotaggingString_Villages])}isEnglishStateOrProvince(n){return l.hasMatches(n,[t.GeotaggingString_State,t.GeotaggingString_States,t.GeotaggingString_Province,t.GeotaggingString_Provinces,t.GeotaggingString_VRMBackCompat_StateOrProvince])}isEnglishCountry(n){return l.hasMatches(n,[t.GeotaggingString_Country,t.GeotaggingString_Countries,t.GeotaggingString_VRMBackCompat_CountryRegion])}isEnglishCounty(n){return l.hasMatches(n,[t.GeotaggingString_County,t.GeotaggingString_Counties])}isEnglishContinent(n){return l.hasMatches(n,[t.GeotaggingString_Continent,t.GeotaggingString_Continents])}isEnglishPostalCode(n){var d=l.hasMatches(n,[t.GeotaggingString_Post,t.GeotaggingString_Zip])&&l.hasMatches(n,[this.GeotaggingString_Code])||l.hasMatches(n,[t.GeotaggingString_PostalCode,t.GeotaggingString_PostalCodes,t.GeotaggingString_ZipCode,t.GeotaggingString_ZipCodes]);if(!d){var s=new RegExp("s");d=l.hasMatches(n,[t.GeotaggingString_PostalCode.replace(s,""),t.GeotaggingString_PostalCodes.replace(s,""),t.GeotaggingString_ZipCode.replace(s,""),t.GeotaggingString_ZipCodes.replace(s,"")])}return d}isEnglishLongitude(n){return l.hasMatches(n,[t.GeotaggingString_Longitude])||l.hasMatches(n,[t.GeotaggingString_Longitude_Short],!0)||l.hasMatches(n,[t.GeotaggingString_Longitude_Short2],!0)}isEnglishLatitude(n){return l.hasMatches(n,[t.GeotaggingString_Latitude])||l.hasMatches(n,[t.GeotaggingString_Latitude_Short],!0)}isEnglishTerritory(n){return l.hasMatches(n,[t.GeotaggingString_Territory,t.GeotaggingString_Territories])}getEnglishFieldType(n){if(null!=n){if(this.isEnglishLatitude(n))return"Latitude";if(this.isEnglishLongitude(n))return"Longitude";if(this.isEnglishPostalCode(n))return"PostalCode";if(this.isEnglishAddress(n))return"Address";if(this.isEnglishPlace(n))return"Place";if(this.isEnglishCity(n))return"City";if(this.isEnglishCountry(n))return"Country";if(this.isEnglishCounty(n))return"County";if(this.isEnglishStateOrProvince(n))return"StateOrProvince";if(this.isEnglishContinent(n))return"Continent"}}}return{create:g=>new l(g)}}},375953:function(me,j,e){e.d(j,{C:function(){return t},h:function(){return l}});var a,r=e(532304),i=e(785463);function t(){return new g}var l=function(s){return s[s.pending=0]="pending",s[s.resolved=1]="resolved",s[s.rejected=2]="rejected",s}({});class g{defer(h){return new n($.Deferred())}reject(h){var o=this.defer();return o.reject(h),o.promise}resolve(h){var o=this.defer();return o.resolve(h),o.promise}all(h){return this.when.apply(this,h).then(function(){return Array.prototype.slice.call(arguments)})}allSettled(h){var o=this.defer(),v=h.length;if(v>0)for(var m=0,p=[],y=function(C){h[C].then(u=>{p[C]={value:u,type:r.f.Success}}).catch(u=>{p[C]={value:u,type:r.f.Failure}}).finally(()=>{++m===v&&o.resolve(p)})},S=0;S<v;S++)y(S);else o.resolve([]);return o.promise}when(...h){var o=h.map(m=>m&&m.promise?m.promise:m);if(1===o.length){var v=o[0];return v?.pipe?new d(v):this.resolve(v)}return new d($.when(...o))}}class n{constructor(h){i.Y.assertValue(h,"deferred"),this.deferred=h,this.promise=new d(h.promise())}resolve(h){this.deferred.resolveWith(this.deferred.promise,[h])}reject(h){this.deferred.rejectWith(this.deferred.promise,[h])}}class d{constructor(h){this[a]="Promise",i.Y.assertValue(h,"promise"),this.promise=h}then(h,o){var p,v=d.wrapCallback(h),m=d.wrapCallback(o);return p=this.promise.pipe(v||null,m),new d(p)}catch(h){return this.then(null,h)}finally(h){return this.promise.always(d.wrapCallback(h)),this}static wrapCallback(h){return h&&function(){var o=h.apply(this,arguments);return o instanceof d?o.promise:o}}}a=Symbol.toStringTag},137258:function(me,j,e){e.d(j,{IL:function(){return v},Ld:function(){return m},bq:function(){return o}});var g,n,d,N,r=e(304703),i=e(639195),a="2",t="`",l=t+t,s=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function o(N,I,O,R){c();var W=d[N];if(!W){P("information",`ensuring localStorageCache ${N}`);var F=n.caches[N];F&&F.version!==I&&(P("information",`Clearing old version cache ${N}`),V(N),delete n.caches[N],f(),F=void 0),W=new u(N,O,R),d[N]=W,F||(P("information",`Adding initial cache metadata for ${N}`),n.caches[N]={version:I,size:0,nextId:1,added:Date.now()},f(),b())}return W}function v(N){V(N),c();var I=n.caches[N];I&&(d[N]?n.caches[N]={version:I.version,size:0,nextId:1,added:Date.now()}:delete n.caches[N],f())}function m(N,I){if(N){var O=y(N),R=n.caches[N],W=[],F=0;for(var U of(g.forEach(B=>{if(O.test(B)){var x=g.getData(B);if(x&&x.added){var A=x.id,L=null;null!=A&&(L=S(N,A)),E(R.added)-x.added>I&&(L&&W.push(L),W.push(B),F+=x.size)}}}),R.size-=F,f(),W))g.setData(U,void 0)}}function p(N,I){return t+N+"-"+I}function y(N){return new RegExp("^"+t+N+"-")}function S(N,I){return l+N+"-"+I}g=i.wZ,n=N,d={};class u{constructor(I,O,R){this.cacheName=I,this.maxSpace=O,this.maxAge=R,this.disabled=!1}getData(I){if(!this.disabled){var O=p(this.cacheName,I),R=g.getData(O),W=R&&R.id;if(null!=W){var F=S(this.cacheName,W),U=n.caches[this.cacheName];if(E(U.added)-R.added<=this.maxAge)return g.getData(F);U.size-=R.size,f(),g.setData(F,void 0),g.setData(O,void 0)}}}setData(I,O,R){if(!this.disabled){if(!(n=D()))return void(this.disabled=!0);var W=p(this.cacheName,I),F=g.getData(W);void 0===O?this.removeEntry(W,F):this.setEntry(W,F,O,R)}}removeEntry(I,O){if(O){var R=O.size;null!=R&&(n.caches[this.cacheName].size-=R,f());var W=O.id;null!=W&&g.setData(S(this.cacheName,W),void 0)}g.setData(I,void 0)}setEntry(I,O,R,W){var F=n.caches[this.cacheName];if(!F)return this.disabled=!0,void P("error",`Did't find cache metadata for ${this.cacheName} in directory ${JSON.stringify(n)}`);var U=E(F.added),B=O&&O.id;B?(O.added=U,F.size-=O.size):O={id:B=F.nextId++,added:U,size:0};var x=S(this.cacheName,B),A=JSON.stringify(R);O.size=A.length+I.length+x.length,O.size+=JSON.stringify(O).length,O.size+=1,F.size+=O.size,F.size>this.maxSpace&&(W&&W(),V(this.cacheName),F.added=Date.now(),F.nextId=2,O.added=E(F.added),O.id=1,x=S(this.cacheName,O.id),O.size=A.length+I.length+x.length,O.size+=JSON.stringify(O).length,O.size+=1,F.size=O.size),f(),g.setData(I,O),g.setJSONData(x,A)}}function E(N){return Math.floor((Date.now()-N)/6e4)}function c(){if(n=D()){if(n.version===a)return;P("information",`Clearing old verion ${n.version} localStorage entries`),w(N=>N.length>0&&N[0]===t)}else P("information","Clearing obsolete localStorage entries"),w(N=>s.test(N));n={version:a,caches:{}},f(),b()}function f(){g.setData(l,n)}function D(){return g.getData(l)}function b(){try{var N=D();_.isEqual(N,n)||P("warning",`Cache directory different after save: saved=${JSON.stringify(n)} reloaded=${JSON.stringify(N)}`)}catch(I){P("error",`Error checking cache directory after save: ${I&&I.stack?I.stack:JSON.stringify(I)}`)}}function V(N){var I=y(N),O=function(N){return new RegExp("^"+l+N+"-")}(N);w(R=>I.test(R)||O.test(R))}function w(N){var I=[];for(var O of(g.forEach(R=>{N(R)&&I.push(R)}),I))g.setData(O,void 0);return I.length}function P(N,I){var O=window.jsCommon;!O||!O.Trace||r.Cn[N]("localStorageCache: "+I)}},639195:function(me,j,e){e.d(j,{YF:function(){return t},wZ:function(){return a}});var i=(()=>{class l{constructor(n){this.cache={},this.clearCacheInterval=n??l.defaultClearCacheInterval,this.clearCache()}getData(n){return this.cache[n]}setData(n,d,s){this.cache[n]=d,null==this.clearCacheTimerId&&(this.clearCacheTimerId=window.setTimeout(()=>this.clearCache(),this.clearCacheInterval))}clearCache(){this.cache={},this.clearCacheTimerId=void 0}}return l.defaultClearCacheInterval=864e5,l})(),a=new class{isLocalStorageSupported(){try{var g="validateLocalStorageKey",n="validateLocalStorageValue";return localStorage.setItem(g,n),localStorage.getItem(g)===n&&(localStorage.removeItem(g),null===localStorage.getItem(g))}catch{return!1}}getData(g){try{if(localStorage){var n=localStorage[g];if(n)return JSON.parse(n)}}catch{}}setData(g,n){try{if(localStorage)return void(void 0===n?localStorage.removeItem(g):localStorage[g]=JSON.stringify(n))}catch{}}setJSONData(g,n){try{localStorage&&(void 0===n?localStorage.removeItem(g):localStorage[g]=n)}catch{}}forEach(g){try{if(!localStorage)return;for(var n=localStorage.length;n-- >0;)g(localStorage.key(n))}catch{}}},t=new i},680645:function(me,j,e){e.d(j,{Yw:function(){return l}});var r=e(785463),i=e(253261),a=e(304703),t=e(928912),l=(c,f,D,b)=>new d(c,f,D,b);class d{constructor(f,D,b,T){this.promiseFactory=f,this.telemetry=D,this.options={...T,rjs:T&&T.rjs||window.require},this.active={},r.Y.assertValue(this.options.rjs,"Could not load require.js."),b?(this.options.rjs.config(b),this.cssPaths=b.cssPaths,this.bundles=b.bundles):(this.cssPaths={},this.bundles={})}require(f){r.Y.assertValue(f,"moduleLoader: require Module Dependency has to be defined");var c,b,D=f.javascript;if((c=D)&&c instanceof Function)return this.loadModuleES6(f,D);if(D)b=D;else{if(!f.css)return this.promiseFactory.resolve();b=f.css.join(",")}var T=u(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),M=this.active,V=M[b];if(V)return V;if(!D)return M[b]=T,T.finally(()=>delete M[b]),T.then(()=>this.promiseFactory.resolve());var w=function(c,f){for(var D in r.Y.assertValue(c,"script"),r.Y.assertValue(f,"bundles"),f)if(_.includes(f[D],c))return D}(D,this.bundles),P=this.promiseFactory.defer(!0),N=()=>o(this.options.rjs,this.telemetry,D,F=>P.resolve(F),F=>P.reject(F));if(null==w||this.options.rjs.defined(w))N();else{var I=(0,i.t)(),O=window.setTimeout(()=>{a.Cn.warning("Module bundle load is delayed",void 0,{bundleName:w,duration:(0,i.t)()-I}),O=window.setTimeout(()=>{a.Cn.warning("Module bundle load is very delayed",void 0,{bundleName:w,duration:(0,i.t)()-I}),O=void 0},this.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);o(this.options.rjs,this.telemetry,w,()=>{O||a.Cn.warning("Module bundle eventually loaded",void 0,{bundleName:w,duration:(0,i.t)()-I}),clearTimeout(O),N()},F=>P.reject(F))}var W=this.promiseFactory.all([T,P.promise]).then(()=>P.promise);return M[b]=W,W.finally(()=>delete M[b]),W}loadModuleES6(f,D){var b=D();return f.css?this.promiseFactory.all([u(this.cssPaths,f.css,this.options.rtl??!1,this.promiseFactory),b]).then(()=>b):b}}var s=".js",h=".min.js";function o(c,f,D,b,T){if(r.Y.assertValue(c,"rjs"),r.Y.assertValue(D,"script"),r.Y.assertValue(b,"success"),r.Y.assertValue(T,"failure"),c.defined(D))b(c(D));else{var M=(0,t.ni)(`moduleLoader.require('${D}')`),V=f?.startEvent();c([D],function(){var N,w=window.parseTimeMarkers,P=D;w&&((N=w[D+h])?P+=h:(N=w[D+s])&&(P+=s));var I={start:N&&N.start,end:N&&N.end},O={start:N&&N.startEval,end:N&&N.endEval};V?.resolve(P,I,O),M(),b(arguments[0])},w=>{V?.reject(D),M(),T(w)})}}var m=document,p=m.head,y=m.createElement("link"),S=[],C=p.getElementsByTagName("script")[0];function u(c,f,D,b){if(!f)return b.resolve();p.getElementsByTagName("script")?.[0]?.src!==C?.src&&(C=p.getElementsByTagName("script")[0]);var T=["quill.core"],M=[];for(var V of f){var w=-1!==T.indexOf(V);if(V=c[V]||V,_.endsWith(V,".css")||(V+=".css"),D&&!w&&-1===V.indexOf(".rtl")&&(V=_.endsWith(V,".min.css")?V.replace(".min.css",".rtl.min.css"):V.replace(".css",".rtl.css")),-1===S.indexOf(V)){S.push(V);var P=E(V,b);M.push(P)}}return M.length?b.all(M):b.resolve()}function E(c,f){var D=y.cloneNode(),b=f.defer();return D.addEventListener("load",()=>b.resolve()),D.addEventListener("error",()=>b.reject()),D.href=c,C?p.insertBefore(D,C):p.appendChild(D),b.promise}y.setAttribute("rel","stylesheet")},791106:function(me,j,e){e.d(j,{N:function(){return o}});var r=e(619584),i=e(255319),a=e(785463),t=e(233514),l=e(190846),g=e(123198),n=e(590466),d=e(97458),s=e(639195),h=e(304703),o=(()=>{class v{static setCanvasCtx(p){v.canvasCtx=p}static setMeasuredFontNotLoadedCallback(p){v.measuredFontNotLoadedCallbacks||(v.measuredFontNotLoadedCallbacks=[]);var y=++v.measuredFontNotLoadedCallbacksAdded;return v.measuredFontNotLoadedCallbacks.push({id:y,callback:p}),()=>{var S=v.measuredFontNotLoadedCallbacks?v.measuredFontNotLoadedCallbacks.findIndex(C=>C.id===y):-1;-1===S?a.Y.assertFail("Tried to remove a MeasuredFontNotLoadedCallback more than once"):(v.measuredFontNotLoadedCallbacks.splice(S,1),v.measuredFontNotLoadedCallbacks.length||(v.measuredFontNotLoadedCallbacks=void 0))}}static hasMeasuredFontNotLoadedCallbacks(){return v.measuredFontNotLoadedCallbacks&&0!==v.measuredFontNotLoadedCallbacks.length}static callMeasuredFontNotLoadedCallbacks(p){if(p&&v.measuredFontNotLoadedCallbacks)for(var y,S=v.measuredFontNotLoadedCallbacks.length;S--;){var C=v.measuredFontNotLoadedCallbacks[S];(void 0===y||C.id<y)&&(y=C.id,C.callback(p))}}static ensureDOM(){if(!v.canvasCtx){if(v.spanElement||(v.spanElement=$("<span></span>"),$("body").append(v.spanElement)),null==v.letterSpacing)try{var p=window.getComputedStyle(v.spanElement?.get(0));p.letterSpacing.indexOf("px")>0&&(v.letterSpacing=+p.letterSpacing.replace("px",""))}catch{}v.svgTextElement||(v.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),v.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var y=window.getComputedStyle(v.svgTextElement.node());v.fallbackFontFamily=y?y.fontFamily:""}}static removeSpanElement(){v.spanElement&&v.spanElement.remove&&v.spanElement.remove(),v.spanElement=null}static measureSvgTextWidth(p,y){if(a.Y.assertValue(p,"textProperties"),a.Y.assert(()=>_.isEmpty(p.fontSize)||-1!==p.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!p||!p.fontSize)return 0;if(v.ensureDOM(),!v.canvasCtx)return((null!=y?y.length:null!=p.text&&p.text.length)||0)*(parseInt(p.fontSize,10)||9);if(!v.setCanvasFont(v.canvasCtx,p)||null==y&&null==p.text)return 0;p.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(p)||v.callMeasuredFontNotLoadedCallbacks(p.fontFamily));var u=y??p.text;return v.canvasCtx.measureText(u).width+(null!=v.letterSpacing?v.letterSpacing*u.length:0)}static measureSvgTextRect(p,y){return this.measureSvgTextRectInternal(p,y,!0)}static measureSvgTextRectInternal(p,y,S){return a.Y.assertValue(p,"textProperties"),a.Y.assert(()=>_.isEmpty(p.fontSize)||-1!==p.fontSize.indexOf("px"),"TextProperties' text size should be in px."),v.ensureDOM(),S&&p.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(p)||v.callMeasuredFontNotLoadedCallbacks(p.fontFamily)),v.svgTextElement.text(y||p.text).attrs({visibility:"hidden","font-family":p.fontFamily||v.fallbackFontFamily,"font-variant":p.fontVariant,"font-size":p.fontSize,"font-weight":p.fontWeight,"font-style":p.fontStyle,"text-decoration":p.textDecoration||"none","white-space":p.whiteSpace||"nowrap"}),(0,n.rB)(v.svgTextElement.node())}static measureSvgTextHeight(p,y){var S=v.measureSvgTextRect(p,y);return S?S.height:0}static measureSvgGlyphHeight(p,y,S){a.Y.assert(()=>-1!==p.indexOf("px"),"Font size should be in px."),v.ensureDOM(),v.svgTextElement.classed(y,!0).style("font-size",p).style("position","absolute").style("visibility","hidden");var u=v.measureSvgTextRect({fontFamily:null,fontSize:p},S);return v.svgTextElement.classed(y,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),u?u.height:0}static isFullyTruncated(p){return p===v.ellipsis}static estimateSvgTextRect(p){a.Y.assertValue(p,"textProperties"),a.Y.assert(()=>_.isEmpty(p.fontSize)||-1!==p.fontSize.indexOf("px"),"TextProperties' text size should be in px.");var y=(p.fontFamily||"")+(p.fontSize||""),S=s.YF.getData(y),C=S?.rect,u={fontFamily:p.fontFamily,fontSize:p.fontSize,text:"M"},E=v.isFontLoaded(u);return null!=C&&S.fontLoaded||!1===E?null==C?(C=v.measureSvgTextRect(u),s.YF.setData(y,{rect:C,fontLoaded:!1})):!E&&p.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&v.callMeasuredFontNotLoadedCallbacks(p.fontFamily):(C=v.measureSvgTextRect(u)).height>0&&s.YF.setData(y,{rect:C,fontLoaded:!0}),C}static ensureFonts(...p){return(0,r.A)(function*(){var y=[];for(var S of p)try{y.push(document.fonts.load(`16px ${S}`))}catch(f){h.Cn.exception("ensureFont-1",{error:f,includeStackTrace:!0,additionalInfo:{fontFace:S},maxTrace:5})}try{for(var C=yield Promise.allSettled(y),u=0;u<C.length;++u){var E=C[u];"rejected"===E.status&&h.Cn.exception("ensureFont-2",{error:E.reason,includeStackTrace:!0,additionalInfo:{fontFace:p[u]},maxTrace:20})}return}catch(f){return void h.Cn.exception("ensureFont-3",{error:f,includeStackTrace:!0,maxTrace:5})}})()}static isFontLoaded(p){var y="16px",S=document.fonts,C=p.fontFamily,u=!1;if(v.fontLoadCache[C])return!0;if(S&&C)try{u=S.check(y+" "+C)}catch{}else{p.fontSize=y;var E=v.measureSvgTextRectInternal(p,void 0,!1),c=C?C.split(",")[0]:"";if(-1!==c.indexOf("Segoe UI"))u=(0,l.lO)(E.height,21.28,1e-5);else{if(-1===c.indexOf("wf_standard-font"))return null;u=(0,l.lO)(E.height,16.35,1e-5)}}return v.doNotCacheFontLoadedStatus||(v.fontLoadCache[C]=u),u}static clearFontLoadedCache(){v.fontLoadCache={}}static estimateSvgTextBaselineDelta(p){var y=v.estimateSvgTextRect(p);return y.y+y.height}static estimateSvgTextHeight(p,y=!1){var S=v.estimateSvgTextRect(p).height;return y&&(S*=.7),S}static measureSvgTextElementWidth(p){return a.Y.assertValue(p,"svgElement"),v.measureSvgTextWidth(v.getSvgMeasurementProperties(p))}static getMeasurementProperties(p){return a.Y.assertValue(p,"element"),{text:p.val()||p.text(),fontFamily:p.css("font-family"),fontSize:p.css("font-size"),fontWeight:p.css("font-weight"),fontStyle:p.css("font-style"),fontVariant:p.css("font-variant"),whiteSpace:p.css("white-space")}}static getSvgMeasurementProperties(p){a.Y.assertValue(p,"svgElement");var y=window.getComputedStyle(p,null);return y?{text:p.textContent,fontFamily:y.fontFamily,fontSize:y.fontSize,fontWeight:y.fontWeight,fontStyle:y.fontStyle,fontVariant:y.fontVariant,whiteSpace:y.whiteSpace}:{text:p&&p.textContent,fontFamily:"",fontSize:"0"}}static getDivElementWidth(p){a.Y.assert(()=>p.is("div"),"Given element is not a div type. Cannot get width");var y=getComputedStyle(p[0]);return y?y.width:"0"}static getTailoredTextOrDefault(p,y){if(a.Y.assertValue(p,"properties"),a.Y.assertValue(p.text,"properties.text"),a.Y.assert(()=>_.isEmpty(p.fontSize)||-1!==p.fontSize.indexOf("px"),"TextProperties' text size should be in px."),!p||!p.fontSize)return"";v.ensureDOM();var S=p.text;if(!S||!v.canvasCtx||!v.setCanvasFont(v.canvasCtx,p))return"";p.fontFamily&&v.hasMeasuredFontNotLoadedCallbacks()&&(v.isFontLoaded(p)||v.callMeasuredFontNotLoadedCallbacks(p.fontFamily));var u=v.canvasCtx.measureText(S).width+(null!=v.letterSpacing?v.letterSpacing*S.length:0);if(u<=y)return S;S=v.ellipsis+S;for(var E=_.split(S,""),c=1,f=E.length;c<f;){var D=c+f>>1,b=E.slice(0,D).join("");y>(u=v.canvasCtx.measureText(b).width+(null!=v.letterSpacing?v.letterSpacing*b.length:0))?c=D+1:y<u?f=D-1:(c=D,f=D)}var T=E.slice(0,c).join("");return(u=v.canvasCtx.measureText(T).width+(null!=v.letterSpacing?v.letterSpacing*T.length:0))>y&&c--,E.slice(v.ellipsis.length,c).join("")+v.ellipsis}static setCanvasFont(p,y){try{p.font=(y.fontStyle||"")+" "+(y.fontVariant||"")+" "+(y.fontWeight||"")+" "+y.fontSize+" "+(y.fontFamily||v.fallbackFontFamily)}catch{return!1}return!0}static svgEllipsis(p,y,S){a.Y.assertValue(p,"textElement"),S||(S=v.getSvgMeasurementProperties(p));var C=S.text,u=v.getTailoredTextOrDefault(S,y);C!==u&&(p.textContent=u)}static wordBreak(p,y,S,C=0){(0,t.io)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),a.Y.assertValue(p,"textElement");var u=v.getSvgMeasurementProperties(p),E=v.estimateSvgTextHeight(u)+C,c=Math.max(1,Math.floor(S/E)),f=d3.select(p),D=f.attr("y"),b=p.textContent;p.textContent="";for(var T=(0,d.cA)(b,u,v.measureSvgTextWidth,y,c),M=0,V=T.length;M<V;M++)u.text=T[M],f.append("tspan").attrs({x:0,dy:0===M?D:E}).text(v.getTailoredTextOrDefault(u,y))}static wordBreakOverflowingText(p,y,S,C=0){a.Y.assertValue(p,"textElement");var u=v.getSvgMeasurementProperties(p),E=v.estimateSvgTextHeight(u)+C,c=Math.max(1,Math.floor(S/E)),f=p.textContent;p.textContent="";var D=(0,d.cA)(f,u,v.measureSvgTextWidth,y,c);d3.select(p).selectAll(v.OverflowingText.selector).data(D).enter().append("span").classed(v.OverflowingText.class,!0).text(T=>T).style("width",g.V4.toString(y))}}return v.ellipsis="\u2026",v.OverflowingText=(0,i.tI)("overflowingText"),v.letterSpacing=null,v.fontLoadCache={},v.measuredFontNotLoadedCallbacksAdded=0,v.doNotCacheFontLoadedStatus=!1,v})()},804477:function(me,j,e){e.d(j,{t:function(){return r}});var r=function(i){return i[i.Clockwise=0]="Clockwise",i[i.Counterclockwise=1]="Counterclockwise",i[i.Colinear=2]="Colinear",i}({})},912202:function(me,j,e){e.d(j,{SU:function(){return g},ZB:function(){return t}});var r=e(935236),i=e(618644),a=e(785463);class t{constructor(d,s,h){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=d||g.getDefaultColors(),this.sentimentColors=s||g.defaultSentimentColors,this.gradientColors=h||g.defaultGradientColors,this.scales={},this.basePickerColors.push(..._.take(this.colors,8))}getColorScaleByKey(d){var s=this.scales[d];return void 0===s&&(s=this.createScale(),this.scales[d]=s),s}getNewColorScale(){return this.createScale()}getColorByIndex(d){return a.Y.assert(()=>d>=0&&d<this.colors.length,"index is out of bounds"),this.colors[d]}getSentimentColors(){return this.sentimentColors}getGradientColors(){return this.gradientColors}getBasePickerColors(){return this.basePickerColors}getBaseColors(){return _.take(this.colors,8)}getAllColors(){return this.colors}createScale(){return l.createFromColors(this.colors)}}class l{constructor(d){this.scale=d}getColor(d){return this.scale(d)}clearAndRotateScale(){var d=this.scale.domain().length,s=(0,r.e$)(this.scale.range(),d);this.scale=d3.scaleOrdinal().range(s)}clone(){return new l(this.scale.copy())}getDomain(){return this.scale.domain()}static createFromColors(d){return new l(d3.scaleOrdinal().range(d))}}var g=(()=>{class n{static getDefaultColors(){if(!n.defaultColors){n.defaultColors=[];for(var s=n.defaultBaseColors,h=0;h<n.colorSectorCount;++h)for(var o=0,v=s.length;o<v;++o){var m=(0,i.NN)(s[o].value,h/n.colorSectorCount);n.defaultColors.push({value:m??s[o].value})}}return n.defaultColors}}return n.colorSectorCount=12,n.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],n.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},n.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},n})()},469550:function(me,j,e){e.d(j,{FQ:function(){return S},Rg:function(){return o},ck:function(){return p},db:function(){return n},rQ:function(){return v},v4:function(){return y},vt:function(){return g}});var r=e(108442),i=e(785463),a=e(416341),t=e(912202),l=e(140714);function g(C,u){void 0===C&&(C=new t.ZB);var E={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:C.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:C};return{isHighContrast:!1,colorPalette:E,textClasses:n(E,u),icons:(0,l.c)("conditionalFormattingDialogIcons").themeIcons}}function n(C,u,E=!1){if(function(C){if(!C)return!1;var E=["color","fontSize","fontFace"];for(var c of["callout","header","label","title"]){var f=C[c];if(!f)return!1;for(var D of E)if(!f[D])return!1}return!0}(u)){u.callout.fontFace=d(u.callout.fontFace??""),u.label.fontFace=d(u.label.fontFace??""),u.title.fontFace=d(u.title.fontFace??""),u.header.fontFace=d(u.header.fontFace??"");var b={callout:u.callout,label:u.label,title:u.title,header:u.header,largeTitle:s(u.largeTitle,u.title,void 0,7/6),dataTitle:s(u.dataTitle,u.title,C.dataColors.getColorByIndex(0)),boldLabel:s(u.boldLabel,u.label,void 0,void 0,r.B.Bold),largeLabel:s(u.largeLabel,u.label,void 0,1.2),largeLightLabel:s(u.largeLightLabel,u.label,C.foregroundNeutralSecondary,1.2),lightLabel:s(u.lightLabel,u.label,C.foregroundNeutralSecondary),semiboldLabel:s(u.semiboldLabel,u.label,void 0,void 0,r.B.Semibold),smallLabel:s(u.smallLabel,u.label,void 0,.9),smallLightLabel:s(u.smallLightLabel,u.label,C.foregroundNeutralSecondary,.9),smallDataLabel:s(u.smallDataLabel,u.label,C.dataColors.getColorByIndex(0),.9)};if(E){var M,T=C.foreground.value;for(M in b){var V=b[M];V.color?V.color.value=T:V.color={value:T}}}return b}}function d(C){var u=a.H1[C];return u?u.family:C}function s(C,u,E,c,f){if(C?null==C.color&&(C.color=E||u.color):C={color:E||u.color},null==C.fontSize){var D=_.toNumber(u.fontSize);i.Y.assert(()=>!isNaN(D),"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),C.fontSize=(null==c?D:Math.round(D*c*10)/10)+""}if(null==C.fontWeight&&null!=f)switch(f){case r.B.Bold:C.fontWeight=r.B.Bold;break;case r.B.Semibold:C.fontWeight=r.B.Semibold;break;default:C.fontWeight=u.fontWeight}return C.fontFace=C.fontFace||u.fontFace,C}function o(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function v(C,u){i.Y.assertValue(u,"EvalContext.getThemeColor - colorName should't be null");var E=C.colorPalette,c=E.dataColors.getGradientColors(),f=E.dataColors.getSentimentColors(),D=E[u]||c[u]||f[u];return i.Y.assertAnyValue(D,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),D?.value}var m={"ui-foreground":"var(--colorNeutralForeground1)","ui-background":"var(--colorNeutralBackground1)","ui-foregroundSecondary":"var(--colorNeutralForeground3)","ui-backgroundSecondary":"var(--colorNeutralBackground3)"};function p(C){return i.Y.assertValue(C,"getUIThemeColorValue - colorName"),m[C]}function y(C,u){i.Y.assertValue(C,"getThemeDataColor - visualStyle"),i.Y.assertValue(u,"getThemeDataColor - colorIdx");var E=C.colorPalette.dataColors.getBasePickerColors();return E[u]?.value}function S(C,u){return i.Y.assertValue(C,"getThemeIcon - visualStyle"),i.Y.assertValue(u,"getThemeIcon - iconId"),C.icons[u]}},304703:function(me,j,e){e.d(j,{Cn:function(){return m}});var h,r=e(785463),i=e(558109),a=e(319684),t=e(507345),l=e(412156),g=e(864047),d=new class{logTrace(y){}},m=(()=>{class p{static assertFail(S){r.Y.assertValue(S,"message"),r.Y.assertFail(S),this.error(S,!0)}static warning(S,C,u){r.Y.assertValue(S,"text"),this.logTraceInternal(new l.V(S,g.W.Warning,this.sessionId,C,u))}static exception(S,C){r.Y.assertValue(S,"id");var u=C?.maxTrace;if(!(u&&u>0)||function(p,y){if(null==y||y<=0)return!0;h||(h=new Map);var S=h.get(p);return null==S?S=1:++S,h.set(p,S),S<=y}(S,u)){var E,c=C?.error;C?.includeStackTrace?(c&&(E=c.stack?.toString()),E||(E=(new Error).stack)):c&&(E=c.message?.toString()||"<no-message>");var f=S;E&&(f+=": "+E),this.logTraceInternal(new l.V(f,g.W.Error,this.sessionId,C?.requestId,C?.additionalInfo))}}static error(S,C,u,E){r.Y.assertValue(S,"text"),C&&(S=(0,t.G)("{0}.\nStack:\n{1}",S,(0,a.WD)())),this.logTraceInternal(new l.V(S,g.W.Error,this.sessionId,u,E))}static information(S,C,u){r.Y.assertValue(S,"text"),this.logTraceInternal(new l.V(S,g.W.Information,this.sessionId,C,u))}static verbose(S,C,u){r.Y.assertValue(S,"text"),this.logTraceInternal(new l.V(S,g.W.Verbose,this.sessionId,C,u))}static addListener(S){r.Y.assertValue(S,"listener"),_.find(this.listeners,C=>C===S)||this.listeners.push(S)}static removeListener(S){r.Y.assertValue(S,"listener");var C=this.listeners.indexOf(S);C>=0&&this.listeners.splice(C,1)}static resetListeners(){this.listeners=new Array(d)}static reset(){this.lastTraceIndex=-1}static getTraces(){if(this.lastTraceIndex<0)return[];for(var S=new Array(this.lastTraceIndex+1),C=0;C<=this.lastTraceIndex;C++)S[C]=this.traces[C];return S}static disableDefaultListener(){this.removeListener(d)}static enableDefaultListener(){this.addListener(d)}static logTraceInternal(S){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=S;for(var C=0,u=this.listeners.length;C<u;C++)this.listeners[C].logTrace(S)}}return p.traces=new Array(1e3),p.lastTraceIndex=-1,p.listeners=new Array(d),p})();(0,i.RI)().Trace=m},412156:function(me,j,e){e.d(j,{V:function(){return r}});var r=(()=>{class i{constructor(t,l,g,n,d){this.text=t,this.type=l,this.sessionId=g,this.requestId=n,this.timeStamp=new Date,this.additionalInfo=d}toString(){var t="";return t+=`${i.traceTypeStrings[this.type]} (${this.timeStamp.toUTCString()}): ${this.text}`,this.requestId&&(t+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(t+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),t}}return i.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],i})()},864047:function(me,j,e){e.d(j,{W:function(){return r}});var r=function(i){return i[i.Information=0]="Information",i[i.Verbose=1]="Verbose",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i[i.ExpectedError=4]="ExpectedError",i[i.UnexpectedError=5]="UnexpectedError",i[i.Fatal=6]="Fatal",i}({})},488420:function(me,j,e){e.d(j,{D_:function(){return t},Ej:function(){return a},sh:function(){return r},t2:function(){return i}});class r{constructor(){this.success=!0}check(g,n,d){if(n(g))return d(g);this.success=!1}static check(g){var n=new r;return g(n),n.success}}function i(l){return!!l}function a(l){return g=>i(g)&&g.length===l}function t(l){return l}},930750:function(me,j,e){e.d(j,{e:function(){return i}});var r=new Set(["string","number","boolean","any"]);function i(a){var t=/^(\w+)(\[\])?/.exec(a);if(t&&r.has(t[1]))return{primitive:t[1],isArray:!!t[2]}}},147293:function(me,j,e){e.d(j,{Bs:function(){return y},FU:function(){return a},Ii:function(){return m},OJ:function(){return o},Ts:function(){return r},WF:function(){return s},Xk:function(){return n},YB:function(){return t},YL:function(){return l},Zb:function(){return c},Zf:function(){return p},Zx:function(){return f},bU:function(){return h},c8:function(){return S},gD:function(){return v},gs:function(){return i},i8:function(){return C},jU:function(){return g},nE:function(){return d},pZ:function(){return u}});var r=function(D){return D[D.Grouping=0]="Grouping",D[D.Measure=1]="Measure",D[D.GroupingOrMeasure=2]="GroupingOrMeasure",D}({}),i=function(D){return D[D.Measure=0]="Measure",D[D.Grouping=1]="Grouping",D}({}),a=function(D){return D[D.Immediate=0]="Immediate",D[D.Deferred=1]="Deferred",D[D.MetadataOnly=2]="MetadataOnly",D}({}),t=function(D){return D[D.Create=0]="Create",D[D.Append=1]="Append",D[D.Segment=2]="Segment",D[D.None=3]="None",D}({}),l=function(D){return D[D.Data=2]="Data",D[D.Resize=4]="Resize",D[D.ViewMode=8]="ViewMode",D[D.Style=16]="Style",D[D.ResizeEnd=32]="ResizeEnd",D[D.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",D[D.FormatModeChange=128]="FormatModeChange",D[D.FilterOptionsChange=256]="FilterOptionsChange",D[D.All=510]="All",D}({}),g=function(D){return{}}(),n=function(D){return D[D.X=0]="X",D[D.Y=1]="Y",D}({}),d=function(D){return D[D.View=0]="View",D[D.Edit=1]="Edit",D[D.InFocusEdit=2]="InFocusEdit",D}({}),s=function(D){return D[D.Default=0]="Default",D[D.Advanced=1]="Advanced",D}({}),h=function(D){return D[D.NotSupported=0]="NotSupported",D[D.SupportedNoAction=1]="SupportedNoAction",D[D.SupportedInFocus=2]="SupportedInFocus",D}({}),o=function(D){return D[D.Resizing=1]="Resizing",D[D.Resized=2]="Resized",D}({}),v=function(D){return D[D.None=0]="None",D}({}),m=function(D){return D[D.Selection=0]="Selection",D[D.None=1]="None",D}({}),p=function(D){return D[D.RenderStarted=0]="RenderStarted",D[D.RenderCompleted=1]="RenderCompleted",D[D.Trace=2]="Trace",D[D.Error=3]="Error",D}({}),y=function(D){return D[D.merge=0]="merge",D[D.remove=1]="remove",D}({}),S=function(D){return D[D.Up=1]="Up",D[D.Down=2]="Down",D[D.MoveToNextlevel=3]="MoveToNextlevel",D}({}),C=function(D){return D[D.Formatting=1]="Formatting",D[D.Analytics=2]="Analytics",D}({}),u=function(D){return D[D.Close=0]="Close",D[D.OK=1]="OK",D[D.Cancel=2]="Cancel",D[D.Continue=3]="Continue",D[D.No=4]="No",D[D.Yes=5]="Yes",D}({}),c=function(D){return D[D.General=0]="General",D[D.UnsupportedEnv=1]="UnsupportedEnv",D[D.VisualIsBlocked=2]="VisualIsBlocked",D}({}),f=function(D){return D.Top="Top",D.Bottom="Bottom",D}({})},942596:function(me,j,e){e.d(j,{v:function(){return r}});var r=function(i){return i[i.Single=0]="Single",i[i.Union=1]="Union",i[i.Intersection=2]="Intersection",i[i.Difference=3]="Difference",i}({})},121153:function(me,j,e){e.d(j,{y:function(){return r}});var r=function(i){return i[i.RoleWildcard=0]="RoleWildcard",i[i.ScopeIdentity=1]="ScopeIdentity",i[i.ScopeTotal=2]="ScopeTotal",i[i.ScopeWildcard=3]="ScopeWildcard",i[i.Wildcard=4]="Wildcard",i}({})},632934:function(me,j,e){e.d(j,{y:function(){return r}});var r=function(i){return i[i.None=0]="None",i[i.Before=1]="Before",i[i.After=2]="After",i}({})},856701:function(me,j,e){e.d(j,{Xx:function(){return i},t_:function(){return a},yt:function(){return r}});var r=function(t){return t[t.None=0]="None",t[t.Before=1]="Before",t[t.After=2]="After",t[t.BeforeAndAfter=3]="BeforeAndAfter",t}({}),i=function(t){return t[t.None=0]="None",t[t.Log=1]="Log",t}({}),a=function(t){return t[t.WhatIf=0]="WhatIf",t[t.MParameters=1]="MParameters",t[t.Field=2]="Field",t}({})},46143:function(me,j,e){e.d(j,{_:function(){return r}});var r=function(i){return i[i.InstancesAndTotals=0]="InstancesAndTotals",i[i.InstancesOnly=1]="InstancesOnly",i[i.TotalsOnly=2]="TotalsOnly",i}({})},142209:function(me,j,e){e.d(j,{t:function(){return r}});var r=function(i){return i[i.AdvFilter=1]="AdvFilter",i[i.RelativeDateFilter=2]="RelativeDateFilter",i[i.IdentityFilter=3]="IdentityFilter",i[i.TopNFilter=4]="TopNFilter",i[i.TupleFilter=5]="TupleFilter",i[i.HierarchyIdentityFilter=6]="HierarchyIdentityFilter",i}({})},269393:function(me,j,e){e.d(j,{Y:function(){return r},v:function(){return i}});var r=function(a){return a[a.ValuesOnly=0]="ValuesOnly",a[a.ValuesAndHighlight=1]="ValuesAndHighlight",a[a.HighlightsOrValues=2]="HighlightsOrValues",a}({}),i=function(a){return a[a.Full=0]="Full",a[a.Partial=1]="Partial",a}({})},721442:function(me,j,e){e.d(j,{L:function(){return r}});var r=function(i){return i[i.Column=0]="Column",i[i.Measure=1]="Measure",i}({})},809912:function(me,j,e){e.d(j,{G:function(){return a},IM:function(){return r},J1:function(){return i}});var r=function(t){return t[t.Desktop=1]="Desktop",t[t.ExploreHost=2]="ExploreHost",t[t.Providers=4]="Providers",t[t.Web=8]="Web",t[t.WindowsApp=16]="WindowsApp",t[t.DashboardHost=32]="DashboardHost",t[t.StandaloneDashboardHost=128]="StandaloneDashboardHost",t[t.StandaloneReportHost=256]="StandaloneReportHost",t[t.DesktopDialog=512]="DesktopDialog",t[t.AdminPortalHost=1024]="AdminPortalHost",t[t.MobileTileHost=2048]="MobileTileHost",t[t.CortanaDashboardHost=4096]="CortanaDashboardHost",t[t.EmbedHost=8192]="EmbedHost",t[t.SharepointHost=16384]="SharepointHost",t[t.OneDrive=32768]="OneDrive",t[t.Loop=65536]="Loop",t[t.OfficeAddInHost=131072]="OfficeAddInHost",t[t.QuickCreate=262144]="QuickCreate",t[t.ReportExtensions=524288]="ReportExtensions",t[t.ExportDashboardHost=1048576]="ExportDashboardHost",t[t.MetricSet=2097152]="MetricSet",t[t.Dashboard=4194304]="Dashboard",t[t.All=8388607]="All",t}({}),i=function(t){return t[t.Web=1]="Web",t[t.PublishToWeb=2]="PublishToWeb",t[t.Desktop=4]="Desktop",t[t.Embed=8]="Embed",t[t.ReportServer=16]="ReportServer",t[t.ExportReportHost=32]="ExportReportHost",t[t.Mobile=64]="Mobile",t[t.DashboardHost=128]="DashboardHost",t[t.Unknown=256]="Unknown",t}({}),a=function(t){return t[t.PaaSEmbed=1]="PaaSEmbed",t[t.ExportAPI=2]="ExportAPI",t[t.SaaSEmbed=4]="SaaSEmbed",t}({})},918985:function(me,j,e){e.d(j,{QJ:function(){return i},lM:function(){return t},yT:function(){return r}});var r=function(l){return l.Callout="callout",l.Highlight="highlight",l}({});function i(l){return l.annotationType===r.Callout}function t(l){return!!l.callout}},356578:function(me,j,e){e.d(j,{a:function(){return r},v:function(){return i}});var r=function(a){return a.Before="Before",a.After="After",a.IconOnly="IconOnly",a}({}),i=function(a){return a.Top="Top",a.Middle="Middle",a.Bottom="Bottom",a}({})},59764:function(me,j,e){e.d(j,{P:function(){return r}});var r=function(i){return i.AnnotationTemplate="AnnotationTemplate",i.Icon="Icon",i.ExprList="ExprList",i.ErrorRange="ErrorRange",i.ItemLocation="ItemLocation",i}({})},690702:function(me,j,e){e.d(j,{K:function(){return r}});var r=function(i){return i[i.Numeric=256]="Numeric",i[i.Temporal=512]="Temporal",i[i.Geography=1024]="Geography",i[i.Miscellaneous=2048]="Miscellaneous",i[i.Formatting=4096]="Formatting",i[i.Scripting=8192]="Scripting",i[i.Reference=16384]="Reference",i[i.Null=0]="Null",i[i.Text=1]="Text",i[i.Decimal=258]="Decimal",i[i.Double=259]="Double",i[i.Integer=260]="Integer",i[i.Boolean=5]="Boolean",i[i.Date=518]="Date",i[i.DateTime=519]="DateTime",i[i.DateTimeZone=520]="DateTimeZone",i[i.Time=521]="Time",i[i.Duration=10]="Duration",i[i.Binary=11]="Binary",i[i.None=12]="None",i[i.Variant=13]="Variant",i[i.Json=14]="Json",i[i.Years=66048]="Years",i[i.Years_Text=66049]="Years_Text",i[i.Years_Integer=66308]="Years_Integer",i[i.Years_Date=66054]="Years_Date",i[i.Years_DateTime=66055]="Years_DateTime",i[i.Months=131584]="Months",i[i.Months_Text=131585]="Months_Text",i[i.Months_Integer=131844]="Months_Integer",i[i.Months_Date=131590]="Months_Date",i[i.Months_DateTime=131591]="Months_DateTime",i[i.PaddedDateTableDates=197127]="PaddedDateTableDates",i[i.Quarters=262656]="Quarters",i[i.Quarters_Text=262657]="Quarters_Text",i[i.Quarters_Integer=262916]="Quarters_Integer",i[i.Quarters_Date=262662]="Quarters_Date",i[i.Quarters_DateTime=262663]="Quarters_DateTime",i[i.DayOfMonth=328192]="DayOfMonth",i[i.DayOfMonth_Text=328193]="DayOfMonth_Text",i[i.DayOfMonth_Integer=328452]="DayOfMonth_Integer",i[i.DayOfMonth_Date=328198]="DayOfMonth_Date",i[i.DayOfMonth_DateTime=328199]="DayOfMonth_DateTime",i[i.Address=6554625]="Address",i[i.City=6620161]="City",i[i.Continent=6685697]="Continent",i[i.Country=6751233]="Country",i[i.County=6816769]="County",i[i.Region=6882305]="Region",i[i.PostalCode=6947840]="PostalCode",i[i.PostalCode_Text=6947841]="PostalCode_Text",i[i.PostalCode_Integer=6948100]="PostalCode_Integer",i[i.StateOrProvince=7013377]="StateOrProvince",i[i.Place=7078913]="Place",i[i.Latitude=7144448]="Latitude",i[i.Latitude_Decimal=7144706]="Latitude_Decimal",i[i.Latitude_Double=7144707]="Latitude_Double",i[i.Longitude=7209984]="Longitude",i[i.Longitude_Decimal=7210242]="Longitude_Decimal",i[i.Longitude_Double=7210243]="Longitude_Double",i[i.Image=13109259]="Image",i[i.ImageUrl=13174785]="ImageUrl",i[i.WebUrl=13240321]="WebUrl",i[i.Barcode=13305856]="Barcode",i[i.Barcode_Text=13305857]="Barcode_Text",i[i.Barcode_Integer=13306116]="Barcode_Integer",i[i.Sparkline=13371406]="Sparkline",i[i.Color=19664897]="Color",i[i.FormatString=19730433]="FormatString",i[i.Alignment=20058113]="Alignment",i[i.LabelDisplayUnits=20123649]="LabelDisplayUnits",i[i.FontSize=20189443]="FontSize",i[i.FontFamily=20385793]="FontFamily",i[i.AltText=20451329]="AltText",i[i.DisplayUnitsWithoutAuto=20516865]="DisplayUnitsWithoutAuto",i[i.StylePreset=20582401]="StylePreset",i[i.DashArray=20647937]="DashArray",i[i.Enumeration=26214401]="Enumeration",i[i.FlagsEnumeration=26280196]="FlagsEnumeration",i[i.ScriptSource=32776193]="ScriptSource",i[i.SearchEnabled=65541]="SearchEnabled",i[i.BookmarkRef=39337985]="BookmarkRef",i[i.SectionRef=39403521]="SectionRef",i[i.PerspectiveRef=39469057]="PerspectiveRef",i[i.BookmarkGroupRef=39534593]="BookmarkGroupRef",i[i.RowRefText=39600129]="RowRefText",i}({})},138970:function(me,j,e){e.d(j,{A:function(){return i},c:function(){return r}});var r=function(a){return a[a.Color=0]="Color",a[a.GroupInPlace=1]="GroupInPlace",a}({}),i=function(a){return a.Group="group",a.Img="img",a.Button="button",a}({})},587360:function(me,j,e){e.d(j,{K:function(){return r}});var r=function(i){return i[i.Constant=1]="Constant",i[i.Rule=2]="Rule",i[i.ConstantOrRule=3]="ConstantOrRule",i}({})},494762:function(me,j,e){e.d(j,{Ap:function(){return a},MN:function(){return t},PL:function(){return g},Qe:function(){return l},Xm:function(){return d},eX:function(){return h},hl:function(){return r},ok:function(){return s},vb:function(){return n},ww:function(){return i}});var r=function(o){return o.Card="card",o.Group="group",o.Slice="slice",o}({}),i=function(o){return o.Host="host",o.Visual="visual",o}({}),a=function(o){return o.Actions="actions",o.Title="title",o.SizeAndStyle="sizeAndStyle",o.StylePreset="stylePreset",o}({}),t=function(o){return o.StylePreset="stylePreset",o}({}),l=function(o){return o.DataVolume="dataVolume",o.Responsive="responsive",o}({}),g=function(o){return o.AdvancedFieldPicker="AdvancedFieldPicker",o.AlignmentGroup="AlignmentGroup",o.ColorPicker="ColorPicker",o.ConditionalFormattingControl="ConditionalFormattingControl",o.DatePicker="DatePicker",o.Dropdown="Dropdown",o.DurationPicker="DurationPicker",o.EmptyControl="EmptyControl",o.ErrorRangeControl="ErrorRangeControl",o.FieldPicker="FieldPicker",o.FlagsSelection="FlagsSelection",o.FontControl="FontControl",o.FontPicker="FontPicker",o.GradientBar="GradientBar",o.IconPicker="IconPicker",o.ImageUpload="ImageUpload",o.Link="Link",o.ListEditor="ListEditor",o.MarginPadding="MarginPadding",o.NumUpDown="NumUpDown",o.ReadOnlyText="ReadOnlyText",o.SeriesDialogLink="SeriesDialogLink",o.ShapeMapSelector="ShapeMapSelector",o.Slider="Slider",o.TextArea="TextArea",o.TextInput="TextInput",o.ToggleSwitch="ToggleSwitch",o}({}),n=function(o){return o[o.Min=0]="Min",o[o.Max=1]="Max",o[o.Required=2]="Required",o[o.Pattern=3]="Pattern",o[o.DashArray=4]="DashArray",o[o.MaxLength=5]="MaxLength",o}({}),d=function(o){return o[o.Value=0]="Value",o[o.Title=1]="Title",o[o.Detail=2]="Detail",o}({}),s=function(o){return o[o.AllDynamicSeries=0]="AllDynamicSeries",o[o.DynamicSeries=1]="DynamicSeries",o[o.AllMultipleStaticSeries=2]="AllMultipleStaticSeries",o[o.MultipleStaticSeries=3]="MultipleStaticSeries",o[o.SingleStaticSeries=4]="SingleStaticSeries",o}({}),h=function(o){return o.Horizonal="horizontalAlignment",o.Vertical="verticalAlignment",o}({})},981265:function(me,j,e){e.d(j,{$3:function(){return g},$7:function(){return y},$F:function(){return w},$L:function(){return c},Ez:function(){return a},H6:function(){return h},Nz:function(){return r},QC:function(){return M},UJ:function(){return P},WQ:function(){return m},XD:function(){return S},ZX:function(){return t},Zk:function(){return o},bj:function(){return V},br:function(){return u},c$:function(){return E},eO:function(){return n},fJ:function(){return d},fv:function(){return f},gT:function(){return i},m1:function(){return b},nQ:function(){return l},pu:function(){return D},tI:function(){return C},u7:function(){return T},xG:function(){return p},xU:function(){return v},z3:function(){return s}});var r=function(N){return N[N.Cartesian=1]="Cartesian",N[N.Hierarchical=2]="Hierarchical",N[N.Scatter=3]="Scatter",N[N.KeyDrivers=4]="KeyDrivers",N[N.KPI=5]="KPI",N}({}),i=function(N){return N[N.None=0]="None",N[N.DiscreteCategory=1]="DiscreteCategory",N[N.ContinuousCategory=2]="ContinuousCategory",N[N.Value=3]="Value",N[N.ConstantValue=4]="ConstantValue",N}({}),a=function(N){return N[N.None=0]="None",N[N.Analyze=1]="Analyze",N[N.ExpandBy=2]="ExpandBy",N[N.ExplainBy=3]="ExplainBy",N[N.PrimaryKey=4]="PrimaryKey",N[N.Count=5]="Count",N[N.TargetValue=6]="TargetValue",N[N.Sensitivity=7]="Sensitivity",N[N.MinimumValue=8]="MinimumValue",N[N.MaximumValue=9]="MaximumValue",N}({}),t=function(N){return N[N.UnrecognizedAxisType=1]="UnrecognizedAxisType",N[N.NoValidBindings=2]="NoValidBindings",N}({}),l=function(N){return N[N.NoValidBindings=1]="NoValidBindings",N}({}),g=function(N){return N[N.Filters=0]="Filters",N}({}),n=function(N){return N.SASToken="sasToken",N}({}),d=function(N){return N[N.BingMaps=0]="BingMaps",N[N.AzureMaps=1]="AzureMaps",N}({}),s=function(N){return N[N.CanvasTooltip=0]="CanvasTooltip",N[N.DrillThrough=1]="DrillThrough",N}({}),h=function(N){return N[N.DataPointSelection=0]="DataPointSelection",N[N.FormattingSubSelection=1]="FormattingSubSelection",N}({}),o=function(N){return N.Bookmark="Bookmark",N.PageNavigation="PageNavigation",N.ApplyAllSlicers="ApplyAllSlicers",N.ClearAllSlicers="ClearAllSlicers",N}({}),v=function(N){return N[N.Item=0]="Item",N[N.Separator=1]="Separator",N[N.Title=2]="Title",N}({}),m=function(N){return N.Insights="glyphicon pbi-glyph-insight glyph-small",N}({}),p=function(N){return N.PPE="PPE",N.COM="COM",N.CN="CN",N.GCC="GCC",N.GCCHIGH="GCCHIGH",N.DOD="DOD",N}({}),y=function(N){return N.UndefinedToken="UndefinedToken",N.UnrecognizedCode="UnrecognizedCode",N.UserNotSignedIn="UserNotSignedIn",N.RequestError="RequestError",N}({}),S=function(N){return N[N.Outline=0]="Outline",N[N.Vertical=1]="Vertical",N[N.HorizontalCentered=2]="HorizontalCentered",N[N.HorizontalLeft=3]="HorizontalLeft",N}({}),C=function(N){return N[N.Group=0]="Group",N[N.Rectangle=1]="Rectangle",N[N.Line=2]="Line",N[N.Polygon=3]="Polygon",N[N.Arc=4]="Arc",N}({}),u=function(N){return N[N.None=0]="None",N[N.Hover=1]="Hover",N[N.Active=2]="Active",N}({}),E=function(N){return N[N.Down=0]="Down",N[N.Up=1]="Up",N}({}),c=function(N){return N[N.Navigate=0]="Navigate",N[N.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",N[N.RaiseEvent=2]="RaiseEvent",N}({}),f=function(N){return N[N.Single=0]="Single",N[N.Multiple=1]="Multiple",N}({}),D=function(N){return N.Dark="darkTheme",N.Light="lightTheme",N.NeutralGray="neutralGrayTheme",N}({}),b=function(N){return N.Overlayed="overlayedToolbar",N.Stacked="stackedToolbar",N}({}),T=function(N){return N[N.Center=0]="Center",N[N.RelativeToVisual=1]="RelativeToVisual",N}({}),M=function(N){return N[N.Allowed=0]="Allowed",N[N.NotDeclared=1]="NotDeclared",N[N.NotSupported=2]="NotSupported",N[N.DisabledByAdmin=3]="DisabledByAdmin",N}({}),V=function(N){return N[N.Default=0]="Default",N[N.SubSelection=1]="SubSelection",N}({}),w=function(N){return N[N.Tile=0]="Tile",N[N.List=1]="List",N}({}),P=function(N){return N.Callout="callout",N.Highlight="highlight",N}({})},880138:function(me,j,e){e.d(j,{m:function(){return r}});var r=function(i){return i[i.File=0]="File",i[i.OrgStore=1]="OrgStore",i[i.AppSource=2]="AppSource",i[i.Default=3]="Default",i}({})},498832:function(me,j,e){e.d(j,{$d:function(){return r},Ff:function(){return i},Jx:function(){return a},P2:function(){return l},RV:function(){return t}});var r=function(g){return g[g.Clamp=0]="Clamp",g[g.Clip=1]="Clip",g}({}),i=function(g){return g.ContextMenu="contextmenu",g}({}),a=function(g){return g.Border="border",g.Grid="grid",g}({}),t=function(g){return g[g.None=0]="None",g[g.Text=1]="Text",g[g.NumericText=2]="NumericText",g[g.Shape=3]="Shape",g}({}),l=function(g){return g[g.Reset=0]="Reset",g[g.Navigate=1]="Navigate",g[g.Toggle=2]="Toggle",g[g.Picker=3]="Picker",g[g.Sort=4]="Sort",g[g.CustomAction=5]="CustomAction",g[g.ConditionalFormatting=6]="ConditionalFormatting",g[g.Divider=7]="Divider",g[g.SubMenu=8]="SubMenu",g[g.SetValue=9]="SetValue",g[g.ResetAllSettings=10]="ResetAllSettings",g}({})},222277:function(me,j,e){e.d(j,{$:function(){return t},t:function(){return a}});var r=e(785463),i=e(979713),a=(()=>{class l{}return l.NATURAL_LANGUAGE="NaturalLanguage",l})();class t{constructor(g){if(this.version=g.version,this.kind=g.kind,g.kind!==a.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var n=g.version;n===i.m.V01?this.annotation={description:g.annotation.description,isAutoGenerated:g.annotation.isAutoGenerated,name:g.annotation.name,references:g.annotation.references,utterance:g.annotation.utterance}:r.Y.assertNever(n)}}},944338:function(me,j,e){e.d(j,{T:function(){return t},v:function(){return a}});var r=e(979713),i=e(222277),a=r.m.V01;function t(l,g){return g===i.t.NATURAL_LANGUAGE}},979713:function(me,j,e){e.d(j,{m:function(){return r}});var r=function(i){return i[i.V01=1]="V01",i}({})},661249:function(me,j,e){e.d(j,{G4:function(){return a},L4:function(){return t},iL:function(){return l}});var r=e(212485),i=e(785463);class a{findProperty(n,d){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))return s.properties.withName(d)}get isExtensionSchema(){return this.hasOwnProperty("extends")}findHierarchy(n,d){var s=this.entities.withName(n);if(s&&!_.isEmpty(s.hierarchies))return s.hierarchies.withName(d)}findHierarchyLevel(n,d,s){var h=this.entities.withName(n);if(h&&!_.isEmpty(h.hierarchies)){var o=h.hierarchies.withName(d);if(o&&!_.isEmpty(o.levels))return o.levels.withName(s)}}findHierarchyByVariation(n,d,s,h){var o=this.findTargetEntityOfVariation(n,d,s);if(o&&!_.isEmpty(o.hierarchies))return o.hierarchies.withName(h)}findTargetEntityOfVariation(n,d,s){var h=this.entities.withName(n);if(h&&!_.isEmpty(h.properties)){var o=h.properties.withName(d);if(o){var v=o.column;if(v&&!_.isEmpty(v.variations)){var m=v.variations.withName(s);if(m)return m.navigationProperty?m.navigationProperty.targetEntity:h}}}}findPropertyWithKpi(n,d){i.Y.assertValue(d,"kpiProperty");var s=this.entities.withName(n);if(s&&!_.isEmpty(s.properties))for(var h of s.properties)if(h&&h.measure&&h.measure.kpi&&(h.measure.kpi.status===d||h.measure.kpi.goal===d))return h}findVariationMappings(n){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[n]}findVariationToHierarchyMappings(n){var d=this.findVariationMappings(n);return _.filter(d,s=>s.variation.defaultHierarchy)}findTableNameFromMeasureName(n){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[n]}get isMultiDimensionalModel(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange}buildVariationMappings(){var n={};return _(this.entities).filter(d=>d.properties).forEach(d=>{_(d.properties).filter(s=>s.column&&s.column.variations).forEach(s=>{_(s.column.variations).filter(h=>h.navigationProperty&&h.navigationProperty.targetEntity).forEach(h=>{var o=h.navigationProperty.targetEntity.name,v=n[o];v||(n[o]=v=[]),v.push({sourceEntity:d,sourceProperty:s,variation:h})})})}),n}buildMeasureNameToTableNameMappings(){var n={};for(var d of this.entities){var s=function(o){o.measure&&(i.Y.assert(()=>!n[o.name],`there is a collision for ${o.name}; every measure has a unqiue name in the model`),n[o.name]=d.name)};for(var h of d.properties)s(h)}return n}}function t(g){switch(g){case r.B.None:return"None";case r.B.Address:return"Address";case r.B.City:return"City";case r.B.Company:return"Company";case r.B.Continent:return"Continent";case r.B.Country:return"Country";case r.B.County:return"County";case r.B.Date:return"Date";case r.B.Image:return"Image";case r.B.ImageUrl:return"ImageUrl";case r.B.Latitude:return"Latitude";case r.B.Longitude:return"Longitude";case r.B.Organization:return"Organization";case r.B.Place:return"Place";case r.B.PostalCode:return"PostalCode";case r.B.Product:return"Product";case r.B.StateOrProvince:return"StateOrProvince";case r.B.WebUrl:return"WebUrl"}}function l(g){switch(g){case"None":return r.B.None;case"Address":return r.B.Address;case"City":return r.B.City;case"Company":return r.B.Company;case"Continent":return r.B.Continent;case"Country":return r.B.Country;case"County":return r.B.County;case"Date":return r.B.Date;case"Image":return r.B.Image;case"ImageUrl":return r.B.ImageUrl;case"Latitude":return r.B.Latitude;case"Longitude":return r.B.Longitude;case"Organization":return r.B.Organization;case"Place":return r.B.Place;case"PostalCode":return r.B.PostalCode;case"Product":return r.B.Product;case"StateOrProvince":return r.B.StateOrProvince;case"WebUrl":return r.B.WebUrl}}},753519:function(me,j,e){e.d(j,{R:function(){return a}});var r=e(856701),i=function(l){return l[l.None=0]="None",l[l.Log=1]="Log",l}({});function a(l,g){if(l){var n;if(l.top&&(n={Top:{}},l.top.count&&(n.Top.Count=l.top.count)),l.bottom&&(n={Bottom:{}},l.bottom.count&&(n.Bottom.Count=l.bottom.count)),l.sample&&(n={Sample:{}},l.sample.count&&(n.Sample.Count=l.sample.count)),l.window&&(n={Window:{}},l.window.count&&(n.Window.Count=l.window.count)),l.binnedLineSample&&(n={BinnedLineSample:{}},null!=l.binnedLineSample.primaryScalarKey&&(n.BinnedLineSample.PrimaryScalarKey=l.binnedLineSample.primaryScalarKey),l.binnedLineSample.count&&(n.BinnedLineSample.Count=l.binnedLineSample.count),l.binnedLineSample.warningCount&&(n.BinnedLineSample.WarningCount=l.binnedLineSample.warningCount)),l.overlappingPointsSample){var d=l.overlappingPointsSample;n={OverlappingPointsSample:{}},d.count&&(n.OverlappingPointsSample.Count=d.count);var s=d.x;s&&1===_.size(s.role.items)&&(n.OverlappingPointsSample.X=t(g,s.role.items[0].queryName,s.transform));var h=d.y;h&&1===_.size(h.role.items)&&(n.OverlappingPointsSample.Y=t(g,h.role.items[0].queryName,h.transform))}return l.topNPerLevel&&(n={TopNPerLevel:{Count:l.topNPerLevel.count}}),n}}function t(l,g,n){var d={Index:_.findIndex(l,s=>s.name===g)};return n&&n===r.Xx.Log&&(d.Transform=i.Log),d}},596149:function(me,j,e){e.d(j,{$Y:function(){return m},TM:function(){return S},VF:function(){return p},_D:function(){return C}});var r=e(662785),i=e(978450),a=e(460169),t=e(935236),l=e(785463),g=e(289239),n=e(446024),d=e(464205);function s(u,E,c){(0,r.mP)(u)?(h(c),s(u.left,E,c.left),s(u.right,E,c.right)):(0,r.Wc)(u)?(l.Y.assert(()=>(0,r.Qg)(u.left)||(0,r.tx)(u.left)||(0,r.R3)(u.left)||(0,r.b9)(u.left),"expression.left should be fieldRef: entity/measure/column/aggregate"),h(c,u.left),l.Y.assert(()=>(0,r.VO)(u.right),"expression.right should be constant"),E.push(u.right)):l.Y.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function h(u,E){E?u.value=E:(u.left={},u.right={})}function o(u,E){return!(!u||!E)&&(u.left&&u.right?!(!E.left||!E.right)&&o(u.left,E.left)&&o(u.right,E.right):u.value?!!E.value&&(0,i.aI)(u.value,E.value):(l.Y.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function v(u){if((0,d.fF)(u))return u.expr;l.Y.assertFail("selectors should be scoped identities")}function m(u){if(l.Y.assertValue(u,"selectorsByColumnArray"),u){var E={},c=[],f=[],D=[],b=[],T=[],M=[];for(var V of u){var w=[],P={};if(M.push(V.id),T.push(V.metadata),V.dataMap){for(var N in V.dataMap){var I=(0,t.eC)(V.dataMap[N]);for(var O of I){var R={},W=[],F={},U=_.indexOf(D,N);U<0&&(D.push(N),U=D.length-1),s(v(O),W,F);for(var B=-1,x=0;x<f.length;x++)if(o(F,f[x])){B=x;break}B<0&&(f.push(F),B=f.length-1),R[B]=W,P[U]=P[U]||[],P[U].push(B),w.push(R)}}b.push(P),c.push(w)}}return!_.isEmpty(c)&&!_.isEmpty(c)&&(E.decomposedIdentities={values:c,columns:f}),!_.isEmpty(D)&&!_.isEmpty(b)&&(E.queryNames=D,E.queryNameMap=b),_.some(T,L=>!!L)&&(E.metadata=T),_.some(M,L=>!!L)&&(E.id=M),E}}function p(u){if(l.Y.assertValue(u,"filterExpressionMetadata"),u){var E={expressions:u.expressions},c=[],f=[],D=[];if(u.cachedValueItems){for(var b of u.cachedValueItems){D.push(b.valueMap);var T=[];for(var M of b.identities){var V={},w=[],P={};s(v(M),w,V);for(var N=-1,I=0;I<f.length;I++)if(o(V,f[I])){N=I;break}N<0&&(f.push(V),N=f.length-1),P[N]=w,T.push(P)}c.push(T)}E.decomposedIdentities={values:c,columns:f},E.valueMap=D}return E}}function y(u,E,c){if(E.left&&E.right){var f=y(u,E.left,c),D=y(u,E.right,c);return(0,n.Uo)(f,D)}if(E.value){var b=E.value,T=u[c.index++];return l.Y.assert(()=>(0,r.Qg)(b)||(0,r.tx)(b)||(0,r.R3)(b)||(0,r.b9)(b),"expression.left should be fieldRef: entity/measure/column/aggregate"),l.Y.assert(()=>(0,r.VO)(T),"expression.right should be constant"),(0,n.UD)(a.mq.Equal,b,T)}l.Y.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function S(u){if(l.Y.assertValue(u,"decomposedSelectors"),u){var E=[],c=u.decomposedIdentities&&u.decomposedIdentities.values,f=u.decomposedIdentities&&u.decomposedIdentities.columns,D=u.queryNames,b=u.queryNameMap;if(c&&f)for(var T=0;T<c.length;T++){var M=c[T],V={dataMap:{}};V.metadata=u.metadata&&u.metadata[T],V.id=u.id&&u.id[T];var w=b[T];for(var P of M){var N=_.keys(P);for(var I of N){var O=_.toNumber(I);for(var R in w){var W=w[R];if(_.indexOf(W,O)>=0){var F=D[R],x=y(P[O],f[O],{index:0}),A=(0,g.UQ)(x);V.dataMap[F]=V.dataMap[F]||[],V.dataMap[F].push(A),_.pull(W,O);break}}}}E.push(V)}else{if(!_.isEmpty(u.metadata))for(var L of u.metadata){var Y={};Y.metadata=L,E.push(Y)}if(!_.isEmpty(u.id))for(var z=_.isEmpty(E),H=0;H<u.id.length;H++){var k=z?{}:E[H];k.id=u.id[H],z&&E.push(k)}}return E}}function C(u){if(l.Y.assertValue(u,"decomposedSelectors"),u){var E={expressions:u.expressions},c=u.decomposedIdentities&&u.decomposedIdentities.values,f=u.decomposedIdentities&&u.decomposedIdentities.columns,D=[];if(c&&f){for(var b=0;b<c.length;b++){var T=c[b],M=[];for(var V of T)for(var w in V){var I=y(V[w],f[w],{index:0}),O=(0,g.UQ)(I);M.push(O)}D.push({identities:M,valueMap:u.valueMap[b]})}_.isEmpty(D)||(E.cachedValueItems=D),u.jsonFilter&&(E.jsonFilter=u.jsonFilter)}return E}}},160800:function(me,j,e){e.d(j,{ES:function(){return v},IW:function(){return i},JD:function(){return d},K3:function(){return n},LV:function(){return C},S_:function(){return o},Sw:function(){return a},Tg:function(){return r},Wy:function(){return S},d9:function(){return p},kD:function(){return s},rP:function(){return y},u2:function(){return g},xx:function(){return l},ye:function(){return t}});var r=function(u){return u[u.Visible=0]="Visible",u[u.Hidden=1]="Hidden",u[u.ShowAsVariationsOnly=2]="ShowAsVariationsOnly",u[u.IsPrivate=4]="IsPrivate",u}({}),i=function(u){return u[u.Queryable=0]="Queryable",u[u.Error=1]="Error",u}({}),a=function(u){return u[u.ZeroOrOne=0]="ZeroOrOne",u[u.One=1]="One",u[u.Many=2]="Many",u}({}),t=function(u){return u[u.Column=0]="Column",u[u.Measure=1]="Measure",u[u.Kpi=2]="Kpi",u}({}),l=function(u){return u[u.Default=0]="Default",u[u.None=1]="None",u[u.Sum=2]="Sum",u[u.Count=3]="Count",u[u.Min=4]="Min",u[u.Max=5]="Max",u[u.Average=6]="Average",u[u.DistinctCount=7]="DistinctCount",u}({}),g=function(u){return u[u.Default=0]="Default",u[u.DiscourageAcrossGroups=1]="DiscourageAcrossGroups",u}({}),n=function(u){return u[u.Sum=0]="Sum",u[u.Count=1]="Count",u[u.Min=2]="Min",u[u.Max=3]="Max",u}({}),d=function(u){return u[u.Default=0]="Default",u[u.Weak=1]="Weak",u}({}),s=function(u){return u[u.Single=0]="Single",u[u.Both=1]="Both",u}({}),o=function(u){return u[u.WhatIf=0]="WhatIf",u[u.MParameters=1]="MParameters",u[u.Field=2]="Field",u}({}),v=function(u){return u[u.Version0=0]="Version0",u[u.Version1=1]="Version1",u}({}),p=function(u){return u[u.None=0]="None",u[u.OnOrBefore=1]="OnOrBefore",u[u.OnOrAfter=2]="OnOrAfter",u[u.Before=3]="Before",u[u.After=4]="After",u}({}),y=function(u){return u[u.IsOnOrAfter=0]="IsOnOrAfter",u[u.IsAfter=1]="IsAfter",u}({}),S=function(u){return u[u.Collapsed=0]="Collapsed",u[u.Expanded=1]="Expanded",u}({}),C=function(u){return u[u.None=0]="None",u[u.Before=1]="Before",u[u.After=2]="After",u}({})},904046:function(me,j,e){e.d(j,{Ry:function(){return p},ZF:function(){return s},Ze:function(){return C},nu:function(){return g},o8:function(){return n},qj:function(){return S},rz:function(){return u},t7:function(){return h},uS:function(){return d},ye:function(){return y}});var r=e(978450),i=e(935236),a=e(785463),t=e(42630),l=e(464205);class g{constructor(c,f={}){a.Y.assertNonEmpty(c,"Empty roles"),this.roles=c,this.root={identityValues:null,children:[],parent:null},this.levels=[];var{supportsMerge:D,canCollapseRoot:b,collapseParentAfterRemovingChildLevel:T}=f;this.supportsMerge=!!D,this.canCollapseRoot=!!b,this.collapseParentAfterRemovingChildLevel=!!T}updateLevels(c,f){if(!_.isEmpty(c)&&(0!==f||this.canCollapseRoot)){a.Y.assert(()=>f<=_.size(c),"Number of active projections cannot be greater than the number of projections");var D=c.length,b=this.levels;this.levels=new Array(D);for(var T=0;T<D;T++){var M=T>=f-1,V=b[T],w=[c[T]];V&&_.isEqual(V.queryRefs,w)?(this.levels[T]=V,V.isCollapsed=M):this.levels[T]={isCollapsed:M,queryRefs:w,toggledNodes:[]}}this.canCollapseRoot&&(0===f?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(f)}}clone(){for(var c={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},f=new g(_.clone(this.roles),c),D=new Array(this.levels.length),b=0;b<this.levels.length;b++)D[b]=[];return f.levels=_.map(this.levels,(T,M)=>this.cloneExpansionLevel(T,D,M)),f.root=this.cloneExpansionNode(this.root,null,D,-1),f}isStateModified(){return _.some(this.levels,c=>!c.isCollapsed)||!_.isEmpty(this.root.children)}addLevel(c,f){a.Y.assert(()=>this.supportsMerge);var D=_.findLastIndex(this.levels,P=>P.isPinned),b={isCollapsed:!0,queryRefs:[c],toggledNodes:[],isPinned:f<=D||void 0};a.Y.assert(()=>f<=_.size(this.levels),"position > count of levels");for(var T=_.findIndex(this.levels,P=>!_.isEmpty(P.toggledNodes),f),V=-1===T?f:T;V<_.size(this.levels);V++)this.setLevelState(V,!0);if(this.levels.splice(f,0,b),this.unlockLevels(f),b.isPinned)for(var w=0;w<f;w++)delete this.levels[w].AIInformation}removeLevel(c){var f;a.Y.assert(()=>this.supportsMerge),a.Y.assert(()=>c>=0&&c<_.size(this.levels),"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(f=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,D=>D===c),this.levels.splice(c,1),this.collapseParentAfterRemovingChildLevel&&c>0&&c===f-1&&this.setLevelState(c-1,!0),c<_.size(this.levels)&&this.unlockLevels(c)}moveLevels(c,f,D){a.Y.assert(()=>this.supportsMerge),a.Y.assert(()=>c<_.size(this.levels),"sourceIndex >= count of level"),a.Y.assert(()=>f<_.size(this.levels),"targetIndex >= count of level");var b=_.findLastIndex(this.levels,O=>O.isPinned),T=Math.min(c,f);if(f>c){a.Y.assert(()=>c+D<=_.size(this.levels),"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,O=>O>=c&&O<c+D);for(var M=c;M<Math.min(c+D,_.size(this.levels));M++)this.levels[M].toggledNodes=[]}var V=this.levels.splice(c,D);this.levels.splice(f,0,...V||[]);for(var w=_.findIndex(this.levels,O=>!_.isEmpty(O.toggledNodes),f),N=-1===w?f:w;N<_.size(this.levels);N++)this.setLevelState(N,!0);if(this.unlockLevels(T),c>b&&f<=b?_.forEach(V,O=>O.isPinned=!0):c<=b&&f>b&&_.forEach(V,O=>O.isPinned=!1),_.forEach(V,O=>delete O.AIInformation),this.levels[f].isPinned)for(var I=0;I<f;I++)delete this.levels[I].AIInformation}getVisibleDescendentsDepth(c,f){var D=this.levels.length;if(a.Y.assert(()=>f<D,"node out of bounds"),-1===f&&this.canCollapseRoot&&c.isToggled)return 0;for(var b=[c];;){if(f===D-1)return f+1;var T=this.levels[f]&&this.levels[f].isCollapsed,M=void 0,V=[];for(var w of b)!T==!w.isToggled&&(V.push(...w.children||[]),M=!0);if(M&&f++,!(V.length>0))break;b=V}for(;f<D-1&&(-1===f||!this.levels[f].isCollapsed);)f++;return f+1}removeIntermediateNodes(c,f,D){if(D(f)){var b=!!c.isToggled!=!!this.levels[f].isCollapsed;_.pull(c.parent.children,c),_.forEach(c.children,T=>{b&&(T.isToggled=!this.levels[f+1].isCollapsed),T.parent=c.parent,c.parent.children.push(T)})}_.forEach([...c.children||[]],T=>this.removeIntermediateNodes(T,f+1,D))}cloneExpansionLevel(c,f,D){return{isCollapsed:c.isCollapsed,identityKeys:this.cloneExpressionList(c.identityKeys),queryRefs:_.clone(c.queryRefs),toggledNodes:f[D],isPinned:c.isPinned,isLocked:c.isLocked,AIInformation:c.AIInformation?{method:c.AIInformation.method,disabled:c.AIInformation.disabled}:void 0}}cloneExpansionNode(c,f,D,b){var T={identityValues:this.cloneExpressionList(c.identityValues),children:[],parent:f};for(var M of(void 0!==c.isToggled&&(T.isToggled=c.isToggled),b>=0&&D[b].push(T),c.children))T.children.push(this.cloneExpansionNode(M,T,D,b+1));return T}cloneExpressionList(c){return c?_.map(c,f=>f):null}setNodeState(c,f){if(c&&_.isEmpty(c.data))return a.Y.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),f?this.root.isToggled=!0:delete this.root.isToggled,this.root;var D=(0,l.uR)(c);if(D){for(var b=D.length,T=this.root,M=0;M<b;M++){var V=D[M],w=(0,t.xD)(V.expr);if(!this.ensureLevel(M,w))return;var N=(0,t.BI)(V.expr);T=this.ensureChildNode(M,T,N,M===b-1?f:void 0)}if(!this.pruneNonToggledLeaf(T))return T}}ensureLevel(c,f){var D=this.levels[c];if(a.Y.assertValue(D,"level does not exist"),D.identityKeys){if(!(0,i.m2)(D.identityKeys,f,r.aI))return}else D.identityKeys=f;return D}ensureChildNode(c,f,D,b){a.Y.assertValue(f,"parent"),a.Y.assertValue(D,"identityValues"),a.Y.assertValue(c>=0,"levelIdx >= 0");var T=this.levels[c];a.Y.assertValue(T,"level does not exist");var M=this.findNodeMatchingIdentities(f.children,D);return M||f.children.push(M={children:[],identityValues:D,parent:f}),void 0!==b&&(b!==!!T.isCollapsed?(M.isToggled=!0,_.indexOf(T.toggledNodes,M)<0&&T.toggledNodes.push(M)):(delete M.isToggled,T.toggledNodes=_.filter(T.toggledNodes,V=>V!==M))),M}pruneNonToggledLeaf(c){a.Y.assertValue(c,"node");for(var f=!1;c.parent&&!c.isToggled&&_.isEmpty(c.children);)c.parent.children=_.filter(c.parent.children,D=>D!==c),c=c.parent,f=!0;return f}setLevelState(c,f){if(-1===c)return a.Y.assert(()=>this.canCollapseRoot,"Collapse to root capability is not enabled"),void(f?this.root.isToggled=!0:delete this.root.isToggled);a.Y.assert(()=>c>-1,"levelIdx");var D=this.levels[c];if(D){for(var b of(D.isCollapsed=f,D.toggledNodes))delete b.isToggled,this.pruneNonToggledLeaf(b);D.toggledNodes=[]}}pinLevels(c){a.Y.assert(()=>c<=_.size(this.levels),"Requested pinning of too many levels");for(var f=0;f<Math.min(c,_.size(this.levels));f++)this.levels[f].isPinned=!0}unpinLevels(c){a.Y.assert(()=>c<_.size(this.levels),"Level does not exist");var f=this.getVisibleDescendentsDepth(this.root,-1);a.Y.assert(()=>c>=f-1,"cannot unpin projected level");for(var D=Math.max(c,f-1);D<_.size(this.levels);D++)delete this.levels[D].isPinned}lockLevels(c){a.Y.assert(()=>c<=_.size(this.levels),"Requested locking of too many levels");for(var f=0;f<Math.min(c,_.size(this.levels));f++)this.levels[f].isLocked=!0}unlockLevels(c){a.Y.assert(()=>c<_.size(this.levels),"Level does not exist");for(var f=c;f<_.size(this.levels);f++)delete this.levels[f].isLocked}setAILevelInformation(c,f){a.Y.assert(()=>c<_.size(this.levels),"Level does not exist"),f?this.levels[c].AIInformation=_.cloneDeep(f):delete this.levels[c].AIInformation}getAILevelInformation(c){return a.Y.assert(()=>c<_.size(this.levels),"Level does not exist"),_.cloneDeep(this.levels[c].AIInformation)}isWholeLevelExpanded(c){var f=this.levels[c];return!f||!f.isCollapsed&&_.isEmpty(f.toggledNodes)}isHierarchyExpanded(){a.Y.assertNonEmpty(this.levels,"levels"),a.Y.assert(()=>this.isWholeLevelCollapsed(this.levels.length-1),"Last level should be collapsed");for(var c=0;c<this.levels.length-1;c++)if(!this.isWholeLevelExpanded(c))return!1;return!0}isWholeLevelCollapsed(c){var f=this.levels[c];return f&&f.isCollapsed&&_.isEmpty(f.toggledNodes)}getNodeLevelState(c,f,D){if(a.Y.assertNonEmpty(c,"identities"),a.Y.assert(()=>D>=0,"levelIndex >= 0"),D>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var b=c[0],T=this.ensureLevel(D,(0,t.xD)(b.expr));if(T){var w,M=!_.isEmpty(T.toggledNodes),V=(0,t.BI)(b.expr);return f&&(w=this.findNodeMatchingIdentities(f.children,V)),1===c.length?w?{isNodeCollapsed:w.isToggled?!T.isCollapsed:T.isCollapsed,levelHasToggledNodes:M}:{isNodeCollapsed:T.isCollapsed,levelHasToggledNodes:M}:(c.splice(0,1),this.getNodeLevelState(c,w,D+1))}}rewrite(c){for(var f of this.levels)f.identityKeys&&(f.identityKeys=_.map(f.identityKeys,D=>D.accept(c)));return this.root=this.rewriteNodeExpansionState(this.root,c),this}rewriteNodeExpansionState(c,f){return c.identityValues&&(c.identityValues=_.map(c.identityValues,D=>D.accept(f))),c.children=_.map(c.children,D=>this.rewriteNodeExpansionState(D,f)),c}findNodeMatchingIdentities(c,f){return _.find(c,D=>(0,i.m2)(D.identityValues,f,r.aI))}}function n(E){if(E)return _.map(E,c=>c.clone())}function d(E,c){return a.Y.assertValue(E,"ExpansionStates"),a.Y.assertNonEmpty(c,"Empty roles"),_.find(E,f=>_.isEqual(f.roles,c))}function s(E,c){return a.Y.assertValue(E,"ExpansionStates"),a.Y.assertValue(c,"Role"),_.find(E,f=>_.includes(f.roles,c))}function h(E,c){return(0,i.m2)(E,c,o)}function o(E,c){return!(!E!=!c||!_.isEqual(E.roles,c.roles)||!(0,i.m2)(E.levels,c.levels,v))&&m(E.root,c.root)}function v(E,c){return!E&&!c||!!(E&&c&&_.isEqual(E.queryRefs,c.queryRefs)&&(0,i.m2)(E.identityKeys,c.identityKeys,r.aI)&&E.isCollapsed===c.isCollapsed&&(0,i.m2)(E.toggledNodes,c.toggledNodes,m))}function m(E,c){return!(!(0,i.m2)(E.identityValues,c.identityValues,r.aI)||!!E.isToggled!=!!c.isToggled||!(0,i.m2)(E.children,c.children,m))}function p(E){return!_.isEmpty(E)}function y(E){return!_.isEmpty(E.root.children)||!_.isEmpty(E.root.identityValues)}function S(E){return _.findIndex(E.levels,c=>c.isPinned)>=0}function C(E,c,f){var D=d(E,c);if(D)return D.getAILevelInformation(f)}function u(E,c){var f=d(E,c);return f?_.findLastIndex(f.levels,D=>D.isPinned)+1:0}},741799:function(me,j,e){e.d(j,{I:function(){return i}});var r=e(785463);class i{constructor(t){r.Y.assertValue(t,"options"),this.schemasByName=t.schemas,t.links&&(this.links=t.links)}static merge(t){if(1===t.length)return t[0];var l={},g=[];for(var n of t){var d=function(m){r.Y.assert(()=>!l[m],`Duplicate schema name ${m} found while merging`),l[m]=n.schemasByName[m]};for(var s in n.schemasByName)d(s);g.push(...n.links||[])}var h=function(){var m=l[o];if(m.isExtensionSchema){var p=l[m.extends];r.Y.assert(()=>!p.isExtensionSchema,"Extension schemas cannot themselves be extended"),i.mergeCapabilities(p,m)}};for(var o in l)h();var v={schemas:l};return _.some(g)&&(v.links=g),new i(v)}get schemas(){return _.values(this.schemasByName)}schema(t){return this.schemasByName[t]}static mergeCapabilities(t,l){l.capabilities={...t.capabilities,canEdit:l.capabilities.canEdit,isExtendable:l.capabilities.isExtendable}}}},732106:function(me,j,e){e.d(j,{V:function(){return l},a:function(){return t}});var r=e(460169),i=e(219481),a=e(785463);function t(g){switch(g){case r.Fj.Add:return"Add";case r.Fj.Subtract:return"Subtract";case r.Fj.Multiply:return"Multiply";case r.Fj.Divide:return"Divide"}return(0,i.fJ)("Unexpected ArithmeticOperatorKind: "+g)}function l(g){switch(g){case r.Sn.Sum:return"Sum";case r.Sn.Avg:return"Avg";case r.Sn.Count:return"Count";case r.Sn.Min:return"Min";case r.Sn.Max:return"Max";case r.Sn.CountNonNull:return"CountNonNull";case r.Sn.Median:return"Median";case r.Sn.StandardDeviation:return"StandardDeviation";case r.Sn.Variance:return"Variance";default:a.Y.assert(()=>null==g,"Unrecognized aggregate function.")}}},425023:function(me,j,e){e.d(j,{Lw:function(){return n},o8:function(){return g},yl:function(){return l}});var r=e(978450),i=e(785463),a=e(974255),t=e(402194);class l{constructor(s,h,o,v){i.Y.assertValue(s,"items"),this.items=s,this._activeProjectionRefs=h,this._showAll=o,this.parameters=v||[]}all(){return this.items}resetHiddenState(s){if(!_.isEmpty(this.items))for(var h of this.items)h.queryRef===s&&delete h.hidden}toggleHidden(s){if(!_.isEmpty(this.items))for(var h of this.items)h.queryRef===s&&(h.hidden=!h.hidden)}resetAllHiddenState(){for(var s of this.items)delete s.hidden}projected(){return _.isEmpty(this.items)?this.items:_.filter(this.items,s=>s&&!s.hidden)}addProjection(s,h){var o,v,m;h&&(o=h.fieldIndex,v=h.parameter,m=h.indexInParameter);var p=this.getProjectionIndex(o,v,m);this.fixUpParameterIndices(v,o,1),p>=this.items.length?this.items.push(s):this.items.splice(p,0,s)}removeProjection(s){var h,o,v;s&&(h=s.fieldIndex,o=s.parameter,v=s.indexInParameter),i.Y.assert(()=>null!=h||null!=o&&null!=v,"When removing a projection we expect field index or the parameter options to be complete.");var m=this.getProjectionIndex(h,o,v);this.fixUpParameterIndices(o,h,-1),this.items.splice(m,1)}fixUpParameterIndices(s,h,o){for(var v of this.parameters)s?v.index===s.index&&(void 0===v.length&&(v.length=0),v.length+=o):null!=h&&v.index>=h&&(o>0?v.index>=h:v.index>h)&&(v.index+=o)}moveFields(s,h,o){var v,m,p;if(0===this.parameters.length)v=s,m=o,p=h;else{if(i.Y.assert(()=>s>=0&&s<this.getFieldCount()&&h>=0&&h<this.getFieldCount(),"Should use valid field indices"),i.Y.assert(()=>s+o<=this.getFieldCount(),"Should not attempt to move more fields than exist in collection"),i.Y.assert(()=>h+o<=this.getFieldCount(),"Moving projections should not change the length of collection"),o<=0||s===h)return[];v=this.convertFieldIndexToProjectionIndex(s);var S=this.indexOfLastProjectionInField(s+o-1);for(var c of(m=S-v+1,p=this.convertFieldIndexToProjectionIndex(h),h>s&&(p+=this.indexOfLastProjectionInField(h+o-1)-p+1-m),this.parameters))c.index>=s&&c.index<=s+o-1?c.index=h+c.index-s:c.index>s&&c.index<=h+o-1?c.index-=o:c.index<s&&c.index>=h&&(c.index+=o);if(S<v)return[]}var f=this.items.splice(v,m);return this.items.splice(p,0,...f||[]),f}assignProjection(s,h){this.items[h]=s}updateQueryRef(s,h){this.items[s].queryRef=h}getQueryRefs(){return _.map(this.items,s=>s.queryRef)}getFieldParameters(){return this.parameters}getParameterByQueryRef(s){var h=this.getFieldParameters();for(var o of h)if(this.getParameterProjections(o).some(m=>m.queryRef===s))return o}addFieldParameter(s){for(var h of this.parameters)h.index>=s.index&&h.index++;this.parameters.push(s)}getColumnProjectionIndex(s){return i.Y.assert(()=>!_.find(this.parameters,h=>h.index===s),"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(s)}getProjectionsByProjectionIndex(s){var h=this.convertProjectionIndexToFieldIndex(s),o=this.getParameterByFieldIndex(h);return o?this.getParameterProjections(o):[this.items[s]]}getProjectionsByFieldIndex(s){var h=this.getParameterByFieldIndex(s);if(h){var o=this.getParameterProjections(h),v=_.filter(o,y=>null!=y);return v.length!==o.length&&i.Y.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),v}var m=this.convertFieldIndexToProjectionIndex(s),p=this.items[m];return null==p?(i.Y.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[p]}convertProjectionIndexToFieldIndex(s){if(_.isEmpty(this.parameters))return s;var h=0,o=0,v=_.sortBy(this.parameters,p=>p.index);for(var m of v){if(h+s-o<m.index)break;if((o+=m.index-h-1)+(m.length??0)>s)return m.index;h=m.index,o+=m.length??0}return h+s-o}doesParameterExist(s){return _.some(this.parameters,h=>h.index===s)}getParameterProjectionIndex(s,h){return i.Y.assert(()=>s&&null!=h,"Parameter and indexInParameter should both be defined"),i.Y.assert(()=>this.doesParameterExist(s.index),"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(s.index)+h}getColumnProjection(s){if(!this.doesParameterExist(s))return this.items[this.getColumnProjectionIndex(s)]}getParameterProjections(s){if(!s||!s.length)return[];var h=this.convertFieldIndexToProjectionIndex(s.index);return this.items.slice(h,h+s.length)}removeFieldParameters(s){var v,h=this,o=function(p){var y=_.findIndex(h.parameters,E=>E.index===p.index&&(0,r.aI)(E.expr,p.expr));if(y<0)return{v:!1};var S=h.parameters.splice(y,1)[0],C=S.index;for(var u of(i.Y.assert(()=>0===S.length||null==S.length,"there should be no projections for this removed parameter"),h.parameters))u.index>C&&u.index--};for(var m of s)if(v=o(m))return v.v;return!0}findParameterBySQExpr(s){return _.isEmpty(this.parameters)?[]:this.parameters.filter(h=>(0,r.aI)(h.expr,s))}getParameterByFieldIndex(s){return _.find(this.parameters,h=>h.index===s)}get activeProjectionRefs(){return this._activeProjectionRefs}set activeProjectionRefs(s){if(_.isEmpty(s))this._activeProjectionRefs=void 0;else{var h=this.items.map(v=>v.queryRef);for(var o of s)if(!_.includes(h,o))return;this._activeProjectionRefs=s}}get showAll(){return this._showAll}set showAll(s){this._showAll=s}addActiveQueryReference(s){this._activeProjectionRefs?this._activeProjectionRefs.push(s):this._activeProjectionRefs=[s]}getLastActiveQueryReference(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]}replaceQueryRef(s,h){for(var o of(i.Y.assertValue(s,"oldQueryRef"),i.Y.assertValue(h,"newQueryRef"),i.Y.assert(()=>s!==h,"oldQueryRef !== newQueryRef"),i.Y.assert(()=>_.isEmpty(this._activeProjectionRefs),"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role"),this.items))o.queryRef===s&&(o.queryRef=h)}clone(){return new l(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,s=>({expr:s.expr,index:s.index,length:s.length})))}getProjectionIndex(s,h,o){var v;if(h){var m=h.length??0;null!=o?(i.Y.assert(()=>o<=m,"indexInParameter should not exceed the current length of the parameter's projections."),v=this.convertFieldIndexToProjectionIndex(h.index)+o):v=this.convertFieldIndexToProjectionIndex(h.index)+m}else v=null!=s?this.convertFieldIndexToProjectionIndex(s):this.items.length;return v}convertFieldIndexToProjectionIndex(s){return(0,t.QX)(s,this.parameters)}indexOfLastProjectionInField(s){var h=this.convertFieldIndexToProjectionIndex(s),o=_.find(this.parameters,v=>v.index===s);return o&&(h+=o.length-1),h}getFieldCount(){var s=this.items.length;for(var h of this.parameters)s-=(h.length??0)-1;return s}}function g(d){if(!d)return d;var s={};for(var h in d)s[h]=d[h].clone();return s}function n(d,s){if(i.Y.assertAnyValue(d,"roles"),i.Y.assertValue(s,"name"),d)return d[s]}(0,a.d)(l.prototype)},464205:function(me,j,e){e.d(j,{$B:function(){return b},Ac:function(){return R},Bz:function(){return c},Dj:function(){return T},EU:function(){return u},Pl:function(){return B},Pv:function(){return w},Rf:function(){return v},Sn:function(){return P},XJ:function(){return V},aI:function(){return M},fF:function(){return m},i7:function(){return I},is:function(){return U},j9:function(){return F},jG:function(){return S},kH:function(){return O},mu:function(){return N},o8:function(){return x},pB:function(){return y},rh:function(){return p},sJ:function(){return D},ss:function(){return f},uR:function(){return E},z2:function(){return C},zP:function(){return W}});var r=e(935236),i=e(785463),a=e(121153),t=e(392339),l=e(289239),g=e(101903),n=e(815863),d=e(118307),s=e(42630),h=e(446024),o=e(118883),v="{}";function m(A){return null!=A&&A.kind===a.y.ScopeIdentity}function p(A){return null!=A&&A.kind===a.y.ScopeWildcard}function y(A){return null!=A&&A.kind===a.y.ScopeTotal}function S(A){return null!=A&&A.kind===a.y.RoleWildcard}function C(A){return null!=A&&A.kind===a.y.Wildcard}function u(A){return!(!A||!A.data)&&A&&A.data&&1===A.data.length&&C(A.data[0])}function E(A){if(A&&!_.isEmpty(A.data)){for(var L=A.data.length,Y=new Array(L),z=0;z<L;z++){var H=A.data[z];if(!m(H))return;Y[z]=H}return Y}}function c(A){if(A&&A.dataMap){var L=[];for(var Y in A.dataMap){var z=(0,r.eC)(A.dataMap[Y]);L.push(...z||[])}return L}}function f(A,L){if(!_.isEmpty(A)){var Y=b(A);if(!_.isEmpty(Y))return(0,l.vP)(Y,L)}}function D(A){return f(_.map(A,L=>F(L)))}function b(A){if(!_.isEmpty(A)){for(var L=[],Y=function(){var Z=A[z];i.Y.assert(()=>!!Z,"There is an undefined selector in a list of selectors");var K,k=Z?.data;if(!_.isEmpty(k))for(var ee=0,Q=k.length;ee<Q;ee++)K=(0,h.Uo)(K,(Z?.data[ee]).expr);K&&L.push(K)},z=0,H=A.length;z<H;z++)Y();return L}}function T(A){if(!_.isEmpty(A))for(var L of A)if(L.dataMap)for(var Y in L.dataMap){var z=L.dataMap[Y];if(!_.isEmpty(z)&&_.some(z,H=>null!=H))return!0}}function M(A,L,Y){return(A=A||null)===(L=L||null)||!(!A!=!L||(i.Y.assertValue(A,"x"),i.Y.assertValue(L,"y"),A.metadata!==L.metadata)||!V(A.data,L.data)||A.highlightMatching!==L.highlightMatching||!Y?.skipId&&A.id!==L.id||!Y?.skipOrder&&A.order!==L.order)}function V(A,L){if((A=A||null)===(L=L||null))return!0;if(!A!=!L||A.length!==L.length)return!1;for(var Y=0,z=A.length;Y<z;Y++)if(!N(A[Y],L[Y]))return!1;return!0}function w(A,L){return(A=A||null)===(L=L||null)||!A==!L&&M(F(A),F(L))}function P(A,L){if((A=A||null)===(L=L||null))return!0;if(!A!=!L||A.length!==L.length)return!1;for(var Y=0;Y<A.length;Y++)if(!w(A[Y],L[Y]))return!1;return!0}function N(A,L){return m(A)&&m(L)?(0,l.aI)(A,L):p(A)&&p(L)?(0,n.aI)(A,L):y(A)&&y(L)?(0,g.aI)(A,L):S(A)&&S(L)?(0,t.aI)(A,L):!(!C(A)||!C(L))&&(0,d.aI)(A,L)}function I(A){var L;if(A.data)if(A.data.length>0){L=`data: [${A.data[0].key}`;for(var Y=1,z=A.data.length;Y<z;Y++)L+=`, ${A.data[Y].key}`;L+="]"}else L="data: []";var H=A.metadata;H&&(L?L+=", metadata: "+H:L="metadata: "+H);var Z=A.id;return Z&&(L?L+=", id: "+Z:L="id: "+Z),L?"{"+L+"}":"{}"}function O(A,L){if(_.isEmpty(A.data))return[v];var Y=[];if(L)Y=_.map(A.data,Z=>Z.key);else for(var z of A.data)if(m(z)){var H=(0,s.xD)(z.expr);H=H||(0,s.BI)(z.expr),_.forEach(H,Z=>{Y.push((0,o.lK)(Z))})}return Y}function R(A){i.Y.assertValue(A,"selector");var L=A.data;return!!L&&_.some(L,Y=>S(Y)||p(Y)||C(Y))}function W(A){i.Y.assertValue(A,"selector");var L=A.data;if(_.isEmpty(L))return!1;for(var Y of L)if(S(Y))return!0;return!1}function F(A){if(A){var L=[];for(var Y in A.dataMap){var z=(0,r.eC)(A.dataMap[Y]);for(var H of z)L.push(H)}var Z={};return L.length>0&&(Z.data=L),A.metadata&&(Z.metadata=_.head(A.metadata)),A.id&&(Z.id=A.id),Z}}function U(A,L){if(A&&A.metadata){i.Y.assertNonEmpty(L,"getSelectorTargetExpr - selectTransforms");var Y=_.find(L,z=>z.queryName===A.metadata);if(Y)return Y.expr}}function B(A){return i.Y.assertAnyValue(A,"selector"),A&&A.data?{data:A.data}:A}function x(A){var L={};return A.data&&(L.data=[...A.data]),A.metadata&&(L.metadata=A.metadata),A.id&&(L.id=A.id),void 0!==A.highlightMatching&&(L.highlightMatching=A.highlightMatching),null!=A.order&&(L.order=A.order),void 0!==A.hierarchyMatching&&(L.hierarchyMatching=A.hierarchyMatching),L}},770528:function(me,j,e){e.d(j,{I:function(){return i},z:function(){return a}});var r=e(785463),i=function(t){return t[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",t}({});function a(t){r.Y.assertValue(t,"visualElements shouldn't be empty");var l=[];for(var g of t){var n=function(s){_.find(l,h=>_.isEqual(h,s))||l.push(s)};for(var d of g.DataRoles)n(d)}return l}},549062:function(me,j,e){e.d(j,{V9:function(){return o},tU:function(){return v}});var r=e(662785),i=e(978450),a=e(935236),t=e(785463),l=e(42630),g=e(464205);function d(y){return _.cloneDeep(y)}function h(y){return{windowValues:_.map(y.windowValues,S=>function(y){return{identityValues:_.clone(y.identityValues),restartValues:_.clone(y.restartValues),windowKind:y.windowKind}}(S)),identityValues:_.clone(y.identityValues),children:_.map(y.children,S=>h(S))}}function o(y,S,C,u){if(y){y=function(y){if(y)return{levels:d(y.levels),root:h(y.root)}}(y);var E=(0,g.uR)(S);if(!E)return t.Y.assertFail("Empty selector"),y;for(var b,c=y.root,f=0,D=function(){var V=(0,l.xD)(E[f].expr);if(!y.levels[f]||!(0,a.m2)(V,y.levels[f].identityKeys,i.aI))return t.Y.assertFail("Level not found"),{v:y};var w=(0,l.BI)(E[f].expr);c=_.find(c.children,P=>(0,a.m2)(P.identityValues,w,i.aI)),f++};c&&f<_.size(E)-1;)if(b=D())return b.v;if(!c||f<_.size(E)-1)return t.Y.assertFail("Cannot find node"),y;var T=(0,l.BI)(E[f].expr);if(u)c.windowValues=[{identityValues:T,windowKind:C,restartValues:u}];else{var M=_.find(c.windowValues,V=>(0,a.m2)(T,V.identityValues,i.aI));if(!M)return t.Y.assertValue(M,"Cannot find a window for the specified node"),c.windowValues=[],y;M.windowKind=C,c.windowValues=[M]}return y}}function v(y,S,C,u){if(y&&y.root){var E=_.map(y.levels,f=>function(y,S,C){if(y.identityKeys)return y.identityKeys;var u=_.map(y.queryRefs,E=>{var c=S.withName(E);t.Y.assertValue(c,"Cannot find expr "+E);var f=c.expr;return(0,r.Ah)(f)?f.getTargetColumnRef(C):f});return t.Y.assert(()=>1===_.size(u),"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),u[0].getKeyColumns(C)}(f,C,u)),c=0;return S&&(c=-1===(c=_.findIndex(S.levels,(f,D)=>!(0,a.m2)(f.identityKeys,E[D],i.aI)))?_.size(S.levels):c),{levels:_.map(E,f=>({identityKeys:f})),root:p(y.root,S&&S.root,c,0,y.levels)}}}function p(y,S,C,u,E){t.Y.assertValue(y,"Expansion node should be defined");var c=S&&S.children||[],f=S&&S.windowValues||[];u>=C&&(c=[],f=[]);var b=_.filter(y.children,T=>E[u]&&!!T.isToggled==!!E[u].isCollapsed);return{children:_.map(b,T=>p(T,(T=>S&&_.find(c,M=>(0,a.m2)(T,M.identityValues,i.aI)))(T.identityValues),C,u+1,E)),identityValues:y.identityValues,windowValues:f}}},839765:function(me,j,e){e.d(j,{D:function(){return r},b:function(){return i}});var r=function(a){return a[a.Default=0]="Default",a[a.BypassCache=1]="BypassCache",a}({}),i=function(a){return a[a.None=0]="None",a[a.AllowCache=1]="AllowCache",a[a.AllowQuery=2]="AllowQuery",a[a.CacheResult=4]="CacheResult",a[a.PreventRefresh=8]="PreventRefresh",a}({})},360834:function(me,j,e){e.d(j,{QK:function(){return r},bc:function(){return i},mG:function(){return a}});var r=function(t){return t[t.Normal=0]="Normal",t[t.Low=1]="Low",t}({}),i=function(t){return t[t.None=0]="None",t[t.Basic=1]="Basic",t[t.QueryText=2]="QueryText",t}({}),a=function(t){return t[t.Query=0]="Query",t[t.CancelQuery=1]="CancelQuery",t}({})},624550:function(me,j,e){e.d(j,{TW:function(){return u},yR:function(){return E}});var r=e(460169),i=e(785463),a=e(20502),t=e(636320),l=e(716781),g=e(405463),n=e(121993),d=e(930959),s=e(249521),h=e(189230),o=e(317270),v=e(789622),m=e(14445),p=e(861816),y=e(168376),S=e(118307),C=e(662785);function u(D,b,T,M){var V=c(D,b,T,M);return V&&V.expressions}function E(D,b,T,M){return i.Y.assertValue(D,"propDefn"),c(D,b,T,M)}function c(D,b,T,M){var w,P,V=new p.T;return(0,y.JZ)(D)?((w=new f(b,T,M,D.context)).propertyVisitor=P,(P=new v.B(w,V)).visitExpr(D.value)):(0,y.ui)(D)?(w=new f(b,T,M),P=new v.B(w,V),w.propertyVisitor=P,P.visitExpr(D)):(w=new f(b,T,M),P=new v.B(w,V),w.propertyVisitor=P,(0,m.Ju)(D,w)),{expressions:w.exprs,references:V.references}}class f extends a.ff{constructor(b,T,M,V){super(),this.selector=b,this.querySelects=T,this.context=V,this.exprs=[],this.inputExpr=this.resolveSelectRef(M)}resolveSelectRef(b){return b&&(0,C.Gv)(b)?this.getSelectByRef(b):b}add(b){this.context&&(b.context=this.context),null!=this.relatedProjectionQueryName&&(b.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(b)}visitMeasureRef(b){this.add({expr:b,selector:this.selector})}visitArithmetic(b){this.add({expr:b,selector:this.selector})}visitAggr(b){if((0,C.Gv)(b.arg)){var M={expr:this.getSelectByRef(b.arg),selector:this.selector,aggregates:this.getAggregates(b.func)};this.add(M)}else this.add({expr:b,selector:this.selector})}checkIfOrdinal(b){}getAggregates(b){switch(b){case r.Sn.Max:return{max:!0};case r.Sn.Min:return{min:!0};case r.Sn.Median:return{median:!0};case r.Sn.Avg:return{average:!0};default:i.Y.assertFail("Unsupported Projection Aggregate")}}visitPercentile(b){if((0,C.Gv)(b.arg)){var M={expr:this.getSelectByRef(b.arg),selector:this.selector,aggregates:{percentiles:[{k:b.k,exclusive:b.exclusive}]}};this.add(M)}else this.add({expr:b,selector:this.selector})}visitColumnRef(b){this.add({expr:b,selector:this.selector})}visitContains(b){this.checkIfOrdinal(b),super.visitContains(b)}visitStartsWith(b){this.checkIfOrdinal(b),super.visitStartsWith(b)}visitCompare(b){this.checkIfOrdinal(b),super.visitCompare(b)}visitHierarchyLevel(b){this.add({expr:b,selector:this.selector})}visitNativeMeasure(b){this.add({expr:b,selector:this.selector})}visitSelectRef(b){var T=this.getSelectByRef(b);this.add({expr:T,selector:this.selector})}getSelectByRef(b){var T=this.querySelects.withName(b.expressionName);return T&&T.expr}visitScopedEval(b){var T=b.decomposeGlobalAggregateOfScopedExpr();if(T){var M={expr:this.resolveSelectRef(T.source),selector:this.selector,aggregates:this.getAggregates(T.func)};this.add(M)}else if(b.hasGlobalScope())this.add({expr:b.expression,selector:null});else{var w={expr:b,selector:{data:[(0,S.vt)()]}};this.add(w)}}visitFillRule(b){b.input.accept(this),this.inputExpr=this.resolveSelectRef(b.input),this.visitFillRuleDefinition(b.rule)}visitFillDefinition(b){(0,g.Ju)(b,this.propertyVisitor)}visitFillRuleDefinition(b){i.Y.assertValue(b,"fillRule"),i.Y.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var T=b.linearGradient2||b.linearGradient3;i.Y.assertValue(T,"fillRule needs either linearGradient2 or linearGradient3"),i.Y.assertValue(T.min,"gradient.min"),i.Y.assertValue(T.max,"gradient.max");var M={};T.min.value||(M.min=!0),T.max.value||(M.max=!0),(M.min||M.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:M}),(0,n.Ju)(b,this.propertyVisitor))}visitDataBarsDefinition(b){i.Y.assertValue(this.inputExpr,"Databars without an input Expr"),i.Y.assertValue(b,"dataBars");var T={};b.minValue||(T.min=!0),b.maxValue||(T.max=!0),(T.min||T.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:T}),(0,t.J)(b,this.propertyVisitor))}visitIconDefinition(b){(0,d.J)(b,this.propertyVisitor)}visitParagraphs(b){(0,s.Ju)(b,this.propertyVisitor)}visitErrorRangeDefinition(b){i.Y.assert(()=>null!=this.selector.metadata,"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,(0,l.Ju)(b,this.propertyVisitor),this.relatedProjectionQueryName=void 0}visitItemLocationDefinition(b){(0,h.J)(b,this.propertyVisitor)}visitAnnotationTemplateDefinition(b){(0,o.Ju)(b,this.propertyVisitor)}}},251476:function(me,j,e){e.d(j,{r:function(){return l}});var r=e(618644),i=e(785463),a=e(558109),t=e(121993);function l(){return new d}var n=!1;!function(){if(!n){var p=l;(0,a.qV)().createColorAllocatorFactory=()=>p(),n=!0}}();class d{fromFillRule(y,S){var C=y.linearGradient2,u=y.linearGradient3;if(C||u){var E;u&&(E=void 0===u.min.value&&void 0===u.max.value&&void 0!==u.mid.value);var c=C?C.min:u.min,f=C?C.max:u.max;if(void 0===c.value&&(c.value=S.aggregates&&S.aggregates.min),void 0===f.value&&(f.value=S.aggregates&&S.aggregates.max),void 0!==c.value&&void 0!==f.value)return u&&void 0===u.mid.value&&(u.mid.value=(c.value+f.value)/2),C?new o(C,S):E?new m(u,S):new v(u,S)}}}function s(p){return p.strategy===t.Pe}function h(p){switch(p.strategy){case t.dw:return;case t.iQ:return p.color;case t.Pe:i.Y.assertFail("getColorFromNullStrategy - called with asZero");break;default:i.Y.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+p.strategy)}}class o{constructor(y,S){this.options=y,this.source=S,i.Y.assertValue(y,"options"),i.Y.assertValue(S,"source");var C=y.min,u=y.max;this.scale=(0,r.Bt)([C.value,u.value],[C.color,u.color],!0)}color(y){var S=this.options.nullColoringStrategy;if(null===y&&S){if(!s(S))return h(S);y=0}return this.scale(y)}getRule(){return{linearGradient2:this.options}}getSource(){return this.source}}class v{constructor(y,S){this.options=y,this.source=S,i.Y.assertValue(y,"options"),i.Y.assertValue(S,"source"),this.options=y;var C=y.min,u=y.mid,E=y.max;this.scale=(0,r.Bt)([C.value,u.value,E.value],[C.color,u.color,E.color],!0)}color(y){var S=this.options.nullColoringStrategy;if(null===y&&S){if(!s(S))return h(S);y=0}return this.scale(y)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}class m{constructor(y,S){this.options=y,this.source=S,i.Y.assertValue(y,"options"),i.Y.assertValue(S,"source"),this.options=y;var C=y.min,u=y.mid,E=y.max;this.scale1=(0,r.Bt)([C.value,u.value],[C.color,u.color],!0),this.scale2=(0,r.Bt)([u.value,E.value],[u.color,E.color],!0)}color(y){var S=this.options.nullColoringStrategy;if(null===y&&S){if(!s(S))return h(S);y=0}return y<=this.options.mid.value?this.scale1(y):this.scale2(y)}getRule(){return{linearGradient3:this.options}}getSource(){return this.source}}},309746:function(me,j,e){e.d(j,{AS:function(){return g},Ax:function(){return l},Cn:function(){return b},Oc:function(){return i},UB:function(){return n},XB:function(){return S},_y:function(){return h},fI:function(){return o},gO:function(){return C},ms:function(){return s},o4:function(){return a}});var r=e(785463),i=function(V){return V.CategoricalCategory="CategoricalCategory",V.CategoricalSeries="CategoricalSeries",V.CategoricalValueGroup="CategoricalValueGroup",V.CategoricalValue="CategoricalValue",V.MatrixRowsGroup="MatrixRowsGroup",V.MatrixColumnsGroup="MatrixColumnsGroup",V.MatrixIntersection="MatrixIntersection",V.MatrixRowsScopedValue="MatrixRowsScopedValue",V.TableField="TableField",V.TreeNode="TreeNode",V.TreeValue="TreeValue",V.SingleField="SingleField",V}({});function a(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var P=V.categorical;P&&function(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor"),l(V.categories,w);var P=V.values;g(P,w),b(P,w),T(V,w)}(P,w);var N=V.table;N&&n(N,w);var I=V.matrix;I&&function(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor"),s(V.rows,w),h(V.columns,w),o(V.values,w)}(I,w);var O=V.tree;O&&function(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor"),S(V.nodes,w),C(V.values,w)}(O,w);var R=V.single;R&&function(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor"),w.visitRole(V.role)}(R,w)}function l(V,w){V&&(u(V,w,i.CategoricalCategory),E(V,w,i.CategoricalCategory),f(V,w,i.CategoricalCategory),T(V,w))}function g(V,w){if(V){u(V,w,i.CategoricalValue),E(V,w,i.CategoricalValue),f(V,w,i.CategoricalValue);var P=V.group;if(P)for(var N of P.select)u(N,w,i.CategoricalValueGroup),E(N,w,i.CategoricalValueGroup)}}function n(V,w){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var P=V.rows;u(P,w,i.TableField),E(P,w,i.TableField),f(P,w,i.TableField),T(P,w)}function s(V,w){!function(V,w,P){if(r.Y.assertAnyValue(V,"mapping"),r.Y.assertValue(w,"visitor"),V){var N=V?.values;E(V,w,P),function(V,w,P){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var N=V.select;if(N)for(var I of N)u(I,w,P),E(I,w,P),c(I,w,P)}(V,w,P),r.Y.assert(()=>!(V.dataReductionAlgorithm&&function(V){return V&&_.some(V,w=>w.dataReductionAlgorithm)}(V.select)),"Mapping has overall data reduction but also scoped data reduction(s)"),T(V,w),N&&(E(N,w,i.MatrixRowsScopedValue),f(N,w,i.MatrixRowsScopedValue))}}(V,w,i.MatrixRowsGroup)}function h(V,w){p(V,w,i.MatrixColumnsGroup)}function o(V,w){p(V,w,i.MatrixIntersection)}function p(V,w,P){r.Y.assertAnyValue(V,"mapping"),r.Y.assertValue(w,"visitor"),V&&(E(V,w,P),f(V,w,P),T(V,w))}function S(V,w){r.Y.assertAnyValue(V,"mapping"),r.Y.assertValue(w,"visitor"),V&&(E(V,w,i.TreeNode),T(V,w))}function C(V,w){r.Y.assertAnyValue(V,"mapping"),r.Y.assertValue(w,"visitor"),V&&E(V,w,i.TreeValue)}function u(V,w,P){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var N=V.bind;N&&w.visitRole(N.to,P)}function E(V,w,P){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var N=V.for;N&&w.visitRole(N.in,P)}function c(V,w,P){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var N=V.composite;if(N){for(var I of(w.enterComposite&&w.enterComposite(V),N))u(I,w,P),E(I,w,P);w.exitComposite&&w.exitComposite(V)}}function f(V,w,P){r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor");var N=V.select;if(N)for(var I of N)u(I,w,P),E(I,w,P)}function b(V,w){if(r.Y.assertAnyValue(V,"mapping"),r.Y.assertValue(w,"visitor"),V){var P=V.group;P&&(w.visitRole(P.by,i.CategoricalSeries),T(P,w))}}function T(V,w){if(r.Y.assertValue(V,"mapping"),r.Y.assertValue(w,"visitor"),w.visitReduction){var P=V.dataReductionAlgorithm;P&&w.visitReduction(P)}}},672582:function(me,j,e){function r(t,l){return t&&l?t.identityIndex===l.identityIndex:t===l}function a(t){return"number"==typeof t?.identityIndex}e.d(j,{Nn:function(){return a},aI:function(){return r}})},266357:function(me,j,e){e.d(j,{u:function(){return l}});var r=e(811880),i=e(61917),a=e(785463),t=e(507345);class l{constructor(n,d,s,h,o,v,m,p,y,S){this.featureSwitches=n,this.warningType=d,this.propertyId=s,this.selector=h,this.objectDisplayNameGetter=o,this.propertyDisplayNameGetter=v,this.valueExpr=m,this.value=p,this.expectedValueType=y,this.columnExpr=S,this.warningType===r.Mr.InvalidType?(a.Y.assertValue(y,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):this.warningType===r.Mr.MissingReference?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):this.warningType===r.Mr.UndefinedStylePreset?(this.titleKey="StylePresetDefinitionNotFound",this.hintKey="StylePresetDefinitionNotFoundDetail"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}get code(){switch(this.warningType){case r.Mr.InvalidType:return"DataBoundExprWarningTypeInvalidType";case r.Mr.MissingReference:return"DataBoundExprWarningTypeMissingReference";case r.Mr.InvalidValue:return"DataBoundExprWarningTypeInvalidValue";case r.Mr.UndefinedStylePreset:return"StylePresetDefinitionNotFound";default:a.Y.assertNever(this.warningType)}}getMessages(n,d){if(d){if(this.cachedMessage)return this.cachedMessage;var h=n.get("NamePattern_Colon"),o=[],v=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter,m=(0,t.G)(n.get(this.titleKey),v),p=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(n):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var y=(0,t.G)(h,n.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),p);o.push(y)}var S=null!=this.valueExpr?d(this.valueExpr):void 0;if(S){var C=(0,t.G)(h,n.get("Field_Source"),S);o.push(C)}if(void 0!==this.columnExpr){var u=d(this.columnExpr),E=(0,t.G)(h,n.get("Field_Target"),u);o.push(E)}if(this.warningType===r.Mr.InvalidType&&this.expectedValueType){var c=(0,t.G)(h,n.get("DataBoundExprWarning_ExpectedDataType"),l.getPrimitiveValueType(this.expectedValueType,n));o.push(c)}if(this.value&&(this.warningType===r.Mr.InvalidValue||this.warningType===r.Mr.UndefinedStylePreset)){var f=(0,t.G)(h,n.get("Value"),this.value.toString());o.push(f)}var D=n.get(this.hintKey);return o.push(D),this.cachedMessage={title:m,message:D,detail:o.join("\n")},this.cachedMessage}a.Y.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")}getTitle(n){var d=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(n):this.propertyDisplayNameGetter;return(0,t.G)(n.get(this.titleKey),d)}getMessage(n){return n.get(this.hintKey)}static getPrimitiveValueType(n,d){switch(n.primitiveType){case i.W.Text:return d.get("Text");case i.W.Decimal:case i.W.Double:case i.W.Integer:return d.get("ConditionalFormattingDialog_Number");case i.W.Boolean:return d.get("ConditionalFormattingDialog_Boolean");case i.W.Date:case i.W.DateTime:return d.get("ConditionalFormattingDialog_Date");default:a.Y.assertFail("Invalid expected data type")}}}},401880:function(me,j,e){function r(d,s){if(!_.isEmpty(d)){var h=d[0];if(h.values&&h.values.length>0)for(var o=0,v=h.values.length;o<v;++o){var m=h.values[o];if(m&&m.source&&t(m.source,s))return o}}return-1}function i(d,s){if(!_.isEmpty(d))for(var h=0,o=d.length;h<o;h++)if(t(d[h].source,s))return h;return-1}function a(d,s){var h=[];if(!_.isEmpty(d))for(var o=0,v=d.length;o<v;o++)t(d[o].source,s)&&h.push(o);return h}function t(d,s){var h=d.roles;return h&&h[s]}function l(d,s){return _.some(d,h=>t(h,s))}function g(d,s){return _.some(d?.metadata?.columns??[],h=>void 0!==h.roles?.[s])}function n(d,s){return d&&d.source&&d.source.roles&&!0===d.source.roles[s]}e.d(j,{DK:function(){return n},I9:function(){return a},Mp:function(){return l},hf:function(){return t},i3:function(){return r},iY:function(){return i},zv:function(){return g}})},709099:function(me,j,e){e.d(j,{AV:function(){return R},Hw:function(){return B},bD:function(){return F},eq:function(){return u},gU:function(){return v},i7:function(){return O},i8:function(){return V},yB:function(){return m}});var r=e(978450),i=e(935236),a=e(785463),t=e(469550),l=e(147293),g=e(669129),n=e(168376),d=e(968462),s=e(289239),h=e(933949),o=e(417647),v=function(A){return A.conditionRangeTooLarge="conditionRangeTooLarge",A.conditionRangeTooSmall="conditionRangeTooSmall",A.conditionKindExpectedMeasure="conditionKindExpectedMeasure",A.conditionKindExpectedGrouping="conditionKindExpectedGrouping",A.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",A.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",A.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",A}({});function m(A,L){if(!L||0===L.length)return{dataView:A,isValid:!0};if(A){for(var Y of L){if(c(A,Y))return{dataView:A,isValid:!0};if(Y.categorical&&A.categorical)return p(A,Y);if(Y.tree&&A.tree)return S(A,Y.tree);if(Y.single&&A.single)return y(A,Y.single);if(Y.table&&A.table)return C(A,Y.table)}if(A.metadata)return{dataView:{metadata:A.metadata},isValid:!0}}return{isValid:!1}}function p(A,L){a.Y.assertValue(L,"dataViewMapping");var H,Y=L.categorical,z=A.categorical;if(!z)return{isValid:!1};if(Y.rowCount&&(H=Y.rowCount.supported)&&H.max){var Z,ee,k=z.categories,K=H.max;if(k)for(var Q=0,J=k.length;Q<J;Q++){var X=k[Q];if(ee=X.values.length,void 0!==K&&ee>K){var ne=(0,i.y1)(X.values,0,K-1);(Z=Z||{categories:[]}).categories.push({source:X.source,values:ne})}}if(z.values&&z.values.length>0&&K&&(ee||(ee=z.values[0].values.length),void 0!==K&&ee>K)){(Z=Z||{}).values=(0,h.zB)();for(var ae=0,oe=z.values.length;ae<oe;ae++){var Me=z.values[ae],Ye={source:Me.source,values:(0,i.y1)(Me.values,0,K-1)};void 0!==Me.min&&(Ye.min=Me.min),void 0!==Me.max&&(Ye.max=Me.max),void 0!==Me.subtotal&&(Ye.subtotal=Me.subtotal),Z.values.push(Ye)}}Z&&(A={metadata:A.metadata,categorical:Z})}return f(A,L)?{dataView:A,isValid:!0}:null}function y(A,L){return a.Y.assertValue(A,"dataView"),a.Y.assertValue(L,"singleRoleMapping"),A.single?{dataView:A,isValid:!0}:{isValid:!1}}function S(A,L){return a.Y.assertValue(A,"dataView"),a.Y.assertValue(L,"treeRoleMapping"),b(A,L)?{dataView:A,isValid:!0}:{isValid:!1}}function C(A,L){return a.Y.assertValue(A,"dataView"),a.Y.assertValue(L,"tableRoleMapping"),A.table?{dataView:A,isValid:!0}:{isValid:!1}}function u(A){for(var L=0,Y=0,z=A.length;Y<z;Y++)A[Y].isMeasure||++L;return L}function c(A,L,Y){return!(!L||!A||L.scriptResult&&!function(A,L){return a.Y.assertValue(L,"scriptResultRoleMapping"),!(!A||!A.payloadBase64)}(A.scriptResult,L.scriptResult)||L.categorical&&!f(A,L.categorical,Y)||L.tree&&!b(A,L.tree,Y)||L.single&&!function(A,L){return a.Y.assertValue(L,"singleRoleMapping"),!!A}(A.single,L.single)||L.table&&!function(A,L,Y){if(a.Y.assertValue(L,"tableRoleMapping"),!A)return!1;if(L.rowCount){var z=L.rowCount.supported;if(Y&&L.rowCount.preferred&&(z=L.rowCount.preferred),z){var H=0;if(A.rows&&A.rows.length&&(H=A.rows.length),null!=V(H,z))return!1}}return!0}(A.table,L.table,Y))}function f(A,L,Y){a.Y.assertValue(L,"categoryRoleMapping");var z=A.categorical;if(!z)return!1;if(L.rowCount){var H=L.rowCount.supported;if(Y&&L.rowCount.preferred&&(H=L.rowCount.preferred),H){var Z=0;if(z.values&&z.values.length?Z=z.values[0].values.length:z.categories&&z.categories.length&&(Z=z.categories[0].values.length),null!=V(Z,H))return!1}}return!0}function b(A,L,Y){a.Y.assertValue(L,"treeRoleMapping");var H=L.depth,Z=H&&Y?H.preferred:H.supported;return null==V(u(A.metadata.columns),Z)}function V(A,L,Y){if(a.Y.assertValue(A,"value"),L){if(!Y&&void 0!==L.min&&L.min>A)return v.conditionRangeTooSmall;if(void 0!==L.max&&L.max<A)return v.conditionRangeTooLarge}}function w(A,L,Y,z){if(A&&void 0!==A.kind){var H=A.kind,Z=Y[L];if(Z){var k=Z.all();for(var K of k)if(z[K.queryRef]!==H)switch(H){case l.Ts.Measure:return v.conditionKindExpectedMeasure;case l.Ts.Grouping:return v.conditionKindExpectedGrouping;case l.Ts.GroupingOrMeasure:return v.conditionKindExpectedGroupingOrMeasure}}}}function P(A,L,Y,z){if(A&&A.areHierarchicallyRelated&&!_.isEmpty(L)&&!_.isEmpty(Y)&&z){var Z=I(_.map(L,k=>k.queryRef),Y);if(!g.B.areHierarchicallyRelated(z,Z))return v.conditionNotHierarchicallyRelated}}function N(A,L,Y){if(a.Y.assertAnyValue(A,"can be called with empty role"),a.Y.assertNonEmpty(L,"must have selects"),a.Y.assertValue(Y,"must have Schema"),1!==_.chain(L).map(ee=>ee.name).uniq().value().length){var Z=I(_.map(A,ee=>ee.queryRef),L),k=_.chain(Z).map(ee=>Y.schema(ee.schema)).uniq().value(),K=_.uniqWith(Z,(ee,Q)=>(0,r.aI)(ee,Q));if(a.Y.assertNonEmpty(K,"uniqueEntityExprs"),K.length<2)return _.some(k,ee=>!ee.capabilities||!ee.capabilities.supportsInstanceFilters)?v.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(k,ee=>!ee.capabilities||!ee.capabilities.supportsMultiTableTupleFilters||!ee.capabilities.supportsInstanceFilters))return v.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function I(A,L){if(!_.isEmpty(A)&&!_.isEmpty(L)){var Y={};A.forEach(Z=>{Y[Z]=!0});var z=[];for(var H of L)H.name&&Y[H.name]&&H.expr&&z.push(H.expr.getTargetEntity());return z}}function O(A,L,Y,z,H,Z,k,K,ee){a.Y.assertValue(A,"projections"),a.Y.assertAnyValue(L,"mappings"),a.Y.assert(()=>_.every(L,Ie=>_.isPlainObject(Ie)),"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var Q=[],J=[];if(!_.isEmpty(L))for(var X=0,ne=L.length;X<ne;X++){var ae=L[X],oe=ae.conditions,Ye=W(ae.requiredProperties,H,z,Z),Le=[];if(_.isEmpty(oe))Le.push({});else for(var lt=0,ut=oe.length;lt<ut;lt++){var St=oe[lt],ze=R(A,St,Y,void 0,k,K,ee);if(_.isEmpty(ze))Le.push(St);else for(var Be of ze)Be.mappingIndex=X,Be.conditionIndex=lt,J.push(Be)}if(!_.isEmpty(Le)&&Ye){var Ce=_.cloneDeep(ae);Ce.single&&(Ce={table:{rows:{for:{in:Ce.single.role}}}});var be=_.filter(Le,Ie=>Object.keys(Ie).length>0);_.isEmpty(be)||(Ce.conditions=be),Q.push(Ce)}}return{supportedMappings:(0,i.qR)(Q),mappingErrors:(0,i.qR)(J)}}function R(A,L,Y,z,H,Z,k){a.Y.assertValue(A,"projections"),a.Y.assertValue(L,"condition");for(var K=Object.keys(L),ee=[],Q=0,J=K.length;Q<J;Q++){var X=K[Q],ne=A[X]&&!_.isEmpty(A[X].activeProjectionRefs),ae=L[X],oe=!ae.suppressDrill,Le=U(ae,X,A,oe&&(null!=z?z:ne)&&oe,k);null!=Le&&ee.push({code:Le,roleName:X}),null!=(Le=w(ae,X,A,Y))&&ee.push({code:Le,roleName:X});var lt=A[X]&&A[X].projected(),ut=void 0;_.isEmpty(H)||(ut=_.map(lt,St=>H.withName(St.queryRef))),null!=(Le=P(ae,lt,ut,Z))&&ee.push({code:Le,roleName:X}),ae.multiTableTupleFiltersSupported&&Z&&!_.isEmpty(H)&&!_.isEmpty(ut)&&null!=(Le=N(lt,ut,Z))&&ee.push({code:Le,roleName:X})}return ee}function W(A,L,Y,z){if(_.isEmpty(A))return!0;if(!L||!z)return!1;var H=(0,t.vt)(),Z=(0,o.b)(),k=new d.q(Y,H);return _.every(A,K=>{var ee=null,Q=z[K.objectName];if(!Q)return!1;var X,J=L[K.objectName];return J&&(ee=J.properties[K.propertyName]),!_.isEmpty(Q)&&Q[0]&&(X=(0,n._W)(z,K,Q[0].selector)),!(!ee||!X)&&k.evaluateProperty(Z,ee,X)})}function F(A,L,Y,z){a.Y.assertValue(A,"roleName"),a.Y.assertValue(L,"projections");var H=L[A];return H?Y?1:z?H.all().length:H.projected().length:0}function U(A,L,Y,z,H){if(A){var Z=F(L,Y,z,H);if(void 0!==A.min&&A.min>Z)return v.conditionRangeTooSmall;var k=F(L,Y,z);if(void 0!==A.max&&A.max<k)return v.conditionRangeTooLarge}}function B(A,L){if(A&&L&&A.categorical&&L.categorical){var Y=A.categorical.categories,z=L.categorical.categories;if(Y&&z&&Y.length===z.length){for(var H=0,Z=Y.length;H<Z;H++){var k=Y[H].identity,K=z[H].identity,ee=x(k);if(ee!==x(K))return!1;for(var Q=0;Q<ee;Q++)if(!(0,s.aI)(k[Q],K[Q]))return!1}return!0}}return!1}function x(A){return A?A.length:0}},43614:function(me,j,e){e.d(j,{P:function(){return l}});var r=e(785463),i=e(446024),a=e(289239),t=e(933949);function l(){return new g}class g{constructor(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}withCategory(o){var v=o.values,m=o.identityFrom,p=o.source.type,y={source:o.source,identityFields:o.identityFrom.fields,identity:o.identityFrom.identities||[],values:v};if(!o.identityFrom.identities)for(var S=0,C=v.length;S<C;S++)y.identity.push(n(m,S,v[S],p));return this.categories||(this.categories=[]),this.categories.push(y),this}withCategories(o){return _.isEmpty(this.categories)?this.categories=o:Array.prototype.push.apply(this.categories,o),this}withValues(o){r.Y.assertValue(o,"options");var v=o.columns;for(var m of(r.Y.assertValue(v,"columns"),v))this.staticMeasureColumns.push(m.source);return this.staticSeriesValues=v,this}withGroupedValues(o){r.Y.assertValue(o,"options");var v=o.groupColumn;r.Y.assertValue(v,"groupColumn"),this.dynamicSeriesMetadata={column:v.source,identityFrom:v.identityFrom,values:v.values};var m=o.valueColumns;for(var p of m)this.dynamicMeasureColumns.push(p.source);return this.dynamicSeriesValues=o.data,this}fillData(o){var v=this,m=_.head(this.categories),p=m&&m.values?m.values.length:0;if(this.hasDynamicSeries())for(var y=function(){var f=v.dynamicSeriesValues[S];r.Y.assert(()=>f.length===v.dynamicMeasureColumns.length,"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var D=0,b=v.dynamicMeasureColumns.length;D<b;D++)s(o[S*b+D],f[D],p)},S=0,C=this.dynamicSeriesMetadata.values.length;S<C;S++)y();if(this.hasStaticSeries())for(var u=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,E=0,c=this.staticMeasureColumns.length;E<c;E++)s(o[u+E],this.staticSeriesValues[E],p)}build(){var o=[],v={},m=this.categories,p=this.dynamicSeriesMetadata;for(var y of m)d(o,y.source);if(this.hasDynamicSeries()){d(o,p.column),v.values=(0,t.zB)([],p.identityFrom.fields,p.column);var S=p.values,C=new Map;for(var u of this.dynamicMeasureColumns)u.formatSource?.formatString&&C.set(u.formatSource.formatString,new Map);for(var E=0;E<S.length;E++){var c=S[E],f=n(p.identityFrom,E,c,p.column.type);for(var D of this.dynamicMeasureColumns){var b=_.toPlainObject(D);b.groupName=c,C.has(D)&&C.get(D).set(b.groupName,b),b.rolesIndex&&delete b.rolesIndex,d(o,b),v.values.push({source:b,values:[],identity:f})}}if(C.size>0){var T=function(O){O.formatSource?.formatString&&(r.Y.assert(()=>C.has(O.formatSource.formatString),"formatString column must be in dynamicFormatStringMappings"),O.formatSource={formatString:C.get(O.formatSource.formatString).get(O.groupName)})};for(var M of o)T(M)}if(0===S.length)for(var V of this.dynamicMeasureColumns){var w=_.toPlainObject(V);d(o,w),v.values.push({source:w,values:[]})}if(this.hasStaticSeries()){var P=v.values.grouped();v.values.grouped=()=>P,this.appendStaticMeasureColumns(o,v.values)}}else v.values=(0,t.zB)(),this.appendStaticMeasureColumns(o,v.values);var N=this.categories;_.isEmpty(N)||(v.categories=N),this.fillData(v.values);var I={metadata:{columns:o},categorical:v};if(this.isLegalDataView(I))return I}appendStaticMeasureColumns(o,v){if(r.Y.assertValue(o,"metadataColumns"),r.Y.assertValue(v,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var m of this.staticMeasureColumns)d(o,m),v.push({source:m,values:[]})}isLegalDataView(o){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&g.isVisualDataView(o.metadata.columns))}static isVisualDataView(o){return!_.isEmpty(o)&&_.some(o,v=>!!v.queryName)}hasDynamicSeries(){return!!this.dynamicSeriesMetadata}hasStaticSeries(){return!!this.staticSeriesValues}}function n(h,o,v,m){var p=h.identities;return p?p[o]:(r.Y.assert(()=>h.fields&&1===h.fields.length,"Inferring identity, expect exactly one field."),(0,a.UQ)((0,i.LC)(h.fields[0],(0,i.FT)(v,m))))}function d(h,o){_.includes(h,o)||h.push(o)}function s(h,o,v){r.Y.assertValue(h,"target"),r.Y.assertValue(o,"source"),r.Y.assertValue(v,"categoryLength");var m=o.values;r.Y.assert(()=>v===m.length||0===v,"categoryLength === values.length || categoryLength === 0"),h.values=m;var p=o.highlights;p&&(r.Y.assert(()=>v===p.length,"categoryLength === highlights.length"),h.highlights=p);var S,y=o.objects;y&&(r.Y.assert(()=>v===y.length,"categoryLength === objects.length"),h.objects=y),void 0!==o.minLocal&&(S||(S={}),S.minLocal=o.minLocal),void 0!==o.maxLocal&&(S||(S={}),S.maxLocal=o.maxLocal),S&&(h.source.aggregates=S,_.extend(h,S))}},121236:function(me,j,e){e.d(j,{eF:function(){return u},lr:function(){return M}});var r=e(662785),i=e(785463),a=e(473001),t=e(269393),l=e(464205),g=e(446024),n=e(468291),d=e(14445),s=e(169045),h=e(51926),o=e(332055),v=e(420987);function m(x){return new p(x)}class p{constructor(A){this.dataView=A,i.Y.assertValue(A,"dataView"),this.columnsByRole={},this.valueSources=[];var L={};if(this.dataView.values)for(var Y of this.dataView.values){this.valueSources.push(Y.source);var z=Y.source.rootSource;z&&(L[Y.source.index]=z)}this.valueSources.unshift(..._.values(L))}getExprColumn(A,L){return(0,v.BB)(A,this.valueSources,L?void 0:this.groupName)}getScopedEvalExprValue(A){var L=A.decomposeGlobalAggregateOfScopedExpr();if(L){var Y=_.chain(this.valueSources).filter(H=>null==H.groupName).value(),z=(0,v.BB)(L.source,Y);return z?(0,v.CX)(z,L.func):void 0}if(A.hasInnerMostScope())return this.getExprValue(A.expression);A.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(A){var L=this.index;if(_.isNumber(L)){var Y=this.dataView.values;if(Y){var z=(0,v.BB)(A,this.valueSources,this.groupName),H=_.find(Y,Z=>Z.source===z);if(H)return this.useHighlightValues?H.highlights[L]:H.values[L]}}}getRoleValues(A){var L=this.columnsByRole,Y=L[A];if(Y||(Y=L[A]=function(x,A){return i.Y.assertValue(x,"dataViewCategorical"),S(x.values,A)||S(x.categories,A)}(this.dataView,A)),Y&&null!=this.index)return _.map(Y,H=>H.values[this.index])}setCurrentRowIndex(A){i.Y.assertValue(A,"index"),this.index=A}resetCurrentRowIndex(){delete this.index}setCurrentColumnGroupName(A){i.Y.assertValue(void 0!==A,"groupName"),this.groupName=A}useHighlights(A){this.useHighlightValues=A}}function S(x,A){if(i.Y.assertAnyValue(x,"columns"),x){var L=[];for(var Y of x){var z=Y.source.roles;!z||!z[A]||L.push(Y)}return L}}var C=e(230840);function u(x,A,L,Y,z,H,Z,k){for(var K of(i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertAnyValue(A,"selectTransforms"),i.Y.assertValue(L,"objectDescriptors"),i.Y.assertValue(Y,"objectDefnsForSelector"),Y)){var ee=K.selector,Q=K.rules,J=K.objects;i.Y.assertValue(ee,"selector"),i.Y.assertAnyValue(Q,"rules"),i.Y.assertValue(J,"objectDefns");var X=(0,l.Ac)(ee);ee=N(x,ee);var ne=(0,C.b)(ee,z);Z&&(Z.selector=ee,Z.targetExpr=(0,l.is)(ee,A)),E(x,L,ee,X,J,ne,H,Z),T(x,L,ee,X,J,ne,H,Z,k),w(x,L,ee,J,H,Z,k)}}function E(x,A,L,Y,z,H,Z,k){if(i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(L,"selector"),i.Y.assertValue(Y,"containsWildcard"),i.Y.assertValue(z,"objectDefns"),x.categories&&0!==x.categories.length){var K=function(x,A,L){i.Y.assertValue(x.categories[0],"dataViewCategorical.categories[0]");var Y=x.categories[0].identity,z=[];for(var H of x.categories){if(!H.identityFields||!L.matchesKeys([H.identityFields],1))return;z.push(H)}i.Y.assert(()=>z.length===x.categories.length,"Column length mismatch");var Z=A.metadata;if(Z){var k=x.values;if(k)for(var K=0,ee=k.length;K<ee;K++){var Q=k[K];if(Q.source.queryName===Z){z=[Q];break}}}return{columns:z,identities:Y}}(x,L,H);if(K){var J,ee=function(x){return _.some(x.values,A=>!!A.highlights)}(x),Q=K.identities,X=m(x);if(Q){for(var ne,ae,oe=0,Me=Q.length;oe<Me;oe++)if(Y||H.matches([Q[oe]])){switch(X.setCurrentRowIndex(oe),L.highlightMatching){case void 0:case t.Y.ValuesOnly:ne=!0,ae=!1;break;case t.Y.ValuesAndHighlight:ne=!0,ae=ee;break;case t.Y.HighlightsOrValues:ne=!ee,ae=ee;break;default:i.Y.assertNever(L.highlightMatching)}if(ne){X.useHighlights(!1);var Le=(0,o.po)(Z,X,A,z,k);if(Le)for(var lt of K.columns){var ut=lt.objects;ut||(ut=lt.objects=new Array(Me)),ut[oe]||(ut[oe]={}),(0,h.rL)(ut[oe],Le,L.id,L.order)}J=!0}if(ae){X.useHighlights(!0);var St=(0,o.po)(Z,X,A,z,k);if(St)for(var ze of K.columns){var Be=ze.highlightObjects;Be||(Be=ze.highlightObjects=new Array(Me)),Be[oe]||(Be[oe]={}),(0,h.rL)(Be[oe],St,L.id,L.order)}J=!0}if(!Y)return J}return J}}}}function b(x,A,L){return i.Y.assertAnyValue(A,"propertyDefn"),!!(A instanceof g.yj&&(0,r.Gv)(A)&&A.attributeKind===n.Zw.FormatString)||function(x,A,L){return L.measureDrivenDataLabels&&"labels"===x&&null!=A}(x,A,L)||function(x,A){return"annotationTemplate"===x&&null!=A}(x,A)||(0,d.lF)(A)||function(x,A,L){var Y=A.solid?.color?.kind;return L.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(x)&&(Y===n.Ez.FillRule||Y===n.Ez.Conditional||Y===n.Ez.Aggregation||Y===n.Ez.MeasureRef)}(x,A,L)}function T(x,A,L,Y,z,H,Z,k,K){i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(L,"selector"),i.Y.assertValue(Y,"containsWildcard"),i.Y.assertValue(z,"objectDefns");var ee=x.values;if(ee&&ee.identityFields){var Q=H.matchesKeys([ee.identityFields],1),J=!1;if(K?.categoricalIntersectionEval){var X=x.categories,ae=[];ae.push(X?.length>0?X[0].identityFields:void 0),ae.push(ee.identityFields),J=null!=L.metadata&&ee.length>0&&X?.length>0&&_.some(ee,Ee=>Ee.source.queryName===L.metadata)&&H.matchesKeys(ae,ae.length)}if(Q||J){var oe=ee.grouped();if(oe){var lt,Me=m(x),Ye=L.metadata,Le=R(z,b,K);for(var ut of oe)if(void 0!==ut.name){_.isEmpty(Le)||(Me.setCurrentColumnGroupName(ut.name),P(x,A,L,J,Le,H,Z,k,Me,ut,K));var St=ut.values;if(Y||H.matches([ut.identity])){var ze=(0,o.po)(Z,Me,A,z,k);if(ze)if(Ye)for(var Be=0,Ce=St.length;Be<Ce;Be++){var Ae=St[Be],be=Ae.source;if(be.queryName===Ye){var Ie=(0,a.IL)(be),ve=Ie.objects;ve||(ve=Ie.objects={}),(0,h.rL)(ve,ze,L.id,L.order),Ae.source=Ie,lt=!0;break}}else{var xe=ut.objects;xe||(xe=ut.objects={}),(0,h.rL)(xe,ze,L.id,L.order),M(ee,oe),lt=!0}if(!Y)return!0}}return lt}}}}function M(x,A){x.grouped=A?()=>A:()=>function(x){i.Y.assertValue(x,"values");for(var L,A=[],Y=0,z=x.length;Y<z;Y++){var H=x[Y];if(!L||L.identity!==H.identity){if(L={values:[]},H.identity){L.identity=H.identity;var Z=H.source;void 0!==Z.groupName?L.name=Z.groupName:Z.displayName&&(L.name=Z.displayName)}A.push(L)}L.values.push(H)}return A}(x)}function w(x,A,L,Y,z,H,Z){if(i.Y.assertValue(x,"dataViewCategorical"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(L,"selector"),i.Y.assertValue(Y,"objectDefns"),_.isEmpty(x.categories)){var k=x.values;if(!k||_.isEmpty(k.identityFields)){var K=function(x,A){var L=A.metadata;if(void 0!==L&&x)return i.Y.assert(()=>1===_.filter(x,Y=>Y.source.queryName===L).length,"Only one column has to match"),_.find(x,Y=>Y.source.queryName===L)}(x.values,L);if(K){var ee=m(x),Q=(0,l.EU)(L);if(Y=R(Y,b,Z),!_.isEmpty(Y)&&Q){i.Y.assert(()=>x.values.length>0,"dataViewCategorical.values.length > 0"),i.Y.assert(()=>x.values[0].values.length<=1,"There has to be max 1 row since there are no category groupings"),ee.setCurrentRowIndex(0);var X=(0,o.po)(z,ee,A,Y,H);if(X){var ne=K.objects;ne||(ne=K.objects=[]),ne[0]||(ne[0]={}),(0,h.rL)(ne[0],X,L.id,L.order)}}}}}}function P(x,A,L,Y,z,H,Z,k,K,ee,Q){if(i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(L,"selector"),i.Y.assertValue(z,"objectDefns"),i.Y.assertValue(K,"evalContext"),i.Y.assertValue(ee,"valueGrouping"),(0,l.EU)(L)||Y){var J=function(x,A,L){return void 0===A?.metadata&&L.categoricalSecondaryCF?x:_.filter(x,Y=>Y.source.queryName===A.metadata)}(ee.values,L,Q);for(var X of J){i.Y.assertValue(X.source.groupName===ee.name,"targetColumn.source.groupName");for(var ne=X.values.length,ae=0;ae<ne;ae++)if((0,l.EU)(L)||B(L,x.categories[0].identity[ae],X,H)){K.setCurrentRowIndex(ae),K.useHighlights(!1);var oe=(0,o.po)(Z,K,A,z,k);if(oe){var Me=X.objects;Me||(Me=X.objects=new Array(ne)),Me[ae]||(Me[ae]={}),(0,h.rL)(Me[ae],oe,L.id,L.order)}if(null!=X.highlights){K.useHighlights(!0);var Ye=(0,o.po)(Z,K,A,z,k);if(Ye){var Le=X.highlightObjects;Le||(Le=X.highlightObjects=new Array(ne)),Le[ae]||(Le[ae]={}),(0,h.rL)(Le[ae],Ye,L.id,L.order)}}K.resetCurrentRowIndex()}}}}function N(x,A){return(0,l.zP)(A)&&(A=(0,s.G)(A,L=>function(x,A){if(A.categories)for(var L of A.categories)if(L.source&&(0,s.Q)([L.source],x))return[L.identityFields]}(L,x))),A}function R(x,A,L){return i.Y.assertValue(x,"objectDefns"),_.chain(x).map(Y=>({...Y,properties:_.pickBy(Y.properties,z=>A(Y.name,z,L))})).filter(Y=>!_.isEmpty(Object.keys(Y.properties))).value()}function B(x,A,L,Y){if(L.source.queryName!==x.metadata)return!1;var z=[];return z.push(A),z.push(L.identity),Y.matches(z,[])}},855835:function(me,j,e){e.d(j,{EX:function(){return h},T$:function(){return o},b1:function(){return s}});var r=e(785463),i=e(473001),a=e(336983),t=e(191941),l=e(702087),g=e(381839),n=e(482478),d=e(420987);function s(f,D,b,T,M){r.Y.assertValue(f,"dataView"),r.Y.assertAnyValue(D,"objectDescriptors"),r.Y.assertAnyValue(b,"applicableRoleMappings"),r.Y.assertAnyValue(T,"projectionActiveItems");var V=f,w=f.categorical;if(w){var P=function(f,D,b){r.Y.assertValue(f,"dataViewCategorical"),r.Y.assertAnyValue(D,"applicableRoleMappings");var T,M=_.chain(D).filter(I=>!(0,l.D9)(I)).map(I=>I.categorical).value(),V=!_.isEmpty(M)&&_.every(M,I=>!!I);if(V){var w=function(f){r.Y.assertNonEmpty(f,"categoricalRoleMappings"),r.Y.assert(()=>_.every(f,b=>!!b),"categoricalRoleMappings must not contain falsy element");var D=(0,l.So)(f,l.IB);if(1===_.size(D))return _.head(D)}(M);if(w&&_.includes(b,w)&&function(f,D){r.Y.assertValue(f,"categoricalRoleName"),r.Y.assertNonEmpty(D,"roleMappings"),r.Y.assert(()=>_.every(D,T=>T.categorical),"All specified roleMappings are expected to target categorical");var b=_.every(D,T=>!_.isEmpty(T.conditions)&&_.every(T.conditions,M=>M[f]&&1===M[f].max));return b}(w,D)){var P=_.filter(f.categories,I=>I.source.roles&&!!I.source.roles[w]);if(!_.isEmpty(P)){var N=_.every(P,I=>I.values.length===P[0].values.length);N&&(T={roleName:w,categories:P})}}}return T}(w,b,M),N=(0,d.AY)(f.metadata.columns);if(P&&(P.categories.length>=2||N)){var I=_.chain(T&&T[P.roleName]).filter(R=>R.suppressConcat).map(R=>R.queryRef).value();V=y(f,(0,g.U9)(D),P.roleName,P.categories,I,N)}}return V}function h(f,D,b,T,M=!1){var V;if(r.Y.assertValue(f,"metadata"),r.Y.assertAnyValue(D,"formatStringPropId"),r.Y.assertValue(T,"categorical"),!_.isEmpty(T.categories)&&T.categories.length>=2){var w=(0,i.IL)(f.columns);V=y({metadata:(0,i.IL)(f,I=>{I.columns=w}),categorical:T},D,b,T.categories,[],void 0,M)}else V={metadata:f,categorical:T};return V}function o(f){var D=Object.getPrototypeOf(f);return D&&D.categories?D.categories:f.categories}function y(f,D,b,T,M,V,w=!1){r.Y.assert(()=>f&&f.categorical&&_.size(f.categorical.categories)>=1,"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),r.Y.assertAnyValue(D,"formatStringPropId"),r.Y.assertValue(b,"roleName"),r.Y.assert(()=>!_.isEmpty(T),"!_.isEmpty(columnsSortedByProjectionOrdering)"),r.Y.assert(()=>_.every(T,k=>_.includes(f.categorical.categories,k)),"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var I,O,P=T.length-1,N=_.filter(T,(k,K)=>K===P||!_.includes(M,k.source.queryName));1===T.length?(w||(I=N[0].values),O=N[0].source.type):(w||(I=function(f,D){r.Y.assertValue(f,"columnsSortedByProjectionOrdering"),r.Y.assertAnyValue(D,"formatStringPropId");var b=[];for(var T of f)for(var M=(0,a.Bq)(T.source,D),V=0,w=T.values.length;V<w;V++){var N=(0,a.GP)(T.values&&T.values[V],M);b[V]=void 0===b[V]?N:b[V]+" "+N}return b}(N,D)),O=t.eV.fromDescriptor({text:!0}));var W=function(f,D,b,T){var M;if(r.Y.assertValue(f,"roleName"),r.Y.assertNonEmpty(D,"sourceColumnsSortedByProjectionOrdering"),r.Y.assert(()=>1===_.chain(D).map(O=>O.isMeasure).uniq().value().length,"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),T)M=function(f,D){return f+" "+D}(T,_.last(D).displayName);else for(var w of D)M=null==M?w.displayName:M+" "+w.displayName;var P={};P[f]=!0;var N={displayName:M,roles:P,type:b},I=_.last(D);return void 0!==I.isMeasure&&(N.isMeasure=I.isMeasure),N.queryName=I.queryName,N}(b,_.map(N,k=>k.source),O,V),F=(0,i.Uz)(f);if(function(f,D){r.Y.assertValue(f,"transformedDataView"),r.Y.assertValue(D,"newColumn");var b=(0,i.Uz)(f.metadata.columns);b.push(D);var T=(0,i.Uz)(f.metadata);T.columns=b,f.metadata=T}(F,W),!w){var U=f.categorical,x=function(f,D,b,T){r.Y.assert(()=>f&&f.length>=1,"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),r.Y.assertValue(D,"columnMetadata"),r.Y.assertValue(b,"concatenatedValues"),r.Y.assertAnyValue(T,"dataViewObjects");var M={source:D,values:b},V=f[0];return V.identity&&(M.identity=V.identity),V.identityFields&&(M.identityFields=V.identityFields),T&&(M.objects=T),M}(N,W,I,(0,n.o0)(U.categories)),A=_.last(T),L=_.findIndex(U.categories,k=>k===A),Y=(0,i.Uz)(U.categories);Y.splice(L,0,x);for(var z=function(k){_.find(T,K=>K===Y[k])&&Y.splice(k,1)},H=Y.length-1;H>=0;H--)z(H);var Z=(0,i.Uz)(U);Z.categories=Y,F.categorical=Z}return F}},169045:function(me,j,e){e.d(j,{G:function(){return a},Q:function(){return t}});var r=e(464205),i=e(815863);function a(l,g){var n={data:[],id:l.id,metadata:l.metadata,order:l.order};for(var d of l.data)if((0,r.jG)(d)){var s=g(d.roles);if(!_.isEmpty(s)){for(var h of s)n.data.push((0,i.Hg)(h));continue}}else n.data.push(d);return n}function t(l,g){for(var n of l){var d=n.roles;if(!d||!_.some(g,s=>d[s]))return!1}return!0}},702087:function(me,j,e){e.d(j,{$7:function(){return n},$i:function(){return T},$q:function(){return x},C5:function(){return N},CT:function(){return u},D9:function(){return l},IB:function(){return o},Le:function(){return C},PQ:function(){return P},So:function(){return h},Y5:function(){return m},e1:function(){return g},kz:function(){return w},lb:function(){return S},my:function(){return v},nM:function(){return d},od:function(){return V},x7:function(){return B}});var r=e(936744),i=e(935236),a=e(785463),t=e(610013);function l(A){return A&&A.usage&&A.usage.regression||void 0}class g{constructor(L){this.includeScopedValuesRoles=L,this.roleNames=[]}visitRole(L,Y){(this.includeScopedValuesRoles||Y!==t.Dh.MatrixRowsScopedValue)&&this.roleNames.push(L)}static fromMatrixRows(L,Y){var z=new this(Y);return(0,t.ms)(L,z),z.roleNames}static fromMatrixColumns(L){var Y=new this;return(0,t.ms)(L,Y),Y.roleNames}static fromMatrixValues(L){var Y=new this;return(0,t.fI)(L,Y),Y.roleNames}static FromCategoricalValues(L){var Y=new this;return(0,t.AS)(L,Y),Y.roleNames}static fromCategoricalCategories(L){var Y=new this;return(0,t.Ax)(L,Y),Y.roleNames}}function n(A){return!!(A&&A.usage&&A.usage.forecast)}function d(A){return!!(A&&A.usage&&A.usage.anomalyDetection)}function h(A,L){if(a.Y.assertValue(A,"categoricalRoleMappings"),a.Y.assertValue(L,"rolesGetter"),0!==_.size(A)){var Y=_.map(A,H=>L(H)),z=Y[0];if(!(Y.length>=2)||_.every(Y,H=>(0,i.m2)(H,z,(Z,k)=>Z===k)))return z}}function o(A){if(a.Y.assertValue(A,"categoricalRoleMapping"),!A.categories)return[];var L=[];return(0,t.Ax)(A.categories,{visitRole:Y=>{L.push(Y)}}),L}function v(A){if(a.Y.assertAnyValue(A,"roleMappings"),!A)return r.k.None;var L=r.k.None;for(var Y of A)Y.categorical&&(L|=r.k.Categorical),Y.matrix&&(L|=r.k.Matrix),Y.single&&(L|=r.k.Table),Y.table&&(L|=r.k.Table),Y.tree&&(L|=r.k.Tree);return L}function m(A){if(A){if(A.top)return"top";if(A.window)return"window";if(A.bottom)return"bottom";if(A.binnedLineSample)return"binnedLineSample";if(A.overlappingPointsSample)return"overlappingPointsSample";if(A.sample)return"sample";if(A.topNPerLevel)return"topNPerLevel"}}function S(A){return!!A&&!!A.for}function C(A){return!!A&&!!A.composite}function u(A){return!!A&&!!A.select}function T(A){return!!A&&!!A.group}function V(A){return!!A&&!!A.for}function w(A){return!!A&&!!A.composite}function P(A){return!!A&&!!A.select}function N(A){return!!A&&!!A.scope}function B(A){return function(A){return!!A&&!!A.bind}(A)?A.bind.to:V(A)?A.for.in:void a.Y.assertNever(A)}function x(A){return a.Y.assertValue(A,"role"),_.isEmpty(A.items)?[]:_.isEmpty(A.activeItems)?A.items:_.filter(A.items,L=>_.includes(A.activeItems,L.queryName))}},610013:function(me,j,e){e.d(j,{AS:function(){return g},Ax:function(){return l},Cn:function(){return D},Dh:function(){return i},L$:function(){return d},fI:function(){return o},gF:function(){return t},ms:function(){return s},o4:function(){return a}});var r=e(785463),i=function(M){return M.CategoricalCategory="CategoricalCategory",M.CategoricalSeries="CategoricalSeries",M.CategoricalValueGroup="CategoricalValueGroup",M.CategoricalValue="CategoricalValue",M.MatrixRowsGroup="MatrixRowsGroup",M.MatrixColumnsGroup="MatrixColumnsGroup",M.MatrixIntersection="MatrixIntersection",M.MatrixRowsScopedValue="MatrixRowsScopedValue",M.TableField="TableField",M.TreeNode="TreeNode",M.TreeValue="TreeValue",M.SingleField="SingleField",M}({});function a(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var w=M.categorical;w&&t(w,V);var P=M.table;P&&function(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var w=M.rows;C(w,V,i.TableField),u(w,V,i.TableField),c(w,V,i.TableField),b(w,V)}(P,V);var N=M.matrix;N&&d(N,V);var I=M.tree;I&&function(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor"),function(M,V){r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M&&(u(M,V,i.TreeNode),b(M,V))}(M.nodes,V),function(M,V){r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M&&u(M,V,i.TreeValue)}(M.values,V)}(I,V);var O=M.single;O&&function(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor"),V.visitRole(M.role,i.SingleField)}(O,V)}function t(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor"),l(M.categories,V);var w=M.values;g(w,V),D(w,V),b(M,V)}function l(M,V){r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M&&(C(M,V,i.CategoricalCategory),u(M,V,i.CategoricalCategory),c(M,V,i.CategoricalCategory),b(M,V))}function g(M,V){if(r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M){C(M,V,i.CategoricalValue),u(M,V,i.CategoricalValue),c(M,V,i.CategoricalValue);var w=M.group;if(w)for(var P of w.select)C(P,V,i.CategoricalValueGroup),u(P,V,i.CategoricalValueGroup)}}function d(M,V){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor"),s(M.rows,V),function(M,V){m(M,V,i.MatrixColumnsGroup)}(M.columns,V),o(M.values,V)}function s(M,V){!function(M,V,w){if(r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M){u(M,V,w),function(M,V,w){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var P=M.select;if(P)for(var N of P)C(N,V,w),u(N,V,w),E(N,V,w)}(M,V,w),b(M,V);var P=M.values;if(!P)return;u(P,V,i.MatrixRowsScopedValue),c(P,V,i.MatrixRowsScopedValue)}}(M,V,i.MatrixRowsGroup)}function o(M,V){m(M,V,i.MatrixIntersection)}function m(M,V,w){r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M&&(u(M,V,w),c(M,V,w),b(M,V))}function C(M,V,w){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var P=M.bind;P&&V.visitRole(P.to,w)}function u(M,V,w){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var P=M.for;P&&V.visitRole(P.in,w)}function E(M,V,w){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var P=M.composite;if(P){for(var N of(V.enterComposite&&V.enterComposite(),P))C(N,V,w),u(N,V,w);V.exitComposite&&V.exitComposite()}}function c(M,V,w){r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor");var P=M.select;if(P)for(var N of P)C(N,V,w),u(N,V,w)}function D(M,V){if(r.Y.assertAnyValue(M,"mapping"),r.Y.assertValue(V,"visitor"),M){var w=M.group;w&&(V.visitRole(w.by,i.CategoricalSeries),b(w,V))}}function b(M,V){if(r.Y.assertValue(M,"mapping"),r.Y.assertValue(V,"visitor"),V.visitReduction){var w=M.dataReductionAlgorithm;w&&V.visitReduction(w)}}},51926:function(me,j,e){e.d(j,{$N:function(){return s},KP:function(){return g},P3:function(){return n},_W:function(){return a},iM:function(){return t},nq:function(){return l},pM:function(){return d},rL:function(){return h}});var r=e(785463),i=e(47917);function a(v,m,p,y){return r.Y.assertAnyValue(v,"objects"),r.Y.assertValue(m,"propertyId"),r.Y.assert(()=>"$"!==m.propertyName.charAt(0),"Properties starting with $ are reserved."),v?(0,i._)(v[m.objectName],m.propertyName,p,y):p}function t(v,m,p){return v?.[m]||p}function l(v,m){return t(v,m)?.$instances}function g(v,m){var p=l(v,m);if(p){var y={};for(var S in p){var C=p[S].$order;null!=C&&(y[S]=C)}return y}}function n(v,m){if(m)return v?.metadata?.objectsRules?.[m.objectName]?.[m.propertyName]?.gradient}function d(v,m,p,y){var S=a(v,m,void 0,y)?.solid?.color;return void 0===S?p:S}function s(v,m,p){return!!a(v,m,void 0,p)?.solid?.color}function h(v,m,p,y){for(var S in r.Y.assertValue(v,"DataViewObjects.mergeObjects - destination"),r.Y.assertValue(m,"DataViewObjects.mergeObjects - source"),m){var C=m[S];if(null!=C){var u=v[S];if(!u){null==p?v[S]=C:(v[S]={$instances:{[p]:C}},null!=y&&(v[S].$instances[p].$order=y));continue}o(u,C,p,y)}}}function o(v,m,p,y){if(r.Y.assertValue(v,"DataViewObjects.mergeObject - destination"),r.Y.assertValue(m,"DataViewObjects.mergeObject - source"),r.Y.assert(()=>null==m.$instances,"DataViewObjects.mergeObject - source should not include $instances"),p){var S=v.$instances;null==S&&(S=v.$instances={});var C=S[p];C||(C=S[p]={}),o(C,m,null),null!=y&&(C.$order=y)}else for(var u in m)"$instances"!==u&&"$order"!==u&&null!=m[u]&&(v[u]=m[u])}},47917:function(me,j,e){e.d(j,{_:function(){return i},a:function(){return a}});var r=e(785463);function i(t,l,g,n){if(r.Y.assertAnyValue(t,"object"),r.Y.assertValue(l,"propertyName"),!t)return g;if(n){var d=t.$instances?.[n];if(!d)return g;t=d}var s=t[l];return void 0===s?g:s}function a(t,l,g,n,d){r.Y.assertAnyValue(t,"object"),r.Y.assertValue(l,"propertyName");var s=i(t,l,void 0,n)?.solid?.color;return s||d&&null===s?s:g}},168376:function(me,j,e){e.d(j,{BJ:function(){return T},D8:function(){return S},DS:function(){return E},F4:function(){return f},GO:function(){return z},Im:function(){return Y},JZ:function(){return J},KY:function(){return M},NN:function(){return V},TK:function(){return A},TS:function(){return ee},V4:function(){return x},X$:function(){return c},Y2:function(){return U},Y5:function(){return W},_W:function(){return P},bY:function(){return K},ep:function(){return R},gr:function(){return u},hg:function(){return Z},lY:function(){return O},lj:function(){return B},o8:function(){return L},pG:function(){return N},pR:function(){return w},po:function(){return k},rZ:function(){return C},ui:function(){return Q},xr:function(){return I}});var r=e(662785),i=e(978450),a=e(785463),t=e(123198),l=e(59764),g=e(464205),n=e(364472),d=e(446024),s=e(249521),h=e(14445),o=e(861816),v=e(258825),m=e(381839),p=e(271982),y=e(918985);function S(X,ne,ae){a.Y.assertValue(X,"defns");var oe=X[ne];oe||(X[ne]=[],oe=X[ne]);for(var Me=0,Ye=oe.length;Me<Ye;Me++){var Le=oe[Me];if((0,g.aI)(Le.selector,ae))return Le}return oe.push({selector:ae,properties:{}}),oe[oe.length-1]}function C(X,ne,ae,oe){a.Y.assertValue(X,"defns");var Me=_.find(X[ne],Ye=>(0,g.aI)(Ye.selector,ae));Me&&(Me.selector=oe)}function u(X,ne,ae){a.Y.assertValue(X,"defns");var oe=X[ne];if(!oe)return!1;var Me=_.remove(oe,Ye=>(0,g.aI)(Ye.selector,ae)).length>0;return _.isEmpty(oe)&&delete X[ne],Me}function E(X,ne){if(X&&ne)for(var ae in ne){var oe=ne[ae];for(var Me of oe)for(var Ye in Me.properties)T(X,ae,Me.selector,Ye)}}function c(X,ne,ae){if(a.Y.assertValue(X,"Trying to cascade into undefined DataViewObjectDefinitions"),X&&ne)for(var oe in ne){var Me=ne[oe];if(Me){var Ye=X[oe];Ye||(Ye=X[oe]=[]),D(Ye,Me,ae)}}}function f(X,ne,ae,oe,Me){var Ye=O(X,ne,ae);if(Ye){var Le=Ye.properties[oe];Le&&(S(X,Me,ae).properties[oe]=Le,delete Ye.properties[oe])}}function D(X,ne,ae){var oe;if(ae)X.splice(0,0,...ne||[]);else for(var Me of ne){for(var Ye of(oe=!1,X))if((0,g.aI)(Ye.selector,Me.selector)){b(Ye.properties,Me.properties),oe=!0;break}if(!oe){var Le={selector:Me.selector,properties:{}};b(Le.properties,Me.properties),X.push(Le)}}}function b(X,ne){for(var ae in ne){var oe=ne[ae];oe&&(X[ae]||(X[ae]=oe))}}function T(X,ne,ae,oe){a.Y.assertValue(X,"defns");var Me=R(X,ne,ae),Ye=_.sumBy(Me,Le=>(0,v.hv)(Le,oe)?1:0);return V(X,{objectName:ne,propertyName:oe},ae),Ye}function M(X,ne,ae,oe){a.Y.assertValue(X,"defns"),a.Y.assertValue(ne,"propertyId"),S(X,ne.objectName,ae).properties[ne.propertyName]=oe}function V(X,ne,ae){if(null==ae?.order)return!1;var oe=R(X,ne.objectName,ae,{skipId:!0,skipOrder:!0}).filter(St=>null!=St.properties?.[ne.propertyName]),Me=_.map(oe,St=>St.selector?.order).filter(St=>null!=St).sort();Me=_.uniq(Me);var Ye=(St,ze)=>{var Be=St.selector?.order;return null!=Be&&(St.selector.order=ze++),ze},Le=0,lt=function(St){var ze=_.filter(oe,Ae=>Ae.selector?.order===St);if(a.Y.assert(()=>!!ze.length,"should find definitions that match given order"),1===ze.length)Le=Ye(ze[0],Le);else{var Be=_.findIndex(ze,Ae=>(0,g.aI)(Ae.selector,ae));for(var Ce of(Be>=0&&(Le=Ye(ze[Be],Le),ze.splice(Be,1)),ze))Le=Ye(Ce,Le)}_.pullAll(oe,ze)};for(var ut of Me)lt(ut);return 0!==Me.length}function w(X,ne,ae,oe,Me){var Ye=F(ne,ae);Ye?Me?M(X,Ye,oe,Me):T(X,Ye.objectName,oe,Ye.propertyName):a.Y.assertFail("Property does not have an associated format string object")}function P(X,ne,ae){var oe=N(X,ne,ae);if(oe)return oe[ne.propertyName]}function N(X,ne,ae){var oe=R(X,ne.objectName,ae);if(oe)for(var Me of oe)if(Me.properties[ne.propertyName])return Me.properties}function I(X,ne,ae,oe){var Me=F(ne,ae);if(Me){var Ye=P(X,Me,oe);if(Ye){if(Q(Ye)&&(0,r.Qy)(Ye))return Ye;a.Y.assertFail("Format value is not of the expected type")}}else a.Y.assertFail("Property does not have an associated format string object")}function O(X,ne,ae){if(a.Y.assertAnyValue(X,"defns"),a.Y.assertValue(ne,"objectName"),a.Y.assertAnyValue(ae,"selector"),X){var oe=X[ne];if(oe)for(var Me=0,Ye=oe.length;Me<Ye;Me++){var Le=oe[Me];if((0,g.aI)(Le.selector,ae))return Le}}}function R(X,ne,ae,oe){if(a.Y.assertAnyValue(X,"defns"),a.Y.assertValue(ne,"objectName"),a.Y.assertAnyValue(ae,"selector"),!X)return[];var Me=X[ne];return Me?_.filter(Me,Ye=>(0,g.aI)(Ye.selector,ae,oe)):[]}function W(X,ne,ae){var{objectName:oe,propertyName:Me}=ne,Ye=R(X,oe,ae,{skipId:!0,skipOrder:!0});if(Ye){var Le=_.filter(Ye,ze=>!!ze.properties[Me]);if(!_.isEmpty(Le)){var lt={},ut=function(){var ze=St.selector?.id;a.Y.assert(()=>null!=ze,"expected user-defined value"),lt[ze]={selector:St.selector,value:St.properties[Me]}};for(var St of Le)ut();return lt}}}function F(X,ne){var ae=(0,m.D0)(X,ne);if(ae)return ae.formatStringProperty;a.Y.assertFail("Property is missing from the object descriptors")}function U(X,ne){return X===ne||(X instanceof n.b0&&ne instanceof n.b0?n.b0.isSameFilter(X,ne):X instanceof d.yj&&ne instanceof d.yj?(0,i.aI)(X,ne):(0,t.aI)(X,ne))}function B(X,ne){if(a.Y.assertValue(X,"a"),a.Y.assertValue(ne,"b"),Object.keys(X).length!==Object.keys(ne).length)return!1;for(var ae in X)if(!U(X[ae],ne[ae]))return!1;return!0}function x(X,ne){a.Y.assertValue(X,"a"),a.Y.assertValue(ne,"b");var ae=[];for(var oe in X)U(X[oe],ne[oe])||ae.push(oe);for(var Me in ne)_.includes(ae,Me)||U(X[Me],ne[Me])||ae.push(Me);return ae}function A(X,ne){a.Y.assertAnyValue(X,"value"),a.Y.assertValue(ne,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var ae=ne,oe=ne;if(ae.variantDeleteEmpty&&ae.variant&&null==X)return X;if(ae.bool||ae.operations&&ae.operations.searchEnabled)return"boolean"!=typeof X&&(X=!1),(0,d.zM)(!!X);if(ae.text||ae.duration||ae.scripting&&ae.scripting.source)return(0,d.Qq)(X?X.toString():"");if(ae.numeric){if($.isNumeric(X))return(0,d.gd)(+X)}else if(ae.integer){if($.isNumeric(X))return(0,d.nd)(Math.floor(+X))}else if(oe.fill){if(X){var Me=X;return null==Me.id||null==Me.shade?{solid:{color:(0,d.Qq)((Me.value||X).toString())}}:{solid:{color:(0,d.Bg)(Me.id,Me.shade)}}}if(null===X&&oe.fill.solid&&oe.fill.solid.color){var Ye=!1,Le=oe.fill.solid.color;if("boolean"!=typeof Le&&(Ye=Le.nullable),Ye)return{solid:{color:(0,d.gN)()}}}}else if(ae.formatting){if(!(ae.formatting.labelDisplayUnits||ae.formatting.displayUnitsWithoutAuto||ae.formatting.fontSize))return(0,d.Qq)(X?X.toString():"");if(null!=X)return(0,d.gd)(+X)}else{if(ae.enumeration||ae.flagsEnumeration)return $.isNumeric(X)?(0,d.gd)(+X):(0,d.Qq)(X?X.toString():"");if(ae.misc)X=X?(0,d.Qq)(X.toString()):null;else if(ae.dateTime)X=X?(0,d.KQ)(X):null;else if(!ae.variant)if(oe.image){if(X){var lt=X,ut={name:(0,d.Qq)(lt.name.toString()),url:(0,d.Qq)(lt.url.toString())};return lt.scaling&&(ut.scaling=(0,d.Qq)(lt.scaling.toString())),ut}}else if(oe.geoJson){if(X){var St=X;return{type:(0,d.Qq)(St.type.toString()),name:(0,d.Qq)(St.name.toString()),content:St.content?(0,d.Qq)(St.content.toString()):(0,d.gN)()}}}else if(ae.reference)(ae.reference.bookmark||ae.reference.section||ae.reference.perspective||ae.reference.bookmarkGroup||ae.reference.rowRefText)&&(X=(0,d.Qq)(X?X.toString():""));else if(oe.filter)a.Y.assert(()=>X instanceof n.b0,"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(oe.paragraphs){var Be=X,Ce=[];if(_.isEmpty(Be))return Ce;for(var Ae of Be){var be={...Ae,textRuns:[]};if(_.isEmpty(Ae.textRuns))Ce.push(be);else{for(var Ie of Ae.textRuns)if((0,s.PG)(Ie))be.textRuns.push(Ie);else if((0,s.Nr)(Ie)){var ve=void 0;_.isNumber(Ie.expression)?ve=A(Ie.expression,{integer:!0}):(0,o.p)(Ie.expression)?ve=Ie.expression:a.Y.assertNever(Ie.expression);var xe={cases:[],defaultCase:Ie.defaultCase,expression:ve};if(!_.isEmpty(Ie.cases))for(var Ee of Ie.cases){var Ne={pattern:A(Ee.pattern,{integer:!0}),textRuns:Ee.textRuns};xe.cases.push(Ne)}be.textRuns.push(xe)}else a.Y.assertNever(Ie);Ce.push(be)}}return Ce}if(!oe.queryTransform){if(oe.exprList||oe.selectedValues){var Xe={exprs:[],kind:l.P.ExprList};return Xe.exprs=_.map(X.exprs,Nt=>Nt),Xe}if(oe.itemLocation){var fe=X,Se={kind:l.P.ItemLocation,byReference:{itemId:(0,d.Qq)(fe.byReference.itemId)}};fe.byReference.workspaceId&&(Se.byReference.workspaceId=(0,d.Qq)(fe.byReference.workspaceId)),fe.byReference.folderId&&(Se.byReference.folderId=(0,d.Qq)(fe.byReference.folderId));var qe=fe.metadata;if(qe){Se.metadata={};var Ue=qe.dataFunction;Ue&&(Se.metadata.dataFunction={name:Ue.name,autoRefresh:Ue.autoRefresh,parameters:Ue.parameters.map(Nt=>{switch(Nt.type){case"SlicerParameter":return{...Nt};case"ValueParameter":var Bt;return Bt=Nt.value?Nt.value instanceof d.yj?Nt.value:(0,d.FT)(Nt.value,{}):(0,d.gN)(),{...Nt,value:Bt}}})})}return Se}if(oe.annotationTemplate){if(!X)return;var _e;if((0,y.lM)(oe.annotationTemplate)){var at=X;if(!at.text)return;var ot={kind:l.P.AnnotationTemplate,annotationType:p.x.Callout,text:(0,d.Qq)(at.text)};null!=at.offsetX&&(ot.offsetX=(0,d.gd)(at.offsetX)),null!=at.offsetY&&(ot.offsetY=(0,d.gd)(at.offsetY)),null!=at.width&&(ot.width=(0,d.gd)(at.width)),null!=at.height&&(ot.height=(0,d.gd)(at.height)),null!=at.lastEditUTCTimestamp&&(ot.lastEditUTCTimestamp=(0,d.gd)(at.lastEditUTCTimestamp)),_e=ot}else{var mt=X;if(!mt.color)return;var yt={kind:l.P.AnnotationTemplate,annotationType:p.x.Highlight,color:(0,d.Qq)(mt.color)};mt.fontColor&&(yt.fontColor=(0,d.Qq)(mt.fontColor)),mt.backgroundColor&&(yt.backgroundColor=(0,d.Qq)(mt.backgroundColor)),mt.emphasizeText&&(yt.emphasizeText=(0,d.zM)(mt.emphasizeText)),mt.strokeDasharray&&(yt.strokeDasharray=(0,d.Qq)(mt.strokeDasharray)),mt.shouldOffsetVisibleOutlinesInbound&&(yt.shouldOffsetVisibleOutlinesInbound=(0,d.zM)(mt.shouldOffsetVisibleOutlinesInbound)),mt.targets&&(yt.targets=_.map(mt.targets,Nt=>(0,d.Qq)(Nt))),_e=yt}return _e}a.Y.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return X}function L(X){var ne={};for(var ae in X){var oe=X[ae];_.isEmpty(oe)||(ne[ae]=z(oe))}return ne}function Y(X){if(_.isEmpty(X))return!0;for(var ne in X){var ae=X[ne];if(!_.isEmpty(ae))for(var oe of ae)if(!_.isEmpty(oe.properties))return!1}return!0}function z(X){var ne=[];for(var ae of X)ne.push({properties:H(ae.properties),selector:ae.selector});return ne}function H(X){return a.Y.assertValue(X,"original"),_.clone(X)}function Z(X){return!!X&&!!(X instanceof d.yj||(0,h.Mr)(X))}function k(X,ne,ae){for(var oe in X){var Me=X[oe],Ye=ne&&ne[oe];if(Me&&(!ne||Ye))for(var Le of Me)for(var lt in Le.properties)!Le.properties[lt]||ne&&(!Ye||!Ye.properties[lt])||ae(Le.properties,lt,Le.selector,oe,Ye)}}function K(X){var ne=X.definitions,ae=X.descriptors,oe=X.visitor,Me=X.structuralObjectVisitor;a.Y.assertValue(ne,"dataViewObjectDefinition.visitPropertyExprs - definitions"),a.Y.assertAnyValue(ae,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),a.Y.assertAnyValue(oe,"dataViewObjectDefinition.visitPropertyExprs - visitor"),a.Y.assertAnyValue(Me,"dataViewObjectDefinition.visitPropertyExprs - visitor"),a.Y.assert(()=>!!oe||!!Me,"Either sqExprVisitor or structuralObjectVisitor are required");var Ye=[],Le={stopVisiting:!1};function lt(be,Ie,ve){var xe=be[Ie];if(oe&&xe instanceof d.yj)oe(xe,be,Ie,ve,Ye,Le);else if("object"==typeof xe&&(Me&&Me(xe,be,Ie,ve,Ye,Le),oe))for(var Ee in xe){if(Le.stopVisiting)return;Ye.push(Ee),lt(xe,Ee,ve),Ye.pop()}}for(var ut in ne){var St=ae&&ae[ut];if(!_.isEmpty(ne[ut])&&(St||!ae)){for(var ze of ne[ut]){var Be=ze.properties;if(Be)for(var Ce in Be){if(Le.stopVisiting)return;var Ae=St&&St.properties[Ce];(Ae||!ae)&&lt(Be,Ce,Ae&&Ae.type)}}a.Y.assert(()=>_.isEmpty(Ye),"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function ee(X){if(a.Y.assertAnyValue(X,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(X)){for(var ne in X)if(X[ne]){var ae=[];for(var oe of X[ne]){var Me=(0,v.TS)(oe);Me&&ae.push(Me)}_.isEmpty(ae)?delete X[ne]:X[ne]=ae}else delete X[ne];if(!_.isEmpty(X))return X}}function Q(X){return X instanceof d.yj}function J(X){return X&&"ExprWithContext"===X.propertyDefinitionKind}},258825:function(me,j,e){e.d(j,{Jd:function(){return a},TS:function(){return t},hv:function(){return i}});var r=e(785463);function i(l,g){if(g in l.properties)return delete l.properties[g],!0}function a(l){return!_.startsWith(l,"$")}function t(l){r.Y.assertAnyValue(l,"DataViewObjectDefinition.reduce - defn can have any value.");var g=l&&l.properties;if(g){for(var n in g)_.isEmpty(g[n])&&i(l,n);if(!_.isEmpty(g))return l}}},381839:function(me,j,e){e.d(j,{D0:function(){return h},Es:function(){return g},PJ:function(){return l},U9:function(){return a},df:function(){return d},eq:function(){return s},x_:function(){return t}});var r=e(785463),i=e(191941);function a(v){return o(v,m=>{var p=i.eV.fromDescriptor(m.type).formatting;return p&&p.formatString})}function t(v){return o(v,m=>{var p=m.type;return p&&p.filter&&!p.filter.selfFilter})}function l(v){return o(v,m=>{var p=m.type;return p&&!!p.exprList})}function g(v){return o(v,n)}function n(v){var m=v&&v.type;return m&&m.filter&&m.filter.selfFilter}function d(v){return o(v,m=>{var p=m.type;return p&&p.operations&&p.operations.searchEnabled})}function s(v){return o(v,m=>{var p=m.type;return p&&!!p.expression&&p.expression.defaultValue})}function h(v,m){if(r.Y.assertValue(v,"descriptors"),r.Y.assertValue(m,"propertyId"),!_.isEmpty(v)){var p=v[m.objectName];if(p&&!_.isEmpty(p.properties))return p.properties[m.propertyName]}}function o(v,m){if(r.Y.assertAnyValue(v,"descriptors"),r.Y.assertAnyValue(m,"propPredicate"),v)for(var p in v){var y=v[p].properties;for(var S in y)if(m(y[S]))return{objectName:p,propertyName:S}}}},332055:function(me,j,e){e.d(j,{po:function(){return g},qM:function(){return n},zJ:function(){return s}});var r=e(785463),i=e(464205),a=e(446024),t=e(51926),l=e(381839);function g(u,E,c,f,D){var b;for(var T of(r.Y.assertValue(E,"evalContext"),r.Y.assertValue(c,"objectDescriptors"),r.Y.assertValue(f,"objectDefns"),f)){var M=T.name;D&&(D.objectName=M);var V=u.run(M,E,c[M],T.properties,D);V&&(b||(b={}),b[M]?(0,t.rL)(b,{[M]:V}):b[M]=V)}return b}function n(u){r.Y.assertAnyValue(u,"objectDefinitions");var E={data:[]};if(u)for(var c in u)for(var f=u[c],D=0,b=f.length;D<b;D++){var T=f[D];d(E,T.selector).objects.push({name:c,properties:T.properties})}return E}function d(u,E){var c;for(var f of(r.Y.assertValue(u,"grouped"),r.Y.assertAnyValue(E,"selector"),E&&E.data?c=u.data:E&&E.metadata?(u.metadata||(u.metadata=[]),c=u.metadata):(u.metadataOnce||(u.metadataOnce=[]),c=u.metadataOnce),r.Y.assert(()=>!!c,"GroupedObjects is not defined.  Indicates malformed selector."),c))if((0,i.aI)(E,f.selector))return f;var D={selector:E,objects:[]};return c.push(D),D}function s(u,E,c,f){r.Y.assertValue(u,"objectsForAllSelectors"),r.Y.assertValue(E,"objectDescriptors"),r.Y.assertValue(c,"columns"),r.Y.assertAnyValue(f,"selectTransforms"),f&&(function(u,E,c,f){r.Y.assertValue(u,"objectsForAllSelectors"),r.Y.assertValue(E,"objectDescriptors"),r.Y.assertValue(c,"columns"),r.Y.assertValue(f,"selectTransforms");var D=(0,l.U9)(E);if(D)for(var b=0,T=f.length;b<T;b++){var M=f[b];M&&(r.Y.assertValue(M.queryName,"selectTransform.queryName"),m(u,D,M.queryName,M.format||v(c,b)))}}(u,E,c,f),function(u,E,c){r.Y.assertValue(u,"objectsForAllSelectors"),r.Y.assertValue(E,"objectDescriptors"),r.Y.assertValue(c,"selectTransforms");var f=(0,l.eq)(E);if(f)for(var D of c)D&&(r.Y.assertValue(D.queryName,"selectTransform.queryName"),p(u,f,D.queryName,D.defaultValue))}(u,E,f))}function v(u,E){for(var c=0,f=u.length;c<f;c++){var D=u[c];if(D&&D.index===E)return D.format}}function m(u,E,c,f){f&&y(u,E,{metadata:c},(0,a.Qq)(f))}function p(u,E,c,f){f&&y(u,E,{metadata:c},f)}function y(u,E,c,f){var D;if(c){var b=u.metadata;b||(b=u.metadata=[]),D=b}else{var T=u.metadataOnce;T||(T=u.metadataOnce=[{selector:c,objects:[]}]),D=T}var V,M=function(u,E){r.Y.assertValue(u,"objects"),r.Y.assertAnyValue(E,"selector");for(var c=0,f=u.length;c<f;c++){var D=u[c];if((0,i.aI)(D.selector,E))return D}}(D,c);if(M){var w=M.objects;if(V=function(u,E){r.Y.assertValue(u,"objectDefns"),r.Y.assertValue(E,"objectName");for(var c=0,f=u.length;c<f;c++){var D=u[c];if(D.name===E)return D}}(w,E.objectName),V){if(V.properties[E.propertyName])return}else w.push(V={name:E.objectName,properties:{}})}else D.push({selector:c,objects:[V={name:E.objectName,properties:{}}]});V.properties[E.propertyName]=f}},968462:function(me,j,e){e.d(j,{q:function(){return T}});var r=e(460169),i=e(618644),a=e(785463),t=e(469550),l=e(928912),g=e(59764),n=e(446024),d=e(20502),s=e(121993),h=e(953661),o=e(249521),v=e(14445),m=e(861816),p=e(191941),y=e(251476),S=e(266357),C=e(811880);class E{constructor(){this.cache=[]}get(w){for(var P of(a.Y.assertValue(w,"key"),this.cache))if(P.key===w)return P.allocator}register(w,P){return a.Y.assertValue(w,"key"),a.Y.assert(()=>void 0!==P,"colorAllocator (it can be null, but not undefined)"),a.Y.assert(()=>null==this.get(w),"Trying to re-register for same key expr."),this.cache.push({key:w,allocator:P}),this}}var c=e(417647),f=e(290192),D=e(918985),T=(()=>{class V{constructor(P,N){this.featureSwitches=P,this.visualStyle=N,a.Y.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new E,this.expressionEvaluator=new M(I=>this.evaluateThemeDataColor(I),(I,O)=>this.ensureColorAllocator(I,O))}getObjectsRules(){return this.objectsRules}run(P,N,I,O,R){if(a.Y.assertValue(N,"evalContext"),a.Y.assertAnyValue(I,"objectDescriptor"),a.Y.assertValue(O,"propertyDefinitions"),I){var W,F=I.properties;for(var U in O){this.propertyId={objectName:P,propertyName:U};var B=O[U],x=F[U];if(x){R&&(R.objectDescriptor=I,R.propertyName=U);var A=this.evaluateProperty(N,x,B);void 0!==A&&(W||(W={}),W[U]=A)}}return this.propertyId=void 0,W}}evaluateProperty(P,N,I,O){a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"propertyDescriptor"),a.Y.assertValue(I,"propertyDefinition");var R=N.type;if(R?.expression)return I;var F,W=this.evaluateValue(P,I,p.eV.fromDescriptor(N.type));return void 0!==W||I instanceof f.b?W:(R.fillRule?F=this.evaluateFillRule(I):R.fill?.solid?.color&&I?.solid?.color?F=this.evaluateSolidColorFill(P,I,R.fill.solid.color.nullable):R.dataBars&&(F=this.evaluateDataBars(P,I)),F?(O&&F.error&&O.warnings.push(new S.u(this.featureSwitches,C.Mr.InvalidValue,{objectName:O.objectName,propertyName:O.propertyName},O.selector,O.objectDescriptor.displayName,N.displayName,F.error.expr,F.error.value,null,O.targetExpr)),F.value):R.queryTransform?this.evaluateQueryTransform(P,I):R.image?this.evaluateImage(P,I):R.paragraphs?this.evaluateParagraphs(P,I):R.geoJson?this.evaluateGeoJson(P,I):R.filter?this.evaluateSemanticFilter(I):R.icon?this.evaluateIcon(P,I):R.exprList?this.evaluateExprList(I):R.errorRange?this.evaluateErrorRange(P,I):R.qnaVisualLink?this.evaluateQnaVisualLink(P,I):R.itemLocation?this.evaluateItemLocation(P,I):R.annotationTemplate?this.evaluateAnnotationTemplate(P,I,R.annotationTemplate):void 0)}evaluateSemanticFilter(P){return P}evaluateSolidColorFill(P,N,I){if(N?.solid?.color){var O=this.evaluateColor(P,N.solid.color,I);if(O.error)return O;var R=O.value;if(R||null===R&&I)return{value:{solid:{color:R}}}}}ensureColorAllocator(P,N){var I=this.colorAllocatorCache.get(P);return void 0!==I||(I=this.createColorAllocator(P,N),this.colorAllocatorCache.register(P,I,this.propertyId),this.propertyId&&I&&this.addObjectRule(I)),I}addObjectRule(P){this.objectsRules||(this.objectsRules={});var N=this.objectsRules[this.propertyId.objectName];N||(N=this.objectsRules[this.propertyId.objectName]={}),N[this.propertyId.propertyName]={gradient:{options:P.getRule(),source:P.getSource()}}}createColorAllocator(P,N){var I=N.getExprColumn(P.input,this.featureSwitches.categoricalSecondaryCF);if(!I)return null;var O=this.evaluateFillRule(P.rule).value;return O?(0,y.r)().fromFillRule(O,I):null}evaluateFillRule(P){var I,N=(0,c.b)();if(P.linearGradient2){var O=P.linearGradient2,R=this.evaluateColorStop(N,O.min);if(R.error)return R;var W=this.evaluateColorStop(N,O.max);if(W.error)return W;I={linearGradient2:{min:R.value,max:W.value}};var F=this.evaluateNullStrategy(N,O.nullColoringStrategy);if(F){if(F.error)return F;I.linearGradient2.nullColoringStrategy=F.value}}else if(P.linearGradient3){var B=P.linearGradient3,x=this.evaluateColorStop(N,B.min);if(x.error)return x;var A=this.evaluateColorStop(N,B.mid);if(A.error)return A;var L=this.evaluateColorStop(N,B.max);if(L.error)return L;I={linearGradient3:{min:x.value,mid:A.value,max:L.value}};var Y=this.evaluateNullStrategy(N,B.nullColoringStrategy);if(Y){if(Y.error)return Y;I.linearGradient3.nullColoringStrategy=Y.value}}return{value:I}}evaluateColorStop(P,N){a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"colorStop");var I=this.evaluateColor(P,N.color,!1);if(I.error)return I;var O={color:I.value},R=this.evaluateValue(P,N.value,V.numericType);return null!=R&&(O.value=R),{value:O}}evaluateColor(P,N,I){a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"evaluateColor - color");var O=this.evaluateValue(P,N,V.colorValueType),R=null!=O?(0,t.rQ)(this.visualStyle,O):O;if(null!=R)return{value:R};if(null===O&&I)return{value:null};if(!O)return{value:void 0};var W=O.toString();if(W){var F=W.replace(/\s+/g,"");(0,i.fh)(F)?W=F:null==(W=(0,i.R3)(F))&&(W=(0,t.ck)(F))}return void 0===W?{error:{expr:N,value:O}}:{value:W}}evaluateNullStrategy(P,N){if(N){a.Y.assertValue(P,"evaluateNullStrategy - undefined evalContext"),a.Y.assertValue(N.strategy,"evaluateNullStrategy - undefined strategy");var I={strategy:this.evaluateValue(P,N.strategy,V.nullStrategyType)};if(N.color){var O=this.evaluateColor(P,N.color,!1);if(O.error)return O;I.color=O.value}return{value:I}}}evaluateQueryTransform(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertAnyValue(N,"definition"),N)return{algorithm:N.algorithm,parameters:N.parameters.map(I=>({name:I.name,value:this.evaluateValue(P,I.expr,p.eV.fromDescriptor({}))}))}}evaluateImage(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertAnyValue(N,"definition"),N){var I={name:this.evaluateValue(P,N.name,V.textType),url:this.evaluateValue(P,N.url,p.eV.fromDescriptor(h.c))};return N.scaling&&(I.scaling=this.evaluateValue(P,N.scaling,V.textType)),I}}evaluateParagraphs(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertAnyValue(N,"definition"),N)return this.evaluateArrayCopyOnChange(P,N,(I,O)=>this.evaluateParagraph(I,O))}evaluateParagraph(P,N){a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition");var I,O=N.textRuns,R=this.evaluateArrayCopyOnChange(P,O,(W,F)=>this.evaluateTextRun(W,F));return O!==R&&((I=_.clone(N)).textRuns=R),I||N}evaluateTextRun(P,N){return a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition"),(0,o.OX)(N)?this.evaluateTextRunDefinition(P,N):(0,o.k9)(N)?this.evaluateTextRunConditional(P,N):void a.Y.assertNever(N)}evaluateTextRunDefinition(P,N){var I,O;N.value instanceof n.yj?(I=N.value,O=this.evaluateValue(P,N.value,V.textType)):O=N.value;var R={value:O};return N.textStyle&&(R.textStyle=N.textStyle),N.url&&(R.url=N.url),N.mentionEmail&&(R.mentionEmail=N.mentionEmail),N.mentionKey&&(R.mentionKey=N.mentionKey),I&&(R.valueExpr=I),R}evaluateTextRunConditional(P,N){return{cases:this.evaluateArrayCopyOnChange(P,N.cases,(O,R)=>this.evaluateTextRunConditionalCase(O,R)),defaultCase:this.evaluateTextRunCaseValue(P,N.defaultCase),expression:this.evaluateTextRunConditionalExpression(P,N.expression)}}evaluateTextRunConditionalCase(P,N){return{pattern:this.evaluateValue(P,N.pattern,V.textType),...this.evaluateTextRunCaseValue(P,N)}}evaluateTextRunCaseValue(P,N){return{textRuns:this.evaluateArrayCopyOnChange(P,N.textRuns,(O,R)=>this.evaluateTextRunDefinition(O,R))}}evaluateTextRunConditionalExpression(P,N){return N instanceof n.yj?this.evaluateValue(P,N,V.textType):(0,m.p)(N)?N:void a.Y.assertNever(N)}evaluateGeoJson(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertAnyValue(N,"definition"),N)return{name:this.evaluateValue(P,N.name,V.textType),type:this.evaluateValue(P,N.type,V.textType),content:this.evaluateValue(P,N.content,V.textType)}}evaluateDataBars(P,N){var I=this.evaluateSolidColorFill(P,N.positiveColor,!1);if(I.error)return{error:I.error};var O=this.evaluateSolidColorFill(P,N.negativeColor,!1);if(O.error)return{error:O.error};var R=this.evaluateSolidColorFill(P,N.axisColor,!1);return R.error?{error:R.error}:{value:{minValue:this.evaluateValue(P,N.minValue,V.numericType),maxValue:this.evaluateValue(P,N.maxValue,V.numericType),positiveColor:I.value,negativeColor:O.value,axisColor:R.value,reverseDirection:this.evaluateValue(P,N.reverseDirection,V.boolType),hideText:this.evaluateValue(P,N.hideText,V.boolType),totalMatchingOption:this.evaluateValue(P,N.totalMatchingOption,V.integerType)}}}evaluateIcon(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertAnyValue(N,"definition"),(0,v.P3)(N)){var I={kind:g.P.Icon};if(N.layout&&(I.layout=this.evaluateValue(P,N.layout,V.textType)),N.verticalAlignment&&(I.verticalAlignment=this.evaluateValue(P,N.verticalAlignment,V.textType)),N.value){var O=this.evaluateValue(P,N.value,V.textType);if(null===O)I.value=null;else if(void 0===O)I.value=null;else{var R=(0,t.FQ)(this.visualStyle,O);if(R)if(R.svgId){var W=R.description?.resourceKey;I.value={svgId:R.svgId},W&&(I.value.descriptionKey=W)}else R.url?I.value={url:R.url}:a.Y.assertFail("incorrect themeIcon");else I.value={url:O}}}return I}}evaluateThemeDataColor(P){return(0,t.v4)(this.visualStyle,P)}evaluateExprList(P){if(a.Y.assertAnyValue(P,"definition"),(0,v.df)(P))return{exprs:P.exprs,kind:g.P.ExprList}}evaluateArrayCopyOnChange(P,N,I){a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definitions"),a.Y.assertValue(I,"evaluator");for(var O,R=0,W=N.length;R<W;R++){var F=N[R],U=I(P,F);!O&&F!==U&&(O=_.take(N,R)),O&&O.push(U)}return O||N}evaluateErrorRange(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition"),(0,v.lF)(N)){if(N.explicit)return this.evaluateExplicitErrorRange(P,N.explicit);if(N.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(P,N.symmetricalExplicit);if(N.standardDeviation)return this.evaluateStandardDeviationErrorRange(P,N.standardDeviation);if(N.percentage)return this.evaluatePercentageErrorRange(P,N.percentage);if(N.percentile)return this.evaluatePercentileErrorRange(P,N.percentile)}}evaluateExplicitErrorRange(P,N){var I={isRelative:!0===this.evaluateValue(P,N.isRelative,V.boolType)};return N.lowerBound&&(I.lowerBound=this.evaluateValue(P,N.lowerBound,V.numericType)),N.upperBound&&(I.upperBound=this.evaluateValue(P,N.upperBound,V.numericType)),{explicit:I}}evaluateSymmetricalErrorRange(P,N){return{symmetricalExplicit:{delta:this.evaluateValue(P,N.delta,V.numericType)}}}evaluateStandardDeviationErrorRange(P,N){return{standardDeviation:{value:this.evaluateValue(P,N.value,V.numericType),multiplier:this.evaluateValue(P,N.multiplier,V.numericType)}}}evaluatePercentageErrorRange(P,N){return{percentage:{lowerBoundDelta:this.evaluateValue(P,N.lowerBoundDelta,V.numericType),upperBoundDelta:this.evaluateValue(P,N.upperBoundDelta,V.numericType)}}}evaluatePercentileErrorRange(P,N){return{percentile:{lowerBound:this.evaluateValue(P,N.lowerBound,V.numericType),upperBound:this.evaluateValue(P,N.upperBound,V.numericType)}}}evaluateQnaVisualLink(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition"),(0,v.CY)(N))return{suggestedUtterances:_.map(N.suggestedUtterances,I=>({utterance:I.utterance}))}}evaluateItemLocation(P,N){if(a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition"),(0,v.W8)(N)){var I;if(N.byReference&&(I={byReference:{itemId:this.evaluateValue(P,N.byReference.itemId,V.textType)}},N.byReference.workspaceId&&(I.byReference.workspaceId=this.evaluateValue(P,N.byReference.workspaceId,V.textType)),N.byReference.folderId&&(I.byReference.folderId=this.evaluateValue(P,N.byReference.folderId,V.textType))),I){var O=N.metadata;if(O){I.metadata={};var R=O.dataFunction;R&&(I.metadata.dataFunction={name:R.name,autoRefresh:R.autoRefresh,parameters:R.parameters.map(W=>{switch(W.type){case"SlicerParameter":return{...W};case"ValueParameter":return{...W,value:this.evaluateValue(P,W.value)}}})})}}return I}}evaluateAnnotationTemplate(P,N,I){if(a.Y.assertValue(P,"evalContext"),a.Y.assertValue(N,"definition"),(0,v.nc)(N)){if((0,D.lM)(I)){var O=N;if(!O.text)return;var R={annotationType:D.yT.Callout,text:this.evaluateValue(P,O.text,V.textType)};return null!=O.offsetX&&(R.offsetX=this.evaluateValue(P,O.offsetX,V.numericType)),null!=O.offsetY&&(R.offsetY=this.evaluateValue(P,O.offsetY,V.numericType)),null!=O.width&&(R.width=this.evaluateValue(P,O.width,V.numericType)),null!=O.height&&(R.height=this.evaluateValue(P,O.height,V.numericType)),null!=O.lastEditUTCTimestamp&&(R.lastEditUTCTimestamp=this.evaluateValue(P,O.lastEditUTCTimestamp,V.numericType)),R}var W=N;if(!W.color)return;var F={annotationType:D.yT.Highlight,color:this.evaluateValue(P,W.color,V.textType)};return null!=W.backgroundColor&&(F.backgroundColor=this.evaluateValue(P,W.backgroundColor,V.textType)),W.fontColor&&(F.fontColor=this.evaluateValue(P,W.fontColor,V.textType)),null!=W.emphasizeText&&(F.emphasizeText=this.evaluateValue(P,W.emphasizeText,V.boolType)),W.shouldOffsetVisibleOutlinesInbound&&(F.shouldOffsetVisibleOutlinesInbound=this.evaluateValue(P,W.shouldOffsetVisibleOutlinesInbound,V.boolType)),W.targets&&(F.targets=_.map(W.targets,U=>this.evaluateValue(P,U,V.textType))),W.strokeDasharray&&(F.strokeDasharray=this.evaluateValue(P,W.strokeDasharray,V.textType)),F}}evaluateValue(P,N,I){return N instanceof n.yj?this.expressionEvaluator.evaluate(N,P):N instanceof f.b?N.evaluate(P):void 0}}return V.boolType=p.eV.fromDescriptor({bool:!0}),V.colorValueType=p.eV.fromDescriptor({formatting:{color:!0}}),V.numericType=p.eV.fromDescriptor({numeric:!0}),V.integerType=p.eV.fromDescriptor({integer:!0}),V.textType=p.eV.fromDescriptor({text:!0}),V.nullStrategyType=p.eV.fromDescriptor({enumeration:s.NW}),V})();class M extends d.Li{constructor(w,P){super(),this.dataColorEvaluator=w,this.colorAllocatorGetter=P}evaluate(w,P){if(null!=w)return w.accept(this,P)}visitColumnRef(w,P){return P.getExprValue(w)}visitConstant(w,P){return w.value}visitMeasureRef(w,P){return P.getExprValue(w)}visitArithmetic(w,P){return P.getExprValue(w)}visitNativeMeasure(w,P){return P.getExprValue(w)}visitAggr(w,P){return P.getExprValue(w)}visitScopedEval(w,P){return P.getScopedEvalExprValue(w)}visitFillRule(w,P){var N=this.colorAllocatorGetter(w,P);if(N){var I=this.evaluate(w.input,P);if(void 0!==I)return N.color(I)}}visitPercentile(w,P){return P.getExprValue(w)}visitRangePercent(w,P){var N=this.evaluate(w.min,P);if(_.isFinite(N)){var I=this.evaluate(w.max,P);if(_.isFinite(I)){var O=w.percent;return 0===O?N:1===O?I:N+O*(I-N)}}}visitSelectRef(w,P){return P.getExprValue(w)}visitThemeDataColor(w,P){var N=this.dataColorEvaluator(w.colorId);if(N)return(0,i.xq)(N,w.percent)}visitNot(w,P){return!this.evaluate(w.arg,P)}visitAnd(w,P){return w.left.accept(this,P)&&w.right.accept(this,P)}visitContains(w,P){if(!w.isOrdinalEvaluation())return a.Y.assertFail("Contains expression should be evaluated as ordinal"),!1;var N=this.getExprString(w.left,P),I=this.getExprString(w.right,P);return _.isString(N)?(0,l.gR)(N,I):(a.Y.warn("Contains expression should only be applied to string types"),!1)}visitStartsWith(w,P){if(!w.isOrdinalEvaluation())return a.Y.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var N=this.getExprString(w.left,P),I=this.getExprString(w.right,P);return _.isString(N)?(0,l.w1)(N,I):(a.Y.warn("StartsWith expression should only be applied to strings"),!1)}getExprString(w,P){if(null!==w)return(0,n.q7)(w)??this.evaluate(w,P)}visitCompare(w,P){var N=this.evaluate(w.left,P);if(_.isNaN(N))return!1;var I=this.evaluate(w.right,P);if(_.isNaN(I))return!1;var O=w.comparison;if(w.isOrdinalEvaluation())return O===r.mq.Equal?N===I:(a.Y.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===I||null===N)return I===N&&(O===r.mq.Equal||O===r.mq.GreaterThanOrEqual||O===r.mq.LessThanOrEqual);switch(O){case r.mq.Equal:return N===I;case r.mq.GreaterThan:return N>I;case r.mq.GreaterThanOrEqual:return N>=I;case r.mq.LessThan:return N<I;case r.mq.LessThanOrEqual:return N<=I}}visitConditional(w,P){var N=w.cases;if(a.Y.assertNonEmpty(N,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(N))for(var I of N){var R=I.value;if(!0===this.evaluate(I.condition,P))return this.evaluate(R,P)}return this.evaluate(w.defaultValue,P)}}},947988:function(me,j,e){e.d(j,{GK:function(){return s},Jf:function(){return v}});var r=e(935236),i=e(785463),a=e(473001),t=e(147293),l=e(753519),g=e(702087),n=e(610013),d=e(811901);function s(C,u,E,c,f,D){!u||1!==u.length||!E.categorical||!E.categorical.dataReductionAlgorithm||C&&function(C){return!(!h(C.Primary)||!h(C.Secondary)||1!==C.Secondary.Groupings[0].Projections.length||C.DataReduction&&(C.DataReduction.Primary||C.DataReduction.Secondary||C.DataReduction.Intersection))}(C)&&(C.Primary.Groupings=[C.Secondary.Groupings[0],C.Primary.Groupings[0]],C.Secondary=void 0,C.DataReduction={Primary:(0,l.R)(E.categorical.dataReductionAlgorithm,c),DataVolume:D||E.categorical.dataVolume||f})}function h(C){return C&&C.Groupings&&1===C.Groupings.length&&!_.isEmpty(C.Groupings[0].Projections)&&!C.Groupings[0].Subtotal&&_.isEmpty(C.Groupings[0].SuppressedProjections)}function v(C,u,E,c,f){if(!function(C,u,E,c,f){if(_.isEmpty(u)||!C||_.isEmpty(f))return!1;var D=_.filter(f,I=>!(0,g.D9)(I));if(1!==D.length)return!1;var b=D[0].categorical;if(!b)return!1;var T=C.matrix;if(!T||!T.rows||!T.rows.levels||2!==T.rows.levels.length)return!1;var M=[],V=[],w=(I,O)=>{var R=c[I];if(R)for(var W of R.all())E[W.queryRef]===t.Ts.Grouping&&O.push(W.queryRef)};if((0,n.Ax)(b.categories,{visitRole:I=>{w(I,M)}}),(0,n.Cn)(b.values,{visitRole:I=>{w(I,V)}}),(0,n.AS)(b.values,{visitRole:I=>{w(I,V)}}),_.isEmpty(M)||_.isEmpty(V))return!1;for(var P of T.columns.levels)for(var N of P.sources)if(!N.isMeasure)return!1;return!0}(C,u,E,c,f))return C;var D={metadata:{columns:(0,r.C)(C.metadata.columns)}};if(C.single&&(D.single=C.single),C.table&&(D.table=C.table),C.matrix){var b=function(C){var ne,ae,u=C.rows,E=u.root,c=E.children,f=[],D=u.levels[0],b=E.childIdentityFields,T={},M=[],V=u.levels[1],w=_.isEmpty(c)?void 0:c[0].childIdentityFields,P=C.valueSources.length,N=ne=>{var ae=T[ne.key];return i.Y.assert(()=>void 0!==ae,"findcat() !== undefined"),ae};if(c){for(var O of c)for(var R of(f.push(O),O.children))ae=void 0,void 0,void 0===T[ae=(ne=R).identity.key]&&(T[ae]=M.length,M.push(ne))}for(var W=new Array(M.length),F=0;F<f.length;++F){var U=c[F];for(var B of U.children){var x=N(B.identity);W[x]||(W[x]=new Array(f.length)),W[x][F]=B.values}}var A={root:{children:_.map(f,ne=>{var ae=(0,a.Uz)(ne);return ae.level=0,ae.children=void 0,ae.childIdentityFields=void 0,ae}),childIdentityFields:b},levels:[D]};if(P>0){var L=_.map(C.columns.root.children,ne=>{var ae={level:1};return ne.levelSourceIndex&&(ae.levelSourceIndex=ne.levelSourceIndex),ae});for(var Y of A.root.children)Y.children=L;A.levels.push(C.columns.levels[0])}var z={root:{children:_.map(M,ne=>{var ae=(0,a.Uz)(ne);return ae.level=0,ae.children=void 0,ae.childIdentityFields=void 0,ae}),childIdentityFields:w},levels:[V]};if(P>0)for(var H=0;H<M.length;++H){for(var Z=z.root.children[H],k={},K=0;K<f.length;++K)for(var ee=W[H]&&W[H][K],Q=0;Q<P;++Q)k[K*P+Q]=ee?ee[Q]:0===Q?{value:null}:{value:null,valueSourceIndex:Q};Z.values=k}return{rows:z,columns:A,valueSources:C.valueSources}}(C.matrix);_.isEmpty(b.valueSources)||(0,d.OD)(b.columns)||(D.categorical=function(C,u){for(var E=C.columns.root.children.length,c=C.valueSources,f=c.length,D=function(C){i.Y.assertValue(C,"unpivotedMatrix"),i.Y.assert(()=>C&&C.rows&&C.rows.levels&&1===C.rows.levels.length,"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var u=_.map(C.rows.root.children,M=>M.identity),E=C.rows.root.childIdentityFields,c=C.rows.levels[0].sources,f=[],D=0,b=c.length;D<b;D++){var T=_.map(C.rows.root.children,M=>{var V=M.levelValues;if(void 0!==V)return i.Y.assert(()=>V[D]&&V[D].levelSourceIndex===D,"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),V[D].value});f.push({source:c[D],values:T,identity:u,identityFields:E})}return f}(C),b=[],T=0;T<E;++T){var M=C.columns.root.children[T],V={values:[],identity:M.identity,name:null!=M.value?M.value:null};b.push(V);for(var w=0;w<f;++w){var N={...c[w]};N.groupName=V.name,u.push(N);var I={source:N,values:[],identity:V.identity};V.values.push(I);var O=w+T*f;for(var R of C.rows.root.children)I.values.push(R.values[O].value)}}var F=[];for(var U of b)for(var B=0;B<f;++B)F.push(U.values[B]);return F.grouped=()=>b,F.identityFields=C.columns.root.childIdentityFields,F.source=C.columns.levels[0].sources[0],{categories:D,values:F}}(b,D.metadata.columns))}return D}},698812:function(me,j,e){e.d(j,{Tv:function(){return b},eF:function(){return p}});var r=e(936744),i=e(785463),a=e(147293),t=e(446024),l=e(43614),g=e(702087),n=e(51926),d=e(289239),s=e(933949),h=e(627227),o="RegressionX",v="RegressionSeries",m="RegressionY";function p(M){i.Y.assertValue(M,"options");var V=M.visualDataViews,w=M.dataRoles,P=M.objectDescriptors,N=M.objectDefinitions,I=M.transformSelects,O=M.applicableDataViewMappings,R=M.roleKindByQueryRef,W=M.queryProjectionsByRole,F=M.visualStyle,U=M.featureSwitches;if(!_.isEmpty(V)&&I){if(!R||!W||_.isEmpty(O)||!P||!N)return V;var B=_.find(O,Y=>!!(0,g.D9)(Y));if(B){var x=[];for(var A of V){var L=y(A,O,w,B,P,N,F,U);L&&x.push(L)}_.isEmpty(x)||V.push(...x||[])}}return V}function y(M,V,w,P,N,I,O,R){return i.Y.assertValue(V,"applicableDataViewMappings"),(0,g.my)(V)===r.k.Matrix?function(){function M(R,W,F,U,B,x,A){i.Y.assertValue(R,"sourceDataView"),i.Y.assertValue(R.matrix,"sourceDataView.matrix"),i.Y.assertValue(W,"dataRoles"),i.Y.assertValue(U,"objectDescriptors"),i.Y.assertValue(B,"objectDefinitions");var L=R.matrix;if(L&&L.rows&&L.rows.root&&0!==_.size(L.rows.root.children)&&!(_.size(L.rows.levels)>2)){var Y=V(a.Xk.X,L,W),z=V(a.Xk.Y,L,W);if(void 0!==Y&&void 0!==z){var H=Y.valuesCol,Z=z.valuesCol,k=function(R,W,F){var U=R.matrix;if(U){var B=(H,Z)=>{if(H.children)for(var k of H.children)k.isSubtotal||(Z.xValues.push(W(k)),Z.yValues.push(F(k)))},x=[],A=U.rows;if(2===A.levels.length){for(var L of U.rows.root.children)if(!L.isSubtotal){var Y={xValues:[],yValues:[]};x.push(Y),B(L,Y)}}else if(1===A.levels.length){var z={xValues:[],yValues:[]};x.push(z),B(A.root,z)}return x}}(R,Y.getValues,z.getValues),K=!0,ee=(0,g.D9)(F);if(ee&&R.metadata.objects){var Q=ee.combineSeries;Q&&(K=(0,n._W)(R.metadata.objects,Q,!0))}var J=k;K&&(J=function(R){var W=[];for(var F of R)_.isEmpty(F.xValues)||_.isEmpty(F.yValues)||(W[0]||W.push({xValues:[],yValues:[]}),W[0].xValues.push(...F.xValues||[]),W[0].yValues.push(...F.yValues||[]));return W}(k));var X=E(J);if(c(X)){var ne=X.xMin,ae=X.xMax,oe=[];for(var Me of X.lineDefs)oe.push(T(Me,+ne,+ae));return function(R,W,F,U,B,x,A,L,Y,z){i.Y.assertValue(R,"xColumnSource"),i.Y.assertValue(W,"yColumnSource"),i.Y.assertValue(U,"categories"),i.Y.assertValue(B,"values"),i.Y.assertValue(A,"objectDescriptors"),i.Y.assertValue(L,"objectDefinitions");var X,ee={[x.matrix.values.select[0].for.in]:!0},Q={[x.matrix.rows.select[1].bind.to]:!0},J={columns:[]},ne={levels:[],root:{children:[]}},ae={metadata:J,matrix:{rows:ne,columns:X,valueSources:[]}},oe=u(R,o,!1,"",{[x.matrix.rows.select[0].bind.to]:!0}),Me=u(W,v,W.isMeasure,"Regression",Q),Ye=u(W,m,W.isMeasure,"",ee);J.columns.push(Me),J.columns.push(oe),J.columns.push(Ye),ne.levels.push({sources:[Me]}),ne.levels.push({sources:[oe]}),ae.matrix.valueSources.push(Ye);for(var Le=(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionSeries"),lt=(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionCategories"),ut=0;ut<F.length;ut++){var St=F[ut],ze={level:0,value:St,levelValues:[{levelSourceIndex:0,value:St}],children:[],childIdentityFields:[lt],identity:(0,d.UQ)((0,t.Uo)(Le,(0,t.FT)(St,Me.type)))};_.isEmpty(ne.root.childIdentityFields)&&(ne.root.childIdentityFields=[Le]),ne.root.children.push(ze);for(var Be=0;Be<U.length;Be++){var Ce=U[Be],Ae={level:1,value:Ce,levelValues:[{levelSourceIndex:1,value:Ce}],values:{},identity:(0,d.UQ)((0,t.Uo)(lt,(0,t.FT)(Ce,oe.type)))};Ae.values[0]={value:B[ut][Be]},ze.children.push(Ae)}}return(0,s.hg)(ae,r.k.Categorical,A,L,[],Y,z),ae}(H,Z,K?["combinedRegressionSeries"]:2===L.rows.levels.length?_.chain(L.rows.root.children).filter(lt=>!lt.isSubtotal).map(lt=>lt.value).value():["combinedRegressionSeries"],[ne,ae],oe,F,U,B,x,A)}}}}function V(R,W,F){var B,x,U=W.valueSources,A=function(R,W,F){if(!_.isEmpty(W))return _.findIndex(W,U=>{var x,B=function(L){if(!U.roles[L])return 0;var Y=_.find(F,z=>z.name===L);return Y&&Y.cartesianKind===R?{v:!0}:void 0};for(var A in U.roles)if(0!==(x=B(A))&&x)return x.v})}(R,W.valueSources,F);if(A>=0&&void 0!==A)B=U[A],x=Y=>Y.values[A].value;else{var L=function(R,W,F){if(!_.isEmpty(W.root.children)){for(var U=-1,B=0,x=W.levels.length;B<x&&-1===(U=_.findIndex(W.levels[B].sources,L=>{var z,Y=function(Z){if(!L.roles[Z])return 0;var k=_.find(F,K=>K.name===Z);return k&&k.cartesianKind===R?{v:!0}:void 0};for(var H in L.roles)if(0!==(z=Y(H))&&z)return z.v}));B++);return{level:B,index:U}}}(R,W.rows,F);if(-1===(A=L?L.index:-1))return;B=W.rows.levels[L.level].sources[A],x=Y=>Y.levelValues[A].value}return{valuesCol:B,getValues:x}}return{apply:(R,W,F,U,B,x,A)=>M(R,W,F,U,B,x,A)}}().apply(M,w,P,N,I,O,R):function(){function M(W,F,U,B,x,A,L){if(i.Y.assertValue(W,"sourceDataView"),i.Y.assertValue(W.categorical,"sourceDataView.categorical"),i.Y.assertValue(F,"dataRoles"),i.Y.assertValue(B,"objectDescriptors"),i.Y.assertValue(x,"objectDefinitions"),W.categorical){var Y=V(a.Xk.X,W.categorical,F),z=V(a.Xk.Y,W.categorical,F);if(!_.isEmpty(Y)&&!_.isEmpty(z)){var H=Y[0].source,Z=z[0].source,k=!0,K=(0,g.D9)(U);if(K&&W.metadata.objects){var ee=K.combineSeries;ee&&(k=(0,n._W)(W.metadata.objects,ee,!0))}var J=E(I(Y,z,k,!1));if(c(J)){var oe,X=J.xMin,ne=J.xMax,ae=R(z)||R(Y);ae&&(c(oe=E(I(Y,z,k,!0)))?(X=_.min([X,oe.xMin]),ne=_.max([ne,oe.xMax])):ae=!1);var lt,St,Ye=[];for(var Le of J.lineDefs)Ye.push(T(Le,+X,+ne));if(ae)for(var ut of(lt=[],oe.lineDefs))lt.push(T(ut,+X,+ne));if(k)St=["combinedRegressionSeries"];else if(W.categorical.values.source){var ze=W.categorical.values.grouped();St=_.map(ze,Ce=>Ce.name)}else St=_.map(z,Ce=>Ce.source.queryName);return function(W,F,U,B,x,A,L,Y,z,H,Z){i.Y.assertValue(W,"xColumnSource"),i.Y.assertValue(F,"yColumnSource"),i.Y.assertValue(B,"categories"),i.Y.assertValue(x,"values"),i.Y.assertValue(Y,"objectDescriptors"),i.Y.assertValue(z,"objectDefinitions"),i.Y.assertAnyValue(A,"highlights"),i.Y.assert(()=>!A||A.length===x.length,"highlights should have the same length as values");var ee,Q,k=L.categorical.categories.for.in,K=L.categorical.values.group;if(K&&!_.isEmpty(K.select)&&(ee=K.select[0].for?K.select[0].for.in:K.select[0].bind.to,Q=K.by),ee&&Q){var J={[k]:!0},X={[ee]:!0},ne={[Q]:!0},ae=[];for(var oe in x){var Me={values:x[oe]};A&&(Me.highlights=A[oe]),ae.push([Me])}var Ye=(0,l.P)().withCategory({source:u(W,o,!1,"",J),values:B,identityFrom:{fields:[(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:u(F,v,F.isMeasure,"Regression",ne),values:U,identityFrom:{fields:[(0,t.sX)((0,t.EG)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:u(F,m,F.isMeasure,"",X)}],data:ae}).build();return(0,s.hg)(Ye,r.k.Categorical,Y,z,[],H,Z),Ye}}(H,Z,St,[X,ne],Ye,lt,U,B,x,A,L)}}}}function V(W,F,U){i.Y.assertValue(W,"roleKind"),i.Y.assertValue(F,"categorical");var B=w(W,F.values,U);if(!_.isEmpty(B))return B;var x=F.categories;if(!_.isEmpty(x)){var A=x[0],L=w(W,[A],U);if(!_.isEmpty(L)&&(1===x.length||_.isEmpty(A.values)||!_.isEmpty(A.objects)&&void 0!==P(A.objects[0])))return L}}function w(W,F,U){if(!_.isEmpty(F))return _.filter(F,B=>{var A,x=function(Y){if(!B.source.roles[Y])return 0;var z=_.find(U,H=>H.name===Y);return z&&z.cartesianKind===W?{v:!0}:void 0};for(var L in B.source.roles)if(0!==(A=x(L))&&A)return A.v;return!1})}function P(W){return(0,n._W)(W,h.Q)}function N(W,F){var U=_.head(W.objects);return U&&P(U)?_.map(W.objects,x=>P(x)):F&&W.highlights?W.highlights:W.values}function I(W,F,U,B){for(var x=[],A=_.map(W,k=>N(k,B)),L=_.map(F,k=>N(k,B)),Y=W.length>1,z=0;z<L.length;z++){var H=Y?A[z]:A[0],Z=L[z];U&&x.length>0?(x[0].xValues=x[0].xValues.concat(H),x[0].yValues=x[0].yValues.concat(Z)):x.push({xValues:H,yValues:Z})}return x}function R(W){return _.some(W,F=>null!=F.highlights)}return{apply:(W,F,U,B,x,A,L)=>M(W,F,U,B,x,A,L)}}().apply(M,w,P,N,I,O,R)}function u(M,V,w,P,N){return{displayName:M.displayName+P,queryName:V,type:M.type,isMeasure:w,roles:N}}function E(M){var V,w,P=[];for(var N of M){var I=N.xValues,O=N.yValues;if(_.isEmpty(I)||_.isEmpty(O))P.push(null);else{var R=f(I),W=f(O);if(R&&W){var F=D(I,O);if(!F||_.isEmpty(F.xValues)||_.isEmpty(F.yValues))P.push(null);else{var U=F.xValues[0],B=F.xValues[F.xValues.length-1],x=b(F.xValues,F.yValues);V=_.min([V,U]),w=_.max([w,B]),P.push(x)}}else P.push(null)}}return{lineDefs:P,xMin:V,xMax:w}}function c(M){return M&&!_.isEmpty(M.lineDefs)&&_.some(M.lineDefs,V=>V)}function f(M){var V=_.find(M,P=>null!=P);if(null!=V){var w=typeof V;if(!_.some(M,P=>null!=P&&typeof P!==w))return w}}function D(M,V){i.Y.assertValue(M,"unsortedXValues"),i.Y.assertValue(V,"unsortedYValues");var w=_.zip(M,V),[P,N]=_.chain(w).filter(I=>null!=I[0]&&null!=I[1]).sortBy(I=>I[0]).unzip().value();return{xValues:P=_.map(P,_.toNumber),yValues:N=_.map(N,_.toNumber)}}function b(M,V,w=!1){i.Y.assertValue(M,"xValues"),i.Y.assertValue(V,"yValues");var P=_.sum(M),N=_.sum(V),I=P/M.length,O=N/V.length,R=_.chain(M).map(H=>(H-I)**2).sum().value();if(0!==R){var B,F=_.chain(M).map((H,Z)=>(H-I)*(V[Z]-O)).sum().value()/R,U=O-I*F;if(w){var x=_.size(M),A=_.chain(M).map((H,Z)=>H*V[Z]).sum().value(),L=_.chain(M).map(H=>H*H).sum().value(),Y=_.chain(V).map(H=>H*H).sum().value(),z=Math.sqrt((x*L-P**2)*(x*Y-N**2));0!==z&&(B=((x*A-P*N)/z)**2)}return{incline:F,intercept:U,rSquared:B}}}function T(M,V,w){return M?[V*M.incline+M.intercept,w*M.incline+M.intercept]:[null,null]}},392339:function(me,j,e){e.d(j,{WV:function(){return g},aI:function(){return n}});var r=e(935236),i=e(785463),a=e(795169),t=e(974255),l=e(121153);function g(s){return new d(s)}function n(s,h){return s.key&&h.key&&s.key===h.key&&(0,r.m2)(s.roles,h.roles,(o,v)=>o===v)}class d{constructor(h){this.kind=l.y.RoleWildcard,i.Y.assertNonEmpty(h,"roles"),this._roles=h,this._key=new a.d(()=>JSON.stringify(this.roles))}get roles(){return this._roles}get key(){return this._key.getValue()}}(0,t.d)(d.prototype)},289239:function(me,j,e){e.d(j,{Qd:function(){return y},UQ:function(){return p},XV:function(){return o},aI:function(){return h},dA:function(){return v},vP:function(){return m}});var r=e(785463),i=e(795169),a=e(974255),t=e(121153),l=e(42630),g=e(364472),n=e(446024),d=e(118883),s=e(978450);function h(S,C,u){return(S=S||null)===(C=C||null)||!S==!C&&(r.Y.assertValue(S,"x"),r.Y.assertValue(C,"y"),(0,s.aI)(S.expr,C.expr,u))}function o(S,C,u){if(!(S=S||null)!=!(C=C||null))return!1;r.Y.assertValue(S,"thisComparisonExpr"),r.Y.assertValue(C,"otherComparisonIdentity");var c=S,f=(0,l.m4)(C.expr),D=(0,l.m4)(c);if(!f||!D)return h(p(c),C,u);var T,b=function(V){if(!_.some(f,w=>(0,s.aI)(V,w,u)))return{v:!1}};for(var M of D)if(T=b(M))return T.v;return!0}function v(S,C){if(!_.isEmpty(S)){var u=[];for(var E of S)u.push(E.expr);return m(u,C)}}function m(S,C){if(!_.isEmpty(S)){var u;for(var E of S){var c=(0,l.lj)(E);u=u?(0,n.or)(u,c):c||E}return u&&C&&(u=(0,n.AU)(u)),(0,l.Ve)(u)?void r.Y.assertFail("SelectRef based identities can not be translated into a filter without additional context."):g.b0.fromSQExpr(u)}}function p(S){return new y(S)}class y{constructor(C){this.kind=t.y.ScopeIdentity,r.Y.assertValue(C,"expr"),this._expr=C,this._key=new i.d(()=>(0,d.lK)(C))}get expr(){return this._expr}get key(){return this._key.getValue()}}(0,a.d)(y.prototype)},101903:function(me,j,e){e.d(j,{Hg:function(){return s},aI:function(){return d},cK:function(){return n}});var r=e(785463),i=e(795169),a=e(974255),t=e(121153),l=e(669129),g=e(118883);function n(o,v){return!_.isEmpty(v)&&l.B.sequenceEqual(o.exprs,v)}function d(o,v){return o===v||l.B.sequenceEqual(o.exprs,v.exprs)}function s(o){return new h(o)}class h{constructor(v){this.kind=t.y.ScopeTotal,r.Y.assertValue(v,"scopeExprs"),this._exprs=v,this._key=new i.d(()=>(0,g.SZ)(v))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,a.d)(h.prototype)},815863:function(me,j,e){e.d(j,{Hg:function(){return h},aI:function(){return s},cK:function(){return d}});var r=e(785463),i=e(795169),a=e(974255),t=e(121153),l=e(42630),g=e(669129),n=e(118883);function d(v,m){var p=(0,l.xD)(m.expr);return!!p&&g.B.sequenceEqual(v.exprs,p)}function s(v,m){return v===m||g.B.sequenceEqual(v.exprs,m.exprs)}function h(v){return new o(v)}class o{constructor(m){this.kind=t.y.ScopeWildcard,r.Y.assertValue(m,"exprs"),this._exprs=m,this._key=new i.d(()=>(0,n.SZ)(m))}get exprs(){return this._exprs}get key(){return this._key.getValue()}}(0,a.d)(o.prototype)},525253:function(me,j,e){e.d(j,{W3:function(){return n},WN:function(){return g},dD:function(){return s},gZ:function(){return h}});var r=e(662785),i=e(978450),a=e(785463),t=e(147293),l=e(425023);function g(o,v){if(a.Y.assertAnyValue(o,"selects"),a.Y.assertAnyValue(v,"projectionActiveItems"),_.isEmpty(o))return{};var m={};for(var p of o)if(p){var y=p.roles;if(y)for(var S in y)if(y[S]){var C=m[S];C||(C=m[S]=new l.yl([])),C.addProjection({queryRef:p.queryName}),v&&v[S]&&(C.activeProjectionRefs=_.map(v[S],u=>u.queryRef))}}return m}function n(o,v){var m={};for(var p of v.columns)if(!(!p.index&&0!==p.index||p.index<0||p.index>=o.length)){var y=o[p.index];if(y){var S=y.queryName;S&&void 0===m[S]&&(m[S]=p.isMeasure?t.Ts.Measure:t.Ts.Grouping)}}return m}function s(o,v,m){if(a.Y.assertValue(o,"expr"),a.Y.assertAnyValue(v,"selectTransforms"),!v)return-1;var p;(0,r.Gv)(o)&&(p=o.expressionName);for(var y=m||0,S=v.length;y<S;y++){var C=v[y];if(C&&(!p||C.queryName))if(p){if(C.queryName===p)return y}else if((0,i.aI)(C.expr,o))return y}return-1}function h(o,v){if(!_.isEmpty(o)&&!_.isEmpty(v)){for(var m={},p=function(u){var E=o[u];if(!_.isEmpty(E.relatedSelects)){var c=function(){var D=f.queryName,b=_.findIndex(o,N=>N.queryName&&N.queryName===D),T=o[b];if(b>-1)for(var M of _.keys(T.roles)){var V=_.remove(v[M],N=>N===u);if(!_.isEmpty(V)){var w=m[b]=m[b]||{};(w[M]=w[M]||[]).push(u)}}};for(var f of E.relatedSelects)c()}},y=0;y<o.length;y++)p(y);if(!_.isEmpty(m)){var S=function(u){var E=m[u];for(var c in E){var f=v[c],D=_.findIndex(f,b=>b===parseInt(u,10));f.splice(D+1,0,...E[c])}};for(var C in m)S(C)}}}},738060:function(me,j,e){e.d(j,{Bb:function(){return _r},Mo:function(){return Xt},mO:function(){return mr}});var r=e(936744),i=e(935236),a=e(785463),t=e(473001),l=e(659956),g=e(904046),n=e(42630),d=e(669129),s=e(191941),h=e(933949);function o(Oe){return void 0===Oe.source.index}function v(Oe){return _.some(Oe,o)}var p=e(482478);function y(Oe){a.Y.assertValue(Oe,"categorical");var Ze=Oe.values;if(Ze){var ht;if(Ze.source){ht=(0,t.Uz)(Ze.grouped());var _t=0===(0,p.sN)(Oe),Rt=Ze.length>=1&&(_t||void 0!==_.head(Ze).identity);if(!_.isEmpty(Ze)&&Rt)for(var jt,Vt=0,Tt=function(){var rt=Ze[Zt];if(o(rt))return 1;if(!jt||rt.identity!==jt.identity){var gt=ht[Vt];gt?jt=(0,t.Uz)(gt):(a.Y.assert(()=>!rt.identity,"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),jt=gt=ht[Vt]={values:null}),ht[Vt]=jt,jt.values=[],Vt++,a.Y.assert(()=>rt.identity===jt.identity,"expecting the value columns are sequenced by series groups")}jt.values.push(rt)},Zt=0,tr=Ze.length;Zt<tr;Zt++)Tt();else for(var dr=0,Lt=ht.length;dr<Lt;dr++){var we=ht[dr];_.isEmpty(we.values)||(ht[dr]=we=(0,t.Uz)(we),we.values=[])}}else ht=[{values:Ze}];Ze.grouped=()=>ht,Oe.values=Ze}}var S=e(702087),C=e(420987);function I(Oe,Ze){a.Y.assertValue(Oe,"measureSources"),a.Y.assertValue(Ze,"projectionOrder");var ct=(0,C.qq)(Oe,Ze);if(ct=_.chain(ct).filter(_t=>void 0!==_t.projectionOrderIndex).sortBy(_t=>_t.projectionOrderIndex).value(),!(0,i.m2)(Oe,ct,(_t,Rt)=>_t.index===Rt.metadataColumn.index))return ct}function R(Oe){if(a.Y.assertValue(Oe,"groups"),!_.isEmpty(Oe))return _.chain(Oe[0].values).map(ct=>ct.source).filter(ct=>void 0!==ct.index).value()}var W=e(855835),F=e(507345),U=e(446024),B=e(273327),x=e(640700),A=e(289239),L=e(350226),Y=e(627227);function H(Oe,Ze,ct){if(a.Y.assertValue(Ze,"Category type is not specified"),!_.isDate(Oe)||!Ze||!Ze.temporal)return null;var ht=Oe;return Ze.temporal.year?function(Oe){return a.Y.assertValue(Oe,"date"),Oe.getFullYear()}(ht):Ze.temporal.quarter?function(Oe,Ze){a.Y.assertValue(Oe,"date");var ht=Math.floor((Oe.getMonth()+3)/3);return(0,F.G)(Ze,ht.toLocaleString())}(ht,ct):Ze.temporal.month?function(Oe){return a.Y.assertValue(Oe,"date"),x.r9.formatValue(Oe,"MMMM")}(ht):Ze.temporal.day?function(Oe){return a.Y.assertValue(Oe,"date"),Oe.getDate()}(ht):void 0}function Q(Oe,Ze){a.Y.assertValue(Oe,"dataViewMatrix"),Ze.columnHierarchyRewritten||(Oe.columns=(0,t.IL)(Oe.columns));var ct=Oe.columns;Ze.rowHierarchyRewritten||(Oe.rows=(0,t.IL)(Oe.rows));var ht=Oe.rows;if(!(ct.levels.length>1)){var _t={level:0},Rt=ct.root.children,Vt=_.size(Rt),jt=ht.levels.length;if(Vt>0){var Tt=0,Zt=function(Lt){if(Lt.values){_t.values||(_t.values={});for(var we=0;we<Vt;we++)_t.values[Tt++]=Lt.values[we];Lt.values=void 0}if(Vt>1){Lt.children||(Lt.children=[]);for(var rt=0;rt<Vt;rt++){var gt={level:jt};gt.levelSourceIndex=Rt[rt].levelSourceIndex,Lt.isSubtotal&&(gt.isSubtotal=!0),Lt.children.push(gt)}}};Ze.hierarchyTreesRewritten?J(ht.root,Zt):Oe.columns.root=ne(ht.root,Zt)}else Ze.hierarchyTreesRewritten||(Oe.columns.root=function(Oe){return ne(Oe)}(ht.root));if(Vt>1&&(ht.levels.push({sources:ct.levels[0].sources}),ct.levels.length=0),Ze.hierarchyTreesRewritten)Oe.columns.root=ht.root,Oe.rows.root={children:[_t]};else{var dr=(0,t.IL)(Oe.rows.root);dr.children=[_t],Oe.rows.root=dr}Oe.columns.levels=ht.levels,Oe.rows.levels=[]}}function J(Oe,Ze){var ct=Oe.children;if(ct&&ct.length>0)for(var ht=0,_t=ct.length;ht<_t;ht++)J(ct[ht],Ze);else Ze(Oe)}function ne(Oe,Ze){var ct={};return Ze&&(ct.nodeProcessor=ht=>{_.isEmpty(ht.children)&&Ze(ht)}),ae(Oe,ct)}function ae(Oe,Ze){var ct=(0,t.IL)(Oe),ht=Oe.children;if(!(Ze.nodeProcessor&&Ze.nodeProcessor(ct),_.isEmpty(ht)||Ze.skipChildren?.(Oe)))for(var Rt=ht.length,Vt=ct.children=new Array(Rt),jt=0;jt<Rt;jt++)Vt[jt]=ae(ht[jt],Ze);return ct}var oe=e(811901);function Ye(Oe,Ze,ct){if(_.isEmpty(ct))return[];var ht=S.e1.fromMatrixValues(Ze);if(_.isEmpty(ht))return[];var _t=ut(Oe,ht),Rt=(0,C.qq)(ct,_t,ht);return _.chain(Rt).filter(Vt=>void 0!==Vt.projectionOrderIndex).sortBy(Vt=>Vt.projectionOrderIndex).value()}function ut(Oe,Ze){a.Y.assertValue(Oe,"projectionOrdering"),a.Y.assertValue(Ze,"roles");var ct=[];for(var ht of Ze){var _t=Oe[ht];_.isEmpty(_t)||ct.push(..._t||[])}return ct}function St(Oe,Ze){return a.Y.assertValue(Oe,"valueSources"),a.Y.assertValue(Ze,"valueProjectionOrdering"),(0,i.m2)(Oe,Ze,(ct,ht)=>ct===ht.metadataColumn)}function ze(Oe,Ze,ct,ht,_t){a.Y.assertValue(Oe,"prototypeRowHierarchy"),a.Y.assertNonEmpty(Ze,"originalValueSources"),a.Y.assertValue(ct,"projectedValueSourceEntries"),a.Y.assert(()=>void 0===_t||0===ht.length,"staticValueSources are not supported with Scoped Measures");var jt,Zt,Rt=Ze.length,Vt=ct.length,Tt=(0,t.Uz)(Oe),tr=(Lt,we)=>{var rt=we?Lt.values:(0,oe.de)(Lt);if(rt&&0!==Rt){if(!Zt){Zt=0;var gt={};for(var bt in rt)Zt++,gt[rt[bt].valueSourceIndex||0]=!0;Rt=Object.keys(gt).length}if(void 0===jt){if(Rt>Vt&&ht.length>0&&(Rt-=ht.length,0==(Zt-=ht.length)))return;a.Y.assert(()=>Zt%Rt==0,"expecting the intersection values to have one value per measure column per column group instance"),jt=Zt/Rt}else a.Y.assert(()=>jt===Zt/Rt,"expecting every interaction values collection to have the same length");var Ot;if(Vt>0){Ot={};for(var Yt=0;Yt<jt;Yt++)for(var er=Yt*Rt,sr=Yt*Vt,ur=0;ur<Vt;ur++){var Sr=rt[er+ct[ur].sourceIndex];ur!==(Sr.valueSourceIndex||0)&&((Sr=(0,t.Uz)(Sr)).valueSourceIndex=ur||void 0),Ot[sr+ur]=Sr}for(var Dr=Vt,Pr=Object.keys(Ot).length,Wr=Zt+ht.length,Mr=Zt;Mr<Wr;Mr++){var Tr=rt[Mr];Tr.valueSourceIndex=Dr++||void 0,Ot[Pr++]=Tr}}else Ot=void 0;we?Lt.values=Ot:Lt.nodeValues=Ot?{0:Ot}:void 0}};return Tt.root=void 0===_t?ne(Tt.root,Lt=>tr(Lt,!0)):ae(Tt.root,{nodeProcessor:Lt=>{Lt.level===_t&&tr(Lt,!1)},skipChildren:Lt=>Lt.level>=_t}),Tt}function Ce(Oe,Ze){a.Y.assertValue(Oe,"matrixHierarchy"),a.Y.assertValue(Ze,"projectionOrdering");var ht,ct=Oe.levels,_t=_.chain(ct).map((dr,Lt)=>Lt).filter(dr=>{var Lt=ct[dr];return _.size(Lt.sources)>=2&&!(0,oe.VT)(Lt)}).value();if(!_.isEmpty(_t)){for(var Rt=_.uniq(Ze),Vt=_t.length-1;Vt>=0;Vt--){var jt=_t[Vt],Tt=Oe.levels[jt],Zt=Ae(Tt,Rt);if(!_.isEmpty(Zt)){void 0===ht&&((ht=(0,t.Uz)(Oe)).levels=(0,t.Uz)(Oe.levels),ht.root=(0,oe.kR)(Oe.root,jt,!0));var tr=(0,t.Uz)(Tt);ht.levels[jt]=be(tr,Zt),Ie(ht.root,jt,Zt)}}return ht}}function Ae(Oe,Ze){a.Y.assertValue(Oe,"hierarchyLevel"),a.Y.assertValue(Ze,"hierarchyProjection");var ct,ht=Oe.sources;if(ht&&ht.length>=2){var _t=(0,C.qq)(ht,Ze);a.Y.assert(()=>_.every(_t,Vt=>Vt.metadataColumn.isMeasure||void 0!==Vt.projectionOrderIndex||null==Ze[Vt.sourceIndex]),"Removed grouping during Matrix Projection ordering");var Rt=_.sortBy(_t,Vt=>Vt.projectionOrderIndex);ct=_.map(Rt,(Vt,jt)=>({originalSourceIndex:Vt.sourceIndex,newSourceIndex:jt}))}return ct}function be(Oe,Ze){a.Y.assertValue(Oe,"transformingHierarchyLevel"),a.Y.assertNonEmpty(Ze,"levelSourceIndexMappings");var ct=Oe.sources;Oe.sources=ct.slice(0);var ht=function(Rt){a.Y.assert(()=>Rt.originalSourceIndex<ct.length,"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Oe.sources[Rt.newSourceIndex]=ct[Rt.originalSourceIndex]};for(var _t of Ze)ht(_t);return Oe}function Ie(Oe,Ze,ct){a.Y.assertValue(Oe,"transformingHierarchyRootNode"),a.Y.assertNonEmpty(ct,"levelSourceIndexMappings"),a.Y.assert(()=>ct.length===_.uniqBy(ct,_t=>_t.originalSourceIndex).length,"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var ht=_.reduce(ct,(_t,Rt)=>(_t[Rt.originalSourceIndex]=Rt,_t),{});return(0,oe.Of)(Oe,Ze,_t=>{var Rt=_t.levelValues;if(!_.isEmpty(Rt)){a.Y.assert(()=>_.every(Rt,Lt=>!!ht[Lt.levelSourceIndex]),"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var Vt=_.sortBy(Rt,Lt=>{var we=ht[Lt.levelSourceIndex];return we&&we.newSourceIndex}),jt=0,Tt=Vt.length;jt<Tt;jt++){var Zt=(0,t.Uz)(Vt[jt]),tr=ht[Zt.levelSourceIndex];Zt.levelSourceIndex=tr&&tr.newSourceIndex,Vt[jt]=Zt}_t.levelValues=Vt;var dr=_.last(Vt);_t.value!==dr.value&&(_t.value=dr.value),(_t.levelSourceIndex||0)!==dr.levelSourceIndex&&(_t.levelSourceIndex=dr.levelSourceIndex)}}),Oe}function ye(Oe,Ze){a.Y.assert(()=>Oe&&_.every(Oe.children,ht=>ht.level===Oe.children[0].level),"node must be defined and all of its child nodes must have the same level value."),a.Y.assertValue(Ze,"measureHeadersLevelIndex");var ct=Oe.children;return!_.isEmpty(ct)&&ct[0].level===Ze}function Xe(Oe,Ze,ct,ht){for(var _t=new Array(Ze),Rt=0,Vt=Ze;Rt<Vt;Rt++){var jt=void 0,Tt=ht&&ht[Rt].sourceIndex;null!=Tt&&(jt=ct.children&&ct.children[Tt]);var Zt=jt?(0,t.Uz)(jt):{};Zt.level=Oe,ct.isSubtotal&&(Zt.isSubtotal=!0),Zt.levelSourceIndex=Rt>0?Rt:void 0,_t[Rt]=Zt}return _t}function fe(Oe){a.Y.assertValue(Oe,"options");var Ze=_.filter(Oe.dataRoles,ct=>!_.isEmpty(ct.requiredTypes));!function(Oe,Ze,ct){if(a.Y.assertValue(Oe,"dataview"),!_.isEmpty(Ze)&&!_.isEmpty(ct)){var ht=function(Oe,Ze){if(!Oe||!Ze)return()=>!1;var ct={};for(var ht of Oe){var _t=ht.roles;if(_t)for(var Rt of Ze)if(_t[Rt.name]){ct[ht.index]=!0;break}}return Vt=>!isNaN(Vt)&&!!ct[Vt]}(Oe.metadata.columns,ct),_t=function(Oe,Ze){if(!Oe||!Ze)return()=>!0;var ct=[];for(var ht of Oe){var _t=_e(ht,Ze);_t&&(ct[ht.index]=_t)}return(Rt,Vt)=>!ct[Rt]||ct[Rt](Vt)}(Oe.metadata.columns,ct),Rt={};for(var Vt of Ze)Vt.table&&Oe.table&&(Rt.table=!0),Vt.matrix&&Oe.matrix&&(Rt.matrix=!0),Vt.categorical&&Oe.categorical&&(Rt.categorical=!0),Vt.tree&&Oe.tree&&(Rt.tree=!0),Vt.single&&Oe.single&&(Rt.single=!0);Rt.categorical&&function(Oe,Ze,ct){var ht=Oe&&Oe.values;if(ht){var _t=ht.grouped();if(_t)for(var Rt of _t){var Vt=Rt.values;for(var jt of Vt){var Tt=jt.source.index;if(Ze(Tt))for(var Zt=0,tr=jt.values.length;Zt<tr;Zt++)jt.values=Qe(jt.values,Zt,Tt,ct)}}}}(Oe.categorical,ht,_t),Rt.table&&function(Oe,Ze,ct){var ht=Oe&&Oe.columns;if(ht){var _t=[];for(var Rt of ht)Ze(Rt.index)&&_t.push(Rt.index);for(var Vt=Oe.rows,jt=0,Tt=Vt.length;jt<Tt;jt++)for(var Zt of _t)Vt[jt]=Qe(Vt[jt],Zt,Zt,ct)}}(Oe.table,ht,_t),Rt.tree&&yt(Oe.tree.root,ht,_t),Rt.matrix&&function(Oe,Ze,ct){var ht=Oe&&Oe.rows&&Oe.rows.root;ht&&Bt(Oe,ht,Ze,ct)}(Oe.matrix,ht,_t),Rt.single&&function(Oe,Ze,ct,ht){if(Oe.single){var _t=[];for(var Rt of ct)Rt.name&&_t.push(Rt.name);var Vt=Oe.metadata.columns;for(var jt of Ze){var Tt=jt.single.role;if(-1!==_t.indexOf(Tt)){var Zt=Ke(Vt,Tt);return void(Zt&&(Oe.single=Qe(Oe.single,"value",Zt.index,ht)))}}}}(Oe,Ze,ct,_t)}}(Oe.dataview,Oe.dataViewMappings,Ze)}function _e(Oe,Ze){var ct=function(Oe,Ze){var ct=[],ht=Oe&&Oe.roles;if(!ht)return ct;for(var _t of Ze)if(ht[_t.name])for(var Rt of _t.requiredTypes){var Vt=s.eV.fromDescriptor(Rt);ct.push(Vt)}return ct}(Oe,Ze);if(!_.isEmpty(ct))return ht=>function(Oe,Ze){for(var ct of Ze)if(ct.numeric||ct.integer)return"number"==typeof Oe;return!1}(ht,ct)}function yt(Oe,Ze,ct){if(Oe.values)for(var ht in Oe.values)Ze(ht)&&("object"==typeof Oe.values[ht]&&"value"in Oe.values[ht]?Oe.values[ht]=Qe(Oe.values[ht],"value",ht,ct):Oe.values=Qe(Oe.values,+ht,+ht,ct));else if(Oe.children)for(var _t of Oe.children)yt(_t,Ze,ct)}function Bt(Oe,Ze,ct,ht){if(Ze.values)for(var _t in Ze.values){var Rt=Ze.values[_t],jt=Oe.valueSources[Rt.valueSourceIndex||0].index;_.isNumber(jt)&&ct(jt)&&(Ze.values[_t]=Qe(Rt,"value",jt,ht))}else if(Ze.children)for(var Tt of Ze.children)Bt(Oe,Tt,ct,ht)}function Qe(Oe,Ze,ct,ht){if(Oe){var _t=Oe[Ze];return null!==_t&&!ht(ct,_t)&&((Oe=(0,t.Uz)(Oe))[Ze]=null),Oe}}function Ke(Oe,Ze){for(var ct of Oe){var ht=ct&&ct.roles;if(ht&&ht[Ze])return ct}}var tt=e(51926),$e=e(332055),de=e(968462);class re{constructor(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}trackOriginalDynamicFormatColumn(Ze,ct){this.originalDynamicFormatColumns.push({valueColumnIndex:Ze,dynamicFormatStringColumn:ct})}addPivotedDynamicFormatColumn(Ze,ct,ht){void 0===this.categoryIndexToDynamicFormatColumn[Ze]&&(this.categoryIndexToDynamicFormatColumn[Ze]=[]),a.Y.assert(()=>void 0===this.categoryIndexToDynamicFormatColumn[Ze][ct],`categoryIndexToDynamicFormatColumn[${Ze}][${ct}] === undefined`),this.categoryIndexToDynamicFormatColumn[Ze][ct]=ht}getPivotedDynamicFormatColumn(Ze,ct){var ht=this.getValueColumnIndex(Ze);if(void 0!==ht)return a.Y.assertValue(this.categoryIndexToDynamicFormatColumn[ht][ct],`categoryIndexToDynamicFormatColumn[${ht}][${ct}]`),this.categoryIndexToDynamicFormatColumn[ht][ct]}getValueColumnIndex(Ze){var ct=_.find(this.originalDynamicFormatColumns,ht=>ht.dynamicFormatStringColumn===Ze);if(ct)return ct.valueColumnIndex}}var ce=e(947988);var et=e(698812),vt=e(43614);function ke(Oe,Ze,ct){var ht=(0,t.IL)(Oe);for(var _t of ct)ht[_t]=Ze[_t];return ht}var it=e(709099),ft=e(525253),Ut=["Series","Category"],Kt=["Series","X","Y"];function Ge(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"groupingLevelSelectIndices"),a.Y.assertValue(Ze,"selectTransforms"),a.Y.assertAnyValue(ct,"drillableRoles"),a.Y.assertValue(ht,"rolesToMatch");var _t=0,Rt=Oe.length;for(var Vt of ht){if(Rt<=_t)return!1;var jt=Ct(Oe,Ze,Vt);if(0===jt)return!1;if(jt>=2&&!_.includes(ct,Vt))return!1;_t+=jt}return!(_t<Rt)}function Ct(Oe,Ze,ct){a.Y.assertValue(Oe,"selectIndices"),a.Y.assertValue(Ze,"selectTransforms"),a.Y.assertValue(ct,"roleToMatch");var ht=0;for(var _t of Oe)if((0,C.fn)(Ze[_t]&&Ze[_t].roles,ct))ht++;else if(ht>0)break;return ht}var nt=e(417647),Wt=e(257841),kt=e(978450),Ht=function(Oe){return Oe[Oe.None=0]="None",Oe[Oe.Pivot=1]="Pivot",Oe[Oe.SelfCrossJoin=2]="SelfCrossJoin",Oe}({}),lr={quarterPrefix:"Qtr {0}"};function mr(Oe){a.Y.assertValue(Oe,"options"),lr=Oe}function _r(Oe){a.Y.assertValue(Oe,"options");var Ze=Oe.prototype,ct=Oe.objectDescriptors,ht=Oe.transforms,_t=Oe.visualStyle,Rt=Oe.withWarnings?[]:void 0;if(!Ze)return{dataViews:Br(ct,ht,_t,Oe.featureSwitches)};if(!ht)return{dataViews:[Ze]};var Vt=function(Oe,Ze,ct,ht,_t,Rt,Vt,jt,Tt,Zt){a.Y.assertValue(Oe,"queryDataViewMetadata"),a.Y.assertAnyValue(Ze,"objectDescriptors"),a.Y.assertAnyValue(ct,"dataViewMappings"),a.Y.assertAnyValue(ht,"dataRoles"),a.Y.assertAnyValue(_t,"drillCapabilities"),a.Y.assertValue(Vt,"transforms"),a.Y.assertValue(jt,"DataViewTransformContext.create - visualStyle");var tr=Vt.selects,dr=Vt.roles&&Vt.roles.activeItems,Lt=_.isEmpty(tr)?{}:(0,ft.W3)(tr,Oe),we=(0,ft.WN)(tr,dr),gt=(0,it.i7)(we,ct,Lt,Zt,Ze,Vt.objects).supportedMappings;return{queryDataViewMetadata:Oe,objectDescriptors:Ze,dataRoles:ht,drillCapabilities:_t,expandCollapseCapabilities:Rt,transforms:Vt,selectTransforms:tr,projectionOrdering:Vt.roles&&Vt.roles.ordering,projectionActiveItems:dr,roleKindByQueryRef:Lt,queryProjectionsByRole:we,visualCapabilitiesRoleMappings:ct,visualCapabilitiesDataViewKinds:(0,S.my)(ct),applicableRoleMappings:gt,applicableDataViewKinds:(0,S.my)(gt),visualStyle:jt,visualCapabilitiesKeepAllMetadataColumns:Tt}}(Ze.metadata,ct,Oe.dataViewMappings,Oe.dataRoles,Oe.drillCapabilities,Oe.expandCollapseCapabilties,ht,_t,Oe.keepAllMetadataColumnsCapability,Oe.featureSwitches),jt=function(Oe,Ze){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"transformContext");var ct=Ze.transforms,ht=Ze.applicableRoleMappings,_t=(0,ce.Jf)(Oe,Ze.selectTransforms,Ze.roleKindByQueryRef,Ze.queryProjectionsByRole,ht),Rt=Ze.transforms?.roles?.isDrillDisabled;return _t=function(Oe,Ze,ct,ht){if(a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"transformActions"),a.Y.assertAnyValue(ct,"applicableRoleMappings"),a.Y.assertAnyValue(ht,"drillableRoles"),!_.isEmpty(Ze.splits))return Oe;var _t=Oe.matrix;if(!_t)return Oe;var Rt=_.chain(ct).map(Zt=>function(Oe){a.Y.assertValue(Oe,"dataViewMapping");var Ze=Oe.matrix;if(Ze&&Ze.rows&&!Ze.columns&&!Ze.values){var ct=S.e1.fromMatrixRows(Ze.rows);if((0,i.m2)(ct,Ut,(_t,Rt)=>_t===Rt)||(0,i.m2)(ct,Kt,(_t,Rt)=>_t===Rt))return{primaryAxisRoles:ct.slice(1),secondaryAxisRole:ct[0]}}}(Zt)).filter(Zt=>!!Zt).value();if(1!==Rt.length)return Oe;if(!function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"dataViewSelectIndices"),a.Y.assertValue(Ze,"transformActions"),a.Y.assertAnyValue(ct,"drillableRoles"),a.Y.assertValue(ht,"matchingUpgradeSourceRolesStructure");var _t=Oe.primaryAxis,Rt=Oe.secondaryAxis;if(!_.isEmpty(Oe.intersection)||1!==_.size(_t)||1!==_.size(Rt))return!1;var Vt=Ze.selects;return!(!Ge(_t[0].selectIndices,Vt,ct,ht.primaryAxisRoles)||!Ge(Rt[0].selectIndices,Vt,ct,[ht.secondaryAxisRole]))}((0,oe.B5)(_t),Ze,ht,Rt[0]))return Oe;var jt=function(Oe){a.Y.assertValue(Oe,"dataViewMatrix"),a.Y.assert(()=>1===Oe.columns.levels.length,"dataViewMatrix.columns.levels.length === 1"),a.Y.assert(()=>1===Oe.rows.levels.length,"dataViewMatrix.rows.levels.length === 1"),a.Y.assert(()=>_.isEmpty(Oe.valueSources),"_.isEmpty(dataViewMatrix.valueSources)");var Ze=(0,t.Uz)(Oe),ct=Ze.rows=(0,t.Uz)(Oe.rows),ht=Ze.columns=(0,t.Uz)(Oe.columns),Rt=(ht.levels=(0,t.Uz)(ht.levels)).splice(0,1)[0];(ct.levels=(0,t.Uz)(ct.levels)).splice(0,0,Rt);var jt=Oe.rows.root,Tt=ct.root=(0,t.Uz)(ht.root);ht.root={children:[]};var Zt=(0,t.M2)(Tt.children,tr=>{var dr=(0,t.Uz)(tr);return dr.childIdentityFields=jt.childIdentityFields,dr.children=function(Oe){if(a.Y.assertAnyValue(Oe,"nodes"),!Oe)return Oe;var Ze=(0,t.M2)(Oe,ct=>{var ht=(0,t.IL)(ct);return ht.level+=1,ht});return Ze||(0,t.IL)(Oe)}(jt.children),dr});return Zt&&(Tt.children=Zt),Ze}(_t),Tt=(0,t.Uz)(Oe);return Tt.matrix=jt,Tt}(_t,ct,ht,Er(Ze.drillCapabilities,Rt)),_t=function(Oe,Ze,ct,ht){if(!function(Oe,Ze,ct,ht){if(_.isEmpty(Ze)||!Oe||_.isEmpty(ct))return!1;var _t=Oe.matrix;if(!_t||!_t.rows||_.isEmpty(_t.rows.levels)||!_t.columns||_.isEmpty(_t.columns.levels))return!1;var Rt=[];for(var Vt of _t.columns.levels)for(var jt of Vt.sources)jt.isMeasure||Rt.push(jt);var Tt=[];for(var Zt of _t.rows.levels)for(var tr of Zt.sources)tr.isMeasure||Tt.push(tr);var dr=[];for(var Lt of _t.rows.levels)for(var we of Lt.sources)we.isMeasure&&dr.push(we);if(!_.isEmpty(dr)||1!==Rt.length||Tt.length<1)return!1;var rt=_.filter(ct,ur=>!(0,S.D9)(ur));if(1!==rt.length)return!1;if((0,S.my)(rt)!==r.k.Matrix)return!1;var bt=rt[0].matrix;if(!bt)return!1;var Ot=S.e1.fromMatrixRows(bt.rows),Yt=S.e1.fromMatrixColumns(bt.columns);if(_.size(Ot)<2||0!==_.size(Yt))return!1;var er=_.uniq([].concat(..._.map(Tt,ur=>Object.keys(Ze[ur.index].roles)))),sr=_.uniq([].concat(..._.map(Rt,ur=>Object.keys(Ze[ur.index].roles))));return _.isEqual(Ot,[].concat(sr,er))&&_.isEqual(ht,er)}(Oe,Ze,ht,ct))return Oe;var _t={metadata:{columns:[...Oe.metadata.columns||[]]}};if(Oe.single&&(_t.single=Oe.single),Oe.table&&(_t.table=Oe.table),Oe.matrix){var Rt=function(Oe){var Ze=Oe.rows,ct=Oe.columns,ht=Ze.root,_t=ht.children;a.Y.assert(()=>1===Ze.levels.length,"oldRows.levels.length ===1"),a.Y.assert(()=>ct.levels.length>=1,"oldColumns.levels.length >=1"),a.Y.assert(()=>1===ct.levels[0].sources.length,"oldColumns.levels[0].sources.length === 1");var Rt={levels:[],root:{children:[]}},jt={rows:Rt,columns:{levels:[],root:{children:[]}},valueSources:Oe.valueSources},Tt=Rt.root.children;for(var Zt of(Rt.levels.push(ct.levels[0]),Rt.root.childIdentityFields=ct.root.childIdentityFields,ct.root.children))void 0!==Zt.levelValues&&void 0!==Zt.value&&Tt.push({children:[],value:Zt.value,levelValues:Zt.levelValues,identity:Zt.identity,level:0});var tr=_.size(Oe.valueSources);if(Rt.levels.push(Ze.levels[0]),_.isEmpty(Tt))return jt;for(var dr in _t){var Lt=_t[dr];for(var we in Lt.values){var gt=Tt[Math.floor(we/tr)];gt.childIdentityFields||(gt.childIdentityFields=ht.childIdentityFields);var bt=Lt.values[we];if(null!=bt){var Ot=gt.children[dr];Ot||gt.children.push(Ot={level:gt.level+1,value:Lt.value,levelValues:Lt.levelValues,values:{},identity:Lt.identity}),Ot.values[we%tr]=bt}}}return jt}(Oe.matrix);_.isEmpty(Rt.valueSources)||(0,oe.OD)(Rt.columns)||(_t.matrix=Rt)}return _t}(_t,Ze.selectTransforms,Er(Ze.drillCapabilities,Rt),ht),_t}(Ze,Vt),Tt=function(Oe,Ze,ct,ht,_t,Rt){a.Y.assertValue(Ze,"transformContext");var Vt=[],jt=Ze.transforms.splits;if(_.isEmpty(jt))Vt.push(Fr(Oe,Ze,ct,ht,null,_t,Rt));else for(var Tt of jt){var Zt=Fr(Oe,Ze,ct,ht,Tt.selects,null,Rt);Vt.push(Zt)}return Vt}(jt,Vt,Oe.featureSwitches,Rt,Oe.bypassConcatenation,Oe.orderIndependentSelectorMatching);return{dataViews:Tt=(0,et.eF)({visualDataViews:Tt,dataRoles:Vt.dataRoles,objectDescriptors:ct,objectDefinitions:ht.objects,transformSelects:ht.selects,applicableDataViewMappings:Vt.applicableRoleMappings,roleKindByQueryRef:Vt.roleKindByQueryRef,queryProjectionsByRole:Vt.queryProjectionsByRole,visualStyle:Vt.visualStyle,featureSwitches:Oe.featureSwitches}),warnings:Rt}}function Br(Oe,Ze,ct,ht){if(Ze&&Ze.objects){var _t={metadata:{columns:[]}};return(0,h.hg)(_t,r.k.None,Oe,Ze.objects,Ze.selects,ct,ht),[_t]}return[]}function Fr(Oe,Ze,ct,ht,_t,Rt,Vt){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"transformContext"),a.Y.assert(()=>!_t||_.every(_t,(Yt,er)=>!Yt||Ze.selectTransforms?.[er]),"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var jt=(0,t.IL)(Oe);jt.metadata=(0,t.IL)(Oe.metadata),jt=function(Oe,Ze){if(a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"transformContext"),(0,l.Z0)(Ze.visualCapabilitiesDataViewKinds)<=1)return Oe;var ht=Ze.applicableDataViewKinds;if(0===(0,l.Z0)(ht))return Oe;var Rt=(0,t.Uz)(Oe);return Rt.categorical&&!(0,l.Lt)(ht,r.k.Categorical)&&(Rt.categorical=void 0),Rt.matrix&&!(0,l.Lt)(ht,r.k.Matrix)&&(Rt.matrix=void 0),Rt.table&&!(0,l.Lt)(ht,r.k.Table)&&(Rt.table=void 0),Rt.tree&&!(0,l.Lt)(ht,r.k.Tree)&&(Rt.tree=void 0),Rt.single&&!(0,l.Lt)(ht,r.k.Single)&&(Rt.single=void 0),Rt}(jt,Ze);var Tt=Ze.visualCapabilitiesDataViewKinds,Zt=Ze.visualCapabilitiesRoleMappings,tr=Ze.selectTransforms,dr=Ze.expandCollapseCapabilities,Lt=Ze.objectDescriptors,we=Ze.visualStyle,rt=Ze.transforms?.roles,gt=rt?.isDrillDisabled,bt={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},Ot=[];return jt=function(Oe,Ze,ct,ht,_t,Rt,Vt,jt,Tt){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"targetDataViewKinds"),a.Y.assert(()=>Ze===r.k.None||!_.isEmpty(ct),"if targetDataViewKinds !== None, then roleMappings must be non-empty"),a.Y.assertAnyValue(ht,"selectTransforms"),a.Y.assertValue(_t,"columnRewrites"),a.Y.assertValue(Rt,"matrixTransformationContext"),a.Y.assertValue(Vt,"DataViewTransform.transformSelects - visualStyle");var Zt=new de.q(Tt,Vt);return _t.length=0,ht&&(Oe.metadata.columns=function(Oe,Ze,ct,ht){if(a.Y.assertValue(Oe,"columns"),!Ze)return Oe;for(var _t=(0,t.IL)(Oe),Rt={},Vt=function(){var gt=Oe[jt],bt=Ze[gt.index];Rt[gt.index]=!0;var Ot=gt;if(bt)Ot=_t[jt]=Zr(gt,bt);else if(!_.some(Oe,Yt=>Yt.formatSource&&Yt.formatSource.formatString===gt))return 1;ct.push({from:gt,to:Ot})},jt=0,Tt=Oe.length;jt<Tt;jt++)Vt();if(ht)for(var Zt=0;Zt<Ze.length;Zt++)if(!Rt[Zt]){var tr=Ze[Zt],dr={displayName:tr.displayName,index:Zt,identityExprs:tr.identityExprs};dr=Kr(tr,dr),_t.push(dr)}var Lt={};for(var we of _t)if(we.roles&&!we.groupName&&we.index)for(var rt in we.rolesIndex||(we.rolesIndex={}),we.roles)void 0===Lt[rt]&&(Lt[rt]=0),we.roles[rt]&&(we.rolesIndex[rt]=[Lt[rt]++]);return a.Y.assert(()=>_.every(ct,gt=>gt.from.index===gt.to.index),"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),_t}(Oe.metadata.columns,ht,_t,jt.visualCapabilitiesKeepAllMetadataColumns),function(Oe,Ze,ct){if(a.Y.assertValue(Oe,"dataView"),a.Y.assertAnyValue(ct,"selects"),ct)for(var _t,ht=Oe.metadata.columns,Rt=0,Vt=ct.length;Rt<Vt;Rt++){var jt=ct[Rt],Tt=jt&&jt.aggregateSources;if(Tt){_t||(_t=(0,Wt.K2)(Oe,ct));var Zt=ea(ht,Rt,jt),tr=Zt.aggregates={},dr=s.eV.fromDescriptor(Zt.type),Lt=Gr(Ze,_t,ct,dr,Tt.min);void 0!==Lt&&(tr.min=Lt),void 0!==(Lt=Gr(Ze,_t,ct,dr,Tt.max))&&(tr.max=Lt)}}}(Oe,Zt,ht)),Oe.categorical&&(0,l.Lt)(Ze,r.k.Categorical)&&(Oe.categorical=function(Oe,Ze){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"columnRewrites");var ct=(0,t.IL)(Oe);function ht(jt){var{source:Tt,rootSource:Zt}=function(Oe,Ze){var ct={},ht=Oe.source,_t=Oe.source.rootSource;for(var Rt of Ze)Rt.from===ht&&(ct.source=Rt.to),Rt.from===_t&&(ct.rootSource=Rt.to);return ct}(jt,Ze);if(Tt){var tr=(0,t.IL)(jt);return tr.source=Tt,Zt&&(tr.source.rootSource=Zt),tr}}var _t=(0,t.M2)(Oe.categories,ht);if(_t&&(ct.categories=_t),Oe.values){var Rt=(0,t.M2)(Oe.values,ht)||(0,t.Uz)(Oe.values);if(ct.values=Rt,Rt.source){var Vt=Et(Rt.source,Ze);Vt&&(Rt.source=Vt)}}return y(ct),ct}(Oe.categorical,_t),Oe=function(Oe,Ze){a.Y.assertValue(Oe,"dataView");var ct,ht=function(Oe,Ze){if(Oe&&!_.isEmpty(Ze)){var ct=Oe.categories;if(!_.isEmpty(ct)){var ht=Oe.values;if(!_.isEmpty(ht)&&!ht.grouped().some(Tt=>!!Tt.identity))for(var Rt,_t=function(){var Tt=Ze[Vt].categorical;if(!Tt)return 0;for(var Zt of(a.Y.assert(()=>_.filter(ct,we=>Gt(we.source.roles,Tt.values)).length<=1,"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories."),ct)){var tr=Zt.source.roles;if(Gt(tr,Tt.values)){var dr=Tt.categories;if(or(tr,dr)||rr(tr,dr))return{v:{type:Ht.SelfCrossJoin,selfCrossJoinCategory:Zt}};if(1===ct.length)return{v:{type:Ht.Pivot}}}}},Vt=0,jt=Ze.length;Vt<jt;Vt++)if(0!==(Rt=_t())&&Rt)return Rt.v}}}(Oe.categorical,Ze);if(ht)switch(ht.type){case Ht.Pivot:ct=function(Oe){a.Y.assertValue(Oe,"dataView");var Ze=Oe.categorical;if(!Ze)return null;var ct=Ze.categories;if(!ct||1!==ct.length)return null;var ht=Ze.values;if(_.isEmpty(ht)||ht.source)return null;for(var _t=ct[0],Rt=_t.identity,Vt=_t.values,jt=[],Tt=[],Zt=new re,tr=0,dr=Vt.length;tr<dr;tr++)for(var Lt=Vt[tr],we=Rt[tr],rt=0,gt=ht.length;rt<gt;rt++){var bt=ht[rt],Ot=Zt.getPivotedDynamicFormatColumn(bt.source,tr);if(void 0===Ot&&(Ot=(0,t.IL)(bt.source)),bt.identity)return null;if(Ot.groupName=Lt,Ot.rootSource=bt.source,Ot.formatSource?.formatString){var Yt=Ot.formatSource.formatString;Zt.trackOriginalDynamicFormatColumn(rt,Yt);var er=(0,t.IL)(Yt);Ot.formatSource={formatString:er},Zt.addPivotedDynamicFormatColumn(rt,tr,er)}var sr={source:Ot,values:[bt.values[tr]],identity:we,min:bt.min,max:bt.max,subtotal:bt.subtotal},ur=bt.highlights;ur&&(sr.highlights=[ur[tr]]),jt.push(Ot),Tt.push(sr)}var Cr=(0,t.IL)(Oe.metadata);return Cr.columns=jt,{metadata:Cr,categorical:{values:ht=(0,h.zB)(Tt,_t.identityFields,_t.source)},matrix:Oe.matrix}}(Oe);break;case Ht.SelfCrossJoin:a.Y.assertValue(ht.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),ct=function(Oe,Ze){if(a.Y.assertValue(Oe,"dataView"),a.Y.assert(()=>!Ze||_.includes(Oe.categorical.categories,Ze),"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Oe.categorical&&Ze){var ct=Oe.categorical;if(!(_.isEmpty(ct.categories)||ct.values&&ct.values.source)){var ht=function(Oe,Ze){return a.Y.assertValue(Oe,"dataViewCategorical"),a.Y.assertValue(Ze,"selfCrossJoinCategory"),a.Y.assert(()=>_.includes(Oe.categories,Ze),"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),Ze.source.identityExprs||(1===Oe.categories.length?Ze.identityFields:void 0)}(ct,Ze);if(!_.isEmpty(ht))return function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"dataViewMetadata"),a.Y.assertValue(Ze,"dataViewCategorical"),a.Y.assertValue(Ze.categories,"dataViewCategorical.categories"),a.Y.assertValue(ct,"selfCrossJoinCategory"),a.Y.assert(()=>_.size(ct.values)===_.size(ct.identity),"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),a.Y.assertValue(ht,"seriesGroupIdentityFields");var Rt=ct.values.length;if(0!==Rt){var Vt=Ze.values?Ze.values.grouped()[0].values:[],jt=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"category"),a.Y.assertValue(Ze,"categoryLength"),a.Y.assertValue(ct,"measures"),a.Y.assertValue(ht,"seriesGroupIdentityFields");var _t=function(Oe){a.Y.assertValue(Oe,"length");for(var Ze=new Array(Oe),ct=0;ct<Oe;ct++)Ze[ct]=null;return Ze}(Ze),Rt=function(Oe,Ze){a.Y.assertValue(Oe,"category"),a.Y.assert(()=>_.size(Oe.values)===_.size(Oe.identity),"_.size(category.values) === _.size(category.identity)"),a.Y.assertValue(!_.isEmpty(Ze),"!_.isEmpty(seriesGroupIdentityFields)");for(var ct=Oe.identity,ht=Oe.values,_t=[],Rt={},Vt=0,jt=_.size(ct);Vt<jt;Vt++){var Zt=(0,n.Tv)(ct[Vt].expr,Ze),tr=Zt&&(0,A.UQ)(Zt),dr=tr&&tr.key,Lt=Rt[dr],we=void 0;void 0===Lt?(_t.push(we={identity:tr,groupValue:ht[Vt],groupIndex:_t.length,valueRowIndices:[]}),Rt[dr]=we.groupIndex):we=_t[Lt],we.valueRowIndices.push(Vt)}return a.Y.assert(()=>(0,i.WC)(_t,(rt,gt)=>rt.groupIndex-gt.groupIndex),"post-condition: seriesGroups is sorted by group index"),_t}(Oe,ht);if(!_.isEmpty(Rt)){var Vt=_.map(Rt,jt=>{var Tt=jt.valueRowIndices;return _.map(ct,tr=>{var dr={values:ke(_t,tr.values,Tt)};return tr.highlights&&(dr.highlights=ke(_t,tr.highlights,Tt)),dr})});return{groupColumn:{source:Oe.source,identityFrom:{fields:ht,identities:_.map(Rt,jt=>jt.identity)},values:_.map(Rt,jt=>jt.groupValue)},valueColumns:_.map(ct,jt=>({source:jt.source})),data:Vt}}}(ct,Rt,Vt,ht);if(jt){var Tt=(0,vt.P)().withCategories(Ze.categories).withGroupedValues(jt).build();return(Oe=(0,t.IL)(Oe)).columns=Tt.metadata.columns,{metadata:Oe,categorical:Tt.categorical}}}}(Oe.metadata,ct,Ze,ht)}}}(Oe,ht.selfCrossJoinCategory)}return ct||Oe}(Oe,ct)),Oe.matrix&&(0,l.Lt)(Ze,r.k.Matrix)&&(Oe.matrix=function(Oe,Ze,ct){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"columnRewrites");var ht=(0,t.IL)(Oe),_t=Zt=>Et(Zt,Ze);function Rt(Zt){var tr=null,dr=(0,t.M2)(Zt.levels,Lt=>{var we=null,rt=(0,t.M2)(Lt.sources,_t);if(rt&&(we=It(we,Lt,bt=>bt.sources=rt)),Lt.valueSources){a.Y.assert(()=>_.isEqual(_.keys(Lt.valueSources),["0"]),"Scoped Measures with column groupings are not supported"),a.Y.assertValue(Lt.valueSources[0],"Empty Scoped measures metadata");var gt=(0,t.M2)(Lt.valueSources[0],_t);gt&&(we=It(we,Lt,bt=>bt.valueSources={0:gt}))}return we});return dr&&(tr=It(tr,Zt,Lt=>Lt.levels=dr)),tr}var Vt=Rt(ht.rows);Vt&&(ht.rows=Vt,ct.rowHierarchyRewritten=!0);var jt=Rt(ht.columns);jt&&(ht.columns=jt,ct.columnHierarchyRewritten=!0);var Tt=(0,t.M2)(ht.valueSources,_t);return Tt&&(ht.valueSources=Tt),ht}(Oe.matrix,_t,Rt),function(Oe,Ze){if(Oe&&!_.isEmpty(Ze)){var ct=Oe.rows.levels;if(!(ct.length<1)){var ht=Oe.rows.root.children;if(ht&&0!==ht.length)for(var _t=ct[0].sources[0].roles,Rt=0,Vt=Ze.length;Rt<Vt;Rt++){var jt=Ze[Rt].matrix;if(jt&&!rr(_t,jt.rows)&&rr(_t,jt.columns))return!0}}}}(Oe.matrix,jt.applicableRoleMappings)&&Q(Oe.matrix,Rt)),Oe.table&&(0,l.Lt)(Ze,r.k.Table)&&(Oe.table=function(Oe,Ze){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"columnRewrites");var ct=(0,t.IL)(Oe),_t=(0,t.M2)(Oe.columns,Rt=>Et(Rt,Ze));return _t&&(ct.columns=_t),ct}(Oe.table,_t)),Oe.single&&(0,l.Lt)(Ze,r.k.Single)&&(Oe.single=function(Oe,Ze){var ct=Et(Oe.column,Ze);return ct&&((Oe=(0,t.Uz)(Oe)).column=ct),Oe}(Oe.single,_t)),Oe}(jt,Tt,Zt,tr,Ot,bt,we,Ze,ct),(0,h.hg)(jt,Ze.visualCapabilitiesDataViewKinds,Lt,Ze.transforms.objects,tr,we,ct,ht,Vt),jt=function(Oe,Ze,ct,ht,_t){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"transformContext"),a.Y.assertValue(ht,"matrixTransformationContext"),a.Y.assertAnyValue(_t,"selectsToInclude");var Rt=Ze.projectionOrdering,Vt=Ze.applicableRoleMappings,jt=(0,t.Uz)(Oe);if(function(Oe,Ze,ct){if(Ze){var ht=new Array(ct.length);for(var _t of Oe)if(void 0!==_t.index&&void 0!==_t.roles&&null==_t.groupName)for(var Rt in ht[_t.index]=_t,_t.rolesIndex=_t.rolesIndex||{},_t.roles)_t.roles[Rt]&&(_t.rolesIndex[Rt]=[]);for(var Vt in Ze)for(var jt=Ze[Vt],Tt=0;Tt<jt.length;Tt++){var tr=ht[jt[Tt]];tr&&tr.rolesIndex[Vt].push(Tt)}}}(jt.metadata.columns,Rt,ct),jt.table&&(0,l.Lt)(Ze.applicableDataViewKinds,r.k.Table)&&function(Oe,Ze,ct){if(!Ze)return Oe;var ht=function(Oe,Ze){var ct=Object.keys(Oe);if(1===ct.length){var ht=ct[0],_t=_.map(Ze,Vt=>Vt.from.index);return function(Oe,Ze){if(!(0,i.m2)(Oe,Ze,(Vt,jt)=>Vt===jt)){for(var ct=[],ht=0,_t=Ze.length;ht<_t;++ht)ct[ht]=Oe.indexOf(Ze[ht]);return ct}}(_t,Oe[ht])}}(Ze,ct);if(!ht)return Oe;var _t=Vt=>{for(var jt=ht.length,Tt=new Array(jt),Zt=0;Zt<jt;Zt++)Tt[Zt]=Vt[ht[Zt]];return Tt};if((Oe=(0,t.Uz)(Oe)).columns=_t(Oe.columns),_.isEmpty(Oe.rows)||(Oe.rows=(0,t.M2)(Oe.rows,Vt=>{var jt=_t(Vt);return Vt.objects&&(jt.objects=_t(Vt.objects)),jt})),Oe.totals){var Rt=_t(Oe.totals);Oe.totals.objects&&(Rt.objects=_t(Oe.totals.objects)),Oe.totals=Rt}}(jt.table,Rt,ct),jt.matrix&&(0,l.Lt)(Ze.applicableDataViewKinds,r.k.Matrix)){var Tt=_.filter(Vt,Zt=>!!Zt.matrix);a.Y.assertValue(0!==Tt.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),a.Y.assertValue(Tt.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),jt.matrix=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"matrixMapping"),a.Y.assertAnyValue(ct,"projectionOrdering"),a.Y.assertValue(ht,"context");var _t=Oe;if(ct){_t=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"matrixRoleMapping"),a.Y.assertValue(ct,"projectionOrdering"),a.Y.assertValue(ht,"context");var _t=Oe.valueSources,Rt=Ye(ct,Ze.values,_t);if(St(_t,Rt))return Oe;a.Y.assert(()=>Rt.length>0||!_.isEmpty(_t),"Nothing to re-order!");var Vt=(0,t.Uz)(Oe),jt=Vt.columns.levels,Tt=[];jt.length>0&&(Tt=jt[0].sources.filter(tr=>tr.isMeasure&&null!=tr.index&&!_.isEmpty(tr.roles)&&!_.find(Rt,dr=>dr.metadataColumn===tr))),Vt.rows=ze(Vt.rows,Vt.valueSources,Rt,Tt);var Zt=_.map(Rt,tr=>tr.metadataColumn);return Vt.valueSources=Zt,Vt.valueSources=Vt.valueSources.concat(Tt),Vt.columns=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"prototypeColumnHierarchy"),a.Y.assertValue(Ze,"newValueSources");var Tt,_t=Oe.levels,Rt=(0,oe.NK)(_t),jt=(Rt?_.size(_t)>=2:_.size(_t)>=1)?Ze.length>=2:Ze.length>=1;return Tt=Rt?jt?function(Oe,Ze,ct,ht){a.Y.assert(()=>Oe&&(0,oe.NK)(Oe.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),a.Y.assertValue(Ze,"newValueSources");var _t=(0,t.Uz)(Oe),Rt=_t.levels=(0,t.Uz)(_t.levels),Vt=Rt.length-1,jt=Rt[Vt]=(0,t.Uz)(Rt[Vt]);return jt.sources=Ze,_t.root=(0,oe.kR)(_t.root,Vt,!0),(0,oe.of)(_t.root,Tt=>{if(ye(Tt,Vt)){var Zt=Xe(Vt,Ze.length,Tt,ht);if(0===Vt&&ct.length>0){for(var tr=jt.sources.length,dr=0;dr<ct.length;dr++)Zt.push({level:0,levelSourceIndex:tr+dr});Tt.children=Zt,jt.sources.push(...ct||[])}else Tt.children=Zt;return oe.yg.skipDescendantNodes}return oe.yg.continueToChildNodes}),_t}(Oe,Ze,ct,ht):function(Oe){a.Y.assert(()=>Oe&&(0,oe.NK)(Oe.levels),"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var Ze=(0,t.Uz)(Oe),ct=Ze.levels=(0,t.Uz)(Ze.levels),ht=ct.length-1;return ct.splice(ht,1),Ze.root=(0,oe.kR)(Ze.root,ht,!0),(0,oe.of)(Ze.root,_t=>ye(_t,ht)?(_t.children=void 0,oe.yg.skipDescendantNodes):oe.yg.continueToChildNodes),Ze}(Oe):jt?function(Oe,Ze){a.Y.assert(()=>Oe&&!(0,oe.NK)(Oe.levels),"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),a.Y.assertValue(Ze,"newValueSources");var ct=(0,t.Uz)(Oe),ht=ct.levels=(0,t.Uz)(ct.levels);ht.push({sources:Ze});var Rt=ht.length-1;return ct.root=(0,oe.kR)(ct.root,Rt,!0),(0,oe.of)(ct.root,Vt=>(0,oe.d2)(Vt)?(Vt.children=Xe(Rt,Ze.length,Vt),oe.yg.skipDescendantNodes):oe.yg.continueToChildNodes),ct}(Oe,Ze):Oe,Tt}(Vt.columns,[...Zt||[]],Tt,Rt),ht.hierarchyTreesRewritten=!0,Vt}(_t,Ze,ct,ht),_t=function(Oe,Ze,ct){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"applicableDataViewMapping"),a.Y.assertValue(ct,"projectionOrdering");var Zt,_t=ut(ct,S.e1.fromMatrixRows(Ze.rows)),Rt=Ce(Oe.rows,_t),jt=ut(ct,S.e1.fromMatrixColumns(Ze.columns)),Tt=Ce(Oe.columns,jt);return(Rt||Tt)&&((Zt=(0,t.Uz)(Oe)).rows=Rt||Zt.rows,Zt.columns=Tt||Zt.columns),Zt||Oe}(_t,Ze,ct);var Rt=Ze.rows?.values;_.isEmpty(Rt)||(_t=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"scopedMeasuresRoleMapping"),a.Y.assertValue(ct,"projectionOrdering"),a.Y.assertValue(ht,"context");for(var _t=Oe,Rt=0;Rt<Oe.rows.levels.length;Rt++){var jt=(0,oe.Io)(Oe.rows.levels[Rt]);if(!_.isEmpty(jt)){var Tt=[];Rt===Oe.rows.levels.length-1&&(a.Y.assert(()=>(0,oe.qX)(Oe.columns)>0,"Scoped measures at last row level aren't expected without Column grouping"),Tt=Ye(ct,Ze,jt)),St(jt,Tt)||((_t=(0,t.Uz)(_t)).rows=ze(_t.rows,jt,Tt,[],Rt),_t.rows.levels=(0,t.Uz)(_t.rows.levels),(_t.rows.levels[Rt]=(0,t.Uz)(_t.rows.levels[Rt])).valueSources=Tt.length>0?{0:_.map(Tt,tr=>tr.metadataColumn)}:void 0,ht.hierarchyTreesRewritten=!0)}}return _t}(_t,Rt,ct,ht))}return _t}(jt.matrix,Tt[0].matrix,Rt,ht)}return jt=function(Oe,Ze,ct,ht,_t){a.Y.assertValue(Oe,"prototype"),a.Y.assertAnyValue(Ze,"applicableRoleMappings"),a.Y.assertAnyValue(ct,"dataRoles"),a.Y.assertAnyValue(ht,"projectionOrdering"),a.Y.assertAnyValue(_t,"splitSelects");var Rt,Vt=_.chain(Ze).filter(Zt=>Zt.categorical&&!(0,S.D9)(Zt)).map(Zt=>Zt.categorical).value();if(Oe.categorical&&Vt.length>=1){var jt=Oe.categorical,Tt=function(Oe,Ze,ct,ht){if(a.Y.assertValue(Oe,"prototypeCategorical"),a.Y.assertValue(Ze,"categoricalRoleMappingsWithoutRegression"),a.Y.assert(()=>_.every(Ze,Vt=>!!Vt),"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),a.Y.assertAnyValue(ct,"projectionOrdering"),a.Y.assertAnyValue(ht,"splitSelects"),!_.isEmpty(Oe.categories)){var _t=(0,S.So)(Ze,S.IB);if(_t){var Rt=function(Oe,Ze,ct){if(a.Y.assertValue(Oe,"roles"),a.Y.assertAnyValue(Ze,"projectionOrdering"),a.Y.assertAnyValue(ct,"splitSelects"),Ze){var ht=_.reduce(Oe,(_t,Rt)=>{var Vt=_.filter(Ze[Rt],jt=>!ct||ct[jt]);return _t.push(...Vt||[]),_t},[]);return ht}}(_t,ct,ht);if(Rt)return function(Oe,Ze,ct){a.Y.assertValue(Oe,"prototypeCategorical"),a.Y.assertValue(Ze,"projectionOrder"),a.Y.assertValue(ct,"categoryRoles");var ht=Oe.categories;if(_.isEmpty(ht))a.Y.assert(()=>_.isEmpty(Ze),"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Oe,Ze){return a.Y.assertValue(Oe,"categories"),a.Y.assertValue(Ze,"selectIndexOrder"),Oe.length===Ze.length&&_.every(Ze,(ct,ht)=>Oe[ht].source.index===ct)}(ht,Ze)){var _t=_.map(ht,tr=>tr.source),Rt=(0,C.qq)(_t,Ze,ct),Vt=_.chain(Rt).filter(tr=>void 0!==tr.projectionOrderIndex).sortBy(tr=>tr.projectionOrderIndex).value(),jt=_.map(Vt,tr=>ht[tr.sourceIndex]),Tt=(0,t.Uz)(Oe);if(_.isEmpty(jt))Tt.categories=void 0;else{var Zt=(0,p.o0)(ht);Zt&&(jt=(0,p.QW)(jt,Zt)||jt),Tt.categories=jt}return Tt}}(Oe,Rt,_t)}}}(jt,Vt,ht,_t);Tt=function(Oe,Ze,ct,ht){a.Y.assertValue(Oe,"prototypeCategorical"),a.Y.assertAnyValue(Ze,"dataRoles"),a.Y.assertAnyValue(ct,"projectionOrdering"),a.Y.assertAnyValue(ht,"splitSelects");var _t=Oe.values;if(_t){var Rt=function(Oe){if(v(Oe)){var Ze=(0,h.zB)(Oe.filter(ct=>!o(ct)),void 0,Oe.source);return Ze.grouped=Oe.grouped.bind(Ze),Ze}}(_t),Vt=function(Oe){a.Y.assertValue(Oe,"values"),a.Y.assert(()=>!v(Oe),"Dynamic format values should have already been removed");var ct,ht,_t,Rt,Ze=Oe.source,Vt=Oe.grouped();if(Ze){ht=R(Vt);var Tt=(ct=Vt.length)*_.size(ht),Zt=Oe.length-Tt;Zt>0&&(_t=Tt,Rt=_.chain(Oe).takeRight(Zt).map(tr=>tr.source).value())}else _t=0,Rt=R(Vt);return{secondaryAxisSource:Ze,dynamicSeriesGroupCount:ct,dynamicSeriesMeasureSources:ht,staticSeriesMeasureStartingIndex:_t,staticSeriesMeasureSources:Rt}}(Rt||_t),jt=function(Oe,Ze,ct,ht){if(a.Y.assertValue(Oe,"valueColumnsInfo"),a.Y.assertAnyValue(Ze,"dataRoles"),a.Y.assertAnyValue(ct,"projectionOrdering"),a.Y.assertAnyValue(ht,"splitSelects"),!ct)return function(Oe,Ze){a.Y.assertValue(Oe,"valueColumnsInfo"),a.Y.assertAnyValue(Ze,"splitSelects");var _t=(Oe.dynamicSeriesMeasureSources||[]).concat(Oe.staticSeriesMeasureSources||[]),Rt=_.chain(_t).filter(Vt=>!Ze||!!Ze[Vt.index]).map(Vt=>Vt.index).uniq().value();return Rt}(Oe,ht);var _t=_.reduce(Ze,(tr,dr,Lt)=>{var we=dr.name;return void 0===tr[we]&&(tr[we]=Lt),tr},{}),jt=(Oe.dynamicSeriesMeasureSources||[]).concat(Oe.staticSeriesMeasureSources||[]),Tt=_.chain(jt).filter(tr=>!ht||!!ht[tr.index]).uniqBy(tr=>tr.index).map(tr=>{var dr=tr.roles;return dr?_.filter(Object.keys(dr),Lt=>dr[Lt]):[]}).flatten().uniq().sortBy(tr=>_t[tr]).value(),Zt=_.chain(Tt).map(tr=>ct[tr]||[]).flatten().filter(tr=>!ht||!!ht[tr]).uniq().value();return Zt}(Vt,Ze,ct,ht);if(Rt=function(Oe,Ze,ct){a.Y.assertValue(Oe,"prototypeValues"),a.Y.assertValue(Ze,"prototypeValueColumnsInfo"),a.Y.assertValue(ct,"measureRolesProjectionOrder"),a.Y.assert(()=>!v(Oe),"Dynamic format values should have already been removed");var ht=function(Oe,Ze,ct){if(a.Y.assertValue(Oe,"prototypeValues"),a.Y.assertValue(Ze,"prototypeValueColumnsInfo"),a.Y.assertValue(ct,"measureRolesProjectionOrder"),Ze.dynamicSeriesGroupCount&&!_.isEmpty(Ze.dynamicSeriesMeasureSources)){var ht=I(Ze.dynamicSeriesMeasureSources,ct);if(ht){var _t=ht.length;if(0===_t)return[];for(var Rt=Ze.dynamicSeriesMeasureSources.length,Vt=Ze.dynamicSeriesGroupCount,jt=[],Tt=0;Tt<Vt;Tt++)for(var Zt=Tt*Rt,tr=0;tr<_t;tr++)jt.push(Oe[Zt+ht[tr].sourceIndex]);return jt}}}(Oe,Ze,ct),_t=function(Oe,Ze,ct){if(a.Y.assertValue(Oe,"prototypeValues"),a.Y.assertValue(Ze,"prototypeValueColumnsInfo"),a.Y.assertValue(ct,"measureRolesProjectionOrder"),!_.isEmpty(Ze.staticSeriesMeasureSources)){var ht=I(Ze.staticSeriesMeasureSources,ct);if(ht){var _t=ht.length;if(0===_t)return[];for(var Rt=Ze.staticSeriesMeasureStartingIndex,Vt=[],jt=0;jt<_t;jt++)Vt.push(Oe[Rt+ht[jt].sourceIndex]);return Vt}}}(Oe,Ze,ct);if(ht||_t){var Rt=(0,t.Uz)(Oe);return ht?_t?(a.Y.assert(()=>_.isEmpty(ht)||_.isEmpty(_t),"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),Rt.splice(0,Rt.length),Rt.push(...ht||[]),Rt.push(..._t||[])):(a.Y.assertValue(Ze.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),a.Y.assertValue(Ze.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),Rt.splice(0,Ze.dynamicSeriesMeasureSources.length*Ze.dynamicSeriesGroupCount,...ht||[])):_t&&(a.Y.assertValue(Ze.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),a.Y.assertValue(Ze.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),Rt.splice(Ze.staticSeriesMeasureStartingIndex,Ze.staticSeriesMeasureSources.length,..._t||[])),Rt}}(Rt||_t,Vt,jt)||Rt,Rt=function(Oe,Ze){if(a.Y.assertValue(Oe,"prototypeValues"),a.Y.assertAnyValue(Ze,"splitSelects"),Ze&&Oe.source&&!Ze[Oe.source.index]){var ht=(0,t.Uz)(Oe);return ht.source=void 0,ht.identityFields=void 0,ht}}(Rt||_t,ht)||Rt,Rt){var Tt=!!Rt.source,Zt=Rt.length>0,tr=(0,t.Uz)(Oe);return Tt||Zt?(tr.values=Rt,y(tr)):tr.values=void 0,tr}}}(Tt||jt,ct,ht,_t),Tt&&((Rt=(0,t.Uz)(Oe)).categorical=Tt)}return Rt||Oe}(jt,Vt,Ze.dataRoles,Rt,_t),jt}(jt,Ze,Ot,bt,_t),jt=function(Oe,Ze,ct,ht,_t,Rt,Vt){if(_.isEmpty(ct)||!_t)return Oe;var jt=_t&&_t.roles;if(_.isEmpty(jt)||Vt)return Oe;a.Y.assertValue(Oe,"dataView"),a.Y.assertValue(Ze,"targetDataViewKinds"),a.Y.assertNonEmpty(ht,"selectTransforms"),a.Y.assertAnyValue(Rt,"expansionStates");var Tt=_t.addDataViewFlags;if(a.Y.assertValue(Tt,"addDataViewFlags"),!0!==(Tt.propertyIdentifier?(0,tt._W)(Oe.metadata.objects,Tt.propertyIdentifier,Tt.defaultValue):Tt.defaultValue))return Oe;var tr=_.find(ct,we=>we.matrix),dr=tr&&tr.matrix;if(dr&&Oe.matrix&&(0,l.Lt)(Ze,r.k.Matrix)){var Lt=function(Oe,Ze,ct,ht,_t,Rt,Vt){a.Y.assertNonEmpty(ht,"Expand/Collapse is not supported");var jt=S.e1.fromMatrixRows(Ze.rows),Tt=_t&&(0,g.uS)(_t,jt),Zt=function(Oe,Ze,ct,ht,_t,Rt,Vt){if(a.Y.assertAnyValue(_t,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(Ze,Lt=>!_.includes(ht,Lt))){var jt=0,Tt=function(Lt){_.some(Ze,we=>Lt.roles[we])&&jt++};for(var Zt of ct)Tt(Zt);if(jt>0){(Oe=(0,t.Uz)(Oe)).levels=(0,t.Uz)(Oe.levels),a.Y.assertValue(Oe.levels,"hierarchy.levels");for(var tr=0;tr<Oe.levels.length;tr++)tr<jt-1&&(Oe.levels[tr]=(0,t.Uz)(Oe.levels[tr]),Oe.levels[tr].canBeExpanded=!0);var dr=ie(Oe.root,Oe.levels,_t&&_t.root,_t&&_t.levels,jt);return dr&&(Oe.root=dr),Vt&&_t&&function(Oe,Ze,ct){a.Y.assertValue(Oe,"hierarchy"),a.Y.assertValue(Ze,"metadataColumns"),a.Y.assertValue(ct,"expansionState");var ht=ct.levels;if(!_.isEmpty(ht)){var _t={};for(var Rt of Ze)_t[Rt.queryName]=Rt;var Vt=new Array(ht.length),jt=Oe.levels,Tt=0,Zt=function(){var Lt=tr.queryRefs;if(!_.isEmpty(Lt)&&!_.isEmpty(jt)&&jt[Tt]){var we=jt[Tt].sources,rt=function(bt){a.Y.assert(()=>_.some(we,Ot=>Ot.queryName===bt),"ExpansionState levels should match matrix levels.")};for(var gt of Lt)rt(gt)}Vt[Tt++]={isCollapsed:tr.isCollapsed,isPinned:tr.isPinned,isLocked:tr.isLocked,AIInformation:_.cloneDeep(tr.AIInformation),sources:_.map(Lt,bt=>_t[bt])}};for(var tr of ht)Zt();var dr=se(ct.root,Vt,void 0,d.B.getPrimitiveValuesFromSQConstantExpr);Oe.expansionStates=[{levels:Vt,root:dr}]}}(Oe,Rt,_t),Oe}}}(Oe.rows,jt,ct,ht,Tt,Rt,Vt);if(Zt)return(Oe=(0,t.Uz)(Oe)).rows=Zt,Oe}(Oe.matrix,dr,ht,jt,Rt,Oe.metadata.columns,_t.addDataViewExpansionState);Lt&&((Oe=(0,t.Uz)(Oe)).matrix=Lt)}return Oe}(jt,Tt,Zt,tr,dr,Ze.transforms.expansionStates,!!gt),jt=function(Oe,Ze){a.Y.assertValue(Oe,"prototype"),a.Y.assertValue(Ze,"quarterPrefix");var ct=Oe.categorical;if(!ct||_.isEmpty(ct.categories))return Oe;var ht=ct.categories,_t=(0,L.vE)(ht[0],Y.Q);if(!_t||_.isEmpty(_t.values))return Oe;for(var Rt,Vt,jt,Zt,Tt=[],tr=0,dr=ht.length;tr<dr;tr++)for(var Lt=ht[tr],we=Lt.source.type,rt=Lt.values,gt=void 0,bt=void 0,Ot=0,Yt=_.size(rt);Ot<Yt;Ot++){var sr=_t.values[Ot];if(null==rt[Ot]&&null!=sr){Rt||(Vt=(Rt=(0,t.Uz)(Oe)).categorical=(0,t.Uz)(ct),jt=Vt.categories=(0,t.Uz)(ht)),gt||(bt=(gt=jt[tr]=(0,t.Uz)(Lt)).values=(0,t.Uz)(rt));var ur=H(sr.min,we,Ze);bt[Ot]=ur,Tt[Ot]||(Zt||(Zt=Ot),Tt[Ot]=[]),Tt[Ot][tr]=(0,U.FT)(ur,we)}}for(var Cr=function(){for(var Pr=jt[Sr],Wr=function(){var zr=Tt[Mr];zr&&(a.Y.assert(()=>zr.length===Pr.identityFields.length,"category values must match category identities"),Pr.identity[Mr]=(0,A.UQ)((0,B.o)(Pr.identityFields,zr)))},Mr=Zt,Tr=_.size(Pr.identity);Mr<Tr;Mr++)Wr()},Sr=0,Dr=_.size(jt);Sr<Dr;Sr++)Cr();return Rt||Oe}(jt,lr.quarterPrefix),jt=function(Oe){var Ze=Oe.table;if(Ze&&1===Ze.columns.length&&Ze.columns[0].isMeasure&&1===Ze.rows.length&&1===Ze.rows[0].length){var ht=Ze.rows[0];return Oe.single={column:Ze.columns[0],value:ht[0]},ht.objects&&(Oe.single.objects=ht.objects[0]),Oe}return Oe}(jt),Rt||(jt=(0,W.b1)(jt,Lt,Ze.applicableRoleMappings,Ze.projectionActiveItems,Er(Ze.drillCapabilities,gt))),fe({dataview:jt,dataViewMappings:Zt,dataRoles:Ze.dataRoles}),jt.metadata&&Ze?.transforms?.isDataFilterApplied&&(jt.metadata.isDataFilterApplied=!0),rt&&jt.metadata&&(rt.drillableRoles&&(jt.metadata.dataRoles||(jt.metadata.dataRoles={}),jt.metadata.dataRoles.drillableRoles=rt.drillableRoles),void 0!==gt&&(jt.metadata.dataRoles||(jt.metadata.dataRoles={}),jt.metadata.dataRoles.isDrillDisabled=gt)),jt}function Zr(Oe,Ze){return a.Y.assertValue(Oe,"prototypeColumn"),a.Y.assertValue(Ze,"select"),Kr(Ze,(0,t.IL)(Oe))}function Kr(Oe,Ze){return Oe.roles&&(Ze.roles=Oe.roles),Oe.type&&(Ze.type=Oe.type),Ze.format=function(Oe,Ze){return Oe.format||Ze.format}(Oe,Ze),Oe.displayName&&(Ze.displayName=Oe.displayName),Oe.queryName&&(Ze.queryName=Oe.queryName),Oe.expr&&(Ze.expr=Oe.expr),Oe.sourceFieldParameters&&(Ze.sourceFieldParameters=Oe.sourceFieldParameters),Oe.kpi&&Oe.kpi.graphic&&(Ze.kpi=Oe.kpi),Oe.sort&&(Ze.sort=Oe.sort),null!=Oe.sortOrder&&(Ze.sortOrder=Oe.sortOrder),Oe.discourageAggregationAcrossGroups&&(Ze.discourageAggregationAcrossGroups=Oe.discourageAggregationAcrossGroups),Oe.parameter&&(Ze.parameter=Oe.parameter),Oe.relatedObjects&&(Ze.relatedObjects=Oe.relatedObjects),Ze}function ea(Oe,Ze,ct){for(var ht of(a.Y.assertValue(Oe,"columns"),a.Y.assertValue(Ze,"selectIdx"),a.Y.assertValue(ct,"select"),Oe))if(ht.index===Ze&&void 0===ht.groupName)return ht;var _t=Zr({displayName:ct.displayName},ct);return Oe.push(_t),_t}function Gr(Oe,Ze,ct,ht,_t){a.Y.assertValue(Ze,"evalContext"),a.Y.assertValue(ct,"selects"),a.Y.assertValue(ht,"type"),a.Y.assertValue(_t,"source");var Rt=ct[_t.index];if(Rt)return Oe.evaluateValue(Ze,Rt.expr,ht)}function Et(Oe,Ze){var ct=_.find(Ze,ht=>ht.from===Oe);if(ct)return ct.to}function It(Oe,Ze,ct){return Oe||(Oe=(0,t.IL)(Ze)),ct&&ct(Oe),Oe}function Xt(Oe,Ze,ct,ht,_t,Rt,Vt){var jt=(0,$e.qM)(Oe);if(_.isEmpty(jt.metadataOnce))return{dataViewObjects:void 0};var Tt,Zt,tr=new de.q(ht,ct);Zt=Rt&&Vt?(0,Wt.K2)(Rt,Vt):(0,nt.b)();var dr=_t?{warnings:[]}:void 0;for(var Lt of jt.metadataOnce){var we=Lt.selector&&Lt.selector.id,rt=Lt.selector?.order;dr&&(dr.selector=Lt.selector);var gt=(0,$e.po)(tr,Zt,Ze,Lt.objects,dr);gt&&(Tt||(Tt={}),(0,tt.rL)(Tt,gt,we,rt))}return dr&&!_.isEmpty(dr.warnings)?{dataViewObjects:Tt,warnings:dr.warnings}:{dataViewObjects:Tt}}function ie(Oe,Ze,ct,ht,_t){if(!Oe.isSubtotal&&Oe.level!==_t-1){var Rt=!1;if(void 0!==Oe.level){if(Oe=(0,t.Uz)(Oe),ht){var jt=ht[Oe.level];Oe.isCollapsed=!!(+!(!jt||!jt.isCollapsed)^+!(!ct||!ct.isToggled))}else Oe.isCollapsed=_.isEmpty(Oe.children)||1===Oe.children.length&&!!Oe.children[0].isSubtotal;Rt=!0}if(!_.isEmpty(Oe.children))for(var Zt=function(){var dr=Oe.children[tr],Lt=dr.identity,we=Lt&&(0,n.BI)(Lt.expr),rt=we&&_.find(ct&&ct.children,bt=>(0,i.m2)(bt.identityValues,we,kt.aI)),gt=ie(dr,Ze,rt,ht,_t);gt&&((Oe=(0,t.Uz)(Oe)).children=(0,t.Uz)(Oe.children),Oe.children[tr]=gt,Rt=!0)},tr=0;tr<Oe.children.length;tr++)Zt();return Rt?Oe:void 0}a.Y.assert(()=>_.isEmpty(Oe.children),"Leaf node with children")}function se(Oe,Ze,ct,ht){if(Oe){var Rt,Vt,_t=Oe.identityValues;if(_.isEmpty(_t)||(Rt=_.map(_t,ht)),!_.isEmpty(Oe.children)){var jt=Oe.children;Vt=new Array(jt.length);var Tt=0;for(var Zt of jt){var tr=se(Zt,Ze,void 0===ct?0:ct+1,ht);Vt[Tt++]=tr}}return{isExpanded:void 0===ct?void 0:!!Ze[ct].isCollapsed==!!Oe.isToggled,values:Rt,children:Vt}}}function or(Oe,Ze){if(Oe&&Ze&&Ze.bind)return Oe[Ze.bind.to]}function rr(Oe,Ze){if(Oe&&Ze&&Ze.for)return Oe[Ze.for.in]}function Gt(Oe,Ze){if(Oe&&Ze&&Ze.group)return Oe[Ze.group.by]}function Er(Oe,Ze){return Ze?[]:Oe?.roles??[]}},933949:function(me,j,e){e.d(j,{zB:function(){return oe},hg:function(){return Me}});var r=e(936744),i=e(785463),a=e(473001),t=e(659956),l=e(269393),g=e(464205),n=e(446024),d=e(251476),s=e(121236),h=e(811880),o=e(169045),v=e(51926),m=e(332055),p=e(401880),y=e(811901),S=e(420987);class u{constructor(be,Ie){if(this.dataView=be,this.featureSwitches=Ie,i.Y.assertValue(be,"dataView"),be){this.columnLeavesPath=(0,y.HU)(be.columns.root),this.hasColumnGrouping=(0,y.qX)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(be.valueSources,Ne=>Ne.queryName),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var ve=be.rows.levels;if(i.Y.assertAnyValue(ve,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(ve))for(var xe=0;xe<ve.length;xe++){var Ee=(0,y.Io)(ve[xe]);this.scopedValueSourcesByLevel[xe]=Ee,Ee&&(this.scopedValuesQueryNamesByLevel[xe]=_.map(Ee,Ne=>Ne.queryName))}}}setAsRowNode(be,Ie=l.v.Full,ve=!1){i.Y.assertNonEmpty(be,"Invalid context: Empty rowPath"),this.rowPath=be,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=Ie,this.isWildcard=ve}setAsColumnNode(be){i.Y.assertNonEmpty(be,"Invalid context: Empty columnPath"),this.columnPath=be,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsIntersection(be,Ie,ve,xe,Ee=!1){i.Y.assertValue(be,"Invalid context: Undefined intersection"),i.Y.assertNonEmpty(Ie,"Intersection context must have a rowPath"),i.Y.assertNonEmpty(ve,"Intersection context must have a columnPath"),i.Y.assert(()=>null!=xe&&xe>=0,"Intersection context must have a valid nodeValueIndex"),i.Y.assertAnyValue(Ee,"By default, FALSE"),this.nodeValue=be,this.rowPath=Ie,this.columnPath=ve,this.nodeValueIndex=xe,this.forHighlight=!!Ee,this.isScopedValue=!1,this.hierarchyMatching=void 0,this.isWildcard=!1}setAsScopedValue(be,Ie,ve,xe=!1){i.Y.assertValue(be,"Invalid context: Undefined intersection"),i.Y.assertNonEmpty(Ie,"Intersection context must have a rowPath"),i.Y.assertAnyValue(xe,"By default, FALSE"),this.nodeValue=be,this.rowPath=Ie,this.columnPath=void 0,this.nodeValueIndex=ve,this.forHighlight=!!xe,this.isScopedValue=!0,this.hierarchyMatching=void 0,this.isWildcard=!1,i.Y.assert(()=>_.isEqual(_.keys(_.last(Ie).nodeValues),["0"]),"Scoped Values are expected to be grouped by Rows only")}getScopedEvalExprValue(be){var Ie=be.decomposeGlobalAggregateOfScopedExpr();if(Ie){var ve=(0,S.BB)(Ie.source,this.getContextValueSources());return ve?(0,S.CX)(ve,Ie.func):void 0}if(be.hasInnerMostScope())return this.getExprValue(be.expression);be.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(be){return i.Y.assertValue(be,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(be):this.rowPath?this.evaluateRowHeader(be):this.columnPath?this.evaluateColumnHeader(be):void i.Y.assertFail("getExprValue - context is empty")}getExprColumn(be){return(0,S.BB)(be,this.getContextValueSources())}findExprValueSourceIndex(be){var Ie=this.getContextValueSources();if(i.Y.assertAnyValue(Ie,"For ScopedValues, DataView may contain cached Data without Value Sources"),!Ie)return-1;var ve=(0,S.BB)(be,Ie);return ve?Ie.indexOf(ve):-1}evaluateMatrixMeasure(be){i.Y.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),i.Y.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var Ie=this.nodeValue.valueSourceIndex||0,ve=this.findExprValueSourceIndex(be);if(!(ve<0)){var xe;if(ve===Ie)xe=this.nodeValue;else{var Ee=ve-Ie+this.nodeValueIndex,Ne=_.last(this.rowPath),ye=this.isScopedValue?(0,y.de)(Ne):Ne.values;if(xe=ye?.[Ee],!xe)return}return this.forHighlight?xe.highlight:xe.value}}evaluateRowHeader(be){i.Y.assert(()=>!this.columnPath,"matrixEvalContext.evaluateRowHeader - context has columnNode"),i.Y.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateRowHeader - context has value");var Ie=this.findExprValueSourceIndex(be);if(!(Ie<0)){var ve=_.last(this.rowPath);if(ve){var Ee,xe=this.isLastLevel(ve.level);if(this.shouldConsiderScopedValues(ve.level))Ee=(0,y.de)(ve);else if(Ee=ve.values,this.featureSwitches.rowHierarchySelector&&this.isWildcard&&!xe&&this.hierarchyMatching===l.v.Partial&&(Ee=void 0,!_.isEmpty(ve.children))){var Ne=ve.children[0],ye=ve.children[ve.children.length-1];Ee=Ne.isSubtotal&&Ne.values||ye.isSubtotal&&ye.values}if(i.Y.assertAnyValue(Ee,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Ee)return Ee[Ie].value}}}evaluateColumnHeader(be){i.Y.assert(()=>!this.rowPath,"matrixEvalContext.evaluateColumnHeader - context has rowNode"),i.Y.assert(()=>!this.nodeValue,"matrixEvalContext.evaluateColumnHeader - context has value"),i.Y.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")}getRoleValues(be){i.Y.assert(()=>!this.columnPath||!this.nodeValue,"getRoleValues returns values for row groupings only"),i.Y.assert(()=>!this.isScopedValue,"getRoleValues is unimplemented for ScopedMeasures");var Ie=_.last(this.rowPath);if(Ie&&!Ie.isSubtotal){for(var ve=this.dataView.valueSources,xe=[],Ee=0,Ne=ve.length;Ee<Ne;Ee++)(0,p.hf)(ve[Ee],be)&&xe.push(Ie.values[Ee].value);if(xe.length>0)return xe}}getDataView(){return this.dataView}getValueSourcesQueryNames(){return this.valueSourcesQueryNames}getScopedValueSourcesQueryNames(be){return this.scopedValuesQueryNamesByLevel[be]}getContextValueSourcesQueryNames(){return this.isScopedValue?(i.Y.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames}getContextValueSources(){if(this.nodeValue)return i.Y.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var be=this.getRowLevelIndex();return this.shouldConsiderScopedValues(be)?this.scopedValueSourcesByLevel[be]:this.dataView.valueSources}i.Y.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")}shouldConsiderScopedValues(be){return(!this.isWildcard||!this.featureSwitches.rowHierarchySelector)&&(this.hasColumnGrouping||!this.isLastLevel(be))}getRowLevelIndex(){return i.Y.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level}isLastLevel(be){return be===this.dataView.rows.levels.length-1}}var E=e(230840);function f(Ae){if(_.isEmpty(Ae))return[];var be=[];for(var Ie of Ae){var ve=[];for(var xe of Ie.sources)xe.identityExprs&&ve.push(...xe.identityExprs||[]);_.isEmpty(ve)||be.push(ve)}return be}function D(Ae,be){for(var Ie=[],ve=Ae.length,xe=0;xe<ve;xe++)if(Ie.push(Ae[xe]),be.matchesKeys(Ie,ve))return!0;return!1}function T(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){if(i.Y.assertAnyValue(ve,"dataViewMatrixHierarchy"),i.Y.assertValue(xe,"objectDescriptors"),i.Y.assertValue(Ne,"selector"),i.Y.assertValue(Ee,"objectDefns"),ve){var fe=ve.root;if(fe){var Se=M(Ae,be,Ie,[fe],xe,Ee,Ne,ye,Xe);if(Se){var qe=(0,a.Uz)(ve);return qe.root=Se,qe}}}}function M(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){i.Y.assertValue(be,"evalContext"),i.Y.assertValue(ve,"nodePath"),i.Y.assertValue(xe,"objectDescriptors"),i.Y.assertValue(Ne,"selectorInfo"),i.Y.assertValue(Ee,"objectDefns");var fe=_.last(ve);return(0,y.d2)(fe)?Ae===h.lM.Row&&(Ne.canMatchScopedValue||Ne.canMatchIntersection)?function(Ae,be,Ie,ve,xe,Ee,Ne,ye){i.Y.assertNonEmpty(Ie,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),i.Y.assert(()=>Ee.canMatchIntersection||Ee.canMatchScopedValue,"Unexpected Selector");var Xe=_.last(Ie),fe=(0,a.Uz)(Xe),Se=Ee.canMatchScopedValue,qe=Ee.selector,Ue=Se?(0,y.de)(Xe):Xe.values,_e=Se?Ae.getScopedValueSourcesQueryNames(Xe.level)||[]:Ae.getValueSourcesQueryNames(),at=Se?_e.length:Ae.columnLeavesPath.length;if(!_.isEmpty(Ue)){Ue=(0,a.Uz)(Ue);for(var ot=!1,mt=function(Bt){var he=Ue[Bt];if(i.Y.assertAnyValue(he,"By-Design, ValueCollection can be sparse"),!he)return 0;var Ke,Qe=Se?void 0:Ae.columnLeavesPath[Bt];if(!function(Ae,be,Ie,ve,xe,Ee){if(be!==Ae.metadata)return!1;var Ne=[],ye=[];for(var Xe of Ie)Xe.identity&&Ne.push(Xe.identity);if(!xe){for(var fe of ve)fe.identity&&Ne.push(fe.identity);_.last(ve).isSubtotal&&ye.push(...N(ve)||[])}return _.last(Ie).isSubtotal&&ye.push(...N(Ie)||[]),_.isEmpty(ye)&&(ye=void 0),Ee.matches(Ne,ye)}(Ee.selector,_e[he.valueSourceIndex||0],Ie,Qe,Se,Ee.selectorComparer))return 0;ye&&(Ke={warnings:ye,selector:qe,targetExpr:(0,g.is)(qe,be)});var tt=de=>{Se?Ae.setAsScopedValue(he,Ie,Bt,de):Ae.setAsIntersection(he,Ie,Qe,Bt,de);var De=(0,m.po)(Ne,Ae,ve,xe,Ke);if(De){var re=(0,a.Uz)(he);de&&!re.highlightObjects?re.highlightObjects={}:!de&&!re.objects&&(re.objects={}),(0,v.rL)(de?re.highlightObjects:re.objects,De,qe.id,qe.order),ot=!0,he=Ue[Bt]=re}},$e=void 0!==he.highlight;switch(qe.highlightMatching){case void 0:case l.Y.ValuesOnly:tt(!1);break;case l.Y.ValuesAndHighlight:tt(!1),$e&&tt(!0);break;case l.Y.HighlightsOrValues:tt(!!$e);break;default:i.Y.assertNever(qe.highlightMatching)}},Nt=0;Nt<at;Nt++)mt(Nt);if(ot)return Se?fe.nodeValues={0:Ue}:fe.values=Ue,fe}}(be,Ie,ve,xe,Ee,Ne,ye,Xe):void 0:function(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){var Ue,fe=Ne.selector,Se=Ne.selectorComparer,qe=be.getDataView();ve[0]===qe.rows.root?Ue=qe.rows:ve[0]===qe.columns.root?Ue=qe.columns:i.Y.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var _e=_.last(ve),at=_e.children;i.Y.assertNonEmpty(at,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var ot=!1,mt=!1,yt=_e.childIdentityFields,Nt=[],Bt=at[0].level;i.Y.assert(()=>0===Bt||Bt<Ue.levels.length,"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var he=qe.valueSources.length>1&&Ue===qe.columns,Qe=he&&Bt===Ue.levels.length-1;if(!_.isEmpty(Ue.levels)){var je=Ue.levels[Bt],Ke=je.sources;if(Qe){Nt=be.getValueSourcesQueryNames();var $e,tt=_.compact(_.map(ve,Kt=>Kt.identity));_e.isSubtotal&&ve.length>1&&($e=ve[ve.length-2].childIdentityFields),ot=null!=Ne.selector.metadata&&_.some(Nt,Kt=>Kt===fe.metadata)&&Se.matches(tt,$e),mt=!1}else if(!_.isEmpty(yt)){Nt=_.map(Ke,Kt=>Kt.queryName);var de=_.map(ve,Kt=>Kt.childIdentityFields);ot=null==fe.metadata&&Se.matchesKeys(de,Ue.levels.length-(he?1:0));var re=(0,y.Io)(je);i.Y.assert(()=>!re||Ue===qe.rows,"Scoped measures on Column nodes are not supported"),mt=re&&null!=fe.metadata&&null!=_.find(re,Kt=>Kt.queryName===fe.metadata),i.Y.assert(()=>!ot||!mt,"A Selector can't match nodes and Scoped measures")}}for(var ce=!1,te=I(_e),Te=0,Fe=at.length;Te<Fe;Te++){var et=!1,vt=at[Te],At=I(vt),st=ve.concat(At),Re=!1;if(ot||mt){Ue===qe.rows?ot&&be.setAsRowNode(st,Ne.selector.hierarchyMatching,Ne.isWildcard):Ue===qe.columns?be.setAsColumnNode(st):i.Y.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var q=[];for(var pe of st)pe.identity&&q.push(pe.identity);var Ve=void 0;_.isEmpty(Nt)||(Ve=Nt[vt.levelSourceIndex||0]);var ke=void 0;if(vt.isSubtotal&&(Qe?ve.length>1&&(ke=ve[ve.length-2].childIdentityFields):ke=yt),(null==fe.metadata||fe.metadata===Ve&&!Ne.isWildcard)&&Se.matches(q,ke)){Re=!0;var ft=void 0;Xe&&(ft={warnings:Xe,selector:fe,targetExpr:(0,g.is)(fe,Ie)});var Pt=(0,m.po)(ye,be,xe,Ee,ft);Pt&&(et=!0,At.objects||(At.objects={}),(0,v.rL)(At.objects,Pt,fe.id,fe.order))}}if(Re&&!Ne.isWildcard||M(Ae,be,Ie,st,xe,Ee,Ne,ye,Xe)&&(et=!0),et&&(ce=!0,te.children[Te]=At,!Ne.containsWildcard))break}if(ce)return te}(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe)}function N(Ae){var be=_.findLast(Ae,Ie=>null!=Ie.childIdentityFields);return be?be.childIdentityFields:[]}function I(Ae){if(Object.getPrototypeOf(Ae)!==Object.prototype)return Ae;var be=(0,a.Uz)(Ae);return Ae.children&&(be.children=(0,a.Uz)(Ae.children)),be}function W(Ae,be){if(!Ae||!be)return[];var Ie=[];for(var ve of be.levels){var xe=[];for(var Ee of ve.sources)Ee.identityExprs&&(0,o.Q)([Ee],Ae)&&xe.push(...Ee.identityExprs||[]);_.isEmpty(xe)||Ie.push(xe)}return Ie}var F=e(168376),U=e(381839),B=e(968462),x=e(392339),A=e(257841),Y=e(46143);function z(Ae,be){return new H(Ae,be)}class H{constructor(be,Ie){this.dataView=be,this.selectTransforms=Ie,i.Y.assertValue(be,"dataView"),i.Y.assertValue(Ie,"selectTransforms")}getExprColumn(be){return(0,S.BB)(be,this.dataView.columns)}getScopedEvalExprValue(be){var Ie=be.decomposeGlobalAggregateOfScopedExpr();if(Ie){var ve=(0,S.BB)(Ie.source,this.dataView.columns);return ve?(0,S.CX)(ve,Ie.func):void 0}if(be.hasInnerMostScope())return this.getExprValue(be.expression);be.hasGlobalScope()?i.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):i.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(be){i.Y.assertValue(be,"expr");var Ie=this.row;if(null!=Ie)return(0,A.hn)(be,this.selectTransforms,this.dataView.columns,Ie)}getRoleValues(be){}setCurrentRow(be){i.Y.assertValue(be,"row"),this.row=be}}function k(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe,fe,Se,qe,Ue){if(i.Y.assertValue(Ae,"evalContext"),i.Y.assertValue(Ie,"columns"),i.Y.assertValue(ve,"rows"),i.Y.assertAnyValue(xe,"identities"),i.Y.assertAnyValue(Ee,"identityFields"),i.Y.assertValue(Ne,"objectDescriptors"),i.Y.assertValue(ye,"selector"),i.Y.assertValue(fe,"objectDefns"),ye.metadata&&!_.isEmpty(ye.data)){var _e=_.findIndex(Ie,tt=>tt.queryName===ye.metadata);if(!(_e<0)&&Se.matchesKeys([Ee],1)){var at;if(_.every(Ie,tt=>tt.isMeasure)){i.Y.assert(()=>_.isEmpty(xe),"table identity mismatch with identityFields"),i.Y.assert(()=>_.isEmpty(Ee),"table identity mismatch with identityFields"),i.Y.assert(()=>1===ve.length,"table without identity has incorrect row count");var ot=Q(Ae,be,Ie,ve[0],Ee,Ne,ye,fe,Se,qe,Ue);ot&&((at=(0,a.Uz)(ve))[0]=ot)}else{if(_.some(ye.data,tt=>(0,g.z2)(tt)&&tt.matchingOption===Y._.TotalsOnly))return;i.Y.assert(()=>ve.length===xe.length,"row length mismatch");for(var mt=Ie.length,yt=0,Nt=xe.length;yt<Nt;yt++)if(Xe||Se.matches([xe[yt]])){Ae.setCurrentRow(ve[yt]);var he=void 0;Ue&&(he={warnings:Ue,selector:ye,targetExpr:(0,g.is)(ye,be)});var Qe=(0,m.po)(qe,Ae,Ne,fe,he);if(Qe){at||(at=(0,a.Uz)(ve));var je=at[yt]=(0,a.Uz)(at[yt]),Ke=je.objects;Ke||(je.objects=Ke=new Array(mt)),Ke[_e]||(Ke[_e]={}),(0,v.rL)(Ke[_e],Qe,ye.id,ye.order)}if(!Xe)break}}return at}}}function K(Ae,be){return(0,g.zP)(be)&&(be=(0,o.G)(be,Ie=>function(Ae,be){if(!Ae)return[];var Ie=[];for(var ve of be.columns)ve.identityExprs&&(0,o.Q)([ve],Ae)&&Ie.push([...ve.identityExprs||[]]);return Ie}(Ie,Ae))),be}function Q(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe,fe,Se){i.Y.assertValue(Ae,"evalContext"),i.Y.assertValue(Ie,"columns"),i.Y.assertValue(ve,"row"),i.Y.assertValue(Ee,"objectDescriptors"),i.Y.assertValue(Ne,"selector"),i.Y.assertValue(ye,"objectDefns");var qe=_.isEmpty(xe)?void 0:xe;if(Ne.metadata&&Xe.matches([],qe)){var Ue=_.findIndex(Ie,Nt=>Nt.queryName===Ne.metadata);if(!(Ue<0)){var at,ot,_e=Ie.length;Ae.setCurrentRow(ve),Se&&(ot={warnings:Se,selector:Ne,targetExpr:(0,g.is)(Ne,be)});var mt=(0,m.po)(fe,Ae,Ee,ye,ot);if(mt){var yt=(at=(0,a.Uz)(ve)).objects;yt||(at.objects=yt=new Array(_e)),yt[Ue]||(yt[Ue]={}),(0,v.rL)(yt[Ue],mt)}return at}}}var J=e(468291),X=e(118307),ne=e(290192);class ae extends ne.b{constructor(be,Ie){i.Y.assertValue(be,"inputRole"),i.Y.assertValue(Ie,"allocator"),super(),this.inputRole=be,this.allocator=Ie}evaluate(be){i.Y.assertValue(be,"evalContext");var Ie=be.getRoleValues(this.inputRole);i.Y.assert(()=>_.size(Ie)<=1,"Color Rule Evaluation can run with only one value");var ve=_.head(Ie);if(void 0!==ve)return this.allocator.color(ve)}}function oe(Ae=[],be,Ie){var ve=Ae;return(0,s.lr)(ve),be&&(ve.identityFields=be),Ie&&(ve.source=Ie),ve}function Me(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){if(i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(be,"targetDataViewKinds"),i.Y.assertAnyValue(Ie,"objectDescriptors"),i.Y.assertAnyValue(ve,"objectDefinitions"),i.Y.assertAnyValue(xe,"selectTransforms"),Ie){var fe=function(Ae,be,Ie,ve,xe){i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertAnyValue(ve,"prototype");var Ee=(0,U.U9)(Ie);if(Ee&&Ae.metadata&&!_.isEmpty(Ae.metadata.columns)){var ye,Ne=!1,Xe=function(){var Se=fe.queryName,qe=_.find(be,he=>he?.queryName===Se);if((!qe||!qe.ignoreDynamicFormat)&&fe.formatSource&&!fe?.aggregates?.single){Ne||(ye=ve?(0,a.Uz)(ve):{},Ne=!0);var _e={metadata:fe.queryName,data:[X.vt()],highlightMatching:l.Y.ValuesAndHighlight},at=(0,n.o4)(Se,J.Zw.FormatString);if((0,F.KY)(ye,Ee,_e,at),xe?.cardReferenceLabels&&fe.relatedObjects)for(var ot of Object.keys(fe.relatedObjects)){var mt=fe.relatedObjects[ot];for(var yt of Object.keys(mt)){var Nt=(0,U.D0)(Ie,{objectName:ot,propertyName:yt});if(Nt?.formatStringProperty)for(var Bt of mt[yt])(0,F.KY)(ye,Nt.formatStringProperty,Bt,at)}}}};for(var fe of Ae.metadata.columns)Xe();return ye}}(Ae,xe,Ie,ve,Ne);fe&&(ve=fe);var Se=(0,m.qM)(ve);(0,m.zJ)(Se,Ie,Ae.metadata.columns,xe);var qe=Se.metadataOnce,Ue=Se.data;qe&&function(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){i.Y.assertValue(Ae,"dataView"),i.Y.assertAnyValue(be,"selectTransforms"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertValue(ve,"objectDefnsForSelector"),i.Y.assertValue(xe,"dataObjects"),i.Y.assertValue(Ee,"targetDataViewKinds");var fe=new B.q(ye,Ne);for(var Se of ve){var qe=Se.selector&&Se.selector.id,Ue=Se.selector?.order,_e=Se.objects;i.Y.assertValue(!_.isEmpty(_e),"objectDefns");var at=(0,A.K2)(Ae,be),ot=void 0;Xe&&(ot={warnings:Xe,selector:Se.selector,targetExpr:(0,g.is)(Se.selector,be)});var mt=(0,m.po)(fe,at,Ie,_e,ot);if(mt){var yt=Ae.metadata.objects;for(var Nt in yt||(yt=Ae.metadata.objects={}),(0,v.rL)(yt,mt,qe,Ue),mt){var Bt=mt[Nt],he=Ie[Nt];for(var Qe in Bt){var je=he.properties[Qe],Ke=je.rule;if(Ke){var tt=ut(Ae,Ke,Nt,Bt[Qe],je.type);_.isEmpty(tt)||xe.push(...tt||[])}}}}}}(Ae,xe,Ie,qe,Ue,be,Ee,Ne,ye);var _e=Se.metadata;_.isEmpty(_e)||function(Ae,be,Ie,ve,xe,Ee,Ne){i.Y.assertValue(Ae,"dataView"),i.Y.assertAnyValue(be,"selectTransforms"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertValue(ve,"objectDefnsForSelector");var ye=new B.q(Ee,xe);for(var Xe of ve){var fe=Xe.selector,Se=Xe.objects;i.Y.assertValue(fe,"selector"),i.Y.assertValue(Se,"objectDefns");for(var qe=Ae.metadata.columns,Ue=fe.metadata,_e=(0,A.K2)(Ae,be),at=0,ot=qe.length;at<ot;at++){var mt=qe[at];if(mt.queryName===Ue){var yt=void 0;Ne&&(yt={warnings:Ne,selector:fe,targetExpr:(0,g.is)(fe,be)});var Nt=(0,m.po)(ye,_e,Ie,Se,yt);Nt&&(mt.objects||(mt.objects={}),(0,v.rL)(mt.objects,Nt,fe.id,fe.order))}}}}(Ae,xe,Ie,_e,Ee,Ne,ye),_.isEmpty(Ue)||function(Ae,be,Ie,ve,xe,Ee,Ne,ye,Xe){i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(be,"targetDataViewKinds"),i.Y.assertAnyValue(Ie,"selectTransforms"),i.Y.assertValue(ve,"objectDescriptors"),i.Y.assertValue(xe,"dataViewObjectDefnsForSelector"),i.Y.assertValue(Ee,"DataViewTransform.evaluateDataRepetition - visualStyle");var fe=new B.q(ye,Ee);Ae.categorical&&(0,t.Lt)(be,r.k.Categorical)&&(0,s.eF)(Ae.categorical,Ie,ve,xe,Ne,fe,Xe&&{warnings:Xe},ye);var qe=Ae.matrix;if(qe&&(0,t.Lt)(be,r.k.Matrix)){var Ue=function(Ae,be,Ie,ve,xe,Ee,Ne,ye){i.Y.assertValue(Ae,"dataViewMatrix"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertValue(ve,"objectDefnsForSelector");var Xe=Ae.valueSources,fe=Xe.length,Se=function(Ae,be){return new u(Ae,be)}(Ae,Ee),qe=Ae.rows.levels;i.Y.assertAnyValue(qe,"A Matrix with no Row groupings has empty Row levels");var Ue=f(qe),_e=f(Ae.columns.levels),at=[];at.push(...Ue||[]),at.push(..._e||[]);var ot=!1,mt=(0,a.Uz)(Ae),yt=function(){i.Y.assertValue(Nt.selector,"selector"),i.Y.assertAnyValue(Nt.rules,"rules");var Bt=Nt.objects;i.Y.assertValue(Bt,"objectDefns");var ce,te,he=function(Ae,be){return(0,g.zP)(be)&&(be=(0,o.G)(be,Ie=>function(Ae,be){if(be){var Ie=[];return Ie.push(...W(Ae,be.rows)||[]),Ie.push(...W(Ae,be.columns)||[]),Ie}}(Ie,Ae))),be}(Ae,Nt.selector),Qe=(0,E.b)(he,xe),je=(0,g.Ac)(he),Ke=(0,g.EU)(he),tt=null==he.metadata&&D(Ue,Qe),$e=function(Ae,be,Ie,ve){if(i.Y.assertAnyValue(Ae,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(Ae)||(i.Y.assertValue(Ie,"selectorComparer"),i.Y.assertAnyValue(ve,"selectorMetadata"),i.Y.assert(()=>Ae.length===be.length,"levels identity keys mismatch"),!ve))return!1;for(var xe=0;xe<Ae.length;xe++)if(Ie.matchesKeys(_.take(be,xe+1),xe+1)){var Ee=(0,y.Io)(Ae[xe]);if(!_.isEmpty(Ee)&&_.find(Ee,Ne=>Ne.queryName===ve))return!0}return!1}(qe,Ue,Qe,he.metadata),de=(fe>1||fe<=1&&null==he.metadata)&&D(_e,Qe),De=null!=he.metadata&&fe>0&&_.some(Xe,Te=>Te.queryName===he.metadata)&&Qe.matchesKeys(at,at.length),re={selector:he,selectorComparer:Qe,containsWildcard:je,isWildcard:Ke,canMatchColumnNode:de,canMatchRowNode:tt,canMatchIntersection:De,canMatchScopedValue:$e};de&&(te=T(h.lM.Column,Se,be,mt.columns,Ie,Bt,re,Ne,ye)),(De||$e||tt)&&(ce=T(h.lM.Row,Se,be,mt.rows,Ie,Bt,re,Ne,ye)),(ce||te)&&(ot=!0,ce&&(mt.rows=ce),te&&(mt.columns=te))};for(var Nt of ve)yt();if(ot)return mt}(qe,Ie,ve,xe,Ne,ye,fe,Xe);Ue&&(Ae.matrix=Ue)}var _e=Ae.table;if(_e&&(0,t.Lt)(be,r.k.Table)){var at=function(Ae,be,Ie,ve,xe,Ee,Ne){i.Y.assertValue(Ae,"dataViewTable"),i.Y.assertAnyValue(be,"selectTransforms"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertValue(ve,"objectDefnsForSelector");var ye=!1;for(var Xe of ve){var fe=Xe.selector,Se=Xe.objects;i.Y.assertValue(fe,"selector"),i.Y.assertValue(Se,"objectDefns");var qe=(0,g.Ac)(fe);fe=K(Ae,fe);var Ue=(0,E.b)(fe,xe),_e=z(Ae,be),at=void 0;_.isEmpty(Ae.rows)||(at=k(_e,be,Ae.columns,Ae.rows,Ae.identity,Ae.identityFields,Ie,fe,qe,Se,Ue,Ee,Ne));var ot=void 0;Ae.totals&&(ot=Q(_e,be,Ae.columns,Ae.totals,Ae.identityFields,Ie,fe,Se,Ue,Ee,Ne)),(at||ot)&&(ye=!0,Ae=(0,a.Uz)(Ae),at&&(Ae.rows=at),ot&&(Ae.totals=ot))}if(ye)return Ae}(_e,Ie,ve,xe,Ne,fe,Xe);at&&(Ae.table=at)}var ot=Ae.single;if(i.Y.assert(()=>!ot||!!ot&&!!_e,"DataViewTable should be always present with DataViewSingle"),ot&&_e&&(0,t.Lt)(be,r.k.Single)){var mt=function(Ae,be,Ie,ve,xe,Ee,Ne){i.Y.assertValue(Ae,"dataView"),i.Y.assertAnyValue(be,"selectTransforms"),i.Y.assertValue(Ie,"objectDescriptors"),i.Y.assertValue(ve,"objectDefnsForSelector");var ye,Xe=(0,A.K2)(Ae,be);for(var fe of ve){var Se=fe.selector,qe=fe.objects,Ue=(0,E.b)(Se,xe);if(i.Y.assertValue(Se,"selector"),i.Y.assertValue(qe,"objectDefns"),Se.metadata===Ae.single.column.queryName&&Ue.matches([])){var _e=void 0;Ne&&(_e={warnings:Ne,selector:Se,targetExpr:(0,g.is)(Se,be)});var at=(0,m.po)(Ee,Xe,Ie,qe,_e);at&&(ye||(ye=(0,a.Uz)(Ae.single)),ye.objects||(ye.objects={}),(0,v.rL)(ye.objects,at,Se.id,Se.order))}}return ye}(Ae,Ie,ve,xe,Ne,fe,Xe);mt&&(Ae.single=mt)}Ae.metadata.objectsRules=fe.getObjectsRules()}(Ae,be,xe,Ie,Ue,Ee,Xe,Ne,ye)}}function ut(Ae,be,Ie,ve,xe){i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(be,"ruleDesc"),i.Y.assertValue(ve,"propertyValue"),i.Y.assertValue(xe,"ruleType");var Ee=be.output;if(Ee){var Ne=function(Ae){return i.Y.assertValue(Ae,"selectorRoles"),[{data:[(0,x.WV)(Ae)]}]}(Ee.selector);if(xe.fillRule)return function(Ae,be,Ie,ve,xe){i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(be,"ruleDesc"),i.Y.assertValue(Ie,"selectorsToCreate"),i.Y.assertValue(xe,"propertyValue");var Ee=function(Ae,be,Ie){i.Y.assertValue(Ae,"dataView"),i.Y.assertValue(be,"identifier"),i.Y.assertValue(Ie,"identifierKind");var ve=Ae.metadata.columns;switch(Ie){case h.iB.Role:return _.find(ve,xe=>xe.roles&&xe.roles[be]);case h.iB.QueryName:return _.find(ve,xe=>xe.queryName===be&&void 0===xe.groupName);default:i.Y.assertNever(Ie)}}(Ae,be.inputRole,h.iB.Role);if(Ee){var Ne=(0,d.r)().fromFillRule(xe,Ee);if(Ne){var ye=new ae(be.inputRole,Ne),Xe={};Xe[be.output.property]={solid:{color:ye}};for(var fe=[],Se=0,qe=Ie.length;Se<qe;Se++)fe.push({selector:Ie[Se],rules:[ye],objects:[{name:ve,properties:Xe}]});return fe}}}(Ae,be,Ne,Ie,ve)}}},118307:function(me,j,e){e.d(j,{aI:function(){return g},cK:function(){return n},vt:function(){return d}});var r=e(785463),i=e(795169),a=e(974255),t=e(121153),l=e(46143);function g(h,o){return!h&&!o||!(!h||!o)&&(r.Y.assertValue(h,"x"),r.Y.assertValue(o,"y"),h===o||h.matchingOption===o.matchingOption)}function n(h,o){switch(r.Y.assertValue(h,"DataViewWildcard.matches - wildcard"),h.matchingOption){case l._.InstancesAndTotals:return!0;case l._.InstancesOnly:return!o;case l._.TotalsOnly:return o;default:r.Y.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function d(h){return null==h&&(h=l._.InstancesAndTotals),new s(h)}class s{constructor(o){this.kind=t.y.Wildcard,r.Y.assertValue(o,"matchingOption"),this._matchingOption=o,this._key=new i.d(()=>JSON.stringify(this._matchingOption))}get matchingOption(){return this._matchingOption}get key(){return this._key.getValue()}}(0,a.d)(s.prototype)},811880:function(me,j,e){e.d(j,{Mr:function(){return a},iB:function(){return r},lM:function(){return i}});var r=function(t){return t[t.QueryName=0]="QueryName",t[t.Role=1]="Role",t}({}),i=function(t){return t.Row="Rows",t.Column="Columns",t}({}),a=function(t){return t[t.InvalidValue=0]="InvalidValue",t[t.InvalidType=1]="InvalidType",t[t.MissingReference=2]="MissingReference",t[t.UndefinedStylePreset=3]="UndefinedStylePreset",t}({})},417647:function(me,j,e){function r(){var i=a=>{};return{getExprValue:i,getExprColumn:i,getScopedEvalExprValue:i,getRoleValues:i}}e.d(j,{b:function(){return r}})},290192:function(me,j,e){e.d(j,{b:function(){return i}});var r=e(785463);class i{evaluate(t){r.Y.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")}}},257841:function(me,j,e){e.d(j,{K2:function(){return n},hn:function(){return s}});var r=e(662785),i=e(460169),a=e(785463),t=e(468291),l=e(525253),g=e(420987);function n(m,p){return new d(m,p)}class d{constructor(p,y){this.dataView=p,this.selectTransforms=y,a.Y.assertValue(p,"dataView"),a.Y.assertAnyValue(y,"selectTransforms")}getExprColumn(p){var y=(0,l.dD)(p,this.selectTransforms);if(!(y<0))return _.find(this.dataView.metadata.columns,S=>S.index===y)}getScopedEvalExprValue(p){var y=p.decomposeGlobalAggregateOfScopedExpr();if(y){var S=(0,g.BB)(y.source,this.dataView.metadata.columns);return S?(0,g.CX)(S,y.func):void 0}if(p.hasGlobalScope())return this.getExprValue(p.expression);p.hasInnerMostScope()?a.Y.assertFail("Attempt to evaluate a scoped expression within the Global scope"):a.Y.assertFail("Evaluation of Partial-Scope expressions is not supported")}getExprValue(p){var y=this.dataView,S=this.selectTransforms;if(y&&S){if((0,r.b9)(p)||(0,r.Wx)(p)||(0,r.tx)(p)||(0,r.uD)(p)||(0,r.Gv)(p)){var C=function(m,p,y){a.Y.assertValue(m,"expr"),a.Y.assertValue(p,"selectTransforms"),a.Y.assertValue(y,"columns");var S,C=-1,u=m;do{if((C=null==u?-1:(0,l.dD)(u,p,C+1))<0)break;if(S=_.find(y,c=>c.index===C&&c.aggregates&&void 0!==c.aggregates.single))return S.aggregates.single;(0,r.Gv)(u)&&a.Y.assertValue(u=p[C].expr,"Select that matches selectRef points to a null field.")}while(C<p.length);if((0,r.b9)(m)||(0,r.Wx)(m)){var E=m.arg;if((0,r.tZ)(E)&&E.hasInnerMostScope()?C=(0,l.dD)(E.expression,p):((0,r.Gv)(E)||(0,r.tx)(E)||(0,r.b9)(E)||(0,r.mQ)(E))&&(C=(0,l.dD)(E,p)),!(C<0)&&(S=_.find(y,c=>c.index===C&&c.aggregates)))return function(m,p){if(a.Y.assertValue(m,"aggregates"),a.Y.assertValue(p,"expr"),(0,r.Wx)(p)){var y=_.find(m.percentiles,S=>S.k===p.k&&p.exclusive===!!S.exclusive);if(y)return y.value}else if((0,r.b9)(p))switch(a.Y.assertValue(p.func,"func"),p.func){case i.Sn.Min:return m.min??m.minLocal;case i.Sn.Max:return m.max??m.maxLocal;case i.Sn.Median:return m.median;case i.Sn.Avg:return m.average}a.Y.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(S.aggregates,m)}}(p,S,y.metadata.columns);if(void 0!==C)return C}if(y.table)return _.isEmpty(y.table.columns)||_.isEmpty(y.table.rows)||!_.isEmpty(y.table.identityFields)?void 0:(a.Y.assert(()=>1===y.table.rows.length,"A data view with no identity fields should have a single row"),s(p,S,y.table.columns,y.table.rows[0]));if(y.categorical&&!_.isEmpty(y.metadata.columns)&&!_.isEmpty(y.categorical.values))return function(m,p,y){a.Y.assertValue(m,"expr"),a.Y.assertValue(p,"selectTransforms"),a.Y.assertValue(y,"categorical");var S=y.values;if(a.Y.assertValue(S,"categorical.values"),1===S.grouped().length&&!y.categories){var C=(0,l.dD)(m,p);if(!(C<0)){var u=_.findIndex(S,c=>c.source.index===C);if(-1!==u){var E=S[u].values;if(E&&1===E.length)return E[0]}}}}(p,S,y.categorical);y.matrix||y.tree||a.Y.assert(()=>_.isEqual(Object.getOwnPropertyNames(y),["metadata"]),"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}}getRoleValues(p){}}function s(m,p,y,S){if(a.Y.assertValue(m,"expr"),a.Y.assertValue(p,"selectTransforms"),a.Y.assertNonEmpty(y,"tableColumns"),a.Y.assertValue(S,"tableRow"),1===S.length&&null===S[0])return null;var C=(0,l.dD)(m,p);if(!(C<0)){var u=_.findIndex(y,f=>f.index===C);if(!(u<0)){if((0,r.Gv)(m)&&m.attributeKind===t.Zw.FormatString){var E=y[u];if((u=y.indexOf(E.formatSource&&E.formatSource.formatString))<0)return}return a.Y.assert(()=>u in S,"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),S[u]}}}},899846:function(me,j,e){e.d(j,{Ol:function(){return v},aM:function(){return m},jG:function(){return y},oi:function(){return f},wc:function(){return p}});var r=e(785463),i=e(190846),a=e(507345),t=e(928912),l=e(759520),g=e(574324),n=e(75366),d=e(51926),s=e(47917),h=e(168376),o="png";function v(M){if(r.Y.assertAnyValue(M,"dataViewMappings"),M&&1===M.length&&M[0])return M[0].scriptResult}function m(M){r.Y.assertAnyValue(M,"dataViewMappings");var V=v(M);if(V)return function(M,V){if(M&&M.script&&M.script.source&&M.script.provider&&V)return E((0,d._W)(V,M.script.source),(0,d._W)(V,M.script.provider),M.script.scriptOutputType)}(V,M[0].metadata&&M[0].metadata.objects)}function p(M,V){if(r.Y.assertAnyValue(M,"dataViewMappings"),r.Y.assertAnyValue(V,"objects"),V){var w=v(M);if(w&&w.script&&w.script.source&&w.script.provider){var P=(0,h._W)(V,w.script.source,null),N=(0,h._W)(V,w.script.provider,null);return E(P?P.value:null,N?N.value:null,w.script.scriptOutputType)}}}function y(M){return r.Y.assertAnyValue(M,"dataViewMappings"),function(M){return u(M&&M.script)}(v(M))}function u(M){if(r.Y.assertAnyValue(M,"scriptMapping"),M)return E(M.scriptSourceDefault,M.scriptProviderDefault,M.scriptOutputType)}function E(M,V,w){if(!(0,a.M)(M)&&!(0,a.M)(V))return{source:M,provider:V,outputType:w||o}}function f(M,V,w,P,N){r.Y.assertAnyValue(M,"projections"),r.Y.assertAnyValue(V,"selects"),r.Y.assertAnyValue(w,"schema"),r.Y.assertAnyValue(P,"scriptDefinition");var I=!!u(P),O={VariableName:"dataset",Columns:[],Parameters:[]};if(M&&V&&!_.isEmpty(V)){var R=[],W=[];for(var F in M)for(var U of M[F].all()){var B=V.withName(U.queryRef);if(B){var x={QueryName:B.name},A=(0,l.YR)((0,g.F)(B.expr),new T(w));I&&(x.Role=F,A=F+"."+A),W.push(x),R.push(A)}}R=(0,t.Yh)(R);for(var L=0;L<R.length;L++)W[L].Name=R[L];O.Columns=W}return O.Parameters=function(M,V){var w=[];if(V)for(var P in V){var N=(0,d.iM)(V,P);if(N)for(var I in N){var O=b(M,N,P,I);O&&w.push({ObjectName:P,PropertyName:I,Value:O})}}return w}(P,N),O}function b(M,V,w,P){if(!(M&&M.source&&M.source.objectName===w&&M.source.propertyName===P||M&&M.provider&&M.provider.objectName===w&&M.provider.propertyName===P)){var N=(0,s.a)(V,P);if(N)return(0,n.Qq)(N);var I=(0,s._)(V,P);if(null!=I)switch(typeof I){case"string":return(0,n.Qq)(I);case"number":var O=I;return(0,i.Fq)(O)?(0,n.nd)(O):(0,n.gd)(O);case"boolean":return(0,n.zM)(I)}}}class T{constructor(V){this.federatedSchema=V}visitNativeVisualCalc(V){}visitColumn(V){return T.getNameForProperty(V,this.federatedSchema)}visitColumnAggr(V){return T.getNameForProperty(V,this.federatedSchema)}visitGroupingColumn(V){return T.getNameForProperty(V,this.federatedSchema)}visitGroupingColumnAggr(V){return T.getNameForProperty(V,this.federatedSchema)}visitColumnHierarchyVariation(V){return T.getVariationHierarchyName(V,this.federatedSchema)}visitColumnHierarchyLevelVariation(V){return T.getVariationLevelName(V,this.federatedSchema)}visitColumnSubquery(V){}visitColumnAggrSubquery(V){}visitColumnTransformRef(V){}visitEntity(V){return V.entity}visitEntityAggr(V){return V.entity}visitHierarchy(V){return T.getNameForHierarchy(V,this.federatedSchema)}visitHierarchyLevel(V){return T.getNameForHierarchyLevel(V,this.federatedSchema)}visitHierarchyLevelAggr(V){return T.getNameForProperty(V,this.federatedSchema)}visitMeasure(V){return T.getNameForProperty(V,this.federatedSchema)}visitSelectRef(V){return(0,l.YR)(V,this)}visitPercentile(V){return(0,l.YR)(V.arg,this)}visitPercentOfGrandTotal(V){return(0,l.YR)(V.baseExpr,this)}visitPercentOfRoleTotal(V){return(0,l.YR)(V.baseExpr,this)}visitTransformOutputRoleRef(V){return(0,l.YR)(V,this)}visitFilteredEval(V){return(0,l.YR)(V,this)}visitArithmetic(V){}visitConstant(V){r.Y.assertFail("ScriptResultUtil - Not expecting to be called")}visitSparklineData(V){}static getNameForHierarchy(V,w){r.Y.assertValue(V,"pattern");var N=w.schema(V.schema).findHierarchy(V.entity,V.name);if(N)return N.name}static getNameForHierarchyLevel(V,w){r.Y.assertValue(V,"pattern");var N=w.schema(V.schema).findHierarchyLevel(V.entity,V.name,V.level);if(N)return N.column.name}static getNameForProperty(V,w){r.Y.assertValue(V,"pattern");var N=w.schema(V.schema).findProperty(V.entity,V.name);if(N)return N.name}static getVariationHierarchyName(V,w){r.Y.assertValue(V,"pattern"),r.Y.assertValue(w,"federatedSchema");var P=V.source,N=w.schema(P.schema).findProperty(P.entity,P.name);if(N){var I=N.column.variations;for(var O of I)if(O.name===V.variationName&&V.hierarchy.name===O.defaultHierarchy.name)return V.hierarchy.name}}static getVariationLevelName(V,w){r.Y.assertValue(V,"pattern");var P=V.source,N=w.schema(P.schema).findProperty(P.entity,P.name);if(N){var I=N.column.variations;for(var O of I)if(O.name===V.variationName)for(var R of O.defaultHierarchy.levels)if(R.name===V.level.level)return R.column.name}}}},230840:function(me,j,e){e.d(j,{b:function(){return o}});var r=e(978450),i=e(935236),a=e(785463),t=e(464205),l=e(42630),g=e(289239),n=e(101903),d=e(815863),s=e(118307),h=e(269393);function o(p,y){return y?new v(p):new m(p)}class v{constructor(y){if(a.Y.assertValue(y,"selector"),a.Y.assertValue(y.data,"selector.data"),this.dataParts=y.data,(0,t.EU)(y))return this.isWildcard=!0,void(this.hierarchyMatching=y.hierarchyMatching);var S=_.last(y.data);this.totalIdentity=(0,t.pB)(S)?S:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,y.data.length-1)),this.selectorDataExprs=v.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,C=>C.key),this.totalIdentity&&this.keys.push(...this.totalIdentity.exprs||[])}matches(y,S){if(this.isWildcard)return(0,s.cK)(this.dataParts[0],!_.isEmpty(S));if(y.length!==this.dataParts.length||_.isEmpty(S)&&this.totalIdentity||!_.isEmpty(S)&&!this.totalIdentity||this.totalIdentity&&!(0,i.RD)(this.totalIdentity.exprs,S,r.aI))return!1;if(_.isEmpty(y)&&_.isEmpty(this.dataParts))return!0;var C=v.flattenDataParts(y);return!_.isEmpty(C)&&(0,i.RD)(this.selectorDataExprs,C,v.isDataExprsMatch)}matchesKeys(y,S){if(this.isWildcard)return y.length===S||this.hierarchyMatching===h.v.Partial;var C=_.flatten(y);return 0!==this.keys.length&&0!==C.length&&this.keys.length===C.length&&(0,i.RD)(C,this.keys,r.aI)}static flattenDataParts(y){var S=[];for(var C of y)if((0,t.fF)(C)){var u=new l.Rq;C.expr.accept(u);for(var E=0;E<u.pairs.length;E++)S.push({value:u.values[E],key:u.keys[E]})}else if((0,t.rh)(C))for(var c of C.exprs)S.push({key:c});else{if(!(0,t.pB)(C))return a.Y.assertFail("unexpected Selector data item kind: "+C.kind.toString()),[];a.Y.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}return S}static isDataExprsMatch(y,S){return a.Y.assert(()=>null!=y.value||null!=S.value,"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),y.value&&S.value?(0,r.aI)(y.key,S.key)&&(0,r.aI)(y.value,S.value):(0,r.aI)(y.key,S.key)}}class m{constructor(y){if(this.selector=y,a.Y.assertValue(this.selector,"selector"),a.Y.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,t.EU)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var S of this.dataParts){var C=m.getDataRepetitionIdentityKeys(S);if(!C){this.keys=[];break}this.keys.push(...C)}}matches(y,S){a.Y.assertValue(y,"identities");var C=this.dataParts,u=C.length,E=y.length,c=!_.isEmpty(S);if(c&&E++,this.isWildcard)return(0,s.cK)(C[0],c);if(u!==E)return!1;for(var f=0,D=y.length;f<D;f++){var b=C[f],T=y[f];if((0,t.jG)(b))return a.Y.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,t.fF)(b)){if(!(0,g.aI)(b,T))return!1}else{if(!(0,t.rh)(b))return(0,t.pB)(b)?(_.isEmpty(S)||a.Y.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(a.Y.assertFail("unexpected Selector data item kind: "+b.kind.toString()),!1);if(!(0,d.cK)(b,T))return!1}}if(!_.isEmpty(S)){var M=_.last(C);return(0,t.pB)(M)&&(0,n.cK)(M,S)}return!0}matchesKeys(y,S){if(a.Y.assertValue(y,"keysList"),a.Y.assert(()=>y.length<=S,"expected keysList to be within the hierarchy levels"),this.isWildcard)return y.length===S||this.selector.hierarchyMatching===h.v.Partial;var C=_.flatten(y),u=this.keys.length;if(0===u||0===C.length||u!==C.length)return!1;for(var E=0;E<u;E++)if(!(0,r.aI)(C[E],this.keys[E]))return!1;return!0}static getDataRepetitionIdentityKeys(y){return(0,t.fF)(y)?(0,l.xD)(y.expr):(0,t.rh)(y)||(0,t.pB)(y)?y.exprs:void((0,t.jG)(y)?a.Y.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,t.z2)(y)?a.Y.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):a.Y.assertNever(y))}}},482478:function(me,j,e){e.d(j,{QW:function(){return t},o0:function(){return a},sN:function(){return l}});var r=e(785463),i=e(473001);function a(g){return r.Y.assertValue(g,"categories"),!_.isEmpty(g)&&g[0].objects}function t(g,n){if(r.Y.assertValue(g,"prototypeCategories"),r.Y.assertValue(n,"objects"),!_.isEmpty(g)){var d=(0,i.Uz)(g);return(d[0]=(0,i.Uz)(d[0])).objects=n,d}}function l(g){r.Y.assertValue(g,"dataViewCategorical");var n=_.isEmpty(g.categories)?_.isEmpty(g.values)?0:g.values[0].values.length:g.categories[0].values.length;return r.Y.assert(()=>_.every(g.categories,d=>d.values.length===n),"Invariant: every category column is expected to have the same number of values."),r.Y.assert(()=>_.every(g.categories,d=>d.identity.length===n),"Invariant: every category column is expected to have the same number of identities as there are values."),r.Y.assert(()=>_.every(g.values,d=>d.values.length===n),"Invariant: every value column is expected to have the same number of values."),n}},941507:function(me,j,e){e.d(j,{AU:function(){return t},LE:function(){return g},ZX:function(){return n},je:function(){return a},pi:function(){return d}});var r=e(702087),i=e(376944);function a(s){if(_.isEmpty(s))return!1;for(var h of s)if(h.matrix&&h.matrix.rows&&void 0!==h.matrix.rows.values)return!0;return!1}function t(s){if(_.isEmpty(s))return!1;var h=s.filter(T=>void 0!==T.categorical&&void 0!==T.categorical.categories);if(_.isEmpty(h))return!1;for(var o=0;o<h.length;o++){var v=h[o],m=v.conditions;if(!_.isEmpty(m))for(var p=o+1;p<h.length;p++){var y=h[p];if(_.isEqual(v.categorical.categories,y.categorical.categories)&&!_.isEqual(v.categorical.values,y.categorical.values)){var S=y.conditions;if(_.isEmpty(S))return!0;var C=l(m),u=l(S),E=Object.keys(C),c=Object.keys(u);if(E.length!==c.length||!_.isEqual(E,c))return!0;for(var f of E)if(!_.isEqual(C[f],u[f]))return!0}}}return!1}function l(s){var h={};for(var o of s)for(var v in o)h[v]||(h[v]=o[v]);return h}function g(s,h){if(_.isEmpty(s))return!1;var o=s.map(c=>c.matrix).filter(c=>void 0!==c);if(_.isEmpty(o)||_.isEmpty(h))return!1;var v=new Set,m=new Set;for(var p of o){var y=p.rows?r.e1.fromMatrixRows(p.rows):[],S=p.columns?r.e1.fromMatrixColumns(p.columns):[];for(var C of y)v.add(C);for(var u of S)m.add(u)}for(var E of h)if(v.has(E)&&m.has(E))return!0;return!1}function n(s){if(_.isEmpty(s))return!1;var h=s.filter(m=>!(0,i.ES)(m)),o=h.some(m=>void 0!==m.categorical),v=h.some(m=>void 0!==m.matrix);return o&&v}function d(s,h){if(_.isEmpty(s))return!1;var o=s.map(f=>f.categorical).filter(f=>void 0!==f);if(_.isEmpty(o)||_.isEmpty(h))return!1;var v=new Set,m=new Set;for(var p of o){var y=p.categories?r.e1.fromCategoricalCategories(p.categories):[],S=p.values,C=S&&S.group?r.e1.FromCategoricalValues(S):[];for(var u of y)v.add(u);for(var E of C)m.add(E)}for(var c of h)if(v.has(c)&&m.has(c))return!0;return!1}},811901:function(me,j,e){e.d(j,{B5:function(){return m},HU:function(){return c},Io:function(){return f},NK:function(){return C},OD:function(){return v},Of:function(){return h},VT:function(){return u},d2:function(){return l},de:function(){return D},kR:function(){return o},lq:function(){return d},mx:function(){return y},of:function(){return g},qX:function(){return S},yg:function(){return t}});var r=e(935236),i=e(785463),a=e(473001),t=function(b){return b[b.stop=0]="stop",b[b.continueToChildNodes=1]="continueToChildNodes",b[b.skipDescendantNodes=2]="skipDescendantNodes",b}({});function l(b){return i.Y.assertValue(b,"node"),_.isEmpty(b.children)}function g(b,T){if(i.Y.assertAnyValue(b,"rootNodes"),i.Y.assertValue(T,"callback"),b)if(function(b){return(0,r.Sg)(b)}(b))for(var M of b)M&&n(M,[],T);else n(b,[],T)}function n(b,T,M){i.Y.assertValue(b,"matrixNode"),i.Y.assertValue(T,"traversalPath"),i.Y.assertValue(M,"callback"),i.Y.assert(()=>!_.includes(T,b),"pre-condition: traversalPath must not already contain matrixNode"),T.push(b);var V=M(b,T),w=null!=V&&V!==t.stop;if(V===t.continueToChildNodes){var P=b.children;if(!_.isEmpty(P))for(var N of P)if(N&&!(w=n(N,T,M)))break}return i.Y.assert(()=>_.last(T)===b,"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),T.pop(),w}function d(b,T){i.Y.assertAnyValue(b,"rootNodes"),i.Y.assertValue(T,"callback");var M=0;g(b,(V,w)=>(l(V)&&(T(V,M,w),M++),t.continueToChildNodes))}function h(b,T,M){if(i.Y.assertValue(b,"node"),i.Y.assert(()=>T>=0,"targetLevel >= 0"),i.Y.assertValue(M,"callback"),b.level!==T){var V=b.children;if(V&&V.length>0)for(var w=0,P=V.length;w<P;w++)h(V[w],T,M)}else M(b)}function o(b,T,M){i.Y.assertValue(b,"node"),i.Y.assert(()=>T>=0,"deepestLevelToInherit >= 0"),i.Y.assertValue(M,"useInheritSingle");var V=b,w=void 0===b.level;if(w||b.level<=T){var N=M?a.Uz:a.IL,I=N(b);if((w||b.level<T)&&!_.isEmpty(b.children)){I.children=N(b.children);for(var R=0,W=I.children.length;R<W;R++)I.children[R]=o(I.children[R],T,M)}V=I}return V}function v(b){i.Y.assertAnyValue(b,"matrixOrHierarchy");var T=!1;if(b)if(function(b){return"rows"in b&&"columns"in b&&"valueSources"in b}(b))T=v(b.rows)||v(b.columns);else{var M=b.levels;if(!_.isEmpty(M))for(var V of M)if(V.sources&&V.sources.length>=2&&(i.Y.assert(()=>_.every(V.sources,P=>P.isMeasure===V.sources[0].isMeasure),"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!V.sources[0].isMeasure)){T=!0;break}}return T}function m(b){i.Y.assertValue(b,"matrix");var T=b.rows&&b.rows.levels,M=b.columns&&b.columns.levels,V=b.valueSources;return{primaryAxis:!_.isEmpty(T)&&p(T),secondaryAxis:!_.isEmpty(M)&&p(M),intersection:!_.isEmpty(V)&&_.map(V,P=>P.index)}}function p(b){return i.Y.assertValue(b,"levels"),_.map(b,T=>({selectIndices:_.map(T.sources,w=>w.index)}))}function y(b){return b&&b.rows&&!_.isEmpty(b.rows.levels)?b.rows.levels.length:0}function S(b){return!b||_.isEmpty(b.levels)?0:b.levels.length-(C(b.levels)?1:0)}function C(b){return i.Y.assertAnyValue(b,"columnHierarchyLevels"),!_.isEmpty(b)&&u(_.last(b))}function u(b){return i.Y.assertAnyValue(b,"columnHierarchyLevel"),b&&_.every(b.sources,T=>T.isMeasure)}function c(b){if(i.Y.assertAnyValue(b?.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!b||_.isEmpty(b.children))return[];var T=[];return d(b,(M,V,w)=>{T.push(_.clone(w))}),T}function f(b){i.Y.assertValue(b,"undefined Level");var T=b.valueSources;if(T)return i.Y.assert(()=>_.isEqual(_.keys(T),["0"]),"There is no support for Measures with a Scope containing any column levels"),i.Y.assertValue(T[0],"Empty Scoped measures metadata"),T[0]}function D(b){if(i.Y.assertValue(b,"getNodeScopedValues called for an Undefined node"),i.Y.assertAnyValue(b.nodeValues,"Synchronized nodes have undefined nodeValues"),b.nodeValues)return i.Y.assert(()=>_.isEqual(_.keys(b.nodeValues),["0"]),"There is no support for Measures with a Scope containing any column levels"),b.nodeValues[0]}},420987:function(me,j,e){e.d(j,{AY:function(){return h},BB:function(){return v},CX:function(){return m},Hk:function(){return p},fn:function(){return d},qq:function(){return s}});var r=e(662785),i=e(978450),a=e(460169),t=e(785463),l=e(468291);function n(y,S){t.Y.assertValue(y,"metadataColumn"),t.Y.assertValue(S,"targetRoles");var C=y.roles;return!!C&&_.some(S,u=>C[u])}function d(y,S){if(t.Y.assertAnyValue(y,"roles"),t.Y.assertValue(S,"targetRole"),!y||!y[S])return!1;if(_.size(y)>=2)for(var C in y)if(C!==S&&y[C])return!1;return!0}function s(y,S,C){t.Y.assertAnyValue(y,"columnSources"),t.Y.assertValue(S,"projectionOrdering"),t.Y.assertAnyValue(C,"filterByRoles");var u=[];if(!_.isEmpty(y))for(var E=function(y){t.Y.assertValue(y,"selectIndicesByProjectionOrder");for(var S={},C=0,u=y.length;C<u;C++){var E=y[C],c=S[E];c||(c=S[E]=[]),c.push(C)}return S}(S),c=0,f=y.length;c<f;c++){var D=y[c];if(!C||n(D,C)){var b=E[D.index];if(_.isEmpty(b))u.push({metadataColumn:D,sourceIndex:c,projectionOrderIndex:void 0});else for(var T of b)u.push({metadataColumn:D,sourceIndex:c,projectionOrderIndex:T})}}return u}function h(y){var S=_.find(y,c=>c.expr&&(0,r.Ah)(c.expr));if(S){var u=S.expr.arg;if((0,r.Ir)(u)){var E=u.arg;if((0,r.sD)(E))return E.property}}}function v(y,S,C){if(t.Y.assertValue(y,"expr"),t.Y.assertNonEmpty(S,"columns"),!(0,r.Gv)(y))return _.find(S,E=>(0,i.aI)(E.expr,y)&&E.groupName===C);var u=_.find(S,E=>E.queryName===y.expressionName&&E.groupName===C);return u?y.attributeKind!==l.Zw.FormatString?u:u.formatSource&&u.formatSource.formatString?u.formatSource.formatString:void 0:void 0}function m(y,S){t.Y.assertValue(y,"column"),t.Y.assertValue(S,"aggrFunc");var C=y.aggregates;if(C)switch(S){case a.Sn.Min:return C.min;case a.Sn.Max:return C.max;case a.Sn.Count:return C.count;case a.Sn.Avg:return C.average;case a.Sn.Median:return C.median;default:return}}function p(y,S){if(!_.isEmpty(y)){var C=[],u=!0;for(var E of y)if(E.roles&&E.roles[S]&&void 0!==E.index)if(E.rolesIndex&&E.rolesIndex[S]){t.Y.assert(()=>!0===u,".initMetadataColumns if any of the columns has roleIndex all of them are supposed to have it.");var c=E.rolesIndex[S];for(var f of c)C[f]=E}else u=!1,C.push(E);return C}}},26922:function(me,j,e){e.d(j,{MK:function(){return l},Mx:function(){return n},dL:function(){return a},mX:function(){return g},ym:function(){return t}});var r=e(936744),i=e(785463);function a(d,s){return!d&&!s||!(!d||!s||d.displayName!==s.displayName||d.queryName!==s.queryName||d.isMeasure!==s.isMeasure||d.type!==s.type||d.sort!==s.sort)}function t(d,s){if(!d&&!s)return!0;if(!d||!s)return!1;var o=s.columns.length;if(d.columns.length!==o)return!1;for(var v=0;v<o;v++)if(!a(d.columns[v],s.columns[v]))return!1;return!0}function l(d){return d&&d.values&&d.values[0]&&!!d.values[0].values}function g(d){return d&&void 0!==d.length}function n(d,s){return i.Y.assert(()=>s!==r.k.None),!!d&&!!(s&r.k.Categorical&&d.categorical||s&r.k.Matrix&&d.matrix||s&r.k.Single&&d.single||s&r.k.Table&&d.table||s&r.k.Tree&&d.tree)}},402194:function(me,j,e){e.d(j,{$f:function(){return t},QX:function(){return g},cu:function(){return l},wC:function(){return a}});var r=e(785463),i=e(669129);function a(s,h,o){r.Y.assertValue(s,"query"),r.Y.assertValue(h,"projectionsByRole"),r.Y.assertValue(o,"roleName");var v=h[o];if(v){var m=v.all();return _.filter(_.map(m,p=>t(s,p)),p=>p)}}function t(s,h){var o=n(s,h);if(o)return o}function l(s,h,o){var v=h[o];if(v){var m=v.getFieldParameters();if(_.isEmpty(m)){var p=a(s,h,o);return _.map(p,M=>{var V=_.find(v.all(),w=>w.queryRef===M.name)?.hidden;return i.B.transformToVisualQueryField(M.expr,M.name,!1,M.nativeReferenceName,V)})}var y=[],S=v.all()||[],C=0,u=0;for(var E of m=_.sortBy(m,M=>M.index)){var f=E.index+u,D=S.slice(C,f);y.push(...d(s,D)),y.push(i.B.transformToVisualQueryField(E.expr,void 0,!0));var b=E.length??0;u+=b-1,C=f+b}var T=S.slice(C,S.length);return y.push(...d(s,T)),y}}function g(s,h){var o=_.filter(h,p=>p.index<s),v=s;for(var m of o)v+=(m.length??0)-1;return v}function n(s,h){if(r.Y.assertValue(s,"query"),h)return s.select().withName(h.queryRef)}function d(s,h){var o=_.filter(_.map(h,v=>n(s,v)),v=>v);return _.map(o,v=>{var m=_.find(h,p=>p.queryRef===v.name)?.hidden;return i.B.transformToVisualQueryField(v.expr,v.name,!1,v.nativeReferenceName,m)})}},627227:function(me,j,e){e.d(j,{Q:function(){return r}});var r={objectName:"scalarKey",propertyName:"min"}},350226:function(me,j,e){e.d(j,{DB:function(){return p},dY:function(){return y},f0:function(){return m},vE:function(){return v}});var r=e(785463),i=e(574324),a=e(446024),t=e(548186),l=e(669129),g=e(822874),n=e(985502),d=e(309746),s=e(51926),h=e(402194),o=e(627227);function v(S,C=o.Q){var u;if(S&&(u=S.objects),!_.isEmpty(u)){for(var E,c=u.length,f=0;f<c;f++){var b=(0,s._W)(u[f],C);void 0!==b&&(E||(E={values:new Array(c)}),E.values[f]={min:b})}return E}}function m(S){var C=!1,u={visitRole:f=>{C=C||_.some(f.items,D=>D.scalarKeyInfo&&D.scalarKeyInfo.hasScalarKey)}};return S.categorical?(0,d.Ax)(S.categorical.categories,u):S.matrix&&(0,d.ms)(S.matrix.rows,u),C}function p(S,C,u,E){r.Y.assertValue(S,"schema"),r.Y.assertValue(C,"query"),r.Y.assertValue(u,"projections"),r.Y.assertValue(E,"roleName");var c=(0,h.wC)(C,u,E);if(_.isEmpty(c)||!(c[0]?.expr instanceof a.LV))return!1;var f=c[0]?.expr;if(1!==(0,t.c)(S,_.map(c,R=>R.expr),{}).length)return!1;var b=(0,i.F)(f,S),T=(0,g.tu)(S,b),M=T&&T.column;if(!M)return!1;var V=M.type;if(!V.temporal||!V.temporal.year||!y(c[0]?.expr,S))return!1;var w=u[E],P=w.getLastActiveQueryReference();if(P){var N=w.all(),I=_.findIndex(N,R=>R.queryRef===P);if(-1===I)return!1;for(var O=0;O<I;O++)if(!_.includes(w.activeProjectionRefs,N[O].queryRef))return!1}return!0}function y(S,C){if(r.Y.assertValue(C,"schema"),S){var u=(S=(0,n.e)(S,C)).getTargetEntity();if(u){var E=l.B.getConceptualEntity(u,C),c=_.filter(E.properties,f=>f.type.temporal&&f.type.temporal.paddedDateTableDate);if(1===c.length)return(0,a.sX)(u,c[0].name)}}}},66759:function(me,j,e){e.d(j,{kD:function(){return l}});var r=e(785463),i=e(856701),a=e(160800),t=e(42630);function l(h){if(h&&h.matrix&&h.matrix.rows&&h.matrix.rows.root&&!_.isEmpty(h.matrix.rows.levels))return r.Y.assert(()=>_.every(h.matrix.rows.levels,o=>1===_.size(o.sources)),"Composite groups are not supported"),{levels:_.map(h.matrix.rows.levels,o=>({identityKeys:o.sources[0].identityExprs})),root:d(h.matrix.rows.root)}}function g(h,o){if(!_.isEmpty(h)){var v,m;switch(o){case i.yt.Before:var p=_.findIndex(h,S=>S&&!S.isSubtotal&&S.identity);v=h[p],m=h[p+1];break;case i.yt.After:var y=_.findLastIndex(h,S=>S&&!S.isSubtotal&&S.identity);v=h[y],m=h[y-1];break;default:r.Y.assertFail("Unexpected restart kind "+o)}if(v&&v.restartKind===o)return v;if(m&&m.restartKind===o)return m}}function n(h){return{restartValues:h.restartValues,identityValues:(0,t.BI)(h.identity.expr),windowKind:s(h.restartKind)}}function d(h){var o=[],v=g(h.children,i.yt.Before);v&&o.push(n(v));var m=g(h.children,i.yt.After);m&&o.push(n(m));var p=_.filter(h.children,y=>_.some(y.children,S=>S.identity&&!S.isSubtotal));return{identityValues:h.identity&&h.identity.expr&&(0,t.BI)(h.identity.expr),children:_.map(p,y=>d(y)),windowValues:o}}function s(h){switch(h){case i.yt.Before:return a.d9.OnOrAfter;case i.yt.After:return a.d9.OnOrBefore}r.Y.assertFail("Invalid restartKind")}},329332:function(me,j,e){function r(a){return t=>t.get(a)}function i(a,t){return"function"==typeof a?a(t):"string"==typeof a?a:void 0}e.d(j,{D:function(){return r},M:function(){return i}})},490524:function(me,j,e){e.d(j,{ZE:function(){return d}});var r=e(785463),i=e(190846),a=e(400891),t=e(640700),l=(()=>{class f{_ensureIncludeZero(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))}_ensureNotEmpty(){if(this.min===this.max)if(this.min){var M,b=this.min,T=(0,i.YL)(Math.abs(b));T>=0&&T<4?(M=.5,this.forcedSingleStop=b):(M=(0,i.eC)(T)/2,this.forcedSingleStop=null),this.min=b-M,this.max=b+M}else this.min=0,this.max=f.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0}_ensureDirection(){if(this.min>this.max){var b=this.min;this.min=this.max,this.max=b}}getSize(){return this.max-this.min}shrinkByStep(b,T){r.Y.assertValue(b,"range"),r.Y.assert(()=>T>0,"step");var M=this.min/T,V=b.min/T,w=Math.floor(V-M);this.min+=w*T,M=this.max/T,V=b.max/T,w=Math.ceil(V-M),this.max+=w*T}static calculate(b,T,M,V,w){r.Y.assert(()=>b<=T,"dataMin should be less or equal to dataMax."),r.Y.assert(()=>!M||!V||M<=V,"fixedMin should be less or equal to fixedMax.");var P=new f;return P.includeZero=!!w,P.hasDataRange=g(b)&&g(T),P.hasFixedMin=g(M),P.hasFixedMax=g(V),b=(0,i.hA)(b,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),T=(0,i.hA)(T,f.MIN_SUPPORTED_DOUBLE,f.MAX_SUPPORTED_DOUBLE),P.hasFixedMin&&P.hasFixedMax?(P.min=M,P.max=V):P.hasFixedMin?(P.min=M,P.max=T>M?T:M):P.hasFixedMax?(P.min=b<V?b:V,P.max=V):P.hasDataRange?(P.min=b,P.max=T):(P.min=0,P.max=0),P._ensureIncludeZero(),P._ensureNotEmpty(),P._ensureDirection(),0===P.min?P.hasFixedMin=!0:0===P.max&&(P.hasFixedMax=!0),P}static calculateDataRange(b,T,M){return g(b)&&g(T)?f.calculate(b,T,null,null,M):f.calculateFixedRange(0,f.DEFAULT_MAX)}static calculateFixedRange(b,T,M){r.Y.assertValue(b,"fixedMin"),r.Y.assertValue(T,"fixedMax");var V=new f;return V.hasDataRange=!1,V.includeZero=M,V.min=b,V.max=T,V._ensureIncludeZero(),V._ensureNotEmpty(),V._ensureDirection(),V.hasFixedMin=!0,V.hasFixedMax=!0,V}}return f.DEFAULT_MAX=10,f.MIN_SUPPORTED_DOUBLE=-1e307,f.MAX_SUPPORTED_DOUBLE=1e307,f})();function g(f){return null!=f}var n=(()=>{class f{static calculate(b,T,M,V,w,P){r.Y.assertValue(b,"range"),r.Y.assert(()=>void 0===T||T>=f.MIN_COUNT&&T<=f.MAX_COUNT,"expectedCount"),r.Y.assert(()=>void 0===V||V>=i.h1&&V<=i.tk,"minPower"),r.Y.assert(()=>void 0===M||M>=0,"maxAllowedMargin");var N=new f;if(T=void 0===T?10:(0,i.hA)(T,f.MIN_COUNT,f.MAX_COUNT),void 0===V&&(V=i.h1),void 0===w&&(w=!1),void 0===M&&(M=1),void 0===P&&(P=[1,2,5]),b.forcedSingleStop)return N.interval=b.getSize(),N.intervalOffset=N.interval-(b.forcedSingleStop-b.min),N.min=b.min,N.max=b.max,N.sequence=[b.forcedSingleStop],N;var L,I=0,O=0,R=9,W=M>0&&!b.hasFixedMin,F=M>0&&!b.hasFixedMax,U=b.getSize(),B=(0,i.YL)(U),x=(0,i.YL)(P[0]);if(B-=x,B-=(0,i.YL)(T),B=Math.max(B,V-x+1),0!==I){var Y=(0,i.eC)(B),z=(0,i.iW)(b.min,Y),H=(0,i.Xm)(b.max,Y),Z=l.calculateFixedRange(z,H);Z.shrinkByStep(b,I),O=Z.min,R=Z.max,L=Math.floor(Z.getSize()/I)}else{var k;for(k=0;k<3;k++){for(var K=B+k,ee=(0,i.eC)(K),Q=(0,i.iW)(b.min,ee),J=(0,i.Xm)(b.max,ee),X=P.length,ne=(0,i.eC)(K-1),ae=0;ae<X;ae++){var oe=P[ae]*ne,Me=l.calculateFixedRange(Q,J,w);if(Me.shrinkByStep(b,oe),W&&b.min===Me.min&&M>=1&&(Me.min-=oe),F&&b.max===Me.max&&M>=1&&(Me.max+=oe),(L=(0,i.w1)(Me.getSize()/oe,i.Vi))<=T||2===k&&ae===X-1||1===T&&2===L&&(oe>b.getSize()||b.min<0&&b.max>0&&2*oe>=b.getSize())){I=oe,O=Me.min,R=Me.max;break}}if(0!==I)break}}(L>32*T||L>f.MAX_COUNT)&&(I=(R-O)/(L=Math.min(32*T,f.MAX_COUNT))),N.min=O,N.max=R,N.interval=I,N.intervalOffset=O-b.min,N.maxAllowedMargin=M,N.canExtendMin=W,N.canExtendMax=F;var Ye=(0,i.XV)(I,0);N.precision=Ye;var Le=[],lt=(0,i.CR)(O,Ye);Le.push(lt);for(var ut=0;ut<L;ut++)lt=(0,i.CR)(lt+I,Ye),Le.push(lt);return N.sequence=Le,N.trimMinMax(b.min,b.max),N}static calculateUnits(b,T,M,V){M=(0,i.hA)(M,f.MIN_COUNT,f.MAX_COUNT),b===T&&(T=b+1);var P=0;for(P of V)if((0,i.w1)(T/P)-(0,i.pp)(b/P)<=M)break;var O=-b;O%=P;var R=new f;R.sequence=[];for(var W=b+O;R.sequence.push(W),!(W>=T);W+=P);return R.interval=P,R.intervalOffset=O,R.min=R.sequence[0],R.max=R.sequence[R.sequence.length-1],R}trimMinMax(b,T){var M=(b-this.min)/this.interval,V=(this.max-T)/this.interval;(!this.canExtendMin||M>this.maxAllowedMargin&&M>.001)&&(this.min=b),(!this.canExtendMax||V>this.maxAllowedMargin&&V>.001)&&(this.max=T)}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),d=(()=>{class f{constructor(b){this.unit=b,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}add(b){b<this.min&&(this.min=b),b>this.max&&(this.max=b),this.sequence.push(b)}moveToCover(b,T){var M=f.getDelta(b,T,this.unit),V=Math.floor(M/this.interval);for(this.min=f.addInterval(this.min,V*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<T;)this.max=f.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)}static calculate(b,T,M,V){switch(V||(V=f.getIntervalUnit(b,T,M)),V){case a.k.Year:return f.calculateYears(b,T,M);case a.k.Month:return f.calculateMonths(b,T,M);case a.k.Week:return f.calculateWeeks(b,T,M);case a.k.Day:return f.calculateDays(b,T,M);case a.k.Hour:return f.calculateHours(b,T,M);case a.k.Minute:return f.calculateMinutes(b,T,M);case a.k.Second:return f.calculateSeconds(b,T,M);case a.k.Millisecond:return f.calculateMilliseconds(b,T,M);default:r.Y.assertFail("Unsupported DateTimeUnit")}}static calculateYears(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>!M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"Expected count is out of range");var V=l.calculateDataRange(b.getFullYear(),T.getFullYear(),!1),w=n.calculate(l.calculate(0,V.max-V.min),M,0,null,null,[1,2,5]),P=Math.floor(V.min/w.interval)*w.interval,N=t.tw.fromDateParts(P,0,1);return f.fromNumericSequence(N,w,a.k.Year)}static calculateMonths(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=b.getFullYear(),w=T.getFullYear(),P=b.getMonth(),N=12*(w-V)+T.getMonth(),I=t.tw.fromDateParts(V,0,1),O=n.calculateUnits(P,N,M,[1,2,3,6,12]);return f.fromNumericSequence(I,O,a.k.Month)}static calculateWeeks(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var P=(b.getDay()-0+7)%7,N=b.getDate()-P,I=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),N),R=(0,i.w1)(f.getDelta(I,T,a.k.Week)),W=n.calculateUnits(0,R,M,[1,2,4,8]);return f.fromNumericSequence(I,W,a.k.Week)}static calculateDays(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate()),P=(0,i.w1)(f.getDelta(b,T,a.k.Day)),N=n.calculateUnits(0,P,M,[1,2,7,14]);return f.fromNumericSequence(V,N,a.k.Day)}static calculateHours(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate()),w=(0,i.pp)(f.getDelta(V,b,a.k.Hour)),P=(0,i.w1)(f.getDelta(V,T,a.k.Hour)),N=n.calculateUnits(w,P,M,[1,2,3,6,12,24]);return f.fromNumericSequence(V,N,a.k.Hour)}static calculateMinutes(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours()),w=(0,i.pp)(f.getDelta(V,b,a.k.Minute)),P=(0,i.w1)(f.getDelta(V,T,a.k.Minute)),N=n.calculateUnits(w,P,M,[1,2,5,10,15,30,60,120,180,360,720,1440]);return f.fromNumericSequence(V,N,a.k.Minute)}static calculateSeconds(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes()),w=(0,i.pp)(f.getDelta(V,b,a.k.Second)),P=(0,i.w1)(f.getDelta(V,T,a.k.Second)),N=n.calculateUnits(w,P,M,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return f.fromNumericSequence(V,N,a.k.Second)}static calculateMilliseconds(b,T,M){r.Y.assertValue(b,"dataMin"),r.Y.assertValue(T,"dataMax"),r.Y.assert(()=>void 0===M||M>=f.MIN_COUNT&&M<=f.MAX_COUNT,"expected count is out of range");var V=t.tw.fromDateParts(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()),w=f.getDelta(V,b,a.k.Millisecond),P=f.getDelta(V,T,a.k.Millisecond),N=n.calculate(l.calculate(w,P),M,0);return f.fromNumericSequence(V,N,a.k.Millisecond)}static addInterval(b,T,M){switch(T=Math.round(T),M){case a.k.Year:return function(f,D){var b=f.getFullYear(),T=f.getMonth(),M=f.getDate(),V=2===T&&29===M,w=t.tw.fromTimeValue(f.getTime());return b+=D,V&&!o(b)&&(M=28),w.setUTCFullYear(b,T,M),w}(b,T);case a.k.Month:return function(f,D){var b=f.getFullYear(),T=f.getMonth(),M=f.getDate(),V=t.tw.fromTimeValue(f.getTime());return b+=(D-D%12)/12,(T+=D%12)>11&&(T%=12,b++),M=Math.min(M,function(f,D){return o(f)?h[D]:s[D]}(b,T)),V.setUTCFullYear(b,T,M),V}(b,T);case a.k.Week:return function(f,D){return S(f,7*D)}(b,T);case a.k.Day:return S(b,T);case a.k.Hour:return function(f,D){return t.tw.fromTimeValue(f.getTime()+36e5*D)}(b,T);case a.k.Minute:return function(f,D){return t.tw.fromTimeValue(f.getTime()+6e4*D)}(b,T);case a.k.Second:return function(f,D){return t.tw.fromTimeValue(f.getTime()+1e3*D)}(b,T);case a.k.Millisecond:return function(f,D){return t.tw.fromTimeValue(f.getTime()+D)}(b,T)}}static fromNumericSequence(b,T,M){var V=new f(M);for(var w of T.sequence){var P=f.addInterval(b,w,M);V.add(P)}return V.interval=T.interval,V.intervalOffset=T.intervalOffset,V}static getDelta(b,T,M){var V=0;switch(M){case a.k.Year:V=T.getFullYear()-b.getFullYear();break;case a.k.Month:V=12*(T.getFullYear()-b.getFullYear())+T.getMonth()-b.getMonth();break;case a.k.Week:V=(T.getTime()-b.getTime())/6048e5;break;case a.k.Day:V=(T.getTime()-b.getTime())/864e5;break;case a.k.Hour:V=(T.getTime()-b.getTime())/36e5;break;case a.k.Minute:V=(T.getTime()-b.getTime())/6e4;break;case a.k.Second:V=(T.getTime()-b.getTime())/1e3;break;case a.k.Millisecond:V=T.getTime()-b.getTime()}return V}static getIntervalUnit(b,T,M){M=Math.max(M,2);var V=f.getDelta(b,T,a.k.Day);if(V>356&&V>=180*M)return a.k.Year;if(V>58&&V>7*M)return a.k.Month;if(V>14&&V>2*M)return a.k.Week;var w=f.getDelta(b,T,a.k.Hour);if(V>2&&w>12*M)return a.k.Day;if(w>=24&&w>=M)return a.k.Hour;var P=f.getDelta(b,T,a.k.Minute);if(P>2&&P>=M)return a.k.Minute;var N=f.getDelta(b,T,a.k.Second);if(N>2&&N>=.8*M)return a.k.Second;if(f.getDelta(b,T,a.k.Millisecond)>0)return a.k.Millisecond;var O=b;return 0!==O.getMilliseconds()?a.k.Millisecond:0!==O.getSeconds()?a.k.Second:0!==O.getMinutes()?a.k.Minute:0!==O.getHours()?a.k.Hour:1!==O.getDate()?a.k.Day:0!==O.getMonth()?a.k.Month:a.k.Year}}return f.MIN_COUNT=1,f.MAX_COUNT=1e3,f})(),s=[31,28,31,30,31,30,31,31,30,31,30,31],h=[31,29,31,30,31,30,31,31,30,31,30,31];function o(f){return f%4==0&&f%100!=0||f%400==0}function S(f,D){var b=f.getFullYear(),T=f.getMonth(),M=f.getDate(),V=t.tw.fromTimeValue(f.getTime());return V.setUTCFullYear(b,T,M+D),V}},819713:function(me,j,e){e.d(j,{XQ:function(){return y},b4:function(){return S},hQ:function(){return v},kX:function(){return C},ny:function(){return u}});var r=e(785463),i=e(190846),a=e(640700),t=e(177478),g=1e15,n=1e-4,o=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,v=function(f){return f[f.Custom=-1]="Custom",f[f.Auto=0]="Auto",f[f.None=1]="None",f}({});class m{project(D){return this.value?(0,i.c4)(D/this.value):D}isApplicableTo(D){D=Math.abs(D);var b=(0,i.XV)(D,3);return(0,i.Id)(D,this.applicableRangeMin,b)&&(0,i.Yt)(D,this.applicableRangeMax,b)}isScaling(){return this.value>1}}var p=(()=>{class f{constructor(b){this.units=b||[]}getUnits(b=!1){var T=_.clone(this.units);return b&&_.remove(T,M=>M.value===v.Auto),T}get title(){return this.displayUnit?this.displayUnit.title:void 0}update(b){void 0!==b&&(this.displayUnit=this.findApplicableDisplayUnit(b))}findApplicableDisplayUnit(b){for(var T of this.units)if(T.isApplicableTo(b))return T}format(b,T,M,V){r.Y.assert(()=>"number"==typeof b,"value must be a number"),M=this.getNumberOfDecimalsForFormatting(M);var w="";return this.isFormatSupported(T)&&!this.hasScientificFormat(T)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(b=this.displayUnit.project(b),w=this.displayUnit.labelFormat),this.formatHelper(b,w,T,M,V)}isFormatSupported(b){return!f.UNSUPPORTED_FORMATS.test(b)}isPercentageFormat(b){return b&&b.indexOf("%")>=0}shouldRespectScalingUnit(){return!0}getNumberOfDecimalsForFormatting(b){return b}isScalingUnit(){return this.displayUnit&&this.displayUnit.isScaling()}formatHelper(b,T,M,V,w){if(("g"===M||"G"===M)&&null!=V&&(M=t.IC),(M=(0,a.Cr)(M,V,w))&&!a.r9.isStandardNumberFormat(M))return a.r9.formatNumberWithCustomOverride(b,M,T);M||(M="G"),T||(T="{0}");var P=a.r9.formatValue(b,M);return a.r9.format(T,[P])}formatSingleValue(b,T,M,V){return this.update(this.shouldUseValuePrecision(b)?(0,i.XV)(b,8):b),this.format(b,T,M,V)}shouldUseValuePrecision(b){if(0===this.units.length)return!0;var T=0;for(var M of this.units)if(M.isScaling()){T=M.applicableRangeMin;break}return Math.abs(b)<T}isScientific(b){return b<-g||b>g||-n<b&&b<n&&0!==b}hasScientificFormat(b){return b&&(-1!==b.toUpperCase().indexOf("E+")||-1!==b.toUpperCase().indexOf("E-"))}supportsScientificFormat(b){return!b||o.test(b)}shouldFallbackToScientific(b,T){return!this.hasScientificFormat(T)&&this.supportsScientificFormat(T)&&this.isScientific(b)}getScientificFormat(b,T,M,V){if(this.isFormatSupported(T)&&this.shouldFallbackToScientific(b,T)){var w=(0,a.zd)(b,T);return M&&(w=(0,a.Cr)(w||"0",Math.abs(M),V)),w?w+"E+0":"0.##E+0"}return T}}return f.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,f})();class y extends p{constructor(){super([])}}class S extends p{constructor(D){super(S.getUnits(D))}format(D,b,T,M){return b=this.getScientificFormat(D,b,T,M),super.format(D,b,T,M)}static reset(){S.units=null}static getUnits(D){return S.units||(S.units=E(D,(b,T,M)=>b-T>=1e3?b/10:M),S.units.length>=1&&(S.units[S.units.length-1].applicableRangeMax=1/0)),S.units}}class C extends p{constructor(D){super(C.getUnits(D))}static reset(){C.units=null}static getUnits(D){return C.units||(C.units=E(D),C.units.length>=1&&(C.units[C.units.length-1].applicableRangeMax=1/0)),C.units}format(D,b,T,M){return b=this.getScientificFormat(D,b,T,M),super.format(D,b,T,M)}}var u=(()=>{class f extends p{constructor(b){super(f.getUnits(b))}isFormatSupported(b){return!f.UNSUPPORTED_FORMATS.test(b)}static getUnits(b){if(!f.units){var T=[],M=(w,P,N)=>-1===w&&w-P>=1e3?w/10:N,V=b(-1);c(T,v.Auto,V.title,V.format,M),V=b(0),c(T,v.None,V.title,V.format,M),f.units=T.concat(E(b,M)),f.units.length>=1&&(f.units[f.units.length-1].applicableRangeMax=1/0)}return f.units}format(b,T,M,V){return T=this.getScientificFormat(b,T,M,V),super.format(b,T,M,V)}}return f.UNSUPPORTED_FORMATS=/^(e\d*)$/i,f})();function E(f,D){for(var b=[],T=3;T<24;T++){var M=f(T);M&&c(b,(0,i.eC)(T),M.title,M.format,D)}return b}function c(f,D,b,T,M){if(b||T){var V=D;if(f.length>0){var w=f[f.length-1];M&&(V=M(D,w.value,V)),w.applicableRangeMax=V}var P=new m;P.value=D,P.applicableRangeMin=V,P.applicableRangeMax=1e3*V,P.title=b,P.labelFormat=T,f.push(P)}}},739549:function(me,j,e){e.d(j,{Bn:function(){return t},VR:function(){return l},Z7:function(){return g},q1:function(){return s},ul:function(){return n}});var r=e(460169),i=e(785463),a=e(640700),t=function(h){return h[h.Last=0]="Last",h[h.Current=1]="Current",h[h.Next=2]="Next",h}({}),l=function(h){return h[h.Second=0]="Second",h[h.Minute=1]="Minute",h[h.Hour=2]="Hour",h[h.Day=3]="Day",h[h.Week=4]="Week",h[h.CalendarWeek=5]="CalendarWeek",h[h.Month=6]="Month",h[h.CalendarMonth=7]="CalendarMonth",h[h.Year=8]="Year",h[h.CalendarYear=9]="CalendarYear",h}({}),g=function(h){return h[h.Unsupported=0]="Unsupported",h[h.Time=1]="Time",h[h.Date=2]="Date",h}({});function n(h){switch(h){case l.Minute:case l.Hour:return!0;default:return!1}}class s{static convertRelativeDateUnitToRelativeFilterType(o){switch(o){case l.Second:case l.Minute:case l.Hour:return g.Time;case l.Day:case l.Week:case l.CalendarWeek:case l.Month:case l.CalendarMonth:case l.Year:case l.CalendarYear:return g.Date;default:return void i.Y.assertNever(o)}}static convertTimeUnitToRelativeFilterType(o){switch(o){case r.yr.Second:return g.Unsupported;case r.yr.Minute:case r.yr.Hour:return g.Time;case r.yr.Day:case r.yr.Week:case r.yr.Month:case r.yr.Year:case r.yr.Decade:return g.Date;default:return void i.Y.assertNever(o)}}static getDateRange(o,v){switch(v.relativeUnit){case l.Minute:return this.getMinutesRange(o,v);case l.Hour:return this.getHoursRange(o,v);case l.Day:return this.getDaysRange(o,v);case l.Week:return this.getWeeksRange(o,v);case l.CalendarWeek:return this.getCalendarWeekRange(o,v);case l.Month:return this.getMonthRange(o,v);case l.CalendarMonth:return this.getCalendarMonthRange(o,v);case l.Year:return this.getYearRange(o,v);case l.CalendarYear:return this.getCalendarYearRange(o,v);default:return void i.Y.assertFail("Unexpected RelativeDateUnit: "+v.relativeUnit)}}static getMinutesRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(o.valueOf()-6e4*v.duration),m.max=o;break;case t.Current:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),0)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),59));break;case t.Next:m.min=o,m.max=new Date(o.valueOf()+6e4*v.duration)}return m}static getHoursRange(o,v){var m={min:null,max:null},p=36e5;switch(v.relativeQualifier){case t.Last:m.min=new Date(o.valueOf()-v.duration*p),m.max=o;break;case t.Current:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),0,0)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),59,59));break;case t.Next:m.min=o,m.max=new Date(o.valueOf()+v.duration*p)}return m}static getDaysRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addDays(m.max,1-v.duration);break;case t.Current:m.min=o,m.max=o;break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addDays(m.min,v.duration-1)}return m}static getWeeksRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addDays(m.max,-7*v.duration+1);break;case t.Current:m=this.getCalendarWeek(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addDays(m.min,7*v.duration-1)}return m}static getCalendarWeekRange(o,v){var m={min:null,max:null},p=o.getUTCDay();switch(v.relativeQualifier){case t.Last:var y=this.addDays(o,-p-1);m.min=this.addDays(y,-7*v.duration+1),m.max=y;break;case t.Current:m=this.getCalendarWeek(o);break;case t.Next:var S=this.addDays(o,7-p);m.min=S,m.max=this.addDays(S,7*v.duration-1)}return m}static getMonthRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addMonths(m.max,-v.duration);break;case t.Current:m=this.getCalendarMonth(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addMonths(m.min,v.duration)}return m}static getCalendarMonthRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()-v.duration,1)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),0));break;case t.Current:m=this.getCalendarMonth(o);break;case t.Next:m.min=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1,1)),m.max=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1+v.duration,0))}return m}static getYearRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.max=v.includeToday?o:this.addDays(o,-1),m.min=this.addYears(m.max,-v.duration);break;case t.Current:m=this.getCalendarYear(o);break;case t.Next:m.min=v.includeToday?o:this.addDays(o,1),m.max=this.addYears(m.min,v.duration)}return m}static getCalendarYearRange(o,v){var m={min:null,max:null};switch(v.relativeQualifier){case t.Last:m.min=new Date(Date.UTC(o.getUTCFullYear()-v.duration,0,1)),m.max=new Date(Date.UTC(o.getUTCFullYear()-1,11,31));break;case t.Current:m=this.getCalendarYear(o);break;case t.Next:m.min=new Date(Date.UTC(o.getUTCFullYear()+1,0,1)),m.max=new Date(Date.UTC(o.getUTCFullYear()+v.duration,11,31))}return m}static getTimeRangeRestatement(o,v,m,p){return v?this.getDetailedTimeRestatement(m):this.getSimplifiedTimeRestatement(o,p)}static getDetailedTimeRestatement(o){return Math.abs(o.max.valueOf()-o.min.valueOf())/864e5>1||o.max.getUTCDate()!==o.min.getUTCDate()?a.r9.format("{0} - {1}",[o.min,o.max]):a.r9.format("{0:T} - {1:T}",[o.min,o.max])}static getSimplifiedTimeRestatement(o,v){switch(o.relativeQualifier){case t.Current:switch(o.relativeUnit){case l.Minute:return v("RelativeTimeRestatement_this_Minute");case l.Hour:return v("RelativeTimeRestatement_this_Hour");default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;case t.Last:switch(o.relativeUnit){case l.Minute:return 1===o.duration?v("RelativeTimeRestatement_last_Minute"):v("RelativeTimeRestatement_last_Minutes",o.duration);case l.Hour:return 1===o.duration?v("RelativeTimeRestatement_last_Hour"):v("RelativeTimeRestatement_last_Hours",o.duration);default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;case t.Next:switch(o.relativeUnit){case l.Minute:return 1===o.duration?v("RelativeTimeRestatement_next_Minute"):v("RelativeTimeRestatement_next_Minutes",o.duration);case l.Hour:return 1===o.duration?v("RelativeTimeRestatement_next_Hour"):v("RelativeTimeRestatement_next_Hours",o.duration);default:i.Y.assertFail(`The following relative unit is not a relative time unit: ${o.relativeUnit}`)}break;default:i.Y.assertFail(`The following is an Unsupported relativeQualifer: ${o.relativeQualifier}`)}return""}static getDateRangeRestatement(o){return a.r9.format("{0:d} - {1:d}",[o.min,o.max])}static getRestatement(o,v,m,p){var y;if(n(o.relativeUnit)?(i.Y.assert(()=>!!p,"For Relative time restatement, anchor time should be defined"),y=p||new Date):y=new Date,o.anchorDate&&!n(o.relativeUnit)){var S=o.anchorDate;y=new Date(Date.UTC(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds()))}var C=this.getDateRange(y,o);return C.min.epochTimeStamp=C.min.getTime(),C.max.epochTimeStamp=C.max.getTime(),n(o.relativeUnit)?this.getTimeRangeRestatement(o,v,C,m):s.getDateRangeRestatement(C)}static addMinutes(o,v){return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes()+v,o.getSeconds())}static addHours(o,v){return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours()+v,o.getMinutes(),o.getSeconds())}static addDays(o,v){return new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()+v))}static addMonths(o,v){if(0===v)return o;var y=o.getUTCDate()-(v>0?1:-1),S=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v,y)),C=S.getUTCDate();if(y>0)if(C!==y&&v>0)S=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v+1,0));else if(v<0){var u=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),y));(C!==y||u.getUTCMonth()!==o.getUTCMonth())&&(S=new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+v+1,1)))}return S}static addYears(o,v){return this.addMonths(o,12*v)}static getDurationMax(o,v){if(o===t.Current)return 1;switch(v){case l.Year:case l.CalendarYear:return 100;case l.Month:case l.CalendarMonth:case l.CalendarWeek:case l.Week:return 1e3;default:return 1e4}}static getCalendarWeek(o){var v=o.getUTCDay(),m=this.addDays(o,-v);return{min:m,max:this.addDays(m,6)}}static getCalendarMonth(o){return{min:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),1)),max:new Date(Date.UTC(o.getUTCFullYear(),o.getUTCMonth()+1,0))}}static getCalendarYear(o){return{min:new Date(Date.UTC(o.getUTCFullYear(),0,1)),max:new Date(Date.UTC(o.getUTCFullYear(),11,31))}}}},336983:function(me,j,e){e.d(j,{$4:function(){return Y},Bq:function(){return U},GP:function(){return P},T2:function(){return I},W9:function(){return R},ZM:function(){return C},_s:function(){return N},be:function(){return z},eH:function(){return O},gQ:function(){return B},i8:function(){return V},jp:function(){return x},lg:function(){return T},lw:function(){return p},n1:function(){return k},p9:function(){return A},rL:function(){return M},vt:function(){return w},z$:function(){return y}});var r=e(61917),i=e(785463),a=e(190846),t=e(304703),l=e(507345),g=e(770528),n=e(51926),d=e(640700),s=e(191941),h=e(490524),o=e(819713),v=e(177478);function p(K){y||(t.Cn.information("allowFormatBeautification used",void 0,{key:K}),y=!0)}var y=!1;function C(K){return v.Xg[K]}var u={null:v.Xg.NullValue,true:v.Xg.BooleanTrue,false:v.Xg.BooleanFalse,NaN:v.Xg.NaNValue,infinity:v.Xg.InfinityValue,negativeInfinity:v.Xg.NegativeInfinityValue,beautify:K=>function(K){var ee=v.UC[K];return ee?(p(ee),v.Xg[ee]||K):K}(K),describe:K=>function(K){var ee=-1===K?"Auto":K.toString(),X=v.Xg["DisplayUnitSystem_E"+ee+"_Title"],ne=K<=0?"{0}":v.Xg["DisplayUnitSystem_E"+ee+"_LabelFormat"];if(X||ne)return{title:X,format:ne}}(K),restatementComma:v.Xg.RestatementComma,restatementCompoundAnd:v.Xg.RestatementCompoundAnd,restatementCompoundOr:v.Xg.RestatementCompoundOr},E=2,c=1e3,f=1e4,D=2,b={displayName:"",type:s.eV.fromPrimitiveTypeAndCategory(r.W.DateTime)};function T(K){return(0,d.s6)(K)}function M(K){i.Y.assertValue(K,"options"),u=K,o.b4.reset(),o.kX.reset()}function V(K,ee=!1){var Q=ee?u.beautify(K):K;return{format:function(J){return null==J?u.null:H(J,Q)}}}function w(K){i.Y.assertValue(K,"options");var ee=K.allowFormatBeautification?u.beautify(K.format):K.format;if(function(K){var ee=K.value,Q=K.value2,J=K.format,X=K.columnType;if(K.formatSingleValues&&J&&Math.abs(ee)<f)if((0,d.rW)(J)){if((0,a.Fq)(ee))return!1}else if((0,d.s6)(J,!0).precision<D)return!1;if("number"==typeof ee||"number"==typeof Q)return!(X&&X.temporal&&X.temporal.year)}(K)){var Q=O(K.displayUnitSystemType),J=!!K.formatSingleValues;Q.update(Math.max(Math.abs(K.value||0),Math.abs(K.value2||0)));var ne,X=null!=K.precision;return X?ne=-K.precision:Q.displayUnit&&Q.displayUnit.value>1&&(ne=-E),{format:function(oe){var Me=Z(oe,!0);if(!(0,l.M)(Me))return Me;var Ye=Number(oe);return Ye&&!Q.isScalingUnit()&&Math.abs(Ye)<c&&!X&&(oe=(0,a.CR)(Ye)),J?Q.formatSingleValue(Ye,ee,ne,X):Q.format(Ye,ee,ne,X)},displayUnit:Q.displayUnit,options:K}}if(function(K,ee,Q){return K instanceof Date&&ee instanceof Date&&null!=Q}(K.value,K.value2,K.tickCount)){var ae=h.ZE.getIntervalUnit(K.value,K.value2,K.tickCount);return{format:function(oe){return null==oe?u.null:H(oe,d.r9.dateFormatString(ae))},options:K}}return V(ee)}function P(K,ee,Q){return null==K?u.null:H(K,Q?u.beautify(ee):ee)}function N(K,ee,Q,J,X){return!(Q&&Q.type&&Q.type.dateTime)&&K instanceof Date?H(K,U(b,null,!1),X):H(K,A(ee,Q,J),X)}class I{constructor(ee){i.Y.assertValue(ee,"createVariantMeasureFormatter - options"),i.Y.assertValue(ee.column,"createVariantMeasureFormatter - options.column"),i.Y.assertValue(ee.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=ee,this.columnFormatString=U(ee.column,ee.formatStringPropId,!1),this.isDateTimeColumn=ee.column&&ee.column.type&&ee.column.type.dateTime,(null!=ee.displayUnit&&1!==ee.displayUnit||null!=ee.precision)&&(this.displayUnitSystem=O(ee.displayUnitSystemType),this.displayUnitSystem.update(ee.displayUnit))}setDisplayUnitSystem(ee,Q){null==ee&&null==Q?this.displayUnitSystem=void 0:(this.displayUnitSystem=O(Q),this.displayUnitSystem.update(ee))}format(ee,Q){var J=this.options;if(!this.isDateTimeColumn&&ee instanceof Date)return H(ee,U(b,null,!1),J.nullsAreBlank);var ne=this.columnFormatString;if(Q){var ae=(0,n._W)(Q,J.formatStringPropId);null!=ae&&(ne=ae)}if(this.displayUnitSystem&&"number"==typeof ee&&null!=ee){var oe=J.precision;return J.defaultPrecisionForScaledValues&&null==(oe=x(oe,ne))&&J.displayUnit>1&&(oe=E),J.formatSingleValues?this.displayUnitSystem.formatSingleValue(ee,ne,oe,J.trailingZeroes):this.displayUnitSystem.format(ee,ne,oe,J.trailingZeroes)}return H(ee,ne,J.nullsAreBlank)}}function O(K){if(null==K)return new o.b4(u.describe);switch(K){case g.I.Default:return new o.b4(u.describe);case g.I.WholeUnits:return new o.kX(u.describe);case g.I.Verbose:return new o.XQ;case g.I.DataLabels:return new o.ny(u.describe);default:return i.Y.assertFail("Unknown display unit system type"),new o.b4(u.describe)}}function R(K=!1){return new o.ny(u.describe).getUnits(K)}function U(K,ee,Q){if(K){if(ee){var J=(0,n._W)(K.objects,ee);if(J)return J}if(!Q&&K.type)return B(K.type)}}function B(K){return i.Y.assertValue(K,"type must be defined"),K.dateTime?v.Hx:K.integer?K.temporal&&K.temporal.year?"0":v.fI:K.numeric?v.IC:void 0}function x(K,ee){if(i.Y.assertAnyValue(ee,"format"),void 0!==K)return K;if("g"!==ee&&"G"!==ee){if(ee){var Q=(0,d.Py)(ee).positive,J=(0,d.s6)(Q,!0);if(J.hasDots)return J.optionalPrecision?void 0:J.precision}return 0}}function A(K,ee,Q,J){return(0,n._W)(K,Q)||U(ee,Q,J)}function L(K,ee){var Q;if(!K)return null;var J=K.length;if(J>0){Q=K[0];for(var X=J-1,ne=1,ae=X;ne<ae;ne++)Q=(0,l.G)(u.restatementComma,Q,K[ne]);J>1&&(Q=(0,l.G)(ee,Q,K[X]))}else Q=null;return Q}function Y(K){return L(K,u.restatementCompoundAnd)}function z(K){return L(K,u.restatementCompoundOr)}function H(K,ee,Q){var J=Z(K,Q||!1);return(0,l.M)(J)?d.r9.formatValue(K,ee):J}function Z(K,ee){return null==K&&ee?u.null:!0===K?u.true:!1===K?u.false:"number"==typeof K&&isNaN(K)?u.NaN:K===Number.NEGATIVE_INFINITY?u.negativeInfinity:K===Number.POSITIVE_INFINITY?u.infinity:""}function k(K){return K?.displayUnit?.isScaling()}},177478:function(me,j,e){e.d(j,{Hx:function(){return a},IC:function(){return i},UC:function(){return l},Xg:function(){return t},fI:function(){return r}});var r="g",i="#,0.00",a="d",t={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},l={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},400891:function(me,j,e){e.d(j,{k:function(){return r}});var r=function(i){return i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.Week=2]="Week",i[i.Day=3]="Day",i[i.Hour=4]="Hour",i[i.Minute=5]="Minute",i[i.Second=6]="Second",i[i.Millisecond=7]="Millisecond",i}({})},552426:function(me,j,e){e.d(j,{BX:function(){return s},Jn:function(){return a},WE:function(){return h}});var r=e(785463),i=e(26922);function a(C,u){if(C.matrix||r.Y.assert(()=>(0,i.ym)(C.metadata,u.metadata),"Cannot merge data views with different metadata columns"),u.metadata.segment?C.metadata.segment=u.metadata.segment:delete C.metadata.segment,C.table&&u.table&&function(C,u){if(r.Y.assertValue(C,"source"),r.Y.assertValue(u,"segment"),!_.isEmpty(u.rows)){var E=u.lastMergeIndex+1;g(C.rows,u.rows,E),r.Y.assert(()=>!C.identity==!u.identity,"The existence of identity in the new segment is different than the source"),u.identity&&g(C.identity,u.identity,E)}}(C.table,u.table),C.categorical&&u.categorical&&function(C,u){if(r.Y.assertValue(C,"source"),r.Y.assertValue(u,"segment"),r.Y.assert(()=>_.size(C.categories)===_.size(u.categories),"pre-condition: source categories and segment categories should have the same length"),r.Y.assert(()=>_.every(C.categories,V=>C.categories[0].identity===V.identity),"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(C.categories)&&!_.isEmpty(u.categories)){for(var E=u.lastMergeIndex+1,c=u.categories.length,f=function(){var V=u.categories[D],w=C.categories[D];r.Y.assert(()=>(0,i.dL)(w.source,V.source),"Source and segment category have different sources."),r.Y.assert(()=>void 0!==w.values||void 0===w.identity,"Source category is missing values but has identities."),V.values&&g(w.values,V.values,E)},D=0;D<c;D++)f();u.categories[0].identity&&g(C.categories[0].identity,u.categories[0].identity,E)}if(C.values&&u.values){var b=u.values.length;r.Y.assert(()=>C.values.length===b,"Source and segment values have different lengths.");for(var T=function(){var V=u.values[M],w=C.values[M];r.Y.assert(()=>(0,i.dL)(w.source,V.source),"Source and segment value have different sources."),!w.values&&V.values&&(w.values=[]);var P=u.lastMergeIndex+1;V.values&&g(w.values,V.values,P),V.highlights&&g(w.highlights,V.highlights,P)},M=0;M<b;M++)T()}}(C.categorical,u.categorical),C.tree&&u.tree&&n(C.tree.root,u.tree.root,!0),C.matrix&&u.matrix){r.Y.assertValue(C.matrix.rows,"source.matrix.rows"),r.Y.assertValue(C.matrix.rows.levels,"source.matrix.rows.levels"),r.Y.assertValue(u.matrix.rows,"segment.matrix.rows"),r.Y.assertValue(u.matrix.rows.levels,"segment.matrix.rows.levels"),r.Y.assertValue(C.metadata,"source.metadata"),r.Y.assertValue(C.metadata.columns,"source.metadata.columns"),r.Y.assertValue(u.metadata,"segment.metadata"),r.Y.assertValue(u.metadata.columns,"segment.metadata.columns");var E=C.matrix.rows.levels.length,c=u.matrix.rows.levels.length;if(E>c)_.remove(C.metadata.columns,T=>null!=T.index&&!_.some(u.metadata.columns,M=>M.index===T.index)),C.metadata.columns.length=u.metadata.columns.length,function(C,u){var E=u.levels.length;C.levels.length=E,r.Y.assert(()=>_.isEqual(C.levels,u.levels),"Segments have different levels");var c=[];for(var f of(y(C.root.children,E-1,c),c))v(f)}(C.matrix.rows,u.matrix.rows);else if(E<c){var f=_.filter(u.metadata.columns,T=>null!=T.index&&!_.some(C.metadata.columns,M=>M.index===T.index)),D=0;for(var b of f){for(;D<C.metadata.columns.length&&(null==C.metadata.columns[D].index||C.metadata.columns[D].index<b.index);)D++;C.metadata.columns.splice(D,0,b)}!function(C,u){for(var E=u.levels.length,c=C.levels.length,f=c;f<E;f++)C.levels.push(u.levels[f]);r.Y.assert(()=>_.isEqual(C.levels,u.levels),"Segments have different levels");var D=[];for(var b of(y(C.root.children,c-1,D),D))p(b,c);(function(C,u){for(var E=C.root,c=0;c<u;c++)if(_.isEmpty(E.children)||(r.Y.assertValue(E=E.children[0],"Segment has fewer levels than expected"),!E.isMerge||E.isSubtotal))return!1;return!0})(u,c)&&delete _.last(D).children}(C.matrix.rows,u.matrix.rows)}n(C.matrix.rows.root,u.matrix.rows.root,E!==c)}}function g(C,u,E){if(E>=u.length)return u;var c=[];return void 0!==E&&(c=u.splice(0,E)),Array.prototype.push.apply(C,u),c}function n(C,u,E){if(r.Y.assertValue(C,"sourceRoot"),r.Y.assertValue(u,"segmentRoot"),u.children&&0!==u.children.length){if(E&&(!C.children||0===C.children.length))return void(C.children=u.children);r.Y.assert(()=>C.children&&C.children.length>=0,"Source tree has different structure than segment.");var c=d(u.children),f=C.children[C.children.length-1],D=g(C.children,u.children,c);D.length>0&&n(f,D[D.length-1],E)}}function d(C){if(0===C.length)return 0;for(var u=0;u<C.length&&C[u].isMerge;u++);return u}function s(C,u){var E;for(var c of(r.Y.assertValue(C,"dataViewMerger.pruneTree - root"),r.Y.assertNonEmpty(u,"dataViewMerger.pruneTree - Zero-depth index"),u)){if(E=C.children,_.isEmpty(E))return!0;if(c>=E.length)return!1;E.length=c+1,C=_.last(E)}return!0}function h(C,u){var E=C.children;r.Y.assertNonEmpty(C.children,"Empty segment");for(var c=0,f=!0;!_.isEmpty(E);){var D=d(E);if(D>=E.length)f=!0;else{var b=E.length-D;f?void 0===u[c]?u[c]=b-1:u[c]+=b:u[c]=b-1,f=!1}E=_.last(E).children,c++}c<u.length&&(u.length=c)}function v(C){if(!_.isEmpty(C.children)){var u=_.find(C.children,E=>E.isSubtotal);u&&(C.values=u.values),delete C.children,delete C.childIdentityFields}}function p(C,u){C.isSubtotal||(r.Y.assert(()=>C.level===u-1,"Leaf was found on a non-last level"),r.Y.assert(()=>0===_.size(C.children),"Node has children"),C.children=[{isSubtotal:!0,level:u,values:C.values}],delete C.values)}function y(C,u,E){for(var c of(r.Y.assertValue(C,"nodes"),C))c.isSubtotal||(c.level===u?E.push(c):!_.isEmpty(c.children)&&void 0!==c.level&&c.level<u&&y(c.children,u,E))}},566436:function(me,j,e){e.d(j,{M3:function(){return d},qs:function(){return s},tJ:function(){return h}});var r=e(785463),i=e(795169),a=e(464205),t=e(289239),l=e(26922),g=e(336983),n=function(o){return o[o.Contains=0]="Contains",o[o.Equals=1]="Equals",o}({});class d{constructor(v,m,p){this.selector=d.ensureSelector(v),this.highlight=m,this._columnLevelKeys=new i.d(()=>{if(v)return(0,a.kH)(v,!1)}),this._identityLevelKeys=new i.d(()=>{if(v)return(0,a.kH)(v,!0)}),this.selectorsByColumn=p}static fromSelectorsByColumn(v){var m=(0,a.j9)(v);return new d(m,!1,v)}static fromSelectorsByColumnAndRoles(v,m){var p=(0,a.j9)(v),y=new d(p,!1,v);return y.role=m,y}equals(v){return this.selector&&v.selector?this.highlight===v.highlight&&(0,a.aI)(this.selector,v.selector):!this.selector==!v.selector&&this.highlight===v.highlight}static isEqual(v,m){return v===m||null!=v&&null!=m&&v.equals(m)}includes(v,m=!1,p=!1,y){var S=this;if(!v)return!1;var C=this.selector,u=v.selector;if(!C||!u)return!1;var E=C.data,c=u.data;if(!E&&C.metadata&&C.metadata!==u.metadata||!m&&this.highlight!==v.highlight)return!1;if(E){if(!c)return!1;if(E.length>0)if(y){for(var M,f=p?n.Contains:n.Equals,D=this.getComparisonTypeCache(y,f),b=this.isOrderIndependentComparison(f),T=function(){var R=E[V];if(!c.some(W=>S.runComparison(R,W,f,D,b)))return{v:!1}},V=0,w=E.length;V<w;V++)if(M=T())return M.v}else for(var N,P=function(){var R=E[I];if(p){var W=R.expr;if(!_.some(c,F=>(0,t.XV)(W,F)))return{v:!1}}else if(!c.some(F=>(0,t.aI)(R,F)))return{v:!1}},I=0,O=E.length;I<O;I++)if(N=P())return N.v}return!0}getKey(){return void 0===this._key&&(this._key=`{selector: ${this.selector?this.getSelectorKey():null}, highlight: ${this.highlight}}`),this._key}getDecomposedKeys(v){return v?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()}getKeyWithoutHighlight(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight=`{selector: ${this.selector?this.getSelectorKey():null}}`),this._keyWithoutHighlight}hasIdentity(){return this.selector&&!!this.selector.data}getSelector(){return this.selector}getSelectorsByColumn(){return this.selectorsByColumn}getSelectorKey(){return void 0===this._selectorKey&&(this._selectorKey=(0,a.i7)(this.selector)),this._selectorKey}runComparison(v,m,p,y,S){var C=this.extractComparisonFromCache(v,m,y);if(void 0===C){switch(p){case n.Contains:C=(0,t.XV)(v.expr,m);break;case n.Equals:C=(0,t.aI)(v,m);break;default:r.Y.assertNever(p)}this.addComparisonToCache(v,m,C,y,S)}return C}extractComparisonFromCache(v,m,p){if(p){var y=p[v.key];if(y)return y[m.key]}}addComparisonToCache(v,m,p,y,S){if(y){var C=y[v.key];if(C||(C=y[v.key]={}),C[m.key]=p,S){var u=y[m.key];u||(u=y[m.key]={}),u[v.key]=p}}}getComparisonTypeCache(v,m){switch(m){case n.Contains:return v.containsComparisonCache;case n.Equals:return v.equalsComparisonCache;default:r.Y.assertNever(m)}}isOrderIndependentComparison(v){switch(v){case n.Contains:case n.Equals:return!0;default:r.Y.assertNever(v)}}static createNull(v=!1){return new d(null,v)}static createWithId(v,m=!1){var p=null;return v&&(p={data:[v]}),new d(p,m)}static createWithMeasure(v,m=!1){r.Y.assertValue(v,"measureId");var y=new d({metadata:v},m);return y.selectorsByColumn={metadata:[v]},y}static createWithIdAndMeasure(v,m,p=!1){var y={};return v&&(y.data=[v]),m&&(y.metadata=m),!v&&!m&&(y=null),new d(y,p)}static createWithIdAndMeasureAndCategory(v,m,p,y=!1,S=[]){var C=this.createWithIdAndMeasure(v,m,y);return C.selector&&(C.selectorsByColumn={},v&&p&&(C.selectorsByColumn.dataMap={},C.selectorsByColumn.dataMap[p]=[v]),m&&(C.selectorsByColumn.metadata=[m]),_.isEmpty(S)||(C.selectorsByColumn.valueDetails=S)),C}static createWithIds(v,m,p=!1){var y=null,S=d.idArray(v,m);return S&&(y={data:S}),new d(y,p)}static createWithIdsAndMeasure(v,m,p,y=!1){var S={},C=d.idArray(v,m);return C&&(S.data=C),p&&(S.metadata=p),!v&&!m&&!p&&(S=null),new d(S,y)}static createWithSelectorForColumnAndMeasure(v,m,p=!1,y=[]){var S={};_.isEmpty(v)||(S.dataMap=v),m&&(S.metadata=[m]),!v&&!m&&(S=null),_.isEmpty(y)||(S.valueDetails=y);var C=(0,a.j9)(S);return new d(C,p,S)}static createWithSelectorForColumnAndMeasures(v,m,p,y=!1){var S={};_.isEmpty(v)||(S.dataMap=v),_.isEmpty(m)||(S.metadata=m),p&&(S.valueDetails=p),!v&&_.isEmpty(m)&&(S=null);var C=(0,a.j9)(S);return new d(C,y,S)}static createWithHighlight(v){r.Y.assertValue(v,"original"),r.Y.assert(()=>!v.highlight,"!original.highlight");var m=new d(v.getSelector(),!0);return m.selectorsByColumn=v.selectorsByColumn,m}static idArray(v,m){if(v||m){var p=[];return v&&p.push(v),m&&m!==v&&p.push(m),p}}static ensureSelector(v){return v&&v.data&&(v.data=_.uniqWith(v.data,a.mu)),v}}function s(o,v,m){var y,p=o.format;return{expr:o.expr,get formattedValue(){return void 0===y&&(y=(0,g.GP)(v,p)),y},value:v,identity:m,queryName:o.queryName}}class h{static builder(){return new h}withColumnIdentity(v,m,p){return this.addItemToDataMap(m,v),p&&(this.ensureValueDetails(),this.valueDetails.push(...p)),this}withCategoryIdentity(v,m,p){return v&&v.source&&v.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,v.values[m],v.identity[m])),this.addItemToDataMap(v.source.queryName,p)),this}withCategory(v,m,p,y=!1){if((0,l.mX)(v)){if(y&&p)for(var S of v)this.addCategoryValueDetails(S,m);v[0]&&p&&v[0].identity&&this.addItemToDataMap(p,v[0].identity[m])}else y&&this.addCategoryValueDetails(v,m),v&&v.source&&v.source.queryName&&v.identity&&this.addItemToDataMap(v.source.queryName,v.identity[m]);return this}addCategoryValueDetails(v,m){v&&v.source&&v.source.queryName&&v.identity&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,v.values[m],v.identity[m])))}withSeries(v,m,p=!1){return v&&v.source&&v.source.queryName&&m&&(p&&(0,l.MK)(m)&&(this.ensureValueDetails(),this.valueDetails.push(s(v.source,m.name,m.identity))),this.addItemToDataMap(v.source.queryName,m.identity)),this}withMeasure(v,m,p){if(this.ensureMeasures(),null!=v&&this.measures.push(v),m&&m.source.queryName===v)if(this.ensureValueDetails(),p>=0)this.valueDetails.push(s(m.source,m.values[p],void 0));else for(var y of m.values)this.valueDetails.push(s(m.source,y,void 0));return this}withMeasures(v){for(var m of(this.ensureMeasures(),v))this.measures.push(m);return this}createSelectionId(){return d.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)}clone(){var v=new h,m=this.dataMap;if(m){var p=v.dataMap={};for(var y in this.dataMap)p[y]=[...m[y]||[]]}return this.measures&&(v.measures=[...this.measures||[]]),v}ensureMeasures(){void 0===this.measures&&(this.measures=[])}ensureValueDetails(){void 0===this.valueDetails&&(this.valueDetails=[])}addItemToDataMap(v,m){if(m){this.dataMap||(this.dataMap={});var p=this.dataMap,y=p[v];if(null==y)return void(p[v]=[m]);y.push(m)}}}},468291:function(me,j,e){e.d(j,{Ez:function(){return a},Gf:function(){return i},Zw:function(){return t},np:function(){return r}});var r=function(l){return l[l.invalidAggregateFunction=0]="invalidAggregateFunction",l[l.invalidSchemaReference=1]="invalidSchemaReference",l[l.invalidEntityReference=2]="invalidEntityReference",l[l.invalidColumnReference=3]="invalidColumnReference",l[l.invalidGroupingColumnReference=4]="invalidGroupingColumnReference",l[l.invalidMeasureReference=5]="invalidMeasureReference",l[l.invalidHierarchyReference=6]="invalidHierarchyReference",l[l.invalidHierarchyLevelReference=7]="invalidHierarchyLevelReference",l[l.invalidVariationReference=8]="invalidVariationReference",l[l.invalidLeftOperandType=9]="invalidLeftOperandType",l[l.invalidRightOperandType=10]="invalidRightOperandType",l[l.invalidValueType=11]="invalidValueType",l[l.invalidPercentileArgument=12]="invalidPercentileArgument",l[l.invalidPercentArgument=13]="invalidPercentArgument",l[l.invalidScopeArgument=14]="invalidScopeArgument",l[l.invalidTableReference=15]="invalidTableReference",l[l.invalidDiscretizeCount=16]="invalidDiscretizeCount",l[l.invalidFiltersForFilteredEval=17]="invalidFiltersForFilteredEval",l[l.invalidSubqueryReference=18]="invalidSubqueryReference",l}({}),i=function(l){return l[l.Default=0]="Default",l[l.Ordinal=1]="Ordinal",l}({}),a=function(l){return l[l.Entity=0]="Entity",l[l.SubqueryRef=1]="SubqueryRef",l[l.ColumnRef=2]="ColumnRef",l[l.MeasureRef=3]="MeasureRef",l[l.Aggregation=4]="Aggregation",l[l.PropertyVariationSource=5]="PropertyVariationSource",l[l.Hierarchy=6]="Hierarchy",l[l.HierarchyLevel=7]="HierarchyLevel",l[l.And=8]="And",l[l.Between=9]="Between",l[l.In=10]="In",l[l.Or=11]="Or",l[l.Contains=12]="Contains",l[l.Compare=13]="Compare",l[l.StartsWith=14]="StartsWith",l[l.Exists=15]="Exists",l[l.Not=16]="Not",l[l.Constant=17]="Constant",l[l.DateSpan=18]="DateSpan",l[l.DateAdd=19]="DateAdd",l[l.Now=20]="Now",l[l.AnyValue=21]="AnyValue",l[l.DefaultValue=22]="DefaultValue",l[l.Arithmetic=23]="Arithmetic",l[l.FillRule=24]="FillRule",l[l.ResourcePackageItem=25]="ResourcePackageItem",l[l.ScopedEval=26]="ScopedEval",l[l.WithRef=27]="WithRef",l[l.Percentile=28]="Percentile",l[l.RangePercent=29]="RangePercent",l[l.SelectRef=30]="SelectRef",l[l.TransformTableRef=31]="TransformTableRef",l[l.TransformOutputRoleRef=32]="TransformOutputRoleRef",l[l.ThemeDataColor=33]="ThemeDataColor",l[l.GroupRef=34]="GroupRef",l[l.Floor=35]="Floor",l[l.RoleRef=36]="RoleRef",l[l.AllRolesRef=37]="AllRolesRef",l[l.Discretize=38]="Discretize",l[l.NamedQueryRef=39]="NamedQueryRef",l[l.Member=40]="Member",l[l.FilteredEval=41]="FilteredEval",l[l.Conditional=42]="Conditional",l[l.NativeMeasure=43]="NativeMeasure",l[l.NativeColumn=44]="NativeColumn",l[l.SummaryValueRef=45]="SummaryValueRef",l[l.SparklineData=46]="SparklineData",l[l.NativeVisualCalc=47]="NativeVisualCalc",l[l.VisualTopN=48]="VisualTopN",l}({}),t=function(l){return l[l.FormatString=0]="FormatString",l}({})},850396:function(me,j,e){e.d(j,{l0:function(){return a},tl:function(){return i},um:function(){return r}});var r=function(t){return t[t.And=0]="And",t[t.Or=1]="Or",t[t.Undefined=2]="Undefined",t}({}),i=function(t){return t[t.None=0]="None",t[t.LessThan=1]="LessThan",t[t.LessThanOrEqual=2]="LessThanOrEqual",t[t.GreaterThan=3]="GreaterThan",t[t.GreaterThanOrEqual=4]="GreaterThanOrEqual",t[t.Contains=5]="Contains",t[t.DoesNotContain=6]="DoesNotContain",t[t.StartWith=7]="StartWith",t[t.DoesNotStartWith=8]="DoesNotStartWith",t[t.Is=9]="Is",t[t.IsNot=10]="IsNot",t[t.IsBlank=11]="IsBlank",t[t.IsNotBlank=12]="IsNotBlank",t[t.IsEmptyString=13]="IsEmptyString",t[t.IsNotEmptyString=14]="IsNotEmptyString",t}({}),a=function(t){return t[t.Column=0]="Column",t[t.Measure=1]="Measure",t[t.Exists=2]="Exists",t[t.Subquery=3]="Subquery",t[t.VisualTopN=4]="VisualTopN",t}({})},759520:function(me,j,e){e.d(j,{E0:function(){return I},UU:function(){return R},WE:function(){return L},YR:function(){return i},ZO:function(){return W},_w:function(){return F},hm:function(){return N},vG:function(){return A}});var r=e(785463);function i(H,Z){return r.Y.assertValue(H,"expr"),r.Y.assertValue(Z,"visitor"),r.Y.assertValue(H,"expected sqExpr to conform to a fieldExprPattern"),H.column?function(H,Z){return r.Y.assertValue(H,"column"),r.Y.assertValue(Z,"visitor"),Z.visitColumn(H)}(H.column,Z):H.columnAggr?function(H,Z){return r.Y.assertValue(H,"columnAggr"),r.Y.assertValue(Z,"visitor"),Z.visitColumnAggr(H)}(H.columnAggr,Z):H.groupingColumn?function(H,Z){return r.Y.assertValue(H,"column"),r.Y.assertValue(Z,"visitor"),Z.visitGroupingColumn(H)}(H.groupingColumn,Z):H.groupingColumnAggr?function(H,Z){return r.Y.assertValue(H,"columnAggr"),r.Y.assertValue(Z,"visitor"),Z.visitGroupingColumnAggr(H)}(H.groupingColumnAggr,Z):H.columnHierarchyVariation?function(H,Z){return r.Y.assertValue(H,"columnHierarchyVariation"),r.Y.assertValue(Z,"visitor"),Z.visitColumnHierarchyVariation(H)}(H.columnHierarchyVariation,Z):H.columnHierarchyLevelVariation?function(H,Z){return r.Y.assertValue(H,"columnHierarchyLevelVariation"),r.Y.assertValue(Z,"visitor"),Z.visitColumnHierarchyLevelVariation(H)}(H.columnHierarchyLevelVariation,Z):H.columnSubquery?function(H,Z){return r.Y.assertValue(H,"columnSubquery"),r.Y.assertValue(Z,"visitor"),Z.visitColumnSubquery(H)}(H.columnSubquery,Z):H.columnAggrSubquery?function(H,Z){return r.Y.assertValue(H,"columnAggrSubquery"),r.Y.assertValue(Z,"visitor"),Z.visitColumnAggrSubquery(H)}(H.columnAggrSubquery,Z):H.columnTransformRef?function(H,Z){return r.Y.assertValue(H,"columnTransformRef"),r.Y.assertValue(Z,"visitor"),Z.visitColumnTransformRef(H)}(H.columnTransformRef,Z):H.entity?function(H,Z){return r.Y.assertValue(H,"entity"),r.Y.assertValue(Z,"visitor"),Z.visitEntity(H)}(H.entity,Z):H.entityAggr?function(H,Z){return r.Y.assertValue(H,"entityAggr"),r.Y.assertValue(Z,"visitor"),Z.visitEntityAggr(H)}(H.entityAggr,Z):H.hierarchy?function(H,Z){return r.Y.assertValue(H,"hierarchy"),r.Y.assertValue(Z,"visitor"),Z.visitHierarchy(H)}(H.hierarchy,Z):H.hierarchyLevel?function(H,Z){return r.Y.assertValue(H,"hierarchyLevel"),r.Y.assertValue(Z,"visitor"),Z.visitHierarchyLevel(H)}(H.hierarchyLevel,Z):H.hierarchyLevelAggr?function(H,Z){return r.Y.assertValue(H,"hierarchyLevelAggr"),r.Y.assertValue(Z,"visitor"),Z.visitHierarchyLevelAggr(H)}(H.hierarchyLevelAggr,Z):H.measure?function(H,Z){return r.Y.assertValue(H,"measure"),r.Y.assertValue(Z,"visitor"),Z.visitMeasure(H)}(H.measure,Z):H.percentile?function(H,Z){return r.Y.assertValue(H,"percentile"),r.Y.assertValue(Z,"visitor"),Z.visitPercentile(H)}(H.percentile,Z):H.percentOfGrandTotal?function(H,Z){return r.Y.assertValue(H,"percentOfGrandTotal"),r.Y.assertValue(Z,"visitor"),Z.visitPercentOfGrandTotal(H)}(H.percentOfGrandTotal,Z):H.percentOfRoleTotal?function(H,Z){return r.Y.assertValue(H,"percentOfRoleTotal"),r.Y.assertValue(Z,"visitor"),Z.visitPercentOfRoleTotal(H)}(H.percentOfRoleTotal,Z):H.selectRef?function(H,Z){return r.Y.assertValue(H,"selectRef"),r.Y.assertValue(Z,"visitor"),Z.visitSelectRef(H)}(H.selectRef,Z):H.transformOutputRoleRef?function(H,Z){return r.Y.assertValue(H,"transformOutputRoleRef"),r.Y.assertValue(Z,"visitor"),Z.visitTransformOutputRoleRef(H)}(H.transformOutputRoleRef,Z):H.filteredEval?function(H,Z){return r.Y.assertValue(H,"filteredEval"),r.Y.assertValue(Z,"visitor"),Z.visitFilteredEval(H)}(H.filteredEval,Z):H.arithmetic?function(H,Z){return r.Y.assertValue(H,"arithmetic"),r.Y.assertValue(Z,"visitor"),Z.visitArithmetic(H)}(H.arithmetic,Z):H.constant?function(H,Z){return r.Y.assertValue(H,"constant"),r.Y.assertValue(Z,"visitor"),Z.visitConstant(H)}(H.constant,Z):H.sparklineData?function(H,Z){return r.Y.assertValue(H,"sparkline"),r.Y.assertValue(Z,"visitor"),Z.visitSparklineData(H)}(H.sparklineData,Z):H.nativeVisualCalc?function(H,Z){return r.Y.assertValue(H,"nativeVisualCalc"),r.Y.assertValue(Z,"visitor"),Z.visitNativeVisualCalc(H)}(H.nativeVisualCalc,Z):void r.Y.assertFail("failed to visit a fieldExprPattern.")}function N(H){var Z=i(H,z.instance);return r.Y.assert(()=>!Z||1===_.size(Z),"If there are more than 1 property names, then use getPropertyNames instead"),Z?.[0]}function I(H){return i(H,z.instance)}function R(H){return H.columnHierarchyLevelVariation?H.columnHierarchyLevelVariation.source:H.column||H.groupingColumn||H.groupingColumnAggr||H.measure||H.columnAggr}function W(H){return N(H)||A(H).entity}function F(H){var Z=function(H){r.Y.assertValue(H,"fieldExpr");var Z=L(H);return r.Y.assertAnyValue(Z,"expected fieldExpr to be an entity item"),_.isEmpty(Z)?void 0:_.map(Z,k=>k.schema)}(H);return r.Y.assert(()=>!Z||1===_.size(Z),"If there are more than 1 schema, then use getSchemas instead"),Z?.[0]}function A(H){var Z=i(H,Y.instance);return r.Y.assert(()=>!Z||1===_.size(Z),"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),Z?.[0]}function L(H){return i(H,Y.instance)}var Y=(()=>{class H{visitColumn(k){return[H.toEntityItemExprPattern(k)]}visitColumnAggr(k){return[H.toEntityItemExprPattern(k)]}visitGroupingColumn(k){return[H.toEntityItemExprPattern(k)]}visitGroupingColumnAggr(k){return[H.toEntityItemExprPattern(k)]}visitColumnHierarchyVariation(k){return[H.toEntityItemExprPattern(k.source)]}visitColumnHierarchyLevelVariation(k){return[H.toEntityItemExprPattern(k.source)]}visitColumnSubquery(k){}visitColumnAggrSubquery(k){}visitColumnTransformRef(k){}visitEntity(k){return[H.toEntityItemExprPattern(k)]}visitEntityAggr(k){return[H.toEntityItemExprPattern(k)]}visitHierarchy(k){return[H.toEntityItemExprPattern(k)]}visitHierarchyLevel(k){return[H.toEntityItemExprPattern(k)]}visitHierarchyLevelAggr(k){return[H.toEntityItemExprPattern(k)]}visitMeasure(k){return[H.toEntityItemExprPattern(k)]}visitSelectRef(k){}visitPercentile(k){return i(k.arg,this)}visitPercentOfGrandTotal(k){return i(k.baseExpr,this)}visitPercentOfRoleTotal(k){return i(k.baseExpr,this)}visitTransformOutputRoleRef(k){}visitFilteredEval(k){return i(k.baseExpr,this)}visitArithmetic(k){var K=i(k.left,this),ee=i(k.right,this),Q=K&&ee?[...K,...ee]:K??ee;return _.isEmpty(Q)?void 0:Q}visitConstant(k){}visitSparklineData(k){return[...i(k.measure,this),..._.chain(k.grouping).map(K=>i(K,this)).flatten().value()]}visitNativeVisualCalc(k){}static toEntityItemExprPattern(k){r.Y.assertValue(k,"exprPattern");var K={schema:k.schema,entity:k.entity};return k.entityVar&&(K.entityVar=k.entityVar),K}}return H.instance=new H,H})(),z=(()=>{class H{visitColumn(k){return[k.name]}visitColumnAggr(k){return[k.name]}visitGroupingColumn(k){return[k.name]}visitGroupingColumnAggr(k){return[k.name]}visitColumnHierarchyVariation(k){}visitColumnHierarchyLevelVariation(k){}visitColumnSubquery(k){return[k.name]}visitColumnAggrSubquery(k){return[k.name]}visitColumnTransformRef(k){return[k.name]}visitEntity(k){}visitEntityAggr(k){}visitHierarchy(k){}visitHierarchyLevel(k){}visitHierarchyLevelAggr(k){}visitMeasure(k){return[k.name]}visitSelectRef(k){}visitPercentile(k){return i(k.arg,this)}visitPercentOfGrandTotal(k){return i(k.baseExpr,this)}visitPercentOfRoleTotal(k){return i(k.baseExpr,this)}visitTransformOutputRoleRef(k){}visitFilteredEval(k){return i(k.baseExpr,this)}visitArithmetic(k){var K=i(k.left,this),ee=i(k.right,this),Q=K&&ee?[...K,...ee]:K??ee;return _.isEmpty(Q)?void 0:Q}visitConstant(k){}visitSparklineData(k){return[...i(k.measure,this),..._.chain(k.grouping).map(K=>i(K,this)).flatten().value()]}visitNativeVisualCalc(k){return[k.name]}}return H.instance=new H,H})()},574324:function(me,j,e){e.d(j,{F:function(){return d},b:function(){return s}});var r=e(785463),i=e(364472),a=e(662785),t=e(20502),l=e(15721),g=e(525034),n=e(460169);function d(v,m){return v.accept(new s(m))}class s extends t.nP{constructor(m){super(),this.schema=m}visitColumnRef(m){var p=m.source.accept(h.instance);if(p){if(p.entity){var y=p.entity;return y.name=m.ref,{column:y}}if(p.subquery)return p.subquery.variable?{columnSubquery:{name:m.ref,subqueryRef:p.subquery.variable}}:{columnSubquery:{name:m.ref,subquery:p.subquery.query}};if(p.transform)return{columnTransformRef:{name:m.ref,transformTable:p.transform}}}}visitMeasureRef(m){var p=m.source.accept(h.instance);if(p&&p.entity){var y=p.entity;return y.name=m.ref,{measure:y}}}visitEntity(m){var p={schema:m.schema,entity:m.entity};return m.variable&&(p.entityVar=m.variable),{entity:p}}visitAggr(m){var p=m.arg.accept(this);if(p){if(p.column){var y=p.column;return y.aggregate=m.func,{columnAggr:y}}if(p.columnAggr){var S=p.columnAggr;return S.aggregate=m.func,{columnAggr:S}}if(p.groupingColumn){var C=p.groupingColumn;return C.aggregate=m.func,{groupingColumnAggr:C}}if(p.groupingColumnAggr){var u=p.groupingColumnAggr;return u.aggregate=m.func,{groupingColumnAggr:u}}if(p.hierarchyLevel){var E=p.hierarchyLevel;return E.aggregate=m.func,{hierarchyLevelAggr:E}}if(p.columnHierarchyLevelVariation){var c=p.columnHierarchyLevelVariation.level;return c.aggregate=m.func,{hierarchyLevelAggr:c}}if(p.columnSubquery){var f=p.columnSubquery;return f.aggregate=m.func,{columnAggrSubquery:f}}}var D=m.arg.accept(h.instance);if(D&&D.entity){var b=D.entity;return b.aggregate=m.func,{entityAggr:b}}}visitPercentile(m){return{percentile:{arg:m.arg.accept(this),k:m.k,exclusive:m.exclusive}}}visitGroupRef(m){var p=m.source.accept(h.instance);if(p&&p.entity){var y=p.entity;for(var S of(y.name=m.ref,y.groupedColumns=[],m.groupedExprs)){var C=S.accept(this);(C.column||C.groupingColumn||C.hierarchyLevel)&&y.groupedColumns.push(C)}return{groupingColumn:y}}}visitHierarchy(m){var p=m.arg.accept(h.instance);if(p){if(p.entity)return{hierarchy:{entity:p.entity.entity,name:m.hierarchy,schema:p.entity.schema}};if(p.variation&&p.variation.column){var y=p.variation;if((0,a.sD)(m.arg)){var S=m.arg;if((0,a.Qg)(S.arg)){var C=S.arg,u=this.schema.schema(y.column.schema).findTargetEntityOfVariation(C.entity,y.column.name,y.variationName);if(u)return{columnHierarchyVariation:{source:{...y.column},hierarchy:{schema:y.column.schema,entity:u.name,name:m.hierarchy},variationName:p.variation.variationName}}}}}}}visitHierarchyLevel(m){var p=m.arg.accept(o.instance);if(p){var y;if(p.hierarchy&&(y={entity:p.hierarchy.entity,schema:p.hierarchy.schema,name:p.hierarchy.name,level:m.level}),p.variation){if(this.schema){var S=p.variation,C=this.schema.schema(p.variation.column.schema).findTargetEntityOfVariation(y.entity,S.column.name,S.variationName);C&&(y.entity=C.name)}return{columnHierarchyLevelVariation:{source:{entity:p.variation.column.entity,schema:p.variation.column.schema,name:p.variation.column.name},level:y,variationName:p.variation.variationName}}}return{hierarchyLevel:y}}}visitArithmetic(m){if(!(0,a.tZ)(m.right)||m.operator!==n.Fj.Divide)return{arithmetic:{left:m.left.accept(this),right:m.right.accept(this),operator:m.operator}};var p=m.right.scope;return _.isEmpty(p)?{percentOfGrandTotal:{baseExpr:m.left.accept(this)}}:_.every(p,y=>(0,a.aV)(y))?{percentOfRoleTotal:{baseExpr:m.left.accept(this),roles:_.map(p,y=>y.role)}}:void 0}visitSelectRef(m){return{selectRef:{expressionName:m.expressionName}}}visitTransformOutputRoleRef(m){return{transformOutputRoleRef:{expressionName:m.role}}}visitFilteredEval(m){var p=_.map(m.filters,y=>{var S=(0,g.Z$)(i.b0.fromSQFromAndSQFilters(new l.l0,[y]),this.schema);if(S)return r.Y.assert(()=>1===S.length,"There are more than one filter pattern in this Semantic Filter"),S[0]});return{filteredEval:{baseExpr:m.expression.accept(this),filters:p}}}visitConstant(m){return{constant:{value:m.value,type:m.type}}}visitSparklineData(m){return{sparklineData:{measure:m.measure.accept(this),grouping:_.map(m.grouping,p=>p.accept(this))}}}visitNativeVisualCalc(m){return{nativeVisualCalc:{name:m.name,language:m.language,expression:m.expression}}}}var h=(()=>{class v extends t.nP{visitEntity(p){var y={schema:p.schema,entity:p.entity};return p.variable&&(y.entityVar=p.variable),{entity:y}}visitPropertyVariationSource(p){var y=p.arg;if((0,a.Qg)(y)){var S={schema:y.schema,entity:y.entity,name:p.property};return y.variable&&(S.entityVar=y.variable),{variation:{column:S,variationName:p.name}}}}visitSubqueryRef(p){return p.variable?{subquery:{variable:p.variable}}:{subquery:{query:p.query}}}visitTransformTableRef(p){return r.Y.assertValue(p,"expr"),r.Y.assertValue(p.source,"source"),{transform:{name:p?.source}}}}return v.instance=new v,v})(),o=(()=>{class v extends t.nP{visitHierarchy(p){var S,C,y=p.arg.accept(h.instance);return y.variation?(S={name:p.hierarchy,schema:y.variation.column.schema,entity:y.variation.column.entity},C=y.variation):S={name:p.hierarchy,schema:y.entity.schema,entity:y.entity.entity},{hierarchy:S,variation:C}}}return v.instance=new v,v})()},627201:function(me,j,e){e.d(j,{$Q:function(){return M},CX:function(){return R},D2:function(){return c},Hu:function(){return O},O7:function(){return C},Oj:function(){return u},P7:function(){return W},R3:function(){return E},Sg:function(){return I},Vm:function(){return f},Xq:function(){return S},_S:function(){return F},ah:function(){return T},cu:function(){return p},fq:function(){return y},gl:function(){return w},hB:function(){return x},hu:function(){return N},kf:function(){return b},li:function(){return D},tP:function(){return A},to:function(){return o},tt:function(){return v},xA:function(){return P},yt:function(){return V}});var r=e(785463),i=e(446024),a=e(759520),t=e(574324),l=e(525034),g=e(850396),n=e(460169),d=e(662785),s=e(978450),h=e(253870);function o(z){var H=(0,a.YR)(z,B.instance);return r.Y.assertValue(H,"Failed to convert FieldExprPattern into SQExpr"),H}function v(z){var H={condition:(0,l.YR)(z,m.instance)};return _.isEmpty(z.target)||(H.target=_.map(z.target,Z=>o(Z))),H}var m=(()=>{class z{visitIn(Z){var k=(0,i.eu)(_.map(Z.args,K=>o(K)),_.map(Z.values,K=>_.map(K,ee=>(0,i.FT)(ee.value,ee.type))));return Z.not?(0,i.AU)(k):k}visitBetween(Z){var k,K;if(Z&&Z.lower&&Z.upper&&((0,l.Jq)(Z.lower)&&(0,l.Jq)(Z.upper)?(k=(0,i.b5)(Z.lower.unit,(0,i.KQ)(Z.lower.value)),K=(0,i.b5)(Z.upper.unit,(0,i.KQ)(Z.upper.value))):(0,l.Bi)(Z.lower)&&(0,l.Bi)(Z.upper)&&(k=(0,i.FT)(Z.lower.value,Z.lower.type),K=(0,i.FT)(Z.upper.value,Z.upper.type)),k&&K))return(0,i.Tq)(o(Z.arg),k,K)}visitRelativeDateRange(Z){return(0,h.qd)({field:o(Z.arg),options:Z.options})}visitComposite(Z){return null}visitTopN(Z){return null}visitComplex(Z){r.Y.assertFail("cannot recreate complex patterns as SQExprs")}visitAdvanced(Z){var k=Z.logicalOperator,K=(0,l.Un)(Z.left)?this.visitCompare(Z.left):this.visitAdvanced(Z.left),ee=(0,l.Un)(Z.right)?this.visitCompare(Z.right):this.visitAdvanced(Z.right);return k===g.um.And?(0,i.Uo)(K,ee):(0,i.or)(K,ee)}visitCompare(Z){var k=o(Z.arg),K=this.getValueExpr(Z.condition);if(K&&k)return this.expandExpr(Z.filterOperator,K,k)}expandExpr(Z,k,K){switch(Z){case g.tl.Is:return(0,i.UD)(n.mq.Equal,K,k);case g.tl.IsNot:return(0,i.AU)((0,i.UD)(n.mq.Equal,K,k));case g.tl.IsBlank:return(0,i.UD)(n.mq.Equal,K,(0,i.gN)());case g.tl.IsNotBlank:return(0,i.AU)((0,i.UD)(n.mq.Equal,K,(0,i.gN)()));case g.tl.Contains:return(0,i.gR)(K,k);case g.tl.DoesNotContain:return(0,i.AU)((0,i.gR)(K,k));case g.tl.StartWith:return(0,i.w1)(K,k);case g.tl.DoesNotStartWith:return(0,i.AU)((0,i.w1)(K,k));case g.tl.GreaterThan:return(0,i.UD)(n.mq.GreaterThan,K,k);case g.tl.GreaterThanOrEqual:return(0,i.UD)(n.mq.GreaterThanOrEqual,K,k);case g.tl.LessThan:return(0,i.UD)(n.mq.LessThan,K,k);case g.tl.LessThanOrEqual:return(0,i.UD)(n.mq.LessThanOrEqual,K,k);case g.tl.IsEmptyString:return(0,i.UD)(n.mq.Equal,K,(0,i.Qq)(""));case g.tl.IsNotEmptyString:return(0,i.AU)((0,i.UD)(n.mq.Equal,K,(0,i.Qq)("")));default:r.Y.assertFail("Not valid filter operator type.")}}getValueExpr(Z){var k;return Z.constant?k=(0,i.FT)(Z.constant.value,Z.constant.type):Z.dateSpan?k=(0,i.b5)(Z.dateSpan.unit,(0,i.KQ)(Z.dateSpan.value)):Z.defaultValue?r.Y.assertFail("DefaultValue is not supported yet"):Z.anyValue&&r.Y.assertFail("AnyValue is not supported yet"),k}visitHierarchical(Z){}visitVisualTopN(Z){return new i.vy(Z.itemCount)}}return z.instance=new z,z})();function p(z){return(0,i.QD)(y(z),z.aggregate)}function y(z){return(0,i.sX)(u(z),z.name)}function S(z){return(0,i.QD)((0,i.bR)(z.name,u(z),U(z.groupedColumns)),z.aggregate)}function C(z){return(0,i.bR)(z.name,u(z),U(z.groupedColumns))}function u(z){return(0,i.EG)(z.schema,z.entity,z.entityVar)}function E(z){return(0,i.QD)(u(z),z.aggregate)}function c(z){var H=u(z.source),Z=(0,i.U7)(H,z.variationName,z.source.name);return(0,i.Sk)(Z,z.hierarchy.name)}function f(z){var H=u(z.source),Z=(0,i.U7)(H,z.variationName,z.source.name),k=(0,i.Sk)(Z,z.level.name);return(0,i.Mw)(k,z.level.level)}function D(z){return z.subqueryRef?(0,i.sX)((0,i.a_)(z.subqueryRef),z.name):z.subquery?(0,i.sX)((0,i.a_)(z.subquery),z.name):void 0}function b(z){return(0,i.QD)((0,i.sX)((0,i.a_)(z.subqueryRef),z.name),z.aggregate)}function T(z){return(0,i.sX)((0,i.CR)(z.transformTable.name),z.name)}function M(z){return(0,i.QD)(V(z),z.aggregate)}function V(z){return(0,i.Mw)(w(z),z.level)}function w(z){return(0,i.Sk)(u(z),z.name)}function P(z){return(0,i.Bm)(o(z.left),o(z.right),z.operator)}function N(z){return(0,i.FT)(z.value,z.type)}function I(z){return(0,i.yC)(o(z.measure),_.map(z.grouping,H=>o(H)))}function O(z){return new i.UL(z.name,z.language,z.expression)}function R(z){return r.Y.assertValue(z,"fieldExpr"),(0,a.YR)(z,L.instance)}function W(z){return r.Y.assertValue(z,"fieldExpr"),(0,a.YR)(z,Y.instance)}function F(z){return(0,i.sX)((0,i.EG)(z.schema,z.entity,z.entityVar),z.name)}function U(z){return _.map(z,H=>o(H))}var B=(()=>{class z{visitColumn(Z){return y(Z)}visitColumnAggr(Z){return p(Z)}visitGroupingColumn(Z){return C(Z)}visitGroupingColumnAggr(Z){return S(Z)}visitColumnHierarchyVariation(Z){return c(Z)}visitColumnHierarchyLevelVariation(Z){return f(Z)}visitColumnSubquery(Z){return D(Z)}visitColumnAggrSubquery(Z){return b(Z)}visitColumnTransformRef(Z){return T(Z)}visitEntity(Z){return u(Z)}visitEntityAggr(Z){return E(Z)}visitHierarchy(Z){return w(Z)}visitHierarchyLevel(Z){return V(Z)}visitHierarchyLevelAggr(Z){return M(Z)}visitMeasure(Z){return(0,i.K6)(this.visitEntity(Z),Z.name)}visitPercentile(Z){var k=o(Z.arg);return(0,i.Ym)(k,Z.k,Z.exclusive)}visitPercentOfGrandTotal(Z){var k=o(Z.baseExpr);return(0,i.Bm)(k,(0,i.bg)(k,[]),n.Fj.Divide)}visitPercentOfRoleTotal(Z){var k=o(Z.baseExpr);return(0,i.Bm)(k,(0,i.bg)(k,_.map(Z.roles,K=>(0,i.a3)(K))),n.Fj.Divide)}visitSelectRef(Z){return(0,i.o4)(Z.expressionName)}visitTransformOutputRoleRef(Z){return(0,i.Cv)(Z.expressionName)}visitFilteredEval(Z){return(0,i.Ge)(o(Z.baseExpr),_.map(Z.filters,k=>v(k)))}visitArithmetic(Z){return P(Z)}visitConstant(Z){return N(Z)}visitSparklineData(Z){return I(Z)}visitNativeVisualCalc(Z){return O(Z)}}return z.instance=new z,z})();function x(z){return r.Y.assertValue(z,"expr"),(0,d.rJ)(z)&&(0,d.tZ)(z.right)&&!_.isEmpty(z.right.scope)&&_.every(z.right.scope,H=>(0,d.aV)(H))}function A(z,H){if(r.Y.assertValue(z,"expr"),!(0,d.rJ)(z)||!(0,d.tZ)(z.right))return!1;var Z={percentOfGrandTotal:{baseExpr:z.left.accept(new t.b(H))}};return(0,s.aI)(z,o(Z))}var L=(()=>{class z{visitColumn(Z){}visitColumnAggr(Z){return Z.aggregate}visitGroupingColumn(Z){}visitGroupingColumnAggr(Z){return Z.aggregate}visitColumnHierarchyVariation(Z){}visitColumnHierarchyLevelVariation(Z){}visitColumnSubquery(Z){}visitColumnAggrSubquery(Z){return Z.aggregate}visitColumnTransformRef(Z){}visitEntity(Z){}visitEntityAggr(Z){return Z.aggregate}visitHierarchy(Z){}visitHierarchyLevel(Z){}visitHierarchyLevelAggr(Z){return Z.aggregate}visitMeasure(Z){}visitSelectRef(Z){}visitPercentile(Z){}visitPercentOfGrandTotal(Z){return(0,i.CX)(o(Z.baseExpr))}visitPercentOfRoleTotal(Z){return(0,i.CX)(o(Z.baseExpr))}visitTransformOutputRoleRef(Z){}visitFilteredEval(Z){return(0,i.CX)(o(Z.baseExpr))}visitArithmetic(Z){}visitConstant(Z){r.Y.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(Z){}visitNativeVisualCalc(Z){}}return z.instance=new z,z})(),Y=(()=>{class z{visitColumn(Z){return y(Z)}visitColumnAggr(Z){return p(Z)}visitGroupingColumn(Z){return C(Z)}visitGroupingColumnAggr(Z){return S(Z)}visitColumnHierarchyVariation(Z){return c(Z)}visitColumnHierarchyLevelVariation(Z){return f(Z)}visitColumnSubquery(Z){return D(Z)}visitColumnAggrSubquery(Z){return b(Z)}visitColumnTransformRef(Z){return T(Z)}visitEntity(Z){return u(Z)}visitEntityAggr(Z){return E(Z)}visitHierarchy(Z){return w(Z)}visitHierarchyLevel(Z){return V(Z)}visitHierarchyLevelAggr(Z){return M(Z)}visitMeasure(Z){return(0,i.K6)(this.visitEntity(Z),Z.name)}visitSelectRef(Z){return(0,i.o4)(Z.expressionName)}visitPercentile(Z){return(0,a.YR)((0,t.F)(o(Z.arg)),this)}visitPercentOfGrandTotal(Z){return(0,a.YR)((0,t.F)(o(Z.baseExpr)),this)}visitPercentOfRoleTotal(Z){return(0,a.YR)((0,t.F)(o(Z.baseExpr)),this)}visitTransformOutputRoleRef(Z){return(0,i.Cv)(Z.expressionName)}visitFilteredEval(Z){return(0,a.YR)((0,t.F)(o(Z.baseExpr)),this)}visitArithmetic(Z){return P(Z)}visitConstant(Z){r.Y.assertFail("FieldExprPattern - Not expecting to be called")}visitSparklineData(Z){return I(Z)}visitNativeVisualCalc(Z){return new i.UL(Z.name,Z.language,Z.expression)}}return z.instance=new z,z})()},439052:function(me,j,e){e.d(j,{C:function(){return a}});var r=e(785463),i=e(20502);function a(l){r.Y.assertValue(l,"expr");var g=new t;return l.accept(g),g.analyze()}class t extends i.ff{constructor(){super(),this.fieldsBeingFiltered=[]}analyze(){return{fieldsBeingFiltered:this.fieldsBeingFiltered,subqueryName:this.subqueryName}}visitColumnRef(g){this.fieldsBeingFiltered.push(g)}visitHierarchyLevel(g){this.fieldsBeingFiltered.push(g)}visitGroupRef(g){this.fieldsBeingFiltered.push(g)}visitSubqueryRef(g){g.variable?this.subqueryName=g.variable:r.Y.assertFail("SubqueryRef with a inlined subquery not expected here")}visitAggr(g){this.fieldsBeingFiltered.push(g)}visitPropertyVariationSource(g){this.fieldsBeingFiltered.push(g)}visitMeasureRef(g){this.fieldsBeingFiltered.push(g)}}},892066:function(me,j,e){e.d(j,{E:function(){return t},m:function(){return l}});var r=e(850396),i=e(785463),a=e(20502);function t(n){i.Y.assertValue(n,"expr");var d=new g;return n.accept(d),d.analyze()}function l(n){i.Y.assertValue(n,"expr");var d=new g;return n.accept(d),d.analyze().filterKind}class g extends a.ff{constructor(){super(),this.entityExprs={},this.filterKind=r.l0.Column,this.isSubquery=!1}analyze(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?r.l0.Subquery:this.filterKind}}visitMeasureRef(d){this.filterKind=r.l0.Measure,d.source.accept(this)}visitExists(d){this.filterKind=r.l0.Exists,d.arg.accept(this)}visitAggr(d){this.filterKind=r.l0.Measure,d.arg.accept(this)}visitSubqueryRef(d){this.isSubquery=!0}visitEntity(d){this.entityExprs[d.entity]=!0}visitVisualTopN(d){this.filterKind=r.l0.VisualTopN}}},525034:function(me,j,e){e.d(j,{Bi:function(){return c},Jq:function(){return E},SI:function(){return D},Un:function(){return m},YR:function(){return w},Z$:function(){return p},zE:function(){return y}});var r=e(662785),i=e(460169),a=e(785463),t=e(739549),l=e(446024),g=e(850396),n=e(468291),d=e(669129),s=e(574324),h=e(238134),o=e(253870),v=e(536087);function m(A){return void 0!==A.arg}function p(A,L){if(A){var Y=A.where();if(Y){var z=new V(L),H=A.from();return Y.map(Z=>{var k=z.tryMatchPattern(Z,H);if(k){var K={condition:k};return _.isEmpty(Z.target)||(K.target=_.map(Z.target,ee=>(0,s.F)(ee))),K}})}}}function y(A){if(function(A){return!!A.lower&&!!A.upper&&!!A.arg}(A))return function(A){if(A){var L,Y;if(function(A){return void 0!==A.lower.unit}(A)){if(A.lower.unit!==A.upper.unit)return void a.Y.assertFail("DateSpanPattern units should match");L={dateSpan:A.lower},Y={dateSpan:A.upper}}else L={constant:A.lower},Y={constant:A.upper};return{logicalOperator:g.um.And,left:{arg:A.arg,filterOperator:g.tl.GreaterThanOrEqual,condition:L},right:{arg:A.arg,filterOperator:g.tl.LessThanOrEqual,condition:Y}}}}(A);var L=A.args;if(1===L.length){var z=A.not;return f(L[0],A.values,z?g.um.And:g.um.Or,z??!1)}}function E(A){return void 0!==A.unit}function c(A){return void 0!==!!A.type}function f(A,L,Y,z){return 1===L.length?{arg:A,filterOperator:z?g.tl.IsNot:g.tl.Is,condition:{constant:L[0][0]}}:{logicalOperator:Y,left:f(A,L.slice(0,(L.length+1)/2),Y,z),right:f(A,L.slice((L.length+1)/2),Y,z)}}function D(A){if(A)return m(A)?A.filterOperator!==g.tl.Is&&A.filterOperator!==g.tl.IsNot||!A.condition.constant?void 0:{args:[A.arg],values:[[A.condition.constant]],not:A.filterOperator===g.tl.IsNot}:b(A,A.logicalOperator)}function b(A,L){if(A&&A.logicalOperator===L){var Y=[],z=[],H=T(A.left,L);if(H){Y.push(...H.args),z.push(...H.values);var Z=T(A.right,L);if(Z){Y.push(...Z.args),z.push(...Z.values);var k=Y[0];if(Y.every(K=>_.isEqual(K,k)))return{args:[Y[0]],values:z,not:L===g.um.And}}}}}function T(A,L){var Y=[],z=[];if(m(A)){if(!function(A,L){return A===g.um.And&&L===g.tl.IsNot||A===g.um.Or&&L===g.tl.Is}(L,A.filterOperator))return;Y.push(A.arg),z.push([A.condition.constant])}else{var H=b(A,L);if(!H)return;Y.push(...H.args),z.push(...H.values)}return{args:Y,values:z}}class V{constructor(L){this.schema=L}tryMatchPattern(L,Y){var z;if(a.Y.assert(()=>void 0!==L,"There is no SQFilter for this Semantic filter"),z=this.matchTopN(L,Y))return z;var H=L&&L.condition;if(H){if((z=this.tryMatchExpr(H,g.um.Undefined))||(z=this.tryMatchComplex(L,Y)))return z;a.Y.assert(()=>null==z,"There is no pattern that currently matches `expr`")}}tryMatchExpr(L,Y){var z;if((z=this.matchBasicFilter(L))||(z=this.matchRelativeRange(L,t.Z7.Date))||(z=this.matchRelativeRange(L,t.Z7.Time))||(z=this.matchBetweenFilter(L))||(z=this.matchAdvanced(L))||(z=this.matchCompareOperator(L))||Y!==g.um.Or&&(z=this.tryMatchHierarchical(L))||(z=this.matchComposite(L,Y))||(z=this.matchVisualTopNFilter(L)))return z;a.Y.assert(()=>null==z,"There is no pattern that currently matches `expr`")}tryMatchComplex(L,Y){var z=(0,h.c)(L,Y);if(z)return{complex:{args:_.map(z.fieldsBeingFiltered,H=>(0,s.F)(H))}}}matchBasicFilter(L){var Y=!1;if((0,r.w8)(L)&&(Y=!0,L=L.arg),(0,r.S1)(L)&&!L.table&&L.values)return{in:{args:_.map(L.args,z=>(0,s.F)(z)),values:_.map(L.values,z=>_.map(z,(H,Z)=>({value:H.value,type:H.type}))),not:Y}}}matchVisualTopNFilter(L){if((0,r.q_)(L))return{visualTopN:{itemCount:L.itemCount}}}matchBetweenFilter(L){if((0,r.Bt)(L)){if((0,r.B6)(L.lower)&&(0,r.B6)(L.upper))return{between:{arg:(0,s.F)(L.arg),lower:{value:L.lower.arg.value,unit:L.lower.unit},upper:{value:L.upper.arg.value,unit:L.upper.unit}}};if((0,r.VO)(L.lower)&&(0,r.VO)(L.upper))return{between:{arg:(0,s.F)(L.arg),lower:{value:L.lower.value,type:L.lower.type},upper:{value:L.upper.value,type:L.upper.type}}}}}matchTopN(L,Y){if(L&&Y){var z=(0,v.c$)(L,Y);if(z)return{topN:{fieldBeingFiltered:(0,s.F)(z.fieldBeingFiltered),isTop:z.isTop,itemCount:z.itemCount,orderByField:(0,s.F)(z.orderByField)}}}}matchRelativeRange(L,Y){var z=(0,o.Pw)(L,Y);if(z)return{relativeDateRange:{arg:(0,s.F)(z.field),options:z.options}}}matchCompareOperator(L){var Y=L,z=!1;if((0,r.w8)(L)&&(Y=L.arg,z=!0),(0,r.Wc)(Y)||(0,r.c5)(Y)||(0,r.qg)(Y)){var H=this.getValuePattern(Y.left,Y.right);if(H)return{compareOperator:{arg:(0,s.F)(Y.left),filterOperator:this.mapFromSQExprKindToFilterOperator(Y,z),condition:H}}}}getValuePattern(L,Y){if((0,r.B6)(Y)){var z=Y.arg;if((0,r.VO)(z))return{dateSpan:{value:z.value,unit:Y.unit}}}if((0,r.VO)(Y))return{constant:{value:Y.value,type:Y.type}};if((0,r.xb)(Y)){var H=d.B.getDefaultValue(L,this.schema);return{defaultValue:{value:H.value,type:H.type}}}return(0,r.qz)(Y)?{anyValue:{}}:void 0}matchAdvanced(L){if((0,r.mP)(L)||(0,r.yE)(L)){var Y=(0,r.mP)(L)?g.um.And:g.um.Or,z=this.matchAdvanced(L.left)||this.matchCompareOperator(L.left);if(z){var H=this.matchAdvanced(L.right)||this.matchCompareOperator(L.right);if(H)return{advancedOperator:{logicalOperator:Y,left:z.advancedOperator||z.compareOperator,right:H.advancedOperator||H.compareOperator}}}}}mapFromSQExprKindToFilterOperator(L,Y){var H=g.tl.None;switch(L.kind){case n.Ez.Contains:H=Y?g.tl.DoesNotContain:g.tl.Contains;break;case n.Ez.StartsWith:H=Y?g.tl.DoesNotStartWith:g.tl.StartWith;break;case n.Ez.Compare:var Z=L;Z.comparison===i.mq.Equal?H=(0,r.VO)(Z.right)&&null==Z.right.value?Y?g.tl.IsNotBlank:g.tl.IsBlank:(0,r.VO)(Z.right)&&""===Z.right.value?Y?g.tl.IsNotEmptyString:g.tl.IsEmptyString:Y?g.tl.IsNot:g.tl.Is:Z.comparison===i.mq.GreaterThan?H=g.tl.GreaterThan:Z.comparison===i.mq.GreaterThanOrEqual?H=g.tl.GreaterThanOrEqual:Z.comparison===i.mq.LessThan?H=g.tl.LessThan:Z.comparison===i.mq.LessThanOrEqual&&(H=g.tl.LessThanOrEqual);break;default:H=g.tl.None}return H}tryMatchHierarchical(L){var Z,k,Y=[],z=[],H={hierarchical:{included:Y,excluded:z}};if(L instanceof l.xC){if(Z=this.tryGetHierarchicalNode(L.left,!1)||this.tryGetHierarchicalNode(L.right,!1),k=this.tryGetHierarchicalNode(L.left,!0)||this.tryGetHierarchicalNode(L.right,!0),!Z||!k)return}else if(Z=this.tryGetHierarchicalNode(L,!1),k=this.tryGetHierarchicalNode(L,!0),!Z&&!k)return;return Z&&!this.matchHierarchicalNode(Z,!1,Y)||k&&!this.matchHierarchicalNode(k,!0,z)?void 0:H}tryGetHierarchicalNode(L,Y){if(Y){if(L instanceof l.JC){if(L.arg instanceof l.zn||L.arg instanceof l.xC)return L.arg}else if(L instanceof l.xC)return L}else if(L instanceof l.Zd||L instanceof l.zn)return L}matchHierarchicalNode(L,Y,z){if(L instanceof l.zn)return this.matchHierarchicalExpr(L,Y,z);var H=this.tryGetHierarchicalNode(L,Y);if(!H)return!1;a.Y.assert(()=>H instanceof l.Zd||H instanceof l.xC,".matchHierarchicalNode does not expect any other expr type");var Z=H;return this.matchHierarchicalExpr(Z.left,Y,z)&&this.matchHierarchicalExpr(Z.right,Y,z)}matchHierarchicalExpr(L,Y,z){if(L instanceof l.zn){var H=this.matchBasicFilter(L);return!!H&&(z.push(H.in),H.in.not=Y,!0)}return this.matchHierarchicalNode(L,Y,z)}matchComposite(L,Y){var z=!1;(0,r.w8)(L)&&(z=!0,L=L.arg);var H=(0,r.yE)(L);if((!H||Y!==g.um.And)&&((0,r.yE)(L)||(0,r.mP)(L))){var Z=H?g.um.Or:g.um.And,k=this.tryMatchExpr(L.left,Z),K=this.tryMatchExpr(L.right,Z);if(k&&K)return{composite:{not:z,operator:Z,filters:[k,K]}}}}}function w(A,L){a.Y.assertValue(A,"filterPattern"),a.Y.assertValue(L,"visitor");var Y=A.condition;return Y.in?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitIn(A)}(Y.in,L):Y.between?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitBetween(A)}(Y.between,L):Y.relativeDateRange?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitRelativeDateRange(A)}(Y.relativeDateRange,L):Y.compareOperator?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitCompare(A)}(Y.compareOperator,L):Y.advancedOperator?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitAdvanced(A)}(Y.advancedOperator,L):Y.composite?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitComposite(A)}(Y.composite,L):Y.topN?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitTopN(A)}(Y.topN,L):Y.complex?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitComplex(A)}(Y.complex,L):Y.hierarchical?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitHierarchical(A)}(Y.hierarchical,L):Y.visualTopN?function(A,L){return a.Y.assertValue(A,"pattern"),a.Y.assertValue(L,"visitor"),L.visitVisualTopN(A)}(Y.visualTopN,L):void a.Y.assertFail("Failed to visit filterPattern")}},764601:function(me,j,e){e.d(j,{BN:function(){return o},WY:function(){return p},kc:function(){return s},vl:function(){return m},yg:function(){return h}});var r=e(446024),i=e(289239),a=e(785463),t=e(20502),l=e(978450),g=e(61917),n=e(460169),d=e(935236);function s(u,E){var c=h(u,E,!1);if(c)return{isNot:_.some(c,f=>!f.selected),scopeIds:[_.map(c,f=>f.identity)]}}function h(u,E,c=!0){return v(u,E,!1,c)}function o(u,E,c=!0){return v(u,E,!0,c)}function v(u,E,c,f){a.Y.assertValue(u,"filter"),a.Y.assertValue(E,"fieldSQExprs"),a.Y.assert(()=>E.length>0,"There should be at least 1 field expression.");var D=u.conditions();a.Y.assert(()=>1===D.length,"There should be exactly 1 filter expression.");var b=D[0];if(b){var T=new y(E,f,b);if(b.accept(T))return c?T.getHierarchyResult():T.getResult()}}function m(u){a.Y.assertValue(u,"identity");var E=u.expr.accept(new S);if(E)return E.value}function p(u){return a.Y.assertValue(u,"identity"),u.expr.accept(new C)}class y extends t.nP{constructor(E,c,f){super(),this.supportsMultiLevelFilters=c,this.filter=f,this.isNot=!1,this.isAnd=!1,this.keyIndex=0,this.valueIndex=0,this.fieldExprs=[],this.groups=[],this.supportedGroups={};var D=0,b=0;for(var T of(this.values=[],E))if(a.Y.assertNonEmpty(T,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(T)){var M=_.map(T,V=>(0,r.bY)(V));this.supportedGroups[b+=T.length]=!0,this.fieldExprs.push(...M||[]),this.groups.push(..._.map(T,V=>D)),D++}}getResult(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})}getHierarchyResult(){return this.addScopeId(),this.toHierarchyScopeIdentityFilterNode(this.values)}toFilterNode(E,c){var f=[];for(var D of E)f.push({identity:D.identity,selected:D.selected,checked:D.checked,children:_.isEmpty(D.children)?void 0:this.toFilterNode(D.children,c),index:D.checked?c.index++:void 0});return f}toHierarchyScopeIdentityFilterNode(E){var c=[];for(var f of E)c.push({identity:f.identity,operator:f.checked?f.selected?"Selected":"NotSelected":"Inherited",children:_.isEmpty(f.children)?void 0:this.toHierarchyScopeIdentityFilterNode(f.children)});return c}static getScopeIdentity(E,c){a.Y.assert(()=>c.length>0,"valueExprs has at least one valueExpr"),a.Y.assert(()=>c.length===E.length,"fieldExpr and valueExpr count should match");for(var f,D=0,b=E.length;D<b;D++){var T=(0,r.LC)(E[D],c[D]);f=f?(0,r.Uo)(f,T):T}return(0,i.UQ)(f)}visitOr(E){this.resetState();var c=E.left.accept(this);return this.resetState(),c&&E.right.accept(this)}visitAnd(E){if(this.supportsMultiLevelFilters){var c=!1;if((this.isNot&&(E.left instanceof r.xC||E.left instanceof r.zn)&&(E.right instanceof r.zn||E.right instanceof r.xC)||!this.isNot&&(E.left instanceof r.Zd||E.left instanceof r.zn||E.left instanceof r.xC||E.left instanceof r.JC)&&(E.right instanceof r.Zd||E.right instanceof r.zn||E.right instanceof r.xC||E.right instanceof r.JC)||(E.left instanceof r.j_||E.left instanceof r.xC)&&(E.right instanceof r.j_||E.right instanceof r.xC))&&(c=!0),c){var f=!1===this.isAnd;f&&this.resetState(),this.isAnd=!0;var D=E.left.accept(this)&&E.right.accept(this);return f&&(this.isAnd=!1),D}}return this.unsupportedSQExpr()}visitNot(E){this.isNot=!0;var c=E.arg.accept(this);return this.isNot=!1,c}visitConstant(E){return 0===this.keyIndex&&E.type.primitiveType===g.W.Null?this.unsupportedSQExpr():(this.addValue(E),!0)}visitCompare(E){return this.keyIndex>0&&!this.supportsMultiLevelFilters||E.comparison!==n.mq.Equal?this.unsupportedSQExpr():E.right instanceof r.JK||E.left.accept(this)&&E.right.accept(this)}visitIn(E){var f,c=this;if(!E.values)return!1;for(var D of(this.resetState(),E.args))if(!(f=D.accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();var M,b=E.values,T=function(w){for(var P of(a.Y.assert(()=>w.length===c.keyIndex,"keys count and values count should match"),w))if(!(f=P.accept(c)))return{v:c.unsupportedSQExpr()}};for(var V of b)if(M=T(V))return M.v;return f}visitColumnRef(E){var c=(0,r.bY)(E),f=(0,l.aI)(this.fieldExprs[this.keyIndex],c);return this.keyIndex++,f}visitDefaultValue(E){return this.addValue(E),!0}visitAnyValue(E){return!0}visitDefault(E){return this.unsupportedSQExpr()}unsupportedSQExpr(){return!1}addValue(E){var c=this.valueIndex%this.keyIndex,f=this.groups[c];0===c?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(E)):this.currentNode.groupIndex===f?(this.currentNode.values.push(E),this.currentNode.columns.push(this.fieldExprs[c])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(E)),this.valueIndex++}addScopeId(){if(this.currentNode){var E=this.currentNode,c=this.parent&&this.parent.children||this.values,f=_.find(c,D=>(0,d.m2)(D.values,E.values,l.aI));return f?E.checked&&!f.checked&&(f.selected=E.selected,f.checked=E.checked):(E.identity=y.getScopeIdentity(E.columns,E.values),c.push(E)),f||E}}createNode(E){var c=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[E],columns:[this.fieldExprs[c]],groupIndex:this.groups[c],identity:void 0}}resetState(){this.keyIndex=0,this.valueIndex=0}}class S extends t.nP{visitAnd(E){return E.left.accept(this)||E.right.accept(this)}visitCompare(E){if(E.comparison===n.mq.Equal){if(E.right instanceof r.wy)return E.right;if(E.left instanceof r.wy)return E.left}}}class C extends t.nP{visitAnd(E){var c=[];return(c=c.concat(E.left.accept(this))).concat(E.right.accept(this))}visitCompare(E){if(E.comparison===n.mq.Equal){var c=[];return E.right instanceof r.wy?c.push({expr:E.left,value:E.right.value}):E.left instanceof r.wy&&c.push({expr:E.right,value:E.left.value}),c}}}},238134:function(me,j,e){e.d(j,{c:function(){return l}});var r=e(978450),i=e(364472),a=e(851145),t=e(439052);function l(n,d){if(n){if(n instanceof i.b0){var s=n.conditions();return _.isEmpty(s)||s.length>1?void 0:g(n.from(),s[0])}return g(d,n.condition)}}function g(n,d){var s=(0,t.C)(d),h={fieldsBeingFiltered:_.uniqWith(s.fieldsBeingFiltered,r.aI),isSubquery:!1};if(s.subqueryName){h.isSubquery=!0;var o=n.sources(),m=(0,a.e)(o&&o[s.subqueryName]);m&&(h.orderByField=m.orderByField,h.itemCount=m.itemCount,h.isTop=m.isTop)}return h}},217379:function(me,j,e){e.d(j,{C:function(){return l},TS:function(){return n}});var r=e(662785),i=e(460169),a=e(785463),t=e(376292);function l(v){if(v){var m=v.conditions();if(m&&1===m.length)return function(v){var m=new o;return m.tryParseCondition(v)?{field:m.field,options:m.options}:null}(m[0])}}function n(v){return h(v,1)}function h(v,m){var p={};if(null!=v.min){a.Y.assert(()=>(0,t.th)(v.min),"Implementing DateWithEpochValue is needed for serialization");var y=(0,t.Ar)(v.min);y.setHours(0,0,0,0);var S=new Date(y.epochTimeStamp);S.setUTCHours(0,0,0,0),y.epochTimeStamp=S.getTime(),p.min=y}if(null!=v.max){a.Y.assert(()=>(0,t.th)(v.max),"Implementing DateWithEpochValue is needed for serialization");var C=new Date(v.max.getFullYear(),v.max.getMonth(),v.max.getDate()+m);C.epochTimeStamp=Date.UTC(C.getFullYear(),C.getMonth(),C.getDate()),p.max=C}return p}class o{tryParseCondition(m){return(0,r.mP)(m)?this.tryParseAndCondition(m):!!(0,r.Wc)(m)&&this.tryParseCompareCondition(m)}tryParseAndCondition(m){var p=m;return!(!(0,r.Wc)(p.left)||!(0,r.Wc)(p.right))&&this.tryParseCompareCondition(p.left)&&this.tryParseCompareCondition(p.right)}tryParseCompareCondition(m){var p=m;return!(!(0,r.R3)(p.left)&&!(0,r.Ah)(p.left))&&(this.field=p.left,this.options=this.options||{},this.tryParseNumericCompareCondition(p)||this.tryParseDateCompareCondition(p))}tryParseNumericCompareCondition(m){if(!(0,r.GK)(m.right))return!1;switch(m.comparison){case i.mq.Equal:this.options.min=m.right.value,this.options.max=m.right.value;break;case i.mq.GreaterThan:case i.mq.GreaterThanOrEqual:this.options.min=m.right.value;break;case i.mq.LessThan:case i.mq.LessThanOrEqual:this.options.max=m.right.value;break;default:return a.Y.assertNever(m.comparison),!1}return!0}tryParseDateCompareCondition(m){return(0,r.B6)(m.right)&&m.right.arg&&(0,r.tC)(m.right.arg)?this.tryParseDateConstantCondition(m.comparison,m.right.arg):!!(0,r.tC)(m.right)&&this.tryParseDateConstantCondition(m.comparison,m.right)}parseDateValue(m){return(0,t.th)(m)?m:(0,t.IG)(new Date(m))}tryParseDateConstantCondition(m,p){switch(m){case i.mq.Equal:this.options.min=this.parseDateValue(p.value),this.options.max=this.parseDateValue(p.value);break;case i.mq.GreaterThan:case i.mq.GreaterThanOrEqual:this.options.min=this.parseDateValue(p.value);break;case i.mq.LessThan:this.options.max=this.parseDateValue(p.value),this.options=h(this.options,-1);break;case i.mq.LessThanOrEqual:this.options.max=this.parseDateValue(p.value);break;default:return a.Y.assertNever(m),!1}return m!==i.mq.LessThan&&(this.options=h(this.options,0)),!0}}},253870:function(me,j,e){e.d(j,{C:function(){return y},Pw:function(){return S},ls:function(){return s},qd:function(){return h},ur:function(){return m},yY:function(){return C}});var r=e(662785),i=e(978450),a=e(460169),t=e(785463),l=e(739549),g=e(364472),n=e(446024),d=e(922044);function s(f){var D=h(f);return g.b0.fromSQExpr(D)}function h(f,D=!1){var b=f.field,T=f.options,M=null,V=(0,n.tB)();if(f.options.anchorDate&&!(0,l.ul)(T.relativeUnit)){var w=f.options.anchorDate;w.epochTimeStamp=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds()),V=(0,n.KQ)(f.options.anchorDate)}var P=function(f){switch(f){case l.VR.CalendarYear:case l.VR.Year:return a.yr.Year;case l.VR.CalendarMonth:case l.VR.Month:return a.yr.Month;case l.VR.CalendarWeek:case l.VR.Week:return a.yr.Week;case l.VR.Day:return a.yr.Day;case l.VR.Hour:return a.yr.Hour;case l.VR.Minute:return a.yr.Minute;case l.VR.Second:return a.yr.Second;default:return void t.Y.assertFail("Unsupported RelativeDateUnit")}}(T.relativeUnit),N=m(T.relativeUnit,D);switch(T.relativeQualifier){case l.Bn.Current:var I=(0,n.b5)(P,V);M=(0,n.UD)(a.mq.Equal,b,I);break;case l.Bn.Last:if(N)M=o(-T.duration,-1,P,V,b);else if((0,l.ul)(T.relativeUnit)){var O=V,R=(0,n.El)(P,-T.duration,V);M=(0,n.Tq)(b,R,O)}else{var W=T.includeToday?V:(0,n.El)(a.yr.Day,-1,V),F=(0,n.b5)(a.yr.Day,W),U=(0,n.b5)(a.yr.Day,(0,n.El)(P,-T.duration,(0,n.El)(a.yr.Day,1,W)));M=(0,n.Tq)(b,U,F)}break;case l.Bn.Next:if(N)M=o(1,T.duration,P,V,b);else if((0,l.ul)(T.relativeUnit)){var B=V,x=(0,n.El)(P,T.duration,V);M=(0,n.Tq)(b,B,x)}else{var A=T.includeToday?V:(0,n.El)(a.yr.Day,1,V),L=(0,n.b5)(a.yr.Day,A),Y=(0,n.b5)(a.yr.Day,(0,n.El)(P,T.duration,(0,n.El)(a.yr.Day,-1,A)));M=(0,n.Tq)(b,L,Y)}}return M}function o(f,D,b,T,M){var V=(0,n.b5)(b,(0,n.El)(b,f,T)),w=(0,n.b5)(b,(0,n.El)(b,D,T));return(0,n.Tq)(M,V,w)}function m(f,D=!1){switch(f){case l.VR.Second:case l.VR.Minute:case l.VR.Hour:case l.VR.Year:case l.VR.Month:case l.VR.Week:return!1;case l.VR.Day:return D;case l.VR.CalendarYear:case l.VR.CalendarMonth:case l.VR.CalendarWeek:return!0;default:return void t.Y.assertFail("Unsupported RelativeDateUnit")}}function p(f,D){switch(f){case a.yr.Day:return l.VR.Day;case a.yr.Week:return D?l.VR.CalendarWeek:l.VR.Week;case a.yr.Month:return D?l.VR.CalendarMonth:l.VR.Month;case a.yr.Year:return D?l.VR.CalendarYear:l.VR.Year;case a.yr.Hour:return l.VR.Hour;case a.yr.Minute:return l.VR.Minute;case a.yr.Second:return l.VR.Second;default:return}}function y(f,D){if(f){var b=f.conditions();if(b&&1===b.length)return S(b[0],D)}}function S(f,D){var b=new c(D);if(b.tryExtractParametersFrom(f))return{field:b.field,options:b.options}}function C(f){return!!f&&(!(!f.where()||!function(f){var D=new c(l.Z7.Time);for(var b of f)if(b.condition&&D.tryExtractParametersFrom(b.condition))return!0;return!1}(f.where()))||function(f){var D=f.sources();if(!D)return!1;for(var b of f.keys()){var T=D[b];if((0,d.c)(T)&&T.subquery&&C(T.subquery))return!0}return!1}(f.from()))}class c{constructor(D){this.relativeFilterType=D}tryExtractParametersFrom(D){return this.tryExtractCurrent(D)||this.tryExtractLastOrNext(D)}tryExtractCurrent(D){if((0,r.Wc)(D)){var b=D;if(((0,r.R3)(b.left)||(0,r.Ah)(b.left))&&(this.field=b.left,(0,r.B6)(b.right))){var T=b.right,M=l.q1.convertTimeUnitToRelativeFilterType(T.unit);if(this.relativeFilterType!==M)return!1;if(void 0!==p(T.unit,!1)&&((0,r.DK)(T.arg)||(0,r.tC)(T.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:l.Bn.Current,relativeUnit:p(T.unit,!1)},(0,r.tC)(T.arg)&&(this.options.anchorDate=T.arg.value),this.validateOptions(D)))return!0}}return!1}tryExtractLastOrNext(D){if((0,r.Bt)(D)){var b=D;if((0,r.R3)(b.arg)||(0,r.Ah)(b.arg))if(this.field=b.arg,(0,r.B6)(b.upper)&&(0,r.B6)(b.lower)){if(this.options=this.getOptionsFromDateSpan(b.lower,l.Bn.Last),this.validateOptions(D)||(this.options=this.getOptionsFromDateSpan(b.upper,l.Bn.Next),this.validateOptions(D)))return!0}else if((0,r.yS)(b.upper)||(0,r.yS)(b.lower)){var T=b.lower,M=b.upper;if(this.options=this.getOptionsFromDateAdd(T,T.unit,l.Bn.Last),this.validateOptions(D)||(this.options=this.getOptionsFromDateAdd(M,M.unit,l.Bn.Next),this.validateOptions(D)))return!0}}return!1}getOptionsFromDateSpan(D,b){if((0,r.B6)(D))return this.getOptionsFromDateAdd(D.arg,D.unit,b)}getOptionsFromDateAdd(D,b,T){if((0,r.yS)(D)){var M=D,V=l.q1.convertTimeUnitToRelativeFilterType(M.unit);if(this.relativeFilterType!==V)return;var w=b===M.unit&&b!==a.yr.Day,P=!!w||this.getIncludeToday(M.arg),N=this.getAnchorDate(M);switch(T){case l.Bn.Last:if(M.amount<0)return{duration:-M.amount,includeToday:P,relativeQualifier:T,relativeUnit:p(M.unit,w),anchorDate:N};break;case l.Bn.Next:if(M.amount>0)return{duration:M.amount,includeToday:P,relativeQualifier:T,relativeUnit:p(M.unit,w),anchorDate:N}}}}getAnchorDate(D){for(var b=D;(0,r.yS)(b);)b=b.arg;if((0,r.tC)(b))return b.value}getIncludeToday(D){if((0,r.yS)(D)){var b=D;return(0,r.DK)(b.arg)||(0,r.tC)(b.arg)}return!1}validateOptions(D){if(!this.field||!this.options)return!1;var b={field:this.field,options:this.options};return(0,i.aI)(D,h(b))||this.options.relativeUnit===l.VR.Day&&!this.options.includeToday&&(0,i.aI)(D,h(b,!0))}}},42630:function(me,j,e){e.d(j,{BI:function(){return s},Rq:function(){return y},Tv:function(){return v},Ve:function(){return p},gE:function(){return m},lj:function(){return o},m4:function(){return h},xD:function(){return d}});var r=e(662785),i=e(978450),a=e(460169),t=e(935236),l=e(785463),g=e(446024),n=e(20502);function d(E){var c=new y;return E.accept(c),c.malformed?null:(0,t.qR)(c.keys)}function s(E){var c=new y;return E.accept(c),c.malformed?null:(0,t.qR)(c.values)}function h(E){var c=new y;return E.accept(c),c.malformed?null:(0,t.qR)(c.pairs)}function o(E){if((0,r.S1)(E))return E;var c=new y;if(E.accept(c),!c.malformed){var f=(0,t.qR)(c.keys),D=(0,t.qR)(c.values);if(f&&D)return(0,g.eu)(f,[D])}}function v(E,c){l.Y.assertValue(E,"expr"),l.Y.assertNonEmpty(c,"subsetFieldExprs");var f=new S(c);return E.accept(f),f.getResult()}function m(E,c){if(!c||!E)return[];var f=new u(E);return c.accept(f),f.getValues()}function p(E){var c=new C;return E.accept(c),!!c.containsSelectRef}class y extends n.nP{constructor(){super(...arguments),this.keys=[],this.values=[],this.pairs=[]}visitAnd(c){c.left.accept(this),c.right.accept(this)}visitCompare(c){c.comparison===a.mq.Equal?(l.Y.assert(()=>c.left instanceof g.yj&&c.right instanceof g.wy,"invalid compare expr operands"),this.pairs.push(c),c.left.accept(this),c.right.accept(this)):this.visitDefault(c)}visitIn(c){for(var f of c.args)f.accept(this);for(var D of c.values)for(var b of D)b.accept(this)}visitSelectRef(c){this.keys.push(c)}visitColumnRef(c){this.keys.push(c)}visitGroupRef(c){this.keys.push(c)}visitHierarchyLevel(c){this.keys.push(c)}visitConstant(c){this.values.push(c)}visitArithmetic(c){this.keys.push(c)}visitDefault(c){this.malformed=!0}}class S extends n.nP{constructor(c){super(),l.Y.assertNonEmpty(c,"identityFieldExprs"),this.identityFieldExprs=c,this.identityComparisonExprs=[],this.identityComparisonExprCount=0}getResult(){if(l.Y.assert(()=>this.identityComparisonExprCount===_.filter(this.identityComparisonExprs,D=>!!D).length,"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){var c;for(var f of this.identityComparisonExprs)c=c?(0,g.Uo)(c,f):f;return c}}visitAnd(c){c.left.accept(this),c.right.accept(this)}visitCompare(c){if(c.comparison===a.mq.Equal){var f=_.findIndex(this.identityFieldExprs,D=>(0,i.aI)(c.left,D));f>=0&&!this.identityComparisonExprs[f]&&(this.identityComparisonExprs[f]=c,this.identityComparisonExprCount++)}else this.visitDefault(c)}visitDefault(c){this.malformed=!0}}class C extends n.ff{visitSelectRef(c){this.containsSelectRef=!0}}class u extends n.nP{constructor(c){super(),this.targetExpr=c,this.orderedValues=[]}getValues(){return _.uniq(this.orderedValues)}visitAnd(c){c.left.accept(this),c.right.accept(this)}visitOr(c){c.left.accept(this),c.right.accept(this)}visitCompare(c){c.comparison===a.mq.Equal&&(c.right instanceof g.Dw&&(0,i.aI)(c.right,this.targetExpr)&&c.left instanceof g.wy&&this.orderedValues.push(c.left.value),c.left instanceof g.Dw&&(0,i.aI)(c.left,this.targetExpr)&&c.right instanceof g.wy&&this.orderedValues.push(c.right.value))}visitIn(c){var f=-1;if(!c.table){for(var D=0;D<c.args.length;D++)if((0,i.aI)(c.args[D],this.targetExpr)){f=D;break}if(-1!==f)for(var b of c.values){var T=b[f];T instanceof g.wy&&this.orderedValues.push(T.value)}}}}},851145:function(me,j,e){e.d(j,{e:function(){return n}});var r=e(922044),i=e(658577),a=e(785463),t=e(20502),l=e(574324),g=function(s){return s[s.Root=0]="Root",s[s.InAggregate=1]="InAggregate",s}({});function n(s){if(s&&(0,r.c)(s)){var h=s.subquery.orderBy();if(!h||1!==h.length)return;var o=h[0],v=new d;return v.visitOrderBy(o.expr)?{orderByField:v.orderByField,isTop:o.direction===i.U.Descending,itemCount:s.subquery.top()}:void 0}}class d extends t.Li{constructor(){super(),this.orderByField=null}visitOrderBy(h){return h.accept(this,g.Root)}visitAggr(h,o){return o===g.Root&&(a.Y.assertValue((0,l.F)(h),"expected field pattern"),this.orderByField=h,!0)}visitMeasureRef(h,o){return o===g.Root&&(this.orderByField=h,!0)}}},536087:function(me,j,e){e.d(j,{c$:function(){return s},hQ:function(){return h}});var r=e(658577),i=e(785463),a=e(364472),t=e(446024),l=e(20502),g=e(15721),n=e(922044),d=e(851145);function s(y,S){if(y){if(y instanceof a.b0){var C=y.conditions();return i.Y.assertValue(C,"conditions"),i.Y.assert(()=>1===C.length,"should be exactly one filter condition for a TopN filter"),o(y.from(),C[0])}return o(S,y.condition)}}function h(y){var S=function(y){var S=new g.l0,C=a.O8.rewrite(y.fieldBeingFiltered,null,S),u=a.O8.rewrite(y.orderByField,null,S);return a.DC.createWith({from:S,orderBy:[{expr:u,direction:y.isTop?r.U.Descending:r.U.Ascending}],select:[{name:"field",expr:C}],top:y.itemCount})}(y),C=new g.m$(S),u=new g.l0,E=u.ensureSource(C,"subquery"),c=(0,t.Kd)([y.fieldBeingFiltered],(0,t.a_)(E.name));return a.b0.fromSQFromAndSQExpr(u,c)}function o(y,S){i.Y.assertValue(y,"from"),i.Y.assertValue(S,"condition");var C=new p;if(C.visitCondition(S)){var u=y.sources(),E=u&&u[C.subqueryName],c=(0,d.e)(E);if(c&&(0,n.c)(E))return{fieldBeingFiltered:C.fieldBeingFiltered,isTop:c.isTop,itemCount:E.subquery.top(),orderByField:c.orderByField}}}var m=function(y){return y[y.Root=0]="Root",y[y.LeftOfIn=1]="LeftOfIn",y[y.RightOfIn=2]="RightOfIn",y}({});class p extends l.Li{constructor(){super(),this.fieldBeingFiltered=null,this.subqueryName=null}visitCondition(S){return S.accept(this,m.Root)}visitIn(S,C){return!!(C===m.Root&&S.args&&1===S.args.length&&S.args[0].accept(this,m.LeftOfIn)&&S.table&&S.table.accept(this,m.RightOfIn))}visitColumnRef(S,C){return C===m.LeftOfIn&&(this.fieldBeingFiltered=S,!0)}visitHierarchyLevel(S,C){return C===m.LeftOfIn&&(this.fieldBeingFiltered=S,!0)}visitGroupRef(S,C){return C===m.LeftOfIn&&(this.fieldBeingFiltered=S,!0)}visitSubqueryRef(S,C){return C===m.RightOfIn&&(S.variable?this.subqueryName=S.variable:i.Y.assertFail("SubqueryRef with a direct subquery not expected here"),!0)}}},563147:function(me,j,e){e.d(j,{a:function(){return d}});var r=e(759520),i=e(574324),a=e(627201),t=e(785463),l=e(446024),g=e(388618);class n extends g.q{constructor(o){t.Y.assertValue(o,"func"),super(),this.func=o}visitAggr(o){return o.func===this.func?o:new l.wC(o.arg,this.func)}visitColumnRef(o){return new l.wC(o,this.func)}visitGroupRef(o){return new l.wC(o,this.func)}visitHierarchyLevel(o){return new l.wC(o,this.func)}static rewrite(o,v){t.Y.assertValue(o,"expr"),t.Y.assertValue(v,"func");var m=new n(v);return o.accept(m)}}function d(h,o){return s.rewrite(h,o)}class s{constructor(o,v){this.sqExpr=o,this.aggregate=v}static rewrite(o,v){return(0,r.YR)((0,i.F)(o),new s(o,v))}visitPercentOfGrandTotal(o){return o.baseExpr=(0,i.F)(n.rewrite((0,a.to)(o.baseExpr),this.aggregate)),(0,a.to)({percentOfGrandTotal:o})}visitPercentOfRoleTotal(o){return o.baseExpr=(0,i.F)(n.rewrite((0,a.to)(o.baseExpr),this.aggregate)),(0,a.to)({percentOfRoleTotal:o})}visitFilteredEval(o){return o.baseExpr=(0,i.F)(n.rewrite((0,a.to)(o.baseExpr),this.aggregate)),(0,a.to)({filteredEval:o})}visitColumn(o){return this.defaultRewrite()}visitColumnAggr(o){return this.defaultRewrite()}visitGroupingColumn(o){return this.defaultRewrite()}visitGroupingColumnAggr(o){return this.defaultRewrite()}visitColumnHierarchyVariation(o){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(o){return this.defaultRewrite()}visitColumnSubquery(o){return this.defaultRewrite()}visitColumnAggrSubquery(o){return this.defaultRewrite()}visitColumnTransformRef(o){return this.defaultRewrite()}visitSelectRef(o){return this.defaultRewrite()}visitEntity(o){return this.defaultRewrite()}visitEntityAggr(o){return this.defaultRewrite()}visitHierarchy(o){return this.defaultRewrite()}visitHierarchyLevel(o){return this.defaultRewrite()}visitHierarchyLevelAggr(o){return this.defaultRewrite()}visitMeasure(o){return this.defaultRewrite()}visitPercentile(o){return this.defaultRewrite()}visitTransformOutputRoleRef(o){return this.defaultRewrite()}visitArithmetic(o){return this.defaultRewrite()}visitConstant(o){return this.defaultRewrite()}visitSparklineData(o){return this.defaultRewrite()}visitNativeVisualCalc(o){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr,this.aggregate)}}},676741:function(me,j,e){e.d(j,{s:function(){return g}});var r=e(759520),i=e(574324),a=e(627201),t=e(388618),l=e(785463);function g(s,h){return d.rewrite(s,h)}var n=(()=>{class s extends t.q{visitAggr(o){return o.arg}static rewrite(o){return l.Y.assertValue(o,"expr"),o.accept(s.instance)}}return s.instance=new s,s})();class d{constructor(h){this.sqExpr=h}static rewrite(h,o){return(0,r.YR)((0,i.F)(h,o),new d(h))}visitPercentOfGrandTotal(h){return d.rewrite((0,a.to)(h.baseExpr))}visitPercentOfRoleTotal(h){return d.rewrite((0,a.to)(h.baseExpr))}visitFilteredEval(h){return d.rewrite((0,a.to)(h.baseExpr))}visitColumn(h){return this.defaultRewrite()}visitColumnAggr(h){return this.defaultRewrite()}visitGroupingColumn(h){return this.defaultRewrite()}visitGroupingColumnAggr(h){return this.defaultRewrite()}visitColumnHierarchyVariation(h){return this.defaultRewrite()}visitColumnHierarchyLevelVariation(h){return this.defaultRewrite()}visitColumnSubquery(h){return this.defaultRewrite()}visitColumnAggrSubquery(h){return this.defaultRewrite()}visitColumnTransformRef(h){return this.defaultRewrite()}visitSelectRef(h){return this.defaultRewrite()}visitEntity(h){return this.defaultRewrite()}visitEntityAggr(h){return this.defaultRewrite()}visitHierarchy(h){return this.defaultRewrite()}visitHierarchyLevel(h){return this.defaultRewrite()}visitHierarchyLevelAggr(h){return this.defaultRewrite()}visitMeasure(h){return this.defaultRewrite()}visitPercentile(h){return this.defaultRewrite()}visitTransformOutputRoleRef(h){return this.defaultRewrite()}visitArithmetic(h){return this.defaultRewrite()}visitConstant(h){return this.defaultRewrite()}visitSparklineData(h){return this.defaultRewrite()}visitNativeVisualCalc(h){return this.defaultRewrite()}defaultRewrite(){return n.rewrite(this.sqExpr)}}},337276:function(me,j,e){e.d(j,{M:function(){return l}});var r=e(177328),i=e(446024),a=e(15721),t=e(935236);class l extends r.k{constructor(n){super(),this.query=n,this.hasRewrites=!1}visitSubqueryRef(n){if(!n.query)return n;var s=new l(n.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var h=new a.m$(s),o=this.mergedFrom.ensureSource(h);return this.hasRewrites=!0,(0,i.a_)(o.name)}get didRewrite(){return this.hasRewrites}rewrite(){var n=this.query.select(),d=(0,t.s0)((0,t.cd)(n,s=>{var h=s.expr.accept(this);return h===s.expr?s:{name:s.name,expr:h}}));return d===n?this.query:this.query.createModified({from:this.mergedFrom,select:d})}}},75366:function(me,j,e){e.d(j,{Qq:function(){return s},gd:function(){return n},nd:function(){return d},x5:function(){return v},xA:function(){return h},zM:function(){return o}});var r=e(61917),i=e(785463),a=e(376292),t=/'/g,l=/\.000$/;function n(m){return i.Y.assertValue(m,"value"),m+"D"}function d(m){return i.Y.assertValue(m,"value"),m+"L"}function s(m){return i.Y.assertValue(m,"value"),"'"+m.replace(t,"''")+"'"}function h(){return"null"}function o(m){return m?"true":"false"}function v(m,p){if(null===m)return"null";switch(p.primitiveType){case r.W.Integer:return i.Y.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${p}`),m+"L";case r.W.Decimal:return i.Y.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${p}`),m+"M";case r.W.Double:return i.Y.assert(()=>_.isString(m)||_.isNumber(m),`Expected either a string or number value to encode for type ${p}`),m+"D";case r.W.DateTime:case r.W.Date:var S;return m instanceof Date?(S=(0,a.th)(m)?new Date(m.epochTimeStamp).toISOString():new Date(m.getTime()-6e4*m.getTimezoneOffset()).toISOString(),_.endsWith(S,"Z")&&(S=S.substr(0,S.length-1)),S=S.replace(l,"")):(i.Y.assert(()=>_.isString(m),`Expected a string or a Date value for type ${p}`),S=m),`datetime'${S}'`;case r.W.Text:return i.Y.assert(()=>_.isString(m),`Expected a string value to encode for type ${p}`),s(m);case r.W.Boolean:return i.Y.assert(()=>_.isBoolean(m),`Expected boolean values for type ${p}`),o(m);case r.W.Variant:return i.Y.assert(()=>_.isString(m),`Expected string values to encode for type ${p}`),m;default:i.Y.assertFail(`unsupported dsrValue for type ${p}`)}}},364472:function(me,j,e){e.d(j,{O8:function(){return P},b0:function(){return w},DC:function(){return V},VU:function(){return M},Aj:function(){return W},m4:function(){return F}});var r=e(460169),i=e(935236),a=e(785463),t=e(507345),l=e(892066),g=e(446024),n=e(850396),d=e(177328),s=e(20502),h=e(15721),o=e(922044),m=e(662785),p=e(978450),y=e(868257),S=e(928912),C=e(869876);function u(B,x,A){a.Y.assertValue(B,"namedItems");for(var L={},Y=0,z=B.length;Y<z;Y++)L[B[Y].name]=!0;return(0,S.uL)(L,A||(0,C.Z)(x))}var E=e(511334),f=(()=>{class B extends s.nP{visitCompare(A){return A.comparison===r.mq.Equal&&A.right.accept(this)}visitAnd(A){return A.left.accept(this)&&A.right.accept(this)}visitAnyValue(A){return!0}visitDefault(A){return!1}}return B.instance=new B,B})(),D=e(928454),b=e(273327),T=e(147293);class M{constructor(x){this.exprRewriter=x}static rewriteFrom(x,A){for(var L,Y=x,z=Y.keys(),H=0,Z=z.length;H<Z;H++){var k=z[H],K=Y.source(k),ee=K.accept(A,k);(K!==ee||L)&&(L||(L=_.pick(Y.sources(),z.slice(0,H))),L[k]=ee)}return L?new h.l0(L):Y}rewriteFrom(x){return M.rewriteFrom(x,new h.gW(this.exprRewriter))}rewriteSelect(x,A){return a.Y.assertValue(x,"selectItems"),a.Y.assertValue(A,"from"),this.rewriteNamedSQExpressions(x,A)}rewriteGroupBy(x,A){if(a.Y.assertAnyValue(x,"groupByitems"),a.Y.assertValue(A,"from"),!_.isEmpty(x))return this.rewriteNamedSQExpressions(x,A)}rewriteNamedSQExpressions(x,A){return a.Y.assertValue(x,"expressions"),_.map(x,L=>({name:L.name,expr:P.rewrite(L.expr.accept(this.exprRewriter),A,A),nativeReferenceName:L.nativeReferenceName}))}rewriteOrderBy(x,A){if(a.Y.assertAnyValue(x,"orderByItems"),a.Y.assertValue(A,"from"),!_.isEmpty(x)){for(var L=[],Y=0,z=x.length;Y<z;Y++){var H=x[Y],Z=P.rewrite(H.expr.accept(this.exprRewriter),A,A);L.push({direction:H.direction,expr:Z})}return L}}rewriteWhere(x,A){if(a.Y.assertAnyValue(x,"whereItems"),a.Y.assertValue(A,"from"),!_.isEmpty(x)){for(var L=[],Y=0,z=x.length;Y<z;Y++){var H=x[Y],Z={condition:P.rewrite(H.condition.accept(this.exprRewriter),A,A)};H.target&&(Z.target=_.map(H.target,k=>P.rewrite(k.accept(this.exprRewriter),A,A))),H.annotations&&(Z.annotations=H.annotations),L.push(Z)}return L}}rewriteTransform(x,A){if(a.Y.assertAnyValue(x,"transformItems"),a.Y.assertAnyValue(A,"from"),!_.isEmpty(x)){var L=[];for(var Y of x){var z=void 0;Y.input.table&&!_.isEmpty(Y.input.table.columns)&&(z=_.map(Y.input.table.columns,Z=>({role:Z.role,expression:{name:Z.expression.name,expr:P.rewrite(Z.expression.expr.accept(this.exprRewriter),A,A)}})));var H={name:Y.name,algorithm:Y.algorithm,input:{parameters:Y.input.parameters},output:Y.output};Y.input.table&&(H.input.table={name:Y.input.table.name,columns:z}),L.push(H)}return L}}}class V{constructor(x,A,L,Y,z,H,Z){a.Y.assertValue(x,"from"),a.Y.assertValue(Y,"select"),this.fromValue=x,this.whereItems=A,this.orderByItems=L,this.selectItems=Y,this.groupByItems=z,this.transformItems=H,null!=Z&&(this.topValue=Z)}static create(){return V.empty||(V.empty=new V(new h.l0,null,null,[],null,null,null)),V.empty}static createWith(x,A){return a.Y.assertValue(x,"clauses"),A||(x=V.normalize(x)),new V(x.from,x.where,x.orderBy,x.select,x.groupBy,x.transforms,x.top)}createModified(x){return V.createWith({from:void 0!==x.from?x.from:this.fromValue,where:void 0!==x.where?x.where:this.whereItems,transforms:void 0!==x.transforms?x.transforms:this.transformItems,orderBy:void 0!==x.orderBy?x.orderBy:this.orderByItems,select:void 0!==x.select?x.select:this.selectItems,groupBy:void 0!==x.groupBy?x.groupBy:this.groupByItems,top:void 0!==x.top?x.top:this.topValue})}static normalize(x){var A={clauses:{from:x.from,where:x.where,orderBy:x.orderBy,select:x.select,groupBy:x.groupBy,transforms:x.transforms,top:x.top},usedSourceNames:{}};return V.removeUnreferencedKeys(A),V.renameSources(A),V.renameSourcesInSubqueries(A),A.clauses}static removeUnreferencedKeys(x){var A=x.clauses,L=A.from,Y=A.where,z=A.orderBy,H=A.select,Z=A.groupBy,k=A.transforms,K=new N(L.keys());if(Y)for(var ee=0,Q=Y.length;ee<Q;ee++){var J=Y[ee];J.condition.accept(K);var X=J.target;if(X)for(var ne=0,ae=X.length;ne<ae;ne++)X[ne]&&X[ne].accept(K)}if(k)for(var oe=0,Me=k.length;oe<Me;oe++){var Ye=k[oe].input.table;if(Ye&&!_.isEmpty(Ye.columns))for(var Le of Ye.columns)Le.expression.expr.accept(K)}if(z)for(var lt=0,ut=z.length;lt<ut;lt++)z[lt].expr.accept(K);for(var St=0,ze=H.length;St<ze;St++)H[St].expr.accept(K);if(Z)for(var Be=0,Ce=Z.length;Be<Ce;Be++)Z[Be].expr.accept(K);var Ae=K.result();if(Ae){var be=L.clone();for(var Ie of Ae)be.remove(Ie);x.clauses.from=be}}static renameSources(x){var A=x.clauses.from,L=A.renameSources(x.usedSourceNames);L!==A&&(x.clauses.from=L,V.rewriteClauses(x.clauses,new P(A,L)))}static renameSourcesInSubqueries(x){x.clauses.from=O.renameSources(V.renameSourcesInQuery,x.clauses.from,x.usedSourceNames)}static renameSourcesInQuery(x,A){var L={clauses:x.getClauses(),usedSourceNames:A},Y=L.clauses.from;return V.renameSources(L),V.renameSourcesInSubqueries(L),L.clauses.from===Y?x:V.createWith(L.clauses)}from(x){return x?this.createModified({from:x}):this.fromValue.clone()}select(x){return _.isEmpty(arguments)?this.getSelect():this.setSelect(x)}getSelect(){return V.createNamedExpressionArray(this.selectItems)}static createNamedExpressionArray(x){return(0,i.s0)(_.map(x,A=>({name:A.name,expr:A.expr,nativeReferenceName:A.nativeReferenceName})))}setSelect(x){var A=this.fromValue.clone(),L=V.rewriteExpressionsWithSourceRenames(x,A);return this.createModified({from:A,select:L})}static rewriteExpressionsWithSourceRenames(x,A){for(var L=[],Y=0,z=x.length;Y<z;Y++){var H=x[Y];L.push({name:H.name,expr:P.rewrite(H.expr,null,A)})}return L}removeSelect(x){a.Y.assertValue(x,"expr");for(var A=this.selectItems,L=[],Y=0,z=A.length;Y<z;Y++){var H=A[Y];(0,p.aI)(H.expr,x)||L.push(H)}return this.createModified({select:L})}removeOrderBy(x){for(var A=this.orderBy(),L=A.length-1;L>=0;L--)(0,p.aI)(A[L].expr,x)&&A.splice(L,1);return this.createModified({orderBy:A})}removeTransform(x){for(var A=this.transforms(),L=0,Y=A.length;L<Y;L++)if(A[L].name===x.name){A.splice(L,1);break}return this.createModified({transforms:A})}selectNameOf(x){return this.getSelectFor(x)?.name}selectNamesOf(x){return _.map(this.getSelectsFor(x),A=>A.name)}selectNativeReferenceNameOf(x){return this.getSelectFor(x)?.nativeReferenceName}getSelectFor(x){var A=(0,y.s)(this.selectItems,x);if(A>=0)return this.selectItems[A]}getSelectsFor(x){return _.filter(this.selectItems,A=>(0,p.aI)(A.expr,x))}setSelectAt(x,A,L){if(a.Y.assertValue(A,"expr"),!(x>=this.selectItems.length)){var Y=this.select(),z=this.fromValue.clone(),Z=L??Y[x].nativeReferenceName;return Y[x]={name:Y[x].name,expr:P.rewrite(A,null,z),nativeReferenceName:Z},this.createModified({from:z,select:Y})}}addSelect(x,A,L){a.Y.assertValue(x,"expr");var Y=this.select(),z=this.fromValue.clone();return Y.push(this.createNamedExpr(Y,z,x,A,L)),this.createModified({from:z,select:Y})}setNativeReferenceNameAt(x,A){a.Y.assert(()=>0<=x&&x<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[x].nativeReferenceName=A}getNativeReferenceNameAt(x){return a.Y.assert(()=>0<=x&&x<this.selectItems.length,"index should be within the length of the selectedItems"),this.selectItems[x].nativeReferenceName}getNativeReferenceNames(x){var A=this.selectItems.map(L=>L.nativeReferenceName);return x?_.filter(A,L=>!(0,t.M)(L)):A}createNamedExpr(x,A,L,Y,z){return{name:u(x,L,Y),expr:P.rewrite(L,A,A),nativeReferenceName:z}}groupBy(x){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(x)}getGroupBy(){return V.createNamedExpressionArray(this.groupByItems)}setGroupBy(x){var A=this.fromValue.clone(),L=V.rewriteExpressionsWithSourceRenames(x,A);return this.createModified({from:A,groupBy:L})}addGroupBy(x){a.Y.assertValue(x,"expr");var A=this.groupBy(),L=this.fromValue.clone();return A.push(this.createNamedExpr(A,L,x)),this.createModified({from:L,groupBy:A})}orderBy(x){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(x)}getOrderBy(){var x=[],A=this.orderByItems;if(A)for(var L=0,Y=A.length;L<Y;L++){var z=A[L];x.push({expr:z.expr,direction:z.direction})}return x}setOrderBy(x){a.Y.assertValue(x,"values");for(var A=[],L=this.fromValue.clone(),Y=0,z=x.length;Y<z;Y++){var H=x[Y];A.push({expr:P.rewrite(H.expr,L,L),direction:H.direction})}return this.createModified({from:L,orderBy:A})}where(x,A){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],x,A)}getWhere(){var x=[],A=this.whereItems;if(A)for(var L=0,Y=A.length;L<Y;L++)x.push(A[L]);return x}setWhere(x,A,L){a.Y.assertValue(x,"existingFilters"),a.Y.assertValue(A,"newFilters");var Y=_.clone(x),z=this.fromValue.clone();for(var H of A){var Z={condition:P.rewrite(H.condition,L,z)};H.target&&(Z.target=_.map(H.target,k=>P.rewrite(k,L,z))),H.annotations&&(Z.annotations=H.annotations),Y.push(Z)}return this.createModified({from:z,where:Y})}addWhere(x,A){return this.setWhere(this.where(),x,A)}addSemanticFilter(x){return a.Y.assertValue(x,"filter"),this.setWhere(this.where(),x.where(),x.from())}transforms(x){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(x)}getTransforms(){var x=[];if(!_.isEmpty(this.transformItems))for(var A of this.transformItems)x.push(A);return x}setTransforms(x){var A=this.fromValue.clone(),L=[];for(var Y of x){var z=void 0;Y.input.table&&!_.isEmpty(Y.input.table.columns)&&(z=_.map(Y.input.table.columns,Z=>({role:Z.role,expression:this.createNamedExpr((0,i.s0)([]),A,Z.expression.expr,Z.expression.name)})));var H={name:Y.name,algorithm:Y.algorithm,input:{parameters:Y.input.parameters},output:Y.output};Y.input.table&&(H.input.table={name:Y.input.table.name,columns:z}),L.push(H)}return this.createModified({from:A,transforms:x})}top(x){return _.isEmpty(arguments)?this.topValue:this.setTop(x)}setTop(x){return a.Y.assert(()=>null==x||x>0,"if top is specified, it must be positive"),this.createModified({top:x})}rewrite(x){var A=this.getClauses();return V.rewriteClauses(A,x),this.createModified(A)}hasVisualCalculations(){for(var x of this.selectItems)if((0,m.$M)(x.expr))return!0;return!1}getClauses(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}}static rewriteClauses(x,A){var L=new M(A);x.from=L.rewriteFrom(x.from),x.where=L.rewriteWhere(x.where,x.from),x.orderBy=L.rewriteOrderBy(x.orderBy,x.from),x.select=L.rewriteSelect(x.select,x.from),x.groupBy=L.rewriteGroupBy(x.groupBy,x.from),x.transforms=L.rewriteTransform(x.transforms,x.from)}static willFiltersAffectQuery(x){return a.Y.assertValue(x,"query"),new I(x).willFilterAffectQuery()}}class w{constructor(x,A){a.Y.assertValue(x,"from"),a.Y.assertValue(A,"where"),this.fromValue=x,this.whereItems=A}static fromSQExpr(x){return w.fromSQFromAndSQExpr(new h.l0,x)}static fromSQFromAndSQExpr(x,A){a.Y.assertValue(x,"from"),a.Y.assertValue(A,"condition");var L=P.rewrite(A,x,x);return new w(x,[{condition:L}])}static fromSQFromAndSQFilters(x,A){return new w(x,A)}static clone(x){return w.fromSQFromAndSQFilters(x.from(),x.where())}static fromMeasureFilters(x,A,L){a.Y.assertValue(x,"query"),a.Y.assert(()=>!_.isEmpty(A),"measureFilters not empty"),a.Y.assert(()=>_.every(A,ne=>(0,l.m)(ne.condition)===n.l0.Measure),"Require measure filter");var Y,k,z=[],H=x.where(),Z=function(ne){var ae=_.find(H,oe=>(0,p.aI)(oe.condition,ne.condition));if(!ae||!ae.target)return{v:void 0};Y=Y||ae.target,a.Y.assert(()=>(()=>{for(var oe=0;oe<Y.length;oe++)if(!(0,p.aI)(Y[oe],ae.target[oe]))return!1;return!0})(),"Expected targets to be the same."),z.push(ae)};for(var K of A)if(k=Z(K))return k.v;var ee=_.filter(H,ne=>(0,l.m)(ne.condition)!==n.l0.Measure&&(0,l.m)(ne.condition)!==n.l0.VisualTopN),Q=_.map(Y,ne=>_.find(x.select(),ae=>(0,p.aI)(ne,ae.expr)));L&&Q.push(...this.getMeasuresForJoinPredicates(x,L)||[]);var J=V.createWith({from:x.from(),select:Q,where:[...ee||[],...z||[]]});return F(w.fromSubquery(J,Y),x)}static fromVisualTopNFilter(x,A,L,Y){a.Y.assertValue(x,"query"),a.Y.assertValue(A,"visualTopNExpr"),a.Y.assertValue(Y,"capabilities");var z=this.getSubquerySelects(x,L,Y),H=V.createWith({from:x.from(),select:z,orderBy:x.orderBy()||[],top:A.itemCount,where:x.where()}),Z=_.chain(z).filter(K=>!(0,E.t)(K.expr)).map(K=>K.expr).value();return F(w.fromSubquery(H,Z,!0),x)}static fromSubquery(x,A,L){var Y=new h.m$(x,L),z=new h.l0,H=z.ensureSource(Y,"subquery"),Z=(0,g.Kd)(A,(0,g.a_)(H.name)),k=P.rewrite(Z,z,z),K=[];return K.push({condition:k}),w.fromSQFromAndSQFilters(z,K)}static getDefaultValueFilter(x){return w.getDataViewScopeIdentityComparisonFilters(x,(0,g.Jh)())}static getAnyValueFilter(x){return w.getDataViewScopeIdentityComparisonFilters(x,(0,g.mh)())}static getDefaultAnyValueFilter(x,A){if(_.isEmpty(x))return w.getAnyValueFilter(A);if(_.isEmpty(A))return w.getDefaultValueFilter(x);var L=Array.apply(null,Array(x.length)).map(()=>(0,g.Jh)()),Y=Array.apply(null,Array(x.length)).map(()=>(0,g.mh)()),z=(0,b.o)(x,L),H=(0,b.o)(A,Y),Z=(0,g.Uo)(z,H);return w.fromSQExpr(Z)}static getDataViewScopeIdentityComparisonFilters(x,A){if(a.Y.assertValue(x,"fieldSQExprs"),a.Y.assertValue(A,"value"),x instanceof Array){var L=Array.apply(null,Array(x.length)).map(()=>A);return w.fromSQExpr((0,b.o)(x,L))}return w.fromSQExpr((0,g.LC)(x,A))}from(){return this.fromValue.clone()}conditions(){for(var x=[],A=this.whereItems,L=0,Y=A.length;L<Y;L++)x.push(A[L].condition);return x}where(){for(var x=[],A=this.whereItems,L=0,Y=A.length;L<Y;L++)x.push(A[L]);return x}rewrite(x){var A=new M(x),L=A.rewriteFrom(this.fromValue),Y=A.rewriteWhere(this.whereItems,L);return new w(L,Y)}validate(x,A,L){var Y=new g.zH(x,A,L);return this.rewrite(Y),Y.errors}static merge(x){if(_.isEmpty(x))return null;if(1===x.length)return x[0];for(var A=x[0],L=A.from(),Y=(0,i.s)(A.whereItems,A.whereItems.length),z=1,H=x.length;z<H;z++)w.applyFilter(x[z],L,Y);return new w(L,Y)}static unmerge(x){var A=[];for(var L of x.whereItems){var Y=new w(x.fromValue,[L]);Object.keys(Y.from().sources()).length>1&&(Y=w.removeUnreferencedKeys(Y)),A.push(Y)}return A}static removeUnreferencedKeys(x){var A=x.from(),L=x.where(),Y=new N(A.keys());if(L)for(var z=0,H=L.length;z<H;z++){var Z=L[z];Z.condition.accept(Y);var k=Z.target;if(k)for(var K=0,ee=k.length;K<ee;K++)k[K]&&k[K].accept(Y)}var Q=Y.result();if(Q){for(var J of Q)A.remove(J);return new w(A,L)}}static getMeasuresForJoinPredicates(x,A){for(var L=this,Y=x.select(),z=[],H=function(k){var K=Y[k];if((0,E.t)(K.expr)){if(_.some(A.SuppressedJoinPredicates,ee=>ee===k))return 1;(L.isSelectProjected(A.Primary,k)||L.isSelectProjected(A.Secondary,k))&&z.push(K)}},Z=0;Z<Y.length;Z++)H(Z);return z}static isSelectProjected(x,A){if(x&&x.Groupings)for(var L of x.Groupings)if(_.some(L.Projections,Y=>Y===A)&&!_.some(L.SuppressedProjections,Y=>Y===A))return!0;return!1}static getSubquerySelects(x,A,L){var z=_.chain(L.dataRoles).filter(k=>k.joinPredicate!==T.gD.None).map(k=>k.name).value(),H=_(A.projections).entries().filter(([k])=>z.includes(k)).flatMap(([,k])=>k.all().map(K=>K.queryRef)).value();return _.chain(x.select()).filter(k=>!(0,E.t)(k.expr)||H.includes(k.name)).sortBy(k=>(0,E.t)(k.expr)?1:0).value()}static isDefaultFilter(x){return!(!x||1!==x.where().length)&&(0,D.x)(x.where()[0].condition)}static isAnyFilter(x){return!(!x||1!==x.where().length)&&(B=x.where()[0].condition,a.Y.assertValue(B,"expr"),B.accept(f.instance));var B}static isSameFilter(x,A){return x===A||!!(x&&A&&x.from().equals(A.from())&&(0,i.m2)(x.where(),A.where(),(L,Y)=>(0,p.gc)(L,Y)))&&!(w.isDefaultFilter(x)&&w.isAnyFilter(A)||w.isAnyFilter(x)&&w.isDefaultFilter(A))}static isInFilter(x){return!(!x||1!==x.where().length)&&(0,m.S1)(x.where()[0].condition)}static applyFilter(x,A,L){a.Y.assertValue(x,"filter"),a.Y.assertValue(A,"from"),a.Y.assertValue(L,"where");var Y=x.whereItems;for(var z of Y){var H={condition:P.rewrite(z.condition,x.fromValue,A)};z.target&&(H.target=_.map(z.target,Z=>P.rewrite(Z,x.fromValue,A))),L.push(H)}}setIgnoreMParameter(){var x=this.whereItems;for(var A of x)A.annotations||(A.annotations={}),A.annotations["PowerBI.MParameterBehavior"]=r.n5.Ignore}}class P extends d.k{constructor(x,A){a.Y.assertValue(A,"destinationFrom"),super(),this.sourceFrom=x,this.destinationFrom=A}visitEntity(x){var A=this.destinationFrom.source(x.variable);if(A&&(0,h.lj)(A)&&A.schema===x.schema&&A.entity===x.entity)return x;var L=this.destinationFrom.ensureSource(new h.tv(x.schema,x.entity),x.variable);return L.name!==x.variable?new g.BO(x.schema,x.entity,L.name):x}visitSubqueryRef(x){if(!this.sourceFrom)return a.Y.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),x;var A=this.sourceFrom.source(x.variable);if(!A)return x;var L=this.destinationFrom.source(x.variable);if(L&&(0,o.c)(L)&&(0,p.EO)(A.subquery,L.subquery))return x;var Y=this.destinationFrom.ensureSource(new h.m$(A.subquery,A.inheritsSorting),x.variable);return Y.name!==x.variable?new g.nS(Y.name):x}visitNamedQueryRef(x){var A=this.destinationFrom.source(x.variable);if(A&&(0,h.L8)(A)&&(0,p.aI)(A.expr,x))return x;var Y=this.destinationFrom.ensureSource(new h.zg(x),x.variable);return Y.name!==x.variable?new g.a2(x.queryName,Y.name):void 0}static rewrite(x,A,L){a.Y.assertValue(x,"expr"),a.Y.assertValue(L,"destinationFrom");var Y=new P(A,L);return x.accept(Y)}}class N extends s.ff{constructor(x){a.Y.assertValue(x,"keys"),super(),this.keys=x}visitEntity(x){this.removeKey(x.variable)}visitSubqueryRef(x){this.removeKey(x.variable)}visitNamedQueryRef(x){this.removeKey(x.variable)}removeKey(x){var A=this.keys.indexOf(x);A>=0&&this.keys.splice(A,1)}result(){return this.keys}}class I extends s.ff{constructor(x){super(),this.query=x,this.containsEntityRefs=!1,this.containsSubqueries=!1}visitEntity(x){this.containsEntityRefs=!0}visitPropertyVariationSource(x){this.containsEntityRefs=!0}visitSubqueryRef(x){this.containsSubqueries=!0}willFilterAffectQuery(){var x=this.query.select();for(var A of x)A.expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)}}class O{constructor(x,A,L){this.renameSources=x,this.from=A,this.usedSourceNames=L,a.Y.assertValue(x,"renameSources"),a.Y.assertValue(A,"from"),a.Y.assertValue(L,"usedSourceNames")}static renameSources(x,A,L){var Y=new O(x,A,L);return M.rewriteFrom(A,Y)}visitEntity(x,A){return x}visitPod(x,A){return x}visitSubquery(x,A){var L=x.subquery,Y=this.renameSources(L,this.usedSourceNames);return Y===L?x:new h.m$(Y,x.inheritsSorting)}visitExpr(x,A){return x}}function W(B,x){var A=B.from(),L=A,Y=w.merge(x);return A===(L=U.ensureFiltersInSubqueries(L,Y.where(),Y.from()))?B:w.fromSQFromAndSQFilters(L,B.where())}function F(B,x){var A=_.filter(_.map(x.select(),H=>H.expr),H=>!(0,E.t)(H));if(_.isEmpty(A))return B;var L=_.map(A,H=>({condition:(0,g.LC)(H,(0,g.mh)(!0))})),Y=B.from(),z=U.ensureFiltersInSubqueries(Y,L,Y);return Y===z?B:w.fromSQFromAndSQFilters(z,B.where())}class U{constructor(x,A){this.filtersToEnsure=x,this.filtersToEnsureFrom=A,this.modifiedSubquery=!1,a.Y.assertNonEmpty(x,"expected filters to ensure exist in each subquery")}static ensureFiltersInSubqueries(x,A,L){var Y=new U(A,L),z=M.rewriteFrom(x,Y);return a.Y.assert(()=>z!==x===Y.modifiedSubquery,"expected to rewrite the from clause if and only if we modified a subquery"),z}visitEntity(x,A){return x}visitPod(x,A){return x}visitSubquery(x,A){var L=x.subquery.where(),Y=[],z=function(Z){_.find(L,k=>(0,p.gc)(Z,k))||Y.push(Z)};for(var H of this.filtersToEnsure)z(H);return 0===Y.length?x:(this.modifiedSubquery=!0,new h.m$(x.subquery.addWhere(Y,this.filtersToEnsureFrom),x.inheritsSorting))}visitExpr(x,A){return x}}},446024:function(me,j,e){e.d(j,{K7:function(){return Je},wC:function(){return z},xC:function(){return X},JK:function(){return Ie},AW:function(){return O},qO:function(){return ne},Dw:function(){return x},j_:function(){return Me},Ku:function(){return Ye},wy:function(){return ze},v6:function(){return Le},Nt:function(){return Ce},UC:function(){return Be},Uv:function(){return qe},BO:function(){return w},_7:function(){return ut},yj:function(){return V},yq:function(){return gr},zH:function(){return wt},xW:function(){return ve},$M:function(){return F},K$:function(){return R},CH:function(){return K},t9:function(){return ee},LV:function(){return Q},zn:function(){return ae},hR:function(){return A},gX:function(){return Ue},a2:function(){return I},fo:function(){return Y},D7:function(){return L},UL:function(){return P},JC:function(){return St},Zd:function(){return oe},TJ:function(){return H},P0:function(){return k},KW:function(){return Z},HM:function(){return Ee},e6:function(){return W},r0:function(){return _e},Ly:function(){return lt},nS:function(){return N},vy:function(){return at},QD:function(){return je},G9:function(){return pe},Uo:function(){return Ve},mh:function(){return mr},Bm:function(){return de},Tq:function(){return ke},zM:function(){return _r},yW:function(){return Qr},sX:function(){return Nt},UD:function(){return Kt},Jr:function(){return Qt},gR:function(){return qt},El:function(){return Vr},b5:function(){return Br},KQ:function(){return br},_:function(){return Fr},Jh:function(){return lr},z:function(){return Gr},gd:function(){return jr},bQ:function(){return kt},EG:function(){return ot},LC:function(){return Ge},t2:function(){return nr},Kf:function(){return Kr},Ge:function(){return ce},RI:function(){return De},G3:function(){return vr},CX:function(){return Or},q7:function(){return Xr},bR:function(){return Te},Sk:function(){return Fe},Mw:function(){return vt},Kd:function(){return ft},eu:function(){return it},nd:function(){return Lr},K6:function(){return Bt},Dc:function(){return Ir},JP:function(){return yt},Oi:function(){return Qe},IW:function(){return he},zy:function(){return hr},AU:function(){return Ct},tB:function(){return Ht},gN:function(){return nt},or:function(){return Pt},Ym:function(){return tt},U7:function(){return et},Lg:function(){return $e},bY:function(){return xr},SC:function(){return ea},a3:function(){return Re},bg:function(){return re},o4:function(){return Ke},is:function(){return Zr},yC:function(){return Ur},w1:function(){return xt},a_:function(){return mt},ft:function(){return q},Qq:function(){return wr},Bg:function(){return qr},Cv:function(){return st},CR:function(){return At},FT:function(){return Yr},IM:function(){return kr},IS:function(){return te}});var r=e(61917),i=e(460169),a=e(190846),t=e(974255),l=e(618644),g=e(785463),n=e(721442),d=e(690702),s=e(160800),h=e(468291),o=e(640700),v=e(191941),m=e(759520),p=e(574324),y=e(75366),S=e(61293),C=ie=>null!=ie&&ie[S.l]===h.Gf.Ordinal,u=e(177328),E=e(978450),c=e(662785),f=e(669129),D=e(20502),b=e(822874),T=e(388618),M=e(511334);class V{constructor(G,se){g.Y.assertValue(G,"kind"),g.Y.assertAnyValue(se,"annotations"),this._kind=G,this._annotations=se}validate(G,se,He,Mt){var zt=new wt(G,se,He,Mt);return this.accept(zt),zt.errors}accept(G,se){g.Y.assertFail("abstract method")}get kind(){return this._kind}getMetadata(G,se){g.Y.assertValue(G,"federatedSchema");var He=(0,p.F)(this,G);if(He)return He.column||He.columnAggr||He.groupingColumn||He.groupingColumnAggr||He.measure?this.getMetadataForProperty(He,G):He.hierarchyLevel||He.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(He,G):He.columnHierarchyLevelVariation?this.getMetadataForVariation(He,G):He.columnSubquery||He.columnAggrSubquery?this.getMetadataForSubqueryColumn(He,G,se):He.columnTransformRef?this.getMetadataForColumnTransformRef():V.getMetadataForEntity(He,G)}isOrdinalEvaluation(){return!1}getAnnotations(){return this._annotations}getKeyColumns(G){var se=Dt.getColumnRefSQExpr(G,this);if(se){var He=[],Mt=this.getPropertyKeys(G);if(Mt&&Mt.length>0)for(var zt=0,or=Mt.length;zt<or;zt++)He.push(Nt(se.source,Mt[zt].name));else He.push(se);return He}}hasGroupOnKeys(G){var se=this.getTargetColumnRef(G);if(se){var He=this.getPropertyKeys(G);if(!He||He.length<1)return!1;if(He.length>1)return!0;var Mt=Nt(se.source,He[0].name);return!(0,E.aI)(Mt,this)}}getPropertyKeys(G){var se=this.getConceptualProperty(G,!0);if(se)return se.column?se.column.keys:void 0}getOrderByColumns(G){var se=this.getTargetColumnRef(G);if(se){var He=se.getConceptualProperty(G,!0),Mt=He&&He.column&&He.column.orderBy;if(_.isEmpty(Mt))return[];for(var zt=new Array(Mt.length),or=0,rr=Mt.length;or<rr;or++)zt[or]=Nt(se.source,Mt[or].name);return zt}}getConceptualProperty(G,se){var He=(0,p.F)(this,G);if(He){var Mt=(0,m.WE)(He);if(Mt&&1===_.size(Mt)){var zt=(0,m.hm)(He);if(zt){var or=G.schema(Mt[0].schema);return or?or.findProperty(Mt[0].entity,zt):void 0}if(se){var rr,Gt;if(He.columnHierarchyLevelVariation)(rr=He.columnHierarchyLevelVariation.level)&&(Gt=G.schema(rr.schema).findHierarchy(rr.entity,rr.name));else if(rr=He.hierarchyLevel||He.hierarchyLevelAggr){var Er=(0,m.vG)(He);Gt=G.schema(Er.schema).findHierarchy(Er.entity,rr.name)}if(Gt){var Oe=Gt.levels.withName(rr.level);if(Oe)return Oe.column}}}}}getTargetEntityForVariation(G,se){var He=this.getConceptualProperty(G);if(He&&He.column&&!_.isEmpty(He.column.variations)){var Mt=He.column.variations;for(var zt of Mt)if(zt.name===se)return zt.navigationProperty.targetEntity.name}}getTargetEntity(){return It.getEntityExpr(this)}getTargetSchemaName(){return Xt.getSchemaName(this)}getTargetColumnRef(G){return g.Y.assertValue(G,"schema"),Dt.getColumnRefSQExpr(G,this)}getMetadataForVariation(G,se){g.Y.assertValue(G,"field"),g.Y.assertValue(se,"federatedSchema");var He=G.columnHierarchyLevelVariation,Mt=(0,m.vG)(G),zt=se.schema(Mt.schema).findProperty(Mt.entity,He.source.name);if(zt&&zt.column&&zt.column.variations)for(var or of zt.column.variations)if(or.defaultHierarchy&&or.defaultHierarchy.levels)for(var rr of or.defaultHierarchy.levels)if(rr.name===He.level.level){var Gt=rr.column;return{kind:Gt.kind===s.ye.Measure?n.L.Measure:n.L.Column,type:Gt.type,format:Gt.format,idOnEntityKey:!!Gt.column&&Gt.column.idOnEntityKey,defaultAggregate:Gt.column?Gt.column.defaultAggregate:null}}}getMetadataForHierarchyLevel(G,se){g.Y.assertValue(G,"field"),g.Y.assertValue(se,"federatedSchema");var He=this.getConceptualProperty(se,!0);if(He)return this.getPropertyMetadata(G,He)}getPropertyMetadata(G,se){var He=G.columnAggr||G.groupingColumnAggr||G.hierarchyLevelAggr,{format:Mt,type:zt}=He?this.getFormatAndTypeForAggregate(He.aggregate,se.format,se.type):se;return{kind:se.kind===s.ye.Measure||He&&void 0!==He.aggregate?n.L.Measure:n.L.Column,type:zt,format:Mt,idOnEntityKey:!!se.column&&se.column.idOnEntityKey,aggregate:He?He.aggregate:void 0,defaultAggregate:se.column?se.column.defaultAggregate:null}}getMetadataForProperty(G,se){g.Y.assertValue(G,"field"),g.Y.assertValue(se,"federatedSchema");var He=this.getConceptualProperty(se);if(He)return this.getPropertyMetadata(G,He)}getFormatAndTypeForAggregate(G,se,He){var Mt=se,zt=He;switch(G){case i.Sn.Count:case i.Sn.CountNonNull:zt=v.eV.fromExtendedType(d.K.Integer),Mt=void 0;break;case i.Sn.Avg:case i.Sn.StandardDeviation:case i.Sn.Variance:zt.integer&&(zt=v.eV.fromExtendedType(d.K.Double),Mt=(0,o.EC)(Mt))}return{format:Mt,type:zt}}getMetadataForSubqueryColumn(G,se,He){g.Y.assertValue(G,"field"),g.Y.assertValue(se,"federatedSchema"),g.Y.assert(()=>!(!He||!He.sources),"context sources should be available for evaluating subquery source");var Mt=f.B.getSubqueryExpression(this,He);g.Y.assertValue(Mt,"could not find original select expr of subquery from context");var zt=Mt.getMetadata(se,He);if(zt){if(zt.kind=n.L.Column,G.columnAggrSubquery){var or=this.getFormatAndTypeForAggregate(G.columnAggrSubquery.aggregate,zt.format,zt.type);zt.type=or.type,zt.format=or.format,zt.aggregate=G.columnAggrSubquery.aggregate}else G.columnSubquery?zt.aggregate=void 0:g.Y.assertFail("invalid field expression for subquery column");return zt}}getMetadataForColumnTransformRef(){return{idOnEntityKey:!1,kind:n.L.Column,type:v.eV.fromVariant([v.eV.fromPrimitiveTypeAndCategory(r.W.Boolean),v.eV.fromPrimitiveTypeAndCategory(r.W.DateTime),v.eV.fromPrimitiveTypeAndCategory(r.W.Decimal),v.eV.fromPrimitiveTypeAndCategory(r.W.Double),v.eV.fromPrimitiveTypeAndCategory(r.W.Integer),v.eV.fromPrimitiveTypeAndCategory(r.W.Text)])}}static getMetadataForEntity(G,se){g.Y.assertValue(G,"field"),g.Y.assertValue(se,"federatedSchema");var He=(0,m.vG)(G);if(se.schema(He.schema).entities.withName(He.entity)&&G.entityAggr)switch(G.entityAggr.aggregate){case i.Sn.Count:case i.Sn.CountNonNull:return{kind:n.L.Measure,type:v.eV.fromExtendedType(d.K.Integer),format:void 0,idOnEntityKey:!1,aggregate:G.entityAggr.aggregate}}}}(0,t.d)(V.prototype);class w extends V{constructor(G,se,He,Mt){g.Y.assertValue(se,"entity"),super(h.Ez.Entity,Mt),this.schema=G,this.entity=se,He&&(this.variable=He)}accept(G,se){return G.visitEntity(this,se)}as(G,se){return new w(this.schema,this.entity,G,se)}}class P extends V{constructor(G,se,He,Mt,zt){g.Y.assertValue(G,"name"),super(h.Ez.NativeVisualCalc,zt),this.name=G,this.language=se,this.expression=He,this.dataType=Mt}accept(G,se){return G.visitNativeVisualCalc(this,se)}getMetadata(G){return{kind:n.L.Measure,type:v.eV.fromPrimitiveTypeAndCategory(this.dataType??r.W.Double)}}}class N extends V{constructor(G,se){g.Y.assertValue(G,"source"),g.Y.assertAnyValue(se,"annotations"),super(h.Ez.SubqueryRef,se),_.isString(G)?this.variable=G:this.query=G}accept(G,se){return G.visitSubqueryRef(this,se)}as(G,se){return new N(G,se)}}class I extends V{constructor(G,se,He){g.Y.assertValue(G,"source"),super(h.Ez.NamedQueryRef,He),this.queryName=G,se&&(this.variable=se)}accept(G,se){return G.visitNamedQueryRef(this,se)}as(G,se){return new I(this.queryName,G,se)}}class O extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"left"),g.Y.assertValue(se,"right"),g.Y.assertValue(He,"operator"),super(h.Ez.Arithmetic,Mt),this.left=G,this.right=se,this.operator=He}accept(G,se){return G.visitArithmetic(this,se)}getMetadata(G){var se=this.left.getMetadata(G);if((0,c.tZ)(this.right))return se?(g.Y.assert(()=>this.operator===i.Fj.Divide,"unexpected usage of scoped eval with arithmetic"),se.format="#,##0.00%",se.type=v.eV.fromExtendedType(d.K.Double),se):void 0;var or,He=this.right.getMetadata(G),Mt=se?.type,zt=He?.type;or=Mt&&zt?this.getArithmeticResultType(Mt,zt):Mt??zt,g.Y.assertValue(or,"SQExpr - cannot get proper type for arithmetic expression");var Er,rr=se?.format,Gt=He?.format;return(this.operator===i.Fj.Add||this.operator===i.Fj.Subtract)&&(Er=rr===Gt?rr:void 0),{format:Er,type:or,kind:n.L.Measure}}getArithmeticResultType(G,se){return this.operator!==i.Fj.Add&&this.operator!==i.Fj.Subtract&&this.operator!==i.Fj.Multiply&&this.operator!==i.Fj.Divide&&g.Y.assertNever(this.operator),G.primitiveType===r.W.Decimal?v.eV.fromPrimitiveTypeAndCategory(this.operator===i.Fj.Divide&&se.primitiveType===r.W.Decimal?r.W.Double:r.W.Decimal):G.primitiveType===r.W.Double?v.eV.fromPrimitiveTypeAndCategory(this.operator!==i.Fj.Divide&&se.primitiveType===r.W.Decimal?r.W.Decimal:r.W.Double):G.primitiveType===r.W.Integer?this.operator===i.Fj.Divide&&se.primitiveType===r.W.Integer?v.eV.fromPrimitiveTypeAndCategory(r.W.Double):se:void g.Y.assertFail("unsupported arithmetic expression type")}}class R extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"size"),super(h.Ez.Floor,Mt),this.arg=G,this.size=se,null!=He&&(this.timeUnit=He)}accept(G,se){return G.visitFloor(this,se)}}class W extends V{constructor(G,se,He){g.Y.assertValue(G,"expression"),g.Y.assertValue(se,"scope"),super(h.Ez.ScopedEval,He),this.expression=G,this.scope=se}accept(G,se){return G.visitScopedEval(this,se)}getMetadata(G){return this.expression.getMetadata(G)}hasGlobalScope(){return g.Y.assertValue(this.scope,"scope"),0===this.scope.length}hasInnerMostScope(){return g.Y.assertValue(this.scope,"scope"),1===this.scope.length&&(0,c.U)(this.scope[0])}static createGlobalAggregateOfScopedExpr(G,se){var He=new W(G,[new Se]);return new W(new z(He,se),[])}decomposeGlobalAggregateOfScopedExpr(){if(this.hasGlobalScope()){var G=this.expression;if((0,c.b9)(G)){var se=G.arg;if((0,c.tZ)(se)&&se.hasInnerMostScope())return{source:se.expression,func:G.func}}}}}class F extends V{constructor(G,se,He){g.Y.assertValue(G,"expression"),g.Y.assertValue(se,"filters"),super(h.Ez.FilteredEval,He),this.expression=G,this.filters=se}accept(G,se){return G.visitFilteredEval(this,se)}getMetadata(G){return this.expression.getMetadata(G)}}class U extends V{constructor(G,se){g.Y.assertValue(G,"expressionName"),super(h.Ez.WithRef,se),this.expressionName=G}accept(G,se){return G.visitWithRef(this,se)}}class B extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"kind"),g.Y.assertValue(se,"source"),g.Y.assertValue(He,"ref"),super(G,Mt),this.source=se,this.ref=He}}class x extends B{constructor(G,se,He,Mt){super(He||h.Ez.ColumnRef,G,se,Mt)}accept(G,se){return G.visitColumnRef(this,se)}}class A extends B{constructor(G,se,He){super(h.Ez.MeasureRef,G,se,He)}accept(G,se){return G.visitMeasureRef(this,se)}}class L extends V{constructor(G,se,He,Mt,zt,or,rr){super(h.Ez.NativeMeasure,rr),g.Y.assertValue(G,"language"),g.Y.assertValue(se,"expression"),g.Y.assertValue(He,"dataType"),g.Y.assertAnyValue(Mt,"proposedName"),g.Y.assertAnyValue(zt,"expressionContentCache"),g.Y.assertAnyValue(or,"format"),this.language=G,this.expression=se,this.dataType=He,this.proposedName=Mt,this.expressionContentCache=zt,this.format=or}getMetadata(G){return g.Y.assertValue(G,"federatedSchema"),{kind:n.L.Measure,type:v.eV.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(G,se){return G.visitNativeMeasure(this,se)}}class Y extends V{constructor(G,se,He,Mt,zt,or,rr,Gt){super(h.Ez.NativeColumn,Gt),g.Y.assertValue(G,"language"),g.Y.assertValue(se,"expression"),g.Y.assertValue(He,"dataType"),g.Y.assertValue(Mt,"source"),g.Y.assertAnyValue(zt,"proposedName"),g.Y.assertAnyValue(or,"expressionContentCache"),g.Y.assertAnyValue(rr,"format"),this.language=G,this.expression=se,this.dataType=He,this.source=Mt,this.proposedName=zt,this.expressionContentCache=or,this.format=rr}getMetadata(G){return g.Y.assertValue(G,"federatedSchema"),{kind:n.L.Column,type:v.eV.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}}accept(G,se){return G.visitNativeColumn(this,se)}}class z extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"func"),super(h.Ez.Aggregation,Mt),this.arg=G,this.func=se,this.includeAllTypes=He,g.Y.assert(()=>_.isNil(this.includeAllTypes)||this.func===i.Sn.Min||this.func===i.Sn.Max,"includeAllTypes has a value and the aggregate is not min/max - not a valid combination.")}accept(G,se){return G.visitAggr(this,se)}getMetadata(G,se){if(g.Y.assertValue(G,"federatedSchema"),(0,c.mQ)(this.arg)){var He=this.getFormatAndTypeForAggregate(this.func,this.arg.format,v.eV.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:n.L.Measure,type:He.type,format:He.format}}return super.getMetadata(G,se)}}class H extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"k"),g.Y.assert(()=>0<=se&&se<=1,"0 <= k && k <= 1"),g.Y.assertValue(He,"exclusive"),super(h.Ez.Percentile,Mt),this.arg=G,this.k=se,this.exclusive=He}getMetadata(G){g.Y.assertValue(G,"federatedSchema");var se=this.arg.getMetadata(G);if(se)return{kind:n.L.Measure,type:se.type}}accept(G,se){return G.visitPercentile(this,se)}}class Z extends V{constructor(G,se,He,Mt){super(h.Ez.RangePercent,Mt),this.min=G,this.max=se,this.percent=He,g.Y.assert(()=>He>=0&&He<=1,"Invalid percent value. Valid values are 0 to 1")}accept(G,se){return G.visitRangePercent(this,se)}static overRangeOf(G,se){var He=W.createGlobalAggregateOfScopedExpr(G,i.Sn.Min),Mt=W.createGlobalAggregateOfScopedExpr(G,i.Sn.Max);return new Z(He,Mt,se)}decomposeOverRangePattern(){var G=this.min,se=this.max;if((0,c.tZ)(G)&&(0,c.tZ)(se)){var He=G.decomposeGlobalAggregateOfScopedExpr(),Mt=se.decomposeGlobalAggregateOfScopedExpr();if(He&&Mt&&He.func===i.Sn.Min&&Mt.func===i.Sn.Max&&(0,E.aI)(He.source,Mt.source))return{sourceExpr:He.source,percent:this.percent}}}}class k extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"name"),g.Y.assertValue(He,"property"),super(h.Ez.PropertyVariationSource,Mt),this.arg=G,this.name=se,this.property=He}accept(G,se){return G.visitPropertyVariationSource(this,se)}}class K extends x{constructor(G,se,He,Mt){g.Y.assertValue(G,"name"),g.Y.assertValue(He,"groupedExprs"),g.Y.assert(()=>He.length>0,"groupedExprs.length > 0"),super(se,G,h.Ez.GroupRef,Mt),this.groupedExprs=He}accept(G,se){return G.visitGroupRef(this,se)}}class ee extends V{constructor(G,se,He){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"hierarchy"),super(h.Ez.Hierarchy,He),this.arg=G,this.hierarchy=se}accept(G,se){return G.visitHierarchy(this,se)}}class Q extends V{constructor(G,se,He){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"level"),super(h.Ez.HierarchyLevel,He),this.arg=G,this.level=se}accept(G,se){return G.visitHierarchyLevel(this,se)}}class J extends V{constructor(G,se,He){g.Y.assertValue(G,"expressionName"),super(h.Ez.SelectRef,He),this.expressionName=G,this.attributeKind=se}accept(G,se){return G.visitSelectRef(this,se)}}class X extends V{constructor(G,se,He){g.Y.assertValue(G,"left"),g.Y.assertValue(se,"right"),super(h.Ez.And,He),this.left=G,this.right=se}accept(G,se){return G.visitAnd(this,se)}}class ne extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"arg"),g.Y.assertValue(se,"lower"),g.Y.assertValue(He,"upper"),super(h.Ez.Between,Mt),this.arg=G,this.lower=se,this.upper=He}accept(G,se){return G.visitBetween(this,se)}}class ae extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"args"),g.Y.assert(()=>null==se!=(null==He),"values or table"),super(h.Ez.In,Mt),this.args=G,se&&(this.values=se),He&&(this.table=He)}accept(G,se){return G.visitIn(this,se)}}class oe extends V{constructor(G,se,He){g.Y.assertValue(G,"left"),g.Y.assertValue(se,"right"),super(h.Ez.Or,He),this.left=G,this.right=se}accept(G,se){return G.visitOr(this,se)}}class Me extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"kind"),g.Y.assertValue(se,"left"),g.Y.assertValue(He,"right"),super(h.Ez.Compare,Mt),this.comparison=G,this.left=se,this.right=He}accept(G,se){return G.visitCompare(this,se)}isOrdinalEvaluation(){return C(this.getAnnotations())}}class Ye extends V{constructor(G,se,He){g.Y.assertNonEmpty(G,"cases"),g.Y.assertAnyValue(se,"defaultValue"),super(h.Ez.Conditional,He),this.cases=G,this.defaultValue=se}accept(G,se){return G.visitConditional(this,se)}}class Le extends V{constructor(G,se,He){g.Y.assertValue(G,"left"),g.Y.assertValue(se,"right"),super(h.Ez.Contains,He),this.left=G,this.right=se}accept(G,se){return G.visitContains(this,se)}isOrdinalEvaluation(){return C(this.getAnnotations())}}class lt extends V{constructor(G,se,He){g.Y.assertValue(G,"left"),g.Y.assertValue(se,"right"),super(h.Ez.StartsWith,He),this.left=G,this.right=se}accept(G,se){return G.visitStartsWith(this,se)}isOrdinalEvaluation(){return C(this.getAnnotations())}}class ut extends V{constructor(G,se){g.Y.assertValue(G,"arg"),g.Y.assert(()=>G instanceof w,"Exists only supports Entity argument"),super(h.Ez.Exists,se),this.arg=G}accept(G,se){return G.visitExists(this,se)}}class St extends V{constructor(G,se){g.Y.assertValue(G,"arg"),super(h.Ez.Not,se),this.arg=G}accept(G,se){return G.visitNot(this,se)}}class ze extends V{get valueEncoded(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,y.x5)(this.rawValue||this.value,this.type)),this.typeEncodedValue}constructor(G,se,He,Mt,zt){g.Y.assertValue(G,"type"),super(h.Ez.Constant,zt),this.type=G,this.value=se,this.typeEncodedValue=He,Mt&&(this.rawValue=Mt)}accept(G,se){return G.visitConstant(this,se)}getMetadata(){return{kind:n.L.Measure,type:this.type}}static getNumericValue(G){if((0,c.GK)(G)&&_.isNumber(G.value))return G.value;g.Y.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")}static getTextValue(G){if((0,c.Qy)(G)&&_.isString(G.value))return G.value;g.Y.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")}static getBooleanValue(G){if((0,c.Rd)(G)&&_.isBoolean(G.value))return G.value;g.Y.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")}static getDateValue(G){if((0,c.tC)(G)&&_.isDate(G.value))return G.value;g.Y.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")}}(0,t.d)(ze.prototype);class Be extends V{constructor(G,se,He){g.Y.assertValue(G,"unit"),g.Y.assertValue(se,"arg"),super(h.Ez.DateSpan,He),this.unit=G,this.arg=se}accept(G,se){return G.visitDateSpan(this,se)}}class Ce extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"unit"),g.Y.assertValue(se,"amount"),g.Y.assertValue(He,"arg"),super(h.Ez.DateAdd,Mt),this.unit=G,this.arg=He,this.amount=se}accept(G,se){return G.visitDateAdd(this,se)}getMetadata(G){return this.arg.getMetadata(G)}}class Ae extends V{constructor(G){super(h.Ez.Now,G)}accept(G,se){return G.visitNow(this,se)}getMetadata(){return{kind:n.L.Measure,type:v.eV.fromExtendedType(d.K.DateTime)}}}class be extends V{constructor(G){super(h.Ez.DefaultValue,G)}accept(G,se){return G.visitDefaultValue(this,se)}}class Ie extends V{constructor(G,se){g.Y.assertAnyValue(G,"defaultValueOverridesAncestors"),super(h.Ez.AnyValue,se),this.defaultValueOverridesAncestors=G}accept(G,se){return G.visitAnyValue(this,se)}}class ve extends V{constructor(G,se,He){g.Y.assertValue(G,"input"),g.Y.assertValue(se,"fillRule"),super(h.Ez.FillRule,He),this.input=G,this.rule=se}accept(G,se){return G.visitFillRule(this,se)}}class xe extends V{constructor(G,se,He){g.Y.assertValue(G,"SQThemeDataColorExpr - colorId"),g.Y.assertValue(se,"SQThemeDataColorExpr - percent"),g.Y.assertValue(-1<=se&&se<=1,"percent"),super(h.Ez.ThemeDataColor,He),this.colorId=G,this.percent=se}accept(G,se){return G.visitThemeDataColor(this,se)}}class Ee extends V{constructor(G,se,He,Mt){g.Y.assertValue(G,"packageName"),g.Y.assertValue(He,"itemName"),super(h.Ez.ResourcePackageItem,Mt),this.packageName=G,this.packageType=se,this.itemName=He}accept(G,se){return G.visitResourcePackageItem(this,se)}}class Ne extends V{constructor(G,se){g.Y.assertValue(G,"source"),super(h.Ez.TransformTableRef,se),this.source=G}accept(G,se){return G.visitTransformTableRef(this,se)}}class ye extends V{constructor(G,se,He){g.Y.assertValue(G,"role"),super(h.Ez.TransformOutputRoleRef,He),this.role=G,se&&(this.transform=se)}accept(G,se){return G.visitTransformOutputRoleRef(this,se)}getMetadata(G){}}class Xe extends V{constructor(G,se){g.Y.assertValue(G,"role"),super(h.Ez.RoleRef,se),this.role=G}accept(G,se){return G.visitRoleRef(this,se)}}class fe extends V{constructor(G,se){g.Y.assert(()=>!_.isEmpty(G),"name"),g.Y.assertAnyValue(se,"annotations"),super(h.Ez.SummaryValueRef,se),this.name=G}accept(G,se){return G.visitSummaryValueRef(this,se)}}class Se extends V{constructor(G){super(h.Ez.AllRolesRef,G)}accept(G,se){return G.visitAllRolesRef(this,se)}}class qe extends V{constructor(G,se,He){g.Y.assertValue(G,"source"),super(h.Ez.Discretize,He),this.source=G,this.count=se}accept(G,se){return G.visitDiscretize(this,se)}}class Ue extends V{constructor(G,se,He){g.Y.assertValue(G,"source"),g.Y.assertValue(se,"member"),super(h.Ez.Member,He),this.source=G,this.member=se}accept(G,se){return G.visitMember(this,se)}}class _e extends V{constructor(G,se,He,Mt,zt,or){super(h.Ez.SparklineData,or),g.Y.assertValue(G,"measure"),g.Y.assertValue(se,"grouping"),g.Y.assertAnyValue(He,"scalarKey"),g.Y.assert(()=>1===_.size(se),"exactly 1 grouping is allowed"),this.measure=G,this.grouping=se,this.scalarKey=He,this.pointsPerSparkline=Mt,this.includeMinGroupingInterval=zt}getMetadata(G){return g.Y.assertValue(G,"federatedSchema"),g.Y.assert(()=>1===_.size(this.grouping),"exactly 1 grouping is allowed"),{kind:n.L.Measure,type:v.eV.fromDescriptor({misc:{sparkline:{groupingType:this.grouping[0].getMetadata(G)?.type}}})}}accept(G,se){return G.visitSparklineData(this,se)}}class at extends V{constructor(G){super(h.Ez.VisualTopN),g.Y.assertValue(G,"itemCount"),this.itemCount=G}accept(G,se){return G.visitVisualTopN(this,se)}}function ot(ie,G,se,He){return new w(ie,G,se,He)}function mt(ie,G){return _.isString(ie),new N(ie,G)}function yt(ie,G,se){return new I(ie,G,se)}function Nt(ie,G,se){return new x(ie,G,null,se)}function Bt(ie,G,se){return new A(ie,G,se)}function he(ie,G,se,He,Mt,zt,or){return new L(ie,G,se,He,Mt,zt,or)}function Qe(ie,G,se,He,Mt,zt,or,rr){return new Y(ie,G,se,He,Mt,zt,or,rr)}function je(ie,G,se,He){return new z(ie,G,se,He)}function Ke(ie,G,se){return new J(ie,G,se)}function tt(ie,G,se,He){return new H(ie,G,se,He)}function $e(ie,G,se,He){return new Z(ie,G,se,He)}function de(ie,G,se,He){return new O(ie,G,se,He)}function De(ie,G,se,He){return new R(ie,G,se,He)}function re(ie,G,se){return new W(ie,G,se)}function ce(ie,G,se){return new F(ie,G,se)}function te(ie,G){return new U(ie,G)}function Te(ie,G,se,He){return new K(ie,G,se,He)}function Fe(ie,G,se){return new ee(ie,G,se)}function et(ie,G,se,He){return new k(ie,G,se,He)}function vt(ie,G,se){return new Q(ie,G,se)}function At(ie,G){return new Ne(ie,G)}function st(ie,G,se){return new ye(ie,G,se)}function Re(ie,G){return new Xe(ie,G)}function q(ie,G){return new fe(ie,G)}function pe(ie){return new Se(ie)}function Ve(ie,G,se){return ie?G?new X(ie,G,se):ie:G}function ke(ie,G,se,He){return new ne(ie,G,se,He)}function it(ie,G,se){return new ae(ie,G,null,se)}function ft(ie,G,se){return new ae(ie,null,G,se)}function Pt(ie,G,se){if(!ie)return G;if(!G)return ie;if((0,c.S1)(ie)&&(0,c.S1)(G)){var He=function(ie,G,se){if(ie.args&&G.args&&ie.values&&G.values){var He=ie.args.length;if(He===G.args.length){for(var zt=0;zt<He;++zt)if(!(0,E.aI)(ie.args[zt],G.args[zt]))return;var or=ie.values.concat(G.values);return it(ie.args,or,se)}}}(ie,G,se);if(He)return He}return new oe(ie,G,se)}function Kt(ie,G,se,He){return new Me(ie,G,se,He)}function Qt(ie,G,se){return new Ye(ie,G,se)}function qt(ie,G,se){return new Le(ie,G,se)}function nr(ie,G){return new ut(ie,G)}function Ge(ie,G,se){return Kt(i.mq.Equal,ie,G,se)}function Ct(ie,G){return new St(ie,G)}function xt(ie,G,se){return new lt(ie,G,se)}var We=new ze(v.eV.fromExtendedType(d.K.Null),null,(0,y.xA)());function nt(){return We}var Wt=new ze(v.eV.fromExtendedType(d.K.Text),"");function kt(){return Wt}function Ht(ie){return new Ae(ie)}function lr(ie){return new be(ie)}function mr(ie,G){return new Ie(ie,G)}function _r(ie,G){return new ze(v.eV.fromExtendedType(d.K.Boolean),ie,(0,y.zM)(ie),void 0,G)}function Vr(ie,G,se,He){return new Ce(ie,G,se,He)}function br(ie,G,se){return new ze(v.eV.fromExtendedType(d.K.DateTime),ie,G,void 0,se)}function Br(ie,G,se){return new Be(ie,G,se)}function Fr(ie,G,se){return new ze(v.eV.fromExtendedType(d.K.Decimal),ie,G,void 0,se)}function jr(ie,G,se){return new ze(v.eV.fromExtendedType(d.K.Double),ie,G,void 0,se)}function Lr(ie,G,se){return new ze(v.eV.fromExtendedType(d.K.Integer),ie,G,void 0,se)}function wr(ie,G,se){return g.Y.assert(()=>!G||G===(0,y.Qq)(ie),"Incorrect encoded value specified."),new ze(v.eV.fromExtendedType(d.K.Text),ie,G,void 0,se)}function Yr(ie,G){return null==ie?nt():_.isBoolean(ie)?_r(ie):_.isString(ie)?wr(ie):_.isNumber(ie)?G.integer&&(0,a.Fq)(ie)?Lr(ie):jr(ie):ie instanceof Date?br(ie):void 0}function vr(ie,G,se,He){return new ze(v.eV.fromExtendedType(ie),G,void 0,se,He)}function Ur(ie,G,se,He,Mt,zt){return new _e(ie,G,se,He,Mt,zt)}function xr(ie){return gr.rewrite(ie)}function Zr(ie,G,se,He){if((0,c.$M)(ie))return pt.rewrite(ie,G,se,He)}function Kr(ie,G,se){return g.Y.assertValue(ie,"expr"),g.Y.assertValue(G,"rule"),new ve(ie,G,se)}function qr(ie,G,se){return g.Y.assertValue(ie,"themeDataColor - colorId"),g.Y.assertValue(G,"themeDataColor - percent"),new xe(ie,G,se)}function ea(ie,G,se,He){return new Ee(ie,G,se,He)}function Gr(ie,G,se){return new qe(ie,G,se)}function Ir(ie,G,se){return new Ue(ie,G,se)}function Qr(ie,G,se){return g.Y.assertValue(null==ie||(0,l.Lo)(ie),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),g.Y.assertValue(G,"SQExprBuilder.color - colorName has to exist"),wr(ie||G,void 0,se)}function hr(ie,G,se,He){return new P(ie,"dax",G,se,He)}function kr(ie){return new at(ie)}function Or(ie){return Et.getAggregate(ie)}function Xr(ie){if(g.Y.assertValue(ie,"expr"),(0,c.VO)(ie)&&ie.type.text)return ie.value}class wt extends u.k{constructor(G,se,He,Mt){g.Y.assertValue(G,"schema"),g.Y.assertValue(se,"aggrUtils"),super(),this.schema=G,this.aggrUtils=se,this.context=Mt,He&&(this.errors=He)}visitIn(G){var se=this,He=super.visitIn(G),Mt=He.args,zt=He.values;if(zt){g.Y.assert(()=>!He.table,"values and table cannot both be specified for the In operator");var or=function(Er){g.Y.assert(()=>Er.length===Mt.length,"args and value tuple are not the same length");for(var Oe=0,Ze=Er.length;Oe<Ze;++Oe)se.validateCompatibleType(Mt[Oe],Er[Oe])};for(var rr of zt)or(rr)}else{var Gt=He.table;g.Y.assert(()=>!!Gt,"either values or table must be non-null for an In operator"),this.validateIsTableRef(Gt)}return He}visitCompare(G){var se=super.visitCompare(G);return this.validateCompatibleType(se.left,se.right),se}visitColumnRef(G){if((0,c.EP)(G.source))return f.B.getSubqueryExpression(G,this.context)||this.register(h.np.invalidSubqueryReference),G;var He=(0,p.F)(G);return He&&this.validateColumnExpr(He),G}visitMeasureRef(G){var se=(0,p.F)(G);if(se){var He=(0,m.vG)(se),Mt=this.validateEntity(He.schema,He.entity);if(Mt){var zt=Mt.properties.withName(se.measure.name);(!zt||zt.kind!==s.ye.Measure||!this.isQueryable(se))&&this.register(h.np.invalidMeasureReference)}}return G}visitAggr(G){var se=super.visitAggr(G);return Dt.getColumnRefSQExpr(this.schema,se.arg)&&(this.aggrUtils.isSupportedAggregate(G,this.schema,G.func,null,this.context)||this.register(h.np.invalidAggregateFunction)),se}visitGroupRef(G){var se=(0,p.F)(G);if(se){var He=(0,m.vG)(se),Mt=this.validateEntity(He.schema,He.entity);if(Mt){var zt=Mt.properties.withName(se.groupingColumn.name);(!zt||zt.kind!==s.ye.Column||!this.validateExprSequence(G.groupedExprs)||!zt.column.groupingMetadata||!this.isQueryable(se))&&this.register(h.np.invalidGroupingColumnReference)}}return G}visitHierarchy(G){var se=(0,p.F)(G);if(se){var He=se.hierarchy;He?this.validateHierarchy(He.schema,He.entity,He.name):this.register(h.np.invalidHierarchyReference)}return G}visitHierarchyLevel(G){var se=(0,p.F)(G);if(se){var He=se.hierarchyLevel,Mt=se.columnHierarchyLevelVariation;He?this.validateHierarchyLevel(He.schema,He.entity,He.name,He.level):Mt?this.validateHierarchyLevelVariation(Mt):this.register(h.np.invalidHierarchyLevelReference)}return G}visitPercentile(G){if(G.arg.accept(this),_.isEmpty(this.errors)){var se=G.arg.getMetadata(this.schema,this.context);(!se||se.kind!==n.L.Column||!se.type||!se.type.integer&&!se.type.numeric)&&this.register(h.np.invalidPercentileArgument)}return G}visitRangePercent(G){return(G.percent>1||G.percent<0)&&this.register(h.np.invalidPercentArgument),G.min.accept(this),G.max.accept(this),G}visitDiscretize(G){return G.source.accept(this),G.count<=0&&this.register(h.np.invalidDiscretizeCount),G}visitEntity(G){return this.validateEntity(G.schema,G.entity),G}visitSubqueryRef(G){return G}visitNamedQueryRef(G){return G}visitContains(G){return this.validateStartOrContainsArgs(G.left,G.right),G}visitStartsWith(G){return this.validateStartOrContainsArgs(G.left,G.right),G}visitArithmetic(G){return this.validateArithmeticTypes(G.operator,G.left,G.right),G}visitScopedEval(G){if(G.hasGlobalScope()||G.hasInnerMostScope())return G;for(var se of G.scope)(0,c.KH)(se)||(0,c.R3)(se)||this.register(h.np.invalidScopeArgument);return G}visitFilteredEval(G){for(var se of(G.expression.accept(this),0===_.size(G.filters)&&this.register(h.np.invalidFiltersForFilteredEval),G.filters)){if(!_.isEmpty(se.target))for(var He of se.target)He.accept(this);se.condition.accept(this)}return G}visitWithRef(G){return G}visitTransformTableRef(G){return G}visitTransformOutputRoleRef(G){return G}visitRoleRef(G){return G}visitSummaryValueRef(G){return G}visitAllRolesRef(G){return G}visitSparklineData(G){if((0,M.t)(G.measure)){var se=G.measure.getMetadata(this.schema),He=se?.type;!He?.numeric&&!He?.integer&&this.register(h.np.invalidMeasureReference)}else this.register(h.np.invalidMeasureReference);for(var Mt of(g.Y.assert(()=>1===_.size(G.grouping),"Only support 1 grouping for now"),_.some(G.grouping,zt=>(0,M.t)(zt))&&this.register(h.np.invalidColumnReference),G.measure.accept(this),G.grouping))Mt.accept(this);return G.scalarKey&&G.scalarKey.accept(this),G}visitNativeVisualCalc(G){return G}validateExprSequence(G){return _.reduce(G,(se,He)=>se&&_.isEmpty(He.validate(this.schema,this.aggrUtils,this.errors,this.context)),!0)}validateStartOrContainsArgs(G,se){G.accept(this),se.accept(this),_.isEmpty(this.errors)&&((0,c.VO)(se)&&se.type.text?this.validateCompatibleType(G,se,!0):this.register(h.np.invalidRightOperandType))}validateArithmeticTypes(G,se,He){f.B.supportsArithmetic(G,se,this.schema)||this.register(h.np.invalidLeftOperandType),f.B.supportsArithmetic(G,He,this.schema)||this.register(h.np.invalidRightOperandType)}validateCompatibleType(G,se,He){var Mt=G.getMetadata(this.schema,this.context),zt=Mt&&Mt.type,or=se.getMetadata(this.schema,this.context),rr=or&&or.type;(He?!zt||!rr||!zt.isCompatibleFrom(rr):zt&&rr&&!zt.isCompatibleFrom(rr))&&this.register(h.np.invalidValueType)}validateEntity(G,se){var He=this.schema.schema(G);if(He){var Mt=He.entities.withName(se);if(Mt)return Mt;this.register(h.np.invalidEntityReference)}else this.register(h.np.invalidSchemaReference)}validateIsTableRef(G){G.kind!==h.Ez.SubqueryRef&&G.kind!==h.Ez.Entity&&this.register(h.np.invalidTableReference)}validateHierarchy(G,se,He){var Mt=this.validateEntity(G,se);if(Mt){var zt=Mt.hierarchies.withName(He);if(zt)return zt;this.register(h.np.invalidHierarchyReference)}}validateHierarchyLevel(G,se,He,Mt){var zt=this.validateHierarchy(G,se,He);if(zt){var or=zt.levels.withName(Mt);if(or)return or;this.register(h.np.invalidHierarchyLevelReference)}}validateHierarchyLevelVariation(G){var se=G.source,He=this.schema.schema(se.schema),Mt=He.findProperty(se.entity,se.name);if(this.validateColumnExpr({column:G.source}),Mt&&Mt.column){var or=Mt.column.variations.withName(G.variationName);if(or){var rr=He.findHierarchyByVariation(se.entity,se.name,G.variationName,G.level.name);if(rr&&rr.levels.withName(G.level.level))return or}this.register(h.np.invalidVariationReference)}}validateColumnExpr(G){var se=G.column,He=this.validateEntity(se.schema,se.entity);if(He){var Mt=He.properties.withName(se.name);if(Mt&&Mt.kind===s.ye.Column&&this.isQueryable(G))return Mt;this.register(h.np.invalidColumnReference)}}register(G){this.errors||(this.errors=[]),this.errors.push(G)}isQueryable(G){var se=(0,m.vG)(G);if(G.hierarchyLevel||G.hierarchyLevelAggr){var He=(0,b.tu)(this.schema,G);return He&&He.column.queryable!==s.IW.Error}return this.schema.schema(se.schema).findProperty(se.entity,(0,m.hm)(G)).queryable!==s.IW.Error}}class Et extends D.nP{visitAggr(G){return G.func}visitDefault(G){}static getAggregate(G){var se=new Et;return G.accept(se)}}class Dt extends D.nP{constructor(G){super(),this.schema=G}visitColumnRef(G){return G}visitGroupRef(G){return G}visitHierarchyLevel(G){var se=G.level,He=G.arg,Mt=He.accept(this);if(He&&(0,c.sD)(He.arg)){var or=Mt.getTargetEntityForVariation(this.schema,He.arg.name);if(Mt&&or){var rr=Mt.source.schema,Gt=ot(rr,or),Er=this.schema.schema(rr).findHierarchy(or,He.hierarchy);if(Er)for(var Oe of Er.levels)if(Oe.name===se)return new x(Gt,Oe.column.name)}}else{var Ze=He.arg,ct=(0,b.Gn)(this.schema,Ze.schema,Ze.entity,He.hierarchy,G.level);if(ct)return new x(He.arg,ct.column.name)}}visitHierarchy(G){return G.arg.accept(this)}visitPropertyVariationSource(G){return new x(G.arg,G.property)}visitAggr(G){return G.arg.accept(this)}visitDefault(G){}static getColumnRefSQExpr(G,se){var He=new Dt(G);return se.accept(He)}}class It extends D.ff{visitEntity(G){var se=this.result;this.result=void 0===se||(0,E.aI)(se,G)?G:null}visitFilteredEval(G){G.expression.accept(this)}static getEntityExpr(G){var se=new It;return G.accept(se),se.result||void 0}}var Xt=(()=>{class ie extends D.nP{visitNativeVisualCalc(se){}visitDefault(se){return se.getTargetEntity()?.schema}static getSchemaName(se){return se.accept(ie.instance)}}return ie.instance=new ie,ie})(),gr=(()=>{class ie extends u.k{visitEntity(se){return se.variable?ot(se.schema,se.entity):se}static rewrite(se){return g.Y.assertValue(se,"expr"),se.accept(ie.instance)}}return ie.instance=new ie,ie})(),pt=(()=>{class ie extends T.q{static rewrite(se,He,Mt,zt){return g.Y.assertValue(se,"expr"),g.Y.assert(()=>(0,c.$M)(se),"should be a native visual calc"),se.accept(ie.instance,{expression:He,name:Mt,dataType:zt})}visitNativeVisualCalc(se,He){return hr(He.name,He.expression,He.dataType,se.getAnnotations())}}return ie.instance=new ie,ie})();class Je extends D.nP{visitHierarchyLevel(G){return G.arg.accept(this)}visitHierarchy(G){return G.arg.accept(this)}visitPropertyVariationSource(G){return G.property}static getProperty(G){var se=new Je;return G.accept(se)}}},978450:function(me,j,e){e.d(j,{EO:function(){return C},aI:function(){return l},fB:function(){return d},gc:function(){return n},i1:function(){return s},lC:function(){return h}});var r=e(928912),i=e(935236),a=e(785463),t=e(662785);function l(u,E,c,f,D){return g.run(u,E,c,f,D)}var g=(()=>{class u{static getInstance(c,f,D){c||(c=!1),f||(f=!1),D||(D=!1);var b=[+c,+f,+D].reduce((M,V)=>M<<1|V),T=u.instances[b];return T||(T=new u(c,f,D)),T}static run(c,f,D,b,T){return(c=c||null)===(f=f||null)||!c==!f&&(a.Y.assertValue(c,"x"),a.Y.assertValue(f,"y"),c.accept(u.getInstance(D,b,T),f))}constructor(c,f,D){this.ignoreCase=c,this.ignoreVariables=f,this.ignoreAnnotations=D}visitColumnRef(c,f){return!(!(0,t.R3)(f)&&!(0,t.Jq)(f))&&c.ref===f.ref&&this.equals(c.source,f.source)&&this.equalAnnotations(c,f)}visitMeasureRef(c,f){return!(!(0,t.tx)(f)||!this.equalAnnotations(c,f))&&c.ref===f.ref&&this.equals(c.source,f.source)}visitNativeMeasure(c,f){if(!(0,t.uD)(f)||c.language!==f.language||c.expression!==f.expression||c.dataType!==f.dataType||c.format!==f.format||c.proposedName!==f.proposedName||!this.equalAnnotations(c,f))return!1;var D=c.expressionContentCache,b=f.expressionContentCache;return!D&&!b||!(!D||!b)&&D.unrecognizedIdentifiers===b.unrecognizedIdentifiers&&this.equalsAll(D.dependencies,b.dependencies)}visitNativeColumn(c,f){if(!(0,t.mQ)(f)||c.language!==f.language||c.expression!==f.expression||c.dataType!==f.dataType||c.proposedName!==f.proposedName||c.format!==f.format||!this.equals(c.source,f.source)||!this.equalAnnotations(c,f))return!1;var D=c.expressionContentCache,b=f.expressionContentCache;return!D&&!b||!(!D||!b)&&D.unrecognizedIdentifiers===b.unrecognizedIdentifiers&&this.equalsAll(D.dependencies,b.dependencies)}visitAggr(c,f){return(0,t.b9)(f)&&this.equalAnnotations(c,f)&&c.func===f.func&&this.equals(c.arg,f.arg)}visitPercentile(c,f){return!(!(0,t.Wx)(f)||!this.equalAnnotations(c,f))&&c.exclusive===f.exclusive&&c.k===f.k&&this.equals(c.arg,f.arg)}visitRangePercent(c,f){return!(!(0,t.hl)(f)||!this.equalAnnotations(c,f))&&c.percent===f.percent&&this.equals(c.min,f.min)&&this.equals(c.max,f.max)}visitGroupRef(c,f){var D=!1;return((0,t.Jq)(f)||(0,t.R3)(f))&&(D=c.ref===f.ref&&this.equals(c.source,f.source)&&this.equalAnnotations(c,f)),(0,t.Jq)(f)&&this.equalAnnotations(c,f)&&(D=D&&this.equalsAll(c.groupedExprs,f.groupedExprs)),D}visitHierarchy(c,f){return!(!(0,t.Ir)(f)||!this.equalAnnotations(c,f))&&c.hierarchy===f.hierarchy&&this.equals(c.arg,f.arg)}visitHierarchyLevel(c,f){return!(!(0,t.Ah)(f)||!this.equalAnnotations(c,f))&&c.level===f.level&&this.equals(c.arg,f.arg)}visitPropertyVariationSource(c,f){return!(!(0,t.sD)(f)||!this.equalAnnotations(c,f))&&c.name===f.name&&c.property===f.property&&this.equals(c.arg,f.arg)}visitSelectRef(c,f){return!(!(0,t.Gv)(f)||!this.equalAnnotations(c,f)||c.expressionName!==f.expressionName||c.attributeKind!==f.attributeKind&&this.isNullOrUndefined(c.attributeKind)!==this.isNullOrUndefined(f.attributeKind))}isNullOrUndefined(c){return null==c}visitBetween(c,f){return!(!(0,t.Bt)(f)||!this.equalAnnotations(c,f))&&this.equals(c.arg,f.arg)&&this.equals(c.lower,f.lower)&&this.equals(c.upper,f.upper)}visitIn(c,f){if(!(0,t.S1)(f)||!this.equalsAll(c.args,f.args)||!this.equalAnnotations(c,f))return!1;var D=f,b=c.values;if(b){var T=D.values;if(!T||b.length!==T.length)return!1;for(var M=0,V=b.length;M<V;M++)if(!this.equalsAll(b[M],T[M]))return!1}else if(a.Y.assert(()=>!!c.table,"either values or table must be non-null for an In operator"),!D.table||!this.equals(c.table,D.table))return!1;return!0}visitEntity(c,f){return!(!(0,t.Qg)(f)||!this.equalAnnotations(c,f))&&c.schema===f.schema&&c.entity===f.entity&&(this.ignoreVariables||this.optionalEqual(c.variable,f.variable))}visitSubqueryRef(c,f){return!(!(0,t.EP)(f)||!this.equalAnnotations(c,f)||!c.query&&f.query||c.query&&!f.query)&&(c.query&&f.query?c.variable===f.variable&&C(c.query,f.query):c.variable===f.variable)}visitNamedQueryRef(c,f){return!(!(0,t.bu)(f)||!this.equalAnnotations(c,f))&&c.queryName===f.queryName&&(this.ignoreVariables||this.optionalEqual(c.variable,f.variable))}visitAnd(c,f){return!(!(0,t.mP)(f)||!this.equalAnnotations(c,f))&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitOr(c,f){return!(!(0,t.yE)(f)||!this.equalAnnotations(c,f))&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitCompare(c,f){return!(!(0,t.Wc)(f)||!this.equalAnnotations(c,f))&&c.comparison===f.comparison&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitConditional(c,f){return!(!(0,t.Jz)(f)||!this.equalAnnotations(c,f))&&(0,i.m2)(c.cases,f.cases,(D,b)=>this.visitCase(D,b))&&this.equalsNullableObject(c.defaultValue,f.defaultValue,(D,b)=>this.equals(D,b))}visitCase(c,f){return this.equals(c.condition,f.condition)&&this.equals(c.value,f.value)}visitContains(c,f){return!(!(0,t.c5)(f)||!this.equalAnnotations(c,f))&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitDateSpan(c,f){return!(!(0,t.B6)(f)||!this.equalAnnotations(c,f))&&c.unit===f.unit&&this.equals(c.arg,f.arg)}visitDateAdd(c,f){return!(!(0,t.yS)(f)||!this.equalAnnotations(c,f))&&c.unit===f.unit&&c.amount===f.amount&&this.equals(c.arg,f.arg)}visitExists(c,f){return!(!(0,t.D$)(f)||!this.equalAnnotations(c,f))&&this.equals(c.arg,f.arg)}visitNot(c,f){return!(!(0,t.w8)(f)||!this.equalAnnotations(c,f))&&this.equals(c.arg,f.arg)}visitNow(c,f){return!!this.equalAnnotations(c,f)&&(0,t.DK)(f)}visitDefaultValue(c,f){return!!this.equalAnnotations(c,f)&&(0,t.xb)(f)}visitAnyValue(c,f){return!!this.equalAnnotations(c,f)&&(0,t.qz)(f)}visitResourcePackageItem(c,f){return!(!(0,t.cd)(f)||!this.equalAnnotations(c,f))&&c.packageName===f.packageName&&c.packageType===f.packageType&&c.itemName===f.itemName}visitStartsWith(c,f){return!(!(0,t.qg)(f)||!this.equalAnnotations(c,f))&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitConstant(c,f){return!!((0,t.VO)(f)&&c.type.equals(f.type)&&this.equalAnnotations(c,f))&&(c.type.text&&this.ignoreCase?(0,r.Hd)(c.valueEncoded,f.valueEncoded):c.valueEncoded===f.valueEncoded)}visitFillRule(c,f){if(!(0,t.ON)(f)||!this.equals(c.input,f.input)||!this.equalAnnotations(c,f))return!1;var D=c.rule,b=f.rule;return D===b||this.equalsNullableObject(D.linearGradient2,b.linearGradient2,(T,M)=>this.visitLinearGradient2(T,M))&&this.equalsNullableObject(D.linearGradient3,b.linearGradient3,(T,M)=>this.visitLinearGradient3(T,M))}visitLinearGradient2(c,f){return a.Y.assertValue(c,"left"),a.Y.assertValue(f,"right"),this.equalsFillRuleStop(c.min,f.min)&&this.equalsFillRuleStop(c.max,f.max)&&this.equalsNullableObject(c.nullColoringStrategy,f.nullColoringStrategy,(D,b)=>this.equalsNullStrategy(D,b))}visitLinearGradient3(c,f){return a.Y.assertValue(c,"left"),a.Y.assertValue(f,"right"),this.equalsFillRuleStop(c.min,f.min)&&this.equalsFillRuleStop(c.mid,f.mid)&&this.equalsFillRuleStop(c.max,f.max)&&this.equalsNullableObject(c.nullColoringStrategy,f.nullColoringStrategy,(D,b)=>this.equalsNullStrategy(D,b))}visitThemeDataColor(c,f){return a.Y.assertValue(c,"expr"),a.Y.assertValue(f,"comparand"),(0,t.Hf)(f)&&c.colorId===f.colorId&&c.percent===f.percent}equalsFillRuleStop(c,f){return a.Y.assertValue(c,"stop1"),a.Y.assertValue(f,"stop2"),this.equals(c.color,f.color)&&this.equalsNullable(c.value,f.value)}equalsNullStrategy(c,f){return a.Y.assertValue(c,"equalsNullStrategy - left"),a.Y.assertValue(f,"equalsNullStrategy - right"),this.equals(c.strategy,f.strategy)&&this.equalsNullable(c.color,f.color)}visitArithmetic(c,f){return!(!(0,t.rJ)(f)||!this.equalAnnotations(c,f))&&c.operator===f.operator&&this.equals(c.left,f.left)&&this.equals(c.right,f.right)}visitFloor(c,f){return!(!(0,t.b5)(f)||!this.equalAnnotations(c,f))&&c.timeUnit===f.timeUnit&&c.size===f.size&&this.equals(c.arg,f.arg)}visitScopedEval(c,f){return!(!(0,t.tZ)(f)||!this.equalAnnotations(c,f))&&this.equals(c.expression,f.expression)&&this.equalsAll(c.scope,f.scope)}visitFilteredEval(c,f){return!(!(0,t.m6)(f)||!this.equalAnnotations(c,f))&&this.equals(c.expression,f.expression)&&c.filters.length===f.filters.length&&_.every(c.filters,(D,b)=>n(D,f.filters[b]))}visitWithRef(c,f){return!(!(0,t.KH)(f)||!this.equalAnnotations(c,f))&&c.expressionName===f.expressionName}visitTransformTableRef(c,f){return!(!(0,t.eN)(f)||!this.equalAnnotations(c,f))&&c.source===f.source}visitTransformOutputRoleRef(c,f){return!(!(0,t.VT)(f)||!this.equalAnnotations(c,f))&&c.role===f.role&&c.transform===f.transform}visitRoleRef(c,f){return!(!(0,t.aV)(f)||!this.equalAnnotations(c,f))&&c.role===f.role}visitSummaryValueRef(c,f){return!(!(0,t.$t)(f)||!this.equalAnnotations(c,f))&&c.name===f.name}visitAllRolesRef(c,f){return(0,t.U)(f)}visitDiscretize(c,f){return!(!(0,t.vU)(f)||!this.equalAnnotations(c,f))&&c.count===f.count&&this.equals(c.source,f.source)}visitMember(c,f){return!(!(0,t.NB)(f)||!this.equalAnnotations(c,f))&&c.member===f.member&&this.equals(c.source,f.source)}visitSparklineData(c,f){return!!(0,t.AH)(f)&&this.equals(c.measure,f.measure)&&this.equalsAll(c.grouping,f.grouping)&&!!(!c.scalarKey&&!f.scalarKey||c.scalarKey&&f.scalarKey&&this.equals(c.scalarKey,f.scalarKey))&&c.pointsPerSparkline===f.pointsPerSparkline&&c.includeMinGroupingInterval===f.includeMinGroupingInterval}optionalEqual(c,f){return!c||!f||c===f}equals(c,f){return c.accept(this,f)}equalsNullable(c,f){return this.equalsNullableObject(c,f,(D,b)=>this.equals(D,b))}equalsNullableObject(c,f,D){return null==c&&null==f||null!=c&&null!=f&&D(c,f)}equalsAll(c,f){return(0,i.m2)(c,f,(D,b)=>this.equals(D,b))}equalAnnotations(c,f){return!(!this.ignoreAnnotations&&!_.isEqual(c.getAnnotations(),f.getAnnotations()))}visitNativeVisualCalc(c,f){return!(!this.ignoreAnnotations&&!_.isEqual(c.getAnnotations(),f.getAnnotations()))&&c.language===f.language&&c.expression===f.expression&&c.name===f.name&&c.dataType===f.dataType}visitVisualTopN(c,f){return!!(0,t.q_)(f)&&c.itemCount===f.itemCount}}return u.instances=[],u})();function n(u,E){return a.Y.assertAnyValue(u,"leftFilter"),a.Y.assertAnyValue(E,"rightFilter"),u||(u=null),E||(E=null),u===E||!(!!u!=!!E||!d(u,E))&&l(u.condition,E.condition)}function d(u,E){return a.Y.assertValue(u,"leftFilter"),a.Y.assertValue(E,"rightFilter"),(0,i.m2)(u.target,E.target,l)}function s(u,E){return a.Y.assertAnyValue(u,"filters"),a.Y.assertValue(E,"searchTarget"),!_.isEmpty(u)&&_.some(u,c=>n(c,E))}function h(u,E){return!u&&!E||!(!u||!E)&&u.direction===E.direction&&l(u.expr,E.expr)}function o(u,E){return!u&&!E||!(!u||!E)&&l(u.expr,E.expr)}function m(u,E){return!u&&!E||!(!u||!E)&&(0,i.m2)(u.columns,E.columns,(c,f)=>function(u,E){return!u&&!E||!(!u||!E)&&u.role===E.role&&o(u.expression,E.expression)}(c,f))}function S(u,E){return!u&&!E||!(!u||!E)&&u.algorithm===E.algorithm&&function(u,E){return!u&&!E||!(!u||!E)&&(0,i.m2)(u.parameters,E.parameters,(c,f)=>o(c,f))&&m(u.table,E.table)}(u.input,E.input)&&function(u,E){return!u&&!E||!(!u||!E)&&m(u.table,E.table)}(u.output,E.output)}function C(u,E){return a.Y.assertValue(u,"x SemanticQuery"),a.Y.assertValue(E,"y SemanticQuery"),u.from().equals(E.from())&&(0,i.m2)(u.where(),E.where(),n)&&(0,i.m2)(u.orderBy(),E.orderBy(),h)&&(0,i.m2)(u.select(),E.select(),o)&&(0,i.m2)(u.groupBy(),E.groupBy(),o)&&(0,i.m2)(u.transforms(),E.transforms(),S)&&u.top()===E.top()}},548186:function(me,j,e){e.d(j,{c:function(){return g}});var r=e(785463),i=e(662785),a=e(978450),t=e(669129),l=e(822874);function g(d,s,h){var p,{disableHierarchyLevelGrouping:o,useNativeReferenceNames:v}=h,m=[];if(0===s.length)return m;for(var y=0,S=(p=t.B.isSQExprArray(s)?s.map(c=>t.B.transformToVisualQueryField(c)):s).length;y<S;y++){var C=p[y],u=C.expr,E=C.isFieldParameter;r.Y.assertValue(u,"Expression not found"),v||!(0,i.Ah)(u)?m.push({expr:u,children:null,selectQueryIndex:y,isHierarchyLevelsGroup:!1,isFieldParameter:E}):n(d,m,u,y,o)}return m}function n(d,s,h,o,v){var m=!0,p=(0,l.mA)(h)||(0,l.HL)(h),y=_.last(s);if(!v&&y&&y.children&&(0,a.aI)(y.expr,p)){var S=(0,l.w)(d,h.arg);S instanceof Array&&(m=!(0,l.wd)(S,_.last(y.children),h))}m||v?s.push({expr:p,children:[h],selectQueryIndex:o,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(r.Y.assertValue(y,"There should be a group to add the variation to"),r.Y.assertValue(y.children,"The group should have children to add the variation to"),y.children.push(h))}},810818:function(me,j,e){e.d(j,{x:function(){return l}});var r=e(785463),i=e(574324),a=e(388618),t=e(627201);function l(n){return g.rewrite(n)}var g=(()=>{class n extends a.q{static rewrite(s){return r.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var h=(0,i.F)(s);return h&&h.percentOfGrandTotal&&(s=(0,t.to)(h.percentOfGrandTotal.baseExpr)),s}}return n.instance=new n,n})()},147854:function(me,j,e){e.d(j,{L:function(){return l}});var r=e(785463),i=e(574324),a=e(388618),t=e(627201);function l(n){return g.rewrite(n)}var g=(()=>{class n extends a.q{static rewrite(s){return r.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var h=(0,i.F)(s);return h&&h.percentOfRoleTotal&&(s=(0,t.to)(h.percentOfRoleTotal.baseExpr)),s}}return n.instance=new n,n})()},177328:function(me,j,e){e.d(j,{k:function(){return l}});var r=e(935236),i=e(785463),a=e(446024),t=e(978450);class l{visitColumnRef(d){var s=d.source,h=s.accept(this);return s===h?d:new a.Dw(h,d.ref,void 0,d.getAnnotations())}visitMeasureRef(d){var s=d.source,h=s.accept(this);return s===h?d:new a.hR(h,d.ref,d.getAnnotations())}visitNativeMeasure(d){var s=d.expressionContentCache&&d.expressionContentCache.dependencies,h=s&&this.rewriteAll(s);return s===h?d:new a.D7(d.language,d.expression,d.dataType,d.proposedName,{...d.expressionContentCache,dependencies:h},d.format,d.getAnnotations())}visitNativeColumn(d){var s=d.expressionContentCache&&d.expressionContentCache.dependencies,h=s&&this.rewriteAll(s),o=d.source.accept(this);if(s===h&&d.source===o)return d;var v=d.expressionContentCache?{...d.expressionContentCache,dependencies:h}:void 0;return new a.fo(d.language,d.expression,d.dataType,o,d.proposedName,v,d.format,d.getAnnotations())}visitAggr(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.wC(h,d.func,d.includeAllTypes,d.getAnnotations())}visitSelectRef(d){return d}visitPercentile(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.TJ(h,d.k,d.exclusive,d.getAnnotations())}visitRangePercent(d){var s=d.min,h=s.accept(this),o=d.max,v=o.accept(this);return s===h&&o===v?d:new a.KW(h,v,d.percent,d.getAnnotations())}visitGroupRef(d){for(var s=d.source,h=d.source.accept(this),o=d.groupedExprs,v=new Array(o.length),m=0;m<o.length;m++)v[m]=o[m].accept(this);return s===h&&function(n,d){i.Y.assertValue(n,"x"),i.Y.assertValue(d,"y");var s=n.length;if(s!==d.length)return!1;for(var h=0;h<s;h++)if(!(0,t.aI)(n[h],d[h]))return!1;return!0}(o,v)?d:new a.CH(d.ref,h,v,d.getAnnotations())}visitHierarchy(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.t9(h,d.hierarchy,d.getAnnotations())}visitHierarchyLevel(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.LV(h,d.level,d.getAnnotations())}visitPropertyVariationSource(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.P0(h,d.name,d.property,d.getAnnotations())}visitEntity(d){return d}visitSubqueryRef(d){return d}visitNamedQueryRef(d){return d}visitAnd(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.xC(h,v,d.getAnnotations())}visitBetween(d){var s=d.arg,h=s.accept(this),o=d.lower,v=o.accept(this),m=d.upper,p=m.accept(this);return s===h&&o===v&&m===p?d:new a.qO(h,v,p,d.getAnnotations())}visitIn(d){var v,s=d.args,h=this.rewriteAll(s),o=d.values,m=d.table,p=m;if(o){i.Y.assert(()=>!m,"values and table cannot be both specified for the In operator");for(var y=0,S=o.length;y<S;y++){var C=o[y],u=this.rewriteAll(C);C!==u&&!v&&(v=(0,r.s)(o,y)),v&&v.push(u)}}return m&&(i.Y.assert(()=>!o,"values and table cannot be both specified for the In operator"),p=m.accept(this)),s!==h||v||m!==p?new a.zn(h,v||o,p,d.getAnnotations()):d}rewriteAll(d){return i.Y.assertValue(d,"origExprs"),(0,r.cd)(d,s=>s.accept(this))}visitOr(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.Zd(h,v,d.getAnnotations())}visitCompare(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.j_(d.comparison,h,v,d.getAnnotations())}visitConditional(d){i.Y.assertNonEmpty(d.cases,"orig.cases");for(var v,s=d.defaultValue,h=s&&s.accept(this),o=d.cases,m=0,p=o.length;m<p;m++){var y=o[m],S=this.visitCase(y);y!==S&&!v&&(v=(0,r.s)(o,m)),v&&v.push(S)}return v||(v=o),h===s&&v===o?d:new a.Ku(v,h,d.getAnnotations())}visitCase(d){var s=d.condition,h=s.accept(this),o=d.value,v=o.accept(this);return s===h&&o===v?d:{condition:h,value:v}}visitContains(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.v6(h,v,d.getAnnotations())}visitExists(d){var s=d.arg,h=s.accept(this);return s===h?d:new a._7(h,d.getAnnotations())}visitNot(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.JC(h,d.getAnnotations())}visitStartsWith(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.Ly(h,v,d.getAnnotations())}visitConstant(d){return d}visitFloor(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.K$(h,d.size,d.timeUnit,d.getAnnotations())}visitDateSpan(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.UC(d.unit,h,d.getAnnotations())}visitDateAdd(d){var s=d.arg,h=s.accept(this);return s===h?d:new a.Nt(d.unit,d.amount,h,d.getAnnotations())}visitNow(d){return d}visitDefaultValue(d){return d}visitAnyValue(d){return d}visitArithmetic(d){var s=d.left,h=s.accept(this),o=d.right,v=o.accept(this);return s===h&&o===v?d:new a.AW(h,v,d.operator,d.getAnnotations())}visitScopedEval(d){var s=d.expression,h=s.accept(this),o=d.scope,v=this.rewriteAll(o);return s===h&&o===v?d:new a.e6(h,v,d.getAnnotations())}visitFilteredEval(d){var s=d.expression,h=s.accept(this),o=!1,v=[];for(var m of d.filters){var p=m.target,y=void 0;_.isEmpty(p)||(y=this.rewriteAll(p));var S=m.condition,C=m.condition.accept(this);(p!==y||S!==C)&&(o=!0),v.push({target:y,condition:C})}return s!==h||o?new a.$M(h,v,d.getAnnotations()):d}visitWithRef(d){return d}visitTransformTableRef(d){return d}visitTransformOutputRoleRef(d){return d}visitRoleRef(d){return d}visitSummaryValueRef(d){return d}visitAllRolesRef(d){return d}visitFillRule(d){var s=d.input,h=s.accept(this),o=d.rule,v=o.linearGradient2,m=v;v&&(m=this.visitLinearGradient2(v));var p=o.linearGradient3,y=p;if(p&&(y=this.visitLinearGradient3(p)),s!==h||v!==m||p!==y){var S={};return m&&(S.linearGradient2=m),y&&(S.linearGradient3=y),new a.xW(h,S,d.getAnnotations())}return d}visitLinearGradient2(d){i.Y.assertValue(d,"origGradient");var s=d.min,h=this.visitFillRuleStop(s),o=d.max,v=this.visitFillRuleStop(o),m=d.nullColoringStrategy,p=this.visitFillNullStrategy(m);if(s!==h||o!==v||m!==p){var y={min:h,max:v};return p&&(y.nullColoringStrategy=p),y}return d}visitLinearGradient3(d){i.Y.assertValue(d,"origGradient");var s=d.min,h=this.visitFillRuleStop(s),o=d.mid,v=this.visitFillRuleStop(o),m=d.max,p=this.visitFillRuleStop(m),y=d.nullColoringStrategy,S=this.visitFillNullStrategy(y);if(s!==h||o!==v||m!==p||y!==S){var C={min:h,mid:v,max:p};return S&&(C.nullColoringStrategy=S),C}return d}visitFillRuleStop(d){i.Y.assertValue(d,"stop");var s=d.color,h=d.color.accept(this),o=d.value,v=o;if(o&&(v=o.accept(this)),s!==h||o!==v){var m={color:h};return v&&(m.value=v),m}return d}visitFillNullStrategy(d){if(d){var s=d.strategy,h=s.accept(this),o=d.color,v=o;if(o&&(v=o.accept(this)),s!==h||o!==v){var m={strategy:h};return v&&(m.color=v),m}return d}}visitThemeDataColor(d){return d}visitResourcePackageItem(d){return d}visitDiscretize(d){var s=d.source.accept(this);return s===d.source?d:new a.Uv(s,d.count,d.getAnnotations())}visitMember(d){var s=d.source.accept(this);return s===d.source?d:new a.gX(s,d.member,d.getAnnotations())}visitSparklineData(d){var s=d.measure.accept(this),h=this.rewriteAll(d.grouping),o=d.scalarKey?.accept(this),v=d.pointsPerSparkline,m=d.includeMinGroupingInterval;return s===d.measure&&h===d.grouping&&d.scalarKey===o&&d.pointsPerSparkline===v&&d.includeMinGroupingInterval===m?d:new a.r0(s,h,o,v,m)}visitNativeVisualCalc(d){return d}visitVisualTopN(d){return d}}},388618:function(me,j,e){e.d(j,{q:function(){return r}});class r{visitEntity(a,t){return this.visitDefault(a,t)}visitSubqueryRef(a,t){return this.visitDefault(a,t)}visitColumnRef(a,t){return this.visitDefault(a,t)}visitMeasureRef(a,t){return this.visitDefault(a,t)}visitAggr(a,t){return this.visitDefault(a,t)}visitPercentile(a,t){return this.visitDefault(a,t)}visitRangePercent(a,t){return this.visitDefault(a,t)}visitGroupRef(a,t){return this.visitDefault(a,t)}visitHierarchy(a,t){return this.visitDefault(a,t)}visitHierarchyLevel(a,t){return this.visitDefault(a,t)}visitPropertyVariationSource(a,t){return this.visitDefault(a,t)}visitSelectRef(a,t){return this.visitDefault(a,t)}visitAnd(a,t){return this.visitDefault(a,t)}visitBetween(a,t){return this.visitDefault(a,t)}visitIn(a,t){return this.visitDefault(a,t)}visitOr(a,t){return this.visitDefault(a,t)}visitCompare(a,t){return this.visitDefault(a,t)}visitConditional(a,t){return this.visitDefault(a,t)}visitContains(a,t){return this.visitDefault(a,t)}visitExists(a,t){return this.visitDefault(a,t)}visitNot(a,t){return this.visitDefault(a,t)}visitStartsWith(a,t){return this.visitDefault(a,t)}visitConstant(a,t){return this.visitDefault(a,t)}visitDateSpan(a,t){return this.visitDefault(a,t)}visitDateAdd(a,t){return this.visitDefault(a,t)}visitNow(a,t){return this.visitDefault(a,t)}visitDefaultValue(a,t){return this.visitDefault(a,t)}visitAnyValue(a,t){return this.visitDefault(a,t)}visitArithmetic(a,t){return this.visitDefault(a,t)}visitFloor(a,t){return this.visitDefault(a,t)}visitFillRule(a,t){return this.visitDefault(a,t)}visitThemeDataColor(a,t){return this.visitDefault(a,t)}visitResourcePackageItem(a,t){return this.visitDefault(a,t)}visitScopedEval(a,t){return this.visitDefault(a,t)}visitFilteredEval(a,t){return this.visitDefault(a,t)}visitWithRef(a,t){return this.visitDefault(a,t)}visitTransformTableRef(a,t){return this.visitDefault(a,t)}visitTransformOutputRoleRef(a,t){return this.visitDefault(a,t)}visitRoleRef(a,t){return this.visitDefault(a,t)}visitAllRolesRef(a,t){return this.visitDefault(a,t)}visitDiscretize(a,t){return this.visitDefault(a,t)}visitMember(a,t){return this.visitDefault(a,t)}visitNamedQueryRef(a,t){return this.visitDefault(a,t)}visitNativeMeasure(a,t){return this.visitDefault(a,t)}visitNativeColumn(a,t){return this.visitDefault(a,t)}visitSummaryValueRef(a,t){return this.visitDefault(a,t)}visitSparklineData(a,t){return this.visitDefault(a,t)}visitNativeVisualCalc(a,t){return this.visitDefault(a,t)}visitVisualTopN(a,t){return this.visitDefault(a,t)}visitDefault(a,t){return a}}},210340:function(me,j,e){e.d(j,{p:function(){return l}});var r=e(785463),i=e(574324),a=e(627201),t=e(388618);function l(n){return g.rewrite(n)}var g=(()=>{class n extends t.q{static rewrite(s){return r.Y.assertValue(s,"expr"),s.accept(n.instance)}visitDefault(s){var h=(0,i.F)(s);return h&&!h.percentOfGrandTotal&&(s=(0,a.to)({percentOfGrandTotal:{baseExpr:h}})),s}}return n.instance=new n,n})()},761448:function(me,j,e){e.d(j,{L:function(){return l}});var r=e(785463),i=e(574324),a=e(388618),t=e(627201);function l(n,d){return g.rewrite(n,d)}var g=(()=>{class n extends a.q{static rewrite(s,h){return r.Y.assertValue(s,"expr"),s.accept(n.instance,h)}visitDefault(s,h){var o=(0,i.F)(s);return o&&!o.percentOfRoleTotal&&(s=(0,t.to)({percentOfRoleTotal:{baseExpr:o,roles:h}})),s}}return n.instance=new n,n})()},662785:function(me,j,e){e.d(j,{$M:function(){return ve},$t:function(){return H},$y:function(){return f},A0:function(){return Ee},AH:function(){return be},Ah:function(){return S},B6:function(){return ae},Bt:function(){return K},D$:function(){return Me},DG:function(){return b},DK:function(){return Le},EL:function(){return m},EP:function(){return F},GK:function(){return s},Gv:function(){return O},Hf:function(){return Be},Iq:function(){return xe},Ir:function(){return y},JG:function(){return Ie},Jq:function(){return Y},Jz:function(){return X},KH:function(){return U},LM:function(){return D},NB:function(){return Ae},Nd:function(){return E},ON:function(){return ze},Qg:function(){return p},Qy:function(){return v},R3:function(){return n},R4:function(){return c},Rd:function(){return h},S1:function(){return C},U:function(){return Z},VO:function(){return d},VT:function(){return x},Wc:function(){return J},Wx:function(){return P},Ze:function(){return L},aV:function(){return z},b5:function(){return g},b9:function(){return u},bu:function(){return k},c5:function(){return ne},cR:function(){return T},cd:function(){return A},eN:function(){return B},hl:function(){return N},m6:function(){return W},mP:function(){return ee},mQ:function(){return w},q_:function(){return Ne},qg:function(){return St},qz:function(){return ut},rJ:function(){return l},sD:function(){return I},tC:function(){return o},tZ:function(){return R},tx:function(){return M},uD:function(){return V},vU:function(){return Ce},w8:function(){return Ye},xb:function(){return lt},yE:function(){return Q},yS:function(){return oe}});var r=e(61917),i=e(460169),a=e(785463),t=e(468291);function l(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Arithmetic}function g(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Floor}function n(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.ColumnRef}function d(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Constant}function s(ye){return a.Y.assertValue(ye,"expr"),d(ye)&&ye.type.numeric}function h(ye){return a.Y.assertValue(ye,"expr"),d(ye)&&ye.type.bool}function o(ye){return a.Y.assertValue(ye,"expr"),d(ye)&&ye.type.dateTime}function v(ye){return a.Y.assertValue(ye,"expr"),d(ye)&&ye.type.text}function m(ye){return a.Y.assertValue(ye,"expr"),d(ye)&&ye.type.primitiveType===r.W.Null&&null===ye.value}function p(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Entity}function y(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Hierarchy}function S(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.HierarchyLevel}function C(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.In}function u(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Aggregation}function E(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Min}function c(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Max}function f(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Avg}function D(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Median}function b(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.StandardDeviation}function T(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Variance}function M(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.MeasureRef}function V(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.NativeMeasure}function w(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.NativeColumn}function P(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Percentile}function N(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.RangePercent}function I(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.PropertyVariationSource}function O(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.SelectRef}function R(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.ScopedEval}function W(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.FilteredEval}function F(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.SubqueryRef}function U(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.WithRef}function B(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.TransformTableRef}function x(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.TransformOutputRoleRef}function A(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.ResourcePackageItem}function L(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Compare}function Y(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.GroupRef}function z(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.RoleRef}function H(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.SummaryValueRef}function Z(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.AllRolesRef}function k(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.NamedQueryRef}function K(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Between}function ee(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.And}function Q(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Or}function J(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Compare}function X(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Conditional}function ne(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Contains}function ae(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.DateSpan}function oe(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.DateAdd}function Me(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Exists}function Ye(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Not}function Le(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Now}function lt(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.DefaultValue}function ut(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.AnyValue}function St(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.StartsWith}function ze(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.FillRule}function Be(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.ThemeDataColor}function Ce(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Discretize}function Ae(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.Member}function be(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.SparklineData}function Ie(ye){return a.Y.assertValue(ye,"expr"),ye.comparison===i.mq.Equal&&(m(ye.right)||m(ye.left))}function ve(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.NativeVisualCalc}function xe(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.Count}function Ee(ye){return a.Y.assertValue(ye,"expr"),u(ye)&&ye.func===i.Sn.CountNonNull}function Ne(ye){return a.Y.assertValue(ye,"expr"),ye.kind===t.Ez.VisualTopN}},61293:function(me,j,e){e.d(j,{$:function(){return i},l:function(){return r}});var r="PowerBI.SQExprEvaluationKind",i="PowerBI.SQExprTextOperatorOption"},669129:function(me,j,e){e.d(j,{B:function(){return u}});var r=e(460169),i=e(935236),a=e(785463),t=e(856701),l=e(289239),g=e(759520),n=e(574324),d=e(42630),s=e(446024),h=e(160800),o=e(468291),v=e(20502),m=e(15721),p=e(922044),y=e(662785),S=e(978450),C=e(273327),u=(()=>{class b{static supportsArithmetic(M,V,w){var P=V.getMetadata(w),N=P&&P.type;return!(!P||!N)&&(M===r.Fj.Multiply||M===r.Fj.Divide?N.numeric:N.numeric||N.dateTime||N.duration)}static indexOfExpr(M,V){a.Y.assertValue(M,"items"),a.Y.assertValue(V,"searchElement");for(var w=0,P=M.length;w<P;w++)if((0,S.aI)(M[w],V))return w;return-1}static sequenceEqual(M,V){a.Y.assertValue(M,"x"),a.Y.assertValue(V,"y");var w=M.length;if(w!==V.length)return!1;for(var P=0;P<w;P++)if(!(0,S.aI)(M[P],V[P]))return!1;return!0}static isSubset(M,V){a.Y.assertValue(M,"x"),a.Y.assertValue(V,"y");var P,w=function(I){if(-1===_.findIndex(V,R=>(0,S.aI)(R,I)))return{v:!1}};for(var N of M)if(P=w(N))return P.v;return!0}static isFromVariation(M){return a.Y.assertValue(M,"expr"),(0,y.Ir)(M)&&(0,y.sD)(M.arg)||(0,y.Ah)(M)&&this.isFromVariation(M.arg)}static discourageAggregation(M,V){var w=this.getSchemaCapabilities(M,V);return _.some(w,P=>P.discourageQueryAggregateUsage)}static getAggregateBehavior(M,V){a.Y.assertValue(M,"expr"),a.Y.assertValue(V,"schema");var w=this.getConceptualColumn(M,V);if(w)return w.aggregateBehavior}static getSchemaCapabilities(M,V){a.Y.assertValue(M,"expr"),a.Y.assertValue(V,"schema");var w=(0,n.F)(M,V);if(w){var P=(0,g.WE)(w);return _.chain(P).map(N=>V.schema(N.schema)?.capabilities).filter(N=>!!N).value()}}static getKpiMetadata(M,V){var w=this.getKpiStatusProperty(M,V);if(w)return w.kpiValue.measure.kpi.statusMetadata;var P=this.getKpiTrendProperty(M,V);return P?P.kpiValue.measure.kpi.trendMetadata:void 0}static getParameterMetadata(M,V){var w=M.getConceptualProperty(V,!0),P=w&&w.column&&w.column.parameterMetadata;return P&&this.getDataViewParameterColumnMetadata(P)}static getWhatIfParameterMetadata(M){if(M&&M.parameterMetadata&&M.parameterMetadata.kind===h.S_.WhatIf)return M.parameterMetadata}static getFieldParameterQuerySelects(M,V){if(!_.isEmpty(M)){var w=M.getConceptualProperty(V);if(w){var P=w.column;if(P&&M.kind===o.Ez.ColumnRef&&P.parameterMetadata?.kind===h.S_.Field){var N=M.getTargetEntity(),I=V.schema(N.schema).entities.withName(N.entity),O=_.some(I.properties,F=>F.column&&F.column.keys);for(var R of(a.Y.assert(()=>O,"A key should always exist within the fieldParameter entity"),I.properties))if(R.column&&R.column.keys&&1===R.column.keys.length){var W=R.column.keys[0];if(W===w)return{parameterColumn:M,labelColumn:(0,s.sX)(N,R.name)};if(w===R)return{labelColumn:M,parameterColumn:(0,s.sX)(N,W.name)}}return{parameterColumn:M}}}}}static getFieldParameters(M){var V=[];for(var w in M){var N=M[w].getFieldParameters();V.push({role:w,parameters:N})}return V}static getParameterValuesOrder(M,V){if(!_.isEmpty(M))for(var w of M){var P=w?.conditions();if(!_.isEmpty(P)){var N=(0,d.gE)(V,P[0]);if(!_.isEmpty(N))return N}}return[]}static isFilterForFieldParameter(M,V,w){if(M){var P=b.getFieldParameters(M);for(var N of P)for(var I of N.parameters){var O=b.getFieldParameterQuerySelects(I.expr,w);if(O&&!_.isEmpty(b.getParameterValuesOrder([V],O.parameterColumn)))return!0}}return!1}static shouldUseAsFieldParameter(M,V,w,P,N){return!(!M||N||!P||(0,y.Ah)(w)||!b.getFieldParameterQuerySelects(w,V))}static getDataViewParameterColumnMetadata(M){return{kind:this.getDataViewParameterKind(M),mappedMParameterNames:M.mappedMParameterNames,supportsMultipleValues:M.supportsMultipleValues,supportsSelectAll:M.supportsSelectAll}}static getDataViewParameterKind(M){if(null!=M){var V=M.kind;if(null==V)return t.t_.WhatIf;switch(V){case h.S_.WhatIf:return t.t_.WhatIf;case h.S_.MParameters:return t.t_.MParameters;case h.S_.Field:return t.t_.Field;default:return void a.Y.assertNever(V)}}}static hasMappedMParameter(M,V){var w=this.getConceptualParameterMetadata(M,V);return w?.kind===h.S_.MParameters}static isSupportMulitpleValuesEnabled(M,V){var w=this.getConceptualParameterMetadata(M,V);return w?.supportsMultipleValues}static getConceptualParameterMetadata(M,V){var w=this.getConceptualColumn(M,V);return w?.parameterMetadata}static getConceptualEntity(M,V){return a.Y.assertValue(M,"entityExpr"),V.schema(M.schema).entities.withName(M.entity)}static hasMappedColumn(M,V){return E.hasMappedColumn(M,V)}static isSingleDateColumn(M,V){if(1!==_.size(M))return!1;var P=M[0].getMetadata(V);return P&&!!P.type.dateTime}static getColumnnsWithKey(M,V){a.Y.assertValue(M,"keyExpr"),a.Y.assertValue(V,"schema");var w=M.getTargetColumnRef(V);if(w){var P=w.getConceptualProperty(V);if(P&&P.column){var N=w.getTargetEntity();if(N){var I=this.getConceptualEntity(N,V);if(I){var O=[];for(var R of I.properties)R.column&&R.column.keys&&_.includes(R.column.keys,P)&&O.push((0,s.sX)(N,R.name));return O}}}}}static tryGetExprFromFilter(M){if((0,y.S1)(M.condition)&&1===_.size(M.condition.args))return M.condition.args[0];if((0,y.Wc)(M.condition)){if((0,y.VO)(M.condition.left))return M.condition.right;if((0,y.VO)(M.condition.right))return M.condition.left}}static checkExprForValidMParameters(M,V){return this.checkExprForMapped(M,V).isValidSQExpr}static checkExprForMapped(M,V){return(0,y.Wc)(M)?this.checkComparsionForMapped(M,V):(0,y.S1)(M)?this.checkInForMapped(M,V):(0,y.yE)(M)?this.checkOrForMapped(M,V):{isValidSQExpr:!b.hasMappedColumn(M,V)}}static checkComparsionForMapped(M,V){if(!(0,y.R3)(M.left))return{isValidSQExpr:!0};var N,w=b.getConceptualParameterMetadata(M.left,V);if(w?.kind===h.S_.MParameters){if(M.comparison!==r.mq.Equal||(0,y.EL)(M.right))return{isValidSQExpr:!1};if(!w.supportsSelectAll&&(0,y.qz)(M.right))return{isValidSQExpr:!1};N=M.left}return{isValidSQExpr:!0,columnExpr:N}}static checkInForMapped(M,V){var P,w=M.args,N=!1,I=!1;for(var O of w)if((0,y.R3)(O)){var R=b.getConceptualParameterMetadata(O,V);if(N=R?.kind===h.S_.MParameters){P=O,I=R?.supportsMultipleValues;break}}if(N){if(w.length>1||M.table&&(0,y.EP)(M.table)||M.values.length>1&&!I)return{isValidSQExpr:!1};if(_.some(M.values,F=>_.some(F,U=>(0,y.EL)(U))))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:P}}static checkOrForMapped(M,V){var w=this.checkExprForMapped(M.left,V),P=this.checkExprForMapped(M.right,V),N=w.columnExpr,I=P.columnExpr;return(0,S.aI)(N,I)?N&&!b.isSupportMulitpleValuesEnabled(N,V)||I&&!b.isSupportMulitpleValuesEnabled(I,V)?{isValidSQExpr:!1}:{isValidSQExpr:w.isValidSQExpr&&P.isValidSQExpr,columnExpr:N}:{isValidSQExpr:!1}}static getKpiStatusProperty(M,V){var w=M.getConceptualProperty(V);if(w){var P=w.kpiValue;if(P&&P.measure.kpi.status===w)return w}}static getKpiTrendProperty(M,V){var w=M.getConceptualProperty(V);if(w){var P=w.kpiValue;if(P&&P.measure.kpi.trend===w)return w}}static getDefaultValue(M,V){var w=this.getConceptualColumn(M,V);if(w)return w.defaultValue}static getConceptualColumn(M,V){if(M&&V){var w=(0,n.F)(M);if(w){var P=w.column||w.groupingColumn;if(P){if(V.schema(P.schema)&&P.name){var N=V.schema(P.schema).findProperty(P.entity,P.name);if(N)return N.column}}else{var I=w.hierarchyLevel;if(I){var O=(0,g.vG)(w),R=O.schema;if(V.schema(R)){var W=V.schema(R).findHierarchy(O.entity,I.name);if(W){var F=W.levels.withName(I.level);if(F&&F.column)return F.column.column}}}}}}}static getDefaultValues(M,V){if(!_.isEmpty(M)&&V){var w=[];for(var P of M){var N=this.getDefaultValue(P,V);N&&w.push(N)}return w}}static getPrimitiveValuesFromSQConstantExpr(M){if((0,y.VO)(M)){if((0,y.Qy)(M))return s.wy.getTextValue(M);if((0,y.tC)(M))return s.wy.getDateValue(M);if((0,y.GK)(M))return s.wy.getNumericValue(M);if((0,y.Rd)(M))return s.wy.getBooleanValue(M)}}static convertSemanticFilterToDataViewScopeIdentity(M){var V=[],w=M.conditions();if(w)for(var P of w){var N=new d.Rq;if(P.accept(N),N.keys&&N.values&&N.values.length>0&&N.keys.length>0&&N.values.length%N.keys.length==0)for(var I=0;I<N.values.length;I+=N.keys.length){for(var O=[],R=[],W=0;W<N.keys.length;W++)O.push(N.keys[W]),R.push(N.values[I+W]);var F=(0,C.o)(O,R),U=(0,l.UQ)(F);V.push(U)}}return V}static getActiveTablesNames(M){var w=new m.gT;if(M){var P=M.from();if(void 0!==P)for(var N of P.keys())P.source(N).accept(w,null)}return _.map(w.entities,I=>I.entity)}static isRelatedToMany(M,V,w,P){return this.isRelated(M,V,w,h.Sw.ZeroOrOne,h.Sw.Many,P)||this.isRelated(M,w,V,h.Sw.Many,h.Sw.ZeroOrOne,P)}static isRelatedToOne(M,V,w,P){return this.isRelated(M,V,w,h.Sw.Many,h.Sw.ZeroOrOne,P)||this.isRelated(M,w,V,h.Sw.ZeroOrOne,h.Sw.Many,P)}static isRelated(M,V,w,P,N,I){var O=b.getConceptualEntity(V,M);if(a.Y.assertValue(O,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(O.navigationProperties))return!1;var R=b.getConceptualEntity(w,M);a.Y.assertValue(R,"could not resolve conceptual entity form targetExpr.");var W=[];for(W.push(O);!_.isEmpty(W);){var U=W.shift().navigationProperties;if(!_.isEmpty(U))for(var B of U)if(B.isActive&&(null==I||B.behavior===I)&&B.targetMultiplicity===N&&B.sourceMultiplicity===P){if(B.targetEntity===R)return!0;W.push(B.targetEntity)}}return!1}static isRelatedOneToOne(M,V,w,P){var N=b.getConceptualEntity(V,M);a.Y.assertValue(N,"could not resolve conceptual entity form sourceExpr.");var I=b.getConceptualEntity(w,M);a.Y.assertValue(I,"could not resolve conceptual entity form targetExpr.");var O=N.navigationProperties,R=I.navigationProperties;return(!_.isEmpty(O)||!_.isEmpty(R))&&(this.hasOneToOneNavigation(O,I,P)||this.hasOneToOneNavigation(R,N,P))}static haveTheSameSchema(M){a.Y.assertNonEmpty(M,"exprs should not be null, undefined, or empty");var V=M[0].schema;return _.chain(M).drop(1).every(w=>w.schema===V).value()}static areHierarchicallyRelated(M,V){if(_.isEmpty(V)||!this.haveTheSameSchema(V))return!1;if(1===(V=_.values(_.keyBy(V,R=>R.entity))).length)return!0;var w=V[0].schema,P=_.find(M.schemas,R=>R.name===w);if(!P)return!1;var N=V.map(R=>b.getConceptualEntity(R,M));if(_.some(N,R=>!R))return!1;var I=h.JD.Default,O=b.buildEntityGraph(N,this.allowedHierarchicalMultiplicityPairForTraversal,I);return!!this.searchEntityGraph(N,O)||(O=b.buildEntityGraph(P.entities,this.allowedHierarchicalMultiplicityPairForTraversal,I),this.searchEntityGraph(N,O))}static searchEntityGraph(M,V){var w=[].concat(M),P=w.shift(),N=this.findEntityPath([P],w,V,!0);if(1===N.length&&0===N[0].unableToVisit.length)return!0;var I=_.values(_.keyBy(_.flatten(N.map(U=>U.unableToVisit)),U=>U.name)),O=this.findEntityPath([P],I,V,!1);if(1===O.length&&0===O[0].unableToVisit.length)return!0;var W,R=function(U){if(_.find(O,x=>{var A=!0;for(var L of U.unableToVisit)if(x.unableToVisit.indexOf(L)>=0){A=!1;break}return A}))return{v:!0}};for(var F of N)if(W=R(F))return W.v;return!1}static buildEntityGraph(M,V,w){var P={};for(var N of M)P[N.name]={entity:N};for(var I of M){var O=I.navigationProperties;if(!_.isEmpty(O)){var R=P[I.name];for(var W of O)if(W.isActive&&(void 0===W.behavior||void 0===w||W.behavior===w)){var F=P[W.targetEntity.name];F&&(this.multiplicityPairMatches([W.targetMultiplicity,W.sourceMultiplicity],V)&&this.addTraversalNodes(F,R),W.crossFilterDirection===h.kD.Both&&this.multiplicityPairMatches([W.sourceMultiplicity,W.targetMultiplicity],V)&&this.addTraversalNodes(R,F))}}}return P}static addTraversalNodes(M,V){M.forwardNodes=M.forwardNodes||[],_.find(M.forwardNodes,w=>w.entity.name===V.entity.name)||M.forwardNodes.push(V),V.backwardNodes=V.backwardNodes||[],_.find(V.backwardNodes,w=>w.entity.name===M.entity.name)||V.backwardNodes.push(M)}static multiplicityPairMatches(M,V){if(M&&2===M.length&&!_.isEmpty(V))for(var w of V)if(2===w.length&&M[0]===w[0]&&M[1]===w[1])return!0;return!1}static findEntityPath(M,V,w,P){if(V=V||[],0===(M=M||[]).length||0===V.length||!w)return[{path:M,unableToVisit:V}];for(var N of M)if(!w[N.name])return[{path:M,unableToVisit:V}];var O=w[M[M.length-1].name],R=P?O.forwardNodes:O.backwardNodes;if(!R||0===R.length)return[{path:M,unableToVisit:V}];var W=this.getEntityLoopPatterns(M),F=[];for(var U of R){var B=U.entity,x=[].concat(M);x.push(B);var A=!1;for(var L of W)if(this.endsWith(x,L)){A=!0;break}if(!A){var Y=V,z=V.indexOf(B);z>=0&&(Y=[].concat(V)).splice(z,1);var H=this.findEntityPath(x,Y,w,P);if(1===H.length&&0===H[0].unableToVisit.length){F=H;break}for(var Z of H)F.push(Z)}}return 0===F.length&&(F=[{path:M,unableToVisit:V}]),F}static getEntityLoopPatterns(M){var V=[],w=_.values(_.keyBy(M,I=>I.name)),P=function(I){if(M.filter(F=>F===I).length>=2){var R,O=I;for(var W of M)W===O?(R&&(R.push(W),V.push(R)),R=[W]):R&&R.push(W)}};for(var N of w)P(N);return V}static endsWith(M,V){if(V.length>M.length)return!1;for(var w=!0,P=M.length-1,N=V.length-1;N>=0;--N){if(V[N]!==M[P]){w=!1;break}P--}return w}static hasOneToOneNavigation(M,V,w){if(_.isEmpty(M))return!1;for(var P of M)if(P.isActive&&(null==w||P.behavior===w)&&P.targetEntity===V&&P.sourceMultiplicity===h.Sw.ZeroOrOne&&P.targetMultiplicity===h.Sw.ZeroOrOne)return!0;return!1}static concatUnique(M,V){a.Y.assertValue(M,"leftExprs"),a.Y.assertValue(V,"rightExprs");var w=(0,i.C)(M);for(var P of V)-1===this.indexOfExpr(w,P)&&w.push(P);return w}static detectTransformExpr(M){a.Y.assertValue(M,"expr");var V=new c;return M.accept(V),V.sawTransformOutputRoleRef}static isExprValidForAggregation(M){return a.Y.assertValue(M,"expr"),!this.isFromVariation(M)&&!(0,y.Ir)(M)}static isExprValidForSorting(M){return a.Y.assertValue(M,"expr"),!(0,y.m6)(M)}static isExprValidForFiltering(M){return a.Y.assertValue(M,"expr"),!((0,y.m6)(M)||(0,y.VT)(M)||(0,y.AH)(M)||(0,y.$M)(M))}static isExprValidForClustering(M){return a.Y.assertValue(M,"expr"),!((0,y.m6)(M)||(0,y.Ir)(M)||(0,y.Ah)(M)||(0,y.AH)(M)||(0,y.$M)(M))}static isExprValidForAnalysisTransform(M){return a.Y.assertValue(M,"expr"),!(0,y.m6)(M)}static getSubqueryExpression(M,V){var P,N,w=(0,n.F)(M);if(w.columnSubquery)w.columnSubquery.subqueryRef?P=w.columnSubquery.subqueryRef:w.columnSubquery.subquery?N=new m.m$(w.columnSubquery.subquery):a.Y.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!w.columnAggrSubquery)return void a.Y.assertFail("invalid fieldExpr in subquery");w.columnAggrSubquery.subqueryRef?P=w.columnAggrSubquery.subqueryRef:w.columnAggrSubquery.subquery?N=new m.m$(w.columnAggrSubquery.subquery):a.Y.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}N||(a.Y.assert(()=>!(!V||!V.sources),"context sources should be available for evaluating subquery source"),V.sources[P]?(N=V.sources[P],a.Y.assert(()=>N&&(0,p.c)(N),"column referencing source should be available and be a subquery source")):a.Y.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var I=N;if(I){var R,O=(0,g.ZO)(w);if(I.subquery&&(R=I.subquery.select().withName(O)),R)return R.expr}}static buildExprEvaluationContext(M){a.Y.assertValue(M,"from");var V=M.sources();if(V)return{sources:V}}static transformToVisualQueryField(M,V,w,P,N){return{expr:M,queryName:V,isFieldParameter:!!w,nativeReferenceName:P,isHidden:N}}static isSQExprArray(M){return M[0]instanceof s.yj}static syncSQExprWithFilterIdenities(M,V){var w=new D(M,(0,y.w8)(V)),P=V.accept(w);if(P)return P.accept(new f)}static validate(M,V,w){a.Y.assertValue(V,"schema");var P=[];if(M&&(P=M.validate(V,w,P)),!_.isEmpty(P))return P}static tryMergeSQInExprs(M,V,w){if("Replace"===w)return V;var P=M.args,N=V.args;if(P.length===N.length&&P.every((O,R)=>(0,S.aI)(O,N[R],!1,!0,!0))){var I=[];return"Append"===w?(I=_.concat(M.values,V.values),I=_.uniqWith(I,(O,R)=>(0,S.aI)(O[0],R[0],!1,!0,!0))):I=_.filter(M.values,O=>!_.some(V.values,R=>(0,S.aI)(O[0],R[0],!1,!0,!0))),(0,s.eu)(P,I)}}}return b.allowedHierarchicalMultiplicityPairForTraversal=[[h.Sw.ZeroOrOne,h.Sw.Many],[h.Sw.ZeroOrOne,h.Sw.ZeroOrOne]],b})();class E extends v.ff{constructor(T){super(),this.schema=T,this.detectedMappedColumn=!1}visitIn(T){for(var M of T.args)if(M.accept(this),this.detectedMappedColumn)return}visitColumnRef(T){u.hasMappedMParameter(T,this.schema)&&(this.detectedMappedColumn=!0)}static hasMappedColumn(T,M){var V=new E(M);return T.accept(V),V.detectedMappedColumn}}class c extends v.ff{constructor(){super(),this.sawTransformOutputRoleRef=!1}visitTransformOutputRoleRef(T){this.sawTransformOutputRoleRef=!0}}class f extends v.nP{visitIn(T){return(0,s.eu)(T.args,this.removeDuplicates(T.values),T.getAnnotations())}visitAnd(T){var M=T.right.accept(this),V=T.left.accept(this);return(0,s.Uo)(V,M,T.getAnnotations())}visitOr(T){var M=T.right.accept(this),V=T.left.accept(this);return(0,s.or)(V,M,T.getAnnotations())}visitDefault(T){return T}removeDuplicates(T){return _.uniqWith(T,(M,V)=>{for(var w=M.length,P=0;P<w;P++)if(!(0,S.aI)(M[P],V[P]))return!1;return!0})}}class D extends v.nP{constructor(T,M){super(),this.isRootNotExpr=!1,this.hasBeenModified=!1,this.isSupportedSQExpr=!1,this.filterIdentities=T,this.isRootNotExpr=M}visitIn(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(T.args))return T;var{newArgs:M,newValues:V}=this.tryToRemoveColumnsToMatchVisual(T);if(!this.shouldDropWholeSQExpr()&&0!==M.length)return(0,s.eu)(M,V,T.getAnnotations())}}visitDefault(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var M=T.left,V=T.right;if(M&&_.some(this.filterIdentities,w=>(0,S.aI)(w,M))||V&&_.some(this.filterIdentities,w=>(0,S.aI)(w,V)))return T;this.hasBeenModified=!0}}visitAnd(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var M=T.right.accept(this),V=T.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(V&&M)return(0,s.Uo)(V,M,T.getAnnotations());if(V)return V;if(M)return M}}}visitOr(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var M=T.right.accept(this),V=T.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(V&&M)return(0,s.or)(V,M,T.getAnnotations());if(V)return V;if(M)return M}}}visitNot(T){if(this.verifyIsSupportedSQExpr(T),!this.shouldDropWholeSQExpr()){var M=T.arg.accept(this);if(M&&(this.isRootNotExpr||!this.hasBeenModified))return(0,s.AU)(M,T.getAnnotations())}}verifyIsSupportedSQExpr(T){this.isSupportedSQExpr=(0,y.yE)(T)?(0,y.S1)(T.right)&&((0,y.yE)(T.left)||(0,y.S1)(T.left)):(0,y.mP)(T)?(0,y.w8)(T.right)&&((0,y.S1)(T.left)||(0,y.yE)(T.left)):(0,y.w8)(T)?(0,y.yE)(T.arg)||(0,y.w8)(T.arg):!(0,y.S1)(T)||!!T.values&&T.values.length>0}shouldDropWholeSQExpr(){return this.hasBeenModified&&!this.isSupportedSQExpr}noChangeRequired(T){var M=T.map(V=>({expr:[V],index:_.findIndex(this.filterIdentities,P=>(0,S.aI)(P,V))}));return 0===M[0].index&&M.every((V,w)=>V.index>-1&&(w===M.length-1||V.index+1===M[w+1].index))}tryToRemoveColumnsToMatchVisual(T){var M=[],V=[],{args:w,values:P}=T,N=w.map(F=>({expr:[F],index:_.findIndex(this.filterIdentities,B=>(0,S.aI)(B,F))}));if(N[0].index>0)return this.hasBeenModified=!0,{newArgs:M,newValues:V};P=_.unzip(P);var I=N.map((F,U)=>({expr:P[U],index:F.index}));M=N.filter(F=>F.index>-1).map(F=>F.expr[0]),V=I.filter(F=>F.index>-1).map(F=>F.expr),N=N.filter(F=>F.index>-1);for(var O=0;O<N.length-1;O++)if(N[O].index+1<N[O+1].index){M=M.splice(0,O+1),V=V.splice(0,O+1);break}return V=_.unzip(V),this.hasBeenModified=!0,{newArgs:M,newValues:V}}}},869876:function(me,j,e){e.d(j,{Z:function(){return t}});var r=e(460169),i=e(732106),a=e(20502);function t(g,n="select"){return g?g.accept(l.instance,n):n}var l=(()=>{class g extends a.Li{visitEntity(d){return d.entity}visitNamedQueryRef(d){return`QueryRef(${d.queryName})`}visitColumnRef(d){return d.source.accept(this)+"."+d.ref}visitGroupRef(d){return d.source.accept(this)+"."+d.ref}visitMeasureRef(d){return d.source.accept(this)+"."+d.ref}visitNativeMeasure(d){return`NativeMeasure(${d.proposedName})`}visitNativeColumn(d){return`NativeColumn(${d.proposedName})`}visitHierarchy(d){return d.arg.accept(this)+"."+d.hierarchy}visitHierarchyLevel(d){return d.arg.accept(this)+"."+d.level}visitPropertyVariationSource(d){return d.arg.accept(this)+"."+d.property+"."+d.name}visitAggr(d){return(0,i.V)(d.func)+"("+d.arg.accept(this)+")"}visitPercentile(d){return(d.exclusive?"Percentile.Exc(":"Percentile.Inc(")+d.arg.accept(this)+", "+d.k+")"}visitRangePercent(d){return"RangePercent("+d.min.accept(this)+", "+d.max.accept(this)+", "+d.percent.toString()+")"}visitArithmetic(d){return(0,i.a)(d.operator)+"("+d.left.accept(this)+", "+d.right.accept(this)+")"}visitConstant(d){return"const"}visitTransformOutputRoleRef(d){var s=d.role;return d.transform&&(s+="."+d.transform),s}visitScopedEval(d){return"ScopedEval("+d.expression.accept(this)+", ["+_.map(d.scope,s=>s.accept(this)).join(", ")+"])"}visitFilteredEval(d){var s=h=>{var o="{";return _.isEmpty(h.target)||(o+=`Target(${_.map(h.target,v=>v.accept(this)).join(", ")}), `),o+`Condition(${h.condition.accept(this)})}`};return`FilteredEval(${d.expression.accept(this)}, [${_.map(d.filters,h=>s(h)).join(", ")}])`}visitRoleRef(d){return"Role."+d.role}visitSummaryRef(d){return"SummaryValueRef."+d.name}visitAllRolesRef(d){return"AllRoles"}visitDiscretize(d){return`Discretize(${d.source.accept(this)}, ${d.count})`}visitMember(d){return`Member(${d.source.accept(this)}, ${d.member})`}visitCompare(d){var s=d.left.accept(this),h=d.right.accept(this),o="";switch(d.comparison){case r.mq.Equal:o="=";break;case r.mq.GreaterThan:o=">";break;case r.mq.GreaterThanOrEqual:o=">=";break;case r.mq.LessThan:o="<";break;case r.mq.LessThanOrEqual:o="<="}return`${s}${o}${h}`}visitSparklineData(d){return`SparklineData(${d.measure.accept(this)}_[${_.map(d.grouping,s=>s.accept(this)).join(",")}])`}visitDefault(d,s){return s||"expr"}}return g.instance=new g,g})()},273327:function(me,j,e){e.d(j,{o:function(){return t}});var r=e(460169),i=e(785463),a=e(446024);function t(l,g){i.Y.assert(()=>l.length===g.length,"fileds and values need to be the same size");for(var n=[],d=0;d<l.length;d++)n.push((0,a.UD)(r.mq.Equal,l[d],g[d]));if(!_.isEmpty(n)){var s;for(var h of n)s=(0,a.Uo)(s,h);return s}}},868257:function(me,j,e){e.d(j,{s:function(){return a}});var r=e(785463),i=e(978450);function a(t,l){r.Y.assertValue(t,"items"),r.Y.assertValue(l,"searchElement");for(var g=0,n=t.length;g<n;g++){var d=t[g];if(d&&(0,i.aI)(d.expr,l))return g}return-1}},928454:function(me,j,e){e.d(j,{x:function(){return t}});var r=e(460169),i=e(785463),a=e(20502);function t(g){return i.Y.assertValue(g,"expr"),g.accept(l.instance)}var l=(()=>{class g extends a.nP{visitCompare(d){return d.comparison===r.mq.Equal&&d.right.accept(this)}visitAnd(d){return d.left.accept(this)&&d.right.accept(this)}visitDefaultValue(d){return!0}visitDefault(d){return!1}}return g.instance=new g,g})()},511334:function(me,j,e){e.d(j,{t:function(){return a}});var r=e(785463),i=e(20502);function a(l){return r.Y.assertValue(l,"expr"),l.accept(t.instance)}var t=(()=>{class l extends i.nP{visitMeasureRef(n){return!0}visitNativeMeasure(n){return!0}visitNativeVisualCalc(n){return!0}visitAggr(n){return!0}visitArithmetic(n){return!0}visitFilteredEval(n){return n.expression.accept(this)}visitSparklineData(n){return!0}visitDefault(n){return!1}}return l.instance=new l,l})()},20502:function(me,j,e){e.d(j,{Li:function(){return t},ff:function(){return g},nP:function(){return l}});var r=e(785463),i=e(121993),a=e(789622);class t{visitEntity(d,s){return this.visitDefault(d,s)}visitSubqueryRef(d,s){return this.visitDefault(d,s)}visitNamedQueryRef(d,s){return this.visitDefault(d,s)}visitColumnRef(d,s){return this.visitDefault(d,s)}visitMeasureRef(d,s){return this.visitDefault(d,s)}visitAggr(d,s){return this.visitDefault(d,s)}visitPercentile(d,s){return this.visitDefault(d,s)}visitRangePercent(d,s){return this.visitDefault(d,s)}visitGroupRef(d,s){return this.visitDefault(d,s)}visitHierarchy(d,s){return this.visitDefault(d,s)}visitHierarchyLevel(d,s){return this.visitDefault(d,s)}visitPropertyVariationSource(d,s){return this.visitDefault(d,s)}visitSelectRef(d,s){return this.visitDefault(d,s)}visitBetween(d,s){return this.visitDefault(d,s)}visitIn(d,s){return this.visitDefault(d,s)}visitAnd(d,s){return this.visitDefault(d,s)}visitOr(d,s){return this.visitDefault(d,s)}visitCompare(d,s){return this.visitDefault(d,s)}visitConditional(d,s){return this.visitDefault(d,s)}visitContains(d,s){return this.visitDefault(d,s)}visitExists(d,s){return this.visitDefault(d,s)}visitNot(d,s){return this.visitDefault(d,s)}visitStartsWith(d,s){return this.visitDefault(d,s)}visitConstant(d,s){return this.visitDefault(d,s)}visitDateSpan(d,s){return this.visitDefault(d,s)}visitDateAdd(d,s){return this.visitDefault(d,s)}visitNow(d,s){return this.visitDefault(d,s)}visitDefaultValue(d,s){return this.visitDefault(d,s)}visitAnyValue(d,s){return this.visitDefault(d,s)}visitArithmetic(d,s){return this.visitDefault(d,s)}visitFloor(d,s){return this.visitDefault(d,s)}visitFillRule(d,s){return this.visitDefault(d,s)}visitThemeDataColor(d,s){return this.visitDefault(d,s)}visitResourcePackageItem(d,s){return this.visitDefault(d,s)}visitScopedEval(d,s){return this.visitDefault(d,s)}visitFilteredEval(d,s){return this.visitDefault(d,s)}visitWithRef(d,s){return this.visitDefault(d,s)}visitTransformTableRef(d,s){return this.visitDefault(d,s)}visitTransformOutputRoleRef(d,s){return this.visitDefault(d,s)}visitRoleRef(d,s){return this.visitDefault(d,s)}visitSummaryValueRef(d,s){return this.visitDefault(d,s)}visitAllRolesRef(d,s){return this.visitDefault(d,s)}visitDiscretize(d,s){return this.visitDefault(d,s)}visitMember(d,s){return this.visitDefault(d,s)}visitNativeMeasure(d,s){return this.visitDefault(d,s)}visitNativeColumn(d,s){return this.visitDefault(d,s)}visitSparklineData(d,s){return this.visitDefault(d,s)}visitNativeVisualCalc(d,s){return this.visitDefault(d,s)}visitVisualTopN(d,s){return this.visitDefault(d,s)}visitDefault(d,s){}}class l extends t{}class g{visitEntity(d){this.visitDefault(d)}visitSubqueryRef(d){this.visitDefault(d)}visitNamedQueryRef(d){this.visitDefault(d)}visitColumnRef(d){d.source.accept(this)}visitMeasureRef(d){d.source.accept(this)}visitAggr(d){d.arg.accept(this)}visitPercentile(d){d.arg.accept(this)}visitRangePercent(d){d.min.accept(this),d.max.accept(this)}visitGroupRef(d){for(var s of(d.source.accept(this),d.groupedExprs))s.accept(this)}visitHierarchy(d){d.arg.accept(this)}visitHierarchyLevel(d){d.arg.accept(this)}visitPropertyVariationSource(d){d.arg.accept(this)}visitSelectRef(d){this.visitDefault(d)}visitBetween(d){d.arg.accept(this),d.lower.accept(this),d.upper.accept(this)}visitIn(d){for(var s=d.args,h=0,o=s.length;h<o;h++)s[h].accept(this);var v=d.values;if(v)for(var m=0,p=v.length;m<p;m++)for(var y=v[m],S=0,C=y.length;S<C;S++)y[S].accept(this);else d.table.accept(this)}visitAnd(d){d.left.accept(this),d.right.accept(this)}visitOr(d){d.left.accept(this),d.right.accept(this)}visitCompare(d){d.left.accept(this),d.right.accept(this)}visitConditional(d){for(var s of(r.Y.assertValue(d,"expr"),r.Y.assertNonEmpty(d.cases,"expr.cases"),d.cases))s.condition.accept(this),s.value.accept(this);d.defaultValue&&d.defaultValue.accept(this)}visitContains(d){d.left.accept(this),d.right.accept(this)}visitExists(d){d.arg.accept(this)}visitNot(d){d.arg.accept(this)}visitStartsWith(d){d.left.accept(this),d.right.accept(this)}visitConstant(d){this.visitDefault(d)}visitDateSpan(d){d.arg.accept(this)}visitDateAdd(d){d.arg.accept(this)}visitNow(d){this.visitDefault(d)}visitDefaultValue(d){this.visitDefault(d)}visitAnyValue(d){this.visitDefault(d)}visitArithmetic(d){d.left.accept(this),d.right.accept(this)}visitFloor(d){d.arg.accept(this)}visitFillRule(d){d.input.accept(this),(0,i.Ju)(d.rule,new a.B(this,null))}visistExists(d){d.arg.accept(this)}visitThemeDataColor(d){this.visitDefault(d)}visitResourcePackageItem(d){this.visitDefault(d)}visitScopedEval(d){for(var s of(d.expression.accept(this),d.scope))s.accept(this)}visitFilteredEval(d){for(var s of(d.expression.accept(this),d.filters)){if(!_.isEmpty(s.target))for(var h of s.target)h.accept(this);s.condition.accept(this)}}visitWithRef(d){this.visitDefault(d)}visitTransformTableRef(d){this.visitDefault(d)}visitTransformOutputRoleRef(d){this.visitDefault(d)}visitRoleRef(d){this.visitDefault(d)}visitSummaryValueRef(d){this.visitDefault(d)}visitAllRolesRef(d){this.visitDefault(d)}visitDiscretize(d){this.visitDefault(d)}visitMember(d){this.visitDefault(d)}visitNativeMeasure(d){this.visitDefault(d)}visitNativeColumn(d){this.visitDefault(d)}visitSparklineData(d){for(var s of(d.measure.accept(this),d.grouping))s.accept(this);d.scalarKey?.accept(this)}visitNativeVisualCalc(d,s){this.visitDefault(d)}visitVisualTopN(d,s){this.visitDefault(d)}visitDefault(d){}}},15721:function(me,j,e){e.d(j,{Bo:function(){return d},L8:function(){return y},T7:function(){return p},gT:function(){return C},gW:function(){return u},l0:function(){return o},lj:function(){return m},m$:function(){return s},tv:function(){return n},zg:function(){return h}});var r=e(935236),i=e(785463),a=e(928912),t=e(446024),l=e(978450),g=e(922044);class n{constructor(c,f){this.schema=c,this.entity=f}accept(c,f){return c.visitEntity(this,f)}equals(c){return c&&this.entity===c.entity&&this.schema===c.schema}}class d{constructor(c,f){this.schema=c,this.pod=f}accept(c,f){return c.visitPod(this,f)}equals(c){return c&&this.pod===c.pod&&this.schema===c.schema}}class s{constructor(c,f){this.subquery=c,this.inheritsSorting=f}accept(c,f){return c.visitSubquery(this,f)}equals(c){return c&&(0,l.EO)(this.subquery,c.subquery)}}class h{constructor(c){this.expr=c}accept(c,f){return c.visitExpr(this,f)}equals(c){return c&&(0,l.aI)(this.expr,c.expr)}}class o{constructor(c,f){if(this.items=c||{},this.usedNames=f||{},!_.isEmpty(this.items))for(var D of this.keys())this.usedNames[D]=!0}keys(){return Object.keys(this.items)}source(c){return this.items[c]}sources(){return this.items}usedSourceNames(){return this.usedNames}ensureSource(c,f){i.Y.assertValue(c,"source");var D=this.getSourceKeyFromItems(c);return D?{name:D}:{name:this.addSource(c,f),new:!0}}remove(c){this.items[c]&&delete this.usedNames[c],delete this.items[c]}getSourceKeyFromItems(c){var f=this.keys();for(var D in f){var b=f[D];if(v(this.items[b],c))return b}}addSource(c,f){var b=f||c.accept(new S,null);return b=(0,a.uL)(this.usedNames,b),this.items[b]=c,this.usedNames[b]=!0,b}clone(){var c=new o(null,_.clone(this.usedNames));return $.extend(c.items,this.items),c}equals(c){if(!c)return!1;var f=this.keys(),D=c.keys();return f.length===D.length&&(0,r.m2)(f,D,(b,T)=>v(this.source(b),c.source(T)))}renameSources(c){for(var D,f=this.items,b=Object.keys(f),T=0,M=b.length;T<M;T++){var V=b[T],w=V;if(c[V]&&(w=(0,a.uL)(c,V),!D)){D={};for(var P=0;P<T;P++){var N=b[P];D[N]=f[N]}}c[w]=!0,D&&(D[w]=f[V])}return D?new o(D):this}getSubquerySources(){var c={};for(var f in this.items){var D=this.items[f];(0,g.c)(D)&&(c[f]=D)}return c}}function v(E,c){if(E===c)return!0;if(E&&c){if(m(E)&&m(c)||p(E)&&p(c))return E.equals(c);if((0,g.c)(E)&&(0,g.c)(c))return E.equals(c);if(y(E)&&y(c))return E.equals(c)}return!1}function m(E){return i.Y.assertValue(E,"source"),null!=E.entity}function p(E){return i.Y.assertValue(E,"source"),null!=E.pod}function y(E){return i.Y.assertValue(E,"source"),null!=E.expr}class S{visitEntity(c){return this.getShortName(c.entity)}visitPod(c){return this.getShortName(c.pod)}visitSubquery(c){return"q"}visitExpr(c){return"x"}getShortName(c){var f=c,D=f.lastIndexOf(".");return D>=0&&D!==f.length-1&&(f=f.substr(D+1)),(0,a.w0)(f.charCodeAt(0))?f.charAt(0).toLowerCase():"a"}}class C{constructor(){this.entities=[]}visitEntity(c,f){this.entities.push(new t.BO(c.schema,c.entity,f))}visitPod(c,f){}visitSubquery(c,f){}visitExpr(c,f){}}class u{constructor(c){this.exprRewriter=c}visitEntity(c,f){var b=(0,t.EG)(c.schema,c.entity,f).accept(this.exprRewriter);return new n(b.schema,b.entity)}visitPod(c,f){var b=(0,t.EG)(c.schema,c.pod,f).accept(this.exprRewriter);return new d(b.schema,b.entity)}visitSubquery(c,f){var b=c.subquery.rewrite(this.exprRewriter);return new s(b,c.inheritsSorting)}visitExpr(c,f){var b=c.expr.accept(this.exprRewriter);return new h(b)}}},922044:function(me,j,e){e.d(j,{c:function(){return i}});var r=e(785463);function i(a){return r.Y.assertValue(a,"source"),null!=a.subquery}},822874:function(me,j,e){e.d(j,{wd:function(){return C},C6:function(){return c},w:function(){return v},Mr:function(){return o},Gn:function(){return h},tu:function(){return s},PT:function(){return S},_q:function(){return u},HL:function(){return y},mA:function(){return p},ok:function(){return m}});var r=e(785463),i=e(574324),a=e(446024),t=e(978450),l=e(669129),g=e(759520);function s(f,D){var b=function(f){return f.hierarchyLevel||f.hierarchyLevelAggr||f.columnHierarchyLevelVariation&&f.columnHierarchyLevelVariation.level}(D);if(b)return h(f,b.schema,b.entity,b.name,b.level)}function h(f,D,b,T,M){var w=f.schema(D).findHierarchy(b,T);if(w)return w.levels.withName(M)}function o(f,D){if(f instanceof a.t9){var b=f;if(f.arg instanceof a.BO){var T=f.arg;return D.schema(T.schema).findHierarchy(T.entity,b.hierarchy)}if(f.arg instanceof a.P0){var M=f.arg,V=M.arg;return D.schema(V.schema).findHierarchyByVariation(V.entity,M.property,M.name,b.hierarchy)}}}function v(f,D,b){return c(D,f)||function(f,D){r.Y.assertValue(f,"sqExpr"),r.Y.assertValue(D,"federatedSchema");var b,T=f.getConceptualProperty(D);if(T){var M=T.column;if(M&&M.variations&&M.variations.length>0){var V=M.variations;r.Y.assert(()=>1===V.length,"variations.length");var w=V[0],P=(0,i.F)(f),N=(0,g.vG)(P);if(b=[],w.defaultHierarchy){var I=(0,a.Sk)((0,a.U7)((0,a.EG)(N.schema,N.entity,N.entityVar),w.name,T.name),w.defaultHierarchy.name);for(var O of w.defaultHierarchy.levels)b.push((0,a.Mw)(I,O.name))}}}return b}(D,f)||!b&&function(f,D){r.Y.assertValue(f,"sqExpr"),r.Y.assertValue(D,"federatedSchema");var b=[];if(f instanceof a.LV){var T=(0,i.F)(f);if(T.hierarchyLevel){var M=(0,g.vG)(T),V=D.schema(M.schema).findHierarchy(M.entity,T.hierarchyLevel.name);if(V){var w=V.levels;for(var P of w){if(P.name===T.hierarchyLevel.level){b.push(f);break}b.push((0,a.Mw)((0,a.Sk)((0,a.EG)(M.schema,M.entity,M.entityVar),V.name),P.name))}}}}if(!_.isEmpty(b))return b}(D,f)||D}function m(f,D){if(D instanceof a.t9||D instanceof a.LV)return!0;var b=D.getConceptualProperty(f);if(b){var T=b.column;if(T&&T.variations&&T.variations.length>0)return!0}return!1}function p(f){var D=(0,i.F)(f);if(D.columnHierarchyLevelVariation){var b=(0,a.EG)(D.columnHierarchyLevelVariation.source.schema,D.columnHierarchyLevelVariation.source.entity);return(0,a.sX)(b,D.columnHierarchyLevelVariation.source.name)}}function y(f){var b=(0,i.F)(f).hierarchyLevel;if(b){var T=(0,a.EG)(b.schema,b.entity,b.entityVar);return(0,a.Sk)(T,b.name)}}function S(f){if(f.arg instanceof a.t9){var D=f.arg;if(D.arg instanceof a.P0)return D.arg}}function C(f,D,b){if(!(D instanceof a.LV&&b instanceof a.LV))return!1;var T=D,M=b;if(!(0,t.aI)(T.arg,M.arg))return!1;var V=l.B.indexOfExpr(f,T),w=l.B.indexOfExpr(f,M);return-1!==V&&-1!==w&&V<w}function u(f,D,b){for(var T=0;T<D.length&&C(f,D[T],b);)T++;return T}function c(f,D){if(r.Y.assertValue(f,"sqExpr"),r.Y.assertValue(D,"federatedSchema"),f instanceof a.t9){var T=o(f,D);if(T)return _.map(T.levels,M=>(0,a.Mw)(f,M.name))}}},985502:function(me,j,e){e.d(j,{e:function(){return t}});var r=e(785463),i=e(446024),a=e(177328);function t(g,n){return r.Y.assertValue(g,"expr"),r.Y.assertValue(n,"schema"),g.accept(new l(n))}class l extends a.k{constructor(n){super(),this.schema=n}visitPropertyVariationSource(n){var d=n.arg.getTargetEntity();if(!d)return n;var s=d.schema,h=this.schema.schema(s).findTargetEntityOfVariation(d.entity,n.property,n.name);return h?(0,i.EG)(s,h.name):n}}},640700:function(me,j,e){e.d(j,{tw:function(){return p},Cr:function(){return Q},r9:function(){return Xe},Py:function(){return ne},s6:function(){return Be},EC:function(){return Me},zd:function(){return K},rW:function(){return oe},FI:function(){return u}});var t,r=e(785463),i=e(190846),a=e(558109),n=e(753771),d=e(376292),s=e(123198),h=e(928912),o=e(400891);class v{static canFormat(Se){return Se instanceof Date}static format(Se,qe,Ue){qe=qe||"G",(0,d.th)(Se)&&(Se=p.fromTimeValue(Se.epochTimeStamp));var ot=1===qe.length;try{return ot?N(Se,qe,Ue):function(fe,Se,qe){var Ue,_e=[];if((Se=u(Se,_e)).indexOf("F")>-1){Se=(0,h.yh)(Se,"FFFF","FFF");var at=fe.getMilliseconds();if(at%10>=1&&(Se=(0,h.yh)(Se,"FFF","fff")),Se=(0,h.yh)(Se,"FFF","FF"),at%100/10>=1&&(Se=(0,h.yh)(Se,"FF","ff")),Se=(0,h.yh)(Se,"FF","F"),at%1e3/100>=1&&(Se=(0,h.yh)(Se,"F","f")),""===(Se=(0,h.yh)(Se,"F",""))||"%"===Se)return""}var ot=function(fe){return null!=fe.match(/gg/)}(Se);Se=function(fe){return fe===w?P:(w=fe,fe=function(fe){if(fe=(fe=(fe=(fe=(fe=(fe=(fe=(fe=fe.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),t||(t=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(qe=>({r:new RegExp("%"+qe+"(?!"+qe+")","g"),s:qe}))),-1!==fe.indexOf("%")&&fe.length>2)for(var Se of t)fe=fe.replace(Se.r,Se.s);return fe}(fe),P=fe,fe)}(Se);var mt=qe.calendar;return ot&&(qe.calendar=qe.calendars.Japanese),Ue=Globalize.format(fe,Se,qe),ot&&(qe.calendar=mt),Ue=E(Ue=v.localize(Ue,qe.calendar),_e,!1)}(Se,qe,Ue)}catch{return N(Se,"G",Ue)}}static localize(Se,qe){var Ue=qe[":"];if(":"===Ue)return Se;for(var _e="",at=Se.length,ot=0;ot<at;ot++){var mt=Se.charAt(ot);_e+=":"===mt?Ue:mt}return _e}}class m{static canFormat(Se){return"number"==typeof Se}static format(Se,qe,Ue){qe=qe||"G";try{return oe(qe)?function(fe,Se,qe){var Ue,_e=Se.length>1?parseInt(Se.substr(1,Se.length-1),10):void 0,at=qe.numberFormat,ot=Se.charAt(0);switch(ot){case"e":case"E":void 0===_e&&(_e=6);var mt=_.repeat("0",_e);Ue=lt(fe,Se="0."+mt+ot+"+000",qe);break;case"f":case"F":Ue=fe.toFixed(void 0!==_e?_e:at.decimals),Ue=m.localize(Ue,at);break;case"g":case"G":var yt=Math.abs(fe);if(0===yt||1e-4<=yt&&yt<1e15)Ue=void 0!==_e?fe.toPrecision(_e):fe.toString();else{if(r.Y.assert(()=>"number"==typeof fe,"value must be a number"),"number"!=typeof fe)return String(fe);Ue=(Ue=void 0!==_e?fe.toExponential(_e):fe.toExponential()).replace("e","E")}Ue=m.localize(Ue,at);break;case"r":case"R":Ue=fe.toString(),Ue=m.localize(Ue,at);break;case"x":case"X":if(Ue=fe.toString(16),"X"===ot&&(Ue=Ue.toUpperCase()),void 0!==_e){var Nt=Ue.length,Bt=fe<0;Bt&&Nt--;var Qe,he=_e-Nt;he>0&&(Qe=_.repeat("0",he)),Ue=Bt?"-"+Qe+Ue.substr(1):Qe+Ue}Ue=m.localize(Ue,at);break;default:Ue=Globalize.format(fe,Se,qe)}return Ue}(Se,qe,Ue):lt(Se,qe,Ue)}catch{return Globalize.format(Se,void 0,Ue)}}static localize(Se,qe){var Ue=qe["+"],_e=qe["-"],at=qe["."],ot=qe[","];if("+"===Ue&&"-"===_e&&"."===at&&","===ot)return Se;for(var mt=Se.length,yt="",Nt=0;Nt<mt;Nt++){var Bt=Se.charAt(Nt);switch(Bt){case"+":yt+=Ue;break;case"-":yt+=_e;break;case".":yt+=at;break;case",":yt+=ot;break;default:yt+=Bt}}return yt}}class p extends Date{constructor(Se){super(Se)}static fromTimeValue(Se){return new p(Se)}static fromDateParts(Se,qe=0,Ue=1,_e=0,at=0,ot=0,mt=0){var yt=Date.UTC(Se,qe,Ue,_e,at,ot,mt);return new p(yt)}static fromString(Se){r.Y.assert(()=>/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Se),"Only ISO 8601 is guaranteed to be parsed as UTC");var qe=new Date(Se);return new p(qe.getTime())}static fromDateWithEpochValue(Se){return p.fromTimeValue(Se.epochTimeStamp)}static isDate(Se){return Se instanceof Date}getDate(){return this.getUTCDate()}getDay(){return this.getUTCDay()}getFullYear(){return this.getUTCFullYear()}getHours(){return this.getUTCHours()}getMilliseconds(){return this.getUTCMilliseconds()}getMinutes(){return this.getUTCMinutes()}getMonth(){return this.getUTCMonth()}getSeconds(){return this.getUTCSeconds()}setDate(Se){return this.setUTCDate.apply(this,arguments)}setFullYear(Se,qe,Ue){return this.setUTCFullYear.apply(this,arguments)}setHours(Se,qe,Ue,_e){return this.setUTCHours.apply(this,arguments)}setMilliseconds(Se){return this.setUTCMilliseconds.apply(this,arguments)}setMinutes(Se,qe,Ue){return this.setUTCMinutes.apply(this,arguments)}setMonth(Se,qe){return this.setUTCMonth.apply(this,arguments)}setSeconds(Se,qe){return this.setUTCSeconds.apply(this,arguments)}toString(){var Se=this.toUTCString(),qe=Se.length-4;return Se.indexOf(" GMT")===qe&&(Se=Se.substr(0,qe)),Se}}var S=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function C(fe){return S.lastIndex=0,fe.replace(S,"\ue100")}function u(fe,Se){for(S.lastIndex=0;;){var qe=S.exec(fe);if(!qe)break;var Ue=qe[0],_e=S.lastIndex-Ue.length,at=String.fromCharCode(57600+Se.length);Se.push(Ue),fe=fe.substr(0,_e)+at+fe.substr(S.lastIndex),S.lastIndex=_e+1}return fe}function E(fe,Se,qe=!0){for(var Ue=Se.length,_e=0;_e<Ue;_e++){var at=String.fromCharCode(57600+_e),ot=Se[_e];if(!qe){var mt=ot[0];ot="\\"===mt||1===ot.length||ot[ot.length-1]!==mt?ot.substring(1):ot.substring(1,ot.length-1)}fe=fe.replace(at,ot)}return fe}var w,P,c=/({{)|(}})|{(\d+[^}]*)}/g,f="0",D="#",b="E",M=new RegExp([f,D].join("|"),"g");function N(fe,Se,qe){var Ue=qe.calendar.patterns;!function(fe){var Se=fe.patterns;void 0===Se.g&&(Se.g=Se.f.replace(Se.D,Se.d),Se.G=Se.F.replace(Se.D,Se.d))}(qe.calendar);var _e=function(fe,Se,qe){switch(Se){case"m":Se="M";break;case"O":case"o":Se="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":fe=new Date(fe.getUTCFullYear(),fe.getUTCMonth(),fe.getUTCDate(),fe.getUTCHours(),fe.getUTCMinutes(),fe.getUTCSeconds(),fe.getUTCMilliseconds()),Se="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":Se="S";break;case"u":fe=new Date(fe.getUTCFullYear(),fe.getUTCMonth(),fe.getUTCDate(),fe.getUTCHours(),fe.getUTCMinutes(),fe.getUTCSeconds(),fe.getUTCMilliseconds()),Se="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":fe=new Date(fe.getUTCFullYear(),fe.getUTCMonth(),fe.getUTCDate(),fe.getUTCHours(),fe.getUTCMinutes(),fe.getUTCSeconds(),fe.getUTCMilliseconds()),Se="F";break;case"y":case"Y":switch(qe){case"default":case"en":case"en-US":Se="MMMM, yyyy";break;default:Se="Y"}}return{value:fe,format:Se}}(fe,Se,qe.name);return Se=1===_e.format.length?Ue[_e.format]:_e.format,Globalize.format(_e.value,Se,qe)}var ae,F=/^\{.+\}.*/,U=/\{.+\}/,B=/e[+-]*[0#]+/i,x=/^[a-z]\d{0,2}$/i,A=/0+$/,L=/([,]*)\.([0#]*)/g,Y=/[0#,\.]+[0,#]*/g,z=/([0#])(?=[^0#]*$)/,H=".",Z=";";function K(fe,Se){if(null==Se)return Se;if(X(Se)){var{positive:qe,negative:Ue,zero:_e}=ne(Se);return ee(fe>0?qe:0===fe?_e:Ue)}return ee(Se)}function ee(fe){var Se=(0,s.eF)(Y,fe);return Se?Se[0]:fe}function Q(fe,Se,qe){if(null==Se)return fe;if(null==fe&&(fe=f),X(fe)){for(var{positive:Ue,negative:_e,zero:at}=ne(fe),ot=[Ue,_e,at],mt=0;mt<ot.length;mt++)ot[mt]=J(ot[mt],Se,qe);return ot.join(Z)}return J(fe,Se,qe)}function J(fe,Se,qe){if((Se=Math.abs(Se))>=0){var Ue=[];fe=u(fe,Ue);var at=_.repeat(qe?f:D,Math.abs(Se)),ot=(0,s.eF)(L,fe);if(ot){var mt=fe.substr(0,ot.index+ot[1].length),yt=fe.substr(ot.index+ot[1].length+1,ot[2].length),Nt=ot[1],Bt=fe.substr(ot.index+ot[0].length);if(qe)yt=at;else{var he=at.length-yt.length;he>0?yt+=at.slice(-he):he<0&&(yt=yt.slice(0,he))}yt.length>0?yt=H+yt:Nt.length>0&&(yt=H),fe=mt+yt+Bt}else at.length>0&&(fe=fe.replace(z,"$1"+H+at));0!==Ue.length&&(fe=E(fe,Ue))}return fe}function X(fe){return-1!==C(fe).indexOf(Z)}function ne(fe){var Se={hasNegative:!1,positive:fe,negative:fe,zero:fe},qe=[],Ue=(fe=u(fe,qe)).split(Z),_e=Ue.length;return _e>1&&(0!==qe.length&&(Ue=_.map(Ue,at=>E(at,qe))),Se.hasNegative=!0,Se.positive=Se.zero=Ue[0],Se.negative=Ue[1],_e>2&&(Se.zero=Ue[2])),Se}function oe(fe){return r.Y.assertValue(fe,"format"),x.test(fe)}function Me(fe){return!fe||oe(fe)||Be(fe).hasDots?fe:Q(fe,2,!0)}function lt(fe,Se,qe,Ue){var _e,at=qe.numberFormat;if(!isFinite(fe))return Globalize.format(fe,void 0);var ot=ne(Se);Se=fe>0?ot.positive:0===fe?ot.zero:ot.negative,ot.hasNegative&&(fe=Math.abs(fe));var mt=Be(Se,!0),yt=[];if(mt.hasLiterals&&(Se=u(Se,yt)),mt.hasE&&!Ue){var Nt=(0,s.eF)(B,Se);if(Nt){var Bt=Se.substr(0,Nt.index),he=Se.substr(Nt.index+2),Qe=Ce(Bt,mt),je=ve(Bt,mt);if(1!==je&&(fe*=je),r.Y.assert(()=>"number"==typeof fe,"value must be a number"),"number"!=typeof fe)return String(fe);var Ke=fe.toExponential(Qe),tt=Ke.indexOf("e"),$e=Ke.substr(0,tt),de=Ke.substr(tt+1),De=xe($e,Bt,at),re=xe(de,he,at);"+"===re.charAt(0)&&"+"!==Nt[0].charAt(1)&&(re=re.substr(1)),_e=De+Nt[0].charAt(0)+re}}if(void 0===_e){var te,Te=!1,Fe=Ce(Se,mt),et=ve(Se,mt);if(1!==et&&(fe*=et),fe=parseFloat(St(fe,Fe)),!isFinite(fe))return Globalize.format(fe,void 0);Ue?(Ue=function(fe,Se){return Se&&void 0!==fe?fe.replace("{0}","{0:"+Se+"}"):fe}(Ue,K(fe,Se)),te=Xe.format(Ue,[fe],qe.name),Te=!0):(te=St(fe,Fe),te=function(fe,Se,qe,Ue){if(0===Ue)return Se;var _e=Se.indexOf(".");if(-1===_e)return Se;for(var at=_e+1,mt=at+(qe-Ue);mt<Se.length;++mt){var yt=Se[mt];if("0"===yt||"9"===yt){var Nt=St(fe,mt-at);if(parseFloat(Nt)===fe)return Nt}}return Se}(fe,te,Fe,function(fe,Se){return be(fe,Se),Se.optionalPrecision}(Se,mt))),_e=xe(te,Se,at,Ue,Te)}return mt.hasLiterals&&(_e=E(_e,yt,!1)),ae=mt,_e}function St(fe,Se){var qe="",Ue=0;Se>16&&(Ue=Se-16,Se=16);var _e=(0,i.YL)(Math.abs(fe))+1;if(_e<16){if(_e>0){var at=16-_e;Se>at&&(Ue+=Se-at,Se=at)}qe=function(fe,Se){if(!fe||isFinite(fe)){var qe=fe<0;qe&&(fe=-fe);var Ue=Math.pow(2,Math.floor(Math.log(fe)/Math.LN2)-52),_e=Math.pow(10,Se);1/_e>10*Ue&&(fe=Math.round((fe+Ue)*_e)/_e),qe&&(fe=-fe)}return fe.toFixed(Se)}(fe,Se)}else if(16===_e)qe=fe.toFixed(0),(Ue+=Se)>0&&(qe+=".");else{if(r.Y.assert(()=>"number"==typeof fe,"value must be a number"),"number"!=typeof fe)return String(fe);var ot=(qe=fe.toExponential(15)).indexOf("e");if(ot>0){var mt=qe.indexOf("."),yt=qe.substr(0,ot),Nt=qe.substr(ot+1),Bt=parseInt(Nt,10)-(yt.length-mt-1);qe=yt.replace(".","")+_.repeat("0",Bt),Se>0&&(qe=qe+"."+_.repeat("0",Se))}}return Ue>0&&(qe+=_.repeat("0",Ue)),qe}function Be(fe,Se,qe,Ue){if(void 0!==ae&&fe===ae.format)return ae;for(var _e=[],at=u(fe,_e),ot={format:fe,hasLiterals:0!==_e.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},mt=0,yt=at.length;mt<yt;mt++)switch(at.charAt(mt)){case"e":case"E":ot.hasE=!0;break;case",":ot.hasCommas=!0;break;case".":ot.hasDots=!0;break;case"%":ot.hasPercent=!0;break;case"\u2030":ot.hasPermile=!0}var Bt=ne(fe);return Se&&(ot.precision=Ce(Bt.positive,ot)),Ue&&(ot.partsPerScale=Ie(Bt.positive,ot)),qe&&(ot.scale=ve(Bt.positive,ot)),ot}function Ce(fe,Se){return be(fe,Se),Se.precision}function be(fe,Se){if(!(Se.precision>-1)){var qe=0,Ue=0;if(Se.hasDots){Se.hasLiterals&&(fe=C(fe));var _e=fe.indexOf(".");if(_e>-1){for(var at=fe.length,ot=_e;ot<at;ot++){var mt=fe.charAt(ot);if(mt.match(M)&&++qe,mt===D?++Ue:Ue=0,mt===b)break}qe>19&&(Ue=Math.max(0,Ue-(qe-19)),qe=19)}}Se.precision=qe,Se.optionalPrecision=Ue}}function Ie(fe,Se){if(null!=Se.partsPerScale)return Se.partsPerScale;var qe=1;return Se.hasPercent&&fe.indexOf("%")>-1&&(qe*=100),Se.hasPermile&&fe.indexOf("\u2030")>-1&&(qe*=1e3),Se.partsPerScale=qe,qe}function ve(fe,Se){if(Se.scale>-1)return Se.scale;var qe=Ie(fe,Se);if(Se.hasCommas){var Ue=fe.indexOf(".");if(-1===Ue)for(Ue=fe.length;Ue>0&&")"===fe.charAt(Ue-1);)Ue--;for(var _e=Ue-1;_e>-1&&","===fe.charAt(_e);_e--)qe/=1e3}return Se.scale=qe,qe}function xe(fe,Se,qe,Ue,_e){var at=!!Ue,ot=Se.split(".",2);if(2===ot.length){var mt=ot[0],yt=ot[1],Nt="";Ue&&(r.Y.assert(()=>F.test(Ue),"Number should always precede the display unit"),Nt=Ue.replace(U,""),fe=fe.replace(Nt,""));var Bt=qe["."],Qe=fe.split(_e?Bt:".",2),je=1===Qe.length?Qe[0]+Nt:Qe[0],Ke=2===Qe.length?Qe[1]+Nt:"";Ke=Ke.replace(A,"");var tt=Ee(je,mt,qe,at),$e=function(fe,Se,qe){var Ue=0,_e=Se.length,at=fe.length;if(qe){r.Y.assert(()=>_e>0,"Empty formatting string");var ot=Se.charAt(_e-1);return ot.match(M)?{value:fe,fmtOnly:""===fe}:{value:fe+ot,fmtOnly:""===fe}}for(var mt="",yt=!0,Nt=0;Nt<_e;Nt++){var Bt=Se.charAt(Nt);if(Ue<at)switch(Bt){case f:case D:mt+=fe[Ue++],yt=!1;break;default:mt+=Bt}else Bt!==D&&(mt+=Bt,yt=yt&&Bt!==f)}return{value:mt,fmtOnly:yt}}(Ke,yt,at);return $e.fmtOnly||""===$e.value?tt+$e.value:tt+Bt+$e.value}return Ee(fe,Se,qe,at)}function Ee(fe,Se,qe,Ue){var _e=Se.indexOf(","),at=_e>-1&&_e<Math.max(Se.lastIndexOf("0"),Se.lastIndexOf("#"))&&qe[","],ot=0,mt=0,yt=qe.groupSizes||[3],Nt=yt[0],Bt=qe[","],he="",Qe=fe.charAt(0);("+"===Qe||"-"===Qe)&&(he=qe[Qe],fe=fe.substr(1));for(var je="0"===fe,Ke="",tt="",$e=fe.length-1,de=!0,De=Se.length-1;De>-1;De--){var re=Se.charAt(De);switch(re){case f:case D:de=!1,""!==tt&&(Ke=tt+Ke,tt=""),Ue||(($e>-1||re===f)&&at&&(ot===Nt?(Ke=Bt+Ke,++mt<yt.length&&(Nt=yt[mt]),ot=1):ot++),$e>-1?(je&&re===D||(Ke=fe.charAt($e)+Ke),$e--):re!==D&&(Ke=re+Ke));break;case",":break;default:tt=re+tt}}if(!Ue){if($e>-1&&""!==Ke)if(at)for(;$e>-1;)ot===Nt?(Ke=Bt+Ke,++mt<yt.length&&(Nt=yt[mt]),ot=1):ot++,Ke=fe.charAt($e)+Ke,$e--;else Ke=fe.substr(0,$e+1)+Ke;return he+tt+Ke}return de?he+tt+Ke:he+tt+fe+Ke}class ye{constructor(Se){var qe=Se.calendar,Ue=qe.patterns,_e=null!=qe.months?.namesAbbr?.[0],at=Ue.Y,ot=Ue.M,mt=Ue.f,yt=Ue.T,Nt=Ue.t,Bt=mt.indexOf(",")>-1?", ":" ",he=0===at.indexOf("yyyy'")&&at.length>6&&"'"===at[6];this.YearPattern=he?at.substr(0,7):"yyyy";var Qe=mt.indexOf("yy"),je=mt.indexOf("MMMM");this.MonthPattern=_e&&je>-1?Qe>je?"MMM yyyy":"yyyy MMM":at,this.DayPattern=_e?ot.replace("MMMM","MMM"):ot;var Ke=mt.indexOf("mm"),$e=mt.indexOf("tt")>-1?Nt.replace(":mm ",""):Nt;this.HourPattern=Qe<Ke?this.DayPattern+Bt+$e:$e+Bt+this.DayPattern,this.MinutePattern=Nt,this.SecondPattern=yt,this.MillisecondPattern=yt.replace("ss","ss.fff")}getFormatString(Se){switch(Se){case o.k.Year:return this.YearPattern;case o.k.Month:return this.MonthPattern;case o.k.Week:case o.k.Day:return this.DayPattern;case o.k.Hour:return this.HourPattern;case o.k.Minute:return this.MinutePattern;case o.k.Second:return this.SecondPattern;case o.k.Millisecond:return this.MillisecondPattern}r.Y.assertFail("Unexpected unit: "+Se)}}var Xe=new class{formatValue(Se,qe,Ue){if(null==Se)return"";var _e=this.getCulture(Ue);return v.canFormat(Se)?v.format(Se,qe,_e):m.canFormat(Se)?m.format(Se,qe,_e):Se.toString()}format(Se,qe,Ue){return Se?Se.replace(c,(at,ot,mt,yt)=>{if(ot)return"{";if(mt)return"}";var Nt=yt.split(":"),Bt=parseInt(Nt[0],10);return this.formatValue(qe[Bt],Nt[1],Ue)}):""}isStandardNumberFormat(Se){return oe(Se)}formatNumberWithCustomOverride(Se,qe,Ue,_e){return function(fe,Se,qe,Ue){return r.Y.assertValue(fe,"value"),r.Y.assert(()=>"number"==typeof fe,"value must be a number"),r.Y.assertValue(Se,"format"),r.Y.assertValue(qe,"nonScientificOverrideFormat"),r.Y.assertValue(Ue,"culture"),r.Y.assert(()=>!oe(Se),"Standard format"),lt(fe,Se,Ue,qe)}(Se,qe,Ue,this.getCulture(_e))}dateFormatString(Se){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(Se)}setCurrentCulture(Se){this._currentCultureSelector!==Se&&(this._currentCulture=this.getCulture(Se),this._currentCultureSelector=Se,this._dateTimeScaleFormatInfo=new ye(this._currentCulture))}normalizeCultureSelector(Se){var qe=Se.split("-");return 2===qe.length&&2===qe[1].length&&(Se=qe[0]+"-"+qe[1].toUpperCase()),Se}getCulture(Se){if(null==Se)return null==this._currentCulture&&this.initialize(),this._currentCulture;Se=this.normalizeCultureSelector(Se);var qe=Globalize.findClosestCulture(Se);return qe||(qe=Globalize.culture("en-US")),qe}parseFloat(Se){return Globalize.parseFloat(Se,this.getCulture())}parseDate(Se){var qe=Globalize.parseDate(Se,null,this.getCulture());return qe&&(0,d.IG)(qe)}getCurrentCulture(){return this.getCulture()}initialize(){var Se=this.getCurrentLocale();this.setCurrentCulture(Se);var qe=this.getUrlParam("calendar");if(qe){var Ue=this._currentCulture,_e=Ue.calendars[qe];_e&&(Ue.calendar=_e)}}getCurrentLocale(){var Se=n.C.getLanguage()||Globalize.culture().name,qe=(0,a.iE)().cultureInfo;return Se=(0,a.iE)().formattingLocale||qe||Se,this.getUrlParam("formatLocale")||this.getUrlParam("language")||Se}getUrlParam(Se){var qe=window.location.search.match(RegExp("[?&]"+Se+"=([^&]*)"));return qe?qe[1]:void 0}}},118883:function(me,j,e){e.d(j,{SZ:function(){return g},lK:function(){return l}});var r=e(785463),i=e(376292),a=e(20502),t=e(640700);function l(s){return JSON.stringify(s.accept(n.instance))}function g(s){for(var h="[",o=0,v=s.length;o<v;o++)o>0&&(h+=","),h+=l(s[o]);return h+"]"}var n=(()=>{class s extends a.nP{visitColumnRef(o){return{col:{s:o.source.accept(this),r:o.ref}}}visitMeasureRef(o){return{measure:{s:o.source.accept(this),r:o.ref}}}visitNativeMeasure(o){var v={l:o.language,e:o.expression,t:o.dataType};return o.proposedName&&(v.p=o.proposedName),o.expressionContentCache&&(v.c={}),o.expressionContentCache.dependencies&&(v.c.d=g(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(v.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:v}}visitNativeColumn(o){var v={l:o.language,e:o.expression,t:o.dataType,s:o.source.accept(this),f:o.format};return o.proposedName&&(v.p=o.proposedName),o.expressionContentCache&&(v.c={}),o.expressionContentCache.dependencies&&(v.c.d=g(o.expressionContentCache.dependencies)),null!=o.expressionContentCache.unrecognizedIdentifiers&&(v.c.u=o.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:v}}visitAggr(o){return{agg:{a:o.arg.accept(this),f:o.func}}}visitEntity(o){return r.Y.assertValue(o,"expr"),r.Y.assertValue(o.entity,"expr.entity"),{e:o.entity}}visitHierarchyLevel(o){return{h:o.arg.accept(this),l:o.level}}visitHierarchy(o){return{e:o.arg.accept(this),h:o.hierarchy}}visitPropertyVariationSource(o){return{e:o.arg.accept(this),n:o.name,p:o.property}}visitAnd(o){return r.Y.assertValue(o,"expr"),{and:{l:o.left.accept(this),r:o.right.accept(this)}}}visitCompare(o){return r.Y.assertValue(o,"expr"),{comp:{k:o.comparison,l:o.left.accept(this),r:o.right.accept(this)}}}visitConstant(o){return r.Y.assertValue(o,"expr"),{const:{t:o.type.primitiveType,v:d(o.value)}}}visitArithmetic(o){return r.Y.assertValue(o,"expr"),{arithmetic:{o:o.operator,l:o.left.accept(this),r:o.right.accept(this)}}}visitScopedEval(o){return r.Y.assertValue(o,"expr"),{scopedEval:{e:o.expression.accept(this),s:g(o.scope)}}}visitFilteredEval(o){r.Y.assertValue(o,"expr");var v=m=>{var p={};return _.isEmpty(m.target)||(p.t=_.map(m.target,y=>y.accept(this))),p.c=m.condition.accept(this),p};return{filteredEval:{e:o.expression.accept(this),f:`[${_.map(o.filters,m=>JSON.stringify(v(m))).join(", ")}]`}}}visitWithRef(o){return r.Y.assertValue(o,"expr"),{withRef:{e:o.expressionName}}}visitTransformTableRef(o){return r.Y.assertValue(o,"expr"),{transformTableRef:{source:o.source}}}visitTransformOutputRoleRef(o){r.Y.assertValue(o,"expr");var v={transformOutputRoleRef:{role:o.role}};return o.transform&&(v.transformOutputRoleRef.transform=o.transform),v}visitFloor(o){r.Y.assertValue(o,"expr");var v={floor:{a:o.arg.accept(this),s:o.size}};return null!=o.timeUnit&&(v.floor.timeunit=o.timeUnit),v}visitRoleRef(o){return r.Y.assertValue(o,"expr"),{roleRef:{role:o.role}}}visitSummaryValueRef(o){return r.Y.assertValue(o,"expr"),{summaryValueRef:{name:o.name}}}visitAllRolesRef(o){return r.Y.assertValue(o,"expr"),{allRolesRef:{}}}visitNot(o){return r.Y.assertValue(o,"expr"),{not:o.arg.accept(this)}}visitIn(o){return r.Y.assertValue(o,"expr"),{in:{c:g(o.args),v:_.map(o.values,v=>g(v))}}}visitSelectRef(o){return r.Y.assertValue(o,"expr"),{n:o.expressionName}}visitSparklineData(o){return r.Y.assertValue(o,"expr"),{sparklineData:{m:o.measure.accept(this),g:g(o.grouping),s:o.scalarKey?.accept(this)}}}visitDefault(o){r.Y.assertFail("Unexpected expression type found in DataViewScopeIdentity.")}}return s.instance=new s,s})();function d(s){return(0,i.th)(s)?t.tw.fromDateWithEpochValue(s):s}},423154:function(me,j,e){e.d(j,{B:function(){return a},Z:function(){return t}});var r=e(785463),i=e(844839);function a(l,g){if(r.Y.assertValue(l,"getStylePreset called with undefined stylePresets"),l){_.isEmpty(g)&&(g=l.defaultPresetName);var n=l.presets[g];return n||(n=l.presets[l.defaultPresetName]),r.Y.assertValue(n,"VisualStylePreset not found and no valid default exists"),n}}function t(l,g){var n=[];if(l){var d=l.presets;if(d)for(var s in d){var h=d[s];h.isDeprecated&&h.name!==g||n.push({value:h.name,displayName:h.displayName})}}return(0,i.s)(n)}},317270:function(me,j,e){e.d(j,{Ju:function(){return t},TV:function(){return i}});var r=e(271982);function i(l){return l.annotationType===r.x.Callout}function t(l,g){l.annotationType===r.x.Callout?(l.text&&g.visitExpr(l.text),l.offsetX&&g.visitExpr(l.offsetX),l.offsetY&&g.visitExpr(l.offsetY),l.width&&g.visitExpr(l.width),l.height&&g.visitExpr(l.height),l.lastEditUTCTimestamp&&g.visitExpr(l.lastEditUTCTimestamp)):l.annotationType===r.x.Highlight&&(l.color&&g.visitExpr(l.color),l.fontColor&&g.visitExpr(l.fontColor),l.backgroundColor&&g.visitExpr(l.backgroundColor),l.emphasizeText&&g.visitExpr(l.emphasizeText),l.strokeDasharray&&g.visitExpr(l.strokeDasharray),l.shouldOffsetVisibleOutlinesInbound&&g.visitExpr(l.shouldOffsetVisibleOutlinesInbound),l.targets&&_.forEach(l.targets,n=>g.visitExpr(n)))}},636320:function(me,j,e){e.d(j,{J:function(){return a}});var r=e(785463),i=e(405463);function a(t,l){r.Y.assertValue(t,"dataBars"),t.minValue&&l.visitExpr(t.minValue),t.maxValue&&l.visitExpr(t.maxValue),t.totalMatchingOption&&l.visitExpr(t.totalMatchingOption),(0,i.Ju)(t.positiveColor,l),(0,i.Ju)(t.negativeColor,l),(0,i.Ju)(t.axisColor,l),l.visitExpr(t.reverseDirection),l.visitExpr(t.hideText)}},844839:function(me,j,e){e.d(j,{s:function(){return i}});var r=e(785463);function i(t){return new a(t)}class a{constructor(l){r.Y.assertValue(l,"allMembers"),this.allMembers=l}members(l){var g=this.allMembers;if(!l)return g;var n=[];for(var d of g)_.includes(l,d.value)&&n.push(d);return n}}},271982:function(me,j,e){e.d(j,{x:function(){return r}});var r=function(i){return i.Callout="callout",i.Highlight="highlight",i}({})},716781:function(me,j,e){e.d(j,{Ju:function(){return i}});var r=e(785463);function i(n,d){n.explicit?function(n,d){d.visitExpr(n.isRelative),n.lowerBound&&d.visitExpr(n.lowerBound),n.upperBound&&d.visitExpr(n.upperBound)}(n.explicit,d):n.symmetricalExplicit?d.visitExpr(n.symmetricalExplicit.delta):n.standardDeviation?function(n,d){n.visitExpr(d.value),n.visitExpr(d.multiplier)}(d,n.standardDeviation):n.percentage?function(n,d){d.visitExpr(n.lowerBoundDelta),d.visitExpr(n.upperBoundDelta)}(n.percentage,d):n.percentile?function(n,d){d.visitExpr(n.lowerBound),d.visitExpr(n.upperBound)}(n.percentile,d):r.Y.assertFail("Unsupported ErrorRangeDefinition")}},405463:function(me,j,e){e.d(j,{GG:function(){return l},Ju:function(){return t},_w:function(){return a},me:function(){return g}});var r=e(785463),i=e(446024);function a(n){return n&&(void 0!==n.solid&&void 0!==n.solid.color||void 0!==n.gradient&&(void 0!==n.gradient.startColor||void 0!==n.gradient.endColor)||void 0!==n.pattern&&(void 0!==n.pattern.patternKind||void 0!==n.pattern.color))}function t(n,d){r.Y.assertValue(n,"fill"),n.solid&&n.solid.color?d.visitExpr(n.solid.color):r.Y.assertFail("Unsupported FillDefinition")}function l(n,d){return d?{solid:{color:(0,i.yW)(n,d)}}:null===n?{solid:{color:(0,i.gN)()}}:n?{solid:{color:(0,i.Qq)(n)}}:void 0}function g(n){return r.Y.assertValue(n,"descriptor"),!0!==n&&!!n.nullable}},121993:function(me,j,e){e.d(j,{Ju:function(){return n},NW:function(){return g},Pe:function(){return a},dw:function(){return t},iQ:function(){return l}});var r=e(785463),i=e(844839),a="asZero",t="noColor",l="specificColor",g=(0,i.s)([{value:a,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_AsZero")},{value:t,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_NoFormat")},{value:l,displayName:v=>v.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}]);function n(v,m){r.Y.assertValue(v,"fillRule"),v.linearGradient2?function(v,m){r.Y.assertValue(v,"gradient2"),h(v.min,m),h(v.max,m),o(v.nullColoringStrategy,m)}(v.linearGradient2,m):v.linearGradient3?function(v,m){r.Y.assertValue(v,"gradient3"),h(v.min,m),h(v.mid,m),h(v.max,m),o(v.nullColoringStrategy,m)}(v.linearGradient3,m):r.Y.assertFail("Unsupported FillRuleDefinition")}function h(v,m){r.Y.assertValue(v,"stop"),m.visitExpr(v.color);var p=v.value;p&&m.visitExpr(p)}function o(v,m){v&&(m.visitExpr(v.strategy),v.color&&m.visitExpr(v.color))}},861371:function(me,j,e){e.d(j,{NW:function(){return i},Se:function(){return a},pX:function(){return t},ue:function(){return r}});var r="shared",i="packaged",a="geojson",t="topojson"},930959:function(me,j,e){e.d(j,{J:function(){return i}});var r=e(785463);function i(a,t){r.Y.assertValue(a,"fillRule"),a.layout&&t.visitExpr(a.layout),a.verticalAlignment&&t.visitExpr(a.verticalAlignment),a.value&&t.visitExpr(a.value)}},953661:function(me,j,e){e.d(j,{c:function(){return r}});var r={misc:{imageUrl:!0}}},189230:function(me,j,e){function r(i,a){var t=i.metadata;if(t){var l=t.dataFunction;if(l)for(var g of l.parameters)"ValueParameter"===g.type&&g.value&&a.visitExpr(g.value)}}e.d(j,{J:function(){return r}})},249521:function(me,j,e){e.d(j,{Ju:function(){return t},Nr:function(){return s},OX:function(){return l},PG:function(){return g},k9:function(){return d}});var r=e(785463),i=e(446024),a=e(861816);function t(p,y){for(var S of(r.Y.assertValue(p,"paragraphs"),p))h(S,y)}function l(p){var y=p;return r.Y.assertValue(y,"textRunDefinition"),_.isString(y.value)||(0,a.p)(y.value)||y.value instanceof i.yj}function g(p){var y=p;return r.Y.assertValue(y,"textRunDefinitionGeneric"),_.isString(y.value)||function(p){return p&&p.expr}(y.value)||(0,a.p)(y.value)}function d(p){var y=p;return r.Y.assertValue(y,"textRunConditionalDefinition"),_.isArray(y.cases)&&void 0!==y.defaultCase&&_.isArray(y.defaultCase.textRuns)&&(0,a.p)(y.expression)}function s(p){var y=p;return r.Y.assertValue(y,"conditionalDefinitionGeneric"),_.isArray(y.cases)&&void 0!==y.defaultCase&&void 0!==y.expression}function h(p,y){if(r.Y.assertValue(p,"paragraph"),!_.isEmpty(p.textRuns))for(var S of p.textRuns)l(S)?o(S,y):d(S)?m(S,y):r.Y.assertNever(S)}function o(p,y){r.Y.assertValue(p,"textRun"),r.Y.assertValue(p.value,"textRun.value"),!_.isString(p.value)&&v(p.value,y)}function v(p,y){if((0,a.p)(p))return y.visitValueRef(p);y.visitExpr(p)}function m(p,y){for(var S of(r.Y.assertValue(p,"textRunConditional"),r.Y.assertValue(p.expression,"expression"),r.Y.assertValue(p.defaultCase,"defaultCase"),r.Y.assertValue(p.cases,"cases"),p.cases))for(var C of S.textRuns)o(C,y);for(var u of p.defaultCase.textRuns)o(u,y);(0,a.p)(p.expression)&&v(p.expression,y)}},789622:function(me,j,e){e.d(j,{B:function(){return i}});var r=e(785463);class i{constructor(t,l){this.exprVisitor=t,this.valueRefVisitor=l}visitExpr(t){return r.Y.assertValue(t,"expr"),r.Y.assertValue(this.exprVisitor,"exprVisitor"),t.accept(this.exprVisitor)}visitValueRef(t){return r.Y.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(t)}}},14445:function(me,j,e){e.d(j,{CY:function(){return V},GO:function(){return f},Hx:function(){return I},Ju:function(){return N},Mr:function(){return p},P3:function(){return b},W8:function(){return w},YK:function(){return m},Z$:function(){return S},df:function(){return T},fn:function(){return R},h1:function(){return O},lF:function(){return M},nc:function(){return P},pj:function(){return E},xo:function(){return y}});var r=e(785463),i=e(59764),a=e(364472),t=e(446024),l=e(636320),g=e(716781),n=e(189230),d=e(317270),s=e(405463),h=e(121993),o=e(930959),v=e(249521);function m(W){var F=W.kind;if(!F)return!1;switch(F){case i.P.AnnotationTemplate:case i.P.Icon:case i.P.ExprList:case i.P.ErrorRange:case i.P.ItemLocation:return!0;default:return r.Y.assertNever(F),!1}return!1}function p(W){return!!W&&(W instanceof a.b0||y(W)||S(W)||function(W){return!!W.identityFieldsValues}(W)||function(W){return W.name instanceof t.yj&&W.url instanceof t.yj}(W)||E(W)||function(W){return W.name instanceof t.yj&&W.content instanceof t.yj&&W.type instanceof t.yj}(W)||f(W)||D(W)||b(W)||T(W)||M(W)||V(W)||w(W)||P(W))}function y(W){return!!(W.gradient||W.solid||W.pattern)}function S(W){return!(!W.linearGradient2&&!W.linearGradient3)}function E(W){var F=W;if(!_.isArray(F))return!1;for(var U of F)if(!U.textRuns)return!1;return!0}function f(W){return!(!W.algorithm||!W.parameters)}function D(W){return!!(W.axisColor&&W.negativeColor&&W.negativeColor)}function b(W){return W.kind===i.P.Icon}function T(W){return W.kind===i.P.ExprList}function M(W){return null!=W&&W.kind===i.P.ErrorRange}function V(W){var F=W;return null!=F?.suggestedUtterances}function w(W){if(null==W)return!1;if(W.kind!==i.P.ItemLocation)return!1;var U=W.byReference;if(U.folderId&&!(U.folderId instanceof t.yj)||U.workspaceId&&!(U.workspaceId instanceof t.yj)||U.itemId&&!(U.itemId instanceof t.yj))return!1;var B=W.metadata;if(B){var x=B.dataFunction;if(x&&_.some(x.parameters,A=>"ValueParameter"===A.type&&!(A.value instanceof t.yj)))return!1}return!0}function P(W){return null!=W&&W.kind===i.P.AnnotationTemplate}function N(W,F){y(W)?F.visitFillDefinition(W):S(W)?F.visitFillRuleDefinition(W):E(W)?F.visitParagraphs(W):D(W)?F.visitDataBarsDefinition(W):b(W)?F.visitIconDefinition(W):M(W)?F.visitErrorRangeDefinition(W):w(W)?F.visitItemLocationDefinition(W):P(W)&&F.visitAnnotationTemplateDefinition(W)}function I(W,F){y(W)?(0,s.Ju)(W,F):S(W)?(0,h.Ju)(W,F):E(W)?(0,v.Ju)(W,F):D(W)?(0,l.J)(W,F):b(W)?(0,o.J)(W,F):M(W)?(0,g.Ju)(W,F):w(W)?(0,n.J)(W,F):P(W)&&(0,d.Ju)(W,F)}function O(W,F){return F?W?W.kind===i.P.Icon&&F.kind===i.P.Icon?{kind:i.P.Icon,layout:null!=F.layout?F.layout:W.layout,verticalAlignment:null!=F.verticalAlignment?F.verticalAlignment:W.verticalAlignment,value:void 0!==F.value?F.value:W.value}:void r.Y.assertFail("unsupported StructuralObjectValues merging"):F:W}function R(W){return r.Y.assertValue(W,"type"),!!(W.fill||W.fillRule||W.filter||W.expression||W.image||W.paragraphs||W.geoJson||W.queryTransform||W.dataBars||W.icon||W.exprList||W.errorRange||W.qnaVisualLink||W.itemLocation||W.annotationTemplate)}},861816:function(me,j,e){function r(a){return!!a&&(void 0!==a.selector&&void 0!==a.propertyIdentifier)}e.d(j,{T:function(){return i},p:function(){return r}});class i{constructor(){this.references=[]}accept(t){this.references.push(t)}}},191941:function(me,j,e){e.d(j,{eV:function(){return g},qP:function(){return m},qu:function(){return p}});var r=e(61917),i=e(785463),a=e(974255),t=e(659956),l=e(690702),g=(()=>{class T{constructor(V,w,P,N,I,O){i.Y.assert(()=>!!V&&null!=p[V]||V===l.K.Null,"type"),i.Y.assert(()=>!!w||null===w,"category"),i.Y.assert(()=>V!==l.K.Enumeration||!!P,"enumType"),i.Y.assert(()=>V!==l.K.FlagsEnumeration||!!N,"flagsEnumType"),this.underlyingType=V,this.category=w,(0,t.Lt)(V,l.K.Temporal)&&(this.temporalType=new d(V)),(0,t.Lt)(V,l.K.Geography)&&(this.geographyType=new s(V)),(0,t.Lt)(V,l.K.Miscellaneous)&&(this.miscType=new h(V,O)),(0,t.Lt)(V,l.K.Formatting)&&(this.formattingType=new v(V)),(0,t.Lt)(V,l.K.Enumeration)&&(this.enumType=P),(0,t.Lt)(V,l.K.FlagsEnumeration)&&(this.flagsEnumType=N),(0,t.Lt)(V,l.K.Scripting)&&(this.scriptingType=new n(V)),(0,t.Lt)(V,l.K.Reference)&&(this.referenceType=new o(V)),(0,t.Lt)(V,l.K.Variant)&&(this.variationTypes=I)}static isValueTypeDescriptor(V){return T.fromDescriptor(V).primitiveType!==r.W.Null}static fromDescriptor(V){if((V=V||{}).scripting&&V.scripting.source)return T.fromExtendedType(l.K.ScriptSource);if(V.enumeration)return T.fromEnum(V.enumeration);if(V.flagsEnumeration)return T.fromFlagsEnum(V.flagsEnumeration);if(V.temporal){if(V.temporal.year)return T.fromExtendedType(l.K.Years_Integer);if(V.temporal.quarter)return T.fromExtendedType(l.K.Quarters_Integer);if(V.temporal.month)return T.fromExtendedType(l.K.Months_Integer);if(V.temporal.day)return T.fromExtendedType(l.K.DayOfMonth_Integer);if(V.temporal.paddedDateTableDate)return T.fromExtendedType(l.K.PaddedDateTableDates)}if(V.geography){if(V.geography.address)return T.fromExtendedType(l.K.Address);if(V.geography.city)return T.fromExtendedType(l.K.City);if(V.geography.continent)return T.fromExtendedType(l.K.Continent);if(V.geography.country)return T.fromExtendedType(l.K.Country);if(V.geography.county)return T.fromExtendedType(l.K.County);if(V.geography.region)return T.fromExtendedType(l.K.Region);if(V.geography.postalCode)return T.fromExtendedType(l.K.PostalCode_Text);if(V.geography.stateOrProvince)return T.fromExtendedType(l.K.StateOrProvince);if(V.geography.place)return T.fromExtendedType(l.K.Place);if(V.geography.latitude)return T.fromExtendedType(l.K.Latitude_Double);if(V.geography.longitude)return T.fromExtendedType(l.K.Longitude_Double)}if(V.misc){if(V.misc.image)return T.fromExtendedType(l.K.Image);if(V.misc.imageUrl)return T.fromExtendedType(l.K.ImageUrl);if(V.misc.webUrl)return T.fromExtendedType(l.K.WebUrl);if(V.misc.barcode)return T.fromExtendedType(l.K.Barcode_Text);if(V.misc.sparkline)return T.fromSparklineType(V.misc.sparkline)}if(V.formatting){if(V.formatting.color)return T.fromExtendedType(l.K.Color);if(V.formatting.formatString)return T.fromExtendedType(l.K.FormatString);if(V.formatting.alignment)return T.fromExtendedType(l.K.Alignment);if(V.formatting.labelDisplayUnits)return T.fromExtendedType(l.K.LabelDisplayUnits);if(V.formatting.displayUnitsWithoutAuto)return T.fromExtendedType(l.K.DisplayUnitsWithoutAuto);if(V.formatting.fontFamily)return T.fromExtendedType(l.K.FontFamily);if(V.formatting.fontSize)return T.fromExtendedType(l.K.FontSize);if(V.formatting.altText)return T.fromExtendedType(l.K.AltText);if(V.formatting.stylePreset)return T.fromExtendedType(l.K.StylePreset);if(V.formatting.dashArray)return T.fromExtendedType(l.K.DashArray)}if(V.text)return T.fromExtendedType(l.K.Text);if(V.integer)return T.fromExtendedType(l.K.Integer);if(V.numeric)return T.fromExtendedType(l.K.Double);if(V.bool)return T.fromExtendedType(l.K.Boolean);if(V.dateTime)return T.fromExtendedType(l.K.DateTime);if(V.duration)return T.fromExtendedType(l.K.Duration);if(V.binary)return T.fromExtendedType(l.K.Binary);if(V.json)return T.fromExtendedType(l.K.Json);if(V.none)return T.fromExtendedType(l.K.None);if(V.extendedType)return T.fromExtendedType(V.extendedType);if(V.operations&&V.operations.searchEnabled)return T.fromExtendedType(l.K.SearchEnabled);if(V.reference){if(V.reference.bookmark)return T.fromExtendedType(l.K.BookmarkRef);if(V.reference.bookmarkGroup)return T.fromExtendedType(l.K.BookmarkGroupRef);if(V.reference.section)return T.fromExtendedType(l.K.SectionRef);if(V.reference.perspective)return T.fromExtendedType(l.K.PerspectiveRef);if(V.reference.rowRefText)return T.fromExtendedType(l.K.RowRefText)}if(V.variant){var w=_.map(V.variant,P=>T.fromDescriptor(P));return T.fromVariant(w)}return T.fromExtendedType(l.K.Null)}static fromExtendedType(V){var w=E(V=V||l.K.Null),P=function(T){if(function(T){return(T&C)===T}(T))return null;var M=p[T];if(!M)return null;var V=M.lastIndexOf("_");if(V>0){var w=M.slice(0,V);w in y&&(i.Y.assert(()=>(T&u)==(T&u),"Unexpected value for ExtendedType base member of "+T),M=w)}return M}(V);return i.Y.assert(()=>w!==r.W.Null||V===l.K.Null,"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),T.fromPrimitiveTypeAndCategory(w,P)}static fromPrimitiveTypeAndCategory(V,w){w=w||null;var P=(V=V||r.W.Null).toString();return w&&(P+="|"+w),T.typeCache[P]||(T.typeCache[P]=new T(function(T,M){var V=m[T],w=y[V];if(null==w&&(i.Y.assertFail("Unexpected primitiveType "+T),w=l.K.Null),T&&M){var P=y[M];if(P){var N=E(P);N===r.W.Null?p[P|=w]&&(i.Y.assert(()=>p[P]===M+"_"+V,"Unexpected name for ExtendedType member "+P),w=P):N===T&&(w=P)}}return w}(V,w),w))}static fromEnum(V){return i.Y.assertValue(V,"enumType"),new T(l.K.Enumeration,null,V)}static fromFlagsEnum(V){return i.Y.assertValue(V,"enumType"),new T(l.K.FlagsEnumeration,null,null,V)}static fromVariant(V){return i.Y.assertValue(V,"variantTypes"),new T(l.K.Variant,null,null,null,V)}static fromSparklineType(V){return new T(l.K.Sparkline,"Sparkline",null,null,null,V)}static isCompatibleFromAny(V,w,P){i.Y.assertValue(V,"type"),i.Y.assertValue(w,"otherType");var N=T.fromDescriptor(V);return!!T.isCompatibleTo(N,[w],P)||N&&N.isCompatibleFrom(T.fromDescriptor(w),P)}static isCompatibleTo(V,w,P){i.Y.assertValue(V,"type"),i.Y.assertValue(w,"otherTypes");var N=T.fromDescriptor(V);for(var I of w)if(T.fromDescriptor(I).isCompatibleFrom(N,P))return!0;return!1}isCompatibleFrom(V,w){if(i.Y.assertValue(V,"other"),this===V)return!0;if(V.variant)for(var P of V.variant)if(!this.isCompatibleFrom(P,w))return!1;if(this.variant)for(var N of this.variant)if(N.isCompatibleFrom(V,w))return!0;var I=V.primitiveType;return this.primitiveType===I||I===r.W.Null||this.numeric&&V.numeric&&(!w||!this.integer||V.integer)}equals(V){return _.isEqual(this,V)}get primitiveType(){return E(this.underlyingType)}get extendedType(){return this.underlyingType}get categoryString(){return this.category}get text(){return this.primitiveType===r.W.Text}get numeric(){return(0,t.Lt)(this.underlyingType,l.K.Numeric)}get integer(){return this.primitiveType===r.W.Integer}get bool(){return this.primitiveType===r.W.Boolean}get dateTime(){return this.primitiveType===r.W.DateTime||this.primitiveType===r.W.Date||this.primitiveType===r.W.Time}get duration(){return this.primitiveType===r.W.Duration}get binary(){return this.primitiveType===r.W.Binary}get json(){return this.primitiveType===r.W.Json}get none(){return this.primitiveType===r.W.None}get temporal(){return this.temporalType}get geography(){return this.geographyType}get misc(){return this.miscType}get formatting(){return this.formattingType}get enum(){return this.enumType}get flagsEnum(){return this.flagsEnumType}get scripting(){return this.scriptingType}get reference(){return this.referenceType}get variant(){return this.variationTypes}}return T.typeCache={},T})();(0,a.d)(g.prototype);class n{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Scripting),"type"),this.underlyingType=M}get source(){return b(this.underlyingType,l.K.ScriptSource)}}class d{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Temporal),"type"),this.underlyingType=M}get year(){return b(this.underlyingType,l.K.Years)}get quarter(){return b(this.underlyingType,l.K.Quarters)}get month(){return b(this.underlyingType,l.K.Months)}get day(){return b(this.underlyingType,l.K.DayOfMonth)}get paddedDateTableDate(){return b(this.underlyingType,l.K.PaddedDateTableDates)}}class s{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Geography),"type"),this.underlyingType=M}get address(){return b(this.underlyingType,l.K.Address)}get city(){return b(this.underlyingType,l.K.City)}get continent(){return b(this.underlyingType,l.K.Continent)}get country(){return b(this.underlyingType,l.K.Country)}get county(){return b(this.underlyingType,l.K.County)}get region(){return b(this.underlyingType,l.K.Region)}get postalCode(){return b(this.underlyingType,l.K.PostalCode)}get stateOrProvince(){return b(this.underlyingType,l.K.StateOrProvince)}get place(){return b(this.underlyingType,l.K.Place)}get latitude(){return b(this.underlyingType,l.K.Latitude)}get longitude(){return b(this.underlyingType,l.K.Longitude)}}class h{constructor(M,V){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Miscellaneous),"type"),this.underlyingType=M,this.sparklineType=V}get image(){return b(this.underlyingType,l.K.Image)}get imageUrl(){return b(this.underlyingType,l.K.ImageUrl)}get webUrl(){return b(this.underlyingType,l.K.WebUrl)}get barcode(){return b(this.underlyingType,l.K.Barcode)}get sparkline(){if(b(this.underlyingType,l.K.Sparkline))return this.sparklineType}}Object.getOwnPropertyNames(h.prototype).forEach(T=>{"constructor"!==T&&Object.defineProperty(h.prototype,T,{enumerable:!0})});class o{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Reference),"type"),this.underlyingType=M}get bookmark(){return b(this.underlyingType,l.K.BookmarkRef)}get bookmarkGroup(){return b(this.underlyingType,l.K.BookmarkGroupRef)}get section(){return b(this.underlyingType,l.K.SectionRef)}get perspective(){return b(this.underlyingType,l.K.PerspectiveRef)}get rowRefText(){return b(this.underlyingType,l.K.RowRefText)}}class v{constructor(M){i.Y.assert(()=>!!M&&(0,t.Lt)(M,l.K.Formatting),"type"),this.underlyingType=M}get color(){return b(this.underlyingType,l.K.Color)}get formatString(){return b(this.underlyingType,l.K.FormatString)}get alignment(){return b(this.underlyingType,l.K.Alignment)}get labelDisplayUnits(){return b(this.underlyingType,l.K.LabelDisplayUnits)}get displayUnitsWithoutAuto(){return b(this.underlyingType,l.K.DisplayUnitsWithoutAuto)}get fontFamily(){return b(this.underlyingType,l.K.FontFamily)}get fontSize(){return b(this.underlyingType,l.K.FontSize)}get altText(){return b(this.underlyingType,l.K.AltText)}get stylePreset(){return b(this.underlyingType,l.K.StylePreset)}get dashArray(){return b(this.underlyingType,l.K.DashArray)}}Object.getOwnPropertyNames(v.prototype).forEach(T=>{"constructor"!==T&&Object.defineProperty(v.prototype,T,{enumerable:!0})});var m={[r.W.Null]:"Null",[r.W.Text]:"Text",[r.W.Decimal]:"Decimal",[r.W.Double]:"Double",[r.W.Integer]:"Integer",[r.W.Boolean]:"Boolean",[r.W.Date]:"Date",[r.W.DateTime]:"DateTime",[r.W.DateTimeZone]:"DateTimeZone",[r.W.Time]:"Time",[r.W.Duration]:"Duration",[r.W.Binary]:"Binary",[r.W.None]:"None",[r.W.Variant]:"Variant",[r.W.Json]:"Json"},p={[l.K.Numeric]:"Numeric",[l.K.Temporal]:"Temporal",[l.K.Geography]:"Geography",[l.K.Miscellaneous]:"Miscellaneous",[l.K.Formatting]:"Formatting",[l.K.Scripting]:"Scripting",[l.K.Null]:"Null",[l.K.Text]:"Text",[l.K.Decimal]:"Decimal",[l.K.Double]:"Double",[l.K.Integer]:"Integer",[l.K.Boolean]:"Boolean",[l.K.Date]:"Date",[l.K.DateTime]:"DateTime",[l.K.DateTimeZone]:"DateTimeZone",[l.K.Time]:"Time",[l.K.Duration]:"Duration",[l.K.Binary]:"Binary",[l.K.None]:"None",[l.K.Variant]:"Variant",[l.K.Years]:"Years",[l.K.Years_Text]:"Years_Text",[l.K.Years_Integer]:"Years_Integer",[l.K.Years_Date]:"Years_Date",[l.K.Years_DateTime]:"Years_DateTime",[l.K.Months]:"Months",[l.K.Months_Text]:"Months_Text",[l.K.Months_Integer]:"Months_Integer",[l.K.Months_Date]:"Months_Date",[l.K.Months_DateTime]:"Months_DateTime",[l.K.PaddedDateTableDates]:"PaddedDateTableDates",[l.K.Quarters]:"Quarters",[l.K.Quarters_Text]:"Quarters_Text",[l.K.Quarters_Integer]:"Quarters_Integer",[l.K.Quarters_Date]:"Quarters_Date",[l.K.Quarters_DateTime]:"Quarters_DateTime",[l.K.DayOfMonth]:"DayOfMonth",[l.K.DayOfMonth_Text]:"DayOfMonth_Text",[l.K.DayOfMonth_Integer]:"DayOfMonth_Integer",[l.K.DayOfMonth_Date]:"DayOfMonth_Date",[l.K.DayOfMonth_DateTime]:"DayOfMonth_DateTime",[l.K.Address]:"Address",[l.K.City]:"City",[l.K.Continent]:"Continent",[l.K.Country]:"Country",[l.K.County]:"County",[l.K.Region]:"Region",[l.K.PostalCode]:"PostalCode",[l.K.PostalCode_Text]:"PostalCode_Text",[l.K.PostalCode_Integer]:"PostalCode_Integer",[l.K.StateOrProvince]:"StateOrProvince",[l.K.Place]:"Place",[l.K.Latitude]:"Latitude",[l.K.Latitude_Decimal]:"Latitude_Decimal",[l.K.Latitude_Double]:"Latitude_Double",[l.K.Longitude]:"Longitude",[l.K.Longitude_Decimal]:"Longitude_Decimal",[l.K.Longitude_Double]:"Longitude_Double",[l.K.Image]:"Image",[l.K.ImageUrl]:"ImageUrl",[l.K.WebUrl]:"WebUrl",[l.K.Barcode]:"Barcode",[l.K.Barcode_Text]:"Barcode_Text",[l.K.Barcode_Integer]:"Barcode_Integer",[l.K.Color]:"Color",[l.K.FormatString]:"FormatString",[l.K.Alignment]:"Alignment",[l.K.LabelDisplayUnits]:"LabelDisplayUnits",[l.K.DisplayUnitsWithoutAuto]:"DisplayUnitsWithoutAuto",[l.K.FontFamily]:"FontFamily",[l.K.AltText]:"AltText",[l.K.FontSize]:"FontSize",[l.K.Enumeration]:"Enumeration",[l.K.FlagsEnumeration]:"FlagsEnumeration",[l.K.ScriptSource]:"ScriptSource",[l.K.SearchEnabled]:"SearchEnabled",[l.K.BookmarkRef]:"BookmarkRef",[l.K.BookmarkGroupRef]:"BookmarkGroupRef",[l.K.SectionRef]:"SectionRef",[l.K.StylePreset]:"StylePreset",[l.K.DashArray]:"DashArray",[l.K.PerspectiveRef]:"PerspectiveRef",[l.K.Reference]:"Reference",[l.K.Json]:"Json",[l.K.Sparkline]:"Sparkline",[l.K.RowRefText]:"RowRefText"},y={Numeric:l.K.Numeric,Temporal:l.K.Temporal,Geography:l.K.Geography,Miscellaneous:l.K.Miscellaneous,Formatting:l.K.Formatting,Scripting:l.K.Scripting,Null:l.K.Null,Text:l.K.Text,Decimal:l.K.Decimal,Double:l.K.Double,Integer:l.K.Integer,Boolean:l.K.Boolean,Date:l.K.Date,DateTime:l.K.DateTime,DateTimeZone:l.K.DateTimeZone,Time:l.K.Time,Duration:l.K.Duration,Binary:l.K.Binary,None:l.K.None,Variant:l.K.Variant,Years:l.K.Years,Years_Text:l.K.Years_Text,Years_Integer:l.K.Years_Integer,Years_Date:l.K.Years_Date,Years_DateTime:l.K.Years_DateTime,Months:l.K.Months,Months_Text:l.K.Months_Text,Months_Integer:l.K.Months_Integer,Months_Date:l.K.Months_Date,Months_DateTime:l.K.Months_DateTime,PaddedDateTableDates:l.K.PaddedDateTableDates,Quarters:l.K.Quarters,Quarters_Text:l.K.Quarters_Text,Quarters_Integer:l.K.Quarters_Integer,Quarters_Date:l.K.Quarters_Date,Quarters_DateTime:l.K.Quarters_DateTime,DayOfMonth:l.K.DayOfMonth,DayOfMonth_Text:l.K.DayOfMonth_Text,DayOfMonth_Integer:l.K.DayOfMonth_Integer,DayOfMonth_Date:l.K.DayOfMonth_Date,DayOfMonth_DateTime:l.K.DayOfMonth_DateTime,Address:l.K.Address,City:l.K.City,Continent:l.K.Continent,Country:l.K.Country,County:l.K.County,Region:l.K.Region,PostalCode:l.K.PostalCode,PostalCode_Text:l.K.PostalCode_Text,PostalCode_Integer:l.K.PostalCode_Integer,StateOrProvince:l.K.StateOrProvince,Place:l.K.Place,Latitude:l.K.Latitude,Latitude_Decimal:l.K.Latitude_Decimal,Latitude_Double:l.K.Latitude_Double,Longitude:l.K.Longitude,Longitude_Decimal:l.K.Longitude_Decimal,Longitude_Double:l.K.Longitude_Double,Image:l.K.Image,ImageUrl:l.K.ImageUrl,WebUrl:l.K.WebUrl,Barcode:l.K.Barcode,Barcode_Text:l.K.Barcode_Text,Barcode_Integer:l.K.Barcode_Integer,Color:l.K.Color,FormatString:l.K.FormatString,Alignment:l.K.Alignment,LabelDisplayUnits:l.K.LabelDisplayUnits,DisplayUnitsWithoutAuto:l.K.DisplayUnitsWithoutAuto,FontFamily:l.K.FontFamily,AltText:l.K.AltText,FontSize:l.K.FontSize,Enumeration:l.K.Enumeration,FlagsEnumeration:l.K.FlagsEnumeration,ScriptSource:l.K.ScriptSource,SearchEnabled:l.K.SearchEnabled,BookmarkRef:l.K.BookmarkRef,BookmarkGroupRef:l.K.BookmarkGroupRef,SectionRef:l.K.SectionRef,StylePreset:l.K.StylePreset,DashArray:l.K.DashArray,PerspectiveRef:l.K.PerspectiveRef,Reference:l.K.Reference,Json:l.K.Json,Sparkline:l.K.Sparkline,RowRefText:l.K.RowRefText},S=255,C=65535,u=4294901760;function E(T){return T&S}function b(T,M){return(T&u)==(M&u)}},819445:function(me,j,e){e.d(j,{y:function(){return r}});var r=(()=>{class i{constructor(t){this.options=t,this.flow=void 0,this.options=_.defaults(t,{duration:250,easing:d3.easeCubicInOut,suppressed:!1,suppressFullToFull:!0}),this.options.duration=Math.max(0,this.options.duration)}get duration(){return this.suppressed?0:this.options.duration}get suppressed(){return this.options.suppressed}get easing(){return this.options.easing}get isActive(){return this.duration>0}get isSuppressed(){return this.suppressed}suppress(t=!0){return this.options.suppressed=t,this}transition(t,l){return this.isActive?t.transition().duration(this.duration).ease(this.easing):l?t.interrupt():t}transitionForced(t){return t.transition().duration(this.duration).ease(this.easing)}FullToHighlighted(){return this.isHighlighted()&&!this.wasHighlighted()}HighlightedToFull(){return this.wasHighlighted()&&!this.isHighlighted()}HighlightedToHighlighted(){return this.wasHighlighted()&&this.isHighlighted()}FullToFull(){return!this.wasHighlighted()&&!this.isHighlighted()}hasSelection(){return!!(this.flow&i.Bit_HasSelection)}hadSelection(){return!!(this.flow&i.Bit_HasSelection<<i.BitArraySize)}isHighlighted(){return!!(this.flow&i.Bit_Highlighted)}wasHighlighted(){return!!(this.flow&i.Bit_Highlighted<<i.BitArraySize)}highlightOverflows(){return!!(this.flow&i.Bit_HighlightOverflows)}didHighlightOverflow(){return!!(this.flow&i.Bit_HighlightOverflows<<i.BitArraySize)}isFiltered(){return!!(this.flow&i.Bit_Filtered)}wasFiltered(){return!!(this.flow&i.Bit_Filtered<<i.BitArraySize)}advanceFlow(t=!1,l=!1,g,n=!1){this.suppress(t||null===this.flow||this.didHighlightOverflow()||n),this.flow=this.flow<<i.BitArraySize|(l&&i.Bit_Highlighted)|(n&&i.Bit_HighlightOverflows)|(g?.hasSelection()&&i.Bit_HasSelection),this.options.suppressFullToFull&&this.FullToFull()&&this.suppress(!0)}}return i.BitArraySize=16,i.Bit_Highlighted=1,i.Bit_HighlightOverflows=2,i.Bit_HasSelection=4,i.Bit_Filtered=8,i})()},181743:function(me,j,e){e.d(j,{BY:function(){return t},U:function(){return i},bi:function(){return a}});var i=1e3;function a(l,g){return g||!l?0:l.getDuration()}class t{constructor(g){g&&g.duration&&(this.animationDuration=g.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}getDuration(){return this.animationDuration}animate(g){return null}getEasing(){return d3.easeCubicInOut}}},373467:function(me,j,e){e.d(j,{VX:function(){return d},bd:function(){return s},d5:function(){return g},tc:function(){return o}});var r=e(138970),i=e(329332),a=e(143924),t=e(160990),l=e(66456),g={fill:l.Ct.fill,outline:l.Ct.outline,text:t.GA.text,icon:t.GA.icon,shape:l.Ct.shape,shadow:l.Ct.shadow,glow:l.Ct.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},d={...l.K9,...t.q,rotation:"angle"},s={default:"default",hover:"hover",selected:"selected",disabled:"disabled",loading:"loading"},o={objects:{[l.X7.fill]:l.ZX.fill,[l.X7.outline]:l.ZX.outline,[t.pP.text]:t.Vo.text,[t.pP.icon]:t.Vo.icon,[l.X7.shape]:l.ZX.shape,[l.X7.shadow]:l.ZX.shadow,[l.X7.glow]:l.ZX.glow,rotation:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[d.rotation]:a.SP.genericRotation,[d.shapeRotation]:a.SP.shapeRotation,[d.textRotation]:a.SP.textRotation}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:r.A.Button,disableFormatMode:!0}},325055:function(me,j,e){e.d(j,{$f:function(){return C},Dt:function(){return O},JF:function(){return I},LO:function(){return f},Nr:function(){return R},Tb:function(){return P},at:function(){return v},qg:function(){return o},uv:function(){return w},wR:function(){return W}});var r=e(147293),i=e(329332),a=e(381357),t=e(247328),l=e(143924),g=e(841333),n=e(66456),d=e(187544),s=e(844839),h=e(981265),o={Tooltips:"Tooltips"},v={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:n.X7.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:n.X7.outline,shapeCustomRectangle:n.X7.shapeCustomRectangle,layout:"layout",shadowCustom:n.X7.shadowCustom,glowCustom:n.X7.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",text:"text",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent",indentation:"indentation",reverseIndentation:"reverseIndentation",containerIndentation:"containerIndentation",fixedButtonsCount:"fixedButtonsCount"},m={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}},layout:{...n.Ct.layout,style:{objectName:"layout",propertyName:"style"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"}},selectionIcon:{color:{objectName:"selectionIcon",propertyName:"color"},overlayPosition:{objectName:"selectionIcon",propertyName:"overlayPosition"},overlayToggle:{objectName:"selectionIcon",propertyName:"overlayToggle"},position:{objectName:"selectionIcon",propertyName:"position"},size:{objectName:"selectionIcon",propertyName:"size"},show:{objectName:"selectionIcon",propertyName:"show"},showIconByState:{objectName:"selectionIcon",propertyName:"showIconByState"},spacing:{objectName:"selectionIcon",propertyName:"spacing"},transparency:{objectName:"selectionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"selectionIcon",propertyName:"verticalAlignment"}},expansionIcon:{color:{objectName:"expansionIcon",propertyName:"color"},position:{objectName:"expansionIcon",propertyName:"position"},size:{objectName:"expansionIcon",propertyName:"size"},spacing:{objectName:"expansionIcon",propertyName:"spacing"},transparency:{objectName:"expansionIcon",propertyName:"transparency"},verticalAlignment:{objectName:"expansionIcon",propertyName:"verticalAlignment"}},actionState:{isCalloutValueAdvanced:{objectName:"actionState",propertyName:"isCalloutValuesAdvanced"},isImageAdvanced:{objectName:"actionState",propertyName:"isImageAdvanced"},isSelectionIconAdvanced:{objectName:"actionState",propertyName:"isSelectionIconAdvanced"},isExpansionIconAdvanced:{objectName:"actionState",propertyName:"isExpansionIconAdvanced"},isButtonsAdvanced:{objectName:"actionState",propertyName:"IsButtonsAdvanced"}}},p={show:l.SP.show,[v.iconType]:{displayName:(0,i.D)("Button_Icon_Type"),type:{enumeration:a.H}},[v.icon]:l.SP.image,[v.iconUrl]:{displayName:(0,i.D)("Image_Url"),type:{text:!0}},[v.transparency]:l.SP.backgroundTransparency,[v.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:t.fF}},[v.padding]:{displayName:(0,i.D)("Visual_Padding"),type:{integer:!0}},[v.size]:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},[v.altText]:{displayName:(0,i.D)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}}},y={show:l.SP.show,[v.color]:l.SP.fill,[v.transparency]:l.SP.backgroundTransparency,[v.wrapContent]:{displayName:(0,i.D)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}}},S=(F,U)=>({[v.image]:{displayName:(0,i.D)("Field"),type:{variant:[{text:!0}]}},[v.imageFit]:{displayName:(0,i.D)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:d.K}},[v.transparency]:l.SP.backgroundTransparency,[v.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:U?.advancedSlicerTypeList&&F===h.$F.List?E:t.fF}},[v.saturation]:{displayName:(0,i.D)("Visual_Saturation"),type:{integer:!0}},[v.blur]:{displayName:(0,i.D)("Visual_DropShadow_Blur"),type:{integer:!0}},[v.ignorePadding]:{displayName:(0,i.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}},[v.setAsBackGround]:{displayName:(0,i.D)("Visual_SetAsBackGround"),type:{bool:!0}},[v.padding]:{displayName:(0,i.D)("Visual_Space_Between_Image"),type:{integer:!0}},[v.imageAreaSize]:{displayName:(0,i.D)("Visual_Image_Area_Size"),type:{integer:!0}}}),C=function(F){return F.TopLeft="topLeft",F.TopCenter="topCenter",F.TopRight="topRight",F.MiddleLeft="middleLeft",F.MiddleRight="middleRight",F.BottomLeft="bottomLeft",F.BottomCenter="bottomCenter",F.BottomRight="bottomRight",F}({}),u=(0,s.s)([{value:C.TopLeft,displayName:F=>F.get("Visual_LabelPosition_TopLeft")},{value:C.TopCenter,displayName:F=>F.get("Visual_LabelPosition_TopCenter")},{value:C.TopRight,displayName:F=>F.get("Visual_LabelPosition_TopRight")},{value:C.MiddleLeft,displayName:F=>F.get("Visual_LabelPosition_MiddleLeft")},{value:C.MiddleRight,displayName:F=>F.get("Visual_LabelPosition_MiddleRight")},{value:C.BottomLeft,displayName:F=>F.get("Visual_LabelPosition_BottomLeft")},{value:C.BottomCenter,displayName:F=>F.get("Visual_LabelPosition_BottomCenter")},{value:C.BottomRight,displayName:F=>F.get("Visual_LabelPosition_BottomRight")}]),E=(0,s.s)([{value:t.kF.left,displayName:F=>F.get("Visual_TextAlignment_Left")},{value:t.kF.right,displayName:F=>F.get("Visual_TextAlignment_Right")}]),c={displayName:(0,i.D)("Role_DisplayName_Values"),properties:{...n.ZX.value.properties,[v.verticalAlignment]:l.SP.verticalAlignment,[v.text]:{displayName:(0,i.D)("Text"),placeHolderText:(0,i.D)("Visual_Auto"),type:{text:!0}}}};function f(F,U){return F=F??h.$F.Tile,{dataRoles:[{name:g.E0.value,kind:r.Ts.Grouping,displayName:(0,i.D)("Field"),description:(0,i.D)("Role_DisplayName_FieldDescription")},{name:o.Tooltips,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),joinPredicate:r.gD.None,description:(0,i.D)("Role_Tooltips_Description")}],objects:V(F,U),dataViewMappings:M(F,U),drilldown:b(F,U),expandCollapse:T(F,U),tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[o.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,keepAllMetadataColumns:!0}}function D(F){var U=n.ZX.layout;return F===h.$F.List&&(U={displayName:U.displayName,properties:{...U.properties,[v.indentation]:{displayName:(0,i.D)("Visual_PivotTable_Indentation"),type:{integer:!0}},[v.reverseIndentation]:{displayName:(0,i.D)("Visual_ReverseIndentation"),type:{bool:!0}},[v.containerIndentation]:{displayName:(0,i.D)("Visual_ContainerIndentation"),type:{bool:!0}},[v.fixedButtonsCount]:{displayName:(0,i.D)("Visual_FixedButtonsCount"),type:{bool:!0}}}}),U}function b(F,U){if(U?.advancedSlicerTypeList&&F===h.$F.List)return{roles:[g.E0.value],suppresDrillOperations:!0}}function T(F,U){if(U?.advancedSlicerTypeList&&F===h.$F.List)return{roles:[g.E0.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!0}}function M(F,U){var B=[];return B.push(U?.advancedSlicerTypeList&&F===h.$F.List?{conditions:[{[g.E0.value]:{min:1,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:g.E0.value},dataReductionAlgorithm:{window:{count:500}}},values:{select:[{for:{in:o.Tooltips}}]},includeEmptyGroups:!0}}:{conditions:[{[g.E0.value]:{max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:g.E0.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:o.Tooltips}}]},includeEmptyGroups:!0}}),B}function V(F,U){var B={general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:l.SP.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},[v.fill]:n.ZX.fillCustom,[v.outline]:n.ZX.outline,[n.X7.value]:c,[n.X7.label]:N(n.ZX.label),[v.shapeCustomRectangle]:n.ZX.shapeCustomRectangle,[v.layout]:D(F),[n.X7.overFlow]:n.ZX.overFlow,[v.shadowCustom]:n.ZX.shadowCustom,[v.glowCustom]:n.ZX.glowCustom,[v.rotation]:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[v.angle]:l.SP.genericRotation,[v.shapeRotation]:l.SP.shapeRotation,[v.textRotation]:l.SP.textRotation}},[v.spacing]:n.ZX.spacing,[v.padding]:n.ZX.padding,[v.accentBar]:n.ZX.accentBar,[v.icon]:{displayName:(0,i.D)("Icon"),properties:p},[v.image]:{displayName:(0,i.D)("Image"),properties:S(F,U)},[v.background]:{displayName:(0,i.D)("Visual_Background"),properties:y},selection:{displayName:(0,i.D)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,i.D)("Visual_SelectAll"),description:(0,i.D)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,i.D)("Visual_ForceSelection"),description:(0,i.D)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,i.D)("Visual_StrictSingleSelect"),description:(0,i.D)("Visual_StrictSingleSelect"),type:{bool:!0}},restrictToLeafNodes:{displayName:(0,i.D)("Visual_SelectionLastLevelOnly"),description:(0,i.D)("Visual_SelectionLastLevelOnly_Description"),type:{bool:!0},filterState:!0}}},data:{suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selectionIcon:{displayName:(0,i.D)("Visual_SelectionIcon_Label"),properties:{color:l.SP.genericColor,overlayPosition:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:u}},overlayToggle:{displayName:(0,i.D)("Visual_Overlay"),type:{bool:!0}},position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:E}},size:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},show:l.SP.show,showIconByState:l.SP.show,spacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}},transparency:l.SP.genericTransparency,verticalAlignment:l.SP.verticalAlignment}},actionState:{properties:{isCalloutValuesAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isImageAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isSelectionIconAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},isExpansionIconAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}},IsButtonsAdvanced:{displayName:(0,i.D)("Advanced"),type:{bool:!0}}}}};return F===h.$F.List&&(B.expansionIcon={displayName:(0,i.D)("Slicer_ExpandCollapse_Toggle"),properties:{color:l.SP.genericColor,position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:E}},size:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},spacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}},transparency:l.SP.genericTransparency,verticalAlignment:{displayName:(0,i.D)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}}}}),B}var w={...n.Ct.value,verticalAlignment:{objectName:"value",propertyName:"verticalAlignment"},text:{objectName:"value",propertyName:"text"}},P={general:{formatString:l.kM.formatString},fillCustom:n.Ct.fillCustom,outline:n.Ct.outline,value:w,label:n.Ct.label,shapeCustomRectangle:n.Ct.shapeCustomRectangle,layout:m.layout,shadowCustom:n.Ct.shadowCustom,glowCustom:n.Ct.glowCustom,spacing:n.Ct.spacing,padding:n.Ct.padding,accentBar:n.Ct.accentBar,icon:m.icon,image:m.image,overFlow:n.Ct.overFlow,background:m.background,selection:{advancedSlicerType:{objectName:"selection",propertyName:"type"}},selectionIcon:m.selectionIcon,expansionIcon:m.expansionIcon,actionState:m.actionState};function N(F){var U=_.cloneDeep(F);return delete U.properties[n.K9.text],U.properties[v.field]={displayName:(0,i.D)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},U}var I={default:"default",hover:"hover",press:"press",selected:"selected",mixed:"mixed"},O={hover:"hover",press:"press",rest:"rest",disabled:"disabled"},R={mixed:"mixed",selected:"selected",unselected:"unselected",default:"default"},W={expanded:"expanded",default:"default",collapsed:"collapsed"}},509506:function(me,j,e){e.d(j,{G:function(){return t},WV:function(){return g}});var r=e(596920),i=e(329332),a=e(143924);function t(){return l}var l={objects:{userPrompt:{properties:{text:{displayName:(0,i.D)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,i.D)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}},useCurrentLocale:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:a.SP.fontColor,fontSize:a.SP.fontSize,fontFamily:a.SP.fontFamily,textAlignment:a.SP.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},g=(0,r.cM)(l.objects)},428749:function(me,j,e){e.d(j,{AL:function(){return t},AM:function(){return s},F8:function(){return o},Fn:function(){return a},In:function(){return h},L3:function(){return l},Rf:function(){return n},aY:function(){return d},lw:function(){return g},wj:function(){return i}});var r=e(430794),i={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},a="anomalyDetection",t="anomaly",l="sensitivity",g=_.mapValues(i,v=>`${a}.${v}`),n="SampleAndDetectAnomaly",d="SampleSizePerSeries",s=.7,h={showAnomalies:"show",displayName:"displayName",transform:"transform",explainBy:"explainBy",isAnomalyHighlighted:"isAnomalyHighlighted",sensitivity:"Sensitivity",confidenceBandShow:"confidenceBandShow",confidenceBandStyle:"confidenceBandStyle",confidenceBandTransparency:"transparency",confidenceBandColor:"confidenceBandColor"},o={showAnomalies:{objectName:a,propertyName:h.showAnomalies},displayName:{objectName:a,propertyName:h.displayName},transform:{objectName:a,propertyName:h.transform},isAnomalyHighlighted:{objectName:a,propertyName:h.isAnomalyHighlighted},explainBy:{objectName:a,propertyName:h.explainBy},sensitivity:{objectName:a,propertyName:h.sensitivity},confidenceBandShow:{objectName:a,propertyName:h.confidenceBandShow},confidenceBandStyle:{objectName:a,propertyName:h.confidenceBandStyle},confidenceBandTransparency:{objectName:a,propertyName:h.confidenceBandTransparency},confidenceBandColor:{objectName:a,propertyName:h.confidenceBandColor},show:{objectName:a,propertyName:r.mx.show},shape:{objectName:a,propertyName:r.mx.shape},size:{objectName:a,propertyName:r.mx.size},color:{objectName:a,propertyName:r.mx.color},transparency:{objectName:a,propertyName:r.mx.transparency},rotation:{objectName:a,propertyName:r.mx.rotation},strokeShow:{objectName:a,propertyName:r.mx.strokeShow},strokeColorMatch:{objectName:a,propertyName:r.mx.strokeColorMatch},strokeColor:{objectName:a,propertyName:r.mx.strokeColor},strokeTransparency:{objectName:a,propertyName:r.mx.strokeTransparency},strokeWidth:{objectName:a,propertyName:r.mx.strokeWidth}}},420496:function(me,j,e){e.d(j,{AN:function(){return x},D:function(){return I},DR:function(){return o},E:function(){return p},HZ:function(){return v},JV:function(){return S},KQ:function(){return u},OO:function(){return E},Vr:function(){return h},cH:function(){return O},g3:function(){return m},mD:function(){return R},qu:function(){return y},rc:function(){return C},u3:function(){return s}});var r=e(658577),i=e(147293),a=e(329332),t=e(844839),l=e(861371),g=e(550995),n=e(473453),d=e(143924),s={pathID:"PathID",category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips",pointOrder:"PointOrder"},h=function(A){return A[A.Box=0]="Box",A[A.Cylinder=1]="Cylinder",A}({}),o=function(A){return A[A.Linear=0]="Linear",A[A.Log=1]="Log",A[A.CubicBezier=2]="CubicBezier",A}({}),v=function(A){return A.AboveLabels="",A.BelowLabels="labels",A.BelowRoads="transit",A}({}),m=function(A){return A.Url="url",A.FileUpload="file_upload",A}({}),p=function(A){return A.map="map",A.viewport="viewport",A}({}),y=function(A){return A.map="map",A.viewport="viewport",A}({}),S=function(A){return A.icon="icon",A.image="image",A}({}),C=function(A){return A.Image="image",A.ImageUrl="imageUrl",A}({}),u=function(A){return A.pixels="pixels",A.meters="meters",A}({}),E={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},c=(0,t.s)([{value:E.road,displayName:(0,a.D)("Visual_MapThemeRoad")},{value:E.satellite,displayName:(0,a.D)("Visual_AzureMapsSatelliteStyle")},{value:E.satelliteRoadLabels,displayName:(0,a.D)("Hybrid")},{value:E.grayscaleDark,displayName:(0,a.D)("Visual_AzureMapsGrayScaleDarkStyle")},{value:E.night,displayName:(0,a.D)("Visual_AzureMapsNightStyle")},{value:E.grayscaleLight,displayName:(0,a.D)("Visual_AzureMapsGrayScaleLightStyle")},{value:E.roadShadedRelief,displayName:(0,a.D)("Visual_AzureMapsTerraStyle")},{value:E.blank,displayName:(0,a.D)("ReportAppBar_Blank")},{value:E.blankAccessible,displayName:(0,a.D)("Visual_AzureMapsBlankAccessibleStyle")},{value:E.highContrastDark,displayName:(0,a.D)("Visual_AzureMapsHighContrastDarkStyle")},{value:E.highContrastLight,displayName:(0,a.D)("Visual_AzureMapsHighContrastLightStyle")}]),f=(0,t.s)([{value:h.Box,displayName:(0,a.D)("Visual_AzureMapsBoxShape")},{value:h.Cylinder,displayName:(0,a.D)("Visual_AzureMapsCylinderShape")}]),D=(0,t.s)([{value:o.Linear,displayName:(0,a.D)("Visual_Axis_Linear")},{value:o.Log,displayName:(0,a.D)("Visual_Axis_Log")},{value:o.CubicBezier,displayName:(0,a.D)("Visual_AzureMapsCubicBezier")}]),b=(0,t.s)([{value:p.map,displayName:(0,a.D)("Visual_ShapeMap_Map")},{value:p.viewport,displayName:(0,a.D)("Visual_AzureMapsViewport")}]),T=(0,t.s)([{value:y.map,displayName:(0,a.D)("Visual_ShapeMap_Map")},{value:y.viewport,displayName:(0,a.D)("Visual_AzureMapsViewport")}]),M=(0,t.s)([{value:S.icon,displayName:(0,a.D)("Icon")},{value:S.image,displayName:(0,a.D)("Image")}]),V=(0,t.s)([{value:C.Image,displayName:(0,a.D)("Image")},{value:C.ImageUrl,displayName:(0,a.D)("Url")}]),w=(0,t.s)([{value:v.AboveLabels,displayName:(0,a.D)("Visual_AzureMapsLayerAboveLabels")},{value:v.BelowLabels,displayName:(0,a.D)("Visual_AzureMapsLayerBelowLabels")},{value:v.BelowRoads,displayName:(0,a.D)("Visual_AzureMapsLayerBelowRoads")}]),P=(0,t.s)([{value:u.pixels,displayName:A=>A.get("Generic_Pixels")},{value:u.meters,displayName:A=>A.get("Visual_MapUnitMeters")}]),N=(0,t.s)([{value:m.Url,displayName:(0,a.D)("Url")},{value:m.FileUpload,displayName:(0,a.D)("Visual_AzureMapsFileUpload")}]),I={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap",pathLayer:"pathLayer"},O={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showCountryRegionBorders:"showCountryRegionBorders",showAdminDistrictBorders:"showAdminDistrictBorders",showAdminDistrict2Borders:"showAdminDistrict2Borders",showBuildingFootprints:"showBuildingFootprints",showRoadDetails:"showRoadDetails",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",matchFillColor:"matchFillColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",rotationAlignment:"rotationAlignment",markerType:"markerType",imageSourceType:"imageSourceType",imageData:"imageData",imageUrl:"imageUrl",markerRotation:"markerRotation",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",autoZoomIncludesReferenceLayer:"autoZoomIncludesReferenceLayer",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth",datasourceType:"datasourceType",referenceLayerUrl:"referenceLayerUrl",bubbleFillColor:"bubbleFillColor",bubbleStrokeColor:"bubbleStrokeColor",bubbleStrokeTransparency:"bubbleStrokeTransparency",lineStrokeColor:"lineStrokeColor",lineStrokeWidth:"lineStrokeWidth",lineStrokeTransparency:"lineStrokeTransparency",polygonFillColor:"polygonFillColor",polygonStrokeColor:"polygonStrokeColor",polygonStrokeWidth:"polygonStrokeWidth",polygonStrokeTransparency:"polygonStrokeTransparency",unmappedObjectFillColor:"unmappedObjectFillColor",unmappedObjectStrokeColor:"unmappedObjectStrokeColor",dataSource:"dataSource",point:"point",line:"line",polygon:"polygon",unmappedObject:"unmappedObject",unmappedObjectVisibility:"unmappedObjectVisibility",unmappedObjectUseCustomColors:"unmappedObjectUseCustomColors"};function R(A){return{dataRoles:W(A),objects:F(A),dataViewMappings:U(A),visualShapeDataViewMappings:B(A),sorting:{custom:{},implicit:{clauses:[...A?.azureMapsPathLayer?[{role:s.pointOrder,direction:r.U.Ascending}]:[],{role:s.size,direction:r.U.Descending}]}},drilldown:{roles:[s.category],...A?.azureMapsPathLayer?{canDisableDrill:{}}:{}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[s.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!A?.enableCalculationScatterChartMap}}function W(A){var L=[{name:s.y,kind:i.Ts.GroupingOrMeasure,displayName:(0,a.D)("Role_DisplayName_Latitude"),description:(0,a.D)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Xk.Y},{name:s.x,kind:i.Ts.GroupingOrMeasure,displayName:(0,a.D)("Role_DisplayName_Longitude"),description:(0,a.D)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Xk.X},{name:s.series,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Legend"),description:(0,a.D)("Role_DisplayName_LegendDescription")},{name:s.size,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Size"),description:(0,a.D)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.tooltips,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Tooltips"),description:(0,a.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}];return A?.azureMapsGeocoding&&L.unshift({name:s.category,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Location"),description:(0,a.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),A?.azureMapsPathLayer&&L.push({name:s.pathID,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_PathID"),description:(0,a.D)("Role_DisplayName_PathIDMapDescription"),disallowedWithVisualCalculations:!A?.azureMapsPathLayerVisualCalculation},{name:s.pointOrder,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_PointOrder"),description:(0,a.D)("Role_DisplayName_PointOrderDescription"),preferredTypes:[{numeric:!0},{integer:!0},{dateTime:!0}],disallowedWithVisualCalculations:!A?.azureMapsPathLayerVisualCalculation}),L}function F(A){var L={general:{displayName:(0,a.D)("Visual_General"),properties:{formatString:d.SP.formatString}},legend:d.rg.legend,dataPoint:{displayName:(0,a.D)("Visual_DataPoint"),description:(0,a.D)("Visual_DataPointDescription"),properties:{showAllDataPoints:d.SP.showAllDataPoints,fill:d.SP.genericColor}},labels:{displayName:(0,a.D)("Visual_DataPointsLabels"),properties:{show:d.SP.show,color:d.SP.dataColor,labelDisplayUnits:d.SP.labelDisplayUnits,labelPrecision:d.SP.labelPrecision}},[I.mapControls]:{displayName:(0,a.D)("Visual_AzureMapsMapSettings"),description:(0,a.D)("Visual_MapControlsDescription"),properties:{[O.defaultStyle]:{displayName:(0,a.D)("Visual_AzureMapsDefaultStyle"),description:(0,a.D)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:c}},[O.showStylePicker]:{displayName:(0,a.D)("Visual_AzureMapsStylePicker"),description:(0,a.D)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},[O.showLabels]:{displayName:(0,a.D)("Labels_Title"),description:(0,a.D)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},[O.showNavigationControls]:{displayName:(0,a.D)("Visual_AzureMapsNavigationControls"),description:(0,a.D)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},[O.zoom]:{displayName:(0,a.D)("Visual_ShapeMap_Zoom"),description:(0,a.D)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},[O.centerLatitude]:{displayName:(0,a.D)("Visual_AzureMapsCenterLatitude"),description:(0,a.D)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},[O.centerLongitude]:{displayName:(0,a.D)("Visual_AzureMapsCenterLongitude"),description:(0,a.D)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},[O.heading]:{displayName:(0,a.D)("Visual_AzureMapsHeading"),description:(0,a.D)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},[O.pitch]:{displayName:(0,a.D)("Visual_AzureMapsPitch"),description:(0,a.D)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},[O.autoZoom]:{displayName:(0,a.D)("Visual_AutoZoom"),description:(0,a.D)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},[O.autoZoomIncludesReferenceLayer]:{displayName:(0,a.D)("Visual_AzureMapsAutoZoomIncludesReferenceLayer"),description:(0,a.D)("Visual_AzureMapsAutoZoomIncludesReferenceLayerDescription"),type:{bool:!0}},[O.worldWrap]:{displayName:(0,a.D)("Visual_AzureMapsWorldWrap"),description:(0,a.D)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},[O.showSelectionControl]:{displayName:(0,a.D)("Visual_AzureMapsSelectionControl"),description:(0,a.D)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}}}},[I.filledMap]:{displayName:(0,a.D)("FilledMap_ToolTip"),description:(0,a.D)("Visual_AzureMapsFilledMapDescription"),properties:{show:d.SP.show,[O.defaultColor]:{displayName:(0,a.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},[O.mapTransparency]:{displayName:(0,a.D)("Visual_Fill_Transparency"),type:{numeric:!0}},[O.strokeColor]:{displayName:(0,a.D)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},[O.strokeTransparency]:{displayName:(0,a.D)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},[O.strokeWidth]:{displayName:(0,a.D)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,a.D)("Visual_AzureMapsLayerPosition"),description:(0,a.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:w}}}},[I.bubbleLayer]:{displayName:(0,a.D)("Visual_Bubbles"),description:(0,a.D)("Visual_BubblesDescription"),properties:{show:d.SP.show,[O.mapTransparency]:{displayName:(0,a.D)("Visual_Fill_Transparency"),description:(0,a.D)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},[O.bubbleRadius]:{displayName:(0,a.D)("Visual_BubbleSize"),description:(0,a.D)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},[O.minBubbleRadius]:{displayName:(0,a.D)("Visual_AzureMapsMinBubbleRadius"),description:(0,a.D)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},[O.markerRangeType]:{displayName:(0,a.D)("Visual_MarkerRangeType"),description:(0,a.D)("Visual_MarkerRangeType"),type:{enumeration:g.hQ}},[O.radiusScalingMethod]:{displayName:(0,a.D)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,a.D)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:D}},[O.maxRadius]:{displayName:(0,a.D)("Visual_AzureMapsBubbleMaxRadius"),description:(0,a.D)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},[O.logScale]:{displayName:(0,a.D)("Visual_AzureMapsLogScale"),description:(0,a.D)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},[O.x1]:{displayName:(0,a.D)("Visual_AzureMapsX1"),description:(0,a.D)("Visual_AzureMapsX1Description"),type:{numeric:!0}},[O.x2]:{displayName:(0,a.D)("Visual_AzureMapsX2"),description:(0,a.D)("Visual_AzureMapsX2Description"),type:{numeric:!0}},[O.y1]:{displayName:(0,a.D)("Visual_AzureMapsY1"),description:(0,a.D)("Visual_AzureMapsY1Description"),type:{numeric:!0}},[O.y2]:{displayName:(0,a.D)("Visual_AzureMapsY2"),description:(0,a.D)("Visual_AzureMapsY2Description"),type:{numeric:!0}},[O.strokeColor]:{displayName:(0,a.D)("Visual_OutlineColor"),description:(0,a.D)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},[O.autoStrokeColor]:{displayName:(0,a.D)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,a.D)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},[O.matchFillColor]:{displayName:(0,a.D)("Visual_AzureMapsBubbleMatchFillColor"),description:(0,a.D)("Visual_AzureMapsBubbleMatchFillColorDescription"),type:{bool:!0}},[O.strokeTransparency]:{displayName:(0,a.D)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,a.D)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},[O.bubbleStrokeWidth]:{displayName:(0,a.D)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,a.D)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},[O.blur]:{displayName:(0,a.D)("Visual_DropShadow_Blur"),description:(0,a.D)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},[O.pitchAlignment]:{displayName:(0,a.D)("Visual_AzureMapsBubblePitchAlignment"),description:(0,a.D)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:b}},[O.zoomScaleFactor]:{displayName:(0,a.D)("Visual_AzureMapsZoomScaleFactor"),description:(0,a.D)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,a.D)("Visual_AzureMapsLayerPosition"),description:(0,a.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:w}}}},[I.categoryLabels]:{displayName:(0,a.D)("Visual_CategoryLabels"),description:(0,a.D)("Visual_CategoryLabelsDescription"),properties:{...d.Jk,...d.Ed}},[I.heatMapLayer]:{displayName:(0,a.D)("Visual_HeatMap"),description:(0,a.D)("Visual_HeatMapDescription"),properties:{show:d.SP.show,[O.heatMapRadius]:{displayName:(0,a.D)("Visual_Radius"),description:(0,a.D)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},[O.heatMapRadiusUnit]:{displayName:(0,a.D)("Visual_Forecast_Parameter_Units"),description:(0,a.D)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:P}},[O.mapTransparency]:{displayName:(0,a.D)("Transparency"),description:(0,a.D)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},[O.heatMapIntensity]:{displayName:(0,a.D)("Visual_AzureMapsHeatMapIntensity"),description:(0,a.D)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},[O.heatMapColorLow]:{displayName:(0,a.D)("Visual_Color0"),description:(0,a.D)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapColorCenter]:{displayName:(0,a.D)("Visual_Color50"),description:(0,a.D)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapColorHigh]:{displayName:(0,a.D)("Visual_Color100"),description:(0,a.D)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},[O.heatMapUseSize]:{displayName:(0,a.D)("Visual_AzureMapsHeatMapUseSize"),description:(0,a.D)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,a.D)("Visual_AzureMapsLayerPosition"),description:(0,a.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:w}}}},[I.barChart]:{displayName:(0,a.D)("Visual_AzureMapsBarChart"),description:(0,a.D)("Visual_AzureMapsBarChartDescription"),properties:{show:d.SP.show,[O.barShape]:{displayName:(0,a.D)("Visual_AzureMapsBarShape"),description:(0,a.D)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:f}},[O.height]:{displayName:(0,a.D)("Visual_General_Properties_Height"),description:(0,a.D)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},[O.scaleHeightOnZoom]:{displayName:(0,a.D)("Visual_AzureMapsScaleBarHeight"),description:(0,a.D)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},[O.thickness]:{displayName:(0,a.D)("Visual_General_Properties_Width"),description:(0,a.D)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},[O.scaleThicknessOnZoom]:{displayName:(0,a.D)("Visual_AzureMapsScaleBarThickness"),description:(0,a.D)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},[O.defaultColor]:{displayName:(0,a.D)("Visual_FillColor"),description:(0,a.D)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},[O.mapTransparency]:{displayName:(0,a.D)("Transparency"),description:(0,a.D)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,a.D)("Visual_AzureMapsLayerPosition"),description:(0,a.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:w}}}},[I.commonDataOptions]:{displayName:(0,a.D)("Visual_AzureMapsCommonDataLayer"),description:(0,a.D)("Visual_AzureMapsCommonDataLayerDescription"),properties:{[O.unselectedTransparency]:{displayName:(0,a.D)("Visual_AzureMapsUnselectedTransparency"),description:(0,a.D)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},[O.showZeros]:{displayName:(0,a.D)("Visual_AzureMapsShowZeros"),description:(0,a.D)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},[O.showNegatives]:{displayName:(0,a.D)("Visual_AzureMapsShowNegatives"),description:(0,a.D)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},[O.minDataValue]:{displayName:(0,a.D)("Visual_AzureMapsMinDataValue"),description:(0,a.D)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},[O.maxDataValue]:{displayName:(0,a.D)("Visual_AzureMapsMaxDataValue"),description:(0,a.D)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}}}},[I.referenceLayer]:{displayName:(0,a.D)("Visual_AzureMapsReferenceLayer"),description:(0,a.D)(A?.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:{[O.additionalDatasource]:{displayName:A?.azureMapsMultiDataFormats?"":(0,a.D)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:l.Se}}}}},[I.traffic]:{displayName:(0,a.D)("Visual_AzureMapsTrafficLayer"),description:(0,a.D)("Visual_AzureMapsTrafficLayerDescription"),properties:{show:d.SP.show,[O.showIncidents]:{displayName:(0,a.D)("Visual_AzureMapsShowIncidents"),description:(0,a.D)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},[O.showTrafficControl]:{displayName:(0,a.D)("Visual_AzureMapsShowTrafficControl"),description:(0,a.D)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}}}},[I.tileLayer]:{displayName:(0,a.D)("Visual_AzureMapsTileLayer"),description:(0,a.D)("Visual_AzureMapsTileLayerDescription"),properties:{[O.tileLayerUrl]:{displayName:(0,a.D)("Url"),description:(0,a.D)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},[O.tileSize]:{displayName:(0,a.D)("Visual_AzureMapsTileSize"),description:(0,a.D)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},[O.northBounds]:{displayName:(0,a.D)("Visual_AzureMapsTileNorthBounds"),description:(0,a.D)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},[O.southBounds]:{displayName:(0,a.D)("Visual_AzureMapsTileSouthBounds"),description:(0,a.D)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},[O.eastBounds]:{displayName:(0,a.D)("Visual_AzureMapsTileEastBounds"),description:(0,a.D)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},[O.westBounds]:{displayName:(0,a.D)("Visual_AzureMapsTileWestBounds"),description:(0,a.D)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},[O.mapTransparency]:{displayName:(0,a.D)("Transparency"),description:(0,a.D)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},[O.isTMS]:{displayName:(0,a.D)("Visual_AzureMapsTileIsTMS"),description:(0,a.D)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},[O.layerPosition]:{displayName:(0,a.D)("Visual_AzureMapsLayerPosition"),description:(0,a.D)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:w}}}}};return A?.azureMapsCustomMarkers&&(L[I.bubbleLayer].properties[O.rotationAlignment]={displayName:(0,a.D)("Visual_AzureMapsBubbleRotationAlignment"),description:(0,a.D)("Visual_AzureMapsBubbleRotationAlignmentDescription"),type:{enumeration:T}},L[I.bubbleLayer].properties[O.markerType]={displayName:(0,a.D)("Visual_AzureMapsMarkerType"),description:(0,a.D)("Visual_AzureMapsMarkerTypeDescription"),type:{enumeration:M}},L[I.bubbleLayer].properties[O.imageSourceType]={displayName:(0,a.D)("Visual_ImageType"),description:(0,a.D)("Visual_AzureMapsImageSourceTypeDescription"),type:{enumeration:V}},L[I.bubbleLayer].properties[O.imageData]={displayName:(0,a.D)("Upload_a_file"),description:(0,a.D)("Visual_AzureMapsImageDataDescription"),type:{image:{}}},L[I.bubbleLayer].properties[O.imageUrl]={displayName:(0,a.D)("Visual_AzureMapsEnterAUrl"),description:(0,a.D)("Visual_AzureMapsImageUrlDescription"),type:{text:!0}},L[I.bubbleLayer].properties[O.markerRotation]={displayName:(0,a.D)("Visual_BasicShape_Rotate"),description:(0,a.D)("Visual_AzureMapsMarkerRotationDescription"),type:{numeric:!0}}),A?.azureMapsMultiDataFormats&&(L[I.referenceLayer].properties[O.datasourceType]={displayName:(0,a.D)("Type"),description:(0,a.D)("Visual_AzureMapsTypeDescription"),type:{enumeration:N}},L[I.referenceLayer].properties[O.referenceLayerUrl]={displayName:(0,a.D)("Visual_AzureMapsEnterAUrl"),description:(0,a.D)("Visual_AzureMapsReferenceLayerUploadAFileDescription"),type:{text:!0}}),A?.azureMapsCustomFormattingReferenceLayer&&(L[I.referenceLayer].properties[O.bubbleFillColor]={displayName:(0,a.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.bubbleStrokeColor]={displayName:(0,a.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.bubbleStrokeWidth]={displayName:(0,a.D)("Visual_DonutBorderWidth"),type:{integer:!0}},L[I.referenceLayer].properties[O.bubbleStrokeTransparency]={displayName:(0,a.D)("Visual_Border_Transparency"),type:{numeric:!0}},L[I.referenceLayer].properties[O.polygonFillColor]={displayName:(0,a.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.polygonStrokeColor]={displayName:(0,a.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.polygonStrokeWidth]={displayName:(0,a.D)("Visual_DonutBorderWidth"),type:{integer:!0}},L[I.referenceLayer].properties[O.polygonStrokeTransparency]={displayName:(0,a.D)("Visual_Border_Transparency"),type:{numeric:!0}},L[I.referenceLayer].properties[O.lineStrokeColor]={displayName:(0,a.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.lineStrokeWidth]={displayName:(0,a.D)("Visual_General_Properties_Width"),type:{integer:!0}},L[I.referenceLayer].properties[O.lineStrokeTransparency]={displayName:(0,a.D)("Transparency"),type:{numeric:!0}},L[I.referenceLayer].properties[O.unmappedObjectVisibility]={displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},L[I.referenceLayer].properties[O.unmappedObjectUseCustomColors]={displayName:(0,a.D)("Visual_AzureMapsUnmappedObjectUseCustomColors"),type:{bool:!0}},L[I.referenceLayer].properties[O.unmappedObjectFillColor]={displayName:(0,a.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},L[I.referenceLayer].properties[O.unmappedObjectStrokeColor]={displayName:(0,a.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}}),A?.azureMapsGeocoding&&(L[I.mapControls].properties[O.geocodingCulture]={displayName:(0,a.D)("Visual_MapGeocodingCulture"),type:{enumeration:n.NW}}),A?.azureMapsBubbleCluster&&(L[I.bubbleLayer].properties[O.clusteringEnabled]={displayName:(0,a.D)("Visual_AzureMapsClusterBubbles"),description:(0,a.D)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},L[I.bubbleLayer].properties[O.clusteredBubbleRadius]={displayName:(0,a.D)("Visual_AzureMapsClusterSize"),type:{integer:!0}},L[I.bubbleLayer].properties[O.clusteredBubbleFillColor]={displayName:(0,a.D)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},L[I.bubbleLayer].properties[O.clusteredBubbleFontSize]=d.SP.fontSize,L[I.bubbleLayer].properties[O.clusteredBubbleFontColor]={displayName:(0,a.D)("Text_Color"),type:{fill:{solid:{color:!0}}}},L[I.bubbleLayer].properties[O.clusteredBubbleStrokeColor]=d.SP.borderColor,L[I.bubbleLayer].properties[O.clusteredBubbleStrokeWidth]={displayName:(0,a.D)("Visual_DonutBorderWidth"),type:{integer:!0}}),A?.azureMapsPathLayer&&(L[I.pathLayer]={displayName:(0,a.D)("Visual_AzureMaps_PathLayer"),description:(0,a.D)("Visual_AzureMaps_PathLayerDescription"),properties:{color:{displayName:(0,a.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},strokeWidth:{displayName:(0,a.D)("Visual_General_Properties_Width"),type:{integer:!0}},strokeTransparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}},[O.minZoom]:{displayName:(0,a.D)("Visual_AzureMapsMinZoom"),description:(0,a.D)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},[O.maxZoom]:{displayName:(0,a.D)("Visual_AzureMapsMaxZoom"),description:(0,a.D)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}}}}),A?.azureMapsCustomBasemap&&(L[I.mapControls].properties[O.showCountryRegionBorders]={displayName:(0,a.D)("Visual_AzureMapsShowCountryRegionBorders"),description:(0,a.D)("Visual_AzureMapsShowCountryRegionBordersDescription"),type:{bool:!0}},L[I.mapControls].properties[O.showAdminDistrictBorders]={displayName:(0,a.D)("Visual_AzureMapsShowAdminDistrictBorders"),description:(0,a.D)("Visual_AzureMapsShowAdminDistrictBordersDescription"),type:{bool:!0}},L[I.mapControls].properties[O.showAdminDistrict2Borders]={displayName:(0,a.D)("Visual_AzureMapsShowAdminDistrict2Borders"),description:(0,a.D)("Visual_AzureMapsShowAdminDistrict2BordersDescription"),type:{bool:!0}},L[I.mapControls].properties[O.showBuildingFootprints]={displayName:(0,a.D)("Visual_AzureMapsShowBuildingFootprints"),description:(0,a.D)("Visual_AzureMapsShowBuildingFootprintsDescription"),type:{bool:!0}},L[I.mapControls].properties[O.showRoadDetails]={displayName:(0,a.D)("Visual_AzureMapsShowRoadDetails"),description:(0,a.D)("Visual_AzureMapsShowRoadDetailsDescription"),type:{bool:!0}}),L}function U(A){var L=[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{min:1,max:1,kind:i.Ts.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:s.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.y}},{bind:{to:s.x}},{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:s.series}},{composite:[{for:{in:s.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:s.size}},{bind:{to:s.tooltips}}]},dataVolume:6}}];return A?.azureMapsPathLayer&&(L.forEach(Y=>{Y.conditions.forEach(z=>{z[s.pointOrder]={max:0},z[s.pathID]={max:0}})}),L.push({conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{min:1},[s.pointOrder]:{max:1},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{bind:{to:s.pathID}},{composite:[{for:{in:s.category}},{bind:{to:s.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.y}},{bind:{to:s.x}},{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}},{conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{max:0},[s.pointOrder]:{max:1},[s.x]:{min:1,max:1,kind:i.Ts.Grouping},[s.y]:{min:1,max:1,kind:i.Ts.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.series}},{bind:{to:s.pathID}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.pointOrder}}]}],dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]},dataVolume:6}})),L}function B(A){var L=[{conditions:[{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{min:1,max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{min:1,max:1,kind:i.Ts.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{min:1,max:1}},{[s.category]:{min:1},[s.series]:{max:1},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{max:1},[s.tooltips]:{min:1}},{[s.category]:{min:1},[s.series]:{max:0},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{max:1}},{[s.category]:{min:1},[s.series]:{max:1,min:1},[s.x]:{max:0},[s.y]:{max:0},[s.size]:{max:0},[s.tooltips]:{max:0}}],matrix:{rows:{select:[{bind:{to:s.category}}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.size}},{for:{in:s.tooltips}}]}}},{conditions:[{[s.category]:{max:0},[s.series]:{max:1},[s.x]:{max:1,kind:i.Ts.Grouping},[s.y]:{max:1,kind:i.Ts.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:s.x}},{for:{in:s.y}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]}}}];return A?.azureMapsPathLayer&&A?.azureMapsPathLayerVisualCalculation&&(L.forEach(Y=>{Y.conditions.forEach(z=>{z[s.pointOrder]={max:0},z[s.pathID]={max:0}})}),L.push({conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{min:1},[s.pointOrder]:{max:1},[s.x]:{max:1,kind:i.Ts.Measure},[s.y]:{max:1,kind:i.Ts.Measure},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.pathID}},{composite:[{for:{in:s.category}},{bind:{to:s.pointOrder}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.size}},{for:{in:s.tooltips}}]}}},{conditions:[{[s.series]:{max:1},[s.pathID]:{min:1,max:1},[s.category]:{max:0},[s.pointOrder]:{max:1},[s.x]:{min:1,max:1,kind:i.Ts.Grouping},[s.y]:{min:1,max:1,kind:i.Ts.Grouping},[s.size]:{max:1}}],matrix:{rows:{select:[{bind:{to:s.pathID}},{composite:[{bind:{to:s.x}},{bind:{to:s.y}},{bind:{to:s.pointOrder}}]}]},columns:{for:{in:s.series}},values:{select:[{bind:{to:s.size}},{for:{in:s.tooltips}}]}}})),L}var x={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showCountryRegionBorders:{objectName:"mapControls",propertyName:"showCountryRegionBorders"},showAdminDistrictBorders:{objectName:"mapControls",propertyName:"showAdminDistrictBorders"},showAdminDistrict2Borders:{objectName:"mapControls",propertyName:"showAdminDistrict2Borders"},showBuildingFootprints:{objectName:"mapControls",propertyName:"showBuildingFootprints"},showRoadDetails:{objectName:"mapControls",propertyName:"showRoadDetails"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},autoZoomIncludesReferenceLayer:{objectName:"mapControls",propertyName:"autoZoomIncludesReferenceLayer"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},matchFillColor:{objectName:"bubbleLayer",propertyName:"matchFillColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},rotationAlignment:{objectName:"bubbleLayer",propertyName:"rotationAlignment"},markerType:{objectName:"bubbleLayer",propertyName:"markerType"},imageSourceType:{objectName:"bubbleLayer",propertyName:"imageSourceType"},imageData:{objectName:"bubbleLayer",propertyName:"imageData"},imageUrl:{objectName:"bubbleLayer",propertyName:"imageUrl"},markerRotation:{objectName:"bubbleLayer",propertyName:"markerRotation"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"},referenceLayerUrl:{objectName:"referenceLayer",propertyName:"referenceLayerUrl"},datasourceType:{objectName:"referenceLayer",propertyName:"datasourceType"},unmappedObjectVisibility:{objectName:"referenceLayer",propertyName:"unmappedObjectVisibility"},unmappedObjectUseCustomColors:{objectName:"referenceLayer",propertyName:"unmappedObjectUseCustomColors"},unmappedObjectFillColor:{objectName:"referenceLayer",propertyName:"unmappedObjectFillColor"},unmappedObjectStrokeColor:{objectName:"referenceLayer",propertyName:"unmappedObjectStrokeColor"}},referenceLayerBubble:{fillColor:{objectName:"referenceLayer",propertyName:"bubbleFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"bubbleFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"bubbleStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"bubbleStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"bubbleStrokeTransparency"}},referenceLayerPolygon:{fillColor:{objectName:"referenceLayer",propertyName:"polygonFillColor"},fillOpacity:{objectName:"referenceLayer",propertyName:"polygonFillOpacity"},strokeColor:{objectName:"referenceLayer",propertyName:"polygonStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"polygonStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"polygonStrokeTransparency"}},referenceLayerLine:{strokeColor:{objectName:"referenceLayer",propertyName:"lineStrokeColor"},strokeWidth:{objectName:"referenceLayer",propertyName:"lineStrokeWidth"},strokeTransparency:{objectName:"referenceLayer",propertyName:"lineStrokeTransparency"}},pathLayer:{show:{objectName:"pathLayer",propertyName:"show"},color:{objectName:"pathLayer",propertyName:"color"},strokeWidth:{objectName:"pathLayer",propertyName:"strokeWidth"},strokeTransparency:{objectName:"pathLayer",propertyName:"strokeTransparency"},minZoom:{objectName:"pathLayer",propertyName:"minZoom"},maxZoom:{objectName:"pathLayer",propertyName:"maxZoom"}}}},772644:function(me,j,e){e.d(j,{M:function(){return l},s:function(){return t}});var r=e(138970),i=e(329332),a=e(143924),t={objects:{line:{displayName:(0,i.D)("Visual_BasicShape_Line"),properties:{lineColor:a.SP.lineColor,transparency:a.SP.backgroundTransparency,weight:{displayName:(0,i.D)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,i.D)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,i.D)("Visual_Fill"),properties:{show:a.SP.show,fillColor:{displayName:(0,i.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:a.SP.backgroundTransparency}},rotation:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{angle:a.SP.genericRotation}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:r.A.Img},l={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},624287:function(me,j,e){e.d(j,{b:function(){return l},t:function(){return t}});var r=e(147293),i=e(329332),a=e(143924),t={dataRoles:[{name:"Values",kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Fields"),description:(0,i.D)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:a.SP.formatString}},labels:{displayName:(0,i.D)("Visual_DataPointLabel"),properties:{...a.Nq,labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision,preserveWhitespace:{displayName:(0,i.D)("Visual_LabelPreserveWhitespace"),description:(0,i.D)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,i.D)("Visual_CategoryLabel"),properties:{show:a.SP.show,...a.Nq,preserveWhitespace:{displayName:(0,i.D)("Visual_LabelPreserveWhitespace"),description:(0,i.D)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,i.D)("Visual_WordWrap"),properties:{show:a.SP.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},l={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},711547:function(me,j,e){e.d(j,{JR:function(){return C},Q3:function(){return p},Yz:function(){return y},l$:function(){return w}});var r=e(147293),i=e(329332),a=e(381357),t=e(247328),l=e(143924),g=e(66456),n=e(851269),d=e(214095),s=e(149872),h=e(785659),o=e(808084),v=e(912791),m=e(376944),p={Data:"Data",Tooltips:"Tooltips",Rows:"Rows"},y={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",border:"border",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:g.X7.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:g.X7.glowCustom,grid:"grid",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:g.X7.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",spacing:"spacing",size:"size",shapeCustomRectangle:g.X7.shapeCustomRectangle,shadowCustom:g.X7.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},S={border:{show:{objectName:"border",propertyName:"show"},style:{objectName:"border",propertyName:"style"},transparency:{objectName:"border",propertyName:"transparency"},width:{objectName:"border",propertyName:"width"},color:{objectName:"border",propertyName:"color"}},grid:{show:{objectName:"grid",propertyName:"show"},style:{objectName:"grid",propertyName:"style"},transparency:{objectName:"grid",propertyName:"transparency"},width:{objectName:"grid",propertyName:"width"},color:{objectName:"grid",propertyName:"color"}},image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"},verticalAlignment:{objectName:"image",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"image",propertyName:"horizontalAlignment"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},C={general:{formatString:l.kM.formatString},fillCustom:g.Ct.fillCustom,outline:g.Ct.outline,value:g.Ct.value,label:g.Ct.label,referenceLabel:S.referenceLabel,shapeCustomRectangle:g.Ct.shapeCustomRectangle,layout:g.Ct.layout,border:S.border,grid:S.grid,overFlow:g.Ct.overFlow,shadowCustom:g.Ct.shadowCustom,glowCustom:g.Ct.glowCustom,spacing:g.Ct.spacing,padding:g.Ct.padding,accentBar:g.Ct.accentBar,image:S.image,referenceLabelTitle:S.referenceLabelTitle,referenceLabelValue:S.referenceLabelValue,referenceLabelDetail:S.referenceLabelDetail,referenceLabelLayout:S.referenceLabelLayout,divider:S.divider,smallMultiplesLayout:n.vx.smallMultiplesLayout,smallMultiplesBorder:n.vx.smallMultiplesBorder,smallMultiplesGrid:n.vx.smallMultiplesGrid,smallMultiplesOverFlow:n.vx.smallMultiplesOverFlow,smallMultiplesHeader:n.vx.smallMultiplesHeader,smallMultiplesAccentBar:n.vx.smallMultiplesAccentBar,smallMultiplesCellBackGround:n.vx.smallMultiplesCellBackGround,smallMultiplesOuterShape:n.vx.smallMultiplesOuterShape},u={...(0,l.ai)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},E={...(0,l.ai)({strokeShow:"show",strokePattern:"style",strokeTransparency:"transparency",strokeWidth:"width",strokeColor:"color"})},c={show:l.SP.show,[y.imageType]:{displayName:(0,i.D)("Visual_ImageType"),type:{enumeration:a.H}},[y.image]:l.SP.image,[y.imageUrl]:{displayName:(0,i.D)("Image_Url"),type:{text:!0}},[y.transparency]:l.SP.backgroundTransparency,[y.position]:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:t.jT}},[y.padding]:{displayName:(0,i.D)("Visual_Space_Between_Image"),type:{integer:!0}},[y.size]:{displayName:(0,i.D)("Visual_BubbleSize"),type:{integer:!0}},[y.altText]:{displayName:(0,i.D)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},[y.fixedSize]:{displayName:(0,i.D)("Visual_FixSize"),type:{bool:!0}},[y.imageAreaSize]:{displayName:(0,i.D)("Visual_Image_Area_Size"),type:{integer:!0}},[y.verticalAlignment]:l.SP.verticalAlignment,horizontalAlignment:l.SP.horizontalAlignment},f={[y.value]:{displayName:(0,i.D)("Visual_Add_Label"),formatStringProperty:C.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},formatString:l.SP.formatString,[y.backgroundColor]:l.SP.genericColor,[y.backgroundTransparency]:l.SP.backgroundTransparency,[y.backgroundShow]:l.SP.show},D={show:l.SP.show,[y.titleText]:{displayName:(0,i.D)("Text"),type:{text:!0}},[y.titleFontSize]:l.SP.fontSize,[y.titleFontFamily]:l.SP.fontFamily,[y.titleUnderline]:l.SP.underline,[y.titleItalic]:l.SP.italic,[y.titleBold]:l.SP.bold,[y.titleFontColor]:l.SP.genericColor,[y.titleTransparency]:l.SP.genericTransparency,[y.titleContentType]:{displayName:(0,i.D)("Content"),type:{enumeration:s.IM}}},b={show:l.SP.show,[y.valueFontColor]:l.SP.genericColor,[y.valueFontSize]:l.SP.fontSize,[y.valueFontFamily]:l.SP.fontFamily,[y.valueUnderline]:l.SP.underline,[y.valueBold]:l.SP.bold,[y.valueItalic]:l.SP.italic,[y.valueTransparency]:l.SP.genericTransparency,[y.valuePrecision]:l.SP.labelPrecision,[y.valueDisplayUnits]:{...l.SP.labelDisplayUnits,type:{enumeration:h.N}},[y.showBlankAs]:l.SP.showBlankAs,[y.customFormatString]:l.SP.dataLabelCustomFormatString},T={show:l.SP.show,[y.detailFontColor]:l.SP.fontColor,[y.detailFontSize]:l.SP.fontSize,[y.detailFontFamily]:l.SP.fontFamily,[y.detailUnderline]:l.SP.underline,[y.detailBold]:l.SP.bold,[y.detailItalic]:l.SP.italic,[y.detailTransparency]:l.SP.genericTransparency,[y.detailPrecision]:l.SP.labelPrecision,[y.detailDisplayUnits]:{...l.SP.labelDisplayUnits,type:{enumeration:h.N}},[y.showBlankAs]:l.SP.showBlankAs,[y.detailValue]:{...l.SP.dynamicLabelValue,formatStringProperty:C.referenceLabelDetail.formatString},formatString:l.SP.formatString,[y.detailBackgroundColor]:l.SP.genericColor,[y.customFormatString]:l.SP.dataLabelCustomFormatString},M={...(0,l.ai)({strokeShow:"show",strokeColor:"dividerColor",strokeTransparency:"dividerTransparency",strokeWidth:"dividerWidth",strokePattern:"dividerLineStyle"}),dividerIgnorePadding:{displayName:(0,i.D)("Visual_Divider_IgnorePadding"),type:{bool:!0}}},V={position:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:d.r}},arrangement:{displayName:(0,i.D)("Visual_Arrangement"),type:{enumeration:o.Y}},style:{displayName:(0,i.D)("Visual_Axis_Style"),type:{enumeration:v.u}},horizontalAlignment:l.SP.horizontalAlignment,verticalAlignment:l.SP.verticalAlignment,valueArea:{displayName:(0,i.D)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:l.SP.textWrap,labelSpace:{displayName:(0,i.D)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,i.D)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,i.D)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,i.D)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,i.D)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}};function w(N){return{dataRoles:P(N),objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:l.SP.formatString}},[y.fill]:g.ZX.fillCustom,[y.outline]:g.ZX.outline,[g.X7.value]:g.ZX.value,[g.X7.label]:g.ZX.label,[y.shapeCustomRectangle]:g.ZX.shapeCustomRectangle,[y.layout]:g.ZX.layout,[y.border]:{displayName:(0,i.D)("Visual_Border"),properties:u},[y.grid]:{displayName:(0,i.D)("Visual_Grid"),properties:E},[g.X7.overFlow]:g.ZX.overFlow,[y.shadowCustom]:g.ZX.shadowCustom,[y.glowCustom]:g.ZX.glowCustom,[y.rotation]:{displayName:(0,i.D)("Visual_BasicShape_Rotate"),properties:{[y.angle]:l.SP.genericRotation,[y.shapeRotation]:l.SP.shapeRotation,[y.textRotation]:l.SP.textRotation}},[y.spacing]:g.ZX.spacing,[y.padding]:g.ZX.padding,[y.accentBar]:g.ZX.accentBar,[y.image]:{displayName:(0,i.D)("Images"),properties:c},[y.referenceLabel]:{displayName:(0,i.D)("Visual_Reference_Labels"),properties:f},[y.referenceLabelTitle]:{displayName:(0,i.D)("Title"),properties:D},[y.referenceLabelValue]:{displayName:(0,i.D)("Value"),properties:b},[y.referenceLabelDetail]:{displayName:(0,i.D)("Visual_Label_DetailLabelName"),properties:T},[y.referenceLabelLayout]:{displayName:(0,i.D)("Layout"),properties:V},[y.divider]:{displayName:(0,i.D)("Visual_Divider"),properties:M},[y.smallMultiplesLayout]:n.Ij.smallMultiplesLayout,[y.smallMultiplesBorder]:n.Ij.smallMultiplesBorder,[y.smallMultiplesGrid]:n.Ij.smallMultiplesGrid,[y.smallMultiplesOverFlow]:n.Ij.smallMultiplesOverFlow,[y.smallMultiplesHeader]:n.Ij.smallMultiplesHeader,[y.smallMultiplesAccentBar]:n.Ij.smallMultiplesAccentBar,[n.wq.smallMultiplesOuterShape]:n.Ij.smallMultiplesOuterShape,[n.wq.smallMultiplesCellBackGround]:n.Ij.smallMultiplesCellBackGround},dataViewMappings:[{conditions:[{[p.Rows]:{max:1}},{[p.Data]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:p.Rows}}],dataReductionAlgorithm:{window:{count:(0,m.k3)(4,4)}}}]},values:{select:[{for:{in:p.Data}},{for:{in:p.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,sorting:{default:{}}}}function P(N){var I=[{name:p.Data,kind:r.Ts.Measure,displayName:(0,i.D)("Data"),displayOrder:0},{name:p.Tooltips,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:r.gD.None,displayOrder:2}];return N&&N.cardVisualSmallMultiples&&I.push({name:p.Rows,kind:r.Ts.Grouping,displayName:(0,i.D)("Visual_Categories"),displayOrder:1,description:(0,i.D)("Role_DisplayName_SmallMultiples_Description")}),I}},228783:function(me,j,e){e.d(j,{CY:function(){return v},Cl:function(){return l},Cx:function(){return o},De:function(){return s},Jl:function(){return g},VE:function(){return d},Yp:function(){return p},bl:function(){return t},lP:function(){return a},mO:function(){return m},vu:function(){return n},wn:function(){return h}});var r=e(627227),i=e(143924),a={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t={category:a.category,series:a.series,rows:a.rows,y:a.y,gradient:a.gradient,tooltips:a.tooltips},l={Rows:a.rows,Category:a.category,Series:a.series,Y:a.y,Y2:a.y2,Tooltips:a.tooltips},g={category:a.category,series:a.series,x:a.x,y:a.y,gradient:a.gradient,tooltips:a.tooltips,size:"Size",play:"Play"},n={category:a.category,y:a.y,tooltips:a.tooltips,breakdown:"Breakdown"},d={category:a.category,series:a.series,y:a.y,y2:a.y2,tooltips:a.tooltips,rows:a.rows},s={scalarKey:{min:r.Q},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"categoryAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"categoryAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"categoryAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"categoryAxis",propertyName:"gridlineAutoScale"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineTransparency:{objectName:"valueAxis",propertyName:"gridlineTransparency"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},gridlineDashArray:{objectName:"valueAxis",propertyName:"gridlineDashArray"},gridlineDashCap:{objectName:"valueAxis",propertyName:"gridlineDashCap"},gridlineAutoScale:{objectName:"valueAxis",propertyName:"gridlineAutoScale"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"},formatString:{objectName:"general",propertyName:"formatString"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{},annotationTemplates:{callout:i.sA}},h={generic:"referenceLine",x:"xAxisReferenceLine",y1:"y1AxisReferenceLine"},o={show:"show",displayName:"displayName",value:"value",position:"position",...i.I$,shadeShow:"shadeShow",shadeRegion:"shadeRegion",shadeColor:"shadeColor",shadeColorMatchStroke:"shadeColorMatchStroke",shadeTransparency:"shadeTransparency",dataLabelShow:"dataLabelShow",dataLabelColor:"dataLabelColor",dataLabelText:"dataLabelText",dataLabelDecimalPoints:"dataLabelDecimalPoints",dataLabelHorizontalPosition:"dataLabelHorizontalPosition",dataLabelVerticalPosition:"dataLabelVerticalPosition",dataLabelDisplayUnits:"dataLabelDisplayUnits"},v={show:"show",displayName:"displayName",lineColor:"lineColor",transparency:"transparency",style:"style",combineSeries:"combineSeries",useHighlightValues:"useHighlightValues"},m="trend",p="forecast"},317551:function(me,j,e){e.d(j,{CW:function(){return s},Jw:function(){return v},LH:function(){return o},Ml:function(){return d},XV:function(){return h}});var r=e(596920),i=e(147293),a=e(138970),t=e(329332),l=e(376944),g=e(228783),n=e(143924),d={borderShow:{displayName:(0,t.D)("Visual_Border"),type:{bool:!0}},borderSize:n.SP.width,borderColorMatchFill:{displayName:(0,t.D)("Visual_MatchFillColor"),description:(0,t.D)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:n.SP.genericColor,borderTransparency:n.SP.genericTransparency},s=(0,r.cM)(h(!1,!1,!1,!1,!0));function h(m=!1,p=!1,y=!1,S=!1,C=!1){var u=y||p&&!S;return{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:n.SP.formatString,responsive:n.SP.responsive,responsiveLegacy:n.SP.responsiveLegacy}},legend:{displayName:n.rg.legend.displayName,description:n.rg.legend.description,properties:{...n.rg.legend.properties,showGradientLegend:n.SP.showGradientLegend}},subheader:n.rg.subheader,[l.xf]:n.rg.smallMultiplesLayout,categoryAxis:{displayName:(0,t.D)(m?"Visual_YAxis":"Visual_XAxis"),properties:{show:n.SP.show,...n.YO,...n.WI,...n.po,...(0,n.Jx)(m?"y":"x"),...n.hL,switchAxisPosition:n.SP.switchAxisPosition}},valueAxis:{displayName:(0,t.D)(m?"Visual_XAxis":"Visual_YAxis"),properties:{show:n.SP.show,...n.e6,...n.po,...(0,n.Jx)(m?"x":"y"),...n.hL,switchAxisPosition:n.SP.switchAxisPosition}},zoom:{displayName:n.rg.zoom.displayName,properties:{show:n.rg.zoom.properties.show,showOnCategoryAxis:{displayName:(0,t.D)(m?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:n.rg.zoom.properties.categoryMin,categoryMax:n.rg.zoom.properties.categoryMax,categorySize:n.rg.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,t.D)(m?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:n.rg.zoom.properties.valueMin,valueMax:n.rg.zoom.properties.valueMax,valueSize:n.rg.zoom.properties.valueSize,showLabels:n.rg.zoom.properties.showLabels,showTooltip:n.rg.zoom.properties.showTooltip}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:{...n.SP.defaultColor,...S&&{displayName:(0,t.D)("Visual_DefaultColumnColor")}},fill:n.SP.genericColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:g.bl.gradient,output:{property:"fill",selector:[g.bl.category]}}},fillTransparency:n.SP.genericTransparency,...d,...(p||C)&&{borderOutlineOnly:n.SP.borderOutlineOnly}}},layout:{displayName:(0,t.D)("Layout"),properties:{seriesOrderReversed:n.SP.seriesOrderReversed,seriesOrderSorted:n.SP.seriesOrderSorted,...(p||C)&&{stackedGapSize:n.SP.stackedGapSize,...(!S||C)&&{stackedGapExplodes:n.SP.stackedGapExplodes}},...(!p||C)&&{clusteredGapSize:n.SP.clusteredGapSize,clusteredGapOverlaps:n.SP.clusteredGapOverlaps,clusteredGapOverlapReverse:n.SP.clusteredGapOverlapReverse},...(u||C)&&{ribbonGapSize:n.SP.ribbonGapSize}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:n.SP.show,showByDefault:n.SP.boolWithoutDescription,showSeries:n.SP.show,showAll:n.SP.labelSeriesShowAll,...n.UC,labelOrientation:n.SP.labelOrientation,labelOverflow:{displayName:(0,t.D)("Visual_LabelOverflow"),description:(0,t.D)("Visual_LabelOverflow_Description"),type:{bool:!0}},wordWrap:n.SP.wordWrap,...n.Ed,...n.xy,...n.VO,...n.CQ,...n.z9,labelContentLayout:n.SP.labelContentLayout,horizontalAlignment:n.SP.horizontalAlignment}},...(p||C)&&{totals:n.rg.totalsWithNet},plotArea:n.rg.plotArea,[g.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.k4},[g.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.T2},trend:(0,n.o4)(!0),error:{displayName:n.rg.error.displayName,objectCategory:n.rg.error.objectCategory,suppressFormatPainterCopy:n.rg.error.suppressFormatPainterCopy,properties:{enabled:n.rg.error.properties.enabled,errorRange:n.rg.error.properties.errorRange,barShow:n.rg.error.properties.barShow,barMatchSeriesColor:n.rg.error.properties.barMatchSeriesColor,barColor:n.rg.error.properties.barColor,barWidth:n.rg.error.properties.barWidth,barBorderColor:n.rg.error.properties.barBorderColor,barBorderSize:n.rg.error.properties.barBorderSize,markerShow:n.rg.error.properties.markerShow,markerShape:n.rg.error.properties.markerShape,markerSize:n.rg.error.properties.markerSize,labelShow:n.rg.error.properties.labelShow,labelFontFamily:n.rg.error.properties.labelFontFamily,labelFontSize:n.rg.error.properties.labelFontSize,labelBold:n.rg.error.properties.labelBold,labelItalic:n.rg.error.properties.labelItalic,labelUnderline:n.rg.error.properties.labelUnderline,labelColor:n.rg.error.properties.labelColor,labelMatchSeriesColor:n.rg.error.properties.labelMatchSeriesColor,labelFormat:n.rg.error.properties.labelFormat,labelBackground:n.rg.error.properties.labelBackground,labelBackgroundColor:n.rg.error.properties.labelBackgroundColor,labelBackgroundTransparency:n.rg.error.properties.labelBackgroundTransparency,tooltipShow:n.rg.error.properties.tooltipShow,tooltipFormat:n.rg.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(!p||C)&&{[g.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:n.k4}},...(u||C)&&{ribbonBands:{displayName:(0,t.D)("RibbonChart"),description:(0,t.D)("RibbonChart_Description"),properties:{show:n.SP.show,fillMatchColor:{displayName:(0,t.D)("RibbonChart_Color"),description:(0,t.D)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:n.SP.genericColor,fillTransparency:n.SP.genericTransparency,...d}}},...(0,n.eT)({callout:!0},!0)}}function o(m=!1,p=!1,y=!1,S){var T,M,V,w,C=S?.cartesianConditionalFormatting,u=S?.useModernFormatPane;return{dataRoles:(T=m,M=C,V=u,w=[{name:g.bl.category,kind:i.Ts.Grouping,displayName:(0,t.D)(V?T?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.D)("Role_DisplayName_AxisDescription"),cartesianKind:i.Xk.X},{name:g.bl.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:V?3:2,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:g.bl.y,kind:i.Ts.Measure,displayName:(0,t.D)(V?T?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:V?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y}],M||w.push({name:g.bl.gradient,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None}),w.push({name:g.bl.rows,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),w.push({name:g.bl.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),w),objects:h(m,p,y,void 0,void 0),dataViewMappings:[{conditions:[{[g.bl.rows]:{min:1},[g.bl.series]:{max:0}},{[g.bl.rows]:{min:1},[g.bl.series]:{min:1,max:1},[g.bl.y]:{max:1}},{[g.bl.rows]:{min:1},[g.bl.series]:{min:1,max:1},[g.bl.y]:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:g.bl.rows}}],dataReductionAlgorithm:{window:{count:l.zS}}},{composite:[{for:{in:g.bl.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:g.bl.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:g.bl.y}},{for:{in:g.bl.tooltips}}]},dataVolume:6}},{conditions:[{[g.bl.rows]:{max:0},[g.bl.series]:{max:0},[g.bl.gradient]:{max:0}},{[g.bl.rows]:{max:0},[g.bl.series]:{min:1,max:1},[g.bl.y]:{max:1},[g.bl.gradient]:{max:0}},{[g.bl.rows]:{max:0},[g.bl.series]:{max:0},[g.bl.y]:{min:0,max:1},[g.bl.gradient]:{max:1}}],categorical:{categories:{for:{in:g.bl.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:g.bl.series,select:[{for:{in:g.bl.y}},{bind:{to:g.bl.gradient}},{for:{in:g.bl.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{[g.lP.rows]:{max:0},[g.bl.series]:{max:0},[g.bl.gradient]:{max:0}},{[g.lP.rows]:{max:0},[g.bl.series]:{min:1,max:1},[g.bl.y]:{max:1},[g.bl.gradient]:{max:0}},{[g.lP.rows]:{max:0},[g.bl.series]:{max:0},[g.bl.y]:{min:0,max:1},[g.bl.gradient]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[g.bl.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[g.bl.category]},annotationTemplates:(0,n.e1)({callout:!0}),grouping:{groupingRules:[{condition:{[g.bl.category]:{min:1,max:1},[g.bl.y]:{min:1,max:1},[g.bl.series]:{max:0},[g.bl.gradient]:{max:0}},groupingTargetRole:g.bl.series,kind:a.c.Color},{condition:{[g.bl.category]:{min:1,max:1},[g.bl.y]:{min:1},[g.bl.series]:{max:0},[g.bl.gradient]:{max:0}},groupingTargetRole:g.bl.category,kind:a.c.GroupInPlace},{condition:{[g.bl.category]:{min:1,max:1},[g.bl.y]:{min:0,max:1},[g.bl.series]:{max:0},[g.bl.gradient]:{max:1}},groupingTargetRole:g.bl.category,kind:a.c.GroupInPlace},{condition:{[g.bl.category]:{max:0},[g.bl.y]:{min:1,max:1},[g.bl.series]:{max:1},[g.bl.gradient]:{max:0}},groupingTargetRole:g.bl.series,kind:a.c.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:m?[]:[g.bl.category],supportsOnObjectFormatting:!0}}var v={dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},497603:function(me,j,e){e.d(j,{c:function(){return h},p:function(){return o}});var r=e(596920),i=e(147293),a=e(138970),t=e(329332),l=e(376944),g=e(228783),n=e(317551),d=e(143924),s=e(160255),h=(0,r.cM)(o(!0).objects);function o(m,p){var y=(0,n.XV)(!1,m,!1,!0),S=(0,s.ZS)(!1,!1,!0);return{dataRoles:[{name:g.VE.category,kind:i.Ts.Grouping,displayName:(0,t.D)(p?.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,t.D)("Role_ComboChart_CategoryDescription"),cartesianKind:i.Xk.X},{name:g.VE.series,kind:i.Ts.Grouping,displayName:(0,t.D)(p?.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:p?.useModernFormatPane?4:2},{name:g.VE.y,kind:i.Ts.Measure,displayName:(0,t.D)(p?.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:p?.useModernFormatPane?2:3,description:(0,t.D)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y},{name:g.VE.y2,kind:i.Ts.Measure,displayName:(0,t.D)(p?.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:p?.useModernFormatPane?3:4,description:(0,t.D)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:i.Xk.Y},{name:g.VE.rows,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0},{name:g.VE.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:d.SP.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:d.SP.responsive,responsiveLegacy:d.SP.responsiveLegacy}},legend:{displayName:d.rg.legend.displayName,description:d.rg.legend.description,properties:{...d.rg.legend.properties,legendMarkerRendering:d.SP.legendMarkerRendering,matchLineColor:d.SP.matchLineColor}},subheader:{...d.rg.subheader},[l.xf]:d.rg.smallMultiplesLayout,categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:d.SP.show,...d.YO,...d.WI,...d.po,...d.hL,...(0,d.Jx)("x"),reverseStackOrder:d.SP.reverseStackOrder}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:d.SP.show,...d.e6,...d.po,...(0,d.Jx)("y"),...d.hL,switchAxisPosition:d.SP.switchAxisPosition,axisLabel:{displayName:(0,t.D)("Visual_YAxis_ColumnTitle"),type:{none:!0}},...d.rv}},zoom:{displayName:d.rg.zoom.displayName,properties:{...d.rg.zoom.properties,...d.Wd.zoom.properties}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{...y.dataPoint.properties,transparency:S.dataPoint.properties.transparency}},layout:y.layout,lineStyles:S.lineStyles,markers:S.markers,labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:d.SP.show,showByDefault:d.SP.boolWithoutDescription,showSeries:d.SP.show,showAll:d.SP.labelSeriesShowAll,...d.UC,labelOrientation:d.SP.labelOrientation,...d.Ed,...d.xy,...d.VO,...d.CQ,...d.z9,labelDisplayUnits:d.SP.dataLabelDisplayUnits,labelContentLayout:d.SP.labelContentLayout}},seriesLabels:d.rg.seriesLabels,error:d.rg.error,plotArea:d.rg.plotArea,filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},[g.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:d.T2},[g.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:d.k4},...!m&&{[g.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:d.k4}},...m&&{totals:d.rg.totalsWithNet},...!m&&{trend:(0,d.o4)(!0)},...(0,d.eT)({callout:!0},!0)},dataViewMappings:[{conditions:[{Series:{max:0},[g.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[g.VE.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1},[g.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1},[g.VE.rows]:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},[g.VE.rows]:{max:0}},{Series:{min:1,max:1},Y:{max:1},[g.VE.rows]:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[g.VE.series]:{max:0},[g.VE.rows]:{min:1}}],matrix:v(!1)},{conditions:[{[g.VE.series]:{min:1,max:1},[g.VE.y]:{max:1},[g.VE.rows]:{min:1}}],matrix:v(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:a.c.Color},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:a.c.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[g.bl.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!p?.visualCalculationOnComboChart,annotationTemplates:(0,d.e1)({callout:!0})}}function v(m){var p={rows:{select:[{composite:[{for:{in:g.VE.rows}}],dataReductionAlgorithm:{window:{count:l.zS}}},{composite:[{for:{in:g.VE.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:g.VE.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:g.VE.y}},{for:{in:g.VE.tooltips}}]},dataVolume:6};return m?p.rows.values={select:[{for:{in:g.VE.y2}}]}:p.values.select.push({for:{in:g.VE.y2}}),p}},129941:function(me,j,e){e.d(j,{CV:function(){return g},MJ:function(){return a},Rj:function(){return t},jm:function(){return l},x0:function(){return n}});var r=e(147293),i=e(143924),a={values:"Values"},t={objectName:"general",propertyName:"formatString"},l={objectName:"overrideDataReduction",propertyName:"count"},g={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},n={dataRoles:[{name:"Values",kind:r.Ts.GroupingOrMeasure}],objects:{general:{properties:{formatString:i.SP.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},143924:function(me,j,e){e.d(j,{Vo:function(){return Le},hL:function(){return Xe},YO:function(){return lt},po:function(){return oe},WI:function(){return Me},e6:function(){return Ye},Nq:function(){return A},qe:function(){return Y},j:function(){return L},sA:function(){return Bt},Jk:function(){return Ae},yZ:function(){return _e},ZA:function(){return Ue},Q7:function(){return mt},Ed:function(){return Z},z9:function(){return ae},xy:function(){return J},UC:function(){return Q},CQ:function(){return ne},VO:function(){return X},vb:function(){return ee},ac:function(){return be},k4:function(){return Be},qj:function(){return ze},T2:function(){return Ce},rv:function(){return x},Wd:function(){return Nt},cC:function(){return ve},rg:function(){return Ie},tc:function(){return ot},SP:function(){return B},kM:function(){return yt},pK:function(){return qe},UX:function(){return Se},AD:function(){return fe},I$:function(){return St},Hp:function(){return H},e1:function(){return je},eT:function(){return Qe},Jx:function(){return ut},ai:function(){return xe},Nk:function(){return Ne},Sd:function(){return Ee},o4:function(){return at}});var r=e(596920),i=e(147293),a=e(329332),t=e(844839),l=e(785463),g=e(58595),n=e(207286),d=e(877811),o=(0,t.s)([{value:"Number of bins",displayName:Ke=>Ke.get("BinsDialog_ModeByCount")},{value:"Bin size",displayName:Ke=>Ke.get("BinsDialog_ModeBySize")}]),v=e(91448),m=e(903342),p=e(785659),y=e(887833),S=e(453576),C=e(705247),u=e(162338),E=e(962294),c=e(303787),f=e(105845),D=e(528261),b=e(247328),T=e(550995),M=e(653719),V=e(680626),w=e(796048),P=e(721e3),N=e(845739),I=e(210589),O=e(735016),R=e(374774),W=e(253172),F=e(904649),U=e(918959),B={axisEnd:{displayName:(0,a.D)("Visual_Axis_End"),description:(0,a.D)("Visual_Axis_EndDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,a.D)("Visual_Axis_Start"),description:(0,a.D)("Visual_Axis_StartDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,a.D)("Visual_Axis_Style"),type:{enumeration:n.B}},axisType:{displayName:(0,a.D)("Type"),type:{enumeration:d.z}},backColor:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,a.D)("BinsDialog_BinType"),type:{enumeration:o}},bold:{displayName:(0,a.D)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,a.D)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderOutlineOnly:{displayName:(0,a.D)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,a.D)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,a.D)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,a.D)("Generic_Color"),description:(0,a.D)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,a.D)("Visual_FormatCode"),description:(0,a.D)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelDisplayUnits:{displayName:(0,a.D)("Visual_DisplayUnits"),description:(0,a.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,a.D)("Visual_DisplayUnits"),description:(0,a.D)("Visual_DisplayUnitsDescription"),type:{enumeration:p.N},suppressFormatPainterCopy:!0},defaultColor:{displayName:(0,a.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,a.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,a.D)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},dynamicLabelValue:{displayName:(0,a.D)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,a.D)("Visual_Error_Format"),type:{enumeration:y.O}},fill:{displayName:(0,a.D)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},genericColor:{displayName:(0,a.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},genericTransparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}},genericRotation:{displayName:(0,a.D)("Visual_BasicShape_Rotate"),type:{numeric:!0}},shapeRotation:{displayName:(0,a.D)("Visual_ShapeRotation"),type:{integer:!0}},textRotation:{displayName:(0,a.D)("Visual_TextRotation"),type:{integer:!0}},fontColor:{displayName:(0,a.D)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,a.D)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,a.D)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},horizontalAlignment:{displayName:(0,a.D)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},iconSize:{displayName:(0,a.D)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,a.D)("Italic"),type:{bool:!0}},image:{type:{image:{}}},labelBackgroundColor:{displayName:(0,a.D)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,a.D)("Visual_Reference_Line_Transparency"),type:{integer:!0}},labelContentLayout:{displayName:(0,a.D)("Layout"),type:{enumeration:C.e}},labelDisplayUnits:{displayName:(0,a.D)("Visual_DisplayUnits"),description:(0,a.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,a.D)("Visual_LabelEnableBackground"),type:{bool:!0}},labelOrientation:{displayName:(0,a.D)("Visual_LabelOrientation"),type:{enumeration:u.Fk}},labelPosition:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:E.O}},labelPrecision:{displayName:(0,a.D)("Visual_Precision"),description:(0,a.D)("Visual_PrecisionDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{integer:!0}},labelSeriesShowAll:{displayName:(0,a.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}},leaderLines:{displayName:(0,a.D)("Visual_LeaderLines"),type:{bool:!0}},matchLineColor:{displayName:(0,a.D)("Visual_LegendMatchLineColor"),description:(0,a.D)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,a.D)("Visual_Label_Maximum_Offset"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,a.D)("Visual_Label_Minimum_Offset"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0}},percentageLabelPrecision:{displayName:(0,a.D)("Visual_Percentage_Precision"),description:(0,a.D)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,a.D)("Visual_Axis_Style"),description:(0,a.D)("Visual_LegendStyleDescription"),type:{enumeration:D.u}},legendPosition:{displayName:(0,a.D)("Visual_LegendPosition"),description:(0,a.D)("Visual_LegendPositionDescription"),type:{enumeration:b.vu}},legendTitle:{displayName:(0,a.D)("Visual_LegendName"),description:(0,a.D)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,a.D)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},textWrap:{displayName:(0,a.D)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,a.D)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,a.D)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,a.D)("Visual_AxisTitleText"),placeHolderText:(0,a.D)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,a.D)("Visual_Outline"),type:{enumeration:V.NW}},outlineStyle:{displayName:(0,a.D)("Visual_Outline"),type:{flagsEnumeration:V.Nx}},outlineColor:{displayName:(0,a.D)("Visual_OutlineColor"),description:(0,a.D)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,a.D)("Visual_OutlineWeight"),description:(0,a.D)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},reverseStackOrder:{displayName:(0,a.D)("Visual_ReverseStackOrder"),type:{bool:!0}},show:{displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,a.D)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,a.D)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,a.D)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,a.D)("Visual_LegendShowTitle"),description:(0,a.D)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,a.D)("Visual_SeriesOrderReversed"),description:(0,a.D)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,a.D)("Visual_SeriesOrderSorted"),description:(0,a.D)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,a.D)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,a.D)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,a.D)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,a.D)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,a.D)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},switchAxisPosition:{displayName:(0,a.D)("Visual_SwitchAxisPosition"),type:{bool:!0}},showIcon:{displayName:(0,a.D)("Visual_ShowIcon"),type:{bool:!0}},markerShape:{displayName:(0,a.D)("Type"),type:{enumeration:M.d_}},markerSize:{displayName:(0,a.D)("Visual_BubbleSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,a.D)("Visual_MarkerRangeType"),type:{enumeration:T.hQ}},boolWithoutDescription:{type:{bool:!0}},matchSeriesColor:{displayName:(0,a.D)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,a.D)("Visual_Space_Around_RibbonBands"),description:(0,a.D)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},backgroundTransparency:{displayName:(0,a.D)("Transparency"),description:(0,a.D)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,a.D)("Transparency"),description:(0,a.D)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},responsive:{displayName:(0,a.D)("Visual_General_ResponsiveLabel"),description:(0,a.D)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},showAxisTitle_Y:{displayName:(0,a.D)("Visual_Axis_Title"),description:(0,a.D)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,a.D)("Visual_Axis_Title"),description:(0,a.D)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},tablixFontColor:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,a.D)("Visual_TextAlignment"),type:{enumeration:W.O}},underline:{displayName:(0,a.D)("Underline"),type:{bool:!0}},verticalAlignment:{displayName:(0,a.D)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},width:{displayName:(0,a.D)("Visual_General_Properties_Width"),type:{numeric:!0}},wordWrap:{displayName:(0,a.D)("Visual_WordWrap"),type:{bool:!0}}},x={secShow:{displayName:(0,a.D)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,a.D)("Visual_YAxis_AlignZeros"),description:(0,a.D)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,a.D)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,a.D)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,a.D)("Visual_Axis_Start"),description:(0,a.D)("Visual_Axis_StartDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,a.D)("Visual_Axis_End"),description:(0,a.D)("Visual_Axis_EndDescription"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:B.showAxisTitle_Y,secAxisStyle:B.axisStyle,secLabelColor:B.genericColor,secFontFamily:B.fontFamily,secFontSize:B.fontSize,secBold:B.bold,secItalic:B.italic,secUnderline:B.underline,secLabelDisplayUnits:B.labelDisplayUnits,secLabelPrecision:B.labelPrecision,secTitleColor:B.titleColor,secTitleFontFamily:B.fontFamily,secTitleFontSize:B.titleFontSize,secTitleBold:B.bold,secTitleItalic:B.italic,secTitleUnderline:B.underline,secTitleText:B.titleText},A={fontFamily:B.fontFamily,fontSize:B.fontSize,bold:B.bold,italic:B.italic,underline:B.underline,color:B.dataColor},L={fontFamily:B.fontFamily,fontSize:B.fontSize,bold:B.bold,italic:B.italic,underline:B.underline,fontColor:B.fontColor},Y={fontFamily:B.fontFamily,textSize:B.fontSize,bold:B.bold,italic:B.italic,underline:B.underline,fontColor:B.fontColor,background:B.labelBackgroundColor},z={fontFamily:B.fontFamily,fontSize:B.fontSize,bold:B.bold,italic:B.italic,underline:B.underline,labelColor:B.genericColor},H={fontFamily:B.fontFamily,fontSize:B.fontSize,bold:B.bold,italic:B.italic,underline:B.underline,fontColor:B.tablixFontColor,backColor:B.backColor},Z={enableBackground:B.labelEnableBackground,backgroundColor:B.labelBackgroundColor,backgroundTransparency:B.labelBackgroundTransparency},k={displayName:(0,a.D)("Visual_DataTotalLabels"),description:(0,a.D)("Visual_DataTotalLabelsDescription"),properties:{show:B.show,labelDisplayUnits:B.dataLabelDisplayUnits,labelPrecision:{...B.labelPrecision,suppressFormatPainterCopy:!0},...A,...Z}},K=_.cloneDeep(k);K.properties.showPositiveAndNegative={displayName:(0,a.D)("Visual_LabelPosAndNeg"),description:(0,a.D)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var ee={transparency:{objectName:"markers",propertyName:"transparency"},rotation:{objectName:"markers",propertyName:"rotation"},strokeShow:{objectName:"markers",propertyName:"borderShow"},strokeColorMatch:{objectName:"markers",propertyName:"borderColorMatchFill"},strokeColor:{objectName:"markers",propertyName:"borderColor"},strokeTransparency:{objectName:"markers",propertyName:"borderTransparency"},strokeWidth:{objectName:"markers",propertyName:"borderWidth"}},Q={labelPosition:B.labelPosition,labelDensity:{displayName:(0,a.D)("Visual_LabelDensity"),type:{integer:!0}},optimizeLabelDisplay:{displayName:(0,a.D)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelContainerMaxWidth:{displayName:(0,a.D)("Visual_Max_Width"),type:{numeric:!0}}},J={showDynamicLabels:B.showDynamicLabels,dynamicLabelValue:B.dynamicLabelValue,dynamicLabelTitle:B.dynamicLabelValue,dynamicLabelDetail:B.dynamicLabelValue},X={enableValueDataLabel:B.boolWithoutDescription,...A,transparency:B.genericTransparency,labelDisplayUnits:B.dataLabelDisplayUnitsWithCustom,valueCustomFormatString:B.dataLabelCustomFormatString,labelPrecision:{...B.labelPrecision,suppressFormatPainterCopy:!0},showBlankAs:B.showBlankAs},ne={enableTitleDataLabel:B.boolWithoutDescription,titleContentType:{displayName:(0,a.D)("Content"),type:{enumeration:F.k}},titleFontFamily:B.fontFamily,titleFontSize:B.fontSize,titleBold:B.bold,titleItalic:B.italic,titleUnderline:B.underline,titleColor:B.dataColor,titleTransparency:B.genericTransparency,titleLabelDisplayUnits:B.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:B.dataLabelCustomFormatString,titleLabelPrecision:B.labelPrecision,titleShowBlankAs:B.showBlankAs},ae={enableDetailDataLabel:B.boolWithoutDescription,detailContentType:{displayName:(0,a.D)("Content"),type:{enumeration:m.P}},detailFontFamily:B.fontFamily,detailFontSize:B.fontSize,detailBold:B.bold,detailItalic:B.italic,detailUnderline:B.underline,detailColor:B.dataColor,detailTransparency:B.genericTransparency,detailLabelDisplayUnits:B.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:B.dataLabelCustomFormatString,detailLabelPrecision:B.labelPrecision,detailShowBlankAs:B.showBlankAs},oe={...z,labelDisplayUnits:B.labelDisplayUnits,labelPrecision:B.labelPrecision},Me={start:B.axisStart,end:B.axisEnd,invertAxis:{displayName:(0,a.D)("Visual_InvertAxis"),type:{bool:!0}},logAxisScale:{displayName:(0,a.D)("Visual_LogarithmicScale"),type:{bool:!0}}},Ye={...Me,sharedAxis:{displayName:(0,a.D)("Visual_Shared_YAxis"),type:{bool:!0}},scaleToFit:{displayName:(0,a.D)("ScaleToFit"),type:{bool:!0}}},Le={axisType:B.axisType,preferredCategoryWidth:{displayName:(0,a.D)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,a.D)("Visual_MaxMarginFactor"),description:(0,a.D)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},innerPadding:{displayName:(0,a.D)("Visual_Axis_InnerPadding"),description:(0,a.D)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}}},lt={...Le,concatenateLabels:{displayName:(0,a.D)("Visual_Axis_ConcatenateLabels"),description:(0,a.D)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}}};function ut(Ke){return{showAxisTitle:"y"===Ke?B.showAxisTitle_Y:B.showAxisTitle_X,titleText:B.titleText,axisStyle:B.axisStyle,titleFontFamily:B.fontFamily,titleFontSize:B.titleFontSize,titleBold:B.bold,titleItalic:B.italic,titleUnderline:B.underline,titleColor:B.titleColor}}var St={strokeShow:"show",strokeColor:"lineColor",strokeTransparency:"transparency",strokeWidth:"width",strokePattern:"style",strokeDashArray:"dashArray",strokeDashCap:"dashCap",strokeAutoScale:"autoScale"},ze=Ee(St),Be={displayName:{displayName:(0,a.D)("Name"),description:(0,a.D)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:(0,a.D)("Visual_Reference_Line_Value"),description:(0,a.D)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},position:{displayName:(0,a.D)("Visual_Reference_Line_Arrange"),description:(0,a.D)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:w.al}},...ze,dataLabelShow:{displayName:(0,a.D)("Visual_Reference_Line_Data_Label"),description:(0,a.D)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelText:{displayName:(0,a.D)("Text"),description:(0,a.D)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:f.A}},dataLabelColor:{displayName:(0,a.D)("Generic_Color"),description:(0,a.D)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,a.D)("Visual_Precision"),placeHolderText:(0,a.D)("Visual_Auto"),type:{numeric:!0}},dataLabelHorizontalPosition:{displayName:(0,a.D)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,a.D)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:w.Ib}},dataLabelVerticalPosition:{displayName:(0,a.D)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,a.D)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:w.A2}},dataLabelDisplayUnits:B.dataLabelDisplayUnits,shadeShow:B.show,shadeRegion:{displayName:(0,a.D)("Visual_ShadeRegion"),type:{enumeration:w.Fh}},shadeColor:{displayName:(0,a.D)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeColorMatchStroke:B.matchLineColor,shadeTransparency:{displayName:(0,a.D)("Visual_ShadeTransparency"),type:{numeric:!0}}},Ce={...Be,value:{displayName:(0,a.D)("Visual_Reference_Line_Value"),description:(0,a.D)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}}},Ae={show:B.show,...A,color:{displayName:(0,a.D)("Generic_Color"),description:(0,a.D)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}}},be={outlineStyle:B.outlineStyle,outlineColor:B.outlineColor,outlineWeight:B.outlineWeight},Ie={legend:{displayName:(0,a.D)("Visual_Legend"),description:(0,a.D)("Visual_LegendDescription"),properties:{show:{displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,a.D)("Visual_LegendPosition"),description:(0,a.D)("Visual_LegendPositionDescription"),type:{enumeration:b.vu}},showTitle:{displayName:(0,a.D)("Visual_LegendShowTitle"),description:(0,a.D)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,a.D)("Visual_LegendName"),description:(0,a.D)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},...z}},labels:{displayName:(0,a.D)("Visual_DataPointsLabels"),description:(0,a.D)("Visual_DataPointsLabelsDescription"),properties:{show:B.show,showSeries:{displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},enableBackground:B.labelEnableBackground,labelPosition:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:E.O}}}},totals:k,totalsWithNet:K,zoom:{displayName:(0,a.D)("Visual_ZoomSlider"),properties:{show:{displayName:(0,a.D)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,a.D)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,a.D)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,a.D)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,a.D)("Visual_ZoomTooltips"),type:{bool:!0}}}},plotArea:{displayName:(0,a.D)("Visual_Plot"),properties:{transparency:B.backgroundTransparency,image:B.image}},markers:{displayName:(0,a.D)("Visual_Markers"),properties:{transparency:B.genericTransparency,rotation:B.genericRotation,borderShow:{displayName:(0,a.D)("Visual_Border"),type:{bool:!0}},borderWidth:B.width,borderColorMatchFill:{displayName:(0,a.D)("Visual_MatchFillColor"),description:(0,a.D)("Visual_MatchFillColor_Description"),type:{bool:!0}},borderColor:B.genericColor,borderTransparency:B.genericTransparency}},subheader:{displayName:(0,a.D)("Small_Multiples_Title"),description:(0,a.D)("Small_Multiples_Title_Description"),properties:{show:B.show,...L,alignment:{displayName:(0,a.D)("Visual_Title_Alignment"),description:(0,a.D)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:U.WO}},titleWrap:B.wordWrap}},smallMultiplesLayout:{displayName:(0,a.D)("Small_Multiples_Layout"),description:(0,a.D)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,a.D)("Small_Multiples_Layout"),type:{enumeration:P.Z}},rowCount:{displayName:(0,a.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,a.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:{...B.backgroundTransparency,displayName:(0,a.D)("Small_Multiples_Layout_Background_Transparency")},gridLineType:{displayName:(0,a.D)("Visual_Gridline_Show"),description:(0,a.D)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:S.X}},...xe({strokeShow:"gridLineShow",strokeColor:"gridLineColor",strokeTransparency:"gridLineTransparency",strokeWidth:"gridLineWidth",strokePattern:"gridLineStyle"}),gridPadding:{displayName:(0,a.D)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,a.D)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,a.D)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,a.D)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,a.D)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,a.D)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,a.D)("Visual_Error_Bars"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,a.D)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,a.D)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:B.show,barMatchSeriesColor:B.matchSeriesColor,barColor:{displayName:(0,a.D)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:B.width,barBorderColor:B.borderColor,barBorderSize:{displayName:(0,a.D)("Visual_Border_Size"),type:{integer:!0}},shadeShow:B.show,shadeBandStyle:{displayName:(0,a.D)("Visual_Axis_Style"),type:{enumeration:v.Us}},shadeColor:{displayName:(0,a.D)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:B.matchSeriesColor,shadeTransparency:B.backgroundTransparency,markerShape:{displayName:(0,a.D)("Visual_MarkerShape"),type:{enumeration:(0,t.s)([...M.n,{value:"none",displayName:Ke=>Ke.get("None")}])}},showMarkerByDefault:B.boolWithoutDescription,markerShow:B.show,markerSize:B.markerSize,labelShow:B.show,labelFontFamily:B.fontFamily,labelFontSize:B.fontSize,labelBold:B.bold,labelItalic:B.italic,labelUnderline:B.underline,labelColor:B.genericColor,labelMatchSeriesColor:B.matchSeriesColor,labelFormat:B.errorFormat,labelBackground:B.labelEnableBackground,labelBackgroundColor:B.labelBackgroundColor,labelBackgroundTransparency:B.labelBackgroundTransparency,tooltipShow:{...B.show,displayName:(0,a.D)("Visual_ShowInTooltip")},tooltipFormat:B.errorFormat}},seriesLabels:{displayName:(0,a.D)("Visual_SeriesLabels"),description:(0,a.D)("Visual_SeriesDescription"),properties:{show:{displayName:(0,a.D)("Visual_ShowForThisSeries"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,a.D)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,a.D)("Visual_SeriesPosition"),type:{enumeration:c.s}},...Z,showAll:{displayName:(0,a.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,a.D)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:B.bold,italic:B.italic,underline:B.underline,seriesFontFamily:{displayName:(0,a.D)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:B.wordWrap,seriesMaximumWidth:{displayName:(0,a.D)("Visual_Max_Width"),placeHolderText:(0,a.D)("Visual_Auto"),type:{integer:!0}}}},sparklines:{displayName:(0,a.D)("Sparkline_Label"),properties:{chartType:{displayName:(0,a.D)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:N.j}},dataColor:{displayName:(0,a.D)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:B.width,markers:{displayName:(0,a.D)("Sparkline_Formatting_Slice_Show_These_Markers"),type:{flagsEnumeration:I.e}},markerColor:B.genericColor,markerSize:B.markerSize,markerShape:B.markerShape}}},ve={chartType:{objectName:"sparklines",propertyName:"chartType"},dataColor:{objectName:"sparklines",propertyName:"dataColor"},strokeWidth:{objectName:"sparklines",propertyName:"strokeWidth"},markers:{objectName:"sparklines",propertyName:"markers"},markerColor:{objectName:"sparklines",propertyName:"markerColor"},markerSize:{objectName:"sparklines",propertyName:"markerSize"},markerShape:{objectName:"sparklines",propertyName:"markerShape"}};function xe(Ke){return Ee(Ke,!0)}function Ee(Ke,tt){var $e={[Ke.strokeShow]:B.show,[Ke.strokeWidth]:B.width,[Ke.strokeColor]:B.genericColor,[Ke.strokeColorMatch]:B.matchLineColor,[Ke.strokeTransparency]:B.genericTransparency,[Ke.strokePattern]:{displayName:(0,a.D)("Visual_LineStyle"),type:{enumeration:tt?R.J$:R.Rm}},[Ke.strokeAutoScale]:{displayName:(0,a.D)("Visual_StrokeAutoScale"),description:(0,a.D)("Visual_StrokeAutoScale_Description"),type:{bool:!0}},[Ke.strokeDashArray]:{displayName:(0,a.D)("Visual_StrokeDashArray"),type:{formatting:{dashArray:!0}}},[Ke.strokeDashCap]:{displayName:(0,a.D)("Visual_StrokeDashCap"),type:{enumeration:R.FF}},[Ke.strokeLineJoin]:{displayName:(0,a.D)("Visual_StrokeLineJoin"),type:{enumeration:O.D}}};return delete $e.undefined,$e}function Ne(Ke,tt){var $e={};return g.O.forEach(de=>{tt[de]&&($e[de]={objectName:Ke,propertyName:tt[de]})}),$e}var Xe=Ee({strokeShow:"gridlineShow",strokeColor:"gridlineColor",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineThickness",strokePattern:"gridlineStyle",strokeDashArray:"gridlineDashArray",strokeDashCap:"gridlineDashCap",strokeAutoScale:"gridlineAutoScale"}),fe={strokeShow:"leaderLines",strokeColor:"leaderLineColor",strokeTransparency:"leaderLineTransparency",strokeWidth:"leaderLineWidth",strokePattern:"leaderLinePattern",strokeDashArray:"leaderLineDashArray",strokeDashCap:"leaderLineDashCap",strokeAutoScale:"leaderLineAutoScale"},Se={...St,strokeTransparency:"strokeTransparency"},qe={strokeShow:"bandLineShow",strokeColor:"bandLineColor",strokeTransparency:"bandLineTransparency",strokeWidth:"bandLineWidth",strokePattern:"bandLinePattern",strokeDashArray:"bandLineDashArray",strokeDashCap:"bandLineDashCap",strokeAutoScale:"bandLineAutoScale",strokeColorMatch:"bandLineMatchColor"},Ue={...Ee(qe),bandLineMatchColor:B.matchLineColor},_e={bandAreaShow:B.show,bandAreaMatchColor:B.matchLineColor,bandAreaColor:B.genericColor,bandAreaTransparency:B.genericTransparency};function at(Ke){return{displayName:(0,a.D)("Visual_Trend_Line"),objectCategory:i.i8.Analytics,suppressFormatPainterCopy:!0,properties:{...ze,displayName:{displayName:(0,a.D)("Name"),description:(0,a.D)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},combineSeries:{displayName:(0,a.D)("Visual_Trend_Line_Combine_Series"),description:(0,a.D)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},...Ke&&{useHighlightValues:{displayName:(0,a.D)("Visual_Trend_Line_UseHighlightValues"),description:(0,a.D)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}}}var ot=(0,r.cM)(Ie),mt=ot.error,yt={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Nt={zoom:{properties:{showOnValueSecAxis:{displayName:(0,a.D)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},Bt={objectName:"annotationTemplate",propertyName:"callout"},he={objectName:"annotationTemplate",propertyName:"highlight"};function Qe(Ke,tt=!1){l.Y.assert(()=>Bt.objectName===he.objectName,"objectName should be the same");var $e={[Bt.objectName]:{properties:{}}},de=$e[Bt.objectName];if(Ke.callout){var De=Bt.propertyName;de.properties[De]={type:{annotationTemplate:{callout:!0}}},tt&&(de.properties[De].captureState=!0)}if(Ke.highlight){var re=he.propertyName;de.properties[re]={type:{annotationTemplate:{highlight:!0}}},tt&&(de.properties[re].captureState=!0)}return $e}function je(Ke){var tt=[];return Ke.callout&&tt.push(Bt),Ke.highlight&&tt.push(he),{annotationTemplateProperties:tt}}},198976:function(me,j,e){e.d(j,{$X:function(){return l},C3:function(){return g},Il:function(){return p},R1:function(){return s},Yw:function(){return n},hC:function(){return o},iL:function(){return v},lq:function(){return m},mF:function(){return h},uM:function(){return d}});var r=e(147293),i=e(329332),a=e(844839),t=e(143924),l={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},g=function(y){return y.Dense="dense",y.Default="default",y.Sparse="sparse",y}({}),n=function(y){return y.Select="select",y.Toggle="toggle",y}({}),d=function(y){return y.Curve="curve",y.Round="round",y}({}),s=function(y){return y.TopNode="topNode",y.ParentNode="parentNode",y.LevelMaximum="levelMaximum",y}({}),h=function(y){return y.Absolute="absolute",y.Relative="relative",y}({}),o={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},v={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},m={defaultValue:10,minValue:3,maxValue:30};function p(y){return{dataRoles:[{name:l.analyze,kind:r.Ts.Measure,kindPreference:r.gs.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,i.D)("Role_DisplayName_Target"),description:(0,i.D)("DecompositionTree_Analyze_Tooltip")},{name:l.explainBy,kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_ExplainBy"),description:(0,i.D)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:l.tooltips,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:r.gD.None}],dataViewMappings:[{conditions:[{[l.analyze]:{max:1}}],matrix:{rows:{for:{in:l.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:{select:[{for:{in:l.analyze}},{for:{in:l.tooltips}}]}}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[l.tooltips],supportEnhancedTooltips:!1},objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:t.SP.formatString}},[o.analysis]:{displayName:(0,i.D)("Analysis"),description:(0,i.D)("Analysis"),properties:{[v.aiEnabled]:{displayName:(0,i.D)("DecompositionTree_Formatting_EnableAI"),description:(0,i.D)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},[v.aiMode]:{displayName:(0,i.D)("DecompositionTree_AnalysisType"),description:(0,i.D)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("DecompositionTree_AnalysisType_Absolute"),value:h.Absolute},{displayName:(0,i.D)("DecompositionTree_AnalysisType_Relative"),value:h.Relative}])}}}},[o.tree]:{displayName:(0,i.D)("DecompositionTree_Formatting_Tree"),description:(0,i.D)("DecompositionTree_Formatting_Tree"),properties:{[v.density]:{displayName:(0,i.D)("DecompositionTree_Density"),description:(0,i.D)("DecompositionTree_Density_Description"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("DecompositionTree_Density_Dense"),value:g.Dense},{displayName:(0,i.D)("Default"),value:g.Default},{displayName:(0,i.D)("DecompositionTree_Density_Sparse"),value:g.Sparse}])}},[v.accentColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_Selected_Line"),description:(0,i.D)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},[v.connectorDefaultColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_Unselected_Line"),description:(0,i.D)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},[v.connectorType]:{displayName:(0,i.D)("Style"),description:(0,i.D)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("Default"),value:d.Curve},{displayName:(0,i.D)("Visual_StrokeLineJoin_Round"),value:d.Round}])}},[v.responsiveLayout]:{displayName:(0,i.D)("Visual_General_ResponsiveLabel"),description:(0,i.D)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},[v.effectiveBarsPerLevel]:{type:{integer:!0}},[v.barsPerLevel]:{displayName:(0,i.D)("DecompositionTree_BarsPerLevel"),description:(0,i.D)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},[v.defaultClickAction]:{displayName:(0,i.D)("DecompositionTree_DefaultAction"),description:(0,i.D)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("DecompositionTree_DefaultAction_Filter"),value:n.Select},{displayName:(0,i.D)("Collapse"),value:n.Toggle}])}}}},[o.dataBars]:{displayName:(0,i.D)("Visual_Bars_Title"),description:(0,i.D)("Visual_ConditionalFormatting_DataBars"),properties:{[v.positiveBarColor]:{displayName:(0,i.D)("DataBarsDialog_PositiveBar"),description:(0,i.D)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.negativeBarColor]:{displayName:(0,i.D)("DataBarsDialog_NegativeBar"),description:(0,i.D)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.dataBarBackgroundColor]:{displayName:(0,i.D)("DecompositionTree_Formatting_BarBackground"),description:(0,i.D)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},[v.dataBarColor]:{displayName:(0,i.D)("DecompositionTree_DataBarColor"),description:(0,i.D)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},[v.dataBarWidthPercent]:{displayName:(0,i.D)("DecompositionTree_Formatting_DataBarSize"),description:(0,i.D)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},[v.dataBarScalingType]:{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType"),description:(0,i.D)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_TopNode"),value:s.TopNode},{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:s.ParentNode},{displayName:(0,i.D)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:s.LevelMaximum}])}},[v.axisStart]:t.SP.axisStart,[v.axisEnd]:t.SP.axisEnd}},[o.categoryLabels]:{displayName:(0,i.D)("Visual_CategoryLabels"),description:(0,i.D)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:{[v.categoryLabelFontFamily]:t.SP.fontFamily,[v.categoryLabelFontSize]:t.SP.fontSize,[v.categoryLabelBold]:t.SP.bold,[v.categoryLabelItalic]:t.SP.italic,[v.categoryLabelUnderline]:t.SP.underline,[v.categoryLabelFontColor]:t.SP.fontColor}},[o.dataLabels]:{displayName:(0,i.D)("Visual_Tablix_Values"),description:(0,i.D)("DecompositionTree_Formatting_ValueLabels_Description"),properties:{[v.dataLabelFontFamily]:t.SP.fontFamily,[v.dataLabelFontSize]:t.SP.fontSize,[v.dataLabelBold]:t.SP.bold,[v.dataLabelItalic]:t.SP.italic,[v.dataLabelUnderline]:t.SP.underline,[v.dataLabelFontColor]:t.SP.fontColor,[v.dataLabelDisplayUnits]:t.SP.labelDisplayUnits,[v.dataLabelPrecision]:t.SP.labelPrecision}},[o.levelHeader]:{displayName:(0,i.D)("Header_Plural"),description:(0,i.D)("DecompositionTree_Formatting_TreeHeader_Description"),properties:{[v.levelHeaderBackgroundColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},[v.levelTitleFontFamily]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[v.levelTitleFontSize]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,i.D)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},[v.levelTitleBold]:t.SP.bold,[v.levelTitleItalic]:t.SP.italic,[v.levelTitleUnderline]:t.SP.underline,[v.levelTitleFontColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}},[v.showSubtitles]:{displayName:(0,i.D)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,i.D)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},[v.levelSubtitleFontFamily]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},[v.levelSubtitleFontSize]:{displayName:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,i.D)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},[v.levelSubtitleBold]:t.SP.bold,[v.levelSubtitleItalic]:t.SP.italic,[v.levelSubtitleUnderline]:t.SP.underline,[v.levelSubtitleFontColor]:{displayName:(0,i.D)("Generic_Color"),description:(0,i.D)("Generic_Color"),type:{fill:{solid:{color:!0}}}}}},[o.insights]:{properties:{[v.isAINode]:{type:{bool:!0}}}}},drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[l.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[l.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:l.analyze,explainByRole:l.explainBy,enableAIProperty:{objectName:o.analysis,propertyName:v.aiEnabled},highlightedAIMatrixNode:{objectName:o.insights,propertyName:v.isAINode},analysisType:{objectName:o.analysis,propertyName:v.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},576289:function(me,j,e){e.d(j,{bN:function(){return h},du:function(){return v},wD:function(){return o}});var r=e(596920),i=e(147293),a=e(138970),t=e(329332),l=e(629780),g=e(465843),n=e(707897),d=e(317551),s=e(143924),h={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},o=(0,r.cM)(v().objects);function v(m){return{dataRoles:[{name:h.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:1,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:h.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Details"),displayOrder:m?.useModernFormatPane?3:2,description:(0,t.D)("Role_DisplayName_DetailsDonutChartDescription")},{name:h.y,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Values"),displayOrder:m?.useModernFormatPane?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:h.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:s.SP.formatString}},legend:s.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:s.SP.defaultColor,fill:s.SP.fill,fillTransparency:s.SP.genericTransparency,...d.Ml,borderOutlineOnly:s.SP.borderOutlineOnly}},labels:{displayName:(0,t.D)("Visual_DetailLabels"),properties:{show:s.SP.show,...s.Nq,labelDisplayUnits:s.SP.dataLabelDisplayUnits,labelPrecision:{...s.SP.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...s.SP.percentageLabelPrecision,suppressFormatPainterCopy:!0},labelStyle:{displayName:(0,t.D)("Visual_LabelStyle"),type:{enumeration:n.NW}},position:{displayName:(0,t.D)("Visual_DonutLabelPosition"),type:{enumeration:g.NW}},overflow:{displayName:(0,t.D)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,t.D)("Visual_Background"),type:{enumeration:l.NW}}}},slices:{displayName:(0,t.D)("Visual_Shapes"),description:(0,t.D)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,t.D)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,t.D)("Visual_DonutStartAngle"),type:{integer:!0}}}},...(0,s.eT)({callout:!0},!0)},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},annotationTemplates:(0,s.e1)({callout:!0}),grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:a.c.Color},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:a.c.GroupInPlace},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:a.c.Color}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},764367:function(me,j,e){e.d(j,{Vy:function(){return d},Xt:function(){return h}});var r=e(658577),i=e(147293),a=e(329332),t=e(596376),l=e(473453),g=e(143924),n={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"};function d(o){return{dataRoles:s(o&&o.cartesianConditionalFormatting),objects:{general:{displayName:(0,a.D)("Visual_General"),properties:{formatString:g.SP.formatString}},legend:g.rg.legend,dataPoint:{displayName:(0,a.D)("Visual_DataPoint"),description:(0,a.D)("Visual_DataPointDescription"),properties:{defaultColor:g.SP.defaultColor,showAllDataPoints:g.SP.showAllDataPoints,fill:g.SP.defaultCategoryColor,fillRule:{displayName:(0,a.D)("Role_DisplayName_Values"),description:(0,a.D)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:n.gradient,output:{property:"fill",selector:[n.category]}}},transparency:g.SP.genericTransparency}},labels:{displayName:(0,a.D)("Visual_DataPointsLabels"),properties:{show:g.SP.show,color:g.SP.dataColor,labelDisplayUnits:g.SP.labelDisplayUnits,labelPrecision:g.SP.labelPrecision}},categoryLabels:{displayName:(0,a.D)("Visual_CategoryLabels"),properties:{show:g.SP.show}},mapControls:{displayName:(0,a.D)("Visual_MapControls"),description:(0,a.D)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,a.D)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,a.D)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,a.D)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,a.D)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,a.D)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,a.D)("Visual_MapGeocodingCulture"),type:{enumeration:l.NW}}}},mapStyles:{displayName:(0,a.D)("Visual_MapStyles"),description:(0,a.D)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,a.D)("Visual_MapTheme"),type:{enumeration:t.NW}},showLabels:{displayName:(0,a.D)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:g.SP.show,strokeColor:g.SP.genericColor,strokeWidth:g.SP.width}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:n.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:n.series,select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:n.series}},{composite:[{for:{in:n.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[n.category]:{max:1},[n.series]:{max:1,min:1},[n.x]:{max:0},[n.y]:{max:0},[n.gradient]:{max:0},[n.tooltips]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{min:1,max:1},[n.y]:{max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{min:1,max:1},[n.gradient]:{max:0}},{[n.category]:{},[n.series]:{max:1},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:0},[n.tooltips]:{min:1}},{[n.category]:{},[n.series]:{max:0},[n.x]:{max:1},[n.y]:{max:1},[n.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:n.category}}]},columns:{for:{in:n.series}},values:{select:[{bind:{to:n.x}},{bind:{to:n.y}},{bind:{to:n.gradient}},{for:{in:n.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:n.gradient,direction:r.U.Descending}]}},drilldown:{roles:[n.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[n.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!o?.enableCalculationScatterChartMap}}function s(o){var v=[{name:n.category,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Location"),description:(0,a.D)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:n.series,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Legend"),description:(0,a.D)("Role_DisplayName_LegendDescription")},{name:n.y,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Latitude"),description:(0,a.D)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:n.x,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Longitude"),description:(0,a.D)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return o||v.push({name:n.gradient,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Gradient"),description:(0,a.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),v.push({name:n.tooltips,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Tooltips"),description:(0,a.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),v}var h={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},92513:function(me,j,e){e.d(j,{$w:function(){return s},I2:function(){return d},Xk:function(){return n}});var r=e(596920),i=e(147293),a=e(329332),t=e(485033),l=e(962294),g=e(143924),n={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},d=(0,r.cM)(s().objects);function s(h){return{dataRoles:[{name:n.category,kind:i.Ts.Grouping,displayName:(0,a.D)(h?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,a.D)("Role_DisplayName_GroupFunnelDescription")},{name:n.y,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Values"),description:(0,a.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!h?.cartesianConditionalFormatting&&{name:n.gradient,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Gradient"),description:(0,a.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None},{name:n.tooltips,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Tooltips"),description:(0,a.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}].filter(o=>o),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,a.D)("Visual_General"),properties:{formatString:g.SP.formatString}},categoryAxis:{displayName:(0,a.D)("Visual_CategoryLabels"),description:(0,a.D)("Visual_CategoryLabelOptionsDescription"),properties:{...g.Jk}},dataPoint:{displayName:(0,a.D)("Visual_DataPoint"),description:(0,a.D)("Visual_DataPointDescription"),properties:{defaultColor:g.SP.defaultColor,showAllDataPoints:g.SP.showAllDataPoints,fill:g.SP.defaultCategoryColor,fillRule:{displayName:(0,a.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,a.D)("Visual_DataPointsLabels"),description:(0,a.D)("Visual_DataPointsLabelsDescription"),properties:{show:g.SP.show,labelPosition:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:l.O},suppressFormatPainterCopy:!0},labelDisplayUnits:g.SP.dataLabelDisplayUnits,labelPrecision:{...g.SP.labelPrecision,suppressFormatPainterCopy:!0},percentageLabelPrecision:{...g.SP.percentageLabelPrecision,suppressFormatPainterCopy:!0},funnelLabelStyle:{displayName:(0,a.D)("Visual_LabelStyle"),type:{enumeration:t.NW}},...g.Nq,...g.Ed}},percentBarLabel:{displayName:(0,a.D)("Visual_PercentBarLabel"),description:(0,a.D)("Visual_PercentBarLabelDescription"),properties:{show:g.SP.show,...g.Nq}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},449524:function(me,j,e){e.d(j,{u1:function(){return g},uD:function(){return l},y8:function(){return t}});var r=e(147293),i=e(329332),a=e(143924),t={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},l={dataRoles:[{name:t.y,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Value"),description:(0,i.D)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.minValue,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_MinValue"),description:(0,i.D)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.maxValue,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_MaxValue"),description:(0,i.D)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.targetValue,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_TargetValue"),description:(0,i.D)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Tooltips"),description:(0,i.D)("Role_Tooltips_Description"),joinPredicate:r.gD.None}],objects:{general:{properties:{formatString:a.SP.formatString}},axis:{displayName:(0,i.D)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,i.D)("Min"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,i.D)("Max"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,i.D)("Visual_Gauge_Axis_Target"),placeHolderText:(0,i.D)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,i.D)("Visual_DataPoint"),properties:{fill:a.SP.fill,target:{displayName:(0,i.D)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,i.D)("Visual_DataPointsLabels"),properties:{show:a.SP.show,...a.Nq,labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision}},target:{displayName:(0,i.D)("Visual_Gauge_Axis_Target"),properties:{show:a.SP.show,...a.Nq,labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision}},calloutValue:{displayName:(0,i.D)("Visual_Gauge_CalloutValue"),properties:{show:a.SP.show,..._.omit(a.Nq,["fontSize"]),labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision,showDynamicLabels:a.SP.showDynamicLabels,dynamicLabelValue:a.SP.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,supportsDataDrivenAlerts:!0},g={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},352974:function(me,j,e){e.d(j,{cH:function(){return g},t:function(){return l}});var r=e(596920),i=e(329332),a=e(187544),t={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,i.D)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,i.D)("Visual_Image_Scaling_Type"),type:{enumeration:a.K}}}}},l=(0,r.cM)(t),g={objects:t,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},944491:function(me,j,e){e.d(j,{RH:function(){return o},Wx:function(){return d},gR:function(){return h}});var r=e(596920),i=e(147293),a=e(329332),t=e(213550),l=e(384753),g=e(153351),n=e(623132),d={target:"Target",explainBy:"ExplainBy",details:"Details"},s={keyDrivers:{displayName:(0,a.D)("Analysis"),description:(0,a.D)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,a.D)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,a.D)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,a.D)("Visual_KeyDrivers_AllowProfiles"),description:(0,a.D)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,a.D)("Visual_KeyDrivers_NumericAnalysis"),description:(0,a.D)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:g.NW},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,a.D)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,a.D)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,a.D)("KeyDriver_CountType"),description:(0,a.D)("KeyDriver_CountType_Description"),type:{enumeration:l.NW}},selectedAnalysis:{type:{enumeration:t.NW},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:n.NW},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,a.D)("Visual_KeyDriversVisualColors"),description:(0,a.D)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,a.D)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,a.D)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,a.D)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,a.D)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,a.D)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,a.D)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,a.D)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,a.D)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,a.D)("Visual_KeyDriversDrillVisualColors"),description:(0,a.D)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,a.D)("Visual_DefaultColor"),description:(0,a.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,a.D)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,a.D)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},h=(0,r.cM)(s);function o(){return{dataRoles:[{name:d.target,kind:i.Ts.GroupingOrMeasure,kindPreference:i.gs.Grouping,displayName:(0,a.D)("Role_DisplayName_Target"),description:(0,a.D)("Role_DisplayName_TargetDescription")},{name:d.explainBy,kind:i.Ts.GroupingOrMeasure,displayName:(0,a.D)("Role_DisplayName_ExplainBy"),description:(0,a.D)("Role_DisplayName_ExplainByDescription")},{name:d.details,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Details"),description:(0,a.D)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:s,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[{[d.target]:{min:1,max:1}}],table:{rows:{select:[{bind:{to:d.target}},{for:{in:d.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},956437:function(me,j,e){e.d(j,{QQ:function(){return v},VV:function(){return s},Ve:function(){return o},rt:function(){return m}});var r=e(658577),i=e(596920),a=e(147293),t=e(329332),l=e(363051),g=e(796424),n=e(606119),d=e(143924),s={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function h(p){var y=p&&p.useModernFormatPane;return[{name:s.indicator,kind:a.Ts.Measure,displayName:(0,t.D)(y?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,t.D)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:s.trendLine,kind:a.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_KPI_TrendLine"),description:(0,t.D)("Role_DisplayName_KPI_Trendline_Description")},{name:s.goal,kind:a.Ts.Measure,displayName:(0,t.D)(y?"Target":"Role_DisplayName_KPI_Goal"),description:(0,t.D)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function o(p){return{dataRoles:h(p),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:d.SP.formatString}},indicator:{displayName:(0,t.D)("Role_DisplayName_KPI_Indicator"),description:(0,t.D)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,t.D)("Visual_DisplayUnits"),description:(0,t.D)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:d.SP.labelPrecision,...d.j,showIcon:d.SP.showIcon,iconSize:d.SP.iconSize,verticalAlignment:d.SP.verticalAlignment,horizontalAlignment:d.SP.horizontalAlignment}},trendline:{displayName:(0,t.D)("Role_DisplayName_KPI_TrendLine"),description:(0,t.D)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:d.SP.show,transparency:d.SP.genericTransparency}},goals:{displayName:(0,t.D)("Role_DisplayName_KPI_Goals"),description:(0,t.D)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,t.D)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,t.D)("Role_DisplayName_Label"),type:{text:!0}},fontSize:d.SP.fontSize,bold:d.SP.bold,italic:d.SP.italic,underline:d.SP.underline,goalFontFamily:d.SP.fontFamily,goalFontColor:d.SP.fontColor,showDistance:{displayName:(0,t.D)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,t.D)("Role_DisplayName_Label"),type:{enumeration:n.NW}},labelPrecision:d.SP.labelPrecision,titleFontSize:d.SP.fontSize,titleBold:d.SP.bold,titleItalic:d.SP.italic,titleUnderline:d.SP.underline,distanceFontFamily:d.SP.fontFamily,distanceFontColor:d.SP.fontColor,direction:{displayName:(0,t.D)("Visual_KPI_DistanceDirection"),type:{enumeration:g.NW}}}},status:{displayName:(0,t.D)("Role_DisplayName_KPI_Color_Coding"),description:(0,t.D)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,t.D)("Visual_KPI_Direction"),type:{enumeration:l.NW}},goodColor:{displayName:(0,t.D)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,t.D)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,t.D)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,t.D)("ConditionalFormattingDialog_Date"),description:(0,t.D)("Role_DisplayName_KPI_Date_Description"),properties:{show:d.SP.show,..._.omit(d.Nq,["fontFamily","color"]),lastDateFontFamily:d.SP.fontFamily,lastDateFontColor:d.SP.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:r.U.Ascending}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var v=(0,i.cM)(o().objects),m={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},160255:function(me,j,e){e.d(j,{Hx:function(){return y},ZS:function(){return m},bz:function(){return u},dP:function(){return c},kB:function(){return p}});var r=e(785463),i=e(596920),a=e(147293),t=e(329332),l=e(376944),g=e(428749),n=e(653719),d=e(91448),s=e(798122),h=e(228783),o=e(143924),v=e(430794);function m(D,b,T=!1){var M={general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:o.SP.formatString,responsive:o.SP.responsive,responsiveLegacy:o.SP.responsiveLegacy}},legend:{displayName:o.rg.legend.displayName,description:o.rg.legend.description,properties:{...o.rg.legend.properties,legendMarkerRendering:o.SP.legendMarkerRendering,matchLineColor:o.SP.matchLineColor}},subheader:{...o.rg.subheader},[l.xf]:{...o.rg.smallMultiplesLayout},categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:o.SP.show,...o.YO,...o.WI,...o.po,...(0,o.Jx)("x"),...o.hL,...(D&&b||T)&&{reverseStackOrder:o.SP.reverseStackOrder}}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:o.SP.show,...o.e6,...o.po,...(0,o.Jx)("y"),...o.hL,switchAxisPosition:o.SP.switchAxisPosition}},y2Axis:{displayName:(0,t.D)("Visual_Y2Axis"),properties:{show:o.SP.show,..._.omit(o.rv,["alignZeros","switchAxisPosition","secShow"])}},zoom:{displayName:o.rg.zoom.displayName,properties:{...o.rg.zoom.properties,...o.Wd.zoom.properties}},dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,t.D)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:o.SP.defaultColor,fill:o.SP.genericColor,showAllDataPoints:o.SP.showAllDataPoints}},layout:{displayName:(0,t.D)("Layout"),properties:{...(D&&b||T)&&{seriesOrderReversed:o.SP.seriesOrderReversed}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:o.SP.show,showByDefault:o.SP.boolWithoutDescription,showSeries:o.SP.show,showAll:o.SP.labelSeriesShowAll,...o.UC,maximumOffset:o.SP.maximumOffset,minimumOffset:o.SP.minimumOffset,...o.Ed,...o.xy,...o.VO,...o.CQ,...o.z9,labelContentLayout:o.SP.labelContentLayout,horizontalAlignment:o.SP.horizontalAlignment,leaderLines:o.SP.leaderLines,...(!D||T)&&(0,o.Sd)(o.AD)}},...(D||T)&&{totals:o.rg.totals},seriesLabels:o.rg.seriesLabels,lineStyles:{displayName:(0,t.D)("Visual_Shapes"),description:(0,t.D)("Visual_ShapesDescription"),properties:{...(0,o.Sd)({strokeShow:"strokeShow",strokeWidth:"strokeWidth",strokeColor:void 0,strokeTransparency:"strokeTransparency",strokePattern:"lineStyle",strokeLineJoin:"strokeLineJoin",strokeAutoScale:"strokeAutoScale",strokeDashArray:"strokeDashArray",strokeDashCap:"strokeDashCap"}),showMarker:o.SP.show,markerShape:o.SP.markerShape,markerSize:o.SP.markerSize,markerColor:o.SP.genericColor,showMarkerByDefault:o.SP.boolWithoutDescription,showSeries:o.SP.labelSeriesShowAll,...C({interpolation:"lineChartType"}),areaShow:{displayName:(0,t.D)("Visual_Shapes_ShadeArea"),type:{bool:!0}},areaColor:o.SP.genericColor,areaMatchStrokeColor:o.SP.matchLineColor}},markers:o.rg.markers,plotArea:o.rg.plotArea,trend:(0,o.o4)(!0),scalarKey:{properties:{min:{type:{dateTime:!0}}}},[h.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line_Y"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:a.i8.Analytics,suppressFormatPainterCopy:!0,properties:o.k4},[h.wn.x]:{displayName:(0,t.D)("Visual_Reference_Line_X"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:a.i8.Analytics,suppressFormatPainterCopy:!0,properties:o.T2},...(!D||T)&&{[h.wn.generic]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:a.i8.Analytics,suppressFormatPainterCopy:!0,properties:o.k4}},...(!D&&!b||T)&&{error:{...o.rg.error},forecast:{displayName:(0,t.D)("Visual_Forecast"),objectCategory:a.i8.Analytics,suppressFormatPainterCopy:!0,properties:{displayName:{displayName:(0,t.D)("Name"),description:(0,t.D)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},...(0,o.Sd)(o.UX),...o.ZA,...o.yZ,matchSeriesInterpolation:{displayName:(0,t.D)("Visual_MatchSeriesInterpolation"),type:{bool:!0}},...C(),transform:{type:{queryTransform:{}}}}}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}},...(0,o.eT)({callout:!0},!0)};return delete M.categoryAxis.properties.innerPadding,M}var p=(0,i.cM)(m(!0,!0,!0));function y(D,b,T){var M=T&&T.useModernFormatPane;r.Y.assert(()=>!D||b,"Non-area stacked line is not supported");var V=m(D,b,void 0),w=[{name:h.Cl.Category,kind:a.Ts.Grouping,displayName:(0,t.D)(M?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,t.D)("Role_DisplayName_AxisDescription"),cartesianKind:a.Xk.X},{name:h.Cl.Series,kind:a.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),displayOrder:M?4:2,description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:h.Cl.Y,kind:a.Ts.Measure,displayName:(0,t.D)(M?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:M?2:3,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:a.Xk.Y}];D||w.push({name:h.Cl.Y2,kind:a.Ts.Measure,displayName:(0,t.D)(M?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:M?3:4,description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:a.Xk.Y}),w.push({name:h.Cl.Rows,kind:a.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,t.D)("Role_DisplayName_SmallMultiples_Description"),disallowedWithVisualCalculations:!0}),w.push({name:h.Cl.Tooltips,kind:a.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:a.gD.None});var F,P={dataRoles:w,objects:V,dataViewMappings:[(F={conditions:[{[h.Cl.Series]:{max:0},[h.Cl.Rows]:{min:1}},{[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:1},[h.Cl.Rows]:{min:1}},{[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:0},[h.Cl.Rows]:{min:1}}],matrix:{rows:{select:[{composite:[{for:{in:h.Cl.Rows}}],dataReductionAlgorithm:{window:{count:l.zS}}},{composite:[{for:{in:h.Cl.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:h.Cl.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:h.Cl.Y}},{for:{in:h.Cl.Tooltips}}]},dataVolume:6}},D||S(F),F),function(){var F={conditions:[{[h.Cl.Series]:{max:0},[h.Cl.Rows]:{max:0}},{[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:1},[h.Cl.Rows]:{max:0}},{[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:0},[h.Cl.Rows]:{max:0}}],categorical:{categories:{for:{in:h.Cl.Category}},values:{group:{by:h.Cl.Series,select:[{for:{in:h.Cl.Y}},{for:{in:h.Cl.Tooltips}}]}}}};return D?function(D){r.Y.assertValue(D,"mapping"),r.Y.assertValue(D.categorical,"categorical mapping");var b=D.categorical;b.dataReductionAlgorithm=void 0,b.categories.dataReductionAlgorithm={sample:{}},b.values.group.dataReductionAlgorithm={top:{}}}(F):function(D){if(r.Y.assertValue(D,"mapping"),D.categorical){var b=D.categorical;b.dataReductionAlgorithm={binnedLineSample:{}},b.categories.dataReductionAlgorithm=void 0,b.values.group.dataReductionAlgorithm=void 0}else D.matrix&&r.Y.assertFail("Binned sampling not supported in this configuration")}(F),D||S(F),F}(),{conditions:[{[h.lP.rows]:{max:0},[h.Cl.Series]:{max:0}},{[h.lP.rows]:{max:0},[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:1},[h.Cl.Y2]:{max:0}},{[h.lP.rows]:{max:0},[h.Cl.Series]:{min:1,max:1},[h.Cl.Y]:{max:0},[h.Cl.Y2]:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[{[h.lP.rows]:{max:0},[h.Cl.Series]:{max:0},[h.Cl.Category]:{min:1},[h.Cl.Y]:{min:1,max:1},[h.Cl.Y2]:{max:0}}],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:h.Cl.Category}},values:{group:{by:h.Cl.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[{[h.Cl.Rows]:{max:0},[h.Cl.Series]:{max:0},[h.Cl.Category]:{min:1},[h.Cl.Y]:{min:1,max:1},[h.Cl.Y2]:{max:0}}],requiredProperties:[{objectName:g.Fn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:h.Cl.Category}},values:{group:{by:h.Cl.Series,select:[{for:{in:g.lw.ExpectedValue}},{for:{in:g.lw.ExpectedLow}},{for:{in:g.lw.ExpectedHigh}},{for:{in:g.lw.RawScore}},{for:{in:g.lw.Anomaly}},{for:{in:g.lw.BatchStart}},{for:{in:g.lw.BatchEnd}}]}}}}],sorting:{default:{}},drilldown:{roles:[h.Cl.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[h.Cl.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:g.AL}},expandAndSort:[h.Cl.Category],supportsOnObjectFormatting:!0,annotationTemplates:(0,o.e1)({callout:!0})};return!D&&!b&&T&&T.daxTransformEnabled&&(P.objects[g.Fn]={displayName:(0,t.D)("Visual_AnomalyDetection"),objectCategory:a.i8.Analytics,suppressFormatPainterCopy:!0,properties:{[g.In.showAnomalies]:o.SP.show,[g.In.displayName]:{displayName:(0,t.D)("Name"),description:(0,t.D)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},[v.mx.show]:o.SP.show,[v.mx.shape]:{displayName:(0,t.D)("Type"),description:(0,t.D)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:n.N0}},[v.mx.size]:o.SP.markerSize,[v.mx.color]:o.SP.genericColor,[v.mx.transparency]:o.SP.genericTransparency,[v.mx.rotation]:o.SP.genericRotation,...(0,o.Sd)(v.mx),[g.In.confidenceBandShow]:o.SP.show,[g.In.confidenceBandStyle]:{displayName:(0,t.D)("Style"),description:(0,t.D)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:d.Kl}},[g.In.confidenceBandTransparency]:o.SP.genericTransparency,[g.In.confidenceBandColor]:o.SP.genericColor,[g.wj.CategoryValue]:{type:{dateTime:!0}},[g.wj.Value]:{type:{numeric:!0}},[g.wj.ExpectedValue]:{type:{numeric:!0}},[g.wj.ExpectedLow]:{type:{numeric:!0}},[g.wj.ExpectedHigh]:{type:{numeric:!0}},[g.wj.BatchStart]:{type:{dateTime:!0}},[g.wj.BatchEnd]:{type:{dateTime:!0}},transform:{type:{queryTransform:{}}},[g.In.explainBy]:{type:{exprList:{}}},[g.In.isAnomalyHighlighted]:{type:{bool:!0}}}}),P}function S(D){var b;_.find(D.conditions,T=>_.isEqual(T[h.Cl.Series],{min:1,max:1})&&_.isEqual(T[h.Cl.Y],{max:1}))[h.Cl.Y2]={max:0},_.find(D.conditions,T=>_.isEqual(T[h.Cl.Series],{min:1,max:1})&&_.isEqual(T[h.Cl.Y],{max:0}))[h.Cl.Y2]={max:1},D.categorical?b=D.categorical.values.group.select:D.matrix&&(b=D.matrix.values.select),b.splice(1,0,{for:{in:h.Cl.Y2}})}function C(D={}){var{interpolation:b="interpolation",interpolationStep:T="interpolationStep",interpolationSmooth:M="interpolationSmooth",interpolationSmoothParam:V="interpolationSmoothParam"}=D;return{[b]:{displayName:(0,t.D)("Visual_Interpolation"),description:(0,t.D)("Visual_InterpolationDescription"),type:{enumeration:s.rv}},[T]:{displayName:(0,t.D)("Visual_SteppedPosition"),type:{enumeration:s.vC}},[M]:{displayName:(0,t.D)("Visual_SmoothType"),type:{enumeration:s.ZV}},[V]:{displayName:(0,t.D)("Visual_LineInterp_Tension"),type:{numeric:!0}}}}var u={dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},layout:{seriesOrderReversed:{objectName:"layout",propertyName:"seriesOrderReversed"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},legend:{legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"},horizontalAlignment:{objectName:"labels",propertyName:"horizontalAlignment"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},leaderLineColor:{objectName:"labels",propertyName:"leaderLineColor"},leaderLineTransparency:{objectName:"labels",propertyName:"leaderLineTransparency"},leaderLineWidth:{objectName:"labels",propertyName:"leaderLineWidth"},leaderLinePattern:{objectName:"labels",propertyName:"leaderLinePattern"},leaderLineDashArray:{objectName:"labels",propertyName:"leaderLineDashArray"},leaderLineDashCap:{objectName:"labels",propertyName:"leaderLineDashCap"},leaderLineAutoScale:{objectName:"labels",propertyName:"leaderLineAutoScale"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},markers:{show:{objectName:"lineStyles",propertyName:"showMarker"},shape:{objectName:"lineStyles",propertyName:"markerShape"},size:{objectName:"lineStyles",propertyName:"markerSize"},color:{objectName:"lineStyles",propertyName:"markerColor"},...o.vb},lineStyles:{areaShow:{objectName:"lineStyles",propertyName:"areaShow"},areaTransparency:{objectName:"dataPoint",propertyName:"transparency"},areaColor:{objectName:"lineStyles",propertyName:"areaColor"},areaMatchStrokeColor:{objectName:"lineStyles",propertyName:"areaMatchStrokeColor"},strokeShow:{objectName:"lineStyles",propertyName:"strokeShow"},strokeColor:{objectName:"dataPoint",propertyName:"fill"},strokeTransparency:{objectName:"lineStyles",propertyName:"strokeTransparency"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},strokePattern:{objectName:"lineStyles",propertyName:"lineStyle"},strokeDashArray:{objectName:"lineStyles",propertyName:"strokeDashArray"},strokeDashCap:{objectName:"lineStyles",propertyName:"strokeDashCap"},strokeAutoScale:{objectName:"lineStyles",propertyName:"strokeAutoScale"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},interpolation:{objectName:"lineStyles",propertyName:"lineChartType"},interpolationStep:{objectName:"lineStyles",propertyName:"interpolationStep"},interpolationSmooth:{objectName:"lineStyles",propertyName:"interpolationSmooth"},interpolationSmoothParam:{objectName:"lineStyles",propertyName:"interpolationSmoothParam"}}};function c(D,b){if(r.Y.assertValue(D,"mapping"),D.categorical){var T=D.categorical;if(!T)return;T.dataReductionAlgorithm=void 0,T.categories.dataReductionAlgorithm={window:{count:200}},T.values.group.dataReductionAlgorithm={top:{count:60}}}else b&&(0,l.bV)(D)&&(D.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},188295:function(me,j,e){e.d(j,{$J:function(){return o},FP:function(){return h},rr:function(){return y}});var r=e(658577),i=e(147293),a=e(138970),t=e(329332),l=e(596376),g=e(229353),n=e(473453),d=e(550995),s=e(143924),h={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function o(S){return{dataRoles:v(S&&S.cartesianConditionalFormatting,S&&S.useModernFormatPane),objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:s.SP.formatString}},legend:s.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:s.SP.defaultColor,showAllDataPoints:s.SP.showAllDataPoints,fill:s.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:h.gradient,output:{property:"fill",selector:[h.category,h.x,h.y]}}},transparency:s.SP.genericTransparency}},categoryLabels:{displayName:(0,t.D)("Visual_CategoryLabels"),description:(0,t.D)("Visual_CategoryLabelsDescription"),properties:{...s.Jk,...s.Ed}},bubbles:{displayName:(0,t.D)("Visual_Bubbles"),description:(0,t.D)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,t.D)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,t.D)("Visual_MarkerRangeType"),type:{enumeration:d.hQ}}}},mapControls:{displayName:(0,t.D)("Visual_MapControls"),description:(0,t.D)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,t.D)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,t.D)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,t.D)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,t.D)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,t.D)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,t.D)("Visual_MapGeocodingCulture"),type:{enumeration:n.NW}}}},mapStyles:{displayName:(0,t.D)("Visual_MapStyles"),description:(0,t.D)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,t.D)("Visual_MapTheme"),type:{enumeration:l.NW}},showLabels:{displayName:(0,t.D)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,t.D)("Visual_HeatMap"),properties:{show:s.SP.show,filterRadius:{displayName:(0,t.D)("Visual_Radius"),type:{numeric:!0}},transparency:s.SP.backgroundTransparency,unit:{displayName:(0,t.D)("Visual_Forecast_Parameter_Units"),type:{enumeration:g.NW}},color0:{displayName:(0,t.D)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,t.D)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,t.D)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,min:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.Ts.Measure},Y:{max:1,kind:i.Ts.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:h.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:h.series,select:[{bind:{to:h.x}},{bind:{to:h.y}},{bind:{to:h.size}},{bind:{to:h.gradient}},{for:{in:h.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:h.x}},{bind:{to:h.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:h.series,select:[{bind:{to:h.size}},{bind:{to:h.gradient}},{for:{in:h.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:h.series}},{composite:[{for:{in:h.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:i.Ts.Grouping},Y:{max:1,kind:i.Ts.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:h.series}},{composite:[{bind:{to:h.x}},{bind:{to:h.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:h.tooltips}},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{[h.category]:{max:1,min:1},[h.series]:{max:1,min:1},[h.x]:{max:0},[h.y]:{max:0},[h.size]:{max:0},[h.gradient]:{max:0},[h.tooltips]:{max:0}},{[h.category]:{min:1},[h.series]:{max:1},[h.x]:{max:1,kind:i.Ts.Measure},[h.y]:{max:1,kind:i.Ts.Measure},[h.size]:{max:1,min:1},[h.gradient]:{max:0}},{[h.category]:{min:1},[h.series]:{max:1},[h.x]:{max:1,min:1,kind:i.Ts.Measure},[h.y]:{max:1,kind:i.Ts.Measure},[h.size]:{max:1},[h.gradient]:{max:0}},{[h.category]:{min:1},[h.series]:{max:1},[h.x]:{max:1,kind:i.Ts.Measure},[h.y]:{max:1,min:1,kind:i.Ts.Measure},[h.size]:{max:1},[h.gradient]:{max:0}},{[h.category]:{min:1},[h.series]:{max:1},[h.x]:{max:1,kind:i.Ts.Measure},[h.y]:{max:1,kind:i.Ts.Measure},[h.size]:{max:1},[h.gradient]:{max:0},[h.tooltips]:{min:1}},{[h.category]:{min:1},[h.series]:{max:0},[h.x]:{max:1,kind:i.Ts.Measure},[h.y]:{max:1,kind:i.Ts.Measure},[h.size]:{max:1},[h.gradient]:{max:1}}],matrix:{rows:{select:[{bind:{to:h.category}}]},columns:{for:{in:h.series}},values:{select:[{bind:{to:h.x}},{bind:{to:h.y}},{bind:{to:h.size}},{for:{in:h.tooltips}}]}}},{conditions:[{[h.category]:{max:0},[h.series]:{max:1,min:1},[h.x]:{max:1,kind:i.Ts.Grouping},[h.y]:{max:1,kind:i.Ts.Grouping},[h.size]:{max:0},[h.gradient]:{max:0},[h.tooltips]:{}},{[h.category]:{max:0},[h.series]:{max:1},[h.x]:{max:1,kind:i.Ts.Grouping},[h.y]:{max:1,kind:i.Ts.Grouping},[h.size]:{max:1,min:1},[h.gradient]:{max:0}},{[h.category]:{max:0},[h.series]:{max:0},[h.x]:{max:1,kind:i.Ts.Grouping},[h.y]:{max:1,kind:i.Ts.Grouping},[h.size]:{max:1},[h.gradient]:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:h.x}},{for:{in:h.y}}]}]},columns:{for:{in:h.series}},values:{select:[{bind:{to:h.size}},{for:{in:h.tooltips}}]}}}],sorting:{custom:{},implicit:{clauses:[{role:h.size,direction:r.U.Descending}]}},drilldown:{roles:[h.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:h.series,kind:a.c.Color}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[h.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!S?.enableCalculationScatterChartMap}}function v(S,C){var u=[{name:h.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Location"),description:(0,t.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:h.series,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:h.y,kind:i.Ts.GroupingOrMeasure,displayName:(0,t.D)("Role_DisplayName_Latitude"),description:(0,t.D)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:i.Xk.Y},{name:h.x,kind:i.Ts.GroupingOrMeasure,displayName:(0,t.D)("Role_DisplayName_Longitude"),description:(0,t.D)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:i.Xk.X},{name:h.size,kind:i.Ts.Measure,displayName:(0,t.D)(C?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,t.D)(C?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return S||u.push({name:h.gradient,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None}),u.push({name:h.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}),u}var y={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},971938:function(me,j,e){e.d(j,{K5:function(){return t},fY:function(){return l},wf:function(){return a}});var r=e(981265),i=e(653234);function a(g){var n=g.dataViewMappings[0];if(n.categorical){var s,d=n.categorical.categories;if(d.select&&(s=n.categorical.values,_.isEmpty(s.group.select[0].bind.to.items))){d.dataReductionAlgorithm=void 0,s.group.dataReductionAlgorithm=void 0;var o={},v=_.find(d.select,y=>"X"===y.bind.to.role),m=_.find(d.select,y=>"Y"===y.bind.to.role);o.x=v?{role:v.bind.to}:void 0,o.y=m?{role:m.bind.to}:void 0,n.categorical.dataReductionAlgorithm={overlappingPointsSample:o}}(!s||_.isEmpty(s.group.by.items))&&n.metadata&&n.metadata.objects&&n.metadata.objects.heatMap&&n.metadata.objects.heatMap.show&&(n.categorical.dataVolume=5)}}function t(g,n){if(g&&n)for(var d of n)if(d.categorical&&d.categorical.categories&&d.categorical.categories.select&&!g.Size&&g.Series)return!0}function l(g){return(0,i.JO)(g,r.Nz.Cartesian)}},418310:function(me,j,e){e.d(j,{o:function(){return t},w:function(){return l}});var r=e(147293),i=e(329332),a=e(143924),t={rows:"Rows",columns:"Columns",values:"Values"},l={dataRoles:[{name:t.rows,kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Rows"),description:(0,i.D)("Role_DisplayName_RowsDescription")},{name:t.columns,kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Columns"),description:(0,i.D)("Role_DisplayName_ColumnsDescription")},{name:t.values,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:a.SP.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,i.D)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,i.D)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.D)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.D)("Visual_Grid"),properties:{outlineColor:a.SP.outlineColor,outlineWeight:a.SP.outlineWeight,gridVertical:{displayName:(0,i.D)("Visual_GridVertical"),description:(0,i.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.D)("Visual_GridVertical_Color"),description:(0,i.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.D)("Visual_GridVertical_Weight"),description:(0,i.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.D)("Visual_GridHorizontal"),description:(0,i.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.D)("Visual_GridHorizontal_Color"),description:(0,i.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.D)("Visual_GridHorizontal_Weight"),description:(0,i.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.D)("Visual_RowPadding"),description:(0,i.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.D)("Visual_Tablix_ImageHeight"),description:(0,i.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor}},rowHeaders:{displayName:(0,i.D)("Visual_Tablix_RowHeaders"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor,wordWrap:a.SP.wordWrap}},values:{displayName:(0,i.D)("Visual_Tablix_Values"),properties:{outline:a.SP.outline,backColor:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.D)("Visual_FontColor"),description:(0,i.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.D)("Visual_Tablix_FontColorSecondary"),description:(0,i.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.D)("Visual_Tablix_BackColorSecondary"),description:(0,i.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,i.D)("Visual_Tablix_TotalSub"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor}},total:{displayName:(0,i.D)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor,applyToHeaders:{displayName:(0,i.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor,styleHeader:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.columns],displayName:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,i.D)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.rows],displayName:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,i.D)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},55682:function(me,j,e){e.d(j,{U:function(){return n},_B:function(){return d},vC:function(){return g}});var r=e(596920),i=e(147293),a=e(329332),t=e(143924),l={general:{properties:{formatString:t.SP.formatString}},dataLabels:{displayName:(0,a.D)("Visual_DataPointsLabels"),description:(0,a.D)("Visual_DataPointsLabelsDescription"),properties:{...t.Nq}},categoryLabels:{displayName:(0,a.D)("Visual_CategoryLabels"),description:(0,a.D)("Visual_CategoryLabelsDescription"),properties:{...t.Jk}},cardTitle:{displayName:(0,a.D)("Visual_CardTitle"),description:(0,a.D)("Visual_CardTitleDescription"),properties:{...t.Nq}},card:{displayName:(0,a.D)("Card_ToolTip"),properties:{...t.ac,barShow:{displayName:(0,a.D)("Visual_MultiRowCard_BarShow"),description:(0,a.D)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,a.D)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,a.D)("Visual_MultiRowCard_BarWeight"),description:(0,a.D)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,a.D)("Visual_Padding"),description:(0,a.D)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,a.D)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},g=(0,r.cM)(l),n={dataRoles:[{name:"Values",kind:i.Ts.GroupingOrMeasure,displayName:(0,a.D)("Role_DisplayName_Fields"),description:(0,a.D)("Role_DisplayName_FieldsDescription")}],objects:l,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!0,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},d={card:{outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},653234:function(me,j,e){e.d(j,{JO:function(){return o},UF:function(){return s},ao:function(){return S},mI:function(){return m},pO:function(){return g},ss:function(){return h}});var r=e(981265),i=e(770380),a=e(228783),t=e(956437),l=e(149178);function g(C){return(0,l.OB)(C)&&C.for?d(C.for.in,r.gT.Value):(0,l.Cw)(C)&&C.bind?d(C.bind.to,r.gT.Value):void 0}function n(C){return C&&C.scalarKeyInfo&&C.scalarKeyInfo.hasScalarKey||(0,i.GA)(C&&C.type)?r.gT.ContinuousCategory:r.gT.DiscreteCategory}function d(C,u){var E=[];if(!C||C.role===a.lP.tooltips||_.isEmpty(C.items))return E;var c=C.activeItems;for(var f of C.items)if(!_.some(c)||_.includes(c,f.queryName)){var D=r.Ez.None;C.role===t.VV.goal&&(D=r.Ez.TargetValue),E.push({selectName:f.queryName,kind:u,roleKind:D})}return E}function s(C){var c,u=[],E=C.categorical.categories;return(0,l.OB)(E)&&E.for&&E.for.in&&(c=n(_.first(E.for.in.items)),u.push(...d(E.for.in,c))),u}function h(C){var u=[],E=C.categorical.values;if(E&&E.group){var c=E.group;if(u.push(...d(c.by,r.gT.DiscreteCategory)),c.select)for(var f of c.select){var D=g(f);_.isEmpty(D)||u.push(...D)}}if(E&&E.select)for(var b of E.select){var T=g(b);_.isEmpty(T)||u.push(...T)}return u}function o(C,u){var E=_.first(C.dataViewMappings);if(!E||!E.categorical||!E.categorical.categories)return{subjectKind:u,error:r.ZX.NoValidBindings,bindings:void 0};var c=s(E);return c.push(...h(E)),_.isEmpty(c)?{subjectKind:u,error:r.ZX.NoValidBindings,bindings:void 0}:{subjectKind:u,error:void 0,bindings:c}}function m(C,u){var E=function(C){var u=[],E=C.rows,c=[],f=[];for(var D of E.select)if((0,l.Cw)(D)&&D.bind&&D.bind.to){var T=n(_.first(D.bind.to.items));f.push(...d(D.bind.to,T))}else if((0,l.mO)(D)&&D.composite&&D.composite)for(var M of D.composite)if((0,l.OB)(M)&&M.for&&M.for.in){var w=n(_.first(M.for.in.items));c.push(...d(M.for.in,w))}u.push(...c),u.push(...f);var P=C.values;if(P&&P.select)for(var N of P.select){var I=g(N);_.isEmpty(I)||u.push(...I)}return u}(C);return _.isEmpty(E)?{subjectKind:u,error:r.ZX.NoValidBindings,bindings:void 0}:{subjectKind:u,error:void 0,bindings:E}}function p(C){var u=[],E=C.activeItems;for(var c of C.items)if(!_.some(E)||_.includes(E,c.queryName)){var f=r.Ez.None;switch(C.role){case"MinValue":f=r.Ez.MinimumValue;break;case"MaxValue":f=r.Ez.MaximumValue;break;case"TargetValue":f=r.Ez.TargetValue}u.push({selectName:c.queryName,kind:r.gT.Value,roleKind:f})}return u}function y(C,u){var E=[];if(!C||!u)return E;var c,f=r.gT.None,D=r.Ez.None;switch(C.role){case"MinValue":u.min&&(c=u.min.toString(),f=r.gT.ConstantValue,D=r.Ez.MinimumValue);break;case"MaxValue":u.max&&(c=u.max.toString(),f=r.gT.ConstantValue,D=r.Ez.MaximumValue);break;case"TargetValue":u.target&&(c=u.target.toString(),f=r.gT.ConstantValue,D=r.Ez.TargetValue)}return c&&E.push({selectName:c,kind:f,roleKind:D}),E}function S(C){var u=[];if(!C||!C.categorical||!C.categorical.values)return u;var E=C.categorical.values;if(!E||!E.select)return u;for(var c of E.select)if((0,l.Cw)(c)&&c.bind){var f=c.bind.to;f&&f.items?u.push(...p(f)):f&&void 0===f.items&&C.metadata&&C.metadata.objects&&C.metadata.objects.axis&&u.push(...y(f,C.metadata.objects.axis))}return u}},122454:function(me,j,e){e.d(j,{Ho:function(){return m},JZ:function(){return s},OK:function(){return v},Qv:function(){return d},WT:function(){return D},Xr:function(){return b},ei:function(){return h},iI:function(){return c},iM:function(){return g},j4:function(){return n},mO:function(){return p},ph:function(){return o}});var r=e(329332),i=e(599003),a=e(143924),t=e(160990),l=e(66456),g={fill:l.Ct.fill,outline:l.Ct.outline,text:t.GA.text,shape:l.Ct.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:l.Ct.shadow,glow:l.Ct.glow,accentBar:l.Ct.accentBar,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n={...g,pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}},d={...g,bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}},s={fill:l.X7.fill,outline:l.X7.outline,text:t.pP.text,shape:l.X7.shape,layout:"layout",shadow:l.X7.shadow,glow:l.X7.glow,accentBar:l.X7.accentBar,rotation:"rotation"},h={...s,pages:"pages"},o={...s,bookmarks:"bookmarks"},v={...l.K9,...t.q,orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"},m={...v,showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"},p={...v,bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"},y={show:a.SP.show,[l.K9.fillColor]:a.SP.fill,[l.K9.fillTransparency]:a.SP.backgroundTransparency},S={show:a.SP.show,...a.j,[t.q.textVerticalAlignment]:a.SP.verticalAlignment,[t.q.textHorizontalAlignment]:a.SP.horizontalAlignment,[t.q.textLeftMargin]:{displayName:(0,r.D)("Visual_Margin_Left"),type:{integer:!0}},[t.q.textRightMargin]:{displayName:(0,r.D)("Visual_Margin_Right"),type:{integer:!0}},[t.q.textTopMargin]:{displayName:(0,r.D)("Visual_Margin_Top"),type:{integer:!0}},[t.q.textBottomMargin]:{displayName:(0,r.D)("Visual_Margin_Bottom"),type:{integer:!0}}},C={[v.orientation]:{displayName:(0,r.D)("Slicer_Orientation"),type:{enumeration:i.wl}},[v.rowCount]:{displayName:(0,r.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[v.columnCount]:{displayName:(0,r.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[v.cellPadding]:{displayName:(0,r.D)("Visual_Padding"),type:{integer:!0}}},u={[m.showHiddenPages]:{displayName:(0,r.D)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},[m.showTooltipPages]:{displayName:(0,r.D)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},[m.showByDefault]:{displayName:(0,r.D)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},[m.showPage]:{displayName:(0,r.D)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0}},E={[p.bookmarkGroup]:{displayName:(0,r.D)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},[p.allowDeselectionBookmark]:{displayName:(0,r.D)("Visual_AllowDeselection"),description:(0,r.D)("Visual_AllowDeselection_Description"),type:{bool:!0}},[p.deselectionBookmark]:{displayName:(0,r.D)("Visual_LaunchOnDeselection"),description:(0,r.D)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},[p.hideDeselectedBookmark]:{displayName:(0,r.D)("Visual_HideDeselectionBookmark"),description:(0,r.D)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},[p.selectedBookmark]:{type:{text:!0}}},c={default:"default",hover:"hover",press:"press",selected:"selected"},f={[s.fill]:{displayName:(0,r.D)("Visual_Fill"),properties:y},[s.outline]:l.ZX.outline,[s.text]:{displayName:(0,r.D)("Text"),properties:S},[s.shape]:l.ZX.shape,[s.layout]:{displayName:(0,r.D)("Small_Multiples_Layout"),properties:C},[s.shadow]:l.ZX.shadow,[s.glow]:l.ZX.glow,[s.accentBar]:l.ZX.accentBar,[s.rotation]:{displayName:(0,r.D)("Visual_BasicShape_Rotate"),properties:{[v.rotation]:a.SP.genericRotation,[v.shapeRotation]:a.SP.shapeRotation,[v.textRotation]:a.SP.textRotation}}},D={objects:{...f,[h.pages]:{displayName:(0,r.D)("Pages"),properties:u}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},b={objects:{...f,[o.bookmarks]:{displayName:(0,r.D)("ExplorationBookmarksPane_Title"),properties:E}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},90813:function(me,j,e){e.d(j,{N:function(){return o},h:function(){return h}});var r=e(596920),i=e(147293),a=e(329332),t=e(485697),l=e(471740),g=e(254595),n=e(253172),d=e(143924),s=e(418310);function h(v){return{dataRoles:[{name:s.o.rows,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Rows"),description:(0,a.D)("Role_DisplayName_RowsDescription")},{name:s.o.columns,kind:i.Ts.Grouping,displayName:(0,a.D)("Role_DisplayName_Columns"),description:(0,a.D)("Role_DisplayName_ColumnsDescription")},{name:s.o.values,kind:i.Ts.Measure,displayName:(0,a.D)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,a.D)("Visual_General"),properties:{formatString:d.SP.formatString,layout:{displayName:(0,a.D)("Layout"),type:{enumeration:l.R}}}},grid:{displayName:(0,a.D)("Visual_Grid"),properties:{...d.ac,gridVertical:{displayName:(0,a.D)("Visual_GridVertical"),description:(0,a.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,a.D)("Visual_GridVertical_Color"),description:(0,a.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,a.D)("Visual_GridVertical_Weight"),description:(0,a.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,a.D)("Visual_GridHorizontal"),description:(0,a.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,a.D)("Visual_GridHorizontal_Color"),description:(0,a.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,a.D)("Visual_GridHorizontal_Weight"),description:(0,a.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,a.D)("Visual_RowPadding"),description:(0,a.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,a.D)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,a.D)("Visual_General_Properties_Height"),description:(0,a.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,a.D)("Visual_General_Properties_Width"),description:(0,a.D)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,a.D)("Visual_Tablix_ColumnHeaders"),properties:{...d.ac,...d.Hp,alignment:d.SP.textAlignment,titleAlignment:{displayName:(0,a.D)("Visual_TextAlignment_Title"),type:{enumeration:n.O}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,a.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,a.D)("Visual_Tablix_UrlIcon"),description:(0,a.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:d.SP.wordWrap}},rowHeaders:{displayName:(0,a.D)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},...d.ac,...d.Hp,alignment:d.SP.textAlignment,stepped:{displayName:(0,a.D)("Visual_PivotTable_SteppedLayout"),description:(0,a.D)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,a.D)(v?.matrixLayouts?"Visual_PivotTable_Indentation":"Visual_PivotTable_SteppedLayoutIndentation"),description:(0,a.D)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,a.D)("Visual_Tablix_UrlIcon"),description:(0,a.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:d.SP.wordWrap,showExpandCollapseButtons:{displayName:(0,a.D)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,a.D)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,a.D)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}},repeatRowHeaders:{displayName:(0,a.D)("Visual_RepeatRowHeaders"),type:{bool:!0}},legacyStyleDisabled:{type:{bool:!0}}}},values:{displayName:(0,a.D)("Visual_Tablix_Values"),properties:{...d.ac,...d.Hp,backColor:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,a.D)("Visual_Tablix_FontColorSecondary"),description:(0,a.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,a.D)("Visual_Tablix_BackColorSecondary"),description:(0,a.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,a.D)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,a.D)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,a.D)("Visual_Tablix_UrlIcon"),description:(0,a.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:d.SP.wordWrap,valuesOnRow:{displayName:(0,a.D)("Visual_PivotTable_ValuesOnRow"),description:(0,a.D)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,a.D)("Visual_Tablix_Icons"),description:(0,a.D)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,a.D)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,a.D)("Visual_Tablix_TotalSub"),properties:{...d.Hp,rowSubtotals:{type:{bool:!0},displayName:(0,a.D)("Visual_SubtotalRow"),description:(0,a.D)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,a.D)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,a.D)("Visual_SubtotalRow_Position"),type:{enumeration:g.NW},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,a.D)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,a.D)("Visual_SubtotalColumn"),description:(0,a.D)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,a.D)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,a.D)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,a.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,a.D)("Visual_Tablix_Matrix_TotalGrand"),properties:{...d.Hp,applyToHeaders:{displayName:(0,a.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,a.D)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{...d.Hp,applyToHeaders:{displayName:(0,a.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,a.D)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{...d.Hp,applyToHeaders:{displayName:(0,a.D)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,a.D)("Visual_DisplayUnits"),description:(0,a.D)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:d.SP.labelPrecision,fontColor:d.SP.tablixFontColor,backColor:d.SP.backColor,alignment:d.SP.textAlignment,styleHeader:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,a.D)("Visual_ConditionalFormatting_DataBars"),description:(0,a.D)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:d.rg.sparklines,accessibility:{displayName:(0,a.D)("Accessibility"),properties:{altTextColumns:{displayName:(0,a.D)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}},blankRows:{displayName:(0,a.D)("Visual_Blank_Rows"),properties:{showBlankRows:d.SP.show,blankRowColor:d.SP.genericColor,blankRowTransparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}},showBorder:d.SP.show,borderPosition:{displayName:(0,a.D)("Visual_Position"),type:{enumeration:t.O}},borderColor:d.SP.genericColor,borderTransparency:{displayName:(0,a.D)("Transparency"),type:{numeric:!0}},borderWidth:{displayName:(0,a.D)("Visual_General_Properties_Width"),type:{numeric:!0}}}},...(0,d.eT)({highlight:!0},!1)},annotationTemplates:(0,d.e1)({highlight:!0}),dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[s.o.columns],displayName:(0,a.D)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,a.D)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,a.D)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[s.o.rows],displayName:(0,a.D)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,a.D)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,a.D)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[s.o.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[s.o.rows,s.o.columns]},expandCollapse:{roles:[s.o.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!!v?.fieldParameterDynamicSlicer},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var o=(0,r.cM)(h().objects)},149178:function(me,j,e){e.d(j,{Cw:function(){return l},OB:function(){return g},Ws:function(){return o},Y_:function(){return d},gI:function(){return h},hd:function(){return v},mO:function(){return n}});var r=e(702087),i=e(51926),a=e(376944),t=e(845739);function l(m){return m&&!!m.bind}function g(m){return m&&!!m.for}function n(m){return m&&!!m}function d(m,p){var y=m.metadata.objects;if(!y||!y.valueAxis||!1!==y.valueAxis.sharedAxis||!0!==y.valueAxis.scaleToFit){var S=m.matrix,C=s(S.values.select,p),u=S.rows.values;_.isEmpty(u)||C.push(...s(u.select,p)),h(C,{min:!0,max:!0})}}function s(m,p){return m.filter(y=>{if(!g(y))return!1;var S=y.for.in.role;return _.some(p,C=>C===S)})}function h(m,p){for(var y of m){var C=(0,r.x7)(y).items;if(!_.isEmpty(C))for(var u of C)u.hidden||(u.aggregates=u.aggregates||[]).push(p)}}function o(m){var p=m.matrix.rows.select[0].dataReductionAlgorithm;if(p.window){var y=m.metadata&&m.metadata.objects,S=y&&y[a.xf];S&&(p.window.count=(0,a.k3)(S.rowCount||a.T9,S.columnCount||a.Zf))}}function v(m,p){var y=_.filter(m.metadata.columns,S=>{var C=S.type?.misc?.sparkline?.groupingType;if(!C)return!1;var u=C.temporal||C.dateTime||C.numeric,E=(0,i._W)(S.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return u&&E===t.Y.column});_.forEach(y,S=>{var C=_.find(p,u=>S.queryName===u.queryName);C&&(C.sparklineInfo={includeMinGroupingInterval:!0})})}},83279:function(me,j,e){e.d(j,{Hy:function(){return g},nJ:function(){return l}});var r=e(596920),i=e(329332),a=e(143924),t={inputBox:{displayName:(0,i.D)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,i.D)("Visual_Qna_QuestionFontColor"),description:(0,i.D)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,i.D)("Visual_Qna_QuestionFontSize"),description:(0,i.D)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:a.SP.bold,questionItalic:a.SP.italic,questionUnderline:a.SP.underline,questionFontFamily:{displayName:(0,i.D)("Visual_Qna_QuestionFontFamily"),description:(0,i.D)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,i.D)("Visual_Qna_HoverColor"),description:(0,i.D)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,i.D)("Visual_Qna_AcceptedUnderlineColor"),description:(0,i.D)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,i.D)("Visual_Qna_ErrorUnderlineColor"),description:(0,i.D)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,i.D)("Visual_Qna_WarningUnderlineColor"),description:(0,i.D)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,i.D)("Visual_Qna_RestatementFontColor"),description:(0,i.D)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,i.D)("Visual_Qna_RestatementFontSize"),description:(0,i.D)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,i.D)("Visual_Qna_RestatementFontFamily"),description:(0,i.D)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,i.D)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,i.D)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,i.D)("Suggestions"),properties:{show:a.SP.show,headerFontColor:{displayName:(0,i.D)("Visual_Qna_HeaderFontColor"),description:(0,i.D)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,i.D)("Visual_Qna_HeaderFontSize"),description:(0,i.D)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:a.SP.bold,headerItalic:a.SP.italic,headerUnderline:a.SP.underline,headerFontFamily:{displayName:(0,i.D)("Visual_Qna_HeaderFontFamily"),description:(0,i.D)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,i.D)("Visual_Qna_CardBackgroundColor"),description:(0,i.D)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,i.D)("Visual_Qna_CardFontColor"),description:(0,i.D)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,i.D)("Visual_Qna_CardFontSize"),description:(0,i.D)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:a.SP.bold,cardItalic:a.SP.italic,cardUnderline:a.SP.underline,cardFontFamily:{displayName:(0,i.D)("Visual_Qna_CardFontFamily"),description:(0,i.D)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},l=(0,r.cM)(t),g={objects:t,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},81579:function(me,j,e){e.d(j,{FA:function(){return s},px:function(){return d}});var r=e(147293),i=e(329332),a=e(844839),t=e(143924),l=e(596920),g=function(h){return h[h.Top=0]="Top",h[h.Bottom=1]="Bottom",h}({}),n=(0,a.s)([{value:g.Top,displayName:(0,i.D)("Top")},{value:g.Bottom,displayName:(0,i.D)("Bottom")}]),d={advancedEditModeSupport:r.bU.SupportedInFocus,objects:{toolbar:{displayName:(0,i.D)("RdlVisual_Capabilities_Toolbar"),properties:{show:t.SP.show,pageNavigation:{displayName:(0,i.D)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,i.D)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,i.D)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,i.D)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,i.D)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:n}}}},export:{displayName:(0,i.D)("Export"),properties:{show:t.SP.show,exportExcel:{displayName:(0,i.D)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,i.D)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,i.D)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,i.D)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,i.D)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,i.D)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,i.D)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,i.D)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,i.D)("RdlVisual_Capabilities_AutoFilter"),properties:{show:t.SP.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:r.Ts.GroupingOrMeasure,displayName:(0,i.D)("Parameters"),description:(0,i.D)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}],suppressVisualCalc:!0},s=(0,l.cM)(d.objects)},803803:function(me,j,e){e.d(j,{X6:function(){return o},Zw:function(){return p},_p:function(){return S},fA:function(){return C}});var r=e(658577),i=e(785463),a=e(596920),t=e(147293),l=e(138970),g=e(329332),n=e(844839),d=e(550995),s=e(143924),h=e(228783);function o(u){return{dataRoles:v(u&&u.cartesianConditionalFormatting,u&&u.useModernFormatPane),objects:y,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},m(!0,!0,!1),m(!0,!1,!0),m(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],visualShapeDataViewMappings:[{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,kind:t.Ts.Grouping},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,kind:t.Ts.Grouping},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"X"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"Y"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{min:1,max:1,kind:t.Ts.Grouping},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{min:1,max:1,kind:t.Ts.Grouping},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{composite:[{for:{in:"X"}},{for:{in:"Y"}}]}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{min:1,max:1,kind:t.Ts.Grouping},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Y"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}}]}}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:t.Ts.Measure},Y:{max:1,kind:t.Ts.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Category"}}]},columns:{for:{in:"Series"}},values:{select:[{bind:{to:"Size"}},{for:{in:"Tooltips"}},{bind:{to:"X"}},{bind:{to:"Y"}}]}}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:r.U.Ascending}]}},drilldown:{roles:[h.Jl.category,h.Jl.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:l.c.GroupInPlace},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:l.c.Color},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:l.c.GroupInPlace}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!u?.enableCalculationScatterChartMap}}function v(u,E){var c=[{name:h.Jl.category,kind:t.Ts.Grouping,displayName:(0,g.D)(E?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,g.D)("Role_DisplayName_DetailsScatterChartDescription")},{name:h.Jl.series,kind:t.Ts.Grouping,displayName:(0,g.D)("Role_DisplayName_Legend"),displayOrder:E?4:2,description:(0,g.D)("Role_DisplayName_LegendDescription")},{name:h.Jl.x,kind:t.Ts.GroupingOrMeasure,displayName:(0,g.D)("Role_DisplayName_X"),displayOrder:E?2:3,description:(0,g.D)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:t.Xk.X},{name:h.Jl.y,kind:t.Ts.GroupingOrMeasure,displayName:(0,g.D)("Role_DisplayName_Y"),displayOrder:E?3:4,description:(0,g.D)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:t.Xk.Y},{name:h.Jl.size,kind:t.Ts.Measure,displayName:(0,g.D)("Role_DisplayName_Size"),displayOrder:5,description:(0,g.D)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return u||c.push({name:h.Jl.gradient,kind:t.Ts.Measure,displayName:(0,g.D)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,g.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:t.gD.None}),c.push({name:h.Jl.play,kind:t.Ts.Grouping,displayName:(0,g.D)("Role_DisplayName_Play"),displayOrder:7,disallowedWithVisualCalculations:!0}),c.push({name:h.Jl.tooltips,kind:t.Ts.Measure,displayName:(0,g.D)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,g.D)("Role_Tooltips_Description"),joinPredicate:t.gD.None}),c}function m(u,E,c){i.Y.assert(()=>u||E,"At least one of groupedX or groupedY must be true");var f={min:1,max:1,kind:t.Ts.Grouping};c&&(f={min:1,kind:t.Ts.Grouping});var b={max:1,kind:t.Ts.Measure},T=u?f:b,M=E?{min:1,max:1,kind:t.Ts.Grouping}:b,V={bind:{to:"X"}},P={bind:{to:"Y"}},N=[],I=[];u?N.push(c?{for:{in:"X"}}:V):I.push(V),E?N.push(P):I.push(P);var O,R=N.length;return R>=2||1===R&&u&&c?O={composite:N}:1===R&&(O=N[0]),{conditions:[{Category:{max:0},Series:{max:1},X:T,Y:M,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:T,Y:M,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},O],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[...I||[],{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}}}var p=function(u){return u.fillOnly="Fill only",u.borderOnly="Border only",u}({}),y={general:{displayName:(0,g.D)("Visual_General"),properties:{formatString:s.SP.formatString,responsive:s.SP.responsive,responsiveLegacy:s.SP.responsiveLegacy,dataVolume:{displayName:(0,g.D)("Visual_DataVolume"),description:(0,g.D)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:s.rg.legend.displayName,description:s.rg.legend.description,properties:{...s.rg.legend.properties,showGradientLegend:s.SP.showGradientLegend}},categoryAxis:{displayName:(0,g.D)("Visual_XAxis"),properties:{show:s.SP.show,...s.WI,...s.Vo,...s.po,...(0,s.Jx)("x"),...s.hL,treatNullsAsZero:{displayName:(0,g.D)("Visual_Scatter_TreatNullsAsZero"),description:(0,g.D)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}}}},valueAxis:{displayName:(0,g.D)("Visual_YAxis"),properties:{show:s.SP.show,...s.WI,...s.po,...(0,s.Jx)("y"),...s.hL,treatNullsAsZero:{displayName:(0,g.D)("Visual_Scatter_TreatNullsAsZero"),description:(0,g.D)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},switchAxisPosition:s.SP.switchAxisPosition}},zoom:s.rg.zoom,dataPoint:{displayName:(0,g.D)("Visual_DataPoint"),description:(0,g.D)("Visual_DataPointDescription"),properties:{defaultColor:s.SP.defaultColor,showAllDataPoints:s.SP.showAllDataPoints,fill:s.SP.defaultCategoryColor,fillRule:{displayName:(0,g.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},markers:s.rg.markers,bubbles:{displayName:(0,g.D)("Visual_Shapes"),description:(0,g.D)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,g.D)("Visual_SizeMultiplier"),type:{integer:!0}},markerRangeType:{displayName:(0,g.D)("Visual_MarkerRangeType"),type:{enumeration:d.hQ}},markerShape:s.SP.markerShape,showSeries:{displayName:(0,g.D)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:s.rg.plotArea,categoryLabels:{displayName:(0,g.D)("Visual_CategoryLabels"),description:(0,g.D)("Visual_CategoryLabelsDescription"),properties:{...s.Jk,...s.Ed}},trend:(0,s.o4)(!1),[h.wn.x]:{displayName:(0,g.D)("Visual_Reference_Line_X"),description:(0,g.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},[h.wn.y1]:{displayName:(0,g.D)("Visual_Reference_Line_Y"),description:(0,g.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},[h.wn.generic]:{displayName:(0,g.D)("Visual_Reference_Line"),description:(0,g.D)("Visual_Reference_Line_Description"),objectCategory:t.i8.Analytics,suppressFormatPainterCopy:!0,properties:s.k4},colorBorder:{displayName:(0,g.D)("Visual_ColorBorder"),properties:{show:s.SP.show}},fillPoint:{displayName:(0,g.D)("Visual_FillPoint"),properties:{style:{displayName:(0,g.D)("Style"),type:{enumeration:(0,n.s)([{value:p.fillOnly,displayName:u=>u.get("Visual_FillStyle_Fill")},{value:p.borderOnly,displayName:u=>u.get("Visual_FillStyle_Border")}])}}}},colorByCategory:{displayName:(0,g.D)("Visual_ColorByCategory"),properties:{show:s.SP.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,g.D)("Visual_Scatter_SymmetryShading"),description:(0,g.D)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:t.i8.Analytics,properties:{show:s.SP.show,displayName:{displayName:(0,g.D)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,g.D)("Visual_Scatter_SymmetryShadingUpper"),description:(0,g.D)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,g.D)("Visual_Scatter_SymmetryShadingLower"),description:(0,g.D)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:s.SP.backgroundTransparency}},ratioLine:{displayName:(0,g.D)("Visual_Scatter_RatioLine"),description:(0,g.D)("Visual_Scatter_RatioLineDescription"),objectCategory:t.i8.Analytics,properties:{displayName:{displayName:(0,g.D)("Name"),type:{text:!0}},...s.qj}}},S=(0,a.cM)(y),C={general:{dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},markers:{color:{objectName:"dataPoint",propertyName:"fill"},rangeType:{objectName:"bubbles",propertyName:"markerRangeType"},shape:{objectName:"bubbles",propertyName:"markerShape"},...s.vb},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:(0,s.Nk)("ratioLine",s.I$),categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},987677:function(me,j,e){e.d(j,{T:function(){return l},p:function(){return g}});var r=e(596920),i=e(329332),a=e(844839),t=e(143924),l={dataViewMappings:[],objects:{scorecard:{displayName:(0,i.D)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,i.D)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,i.D)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,i.D)("ExplorationBookmarks_Display"),type:{enumeration:(0,a.s)([{displayName:(0,i.D)("Tile_Generic"),value:"tile"},{displayName:(0,i.D)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:t.SP.backColor,foregroundColor:t.SP.fontColor,fontFamily:t.SP.fontFamily,tableBackgroundColor:t.SP.backColor,showCommandBar:{type:{bool:!0},displayName:(0,i.D)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,i.D)("ThemeDialog_SubSection_Header"),properties:{show:t.SP.show,showTitle:{type:{bool:!0},displayName:(0,i.D)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,i.D)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,i.D)("Cards")},foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{show:t.SP.show,foregroundColor:t.SP.fontColor}},goals:{displayName:(0,i.D)("Role_DisplayName_KPI_Goals"),properties:{foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor}},detailsPane:{displayName:(0,i.D)("DetailsPane"),properties:{foregroundColor:t.SP.fontColor,backgroundColor:t.SP.backColor,cardForegroundColor:{displayName:(0,i.D)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,i.D)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,i.D)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,i.D)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,i.D)("Visualization"),properties:{backgroundColor:t.SP.backColor,backgroundTransparency:t.SP.backgroundTransparency,showScorecardName:{displayName:(0,i.D)("ScorecardDialog_Name"),description:(0,i.D)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:t.SP.fontFamily,scorecardNameFontSize:t.SP.titleFontSize,scorecardNameFontColor:t.SP.fontColor,scorecardNameBold:t.SP.bold,scorecardNameItalic:t.SP.italic,scorecardNameUnderline:t.SP.underline,currentValueFontFamily:t.SP.fontFamily,currentValueFontSize:t.SP.titleFontSize,currentValueFontColor:t.SP.fontColor,currentValueBold:t.SP.bold,currentValueItalic:t.SP.italic,currentValueUnderline:t.SP.underline,targetValueFontFamily:t.SP.fontFamily,targetValueFontSize:t.SP.titleFontSize,targetValueFontColor:t.SP.fontColor,targetValueBold:t.SP.bold,targetValueItalic:t.SP.italic,targetValueUnderline:t.SP.underline,showGrowth:{displayName:(0,i.D)("ScorecardVisual_Growth"),description:(0,i.D)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:t.SP.fontFamily,growthFontSize:t.SP.titleFontSize,growthFontColor:t.SP.fontColor,growthBold:t.SP.bold,growthItalic:t.SP.italic,growthUnderline:t.SP.underline,showGoalName:{displayName:(0,i.D)("GoalName"),description:(0,i.D)("GoalName"),type:{bool:!0}},goalNameFontFamily:t.SP.fontFamily,goalNameFontSize:t.SP.titleFontSize,goalNameFontColor:t.SP.fontColor,goalNameBold:t.SP.bold,goalNameItalic:t.SP.italic,goalNameUnderline:t.SP.underline,showOwner:{displayName:(0,i.D)("Owner_Lowercase"),description:(0,i.D)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,i.D)("Role_DisplayName_Size"),description:(0,i.D)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,i.D)("Due"),description:(0,i.D)("Due"),type:{bool:!0}},dueDateFontFamily:t.SP.fontFamily,dueDateFontSize:t.SP.titleFontSize,dueDateFontColor:t.SP.fontColor,dueDateBold:t.SP.bold,dueDateItalic:t.SP.italic,dueDateUnderline:t.SP.underline,showStatus:{displayName:(0,i.D)("Status"),description:(0,i.D)("Status"),type:{bool:!0}},showNotes:{displayName:(0,i.D)("Notes"),description:(0,i.D)("Notes"),type:{bool:!0}},notesFontSize:t.SP.titleFontSize,notesFontColor:t.SP.fontColor,showVisualization:{displayName:(0,i.D)("Visualization"),description:(0,i.D)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,i.D)("Visual_Legend"),description:(0,i.D)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,i.D)("ScorecardVisual_TargetLine"),description:(0,i.D)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:t.SP.fontColor,currentLineColor:t.SP.fontColor,currentAreaShaded:{displayName:(0,i.D)("Visual_Shapes_ShadeArea"),description:(0,i.D)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,i.D)("Visual_XAxis_Hyphen"),description:(0,i.D)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:t.SP.fontFamily,xAxisFontSize:t.SP.titleFontSize,xAxisFontColor:t.SP.fontColor,xAxisBold:t.SP.bold,xAxisItalic:t.SP.italic,xAxisUnderline:t.SP.underline,showYAxis:{displayName:(0,i.D)("Visual_YAxis_Hyphen"),description:(0,i.D)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:t.SP.fontFamily,yAxisFontSize:t.SP.titleFontSize,yAxisFontColor:t.SP.fontColor,yAxisBold:t.SP.bold,yAxisItalic:t.SP.italic,yAxisUnderline:t.SP.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},g=(0,r.cM)(l.objects)},412010:function(me,j,e){e.d(j,{Ko:function(){return p},Ns:function(){return y},a2:function(){return d},eC:function(){return o},xX:function(){return s},yi:function(){return h}});var r=e(596920),i=e(138970),a=e(329332),t=e(207810),l=e(143924),g=e(160990),n=e(66456),d={fill:n.Ct.fill,outline:n.Ct.outline,text:g.GA.text,shape:{...n.Ct.shape,linecapType:{objectName:"shape",propertyName:"linecapType"}},shadow:n.Ct.shadow,glow:n.Ct.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},s={...n.X7,...g.pP,rotation:"rotation"},h={...n.K9,...g.q,linecapType:"linecapType",rotation:"angle"},o={default:"default"},v={show:l.SP.show,[n.K9.fillColor]:l.SP.fill,[n.K9.fillTransparency]:l.SP.backgroundTransparency},m={[s.fill]:{displayName:(0,a.D)("Visual_Fill"),properties:v},[s.outline]:n.ZX.outline,[s.text]:g.Vo.text,[s.shape]:{displayName:(0,a.D)("Visual_Shape"),properties:{...n.ZX.shape.properties,[h.linecapType]:{displayName:(0,a.D)("LinecapType"),type:{enumeration:t.O}}}},[s.shadow]:n.ZX.shadow,[s.glow]:n.ZX.glow,[s.rotation]:{displayName:(0,a.D)("Visual_BasicShape_Rotate"),properties:{[h.rotation]:l.SP.genericRotation,[h.shapeRotation]:l.SP.shapeRotation,[h.textRotation]:l.SP.textRotation}}},p={objects:m,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:i.A.Img,disableFormatMode:!0},y=(0,r.cM)(m)},941118:function(me,j,e){e.d(j,{A:function(){return o},a:function(){return s}});var r=e(658577),i=e(596920),a=e(147293),t=e(329332),l=e(861371),g=e(462807),n=e(143924),d={general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:n.SP.formatString}},legend:n.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{defaultColor:n.SP.defaultColor,showAllDataPoints:n.SP.showAllDataPoints,fill:n.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:g.Uq,output:{property:"fill",selector:[g.L1]}}}}},shape:{displayName:(0,t.D)("Visual_Shape"),description:(0,t.D)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:l.pX}}},projectionEnum:{displayName:(0,t.D)("Visual_ShapeMap_Projection"),description:(0,t.D)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:g.NW}}}},defaultColors:{displayName:(0,t.D)("Visual_ShapeMap_DefaultColor"),description:(0,t.D)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,t.D)("Visual_ShapeMap_DefaultShow"),description:(0,t.D)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,t.D)("Generic_Color"),description:(0,t.D)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:n.SP.borderColor,borderThickness:{displayName:(0,t.D)("Visual_ShapeMap_BorderThickness"),type:{numeric:!0}}}},zoom:{displayName:(0,t.D)("Visual_ShapeMap_Zoom"),description:(0,t.D)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,t.D)("Visual_ShapeMap_AutoZoom"),description:(0,t.D)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,t.D)("Visual_ShapeMap_SelectionZoom"),description:(0,t.D)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,t.D)("Visual_ShapeMap_ManualZoom"),description:(0,t.D)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function s(v){return{dataRoles:[{name:g.L1,kind:a.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Location"),description:(0,t.D)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:g.Ul,kind:a.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Legend"),description:(0,t.D)("Role_DisplayName_LegendDescription")},{name:g.Uq,kind:a.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:g.vX,kind:a.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:a.gD.None}],objects:d,dataViewMappings:[{conditions:[{[g.L1]:{min:0,max:1},[g.Ul]:{min:0,max:1},[g.Uq]:{min:0,max:1}}],categorical:{categories:{for:{in:g.L1},dataReductionAlgorithm:{top:{}}},values:{group:{by:g.Ul,select:[{bind:{to:g.Uq}},{for:{in:g.vX}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:g.Uq,direction:r.U.Descending}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!v?.enableCalculationScatterChartMap}}var o=(0,i.cM)(d)},841333:function(me,j,e){e.d(j,{E0:function(){return o},Eq:function(){return v},NK:function(){return p},ts:function(){return y},u2:function(){return m}});var r=e(596920),i=e(147293),a=e(329332),t=e(935048),l=e(895551),g=e(632900),n=e(353033),d=e(888193),s=e(177394),h=e(143924),o={value:"Values"},v={objectName:"selection",propertyName:"restrictToLeafNodes"},m={general:{displayName:(0,a.D)("Visual_General"),properties:{responsive:h.SP.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:h.SP.formatString,outlineColor:h.SP.outlineColor,outlineWeight:h.SP.outlineWeight,orientation:{displayName:(0,a.D)("Slicer_Orientation"),type:{enumeration:s.N}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:g.NW},filterState:!0},relativePeriod:{type:{enumeration:l.f9},filterState:!0},relativeTimePeriod:{type:{enumeration:l.Fm},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,a.D)("Style"),type:{enumeration:d.NW},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,a.D)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,a.D)("Visual_SelectAll"),description:(0,a.D)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,a.D)("Visual_MultiSelectWithCtrl"),description:(0,a.D)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,a.D)("Visual_StrictSingleSelect"),description:(0,a.D)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,a.D)("Slicer_Header"),properties:{show:h.SP.show,text:{displayName:(0,a.D)("Visual_Title_Text"),description:(0,a.D)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},...h.qe,outlineStyle:h.SP.outlineStyle,showRestatement:{displayName:(0,a.D)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,a.D)("PendingIcon"),properties:{show:h.SP.show,color:h.SP.genericColor,transparency:h.SP.backgroundTransparency,position:{displayName:(0,a.D)("Visual_LegendPosition"),type:{enumeration:t.NW}},size:{displayName:(0,a.D)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,a.D)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,a.D)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,a.D)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,a.D)("SearchBox"),properties:{outlineStyle:h.SP.outlineStyle,borderColor:h.SP.outlineColor,background:{displayName:(0,a.D)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,a.D)("Items"),properties:{...h.qe,outlineStyle:h.SP.outlineStyle,expandCollapseToggleType:{displayName:(0,a.D)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:n.N}},steppedLayoutIndentation:{displayName:(0,a.D)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,a.D)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,a.D)("Slicer_DateInputs"),properties:{...h.qe,hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,a.D)("Slicer_NumericInputs"),properties:{...h.qe}},slider:{displayName:(0,a.D)("Slicer_Slider"),properties:{show:h.SP.show,color:h.SP.genericColor,handleFillColor:{displayName:(0,a.D)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,a.D)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:h.SP.genericColor}},dateRange:{displayName:(0,a.D)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,a.D)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,a.D)("RelativeSlicer_AnchorDate"),description:(0,a.D)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},p=(0,r.cM)(m);function y(E){return{dataRoles:[{name:o.value,kind:i.Ts.Grouping,displayName:(0,a.D)("Field"),description:(0,a.D)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:m,drilldown:{roles:[o.value],suppresDrillOperations:!0},dataViewMappings:u(),expandCollapse:C(E),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function C(E){return{roles:[o.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!!E?.fieldParameterDynamicSlicer}}function u(){var E=[{conditions:[{[o.value]:{max:1,suppressDrill:!0}}],categorical:{categories:{for:{in:o.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return E.unshift({conditions:[{[o.value]:{min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0}}],matrix:{rows:{for:{in:o.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),E}},586944:function(me,j,e){e.d(j,{Pu:function(){return B},V7:function(){return b},Yj:function(){return Y},iw:function(){return E},rL:function(){return c},uv:function(){return H},vK:function(){return f},wf:function(){return U},zd:function(){return L}});var r=e(164338),i=e(785463),a=e(376292),t=e(147293),l=e(632934),g=e(856701),n=e(51926),d=e(168376),s=e(217379),h=e(253870),o=e(364472),v=e(895551),m=e(632900),p=e(888193),y=e(841333),S=e(662785),C=e(669129);function E(Z){var k=Z.dataViewMappings[0],K=z(k);if(!_.isEmpty(K)){var ee=x(k.metadata.objects);if(null===(ee=Y(K,ee))||(0,p.VW)(ee)||(0,p.l0)(ee))return null}return[y.E0.value]}function c(Z){if(!function(Z){if(!Z.isPersistentState)return!0;var k=x(Z.objects),K=(0,p.uS)(k),ee=(0,r.xN)(),Q=K&&(0,n._W)(Z.objects,y.NK.selection.strictSingleSelect,ee.strictSingleSelect);return Z.changes?k===x(Z.changes)&&!(Q&&!(0,n._W)(Z.changes,y.NK.selection.strictSingleSelect,ee.strictSingleSelect)):!Q}(Z))return W(Z,void 0,!0);var k=function(Z){var k=x(Z.objects),K=x(Z.changes);return(k===p.HX&&K===p.Wm||k===p.Wm&&K===p.HX)&&k!==K&&k?{merge:!0,mode:k}:{merge:!1,mode:K||k}}(Z),K=Z.changes&&Z.changes[y.NK.general.filter.objectName],ee=K&&K[y.NK.general.filter.propertyName];if(null!=ee){var Q=W(Z,k.mode,!1);return(0,p.VW)(k.mode)?(M(ee,k.mode,Q),Q):k.mode===p.Pp?(V(ee,k.mode,Q,y.NK.data.relativePeriod.propertyName),Q):(k.mode===p.KW&&V(ee,k.mode,Q,y.NK.data.relativeTimePeriod.propertyName),Q)}return k.merge?W(Z,k.mode,!1):null}function f(Z){var k=Y(Z.dataViewMetaDataColumns,x(Z.objects)),K=Z.filterUpdateType,ee={objectName:y.NK.general.filter.objectName,selector:null,properties:{[y.NK.general.filter.propertyName]:Z.filterToApply}},Q={merge:[],remove:[],replace:[]};return k===p.HX||k===p.Wm||k===p.FF||k===p.Bw?b(Z,Q,ee):"Replace"!==K||((0,p.VW)(k)&&M(Z.filterToApply,k,Q),k===p.Pp&&V(Z.filterToApply,k,Q,y.NK.data.relativePeriod.propertyName),k===p.KW&&V(Z.filterToApply,k,Q,y.NK.data.relativeTimePeriod.propertyName),function(Z){return _.isEmpty(Z.merge)&&_.isEmpty(Z.remove)&&_.isEmpty(Z.replace)}(Q))?void 0:(Q.merge?.push(ee),Q)}function b(Z,k,K){var ee=Z.filterUpdateType,Q=Z.filterToApply.conditions();if(i.Y.assert(()=>1===Q.length,"Only one condition is supported currently"),1!==Q.length);else{var J=Q[0],X=(0,S.w8)(J);if((0,S.S1)(J)||X&&(0,S.S1)(J.arg)){var ne=(0,S.S1)(J)?J:J.arg,ae=(0,r.xN)();if((0,n._W)(Z.objects,y.NK.selection.strictSingleSelect,ae.strictSingleSelect)&&("Replace"!==ee||X||ne.values.length>1))return;var Me=(0,n._W)(Z.objects,y.NK.general.filter),Ye=Me&&Me.conditions(),Le=Ye&&1===Ye.length&&Ye[0];if(!Le)return k.merge?.push(K),k;var lt=C.B.tryMergeSQInExprs(Le,ne,Z.filterUpdateType);return lt?(0===lt.values.length?k.remove?.push(K):(K.properties[y.NK.general.filter.propertyName]=o.b0.fromSQFromAndSQExpr(Me.from(),lt),k.merge?.push(K)),k):void 0}}}function M(Z,k,K){if(i.Y.assertValue(Z,"filter should be defined"),(0,p.VW)(k)){var ee=(0,s.C)(Z);if(!ee||!ee.options)return void i.Y.assertValue(ee&&ee.options,"filterParams and filterParams.options must be defined.");var Q=y.NK.data.numericStart.objectName;i.Y.assert(()=>y.NK.data.numericStart.objectName===y.NK.data.numericEnd.objectName,"numericStart & numericEnd must have same object name"),i.Y.assert(()=>y.NK.data.numericStart.objectName===y.NK.data.startDate.objectName,"numericStart & startDate must have same object name"),i.Y.assert(()=>y.NK.data.numericStart.objectName===y.NK.data.endDate.objectName,"numericStart & endDate must have same object name");var J={};_.isNumber(ee.options.min)||_.isNumber(ee.options.max)?(J[y.NK.data.numericStart.propertyName]=ee.options.min,k!==p.J0&&(J[y.NK.data.numericEnd.propertyName]=ee.options.max),I(K,Q,J)):(_.isDate(ee.options.min)||_.isDate(ee.options.max))&&(i.Y.assert(()=>void 0===ee.options.min||(0,a.th)(ee.options.min),"Implementing DateWithEpochValue is needed for serialization"),i.Y.assert(()=>void 0===ee.options.max||(0,a.th)(ee.options.max),"Implementing DateWithEpochValue is needed for serialization"),J[y.NK.data.startDate.propertyName]=ee.options.min,J[y.NK.data.endDate.propertyName]=ee.options.max,I(K,Q,J))}}function V(Z,k,K,ee){if(i.Y.assertValue(Z,"filter should be defined"),(0,p.l0)(k)){var Q=(0,p.EJ)(k),J=(0,h.C)(Z,Q);if(!J||!J.options)return void i.Y.assertValue(J&&J.options,"filterParams and filterParams.options must be defined.");var X=y.NK.data.relativeRange.objectName;i.Y.assert(()=>y.NK.data.relativeRange.objectName===y.NK.data.relativeDuration.objectName,"relativeRange & relativeDuration must have same object name"),i.Y.assert(()=>y.NK.data.relativeRange.objectName===y.NK.data.relativePeriod.objectName,"relativeRange & relativePeriod must have same object name");var ne=(0,m.dI)(J.options.relativeQualifier),ae=(0,v.dI)(J.options.relativeUnit),oe=J.options.duration;(null==ne||null==oe||null==ae)&&P(K,X),(null!=ne||null!=oe||null!=ae)&&w(K,X);var Me={};Me[y.NK.data.relativeRange.propertyName]=ne,Me[y.NK.data.relativeDuration.propertyName]=ne===m.ss?0:J.options.duration,Me[ee]=ae,I(K,X,Me),function(Z,k){var K=y.NK.dateRange.includeToday.objectName;i.Y.assert(()=>y.NK.dateRange.includeToday.objectName===y.NK.dateRange.anchorDate.objectName,"anchorDate is not in the same object as includeToday");var ee={};k.includeTodayFromDefault||(ee[y.NK.dateRange.includeToday.propertyName]=k.includeToday),ee[y.NK.dateRange.anchorDate.propertyName]=k.anchorDate,I(Z,K,ee)}(K,J.options)}}function w(Z,k){Z.merge=Z.merge||[];var K=O(Z.merge,k);return Z.merge[K]}function P(Z,k){Z.remove=Z.remove||[];var K=O(Z.remove,k);return Z.remove[K]}function I(Z,k,K){var ee=null,Q=null;for(var J in _.some(K,X=>null==X)&&(ee=P(Z,k)),_.some(K,X=>null!=X)&&(Q=w(Z,k)),K)null==K[J]?(i.Y.assertValue(ee,"remove must be defined here."),ee.properties[J]=!0):(i.Y.assertValue(Q,"merge must be defined here."),Q.properties[J]=K[J])}function O(Z,k){i.Y.assertValue(Z,"visualObjects");var K=Z.map(ee=>ee.objectName).indexOf(k);return K<0&&(Z.push({objectName:k,selector:null,properties:{}}),K=Z.length-1),K}function W(Z,k,K){var ee=[];for(var Q in Z.changes){var J={},X=y.u2;for(var ne in Z.changes[Q])K&&(!0===X[Q]?.properties[ne]?.filterState||Q===y.NK.general.filter.objectName&&ne===y.NK.general.filter.propertyName)||(J[ne]=Z.changes[Q][ne]);null!=k&&Q===y.NK.data.mode.objectName&&(J[y.NK.data.mode.propertyName]=k),ee.push({objectName:Q,selector:null,properties:J})}return K&&function(Z,k){var K=Z.objects;for(var ee in K){var Q={},J=y.u2;for(var X in K[ee])(!0===J[ee]?.properties[X]?.filterState||ee===y.NK.general.filter.objectName&&X===y.NK.general.filter.propertyName)&&(Q[X]=K[ee][X]);if(!_.isEmpty(Q)){var ne=O(k,ee);k[ne].properties=_.merge(k[ne].properties,Q)}}}(Z,ee),{merge:ee}}function U(Z){if(!_.isEmpty(Z.dataViewMappings)){var k=Z.dataViewMappings[0];if(k&&k.metadata){var K=z(k)||[];if(k.matrix&&k.matrix.rows){var ee=k.matrix.rows.for.in.items;if(!_.isEmpty(ee)){var Q=function(oe){if(!_.find(K,Ye=>Ye.queryName===oe.queryName))return 1;oe.subtotalType=l.y.Before};for(var J of ee)Q(J)}}var X=x(k.metadata.objects);if(!_.isEmpty(K)){if((X=Y(K,X))===p.J0){var ne=k.categorical&&k.categorical.categories;return void(ne&&(ne.dataReductionAlgorithm={sample:{}}))}if((0,p.Ep)(X)&&k.categorical&&k.categorical.categories){var ae=k.categorical.categories.for.in.items;k.categorical.categories=null,k.categorical.values={bind:{to:{role:y.E0.value,aggregates:{min:!0,max:!0},items:ae}}}}}(0,p.l0)(X)&&(k.updateType=t.FU.MetadataOnly),X===p.Wm&&function(Z){if(Z){var k=!1;if(k=(0,n._W)(Z,y.NK.selection.strictSingleSelect,k)){var K=null,ee=!1;return K=(0,n._W)(Z,y.NK.general.filter,K),ee=(0,n._W)(Z,y.NK.data.isInvertedSelectionMode,ee),null!=K&&!ee}}return!0}(k.metadata.objects)&&(k.updateType=t.FU.Deferred)}}}function B(Z){var K=Z.objects,ee=x(K),J=z(Z.dataViewMappings[0]);if(!_.isEmpty(J)){ee=Y(J,ee,!0);var X=K&&K[y.NK.data.mode.objectName];X||(X={});var ne={};for(var ae in X)ne[ae]=X[ae];return ne[y.NK.data.mode.propertyName]=ee,{replace:[{objectName:y.NK.data.mode.objectName,selector:null,properties:ne}]}}}function x(Z){var k=null;return Z&&(k=(0,n._W)(Z,y.NK.data.mode,k)),k}function L(Z){return Z&&(0,d._W)(Z,y.NK.data.mode,void 0)}function Y(Z,k,K=!1){if(i.Y.assertNonEmpty(Z,"pluginMethods.getValidateSlicerMode - columns"),Z.length>1)return k===p.Wm?p.Wm:p.HX;var ee=Z[0];if(!ee.type)return k;if(ee.parameter&&ee.parameter.kind===g.t_.WhatIf)k=null===k||(0,p.l0)(k)?p.J0:k;else{if(ee.parameter&&ee.parameter.kind===g.t_.MParameters)return k??p.HX;!0===ee.type.dateTime?k=null===k||k===p.J0?p.Tq:k:ee.type.numeric?null===k?k=K?p.Tq:p.HX:((0,p.l0)(k)||k===p.J0)&&(k=p.Tq):k!==p.HX&&k!==p.Wm&&(k=p.HX)}return k}function z(Z){return Z.metadata?Z.metadata.columns:null}function H(Z){var{dataViewMappings:k,filterForFieldParameter:K}=Z;if(K)return!1;var ee=k[0];if(!ee||!ee.metadata)return!1;var Q=x(ee.metadata.objects),J=z(ee);return _.isEmpty(J)||(Q=Y(J,Q)),(0,p.VW)(Q)}},851269:function(me,j,e){e.d(j,{Ij:function(){return D},dO:function(){return m},vx:function(){return o},wq:function(){return v}});var r=e(329332),i=e(785659),a=e(453576),t=e(247328),l=e(596515),g=e(294223),n=e(599003),d=e(143924),s=e(347631),h=e(162338),o={smallMultiplesLayout:{orientation:{objectName:"smallMultiplesLayout",propertyName:"orientation"},maxSmallMultiples:{objectName:"smallMultiplesLayout",propertyName:"maxSmallMultiples"},rowCount:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},columnCount:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},maxHeaderSize:{objectName:"smallMultiplesLayout",propertyName:"maxHeaderSize"},titleOrientation:{objectName:"smallMultiplesLayout",propertyName:"titleOrientation"},headerPosition:{objectName:"smallMultiplesLayout",propertyName:"headerPosition"},cellPadding:{objectName:"smallMultiplesLayout",propertyName:"cellPadding"},customizePadding:{objectName:"smallMultiplesLayout",propertyName:"customizePadding"},rowPadding:{objectName:"smallMultiplesLayout",propertyName:"rowPadding"},columnPadding:{objectName:"smallMultiplesLayout",propertyName:"columnPadding"},style:{objectName:"smallMultiplesLayout",propertyName:"style"},fixNumberOfTiles:{objectName:"smallMultiplesLayout",propertyName:"fixNumberOfTiles"}},smallMultiplesBorder:{gridlineShow:{objectName:"smallMultiplesBorder",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesBorder",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesBorder",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesBorder",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesBorder",propertyName:"gridlineColor"}},smallMultiplesGrid:{gridlineShow:{objectName:"smallMultiplesGrid",propertyName:"gridlineShow"},gridlineStyle:{objectName:"smallMultiplesGrid",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"smallMultiplesGrid",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"smallMultiplesGrid",propertyName:"gridlineWidth"},gridlineColor:{objectName:"smallMultiplesGrid",propertyName:"gridlineColor"},gridlineRegion:{objectName:"smallMultiplesGrid",propertyName:"gridlineRegion"}},smallMultiplesOverFlow:{overFlowStyle:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"smallMultiplesOverFlow",propertyName:"overFlowDirection"}},smallMultiplesHeader:{fontFamily:{objectName:"smallMultiplesHeader",propertyName:"fontFamily"},fontSize:{objectName:"smallMultiplesHeader",propertyName:"fontSize"},fontColor:{objectName:"smallMultiplesHeader",propertyName:"fontColor"},bold:{objectName:"smallMultiplesHeader",propertyName:"bold"},italic:{objectName:"smallMultiplesHeader",propertyName:"italic"},underline:{objectName:"smallMultiplesHeader",propertyName:"underline"},transparency:{objectName:"smallMultiplesHeader",propertyName:"transparency"},horizontalAlignment:{objectName:"smallMultiplesHeader",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"smallMultiplesHeader",propertyName:"verticalAlignment"},textWrap:{objectName:"smallMultiplesHeader",propertyName:"textWrap"},displayUnits:{objectName:"smallMultiplesHeader",propertyName:"displayUnits"},precision:{objectName:"smallMultiplesHeader",propertyName:"precision"},showBlankAs:{objectName:"smallMultiplesHeader",propertyName:"showBlankAs"},leftMargin:{objectName:"smallMultiplesHeader",propertyName:"leftMargin"},rightMargin:{objectName:"smallMultiplesHeader",propertyName:"rightMargin"},topMargin:{objectName:"smallMultiplesHeader",propertyName:"topMargin"},bottomMargin:{objectName:"smallMultiplesHeader",propertyName:"bottomMargin"},backgroundShow:{objectName:"smallMultiplesHeader",propertyName:"backgroundShow"},backgroundColor:{objectName:"smallMultiplesHeader",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesHeader",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesHeader",propertyName:"backgroundImageTransparency"},customFormatString:{objectName:"smallMultiplesHeader",propertyName:"customFormatString"}},smallMultiplesAccentBar:{show:{objectName:"smallMultiplesAccentBar",propertyName:"show"},position:{objectName:"smallMultiplesAccentBar",propertyName:"position"},color:{objectName:"smallMultiplesAccentBar",propertyName:"color"},transparency:{objectName:"smallMultiplesAccentBar",propertyName:"transparency"},width:{objectName:"smallMultiplesAccentBar",propertyName:"width"}},smallMultiplesCellBackGround:{backgroundShow:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"smallMultiplesCellBackGround",propertyName:"backgroundImageTransparency"}},smallMultiplesOuterShape:{rectangleRoundedCurveCustomStyle:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"smallMultiplesOuterShape",propertyName:"rectangleRoundedCurveRightBottom"}}},v={smallMultiplesLayout:"smallMultiplesLayout",smallMultiplesBorder:"smallMultiplesBorder",smallMultiplesGrid:"smallMultiplesGrid",smallMultiplesOverFlow:"smallMultiplesOverFlow",smallMultiplesHeader:"smallMultiplesHeader",smallMultiplesAccentBar:"smallMultiplesAccentBar",smallMultiplesCellBackGround:"smallMultiplesCellBackGround",smallMultiplesOuterShape:"smallMultiplesOuterShape"},m={orientation:"orientation",maxSmallMultiples:"maxSmallMultiples",rowCount:"rowCount",columnCount:"columnCount",maxHeaderSize:"maxHeaderSize",titleOrientation:"titleOrientation",gridlineShow:"gridlineShow",gridlineStyle:"gridlineStyle",gridlineTransparency:"gridlineTransparency",gridlineWidth:"gridlineWidth",gridlineColor:"gridlineColor",gridlineRegion:"gridlineRegion",overFlowStyle:"overFlowStyle",overFlowDirection:"overFlowDirection",fontFamily:"fontFamily",fontColor:"fontColor",fontSize:"fontSize",bold:"bold",italic:"italic",underline:"underline",transparency:"transparency",horizontalAlignment:"horizontalAlignment",verticalAlignment:"verticalAlignment",textWrap:"textWrap",displayUnits:"displayUnits",precision:"precision",showBlankAs:"showBlankAs",backgroundShow:"backgroundShow",backgroundColor:"backgroundColor",backgroundTransparency:"backgroundTransparency",backgroundImage:"backgroundImage",backgroundImageTransparency:"backgroundImageTransparency",accentBarShow:"show",accentBarPosition:"position",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",leftMargin:"leftMargin",rightMargin:"rightMargin",topMargin:"topMargin",bottomMargin:"bottomMargin",backgroundFillColor:"backgroundFillColor",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",headerPosition:"headerPosition",cellPadding:"cellPadding",customizePadding:"customizePadding",columnPadding:"columnPadding",rowPadding:"rowPadding",style:"style",fixNumberOfTiles:"fixNumberOfTiles",customFormatString:"customFormatString"},p={[m.orientation]:{displayName:(0,r.D)("Small_Multiples_Arrangement"),type:{enumeration:n.H0}},[m.maxSmallMultiples]:{displayName:(0,r.D)("Small_Multiples_Max"),type:{integer:!0}},[m.rowCount]:{displayName:(0,r.D)("Visual_Arrangement_RowsShownMax"),type:{integer:!0}},[m.columnCount]:{displayName:(0,r.D)("Visual_Arrangement_ColumnsShown"),type:{integer:!0}},[m.maxHeaderSize]:{displayName:(0,r.D)("Small_Multiples_MaxHeaderSize"),description:(0,r.D)("Small_Multiples_MaxHeaderSize_Description"),type:{integer:!0}},[m.titleOrientation]:{displayName:(0,r.D)("Visual_LabelOrientation"),type:{enumeration:h.yy}},[m.headerPosition]:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:t.DU}},[m.cellPadding]:{displayName:(0,r.D)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[m.customizePadding]:{displayName:(0,r.D)("Visual_Spacing_Customize"),type:{bool:!0}},[m.rowPadding]:{displayName:(0,r.D)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[m.columnPadding]:{displayName:(0,r.D)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[m.style]:{displayName:(0,r.D)("Style"),type:{enumeration:s.N}},[m.fixNumberOfTiles]:{displayName:(0,r.D)("Visual_FixedTileCount"),type:{bool:!0}}},y={...(0,d.ai)({strokeShow:m.gridlineShow,strokePattern:m.gridlineStyle,strokeTransparency:m.gridlineTransparency,strokeWidth:m.gridlineWidth,strokeColor:m.gridlineColor})},S={...(0,d.ai)({strokeShow:m.gridlineShow,strokePattern:m.gridlineStyle,strokeTransparency:m.gridlineTransparency,strokeWidth:m.gridlineWidth,strokeColor:m.gridlineColor}),[m.gridlineRegion]:{displayName:(0,r.D)("Visual_Gridline_Show"),type:{enumeration:a.X}}},C={[m.overFlowStyle]:{displayName:(0,r.D)("Visual_OverFlow_Style"),type:{enumeration:g.N}},[m.overFlowDirection]:{displayName:(0,r.D)("Visual_OverFlow_Direction"),type:{enumeration:l.N}}},u={[m.fontFamily]:d.SP.fontFamily,[m.fontSize]:d.SP.fontSize,[m.fontColor]:d.SP.genericColor,[m.bold]:d.SP.bold,[m.italic]:d.SP.italic,[m.underline]:d.SP.underline,[m.transparency]:d.SP.genericTransparency,[m.horizontalAlignment]:d.SP.horizontalAlignment,[m.verticalAlignment]:d.SP.verticalAlignment,[m.textWrap]:d.SP.textWrap,[m.displayUnits]:{...d.SP.labelDisplayUnits,type:{enumeration:i.N}},[m.precision]:d.SP.labelPrecision,[m.showBlankAs]:d.SP.showBlankAs,[m.leftMargin]:{displayName:(0,r.D)("Visual_PaddingLeft"),type:{integer:!0}},[m.rightMargin]:{displayName:(0,r.D)("Visual_PaddingRight"),type:{integer:!0}},[m.topMargin]:{displayName:(0,r.D)("Visual_PaddingTop"),type:{integer:!0}},[m.bottomMargin]:{displayName:(0,r.D)("Visual_PaddingBottom"),type:{integer:!0}},[m.backgroundShow]:d.SP.show,[m.backgroundColor]:d.SP.genericColor,[m.backgroundTransparency]:d.SP.backgroundTransparency,[m.backgroundImage]:{...d.SP.image,displayName:(0,r.D)("Dashboard_Theme_Background_Image")},[m.backgroundImageTransparency]:{...d.SP.genericTransparency,displayName:(0,r.D)("Visual_Image_Transparency")},[m.customFormatString]:{displayName:(0,r.D)("Visual_FormatCode"),description:(0,r.D)("Visual_FormatCode_Description"),type:{text:!0}}},E={[m.accentBarShow]:d.SP.show,[m.accentBarPosition]:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:t.fF}},[m.accentBarColor]:d.SP.genericColor,[m.accentBarTransparency]:d.SP.genericTransparency,[m.accentBarWidth]:d.SP.width},c={[m.backgroundFillColor]:d.SP.genericColor,[m.backgroundTransparency]:d.SP.backgroundTransparency,[m.backgroundShow]:d.SP.show,[m.backgroundImage]:d.SP.image,[m.backgroundImageTransparency]:d.SP.backgroundTransparency},f={[m.rectangleRoundedCurveCustomStyle]:{displayName:(0,r.D)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},[m.rectangleRoundedCurve]:{displayName:(0,r.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[m.rectangleRoundedCurveLeftTop]:{displayName:(0,r.D)("Visual_CornerTopLeft"),type:{integer:!0}},[m.rectangleRoundedCurveRightTop]:{displayName:(0,r.D)("Visual_CornerTopRight"),type:{integer:!0}},[m.rectangleRoundedCurveLeftBottom]:{displayName:(0,r.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[m.rectangleRoundedCurveRightBottom]:{displayName:(0,r.D)("Visual_CornerBottomRight"),type:{integer:!0}}},D={[v.smallMultiplesLayout]:{displayName:(0,r.D)("Small_Multiples_Layout_Section"),properties:p},[v.smallMultiplesBorder]:{displayName:(0,r.D)("Visual_Border"),properties:y},[v.smallMultiplesGrid]:{displayName:(0,r.D)("Visual_Gridline_Show"),properties:S},[v.smallMultiplesOverFlow]:{displayName:(0,r.D)("Visual_OverFlow"),properties:C},[v.smallMultiplesHeader]:{displayName:(0,r.D)("Small_Multiples_Header"),properties:u},[v.smallMultiplesAccentBar]:{displayName:(0,r.D)("Visual_Outline_AccentBar"),properties:E},[v.smallMultiplesOuterShape]:{displayName:(0,r.D)("Visual_Shape"),properties:f},[v.smallMultiplesCellBackGround]:{displayName:(0,r.D)("Visual_Background"),properties:c}}},801857:function(me,j,e){e.d(j,{J:function(){return l}});var r=e(147293),i=e(329332),a=e(143924);function t(g){return[{name:"Values",kind:r.Ts.GroupingOrMeasure,displayName:(0,i.D)(g&&g.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function l(g){return{dataRoles:t(g),objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:a.SP.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,i.D)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,i.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,i.D)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,i.D)("Visual_Grid"),properties:{outlineColor:a.SP.outlineColor,outlineWeight:a.SP.outlineWeight,gridVertical:{displayName:(0,i.D)("Visual_GridVertical"),description:(0,i.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,i.D)("Visual_GridVertical_Color"),description:(0,i.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,i.D)("Visual_GridVertical_Weight"),description:(0,i.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,i.D)("Visual_GridHorizontal"),description:(0,i.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,i.D)("Visual_GridHorizontal_Color"),description:(0,i.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,i.D)("Visual_GridHorizontal_Weight"),description:(0,i.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,i.D)("Visual_RowPadding"),description:(0,i.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,i.D)("Visual_Tablix_ImageHeight"),description:(0,i.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,i.D)("Visual_Tablix_ColumnHeaders"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor,wordWrap:a.SP.wordWrap}},values:{displayName:(0,i.D)("Visual_Tablix_Values"),properties:{outline:a.SP.outline,backColor:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,i.D)("Visual_FontColor"),description:(0,i.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,i.D)("Background_Color"),description:(0,i.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,i.D)("Visual_Tablix_FontColorSecondary"),description:(0,i.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,i.D)("Visual_Tablix_BackColorSecondary"),description:(0,i.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,i.D)("Visual_Tablix_UrlIcon"),description:(0,i.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,i.D)("Visual_Total"),properties:{outline:a.SP.outline,fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor}},columnFormatting:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:a.SP.tablixFontColor,backColor:a.SP.backColor,styleHeader:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,i.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},211598:function(me,j,e){e.d(j,{o:function(){return g},w:function(){return n}});var r=e(596920),i=e(147293),a=e(329332),t=e(143924);function l(d){return[{name:"Values",kind:i.Ts.GroupingOrMeasure,displayName:(0,a.D)(d&&d.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function g(d){return{dataRoles:l(d),objects:{general:{displayName:(0,a.D)("Visual_General"),properties:{formatString:t.SP.formatString}},grid:{displayName:(0,a.D)("Visual_Grid"),properties:{...t.ac,gridVertical:{displayName:(0,a.D)("Visual_GridVertical"),description:(0,a.D)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,a.D)("Visual_GridVertical_Color"),description:(0,a.D)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,a.D)("Visual_GridVertical_Weight"),description:(0,a.D)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,a.D)("Visual_GridHorizontal"),description:(0,a.D)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,a.D)("Visual_GridHorizontal_Color"),description:(0,a.D)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,a.D)("Visual_GridHorizontal_Weight"),description:(0,a.D)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,a.D)("Visual_RowPadding"),description:(0,a.D)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,a.D)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,a.D)("Visual_General_Properties_Height"),description:(0,a.D)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,a.D)("Visual_General_Properties_Width"),description:(0,a.D)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,a.D)("Visual_Tablix_ColumnHeaders"),properties:{...t.ac,...t.Hp,alignment:t.SP.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,a.D)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:t.SP.wordWrap}},values:{displayName:(0,a.D)("Visual_Tablix_Values"),properties:{...t.ac,...t.Hp,backColor:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,a.D)("Visual_FontColor"),description:(0,a.D)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,a.D)("Background_Color"),description:(0,a.D)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,a.D)("Visual_Tablix_FontColorSecondary"),description:(0,a.D)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,a.D)("Visual_Tablix_BackColorSecondary"),description:(0,a.D)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,a.D)("Visual_Tablix_UrlIcon"),description:(0,a.D)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:t.SP.wordWrap,icon:{displayName:(0,a.D)("Visual_Tablix_Icons"),description:(0,a.D)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,a.D)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,a.D)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,a.D)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,a.D)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},...t.ac,...t.Hp}},columnFormatting:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,a.D)("Visual_DisplayUnits"),description:(0,a.D)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:t.SP.labelPrecision,fontColor:t.SP.tablixFontColor,backColor:t.SP.backColor,alignment:t.SP.textAlignment,styleHeader:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,a.D)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,a.D)("Visual_ConditionalFormatting_DataBars"),description:(0,a.D)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:t.rg.sparklines,accessibility:{displayName:(0,a.D)("Accessibility"),properties:{altTextColumns:{displayName:(0,a.D)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,a.D)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var n=(0,r.cM)(g().objects)},653928:function(me,j,e){e.d(j,{U$:function(){return d},WM:function(){return g},qR:function(){return n}});var r=e(147293),i=e(329332),a=e(844839),t=e(143924),l=e(841333),g=function(s){return s.Top="--accent-bar-top",s.Right="--accent-bar-right",s.Bottom="--accent-bar-bottom",s.Left="--accent-bar-left",s}({});function n(s){return{dataRoles:[{name:l.E0.value,kind:r.Ts.Grouping,displayName:(0,i.D)("Field"),description:(0,i.D)("Role_DisplayName_FieldDescription"),requiredTypes:[{text:!0}]}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:t.SP.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selectedValues:{suppressFormatPainterCopy:!0,type:{exprList:{}},transient:!0}}},slicerSettings:{properties:{multiselect:{displayName:(0,i.D)("Accept_Multiple_Values"),type:{bool:!0}}}},inputText:{properties:{placeholder:{displayName:(0,i.D)("Placeholder"),type:{text:!0}},fontFamily:t.SP.fontFamily,fontSize:t.SP.fontSize,bold:t.SP.bold,italic:t.SP.italic,underline:t.SP.underline,fontColor:t.SP.genericColor,fontTransparency:t.SP.genericTransparency,dismissColor:t.SP.genericColor,dismissTransparency:t.SP.genericTransparency,dismissSize:t.SP.iconSize,dismissSpacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}},paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width}},applyButton:{properties:{iconColor:t.SP.genericColor,iconTransparency:t.SP.genericTransparency,iconSize:t.SP.iconSize,paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.SP.show,backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width,spacing:{displayName:(0,i.D)("Visual_Spacing"),type:{integer:!0}}}},inputTextBox:{properties:{paddingTop:{displayName:(0,i.D)("Visual_Margin_Top"),type:{integer:!0}},paddingRight:{displayName:(0,i.D)("Visual_Margin_Right"),type:{integer:!0}},paddingBottom:{displayName:(0,i.D)("Visual_Margin_Bottom"),type:{integer:!0}},paddingLeft:{displayName:(0,i.D)("Visual_Margin_Left"),type:{integer:!0}},backShow:t.SP.show,backColor:t.SP.genericColor,backTransparency:t.SP.genericTransparency,borderShow:t.SP.show,borderColor:t.SP.genericColor,borderTransparency:t.SP.genericTransparency,borderWidth:t.SP.width,accentBarShow:t.SP.show,accentBarPosition:{displayName:(0,i.D)("Visual_Position"),type:{enumeration:(0,a.s)([{value:g.Top,displayName:h=>h.get("Top")},{value:g.Right,displayName:h=>h.get("Visual_TextAlignment_Right")},{value:g.Bottom,displayName:h=>h.get("Bottom")},{value:g.Left,displayName:h=>h.get("Visual_TextAlignment_Left")}])}},accentBarColor:t.SP.genericColor,accentBarTransparency:t.SP.genericTransparency,accentBarWidth:t.SP.width}}},dataViewMappings:[{conditions:[{[l.E0.value]:{min:0,max:1,suppressDrill:!0}}],matrix:{rows:{select:[{for:{in:l.E0.value}}],dataReductionAlgorithm:{window:{count:100}}},includeEmptyGroups:!0}}],sorting:{default:{}},supportsKeyboardFocus:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,keepAllMetadataColumns:!0}}var d={general:{filter:{objectName:"general",propertyName:"filter"},selectedValues:{objectName:"general",propertyName:"selectedValues"}},slicerSettings:{multiselect:{objectName:"slicerSettings",propertyName:"multiselect"}},inputText:{placeholder:{objectName:"inputText",propertyName:"placeholder"},fontFamily:{objectName:"inputText",propertyName:"fontFamily"},fontSize:{objectName:"inputText",propertyName:"fontSize"},bold:{objectName:"inputText",propertyName:"bold"},italic:{objectName:"inputText",propertyName:"italic"},underline:{objectName:"inputText",propertyName:"underline"},fontColor:{objectName:"inputText",propertyName:"fontColor"},fontTransparency:{objectName:"inputText",propertyName:"fontTransparency"},dismissColor:{objectName:"inputText",propertyName:"dismissColor"},dismissTransparency:{objectName:"inputText",propertyName:"dismissTransparency"},dismissSize:{objectName:"inputText",propertyName:"dismissSize"},dismissSpacing:{objectName:"inputText",propertyName:"dismissSpacing"},paddingTop:{objectName:"inputText",propertyName:"paddingTop"},paddingRight:{objectName:"inputText",propertyName:"paddingRight"},paddingBottom:{objectName:"inputText",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputText",propertyName:"paddingLeft"},backColor:{objectName:"inputText",propertyName:"backColor"},backTransparency:{objectName:"inputText",propertyName:"backTransparency"},borderShow:{objectName:"inputText",propertyName:"borderShow"},borderColor:{objectName:"inputText",propertyName:"borderColor"},borderTransparency:{objectName:"inputText",propertyName:"borderTransparency"},borderWidth:{objectName:"inputText",propertyName:"borderWidth"}},applyButton:{iconColor:{objectName:"applyButton",propertyName:"iconColor"},iconTransparency:{objectName:"applyButton",propertyName:"iconTransparency"},iconSize:{objectName:"applyButton",propertyName:"iconSize"},paddingTop:{objectName:"applyButton",propertyName:"paddingTop"},paddingRight:{objectName:"applyButton",propertyName:"paddingRight"},paddingBottom:{objectName:"applyButton",propertyName:"paddingBottom"},paddingLeft:{objectName:"applyButton",propertyName:"paddingLeft"},backShow:{objectName:"applyButton",propertyName:"backShow"},backColor:{objectName:"applyButton",propertyName:"backColor"},backTransparency:{objectName:"applyButton",propertyName:"backTransparency"},borderShow:{objectName:"applyButton",propertyName:"borderShow"},borderColor:{objectName:"applyButton",propertyName:"borderColor"},borderTransparency:{objectName:"applyButton",propertyName:"borderTransparency"},borderWidth:{objectName:"applyButton",propertyName:"borderWidth"},spacing:{objectName:"applyButton",propertyName:"spacing"}},inputTextBox:{paddingTop:{objectName:"inputTextBox",propertyName:"paddingTop"},paddingRight:{objectName:"inputTextBox",propertyName:"paddingRight"},paddingBottom:{objectName:"inputTextBox",propertyName:"paddingBottom"},paddingLeft:{objectName:"inputTextBox",propertyName:"paddingLeft"},backShow:{objectName:"inputTextBox",propertyName:"backShow"},backColor:{objectName:"inputTextBox",propertyName:"backColor"},backTransparency:{objectName:"inputTextBox",propertyName:"backTransparency"},borderShow:{objectName:"inputTextBox",propertyName:"borderShow"},borderColor:{objectName:"inputTextBox",propertyName:"borderColor"},borderTransparency:{objectName:"inputTextBox",propertyName:"borderTransparency"},borderWidth:{objectName:"inputTextBox",propertyName:"borderWidth"},accentBarShow:{objectName:"inputTextBox",propertyName:"accentBarShow"},accentBarPosition:{objectName:"inputTextBox",propertyName:"accentBarPosition"},accentBarColor:{objectName:"inputTextBox",propertyName:"accentBarColor"},accentBarTransparency:{objectName:"inputTextBox",propertyName:"accentBarTransparency"},accentBarWidth:{objectName:"inputTextBox",propertyName:"accentBarWidth"}}}},818365:function(me,j,e){e.d(j,{Hp:function(){return t},PE:function(){return a},fF:function(){return l},lq:function(){return g}});var r=e(329332),i=e(143924),a={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t={objects:{general:{displayName:(0,r.D)("Visual_General"),properties:{[a.general.paragraphs.propertyName]:{type:{paragraphs:{}},suppressFormatPainterCopy:!0}}},text:{displayName:(0,r.D)("Text"),properties:{[a.text.fontSize.propertyName]:{displayName:(0,r.D)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},[a.text.fontFamily.propertyName]:{displayName:(0,r.D)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},[a.text.color.propertyName]:{displayName:(0,r.D)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}}}},values:{properties:{[a.values.expr.propertyName]:{formatStringProperty:a.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},[a.values.formatString.propertyName]:i.SP.formatString}}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},l="\n",g="__Newline__"},160990:function(me,j,e){e.d(j,{GA:function(){return l},Vo:function(){return h},pP:function(){return g},q:function(){return n}});var r=e(329332),i=e(390688),a=e(935048),t=e(143924),l={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},g={text:"text",icon:"icon"},n={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},d={show:t.SP.show,...t.j,[n.text]:{displayName:(0,r.D)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},[n.textVerticalAlignment]:t.SP.verticalAlignment,[n.textHorizontalAlignment]:t.SP.horizontalAlignment,[n.textLeftMargin]:{displayName:(0,r.D)("Visual_Margin_Left"),type:{integer:!0}},[n.textRightMargin]:{displayName:(0,r.D)("Visual_Margin_Right"),type:{integer:!0}},[n.textTopMargin]:{displayName:(0,r.D)("Visual_Margin_Top"),type:{integer:!0}},[n.textBottomMargin]:{displayName:(0,r.D)("Visual_Margin_Bottom"),type:{integer:!0}}},s={show:t.SP.show,shapeType:{displayName:(0,r.D)("Icon"),type:{enumeration:i.C}},[n.iconImage]:t.SP.image,[n.iconColor]:t.SP.lineColor,[n.iconTransparency]:t.SP.lineTransparency,[n.iconWeight]:{displayName:(0,r.D)("Visual_BasicShape_Weight"),type:{integer:!0}},[n.iconPlacement]:{displayName:(0,r.D)("Visual_IconPlacement"),type:{enumeration:a.NW}},[n.iconVerticalAlignment]:t.SP.verticalAlignment,[n.iconHorizontalAlignment]:t.SP.horizontalAlignment,[n.iconLeftMargin]:{displayName:(0,r.D)("Visual_Margin_Left"),type:{integer:!0}},[n.iconRightMargin]:{displayName:(0,r.D)("Visual_Margin_Right"),type:{integer:!0}},[n.iconTopMargin]:{displayName:(0,r.D)("Visual_Margin_Top"),type:{integer:!0}},[n.iconBottomMargin]:{displayName:(0,r.D)("Visual_Margin_Bottom"),type:{integer:!0}},[n.iconSize]:{displayName:(0,r.D)("Visual_IconSize"),placeHolderText:(0,r.D)("Visual_Auto"),type:{numeric:!0}}},h={[g.text]:{displayName:(0,r.D)("Text"),properties:d},[g.icon]:{displayName:(0,r.D)("Icon"),properties:s}}},66456:function(me,j,e){e.d(j,{$b:function(){return S},Ct:function(){return y},K9:function(){return f},X7:function(){return c},ZX:function(){return L},eR:function(){return u}});var r=e(329332),i=e(844839),a=e(473839),t=e(785659),l=e(247328),g=e(294223),n=e(596515),d=e(599003),s=e(604763),h=e(39473),o=e(535743),v=e(92298),m=e(143924),p=e(347631),y={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},maxTiles:{objectName:"layout",propertyName:"maxTiles"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"},style:{objectName:"layout",propertyName:"style"},fixedButtonsCount:{objectName:"layout",propertyName:"fixedButtonsCount"},indentation:{objectName:"layout",propertyName:"indentation"},reverseIndentation:{objectName:"layout",propertyName:"reverseIndentation"},containerIndentation:{objectName:"layout",propertyName:"containerIndentation"},customizeLines:{objectName:"layout",propertyName:"customizeLines"},lineStyle:{objectName:"layout",propertyName:"lineStyle"},lineTransparency:{objectName:"layout",propertyName:"lineTransparency"},lineWidth:{objectName:"layout",propertyName:"lineWidth"},lineColor:{objectName:"layout",propertyName:"lineColor"},gridlineStyle:{objectName:"layout",propertyName:"gridlineStyle"},gridlineTransparency:{objectName:"layout",propertyName:"gridlineTransparency"},gridlineWidth:{objectName:"layout",propertyName:"gridlineWidth"},gridlineColor:{objectName:"layout",propertyName:"gridlineColor"},borderStyle:{objectName:"layout",propertyName:"borderStyle"},borderTransparency:{objectName:"layout",propertyName:"borderTransparency"},borderWidth:{objectName:"layout",propertyName:"borderWidth"},borderColor:{objectName:"layout",propertyName:"borderColor"},rectangleRoundedCurveCustomStyle:{objectName:"layout",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"layout",propertyName:"rectangleRoundedCurve"},rectangleRoundedCurveLeftTop:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"layout",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"layout",propertyName:"rectangleRoundedCurveRightBottom"},backgroundShow:{objectName:"layout",propertyName:"backgroundShow"},backgroundFillColor:{objectName:"layout",propertyName:"backgroundFillColor"},backgroundTransparency:{objectName:"layout",propertyName:"backgroundTransparency"},backgroundImage:{objectName:"layout",propertyName:"backgroundImage"},backgroundImageTransparency:{objectName:"layout",propertyName:"backgroundImageTransparency"},leftOuterMargin:{objectName:"layout",propertyName:"leftOuterMargin"},rightOuterMargin:{objectName:"layout",propertyName:"rightOuterMargin"},topOuterMargin:{objectName:"layout",propertyName:"topOuterMargin"},bottomOuterMargin:{objectName:"layout",propertyName:"bottomOuterMargin"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"},horizontalAlignment:{objectName:"label",propertyName:"horizontalAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},S=function(Y){return Y.Custom="custom",Y.Top="top",Y.TopLeft="topLeft",Y.TopRight="topRight",Y.Center="center",Y.CenterLeft="centerLeft",Y.CenterRight="centerRight",Y.Bottom="bottom",Y.BottomLeft="bottomLeft",Y.BottomRight="bottomRight",Y}({}),C=(0,i.s)([{value:S.Custom,displayName:Y=>Y.get("Custom")},{value:S.Top,displayName:Y=>Y.get("Top")},{value:S.TopLeft,displayName:Y=>Y.get("Visual_LabelPosition_TopLeft")},{value:S.TopRight,displayName:Y=>Y.get("Visual_LabelPosition_TopRight")},{value:S.Center,displayName:Y=>Y.get("Visual_TextAlignment_Center")},{value:S.CenterLeft,displayName:Y=>Y.get("Visual_TextAlignment_Left")},{value:S.CenterRight,displayName:Y=>Y.get("Visual_TextAlignment_Right")},{value:S.Bottom,displayName:Y=>Y.get("Bottom")},{value:S.BottomLeft,displayName:Y=>Y.get("Visual_LabelPosition_BottomLeft")},{value:S.BottomRight,displayName:Y=>Y.get("Visual_LabelPosition_BottomRight")}]),u=function(Y){return Y.OuterPosition="Outer",Y.InnerPosition="Inner",Y}({}),E=(0,i.s)([{value:u.OuterPosition,displayName:Y=>Y.get("Visual_DonutLabelPosition_Outside")},{value:u.InnerPosition,displayName:Y=>Y.get("Visual_DonutLabelPosition_Inside")}]),c={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},f={accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",alignBaselines:"alignBaselines",alignment:"alignment",arrowStemWidth:"arrowStemWidth",arrowheadSize:"arrowheadSize",bold:"bold",bottomMargin:"bottomMargin",calloutSize:"calloutSize",cellPadding:"cellPadding",chevronAngle:"chevronAngle",columnCount:"columnCount",columnPadding:"columnPadding",customFormatString:"customFormatString",customizePadding:"customizePadding",fillColor:"fillColor",fillImage:"image",fillTransparency:"transparency",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",glowColor:"color",glowDistance:"glowDistance",glowPositionPreset:"glowPositionPreset",glowSpread:"glowSpread",glowTransparency:"transparency",heading:"heading",hexagonSlant:"hexagonSlant",horizontalAlignment:"horizontalAlignment",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurve:"rectangleRoundedCurve",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",maxTiles:"maxTiles",octagonSnipSize:"octagonSnipSize",orientation:"orientation",outlineColor:"lineColor",outlineTransparency:"transparency",outlineWeight:"weight",OverFlowDirection:"overFlowDirection",OverFlowStyle:"overFlowStyle",paddingSelection:"paddingSelection",parallelogramSlant:"parallelogramSlant",position:"position",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rightMargin:"rightMargin",rowCount:"rowCount",rowPadding:"rowPadding",shadowAngle:"angle",shadowBlur:"shadowBlur",shadowColor:"color",shadowDistance:"shadowDistance",shadowPositionPreset:"shadowPositionPreset",shadowSpread:"shadowSpread",shadowTransparency:"transparency",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",show:"show",showBlankAs:"showBlankAs",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailAngle:"speechBubbleTailAngle",speechBubbleTailPosition:"speechBubbleTailPosition",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabRoundCornerBottom:"tabRoundCornerBottom",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerTopRight:"tabRoundCornerTopRight",text:"text",textWrap:"textWrap",tileShape:"tileShape",topMargin:"topMargin",transparency:"transparency",trapezoidSlant:"trapezoidSlant",underline:"underline",verticalSpacing:"verticalSpacing"},b={show:m.SP.show,[f.fillColor]:m.SP.fill,[f.fillTransparency]:m.SP.backgroundTransparency,[f.fillImage]:m.SP.image},T={show:m.SP.show,[f.fillColor]:m.SP.fill,[f.fillTransparency]:m.SP.backgroundTransparency,[f.fillImage]:m.SP.image,[f.imageTransparency]:m.SP.backgroundTransparency,[f.imageSplitTransparency]:{type:{bool:!0}}},M={show:m.SP.show,[f.outlineColor]:m.SP.outlineColor,[f.outlineTransparency]:m.SP.lineTransparency,[f.outlineWeight]:m.SP.outlineWeight},V={[f.tileShape]:{displayName:(0,r.D)("Visual_Shape"),type:{enumeration:h.N}},[f.shapeRounding]:{displayName:(0,r.D)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},[f.arrowheadSize]:{displayName:(0,r.D)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},[f.arrowStemWidth]:{displayName:(0,r.D)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},[f.chevronAngle]:{displayName:(0,r.D)("Visual_Angle"),type:{integer:!0}},[f.isocelesTriangleTipPosition]:{displayName:(0,r.D)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},[f.parallelogramSlant]:{displayName:(0,r.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.trapezoidSlant]:{displayName:(0,r.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.hexagonSlant]:{displayName:(0,r.D)("Visual_Shape_Slant"),type:{integer:!0}},[f.octagonSnipSize]:{displayName:(0,r.D)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},[f.speechBubbleHeight]:{displayName:(0,r.D)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},[f.speechBubbleTailPosition]:{displayName:(0,r.D)("Visual_Shape_ChatTailPosition"),type:{enumeration:o.NW}},[f.speechBubbleTailAngle]:{displayName:(0,r.D)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,r.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTopRight]:{displayName:(0,r.D)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,r.D)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,r.D)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},[f.tabRoundCornerTopRight]:{displayName:(0,r.D)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},[f.tabRoundCornerTop]:{displayName:(0,r.D)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},[f.tabRoundCornerBottom]:{displayName:(0,r.D)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}}},w={[f.tileShape]:{displayName:(0,r.D)("Visual_Shape"),type:{enumeration:h.N}},[f.rectangleRoundedCurveCustomStyle]:{displayName:(0,r.D)("Visual_CustomStyle"),type:{bool:!0}},[f.rectangleRoundedCurveLeftTop]:{displayName:(0,r.D)("Visual_CornerTopLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightTop]:{displayName:(0,r.D)("Visual_CornerTopRight"),type:{integer:!0}},[f.rectangleRoundedCurveLeftBottom]:{displayName:(0,r.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.rectangleRoundedCurveRightBottom]:{displayName:(0,r.D)("Visual_CornerBottomRight"),type:{integer:!0}},[f.rectangleRoundedCurve]:{displayName:(0,r.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},[f.tabCutCornerSnipSizeTop]:{displayName:(0,r.D)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},[f.tabCutCornerSnipSizeCustomStyle]:{displayName:(0,r.D)("Visual_CustomStyle"),type:{bool:!0}},[f.tabCutCornerSnipSizeLeftTop]:{displayName:(0,r.D)("Visual_CornerTopLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightTop]:{displayName:(0,r.D)("Visual_CornerTopRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeLeftBottom]:{displayName:(0,r.D)("Visual_CornerBottomLeft"),type:{integer:!0}},[f.tabCutCornerSnipSizeRightBottom]:{displayName:(0,r.D)("Visual_CornerBottomRight"),type:{integer:!0}},[f.tabCutCornerSnipSizeBottom]:{displayName:(0,r.D)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}}},P={show:m.SP.show,[f.shadowColor]:m.SP.genericColor,[f.shadowTransparency]:m.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,r.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,r.D)("Visual_DropShadow_Preset"),type:{enumeration:C}},[f.shadowAngle]:{displayName:(0,r.D)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,r.D)("Distance"),type:{numeric:!0}}},N={show:m.SP.show,[f.glowColor]:m.SP.genericColor,[f.glowTransparency]:m.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,r.D)("Visual_DropShadow_Blur"),type:{numeric:!0}}},I={show:m.SP.show,[f.shadowColor]:m.SP.genericColor,[f.shadowTransparency]:m.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,r.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.shadowPositionPreset]:{displayName:(0,r.D)("Visual_DropShadow_Preset"),type:{enumeration:C}},[f.shadowAngle]:{displayName:(0,r.D)("Visual_Angle"),type:{numeric:!0}},[f.shadowDistance]:{displayName:(0,r.D)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,r.D)("Offset"),type:{enumeration:E}},[f.shadowSpread]:{displayName:(0,r.D)("Visual_BubbleSize"),type:{numeric:!0}}},O={show:m.SP.show,[f.glowColor]:m.SP.genericColor,[f.glowTransparency]:m.SP.genericTransparency,[f.shadowBlur]:{displayName:(0,r.D)("Visual_DropShadow_Blur"),type:{numeric:!0}},[f.glowPositionPreset]:{displayName:(0,r.D)("Visual_DropShadow_Preset"),type:{enumeration:C}},[f.shadowAngle]:{displayName:(0,r.D)("Visual_Angle"),type:{numeric:!0}},[f.glowDistance]:{displayName:(0,r.D)("Distance"),type:{numeric:!0}},[f.position]:{displayName:(0,r.D)("Offset"),type:{enumeration:E}},[f.glowSpread]:{displayName:(0,r.D)("Visual_BubbleSize"),type:{numeric:!0}}},R={show:m.SP.show,[f.position]:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:l.fF}},[f.accentBarColor]:m.SP.genericColor,[f.accentBarTransparency]:m.SP.genericTransparency,[f.accentBarWidth]:m.SP.width},W={[f.alignment]:{displayName:(0,r.D)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},[f.orientation]:{displayName:(0,r.D)("Visual_Arrangement"),type:{enumeration:d.H0}},[f.rowCount]:{displayName:(0,r.D)("Small_Multiples_Layout_Rows"),type:{integer:!0}},[f.columnCount]:{displayName:(0,r.D)("Small_Multiples_Layout_Columns"),type:{integer:!0}},[f.maxTiles]:{displayName:(0,r.D)("Visual_Arrangement_CardsShown"),type:{integer:!0}},[f.cellPadding]:{displayName:(0,r.D)("Visual_Spacing_Between_Cards"),type:{integer:!0}},[f.customizePadding]:{displayName:(0,r.D)("Visual_Spacing_Customize"),type:{bool:!0}},[f.rowPadding]:{displayName:(0,r.D)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},[f.columnPadding]:{displayName:(0,r.D)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},[f.calloutSize]:{displayName:(0,r.D)("Visual_CallOutSize"),type:{numeric:!0}},style:{displayName:(0,r.D)("Style"),type:{enumeration:p.N}},backgroundFillColor:m.SP.genericColor,backgroundTransparency:m.SP.backgroundTransparency,backgroundShow:m.SP.show,backgroundImage:m.SP.image,backgroundImageTransparency:{displayName:(0,r.D)("Visual_Image_Transparency"),type:{numeric:!0}},rectangleRoundedCurveCustomStyle:{displayName:(0,r.D)("Visual_Shape_CustomizeCorners"),type:{bool:!0}},rectangleRoundedCurve:{displayName:(0,r.D)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},rectangleRoundedCurveLeftTop:{displayName:(0,r.D)("Visual_CornerTopLeft"),type:{integer:!0}},rectangleRoundedCurveRightTop:{displayName:(0,r.D)("Visual_CornerTopRight"),type:{integer:!0}},rectangleRoundedCurveLeftBottom:{displayName:(0,r.D)("Visual_CornerBottomLeft"),type:{integer:!0}},rectangleRoundedCurveRightBottom:{displayName:(0,r.D)("Visual_CornerBottomRight"),type:{integer:!0}},customizeLines:{displayName:(0,r.D)("Customize_Lines_String"),type:{bool:!0}},...(0,m.ai)({strokePattern:"lineStyle",strokeTransparency:"lineTransparency",strokeWidth:"lineWidth",strokeColor:"lineColor"}),...(0,m.ai)({strokePattern:"gridlineStyle",strokeTransparency:"gridlineTransparency",strokeWidth:"gridlineWidth",strokeColor:"gridlineColor"}),...(0,m.ai)({strokePattern:"borderStyle",strokeTransparency:"borderTransparency",strokeWidth:"borderWidth",strokeColor:"borderColor"}),leftOuterMargin:{displayName:(0,r.D)("Visual_PaddingLeft"),type:{integer:!0}},rightOuterMargin:{displayName:(0,r.D)("Visual_PaddingRight"),type:{integer:!0}},topOuterMargin:{displayName:(0,r.D)("Visual_PaddingTop"),type:{integer:!0}},bottomOuterMargin:{displayName:(0,r.D)("Visual_PaddingBottom"),type:{integer:!0}}},F={[f.OverFlowStyle]:{displayName:(0,r.D)("Visual_OverFlow_Style"),type:{enumeration:g.N}},[f.OverFlowDirection]:{displayName:(0,r.D)("Visual_OverFlow_Direction"),type:{enumeration:n.N}}},U={[f.paddingSelection]:{displayName:(0,r.D)("Embed_Size"),type:{enumeration:s.NW}},[f.leftMargin]:{displayName:(0,r.D)("Visual_Margin_Left"),type:{integer:!0}},[f.rightMargin]:{displayName:(0,r.D)("Visual_Margin_Right"),type:{integer:!0}},[f.topMargin]:{displayName:(0,r.D)("Visual_Margin_Top"),type:{integer:!0}},[f.bottomMargin]:{displayName:(0,r.D)("Visual_Margin_Bottom"),type:{integer:!0}}},B={show:m.SP.show,...m.j,[f.horizontalAlignment]:m.SP.horizontalAlignment,[f.textWrap]:m.SP.textWrap,[f.labelDisplayUnits]:{...m.SP.labelDisplayUnits,type:{enumeration:t.N}},[f.labelPrecision]:m.SP.labelPrecision,[f.customFormatString]:{displayName:(0,r.D)("Visual_FormatCode"),description:(0,r.D)("Visual_FormatCode_Description"),type:{text:!0}},[f.showBlankAs]:m.SP.showBlankAs,[f.transparency]:m.SP.genericTransparency},x={show:m.SP.show,[f.text]:{displayName:(0,r.D)("Text"),type:{text:!0}},[f.heading]:{displayName:(0,r.D)("Visual_AzureMapsHeading"),type:{enumeration:v.RW}},...m.j,[f.position]:{displayName:(0,r.D)("Visual_Position"),type:{enumeration:a.N}},[f.transparency]:m.SP.genericTransparency,[f.textWrap]:m.SP.textWrap,[f.alignBaselines]:{displayName:(0,r.D)("Visual_AlignBaselines"),type:{bool:!0}},[f.matchValueAlignment]:{displayName:(0,r.D)("Visual_Alignment_MatchValue"),type:{bool:!0}},[f.horizontalAlignment]:m.SP.horizontalAlignment},A={[f.verticalSpacing]:{displayName:(0,r.D)("Visual_Spacing_Vertical"),type:{integer:!0}}},L={[c.fill]:{displayName:(0,r.D)("Visual_Fill"),properties:b},[c.fillCustom]:{displayName:(0,r.D)("Visual_Fill"),properties:T},[c.outline]:{displayName:(0,r.D)("Visual_Outline"),properties:M},[c.shape]:{displayName:(0,r.D)("Visual_Shape"),properties:V},[c.shadow]:{displayName:(0,r.D)("Visual_Shape_Shadow"),properties:P},[c.glow]:{displayName:(0,r.D)("Visual_Shape_Glow"),properties:N},[c.shapeCustomRectangle]:{displayName:(0,r.D)("Visual_Shape"),properties:w},[c.shadowCustom]:{displayName:(0,r.D)("Visual_Shape_Shadow"),properties:I},[c.glowCustom]:{displayName:(0,r.D)("Visual_Shape_Glow"),properties:O},[c.accentBar]:{displayName:(0,r.D)("Visual_Outline_AccentBar"),properties:R},[c.padding]:{displayName:(0,r.D)("Visual_Padding"),properties:U},[c.value]:{displayName:(0,r.D)("Role_DisplayName_Values"),properties:B},[c.label]:{displayName:(0,r.D)("Role_DisplayName_Label"),properties:x},[c.layout]:{displayName:(0,r.D)("Layout"),properties:W},[c.overFlow]:{displayName:(0,r.D)("Visual_OverFlow"),properties:F},[c.spacing]:{displayName:(0,r.D)("Visual_Spacing"),properties:A}}},480543:function(me,j,e){e.d(j,{LX:function(){return d},qf:function(){return n},xG:function(){return s}});var r=e(658577),i=e(147293),a=e(138970),t=e(329332),l=e(143924),g=e(210792),n={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function d(h){return{dataRoles:[{name:"Group",kind:i.Ts.Grouping,displayName:(0,t.D)(h?.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,t.D)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:i.Ts.Grouping,displayName:(0,t.D)("Details")},{name:"Values",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!h?.cartesianConditionalFormatting&&{name:"Gradient",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Gradient"),description:(0,t.D)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:i.gD.None},{name:"Tooltips",kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}].filter(o=>o),objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:l.SP.formatString}},legend:l.rg.legend,dataPoint:{displayName:(0,t.D)("Visual_DataPoint"),description:(0,t.D)("Visual_DataPointDescription"),properties:{fill:l.SP.defaultCategoryColor,fillRule:{displayName:(0,t.D)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},layout:{displayName:(0,t.D)("Layout"),properties:{tilingMethod:{displayName:(0,t.D)("Visual_Treemap_TilingMethod"),description:(0,t.D)("Visual_Treemap_TilingMethod_Description"),type:{enumeration:g.h}},innerPadding:{displayName:(0,t.D)("Visual_PaddingInner_Treemap"),description:(0,t.D)("Visual_PaddingInner_Treemap_Description"),type:{numeric:!0}},outerPadding:{displayName:(0,t.D)("Visual_PaddingOuter_Treemap"),description:(0,t.D)("Visual_PaddingOuter_Treemap_Description"),type:{numeric:!0}}}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:l.SP.show,...l.Nq,labelDisplayUnits:l.SP.labelDisplayUnits,labelPrecision:l.SP.labelPrecision}},categoryLabels:{displayName:(0,t.D)("Visual_CategoryLabels"),description:(0,t.D)("Visual_CategoryLabelsDescription"),properties:{...l.Jk}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:r.U.Descending}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:a.c.GroupInPlace},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:a.c.Color},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:a.c.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}var s={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}},layout:{tilingMethod:{objectName:"layout",propertyName:"tilingMethod"},innerPadding:{objectName:"layout",propertyName:"innerPadding"},outerPadding:{objectName:"layout",propertyName:"outerPadding"}}}},371355:function(me,j,e){e.d(j,{B:function(){return d},S:function(){return n}});var r=e(596920),i=e(147293),a=e(138970),t=e(329332),l=e(228783),g=e(143924),n=(0,r.cM)(d().objects);function d(s){return{dataRoles:[{name:l.vu.category,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_Category"),description:(0,t.D)("Role_DisplayName_CategoryWaterfallDescription")},{name:l.vu.breakdown,kind:i.Ts.Grouping,displayName:(0,t.D)("Role_DisplayName_BreakdownWaterfall"),description:(0,t.D)("Role_DisplayName_BreakdownWaterfallDescription")},{name:l.vu.y,kind:i.Ts.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,t.D)(s?.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,t.D)("Role_DisplayName_ValuesDescription")},{name:l.vu.tooltips,kind:i.Ts.Measure,displayName:(0,t.D)("Role_DisplayName_Tooltips"),description:(0,t.D)("Role_Tooltips_Description"),joinPredicate:i.gD.None}],objects:{general:{displayName:(0,t.D)("Visual_General"),properties:{formatString:g.SP.formatString,responsive:g.SP.responsive,responsiveLegacy:g.SP.responsiveLegacy}},legend:g.rg.legend,categoryAxis:{displayName:(0,t.D)("Visual_XAxis"),properties:{show:g.SP.show,..._.omit(g.Vo,["axisType"]),..._.omit(g.po,["labelDisplayUnits","labelPrecision"]),...(0,g.Jx)("x")}},valueAxis:{displayName:(0,t.D)("Visual_YAxis"),properties:{show:g.SP.show,..._.omit(g.WI,["logAxisScale"]),...g.po,...(0,g.Jx)("y"),...g.hL,totalsEnabled:{displayName:(0,t.D)("Visual_Axis_Total"),description:(0,t.D)("Visual_Axis_TotalDescription"),type:{bool:!0}},switchAxisPosition:g.SP.switchAxisPosition}},labels:{displayName:(0,t.D)("Visual_DataPointsLabels"),description:(0,t.D)("Visual_DataPointsLabelsDescription"),properties:{show:g.SP.show,..._.omit(g.VO,["transparency","valueCustomFormatString","showBlankAs","enableValueDataLabel"]),labelOrientation:g.SP.labelOrientation,labelPosition:g.SP.labelPosition,labelDisplayUnits:g.SP.dataLabelDisplayUnits,...g.Ed}},plotArea:g.rg.plotArea,sentimentColors:{displayName:(0,t.D)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,t.D)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,t.D)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,t.D)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,t.D)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},[l.wn.y1]:{displayName:(0,t.D)("Visual_Reference_Line"),description:(0,t.D)("Visual_Reference_Line_Description"),objectCategory:i.i8.Analytics,properties:g.k4},breakdown:{displayName:(0,t.D)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,t.D)("Visual_Waterfall_MaxBreakdown"),description:(0,t.D)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:a.c.GroupInPlace}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},770380:function(me,j,e){e.d(j,{GA:function(){return o},mV:function(){return s},wD:function(){return h},wt:function(){return d},ye:function(){return m}});var r=e(785463),i=e(702087),a=e(51926),t=e(228783),l=e(49105),g=e(877811),n=e(376944);function d(p,y,S,C,u){return!(u&&!C)&&(!!function(p){return p&&!_.isEmpty(p.values)}(C)||s(p,y,S))}function s(p,y,S){return!(!o(S)||!h(p,y))}function h(p,y){if(!p)return!0;var S=(0,a._W)(p,y);return null==S||S===g.G.scalar}function o(p){return!(0,l.AY)(p)}function m(p,y){if(!p||!p.metadata)return!1;var S;if(p.categorical&&p.categorical.categories&&(0,i.od)(p.categorical.categories)?S=p.categorical.categories.for.in:y&&(0,n.bV)(p)&&(S=(0,n.FL)(p).for.in),null==S)return!1;var E=S.items;if(_.isEmpty(E))return!1;var c=S.activeItems,f=E[0];if(!_.isEmpty(c)){if(c.length>1)return!1;var D=_.find(E,M=>M.queryName===c[0]);r.Y.assertValue(D,"active projection must be part of category items"),f=D}return!!s(p.metadata.objects,t.De.categoryAxis.axisType,f.type)}},376944:function(me,j,e){e.d(j,{ES:function(){return h},FL:function(){return y},T9:function(){return g},Zf:function(){return n},bV:function(){return s},gH:function(){return t},k3:function(){return l},oY:function(){return o},xf:function(){return a},y0:function(){return C},zS:function(){return d}});var r=e(488420),i=e(702087),a="smallMultiplesLayout",t="subheader";function l(E,c){return(E+1)*c}var g=2,n=2,d=l(g,n);function s(E){return r.sh.check(c=>({matrix:c.check(E&&E.matrix,r.t2,f=>({rows:c.check(f.rows,i.PQ,D=>({select:c.check(D.select,(0,r.Ej)(2),b=>[c.check(b[0],i.kz,T=>({composite:c.check(T.composite,(0,r.Ej)(1),M=>[c.check(M[0],i.od,r.D_)]),dataReductionAlgorithm:T.dataReductionAlgorithm})),c.check(b[1],i.kz,T=>({composite:c.check(T.composite,(0,r.Ej)(1),M=>[c.check(M[0],i.od,r.D_)]),dataReductionAlgorithm:T.dataReductionAlgorithm}))])})),columns:c.check(f.columns,i.od,r.D_),values:c.check(f.values,i.PQ,r.D_)})),metadata:E.metadata}))}function h(E){return r.sh.check(c=>({matrix:c.check(E&&E.matrix,r.t2,f=>({rows:c.check(f.rows,i.CT,D=>({select:c.check(D.select,(0,r.Ej)(2),b=>[c.check(b[0],i.Le,T=>({composite:c.check(T.composite,(0,r.Ej)(1),M=>[c.check(M[0],i.lb,r.D_)]),dataReductionAlgorithm:T.dataReductionAlgorithm})),c.check(b[1],i.Le,T=>({composite:c.check(T.composite,(0,r.Ej)(1),M=>[c.check(M[0],i.lb,r.D_)]),dataReductionAlgorithm:T.dataReductionAlgorithm}))])})),columns:c.check(f.columns,i.lb,r.D_)}))}))}function o(E){if(!_.isEmpty(E))for(var c of E)if(c.matrix&&h(c))return!0;return!1}function y(E){return E.matrix.rows.select[1].composite[0]}function C(E,c){E.matrix.rows.select[1].dataReductionAlgorithm=c}},49105:function(me,j,e){e.d(j,{$Q:function(){return v},AA:function(){return g},AY:function(){return l},Ar:function(){return n},id:function(){return s},sl:function(){return d}});var r=e(785463),i=e(336983),a=e(640700),t=e(190846);function l(m){return!(!m||!(m.text||m.bool||m.misc?.barcode||m.geography?.postalCode))}function g(m){return m&&!m.invert}function n(m){return!(!m||!m.dateTime)}function d(m,p,y){r.Y.assertValue(m,"scale");var S=m(p)-m(y);return 0===S?0:S<0?Math.min(S,-1):Math.max(S,1)}function s(m,p,y,S){if(!y){var C=(0,i.eH)();C.update(p-m),y=C.displayUnit&&C.displayUnit.value||1}var u=(m||0)/y,E=(p||0)/y;if(S){var c=(0,a.s6)(S,!1,!1,!0).partsPerScale;u*=c,E*=c}return Math.max(h(u),h(E))}function h(m){if(0===m)return 0;m<0&&(m=-m);var p=Math.floor((0,t.YL)(m));if(p>=0){var C=5-(p+1);return C<=0?0:o(m,C)}return p<-5?5:-p-1+o(m/(0,t.eC)(p+1),5)}function o(m,p){var y=m.toFixed(p),S=y.indexOf(".");if(-1!==S)for(var C=y.length;C-- >S;)if("0"!==y[C])return C-S;return 0}function v(m,p,y){m.each(function(){var S=d3.select(this);y(S.node(),p)})}},378381:function(me,j,e){e.d(j,{A:function(){return n}});var r=e(618644),i=e(587308),a=e(785463),t=e(51926),l=e(47917),g=e(118883);class n{constructor(s,h,o,v,m){this.style=m,this.colors=s,this.fillProp=h,this.defaultDataPointColor=o,this.defaultCategoryColor=v,this.defaultColorScale=this.colors.getNewColorScale()}static create(s,h,o,v){return new n(s.colorPalette.dataColors,h,o,v,s)}getColorForSeriesValue(s,h,o,v,m){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,v):this.getFillWithOptionalValidation(s,m)||this.getColorWithOptionalValidation(this.defaultDataPointColor,m)||this.getColorScaleForSeries(h).getColor(o).value}getColorScaleForSeries(s){return this.colors.getColorScaleByKey((0,g.SZ)(s||[]))}getColorForStaticSeries(s,h,o,v){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,o);var m=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(s,v)||this.getColorWithOptionalValidation(this.defaultDataPointColor,v)||m}getColorForMeasure(s,h,o,v){if(this.style&&this.style.isHighContrast)return n.getHighContrastDataColor(this.style,o);var m=this.defaultColorScale.getColor(h).value;return this.getFillWithOptionalValidation(s,v)||this.getColorWithOptionalValidation(this.defaultCategoryColor,v)||this.getColorWithOptionalValidation(this.defaultDataPointColor,v)||m}getColorForProperty(s,h,o,v){var m=this.style&&o&&n.getThemeColor(this.style,o);return this.getColorForPropertyWithDefaultColor(s,h,m,v)}hasColorForProperty(s,h,o){return(0,t.$N)(s,h,o)}getColorForPropertyWithDefaultColor(s,h,o,v){return this.style&&this.style.isHighContrast?o:(0,t.pM)(s,h,o,v)}getColorForPropertyName(s,h,o){var v=this.style&&o&&n.getThemeColor(this.style,o);return this.getColorForPropertyNameWithDefaultColor(s,h,v)}getColorForPropertyNameWithDefaultColor(s,h,o,v){var m=this.style&&this.style.isHighContrast,p=(0,l.a)(s,h,o,void 0,v);return v&&null===p?null:m?o:p}static getSentimentColor(s,h,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getSentimentColors()[h].value}static getGradientColor(s,h,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getGradientColors()[h].value}static getDataColorByIndex(s,h,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):s.colorPalette.dataColors.getColorByIndex(h).value}static getThemeColor(s,h){return s.colorPalette[h].value}static getFillColor(s,h,o){return s.isHighContrast?n.getHighContrastDataColor(s,o):h&&h.solid&&h.solid.color}static normalizeSelector(s,h){return a.Y.assertAnyValue(s,"selector"),s&&(h||s.data)?{data:s.data}:s}static getHighContrastDataColor(s,h=i.DA){return s.colorPalette[h].value}getFillWithOptionalValidation(s,h){var o=this.fillProp&&(0,t.pM)(s,this.fillProp);return h&&o&&!(0,r.IO)(o)&&(o=void 0),o}getColorWithOptionalValidation(s,h){var o=s;return h&&s&&!(0,r.IO)(s)&&(o=void 0),o}}},572580:function(me,j,e){e.d(j,{$o:function(){return n},A7:function(){return lt},B9:function(){return S},Fh:function(){return Be},Fq:function(){return L},G3:function(){return p},HV:function(){return E},IQ:function(){return I},IY:function(){return P},NF:function(){return l},Nt:function(){return z},O_:function(){return M},Pi:function(){return x},Qj:function(){return B},SE:function(){return ze},Sm:function(){return R},Te:function(){return H},Tg:function(){return y},UL:function(){return Z},WG:function(){return T},Xr:function(){return Le},Xv:function(){return Q},_U:function(){return v},a2:function(){return Ye},bG:function(){return Y},bz:function(){return u},c0:function(){return m},g3:function(){return A},gE:function(){return w},gV:function(){return O},iu:function(){return ut},k:function(){return k},mE:function(){return ee},nh:function(){return C},qt:function(){return Ce},rJ:function(){return N},rp:function(){return J},w5:function(){return V},w6:function(){return K},yc:function(){return d},z2:function(){return h},zr:function(){return Me},zs:function(){return g}});var r=e(123198),i=e(416341),a=e(237193),t=e(255319),l=9,g=8,n=8,d=50,h=.3,v=6,m=8,p=8,y=50,S="0.00 %;-0.00 %;0.00 %",C=9,u=i.Hx.regularSecondary.css,E=i.Hx.regular.css,b="normal",T="foregroundNeutralSecondaryAlt",M="foregroundLight",V="backgroundDark",w=.9,P=4,N=2,I=4,O=4,R=2,B=void 0,x=void 0,A=void 0,L=void 0,Y=void 0,z=15,H=0,Z=1,k=50,K=0,ee=400,Q=-1,J=1,Me=((0,t.tI)("labels"),(0,t.tI)("lines"),(0,t.tI)("data-labels"),(0,t.tI)("line-label"),(0,t.tI)("labelGraphicsContext")),Ye=(0,t.tI)("labelContainerGraphicsContext"),Le=(0,t.tI)("labelBackgroundGraphicsContext"),lt=(0,t.tI)("labelSeriesGraphicsContext"),ut=(0,t.tI)("labelSeriesBackgroundGraphicsContext"),St="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",ze=new RegExp(`^[^${St}]*?[${St}]`),Be={fontFamily:i.Hx.regularSecondary.css,fontSize:r.V4.fromPoint(C),fontWeight:b},Ce={family:u,size:a.Z.createFromPt(C),weight:b,style:null,textDecoration:null}},253733:function(me,j,e){e.d(j,{Hq:function(){return s},Kp:function(){return l},LF:function(){return g},ek:function(){return d}});var r=e(658577),i=e(785463),a=e(228783),t=e(309746);function l(h){return h&&h.categorical&&h.categorical.categories&&h.categorical.categories.length>1}function g(h){if(function(h){if(_.isEmpty(h))return!1;var o=_.some(h,v=>{var m=v.categorical;if(!m)return!1;if(!m.categories)return!1;var y=m.values;return!(!(y&&y.group&&y.group.by)||_.isEmpty(y.group.by.items))});return!o}(h))for(var v of h){if(!v.categorical)return;var m=v.categorical.categories;if(!m||!m.dataReductionAlgorithm||!m.dataReductionAlgorithm.window)return;m.dataReductionAlgorithm={window:{count:1e3}}}}function d(h){for(var o of(i.Y.assertNonEmpty(h,"mappings"),h))(0,t.Ax)(o.categorical.categories,{visitRole:m=>{var p=m.items;if(!_.isEmpty(p)&&!_.isEmpty(m.activeItems)){var y=_.filter(p,C=>_.includes(m.activeItems,C.queryName));for(var S of y)S.filteredToUniqueValueProperty=a.De.filters.filteredToUniqueValue}}})}function s(h,o,v=r.U.Ascending){var m=function(){if(!(y&&y.categorical&&y.categorical.categories&&y.metadata))return 0;var S=y.metadata.columns,C=y.categorical.categories;if(_.some(S,u=>void 0!==u.sort))return 0;(0,t.Ax)(C,{visitRole:(u,E)=>{if(_.includes(o,u.role)){var c=u.activeItems;if(!_.isEmpty(c)){var f=0,D=function(T){var M=_.find(S,V=>V.queryName===T);M&&(M.sort=v,M.sortOrder=f++)};for(var b of c)D(b)}}}})};for(var y of h)m()}},710280:function(me,j,e){e.d(j,{A:function(){return a},n:function(){return i}});var r=e(785463),i=function(t){return t[t.Invalid=0]="Invalid",t[t.Enabled=1]="Enabled",t[t.Disabled=2]="Disabled",t}({});class a{constructor(l,g,n,d){this.matchObjectName=l,this.matchPropertyName=g,this.relatedTopLevelToggleValue=n,this.hasSelector=d,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}onToggleDisabled(...l){return this.disabledBehaviorChanges.push(...l),this}onToggleEnabled(...l){return this.enabledBehaviorChanges.push(...l),this}getBehaviorChanges(l){switch(l){case i.Disabled:return this.disabledBehaviorChanges;case i.Enabled:return this.enabledBehaviorChanges;default:r.Y.assertNever(l)}}updateBehaviorChanges(l,g){switch(l){case i.Disabled:this.disabledBehaviorChanges.forEach(n=>n.updateChange(g));break;case i.Enabled:this.enabledBehaviorChanges.forEach(n=>n.updateChange(g));break;default:r.Y.assertNever(l)}}getToggleBehaviorType(l){return this.relatedTopLevelToggleValue&&!l.propertyValue?i.Disabled:!this.relatedTopLevelToggleValue&&l.propertyValue?i.Enabled:i.Invalid}isMatchingVisualObjectChange(l){return l.objectName===this.matchObjectName&&l.propertyName===this.matchPropertyName&&!!l.selector===this.hasSelector}}},807026:function(me,j,e){e.d(j,{E:function(){return i}});var r=e(710280);class i extends r.A{constructor(t,l,g){super(t,l,g,!1)}static create(t,l){return new i(t.objectName,t.propertyName,l)}getChanges(t){if(this.isMatchingVisualObjectChange(t)){var l=this.getToggleBehaviorType(t);if(l!==r.n.Invalid)return this.updateBehaviorChanges(l,t),this.getBehaviorChanges(l)}return[]}}},557963:function(me,j,e){e.d(j,{d:function(){return r}});class r{static getDataViewObjectsBehaviorChanges(a,t){var l=[];for(var g of a)for(var n of t)l.unshift(...n.getChanges(g));return l}static applyDataViewObjectsBehaviorChanges(a,t){var l=[...a];for(var g of t)l=g.applyChange(l);return l}}},262668:function(me,j,e){e.d(j,{A:function(){return r}});class r{constructor(a,t,l){this.visualObjectChange=a,this.required=t,this.shouldInheritSelector=l}static createBooleanDataViewObjectChange(a,t,l){var g={...a,propertyValue:t,propertyType:{bool:!0}};return r.create(g,l)}static createRevertToDefaultDataViewObjectChange(a,t){return r.create({objectName:a,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},t)}static createColorDataViewObjectChange(a,t,l){var g={...a,propertyValue:{value:t},propertyType:{fill:{solid:{color:!0}}}};return r.create(g,l)}static createNumericDataViewObjectChange(a,t,l){var g={...a,propertyValue:t,propertyType:{numeric:!0}};return r.create(g,l)}static create(a,t){return t?.selector&&(a.selector=t.selector),new r(a,t?.required,t?.inheritSelector)}applyChange(a){return a.push(this.visualObjectChange),a}updateChange(a){this.shouldInheritSelector&&(this.visualObjectChange.selector=a.selector)}}},724535:function(me,j,e){function r(a){if(a)return!!a.handled}function i(a){a&&(a.handled=!0)}e.d(j,{R:function(){return r},o:function(){return i}})},824760:function(me,j,e){e.d(j,{B3:function(){return p},Bq:function(){return u},De:function(){return d},IL:function(){return o},Iv:function(){return s},o:function(){return v},q1:function(){return E},rA:function(){return S},sU:function(){return m}});var r=e(255319),i=e(785463),a=e(473001),t=e(123198),l=e(47917),g=e(626079),n=e(237193);function d(f,D,b,T,M){var V=h(f,D,b,T,M);return M?o(M,V):V}function s(f,D,b,T,M,V,w,P){var N=h(f,D,b,void 0),I=(0,g.r)(T,V),O=I;if(D.color){var R=b.getColorForPropertyName(f,D.color,M);O=P?o(I,{color:R}):o({color:R},I)}return w&&(O=o(w,O)),O?o(O,N):N}function h(f,D,b,T,M){i.Y.assertValue(D,"propertyNames");var V,w=D.weight&&(0,l._)(f,D.weight),P=D.style&&(0,l._)(f,D.style),N=D.underline&&(0,l._)(f,D.underline);if(D.size){var I=(0,l._)(f,D.size);null!=I&&(V=D.sizeInPixels?n.Z.createFromPx(+I):n.Z.createFromPt(+I))}if(D.bold){var O=(0,l._)(f,D.bold);O??M?.weight===r.HM?w=r.HM:!1===O&&(w=null)}if(D.italic){var F=(0,l._)(f,D.italic);F??M?.style===r.On?P=r.On:!1===F&&(P=null)}if(D.underline){var x=(0,l._)(f,D.underline);x??M?.textDecoration===r.wr?N=r.wr:!1===x&&(N=null)}return{color:D.color&&b.getColorForPropertyName(f,D.color,T),family:D.family&&(0,l._)(f,D.family),lineHeight:D.lineHeight&&(0,l._)(f,D.lineHeight),size:V,style:P,variant:D.variant&&(0,l._)(f,D.variant),weight:w,whiteSpace:D.whiteSpace&&(0,l._)(f,D.whiteSpace),textDecoration:N}}function o(f,D){i.Y.assertValue(f,"fontProperties");var b=(0,a.IL)(f);return D&&((D.color||null===D.color)&&(b.color=D.color),D.family&&(b.family=D.family),D.lineHeight&&(b.lineHeight=D.lineHeight),D.size&&(b.size=D.size),(D.style||null===D.style)&&(b.style=D.style),D.variant&&(b.variant=D.variant),(D.weight||null===D.weight)&&(b.weight=D.weight),D.whiteSpace&&(b.whiteSpace=D.whiteSpace),(D.textDecoration||null===D.textDecoration)&&(b.textDecoration=D.textDecoration)),b}function v(f,D,b){return i.Y.assertValue(f,"fontProperties"),b&&(f=C(f)),{text:D,fontFamily:f.family,fontSize:f.size?t.V4.toString(f.size.px):void 0,fontWeight:f.weight,fontStyle:f.style,fontVariant:f.variant,whiteSpace:f.whiteSpace}}function m(f){i.Y.assertValue(f,"fontProperties");var D={};return f.color&&(D.color=f.color),f.family&&(D["font-family"]=f.family),f.lineHeight&&(D["line-height"]=f.lineHeight),f.size&&(D["font-size"]=f.size?t.V4.toString(f.size.px):void 0),f.variant&&(D["font-variant"]=f.variant),f.whiteSpace&&(D["white-space"]=f.whiteSpace),D["font-weight"]=f.weight?f.weight:null,D["font-style"]=f.style?f.style:null,D["text-decoration"]=f.textDecoration?f.textDecoration:null,D}function p(f,D){return i.Y.assertValue(f,"fontProperties"),i.Y.assertValue(D,"element"),function(f,D){i.Y.assertValue(f,"fontProperties"),i.Y.assertValue(D,"style"),f.color&&(D.fill=f.color),f.family&&(D.fontFamily=f.family),f.lineHeight&&(D.lineHeight=f.lineHeight),f.size&&(D.fontSize=f.size?t.V4.toString(f.size.px):void 0),f.style&&(D.fontStyle=f.style),f.variant&&(D.fontVariant=f.variant),f.weight&&(D.fontWeight=f.weight),f.whiteSpace&&(D.whiteSpace=f.whiteSpace)}(f,D.style),D}function S(f){i.Y.assertValue(f,"fontProperties");var D={};return f.color&&(D.fill=f.color),f.family&&(D["font-family"]=f.family),f.lineHeight&&(D["line-height"]=f.lineHeight),f.size&&(D["font-size"]=f.size?t.V4.toString(f.size.px):void 0),f.variant&&(D["font-variant"]=f.variant),f.whiteSpace&&(D["white-space"]=f.whiteSpace),D["font-weight"]=f.weight?f.weight:null,D["font-style"]=f.style?f.style:null,D["text-decoration"]=f.textDecoration?f.textDecoration:null,D}function C(f,D=0){for(var b={},T=Object.getPrototypeOf({}),M=0;M<=D&&null!=f&&f!==T;M++)_.forOwn(f,(V,w)=>{void 0===b[w]&&(b[w]=V)}),f=Object.getPrototypeOf(f);return b}function u(f){return C(f,Number.MAX_VALUE)}function E(f){return{color:D=>f(D).color,"font-family":D=>f(D).family,"font-size":D=>f(D).size?t.V4.toString(f(D).size.px):void 0,"font-style":D=>f(D).style,"font-variant":D=>f(D).variant,"font-weight":D=>f(D).weight,"white-space":D=>f(D).whiteSpace,"text-decoration":D=>f(D).textDecoration}}},386426:function(me,j,e){e.d(j,{Nk:function(){return g},PA:function(){return n},QE:function(){return l},cp:function(){return t},jw:function(){return i},ou:function(){return d},uL:function(){return a},vo:function(){return r}});var r=function(s){return s.Page="Page",s.Visual="Visual",s.General="Format_Label_General",s.Analytics="Analytics",s}({}),i=function(s){return s.AxisZoom="zoom",s.Bars="bars",s.Breakdown="breakdown",s.CategoryAxis="categoryAxis",s.ExpansionIcon="expansionIcon",s.SelectionIcon="selectionIcon",s.ErrorBars="errorBars",s.Gridlines="gridlines",s.Layout="layout",s.Legend="legend",s.Lines="lines",s.LineStyles="lineStyles",s.ShadeArea="shadeArea",s.Markers="markers",s.PlotBackground="plotBackground",s.RibbonChart="ribbonChart",s.SentimentColors="sentimentColors",s.SmallMultiples="smallMultiples",s.SmallMultiplesLayout="smallMultiplesLayout",s.Subheader="subheader",s.ValueAxis="valueAxis",s.Y2Axis="y2Axis",s.Axis="axis",s.BlankRows="blankRows",s.Buttons="buttons",s.CalloutValue="calloutValue",s.CalloutValues="Visual_CallOutValues",s.Card="card",s.ColumnFormatting="columnFormatting",s.ColumnHeaders="columnHeaders",s.ColumnSubtotal="columnSubTotal",s.ColumnGrandTotal="columnTotal",s.Datapoint="datapoint",s.Date="date",s.FillColors="fillColors",s.Grid="grid",s.Hierarchy="hierarchy",s.Icons="icons",s.InputTextBox="inputTextBox",s.ImageHeight="imageHeight",s.Images="images",s.MapSettings="mapSettings",s.PercentBarLabel="percentBarLabel",s.Rotation="rotation",s.RowHeaders="rowHeaders",s.RowSubtotal="rowSubTotal",s.RowGrandTotal="rowTotal",s.Selection="selection",s.SlicerHeader="slicerHeader",s.SlicerSettings="slicerSettings",s.Slices="slices",s.Slider="slider",s.Sparklines="sparklines",s.StrokeColor="strokeColor",s.Target="target",s.TargetLabel="targetLabel",s.TrendAxis="trendAxis",s.UrlIcon="urlIcon",s.Values="values",s.MapControls="mapControls",s.Styles="styles",s.Controls="controls",s.DefaultStyle="defaultStyle",s.WorldWrap="worldWrap",s.ShowStylePicker="showStylePicker",s.ShowNavigationControls="showNavigationControls",s.ShowSelectionControl="showSelectionControl",s.GeocodingCulture="geocodingCulture",s.CategoryLabels="categoryLabels",s.Colors="colors",s.ConditionalFormatting="conditionalFormatting",s.Labels="labels",s.SeriesLabels="seriesLabels",s.Title="title",s.TotalLabels="totals",s.VisualPlaceholderCard="visualPlaceholderCard",s.Shape="shape",s.ShapeStyle="shapeStyle",s.ButtonStyle="buttonStyle",s.SizeAndStyle="sizeAndStyle",s.Style="style",s.Text="text",s.Accessibility="accessibility",s.Anomaly="anomaly",s.Forecast="forecast",s.PlotAreaShading="plotAreaShading",s.RatioLine="ratioLine",s.ReferenceLineMin="referenceLine-minLine",s.ReferenceLineMax="referenceLine-maxLine",s.ReferenceLineAverage="referenceLine-averageLine",s.ReferenceLineMedian="referenceLine-medianLine",s.ReferenceLinePercentile="referenceLine-percentileLine",s.TrendLine="trendLine",s.XAxisReferenceLine="xAxisReferenceLine",s.Y1AxisReferenceLine="y1AxisReferenceLine",s.ReferenceLine="referenceLine",s}({}),a=function(s){return s.AltTextRowHeaders="AltTextRowHeaders",s.AltTextColumnHeaders="AltTextColumnHeaders",s.AltTextValues="AltTextValues",s.ApplySettingsTo="applySettingsTo",s.Axis="axis",s.Background="background",s.Band="band",s.Bar="bar",s.Bars="bars",s.BlankAreas="blankAreas",s.Border="border",s.Breakdown="breakdown",s.CalloutValue="calloutValue",s.CategoryLabels="categoryLabels",s.CellElements="cellElements",s.Colors="colors",s.Columns="columns",s.DataLabels="labels-applySettingsTo-series",s.Datapoint="datapoint",s.Date="date",s.Default="default",s.DefaultColor="defaultColor",s.Detail="detail",s.Distance="distance",s.Divider="divider",s.ExpandCollapseButtons="expandCollapseButtons",s.Fill="fill",s.Glow="glow",s.GridHorizontal="gridHorizontal",s.Gridlines="gridlines",s.GridVertical="gridVertical",s.Handles="handles",s.Horizontal="horizontal",s.Icon="icon",s.Icons="icons",s.ImageHeight="imageHeight",s.Labels="labels",s.Layout="layout",s.Legend="legend",s.LeaderLine="leaderLine",s.Levels="levels",s.Lines="lines-applySettingsTo-series",s.Markers="markers",s.MarkersSeries="markers-applySettingsTo-series",s.Options="options",s.Outline="outline",s.PendingChangesIcon="pendingChangesIcon",s.PercentBarLabel="percentBarLabel",s.PrimaryLine="primaryLine",s.Range="range",s.Rows="rows",s.rowWithReferenceText="rowWithReferenceText",s.SecondaryLine="secondaryLine",s.Selection="selection",s.SelectionIcon="selectionIcon",s.SeriesLabels="seriesLabels-applySettingsTo-series",s.ShadeArea="shadeArea",s.Shadow="shadow",s.Shape="shape",s.SizeAndStyle="sizeAndStyle",s.Spacing="spacing",s.Sparklines="sparklines",s.Style="style",s.SubTitle="subtitle",s.Target="target",s.Text="text",s.Title="title",s.Tooltip="tooltip",s.Totals="totals",s.TrendAxis="trendAxis",s.Type="type",s.UrlIcon="urlIcon",s.Values="values",s.ValuesScalar="valuesScalar",s.Vertical="vertical",s.VisualPlaceholderGroup="visualPlaceholderGroup",s.VisualBorder="visualBorder",s.Zoom="zoom",s.Anomaly="anomaly",s.ConfidenceBand="confidenceband",s.ConfidenceArea="confidenceArea",s.ConfidenceLine="confidenceLine",s.DataLabel="dataLabel",s.ExpectedRange="expectedrange",s.ForecastLine="forecastline",s.Line="line",s.Measure="measure",s.TooltipTitle="tooltipTitle",s}({}),t=function(s){return s.Area="area",s.Background="background",s.Bars="bars",s.Bubbles="bubbles",s.CalloutValue="callout-value",s.CalloutLabel="callout-label",s.Category="category",s.CategoryLabels="category-labels",s.Columns="columns",s.ColumnHeaders="columnHeaders",s.Controls="controls",s.DataLabels="data-labels",s.DecreaseFill="decrease-fill",s.Divider="divider",s.Fill="fill",s.GridCellSubheader="grid-cell-subheader",s.HorizontalGridlines="horizontal-gridlines",s.IncreaseFill="increase-fill",s.SecondaryHorizontalGridlines="secondary-horizontal-gridlines",s.LegendItems="legend-items",s.LegendTitle="legend-title",s.Lines="lines",s.Map="map",s.Markers="markers",s.MeasureValues="measure-values",s.OtherFill="other-fill",s.Ribbon="ribbon",s.RowHeaders="rowHeaders",s.Percents="percents",s.SeriesLabels="series-labels",s.Slices="slices",s.SmallMultiplesGridlines="small-multiples-gridlines",s.SubTitle="subtitle",s.SubTotalColumn="subtotal-column",s.SubTotalRow="subtotal-row",s.SubTotalRowLabels="subtotal-row-labels",s.Target="target",s.TargetLabel="target-label",s.Tile="tile",s.Title="title",s.Totals="totals",s.TotalColumn="total-column",s.TotalColumnLabels="total-column-labels",s.TotalFill="total-fill",s.TotalRow="total-row",s.TotalRowLabels="total-row-labels",s.TotalLabels="total-labels",s.Values="values",s.VerticalGridlines="vertical-gridlines",s.VisualArea="visual-area",s.XAxisTitle="x-axis-title",s.XAxisValues="x-axis-values",s.XAxisZoomSlider="x-axis-zoom-slider",s.Y1AxisTitle="y1-axis-title",s.Y1AxisValues="y1-axis-values",s.Y1AxisZoomSlider="y1-axis-zoom-slider",s.Y2AxisTitle="y2-axis-title",s.Y2AxisValues="y2-axis-values",s.Y2AxisZoomSlider="y2-axis-zoom-slider",s}({}),l=Object.freeze({[t.Background]:10,[t.Title]:20,[t.LegendTitle]:30,[t.LegendItems]:40,[t.Y1AxisTitle]:50,[t.Y1AxisValues]:60,[t.Y1AxisZoomSlider]:70,[t.Y2AxisTitle]:80,[t.Y2AxisValues]:90,[t.Y2AxisZoomSlider]:100,[t.XAxisValues]:110,[t.XAxisTitle]:120,[t.XAxisZoomSlider]:130,[t.HorizontalGridlines]:140,[t.VerticalGridlines]:150,[t.Lines]:1e3,[t.Markers]:1010,[t.Columns]:1020,[t.Bars]:1030,[t.DataLabels]:1040,[t.TotalLabels]:1050,[t.SeriesLabels]:1060,[t.CategoryLabels]:1070}),g=1e3,n=999999,d="#FFF"},390107:function(me,j,e){e.d(j,{C5:function(){return u},FJ:function(){return m},Ps:function(){return o},Rc:function(){return y},U$:function(){return T},U8:function(){return v},Yz:function(){return c},bV:function(){return h},io:function(){return f},je:function(){return C},ke:function(){return M},s6:function(){return S},xS:function(){return E}});var r=e(618644),i=e(785463),a=e(401880),t=e(168376),l=e(446024),g=e(121993),n=g.Pe,d="dataPoint",s="fillRule";function h(U){if(U)for(var B in U){var x=U[B];for(var A in x.properties){var L=x.properties[A];if(L.type&&L.type[s])return L.rule}}}function o(U){if(U&&U.values&&U.values.grouped){var B=U.values.grouped();return(0,a.i3)(B,"Gradient")}return-1}function v(U){if(null==U)return null;var B=o(U);return-1===B?null:U.values[B]}function m(U){return o(U)>=0}function y(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:n,nullColor:null}}function S(){return M()}function C(U,B,x){var Y,z,A=(0,t.D8)(x,d,null),L=c(x);if(L)switch($.isNumeric(B)&&(Y=void 0!==B?(0,l.gd)(+B):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],U)&&(z=(0,l.yW)(B&&B.value,U)),U){case"minColor":!function(U,B){U.linearGradient2?U.linearGradient2.min.color=B:U.linearGradient3&&(U.linearGradient3.min.color=B)}(L,z);break;case"midColor":!function(U,B){U.linearGradient3&&(U.linearGradient3.mid.color=B)}(L,z);break;case"maxColor":!function(U,B){U.linearGradient2?U.linearGradient2.max.color=B:U.linearGradient3&&(U.linearGradient3.max.color=B)}(L,z);break;case"nullColor":!function(U,B){U.linearGradient2?U.linearGradient2.nullColoringStrategy.color=B:U.linearGradient3&&(U.linearGradient3.nullColoringStrategy.color=B)}(L,z);break;case"minValue":!function(U,B){U.linearGradient2?U.linearGradient2.min.value=B:U.linearGradient3&&(U.linearGradient3.min.value=B)}(L,Y);break;case"midValue":!function(U,B){U.linearGradient3&&(U.linearGradient3.mid.value=B)}(L,Y);break;case"maxValue":!function(U,B){U.linearGradient2?U.linearGradient2.max.value=B:U.linearGradient3&&(U.linearGradient3.max.value=B)}(L,Y);break;case"nullStrategy":!function(U,B){U.linearGradient2?U.linearGradient2.nullColoringStrategy.strategy=B:U.linearGradient3&&(U.linearGradient3.nullColoringStrategy.strategy=B)}(L,B);break;case"diverging":L=B?{linearGradient3:_.assign({mid:{color:(0,l.yW)(null,"midColor")}},L.linearGradient2)}:{linearGradient2:L.linearGradient3},A.properties[s]=L;break;case"revertToDefault":L=S(),A.properties[s]=L;break;default:i.Y.assertFail(`updateFillRule - Unexpected propertyName: ${U}`)}}function u(U){return U?f(U):y()}function E(U){return U?function(U){var B,x,A,L,Y,z,H,Z=n,k=void 0!==U.linearGradient3,K=U?.linearGradient2,ee=U?.linearGradient3;K?(B=K.max?.color,x=K.min?.color,Y=K.max?.value,H=K.min?.value,Z=K.nullColoringStrategy?.strategy,L=K.nullColoringStrategy?.color):ee&&(B=ee.max?.color,A=ee.mid?.color,x=ee.min?.color,Y=ee.max?.value,z=ee.mid?.value,H=ee.min?.value,Z=ee.nullColoringStrategy?.strategy,L=ee.nullColoringStrategy?.color);var Q={diverging:k,minColor:b(x),midColor:b(A),maxColor:b(B),nullStrategy:Z,nullColor:b(L)};return null!=H&&(Q.minValue=H),null!=z&&(Q.midValue=z),null!=Y&&(Q.maxValue=Y),Q}(U):y()}function c(U){return(0,t._W)(U,{objectName:d,propertyName:s},null)}function f(U){var B,x,A,L,Y,z,H,Q,Z=n,K=U.linearGradient2,ee=U.linearGradient3;if(K){B=K.max.color.value,x=K.min.color.value;var J=K.max.value;J&&(Y=J.value);var X=K.min.value;X&&(H=X.value),Q=K.nullColoringStrategy}else if(ee){B=ee.max.color.value,A=ee.mid.color.value,x=ee.min.color.value;var ne=ee.max.value;ne&&(Y=ne.value);var ae=ee.mid.value;ae&&(z=ae.value);var oe=ee.min.value;oe&&(H=oe.value),Q=ee.nullColoringStrategy}if(Q){Z=Q.strategy.value;var Me=Q.color;Me&&(L=Me.value)}var Ye={diverging:void 0!==U.linearGradient3,minColor:b(x),midColor:b(A),maxColor:b(B),nullStrategy:Z,nullColor:b(L)};return null!=H&&(Ye.minValue=H),null!=z&&(Ye.midValue=z),null!=Y&&(Ye.maxValue=Y),Ye}function b(U){if((0,r.Lo)(U))return U}function T(U,B){var x=[];return x.push(U.minColor||B.minColor.value),U.diverging&&x.push(U.midColor||B.midColor.value),x.push(U.maxColor||B.maxColor.value),x.join(",")}function M(U){var B=u(U),x={linearGradient2:{min:{color:(0,l.yW)(B.minColor,"minColor")},max:{color:(0,l.yW)(B.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,l.Qq)(B.nullStrategy)}}},A=x.linearGradient2;return null!=B.minValue&&(A.min.value=(0,l.gd)(B.minValue)),null!=B.maxValue&&(A.max.value=(0,l.gd)(B.maxValue)),B.nullStrategy===g.iQ&&(A.nullColoringStrategy.color=(0,l.yW)(B.nullColor,"nullColor")),x}},258784:function(me,j,e){e.d(j,{Fz:function(){return U},Ls:function(){return w},Mr:function(){return T},P3:function(){return M},Qi:function(){return y},Qv:function(){return S},RS:function(){return o},Rs:function(){return W},TA:function(){return O},Td:function(){return m},UF:function(){return c},WZ:function(){return C},ZU:function(){return s},Zy:function(){return R},f2:function(){return p},in:function(){return P},ll:function(){return D},lm:function(){return f},qE:function(){return u},qS:function(){return v},qX:function(){return B},rT:function(){return V},sk:function(){return x},t9:function(){return I},zD:function(){return A}});var r=e(510958),i=e(753771),a=e(942596),t=e(726604),l=e(724535);function s(){var L=d3.event;return{x:L.clientX,y:L.clientY}}var h="keydown.clearCatcher";function o(L,Y){L.on(h,()=>{var z=d3.event;z.keyCode===r.cK.cKeyCode&&z.ctrlKey&&z.shiftKey&&(Y.handleClearSelection(),z.preventDefault(),z.stopPropagation())})}function v(L){L.on(h,null)}function m(L,Y){p(L,Y),V(L,Y)}function p(L,Y){L.on("click",z=>{U(u(z)?z.data:z,Y)}),L.on("keydown.select",z=>{var H=d3.event,Z=H.keyCode;Z!==r.cK.spaceKeyCode&&Z!==r.cK.enterKeyCode||(U(u(z)?z.data:z,Y),H.preventDefault(),H.stopPropagation())},!0)}function y(L){L.on("click",null),L.on("keydown.select",null)}function S(L){L.on("contextmenu",null)}function C(L){y(L),S(L)}function u(L){return!!L.data}var E="keydown.dataPoint";function c(L,Y,z){L.on(E,()=>{var H=d3.event,Z=H.keyCode;(Z===r.cK.tabKeyCode||Z===r.cK.leftArrowKeyCode||Z===r.cK.rightArrowKeyCode||Z===r.cK.upArrowKeyCode||Z===r.cK.downArrowKeyCode)&&(O(k=>{H.preventDefault(),H.stopPropagation();var K=D(k)?k.data:k;Y.handleKeyDownEvent(z,K.categoryIndex,K.seriesIndex,Z,H.shiftKey)},void 0),d3.select(document.activeElement).dispatch("moveToolTipWithKeyboardAction",{bubbles:!0,cancelable:!1,detail:void 0}))})}function f(L){L.on(E,null)}function D(L){return!!L.data}var b="keydown.enterPlotArea";function T(L,Y,z){L.on(b,()=>{var H=d3.event,Z=H.keyCode;if(Z===r.cK.enterKeyCode)H.preventDefault(),H.stopPropagation(),Y.goToFirstElement(z);else if(Z===r.cK.escKeyCode&&H.target!==L.node()){H.preventDefault(),H.stopPropagation();var k=L.node();i.C.focus(k)}})}function M(L){L.on(b,null)}function V(L,Y){L.on("contextmenu",z=>{F(u(z)?z.data:z,Y)})}function w(L,Y,z){(function(L,Y,z){L.on(Y.node(),"click",()=>{O(H=>{U(u(H)?H.data:H,z)},void 0)}),L.on(Y.node(),"keydown.select",()=>{var Z=d3.event.keyCode;(Z===r.cK.spaceKeyCode||Z===r.cK.enterKeyCode)&&O(k=>{U(u(k)?k.data:k,z)},!0)},!0)})(L,Y,z),I(L,Y,z)}function P(L,Y){L.on(Y.node(),"click",()=>null),L.on(Y.node(),"keydown.select",()=>null)}function I(L,Y,z){L.on(Y.node(),"contextmenu",()=>{O(H=>{F(u(H)?H.data:H,z)},void 0)})}function O(L,Y){var z=d3.event,Z=d3.select(z.target).datum();Z&&(L(Z),Y&&(z.preventDefault(),z.stopPropagation()))}function R(L,Y,z,H){L.selectAll("use").remove(),L.append("use").attr("href",`#${t.f7}-${Y}-${z}`).style("pointer-events","none").attr("role",H??null).attr("aria-hidden",!0).style("fill","none")}function W(L){L.selectAll("use").remove()}function F(L,Y){var z=d3.event;if(!i.C.isCtrlOrMeta(z)){z.preventDefault(),(0,l.o)(z);var H=s();Y.handleContextMenu(L,H)}}function U(L,Y){var z=s(),H=d3.event;(function(L){L.selectionHandled=!0})(H),Y.handleSelection(L,(0,i.t)(H),z)}function B(L,Y){var z=d3.event;!i.C.isCtrlOrMeta(z)&&!function(L){return!!L.selectionHandled}(z)&&(!Y||Y?.(z))&&L.handleClearSelection()}function x(L,Y,z){var H=a.v.Single;i.C.isCtrlOrMeta(L)?H=a.v.Difference:L.shiftKey&&(H=a.v.Union),z.handleMultipleSelection(Y,H,!0)}function A(L,Y,z){z.handleMultipleSelection(L,Y,!0)}},461196:function(me,j,e){e.d(j,{JA:function(){return S},RD:function(){return i},t:function(){return y},y9:function(){return p}});var r=e(785463),i=function(C){return C[C.Small=0]="Small",C[C.Big=1]="Big",C}({}),a="powervisuals-glyph",t="big-kpi",l=["kpi-red","kpi-yellow","kpi-green"],g={kpiIconClass:"circle",statusValues:l},n={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},d={kpiIconClass:"traffic-light",statusValues:l},s={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},h={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},o={"THREE CIRCLES COLORED":g,"TRAFFIC LIGHT - SINGLE":g,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:l},"ROAD SIGNS":n,"THREE SYMBOLS CIRCLED COLORED":n,"TRAFFIC LIGHT":d,"THREE TRAFFIC LIGHTS RIMMED COLORED":d,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:s,"SMILEY FACE":s,THERMOMETER:s,CYLINDER:s,"THREE SIGNS COLORED":s,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":h,"GAUGE - ASCENDING":h,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function v(C,u){var E=parseFloat(u);if(C){var c=o[C.graphic.toUpperCase()];if(c&&!isNaN(E)){var f=c.statusValues;return C.normalizedFiveStateKpiRange&&5===f.length&&(E*=2),[c.kpiIconClass,f[E+(f.length>>1)]].join(" ").trim()}}}function m(C,u){if(C)return u===i.Big?[a,t,C].join(" "):[a,C].join(" ")}function p(C,u,E){return r.Y.assertValue(C,"kpi"),r.Y.assertValue(u,"value"),m(v(C,u),E)}function y(C,u,E){var c=C&&C.kpi;if(c){var f=v(c,u);if(f)return{caption:f,statusGraphic:c.graphic,class:m(f,E)}}}function S(C){return!(!C||!C.kpi)}},933101:function(me,j,e){e.d(j,{fl:function(){return p},KS:function(){return m}});var a,t,r=e(785463),i=e(899448);window.globalMapControlLoaded=function(){r.Y.assertValue(a,"WaitForMSMapLoad"),a.resolve(void 0)};var o=e(19052);function m(C,u,E){return new S(C,u,E.bingMapControlUrl)}var p=(C,u)=>new S(C,u,"https://www.bing.com/api/maps/mapcontrol");class S{constructor(u,E,c){this.promiseFactory=u,this.loader=E,this.mapControlUrl=c,this.fallbackDomain="atlas.microsoft.com"}ensureMap(u){return function(C,u,E,c){if(a)return a.promise;var f=E=(0,i.LF)(E,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),D=(0,i.LT)(E),b=D.c||D.culture,T={};if(_.isEmpty(c)||(T.setLang=c),!_.isEmpty(b)){var M=b.split("-",2);T.setMkt=b,T.UR=M.length>1?M[1]:b,T.setLang=M[0]}return f=(0,i.LF)(E,T,!0),a=C.defer(),u.require({javascript:f}),a.promise}(this.promiseFactory,this.loader,this.mapControlUrl,u)}createMapControl(u,E){return new Microsoft.Maps.Map(u,E)}loadAzureMapScripts(u){return function(C,u,E){if(t)return t.promise;var c="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return E&&(c="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",f="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),t=C.defer(),u.require({javascript:c,css:[f]}).then(M=>{var V=window;V.atlas=V.atlas||M,V.atlas||t.reject("atlas module is empty"),Promise.all([u.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}),u.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]})]).then(()=>t.resolve(void 0)).catch(w=>t.reject(w))},M=>t.reject(M)),t.promise}(this.promiseFactory,this.loader,u)}loadShpJs(){return this.shpJs||(this.shpJs=this.loader.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/shpjs.min.js"})),this.shpJs}createAzureMapControl(u){var{element:E,azureMapsDataResidency:c,azureMapsEndpoint:f,isPublishToWebEmbedHost:D}=u;this.configureDefaultAzureMapsDomain(c,D,f);var b=this.getMapConstructorOptions(u);return this.createAzureMapControlCore(E,b)}configureDefaultAzureMapsDomain(u,E,c){if(u){var f=c.getDomainUrl$().getValue();if(!E)return void atlas.setDomain(f.azureMapsDomainUrl);atlas.setDomain(this.fallbackDomain)}}getMapConstructorOptions(u){var{locale:E,sasTokenCallback:c,azureMapsEndpoint:f,supportHeadlessRendering:D,progressiveLoading:b,defaultStyle:T,showLabels:M,renderWorldCopies:V,preserveDrawingBufferForExport:w,isPublishToWebEmbedHost:P}=u,N={language:E,style:T||o.$B,view:"Auto",disableTelemetry:!0,progressiveLoading:b,showLabels:M,renderWorldCopies:V};return(D||w)&&(N.preserveDrawingBuffer=!0),c?N.authOptions={authType:atlas.AuthenticationType.sas,getToken:c}:r.Y.assertFail("Azure Maps control requires a SAS token callback."),this.setRequestTransformForPublishToWeb(N,f,P),N}setRequestTransformForPublishToWeb(u,E,c){c&&(u.transformRequest=(f,D)=>{try{var b=new URL(f),T=`${this.normalizePath(b.pathname)}${b.search}`,M=E.resolveAzureMapsEndpoint(c,T),V=I=>this.isValidUrl(I)?{url:I}:void 0;return V(M)||V(`https://${this.fallbackDomain}${T}`)||(r.Y.assertFail("Failed to transform the Azure Maps endpoint URL. "),{url:f})}catch(I){return r.Y.assertFail(`Failed to transform the Azure Maps endpoint URL.${I} `),{url:f}}})}normalizePath(u){return`/${u}`.replace(/[/]{1,}/g,"/")}isValidUrl(u){try{var E=new URL(u);return!("https:"!==E.protocol||!E.host)}catch{return!1}}createAzureMapControlCore(u,E){return new atlas.Map(u,E)}isAzureMapSupported(){return atlas.isSupported(!1)}}},430276:function(me,j,e){e.d(j,{eP:function(){return T},wi:function(){return b},Zz:function(){return M},No:function(){return V},e4:function(){return P},qS:function(){return w},HT:function(){return Ie},p1:function(){return y},rD:function(){return E},l0:function(){return p},hN:function(){return c},fl:function(){return O},v8:function(){return L},k6:function(){return I},Rq:function(){return R},PB:function(){return F},C1:function(){return U},nh:function(){return W},wB:function(){return s},K4:function(){return h},$8:function(){return A},TD:function(){return Be},GS:function(){return ze},t_:function(){return H},J_:function(){return ee},Qi:function(){return Z},F$:function(){return v},Np:function(){return o},wF:function(){return J},fd:function(){return Q},Jy:function(){return d},iY:function(){return be},zR:function(){return m},kF:function(){return St},Kn:function(){return oe},rP:function(){return n}});var r=e(785463),i=e(292812),t=e(579390);function n(ve){if(ve){var xe=ve._v8Map&&ve._v8Map._sizeHelper;xe&&_.isFunction(xe.pollSize)?xe.pollSize():r.Y.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function d(ve){var xe=Microsoft.Maps.MapTypeId[ve];return r.Y.assertValue(xe,"Map theme did not select a MapTypeId"),xe}var s={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S"},h=16;function o(ve,xe){return ve?v(ve.latitude,ve.longitude):xe}function v(ve,xe){return isNaN(ve)||isNaN(xe)||null==ve||null==xe||ve<-90||ve>90||xe<-180||xe>180}function m(ve){for(;ve<-180;)ve+=360;for(;ve>180;)ve-=360;return ve}var p=-85.05112878,y=85.05112878,S=-180,C=180,E=23,c=1,f=11,b="foregroundDark",T={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},M="mapLassoButton",V="mapLassoButtonHighContrast",w=`.${M}`,P="MapLassoButton",I=".NavBar_Container",O="NavBar_Button",R="NavButton_Icon",W="Rectangle_Select",F="plot-area",U=`.${F}`,B="NavBar_zoomIn",x="NavBar_zoomOut",A=`.${B}, .${x}`,L=`${w}, .${B}, #${x}`,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";function z(ve,xe,Ee){return Math.min(Math.max(ve,xe),Ee)}function H(){return Z(f)}function Z(ve){return 23===ve?2147483648:Math.floor(ve)===ve?256<<ve:256*Math.pow(2,ve)}function k(ve,xe,Ee){var Ne=xe/360,ye=Math.sin(ve*Math.PI/180),fe=-Math.log((1+ye)/(1-ye))/(4*Math.PI);if(!Ee)return{x:Ne,y:fe};Ee(Ne,fe)}function ee(ve,xe){switch(ve){case T.Continent:case T.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case T.City:return{level:1,maxPolygons:5,strokeWidth:xe<200?6:0};default:return xe<100?{level:1,maxPolygons:5,strokeWidth:6}:xe<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function Q(ve,xe,Ee){var fe,Ne=Ee&&Ee.xAdjust,ye=Ee&&Ee.unconstrained,Xe=new Float64Array(ve.length),Se=(_e,at)=>{_e+=.5,at+=.5,_e*=xe,at*=xe,_e+=.5,at+=.5,Ne&&(_e+=Ne*xe),Xe[fe]=_e,Xe[fe+1]=at};for(fe=0;fe<ve.length;fe+=2){var qe=ve[fe],Ue=ve[fe+1];ye||(qe=z(qe,p,y),Ue=z(Ue,S,C)),k(qe,Ue,Se)}return Xe}function J(ve,xe,Ee,Ne){var ye=Q(new Float64Array([ve,xe]),Z(Ee),Ne);return{x:ye[0],y:ye[1]}}function oe(ve,xe,Ee){var Ne=function(ve,xe,Ee){return function(ve,xe,Ee){var Ne=Math.exp(4*-xe*Math.PI);return{latitude:180*Math.asin((Ne-1)/(Ne+1))/Math.PI,longitude:360*ve}}((ve-.5)/Ee-.5,(xe-.5)/Ee-.5)}(ve,xe,Z(Ee));return new Microsoft.Maps.Location(Ne.latitude,Ne.longitude)}function Me(ve,xe){return J(ve.latitude,ve.longitude,xe)}function Ye(ve,xe){var Ee=Me(ve.getNorthwest(),xe),Ne=Me(ve.getSoutheast(),xe);return new i.r(Ee.x,Ee.y,Ne.x-Ee.x,Ne.y-Ee.y)}function ut(ve){var xe=function(ve){for(var xe={latitude:-90,longitude:180},Ee={latitude:90,longitude:-180},Ne=0;Ne<ve.length;Ne+=2)xe.latitude=Math.max(ve[Ne],xe.latitude),xe.longitude=Math.min(ve[Ne+1],xe.longitude),Ee.latitude=Math.min(ve[Ne],Ee.latitude),Ee.longitude=Math.max(ve[Ne+1],Ee.longitude);return xe.longitude=z(xe.longitude,-180,180),Ee.longitude=z(Ee.longitude,-180,180),{top:xe.latitude,bottom:Ee.latitude,left:xe.longitude,right:Ee.longitude}}(ve);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(xe.top,xe.left),new Microsoft.Maps.Location(xe.bottom,xe.right))}function St(ve){for(var xe=[],Ee=0,Ne=0,ye=0,Xe=4294967296;Ee<ve.length;){for(var fe=0,Se=0;;){if(Ee>=ve.length)return null;var qe=Y.indexOf(ve.charAt(Ee++));if(-1===qe)return null;var Ue=(31&qe)*Math.pow(2,Se);if(fe=(Ue/Xe|fe/Xe)*Xe+((Ue%Xe|fe%Xe)>>>0),Se+=5,qe<32)break}var Nt=Math.floor((Math.sqrt(8*fe+5)-1)/2);fe-=Nt*(Nt+1)/2;var Bt=Math.floor(fe),he=Nt-Bt,je=1e-5*(Ne+=he=he>>1^-(1&he));xe.push(z(1e-5*(ye+=Bt=Bt>>1^-(1&Bt)),-90,90)),xe.push(je)}return new Float64Array(xe)}function ze(ve,xe){return xe&&(ve?(xe.west<ve.west&&(ve.west=xe.west),xe.east>ve.east&&(ve.east=xe.east),xe.south<ve.south&&(ve.south=xe.south),xe.north>ve.north&&(ve.north=xe.north)):ve={...xe}),ve}function Be(ve){if(!_.isEmpty(ve)){var xe=!1;for(var Ee of ve)Ee.nativeBing&&!Ee.geographic&&(Ee.geographic=St(Ee.nativeBing),Ee.geographic&&(xe=!0));if(xe){var Ne=[];for(var ye of ve){var Xe=ye.geographic;if(Xe){var fe=ut(Xe);ye.adjustedBounds={west:fe.getWest(),north:fe.getNorth(),east:fe.getEast(),south:fe.getSouth()},ye.absoluteBounds=Ye(fe,f),Ne.push({location:ye,bounds:fe,xAdjust:0})}}for(var Se,qe=-1,Ue=0;Ue<Ne.length;++Ue){var _e=Ne[Ue],at=_e.bounds.width*_e.bounds.height;(-1===qe||at>Se)&&(qe=Ue,Se=at)}var ot=H(),mt=Ne[qe].bounds.getWest(),yt=Ne[qe].bounds.getEast();for(var Nt of Ne){var Bt=Nt.bounds,he=Bt.getWest(),Qe=Bt.getEast();if(Qe<mt&&he+360-yt<mt-Qe&&(Nt.xAdjust=1),he>yt&&mt-(Qe-360)<he-yt&&(Nt.xAdjust=-1),Nt.xAdjust){var de=360*Nt.xAdjust,De=Nt.location.adjustedBounds;De.west+=de,De.east+=de,Nt.location.absoluteBounds.left+=Nt.xAdjust*ot}}for(var re of Ne){var ce=re.location,te=ce.geographic;te&&(ce.absolute||(ce.absolute=Q(te,ot,{xAdjust:re.xAdjust})))}}}}function be(ve,xe,Ee){var Ne=ve.tryLocationToPixel(ve.getCenter(),Microsoft.Maps.PixelReference.page);!function(ve,xe,Ee){var Ne=new Microsoft.Maps.Point(xe,Ee),ye=ve.tryPixelToLocation(Ne,Microsoft.Maps.PixelReference.page);ve.setView({center:ye})}(ve,Ne.x-xe,Ne.y-Ee)}class Ie{constructor(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}reCalc(xe,Ee,Ne){var ye=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var Xe=Me(this._locationRect.getNorthwest(),11),fe=Me(this._locationRect.getSoutheast(),11);this._baseRect=new i.r(Xe.x,Xe.y,fe.x-Xe.x,fe.y-Xe.y)}var Se=xe.tryLocationToPixel(ye),qe=Se[0].x+Ee/2,Ue=Se[0].y+Ne/2,_e=xe.getZoom()-11,at=Math.pow(2,_e);this._currentRect=new i.r(qe,Ue,this._baseRect.width*at,Se[1].y-Se[0].y)}get scale(){return this._baseRect?this._currentRect.width/this._baseRect.width:1}get transform(){var xe=this._baseRect,Ee=this._currentRect,Ne=new t.dL;return Ne.translate(Ee.left,Ee.top),Ne.scale(Ee.width/xe.width,Ee.height/xe.height),Ne.translate(-xe.left,-xe.top),Ne}transformToString(xe){var Ee=xe.matrix;return`matrix(${Ee.m00} ${Ee.m10} ${Ee.m01} ${Ee.m11} ${Ee.m02} ${Ee.m12})`}}},883113:function(me,j,e){e.d(j,{C4:function(){return p},EJ:function(){return v},IG:function(){return h},Q1:function(){return S},xo:function(){return o}});var r=e(618644),i=e(255319),a=e(785463),t=e(753771),l=e(653719),g=e(430794),n=e(467074),d=1,s=2;function h(C){return v(C,g.F0)}function o(C){if((0,l.R)(C))return 0;switch(C){case l._Q.x:case l._Q.plus:case l._Q.lowerErrorBar:case l._Q.upperErrorBar:return d;case l._Q.shortDash:case l._Q.longDash:return s;default:a.Y.assertNever(C)}}function v(C,u){switch(C){case l._Q.circle:return`M 0 0 m ${-u} 0 a ${u} ${u} 0 1 0 ${2*u} 0 a ${u} ${u} 0 1 0 ${-2*u} 0`;case l._Q.square:return`M 0 0 m ${-u} ${-u} l ${2*u} 0 l 0 ${2*u} l ${-2*u} 0 z`;case l._Q.diamond:return`M 0 0 m ${-u} 0 l ${u} ${-u} l ${u} ${u} l ${-u} ${u} z`;case l._Q.triangle:var E=1.732;return`M 0 0 m ${-u} ${u/E} l ${u} ${-u*E} l ${u} ${u*E} z`;case l._Q.droplet:return a.Y.assert(()=>1===u,"Droplet marker path is hardcoded for r=1"),"M 1.123 -0.214 C 1.123 0.123 0.947 0.435 0.749 0.626 L 0.139 1.275 C 0.065 1.353 -0.059 1.353 -0.133 1.275 L -0.743 0.626 C -1.023 0.346 -1.117 0.118 -1.117 -0.214 C -1.117 -0.832 -0.615 -1.333 0.003 -1.333 C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case l._Q.x:return`M 0 0 m ${-u} ${-u} l ${2*u} ${2*u} m ${2*-u} 0 l ${2*u} ${2*-u}`;case l._Q.shortDash:return`M 0 0 l ${u} 0`;case l._Q.longDash:return`M 0 0 m ${-u} 0 l ${2*u} 0`;case l._Q.plus:return`M 0 0 m ${-u} 0 l ${2*u} 0 m ${-u} ${-u} l 0 ${2*u}`;case l._Q.lowerErrorBar:return`M 0 0 m 0 ${-u} l 0 ${2*u} m ${-u} 0 l ${2*u} 0`;case l._Q.upperErrorBar:return`M 0 0 m 0 ${u} l 0 ${2*-u} m ${-u} 0 l ${2*u} 0`;default:a.Y.assertNever(C)}}function p(C,u){return Object.assign((0,n.g)(C?.stroke,u),{display:C?.show?null:"none",fill:C?.color??null,"fill-opacity":(0,r.yS)(C?.transparency??0)})}var S=(()=>{class C{constructor(){this.uniqueIdentifier=_.uniqueId()}ensureMarkers(E,c,f){var D=c;E.selectAll("marker").data(D.filter(b=>b.show),b=>this.getMarkerId(b)).join(b=>b.append("marker").call(T=>T.append("path").classed(C.markerPath.class,!0))).attrs({id:b=>this.getMarkerId(b),markerUnits:"strokeWidth",refX:0,refY:0,viewBox:"-12 -12 24 24",markerHeight:b=>2*b.size,markerWidth:b=>2*b.size}).select(C.markerPath.selector).attr("d",b=>b.lineRadius?function(C,u,E){var c=(E+1)/(u/5);switch(C){case l._Q.x:return`M ${c},1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-${c},1`;case l._Q.shortDash:return`M ${c},1 L 5,1 L 5,-1 L -${c},-1 L -${c},1`;case l._Q.longDash:return`M ${c},1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -${c},1`;case l._Q.plus:return`M ${c},1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-${c},1`;default:return h(C)}}(b.shape,b.size,b.lineRadius):h(b.shape)).attr("transform",b=>b.rotation?`rotate(${b.rotation})`:null).styles(b=>p(b,f)).style("stroke-width",b=>{var T=(b.stroke?.strokeWidth??0)/(b.size/5);return"uncertainty"===b.markerType?b.lineRadius?T:o(b.shape):(0,l.R)(b.shape)?b.stroke?.strokeShow?T:0:o(b.shape)})}static getTotalMarkerSize(E){return this.sizeRatio*function(C){return C?.show?(C.size??0)+(C.stroke?.strokeShow?(C.stroke.strokeWidth??0)/2:0):0}(E)}getMarkerId(E){return`${E.markerType}-${E.key}-${this.uniqueIdentifier}`}getMarkerKey(E){return E.show?`url('${t.C.isSafari()||t.C.isIOSWebView()?window.location.href:""}#${this.getMarkerId(E)}')`:null}}return C.markerPath=(0,i.tI)("markerPath"),C.sizeRatio=10/12,C})()},430794:function(me,j,e){e.d(j,{F0:function(){return l},Mr:function(){return t},mx:function(){return r}});var r={show:"markerShow",shape:"markerShape",size:"markerShapeSize",color:"markerColor",transparency:"markerTransparency",rotation:"markerRotation",strokeShow:"markerBorderShow",strokeColorMatch:"markerBorderColorMatchFill",strokeColor:"markerBorderColor",strokeTransparency:"markerBorderTransparency",strokeWidth:"markerBorderWidth"},t=["show","shape","color","size","transparency","rotation"],l=5},726604:function(me,j,e){e.d(j,{E9:function(){return s},Mw:function(){return i},SL:function(){return t},f7:function(){return a},lv:function(){return g},p7:function(){return d},tZ:function(){return l},wh:function(){return n},x1:function(){return o},zs:function(){return h}});var r=e(416341),i="setFocusRing",a="currentFocusDataPoint",t=.4,l=1,g=2,n=2,d=6,s=n+2*d,h=r.Hx.regular.css;function o(v,m,p,y,S=l){return p&&y&&m?v?S:0:y&&!m||p&&!v?t*S:S}},467074:function(me,j,e){e.d(j,{L:function(){return n},g:function(){return h}});var r=e(5863),i=e(374774),a=e(726604),t=e(785463),l=e(618644);function n(o){var v=o.strokeColor;return o.strokeTransparency&&v&&(v=(0,r.Pz)(v,(0,l.yS)(o.strokeTransparency))),`${o.strokeWidth}px ${o.strokePattern} ${v}`}function d(o){var v=o.strokeAutoScale?o.strokeWidth/2:1;switch(o.strokePattern){case i.Ng.dashed:return[5*v,5*v].join(",");case i.Ng.dotted:return[0,5*v].join(",");case i.Ng.solid:return null;case i.Ng.custom:return function(o){var y=o.substring(0,50).split(/[,\s]+/).map(Number),S=y.filter(C=>!isNaN(C)&&C>=0&&C<=50);return S.splice(8),S.length!==y.length||_.isEmpty(y)?[0]:y}(o.strokeDashArray??"").map(m=>m*v).join(",");default:return t.Y.assertNever(o.strokePattern),null}}function s(o){switch(o.strokePattern){case i.Ng.dashed:return null;case i.Ng.dotted:case i.Ng.solid:return i.H4.round;case i.Ng.custom:return o.strokeDashCap===i.H4.none?"butt":o.strokeDashCap;default:return t.Y.assertNever(o.strokePattern),null}}function h(o,v){return o?.strokeShow?{stroke:o.strokeColor,"stroke-opacity":null!=o.strokeTransparency?(0,l.yS)(o.strokeTransparency):null,"stroke-width":v?.isHighContrast?a.lv:o.strokeWidth,"stroke-linejoin":o.strokeLineJoin,"stroke-dasharray":d(o),"stroke-linecap":s(o)}:{stroke:null}}},58595:function(me,j,e){e.d(j,{O:function(){return r},Y:function(){return i}});var r=["strokeShow","strokeColorMatch","strokeColor","strokeTransparency","strokeWidth","strokePattern","strokeLineJoin","strokeDashArray","strokeDashCap","strokeAutoScale"];function i(a,t){return t}},217930:function(me,j,e){e.d(j,{Fx:function(){return f},Pw:function(){return P},Q0:function(){return V},Yc:function(){return E},Z$:function(){return b},eI:function(){return T},mf:function(){return C},nZ:function(){return p},sX:function(){return D},t5:function(){return S},w1:function(){return W}});var r=e(981265),i=e(386426),a=e(498832),t=e(464205),l=e(724535),g=e(942596),n=e(292812),d=e(147293),s=e(255319),h=e(785463),v=(0,s.tI)("sub-selectable"),m="sub-selection-data",p=(0,s.tI)("direct-edit-placeholder"),y=(0,s.tI)("direct-edit-placeholder-outline"),S="format-mode",C=v.class,u=v.selector,E="data-sub-selection-display-name",c="data-sub-selection-hide-outline",f="data-sub-selection-object-name",D="data-sub-selection-alt-object-name",b="data-sub-selection-type",T="data-sub-selection-direct-edit",M="data-sub-selection-sub-selected",V="data-sub-selection-ui-anchor",P="data-sub-selection-restricting-element",N="data-helper-host";function O(F){return`${F}.htmlSubSelection`}function R(F,U){return U.closest(`[${N}]`)===F}class W{constructor(U){this.hostElement=U.hostElement,this.host=d3.select(U.hostElement),this.hostServices=U.hostServices,this.subSelectionRegionOutlines={},this.renderer=U.renderer,this.targetSource=U.targetSource,this.scale=U.scale,this.selectorCallback=U.selectorCallback,this.customOutlineCallback=U.customOutlineCallback,this.customElementCallback=U.customElementCallback,this.customElementRegionOutlineIdCallback=U.customElementRegionOutlineIdCallback,this.subSelectionMetadataCallback=U.subSelectionMetadataCallback,this.customScrollCallbacks=U.customScrollCallbacks,this.host.attr(N,!0)}static createHtmlSubselectionHelper(U){return new W(U)}setCustomOutlineCallback(U){this.customOutlineCallback=U}destroy(){this.removeEventHandlers(),this.hideAllOutlines()}setFormatMode(U){this.formatMode!==U&&(this.formatMode=U,U?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))}attachEventHandlers(){this.host.on(O("pointerover"),()=>{this.onPointerOver(d3.event)}),this.host.on(O("click"),()=>{this.onClick(d3.event)}),this.host.on(O("contextmenu"),()=>{this.onContextMenu(d3.event)})}onVisualScroll(){this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(()=>this.onVisualScrollEnd(),100)),this.scrollDebounce()}onVisualScrollStart(){this.customScrollCallbacks?this.customScrollCallbacks.onScrollStart():this.scrollSubSelections||(this.hideAllOutlines(),this.scrollSubSelections=this.subSelections)}onVisualScrollEnd(){if(this.customScrollCallbacks)return this.customScrollCallbacks.onScrollEnd(),void(this.scrollDebounce=void 0);this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0}onPointerOver(U){if(!(0,l.R)(U)&&"format"===this.targetSource){this.clearHoveredOutline();var B=this.getSubSelectionSourceFromEvent(U);if(B&&B.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([B.visualSubSelection],r.br.Hover).length){var A=this.getSubSelectionElementsFromSubSelectionSource(B);A=A.filter(z=>{var H=d3.select(z);return!H.attr(M)&&"true"!==H.attr(c)}),this.updateOutlinesFromSubSelectionElements(A,r.br.Hover)}this.renderOutlines();var L=O("pointerleave"),Y=d3.select(B.subSelectionElement);Y.on(L,()=>{Y.attr(M)||(this.clearHoveredOutline(),Y.on(L,null))}),(0,l.o)(U)}}}clearHoveredOutline(){_.values(this.subSelectionRegionOutlines).filter(x=>x.visibility===r.br.Hover).forEach(x=>{this.subSelectionRegionOutlines[x.id]={...this.subSelectionRegionOutlines[x.id],visibility:r.br.None}}),this.renderOutlines()}onClick(U){this.subSelectFromEvent(U,!1)}onContextMenu(U){this.subSelectFromEvent(U,!0)}subSelectFromEvent(U,B){if(!(0,l.R)(U)&&"format"===this.targetSource){var x=this.getSubSelectionElementsFromEvent(U);(0,l.o)(U);var A={x:U.clientX,y:U.clientY};if(_.isEmpty(x))return void this.hostServices.onSelect({type:r.H6.FormattingSubSelection,selectionMode:g.v.Single,visualObjects:[],selectionOrigin:A});var L=x[0],Y=d3.select(L).attr(f),z=this.getSubSelectionTypeFromElement(L),H=U.target,Z=this.getDisplayNameFromElement(L),k=this.selectorCallback?this.selectorCallback(L):{},K=this.createVisualSubSelectionForSingleObject({objectName:Y,subSelectionType:z,displayName:Z,showUI:B,selectorsByColumn:k,selectionOrigin:A,target:H});this.scrollSubSelections=void 0,this.subSelect(K)}}getSubSelectionElementsFromEvent(U){var B=this.getSubSelectionSourceFromEvent(U);return this.getSubSelectionElementsFromSubSelectionSource(B)}getSubSelectionSourceFromEvent(U){var B=U.composedPath();if(B){var L,x=B.indexOf(this.hostElement),A=B.slice(0,x+1);for(var Y of A)if(d3.select(Y).classed(C)){L=Y;break}if(L&&R(this.hostElement,L)){var H=this.selectorCallback?this.selectorCallback(L):{},Z=d3.select(L).attr(f),k=this.getDisplayNameFromElement(L),K=this.getSubSelectionTypeFromElement(L),ee={x:U.clientX,y:U.clientY},Q=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(L):null;return{subSelectionElement:L,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:Z,subSelectionType:K,displayName:k,showUI:!1,selectorsByColumn:H,selectionOrigin:ee,metadata:Q})}}}}getSubSelectionElementsFromSubSelectionSource(U){if(!U)return[];var{visualSubSelection:B}=U;if(this.customElementCallback){var x=this.customElementCallback(B);if(!_.isEmpty(x))return x}var A=this.getSubSelectableElements(),{objectName:L,selectorsByColumn:Y}=B.visualObjects[0],z=A.filter(Z=>Z.getAttribute(f)===L);if(this.selectorCallback){var H=Z=>this.selectorCallback(Z);z=z.filter(function(Z){return(0,t.Pv)(H(Z),Y)})}return z}removeEventHandlers(){this.host.on(O("pointerover"),null),this.host.on(O("click"),null),this.host.on(O("contextmenu"),null)}subSelect(U){var B={type:r.H6.FormattingSubSelection,...U};this.hostServices.onSelecting(B),B.action!==d.Ii.None&&this.hostServices.onSelect(B)}isVisualObjectSubSelected(U){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(B=>B.visualObjects.find(x=>U.objectName===x.objectName&&(0,t.Pv)(U.selectorsByColumn,x.selectorsByColumn)))}updateElementOutline(U,B,x=void 0,A=!1){return this.updateElementOutlines([U],B,x,A)[0]}updateElementOutlines(U,B,x=void 0,A=!1){var L=_.groupBy(U,Z=>{var k=d3.select(Z);return this.getElementRegionOutlineId(k)}),Y=Object.keys(L);for(var z of Y){var H=this.getSubSelectionRegionOutline(z,L[z],B,x);this.subSelectionRegionOutlines[z]=H}return A||this.renderOutlines(),Y}getSubSelectionRegionOutline(U,B,x,A){var L=[];for(var Y of B){var z=this.getRectangleSubSelectionOutline(Y,x,A),H=this.getRestrictionRect(Y,a.$d.Clamp);H&&(z=this.getClampedOutline(z,H,Y));var Z=this.getRestrictionRect(Y,a.$d.Clip);Z&&(z=this.getClippedOutline(z,Z,Y)),z.height>0&&z.width>0&&L.push(z)}var k={type:r.tI.Group,outlines:L};return null!=A&&(k.extendedProperties=A),{id:U,visibility:x,outline:k,source:this.targetSource}}traverseElementRestrictions(U,B,x){var A=U.closest(`[${P}="${x}"]`),L=B;if(A&&R(this.hostElement,A)){L||(L=new n.r(0,0,Number.MAX_VALUE,Number.MAX_VALUE));var Y=A.getBoundingClientRect(),z=Math.max(Y.top,L.top),H=Math.max(Y.left,L.left),Z=Math.max(Math.min(Y.bottom,L.top+L.height)-z,0),k=Math.max(Math.min(Y.right,L.left+L.width)-H,0);L=new n.r(H,z,k,Z),L=this.traverseElementRestrictions(U.parentElement,L,x)}return L}getRestrictionRect(U,B){return this.traverseElementRestrictions(U,void 0,B)}applyElementRestriction(U,B){var x=W.getDataForElement(B);if(x&&x.outlineRestrictionOptions){var{margin:A,padding:L}=x.outlineRestrictionOptions,Y=0,z=0,H=0,Z=0;if(A){var{top:k,left:K,right:ee,bottom:Q}=A;Y+=K,z+=k,H-=Q+k,Z-=K+ee}if(L){var{top:J,left:X,right:ne,bottom:ae}=L;Y-=X,z-=J,H+=ae+J,Z+=X+ne}U.left+=Y,U.top+=z,U.height+=H,U.width+=Z}return U}getClampedOutline(U,B,x){var A=this.applyElementRestriction(B,x),L=Math.max(U.x,A.left),Y=Math.max(U.y,A.top),z=Math.min(U.x+U.width,A.left+A.width),H=Math.min(U.y+U.height,A.top+A.height);return{...U,x:L,y:Y,height:H-Y,width:z-L}}getClippedOutline(U,B,x){var A=this.applyElementRestriction(B,x);return{...U,clipPath:{type:r.tI.Rectangle,x:A.left,y:A.top,height:A.height,width:A.width}}}getRectangleSubSelectionOutline(U,B,x){var A=U.getBoundingClientRect(),{x:L,y:Y,width:z,height:H}=A,Z=B!==r.br.None&&x?.visibleOutlineOffset?x.visibleOutlineOffset:0,k={height:H+2*Z,width:z+2*Z,x:L-Z,y:Y-Z,type:r.tI.Rectangle};return U.hasAttribute(T)&&(k.directEdit=()=>{if(U.hasAttribute(T))return JSON.parse(U.getAttribute(T))}),k}updateRegionOutline(U,B=!1){this.updateRegionOutlines([U],B)}updateRegionOutlines(U,B=!1){for(var x of U)this.subSelectionRegionOutlines[x.id]=x;B||this.renderOutlines()}getElementsFromSubSelections(U){if(!U)return[];var B=[],x=this.getSubSelectableElements(),A=this.isElementSubSelected,L=this.selectorCallback;return d3.selectAll(x).each(function(){A(this,U,L)&&B.push(this)}),B}setSubSelectedStateDOM(U){if(U){var B=this.getSubSelectableElements(),x=this.isElementSubSelected,A=this.selectorCallback;d3.selectAll(B).attr(M,function(){return!!x(this,U,A)||null})}}isElementSubSelected(U,B,x){if(!B)return!1;var A=d3.select(U).attr(f),L=d3.select(U).attr(D);return B.some(z=>z.visualObjects?.some(H=>{var Z=!0;return x&&((0,t.Pv)(H.selectorsByColumn,x(U))||(Z=!1)),(H.objectName===A||H.objectName===L)&&Z}))}updateCustomOutlinesFromSubSelections(U,B=r.br.Active){var x=this,A=[];if(this.customOutlineCallback&&!_.isEmpty(U))for(var L of U){var Y=this.customOutlineCallback(L);if(Y&&Y.length>0){var z=function(Z){h.Y.assert(()=>(Z.source??"format")===x.targetSource,"custom outline's source should match the current htmlSubSelectionHelper's targetSource");var k=x.subSelectionRegionOutlines[Z.id]?.visibility;(B!==r.br.Hover||k!==r.br.Active)&&x.setOutline(Z,B)};for(var H of Y)z(H);A.push(L)}}return A}updateOutlinesFromSubSelectionElements(U,B=r.br.Active,x=void 0){var A=[];if(!_.isEmpty(U)){for(var L of U){var Y=W.getDataForElement(L);if(Y&&Y.getRegionOutlines){var z=Y.getRegionOutlines();for(var H of z){var Z=this.getRestrictionRect(L,a.$d.Clip);if(Z){var k=this.getClippedOutline(H.outline,Z,L);H={...H,outline:{...k,extendedProperties:x},source:this.targetSource}}this.setOutline(H,B)}}else A.push(L)}this.updateElementOutlines(A,B,x,!0)}}updateOutlinesFromSubSelections(U,B,x){B&&this.hideAllOutlines(!0),this.subSelections=U;var A=U?[...U]:[];this.setSubSelectedStateDOM(U);var L=this.updateCustomOutlinesFromSubSelections(U);L?.length>0&&_.remove(A,H=>L.find(Z=>_.isEqual(H,Z)));var z=this.getElementsFromSubSelections(A).filter(H=>"true"!==d3.select(H).attr(c));this.updateOutlinesFromSubSelectionElements(z),x||this.renderOutlines()}refreshOutlines(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)}getLabelsFromSubSelections(U,B,x=" "){var A=this.getElementsFromSubSelections(U),L=[];for(var Y of A){var z="";for(var H of B){var Z=Y.attributes.getNamedItem(H);Z&&Z.value&&(z+=Z.value+x)}_.isEmpty(z)||L.push(z.trim())}return L}setOutline(U,B){var x={...U,visibility:B,id:U.id};this.subSelectionRegionOutlines[U.id]=x}static setDataForElement(U,B){$(U).data(m,B)}static getDataForElement(U){return $(U).data(m)}hideAllOutlines(U=!1){var B=this.subSelectionRegionOutlines,x=[];for(var A in B)x.push({...B[A],visibility:r.br.None});this.updateRegionOutlines(x,U)}getRegionOutline(U){return this.getRegionOutlines([U])[0]}getRegionOutlines(U){return U.map(B=>this.subSelectionRegionOutlines[B])}getAllOutlines(){return{...this.subSelectionRegionOutlines}}renderOutlines(){var U=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(U)}addDirectEditPlaceholderOutlines(){var U=this.scale(),B=this.hostElement.getBoundingClientRect(),x=Y=>{var z=Y.getBoundingClientRect();return{left:(z.x-B.x)/U-1,top:(z.y-B.y)/U-1,width:z.width/U,height:z.height/U}},A=_.filter(_.map(this.hostElement.querySelectorAll(p.selector),Y=>({element:Y,bounds:x(Y),outlineId:this.getElementRegionOutlineId(d3.select(Y)),objectName:Y.getAttribute(f),displayNameKey:Y.getAttribute(E)})),Y=>!!Y.outlineId&&!!Y.objectName),L=d3.select(this.hostElement).selectAll(`div.${y.class}`).data(A,Y=>Y.objectName);L.enter().append("div").classed(y.class,!0).attr("data-testid",Y=>`direct-edit-placeholder-outline-${Y.objectName}`).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",Y=>{d3.event.stopImmediatePropagation();var z={visualObjects:[{objectName:Y.objectName,selectorsByColumn:{}}],subSelectionType:a.RV.Text,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:Y.outlineId,displayName:Y.displayNameKey&&this.hostServices.getLocalizedString(Y.displayNameKey)};this.subSelect(z)}).merge(L).style("width",Y=>`${Y.bounds.width}px`).style("height",Y=>`${Y.bounds.height}px`).style("left",Y=>`${Y.bounds.left}px`).style("top",Y=>`${Y.bounds.top}px`),L.exit().remove()}getElementRegionOutlineId(U){var B=this.customElementRegionOutlineIdCallback?this.customElementRegionOutlineIdCallback(U.node()):U.attr(f),x="";if(this.selectorCallback){var A=this.selectorCallback(U.node()),L=(0,t.j9)(A);L&&(x=(0,t.i7)(L))}return""!==x?`${B}___${x}`:B}getAllSubSelectables(U){var B=this.getSubSelectableElements(),A=_.uniqWith(B,(K,ee)=>K.getAttribute(f)===ee.getAttribute(f)&&(!this.selectorCallback||(0,t.Pv)(this.selectorCallback(K),this.selectorCallback(ee)))),L=A;U&&(L=A.filter(K=>{var ee=this.getSubSelectionTypeFromElement(K);return Number(ee)===U}));var Y=L.map(K=>{var ee=K.getBoundingClientRect();return{x:ee.x+ee.width/2,y:ee.y+ee.height/2}}),H=_.orderBy(Array.from(Array(Y.length).keys()),K=>Y[K].y,["asc"]),Z={currentSeriesMultiplier:0};return H.map(K=>this.createSubSelectionFromElement(L[K],!1,void 0,Z,Y[K]))}getNextSubSelectable(U,B){var x=this.getAllSubSelectables();if(x.length){var L,A=_.orderBy(x,["focusOrder"],["asc"]);if(!U)return B?_.last(A):_.first(A);var Y=_.findIndex(A,H=>_.isEqual(U,H));if(Y>-1){var z=B?Y-1:Y+1;z>-1&&z<A.length&&(L=A[z])}return L}}createVisualSubSelectionForSingleObject(U){var{objectName:B,subSelectionType:x,displayName:A,showUI:L,selectorsByColumn:Y,selectionOrigin:z,focusOrder:H,metadata:Z,target:k}=U,{top:K}=k?.getBoundingClientRect()??{top:0};return{visualObjects:[{objectName:B,selectorsByColumn:Y??{}}],showUI:L,displayName:A,subSelectionType:x,selectionOrigin:z&&x in[a.RV.Text,a.RV.NumericText]?{...z,offset:{x:0,y:-1*(z?.y-K)}}:z,target:k,...Z?{metadata:Z}:{},...H?{focusOrder:H}:{}}}createSubSelectionFromElement(U,B,x,A,L){var Y=U.getAttribute(f);h.Y.assert(()=>!!Y,"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var z={};this.selectorCallback&&(z=this.selectorCallback(U));var H=this.getSelectorKey(z);H&&void 0===A[H]&&(A[H]=A.currentSeriesMultiplier,A.currentSeriesMultiplier++);var Z=this.getSubSelectionFocusOrder(Y,A[H]),k=this.getSubSelectionTypeFromElement(U),K=this.getDisplayNameFromElement(U),ee=L;return x&&(ee={x:x.clientX,y:x.clientY}),this.createVisualSubSelectionForSingleObject({objectName:Y,subSelectionType:k,displayName:K,showUI:B,selectorsByColumn:z,selectionOrigin:ee,focusOrder:Z})}getDisplayNameFromElement(U){var B=U.getAttribute(E);if(B)B=this.hostServices.getLocalizedString(B);else{var x=W.getDataForElement(U);x?.getDisplayName?B=x.getDisplayName():h.Y.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return B}getSubSelectionTypeFromElement(U){var B=U.getAttribute(b);if(B)return Number(B);h.Y.assertFail("getAllSubSelectables - DOMElement should have type")}getSelectorKey(U){var B=(0,t.Pl)((0,t.j9)(U));return _.isEmpty(B)?"":JSON.stringify(B)}getSubSelectionFocusOrder(U,B){var x=i.QE[U];return x?(void 0!==B&&(x+=B*i.Nk),x):i.PA}getSubSelectableElements(){var U=this.hostElement;return this.host.selectAll(u).filter(function(){return R(U,this)}).nodes()}}},626079:function(me,j,e){e.d(j,{r:function(){return i}});var r=e(237193);function i(a,t,l){if(a&&a.textClasses){var g=a.textClasses[t];if(g){var n=g.fontSize&&r.Z.createFromPt(+g.fontSize);return{color:l?void 0:g.color&&g.color.value,family:g.fontFace,size:n,weight:g.fontWeight}}}return{}}},401260:function(me,j,e){e.d(j,{B:function(){return a},Z:function(){return i}});var r=e(342022),i=(()=>{class t{}return t.highlightedValueDisplayNameResourceKey="Tooltip_HighlightedValueDisplayName",t})();function a(t,l,g){var s_x=t.left+t.width/2,s_y=t.top+t.height/2,h=l.width/2,o=l.height/2,v=g?.showAboveClickedArea||s_y>=o;return s_x<h?v?r.h.BottomLeft:r.h.TopLeft:v?r.h.BottomRight:r.h.TopRight}},16345:function(me,j,e){e.d(j,{E:function(){return i},L:function(){return r}});var r={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},i={opacity:.87,scale:1,animationDuration:0,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10}},342022:function(me,j,e){e.d(j,{h:function(){return r}});var r=function(i){return i[i.TopLeft=0]="TopLeft",i[i.TopRight=1]="TopRight",i[i.BottomRight=2]="BottomRight",i[i.BottomLeft=3]="BottomLeft",i}({})},231914:function(me,j,e){e.d(j,{X:function(){return c}});var r=e(255319),i=e(401260),a=e(16345),t=e(342022),l=(0,r.tI)("tooltip-container"),g=(0,r.tI)("tooltip-content"),n=(0,r.tI)("arrow"),d=(0,r.tI)("hide-arrow"),s=(0,r.tI)("small-touch-screen"),h=(0,r.tI)("large-touch-screen"),o=(0,r.tI)("truncate-tooltip-height"),v=(0,r.tI)("heightened-header"),m=(0,r.tI)("themeableElement"),p=(0,r.tI)("tooltip-light");function c(D,b){return new f(D,b)}class f{constructor(b,T){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=b,this.originalTooltipOptions=$.extend({},a.L,T),this.tooltipOptions=this.originalTooltipOptions}isVisible(){return this.isTooltipVisible}isTouchOptimized(){return!!this.tooltipOptions.touchOptimized}setTestScreenSize(b,T){this.customScreenWidth=b,this.customScreenHeight=T}show(b,T){var M,V,w,P;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),b&&(M=(0,i.B)(b,this.getScreenBounds(),this.tooltipOptions),P={x:b.left+(V=b.width>>1),y:b.top+(w=b.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0),this.tooltipContainer.style("opacity",this.tooltipOptions.opacity),b&&this.setPositionAndSize(b,M,V,w,P,T)}classed(b,T){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(b.class,T)}move(b,T){var M,V,w;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),M=(0,i.B)(b,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(b,M,V=b.width>>1,w=b.height>>1,{x:b.left+V,y:b.top+w},T)}updateContent(b){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(g.selector).remove(),b&&($(b).addClass(g.class),this.tooltipContainer.node().appendChild(b))}hide(){this.isTooltipVisible&&(this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(this.tooltipOptions.animationDuration).style("opacity",0).on("end",function(){this.style.display="none"}))}destroy(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)}setTooltipAppearanceOptions(b){this.tooltipOptions=Object.keys(b).length>0?$.extend({},this.tooltipOptions,b):$.extend({},this.originalTooltipOptions,b)}attachPointerEnterCallback(b){this.onPointerEnter=b}attachPointerLeaveCallback(b){this.onPointerLeave=b}createTooltipContainer(b){var T=d3.select(b).append("div").classed(l.class,!0).classed(m.class,!0);return T.append("div").classed(n.class,!0),T.style("display","none"),T.on("pointerenter.callback",()=>this.onPointerEnter&&this.onPointerEnter()),T.on("pointerleave.callback",()=>this.onPointerLeave&&this.onPointerLeave()),T}getTooltipContainerBounds(){var b;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),b=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):b=this.tooltipContainer.node().getBoundingClientRect(),{height:b.height/this.tooltipScaleFactor,width:b.width/this.tooltipScaleFactor}}get tooltipScale(){return this.tooltipOptions.scale||1}updateTooltipPosition(b,T,M,V,w,P){var N=this.getTooltipContainerBounds(),I=0,O=0,R=this.tooltipOptions.adjustXLeftSideOfScreen,W=this.tooltipOptions.adjustXRightSideOfScreen,F=this.tooltipOptions.hideArrow?0:(P?3:7)*this.tooltipScale,U=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,B=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,x=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:P?.5:1,A=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:P?2.5:1;return this.tooltipOptions.offsetPosition&&(R=0,W=0,I+=T===t.h.TopLeft||T===t.h.BottomLeft?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,O+=T===t.h.TopLeft||T===t.h.TopRight?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),T===t.h.TopLeft?(I+=B*F+M-R,O-=U*A*F+V):T===t.h.TopRight?(I-=U*x*F+N.width+M-W,O-=U*A*F+V):T===t.h.BottomLeft?(I+=B*F+M-R,O-=N.height-U*A*F+V):T===t.h.BottomRight&&(I-=U*x*F+N.width+M-W,O-=N.height-U*A*F+V),{x:w.x+I,y:w.y+O}}setPositionAndSize(b,T,M,V,w,P){w=this.updateTooltipPosition(b,T,M,V,w,P);var N=this.widenTooltipIfNeeded(w);this.setTooltipContainerAttributes(T,N,!!N.width),this.tooltipContainer.style("width",N.width?`${N.width}px`:""),this.setArrowPosition(T)}widenTooltipIfNeeded(b){var T={left:b.x,top:b.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){T.left=8;var M=this.getScreenBounds().width;T.width=M-16}return T}setTooltipContainerAttributes(b,T,M){var V=this.getTooltipContainerBounds(),w=this.getScreenBounds(),P=this.shouldWidenTooltip(),N=V.width,I=V.height,O=w.width,R=w.height,U=T.left,B=T.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(U=T.left>=0?T.left:5,B=T.top>=0?T.top:5);var x=O-U-N,A=R-B-I;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){x<0&&(x=O-(U-=Math.abs(x)+5)-N+5);var L=this.getScreenBounds().width<=540?35:5;A<L&&(B-=L-A,A=L)}var k,K,Y=!1,z=!1,H=b===t.h.TopLeft||b===t.h.TopRight,Z=b===t.h.TopLeft||b===t.h.BottomLeft,ee={left:null,top:null,right:null,bottom:null};Z?(Y=!0,ee.left=`${U}px`,K=U):(z=!0,ee.right=`${x}px`,K=x),H?(ee.top=`${B}px`,k=B):(ee.bottom=`${A}px`,k=A),M&&(ee.left=`${U}px`);var Q={height:(I+10)*this.tooltipScale,width:(P?N:N+10)*this.tooltipScale},J=Q.width+K>O,X=Q.height+k>R;this.tooltipScaleFactor=this.tooltipScale,(J||X)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Q,w,K,k)),this.tooltipContainer.classed("left",Y).classed("right",z).classed(p.class,this.tooltipOptions.useLightColors).classed(s.class,this.isSmallTouchScreen()).classed(h.class,this.isLargeTouchScreen()).classed(o.class,this.isTruncateTooltipHeight()).classed(v.class,this.heightenedHeader()).styles(ee).style("transform",`scale(${this.tooltipScaleFactor})`).style("transform-origin",`${H?"top":"bottom"} ${Z?"left":"right"}`)}calculateScaleFactor(b,T,M,V){return Math.min((T.width-M)/b.width,(T.height-V)/b.height)}setArrowPosition(b){var M,T=this.getArrowElement();M=b===t.h.TopLeft?"top left":b===t.h.TopRight?"top right":b===t.h.BottomLeft?"bottom left":"bottom right",T.attr("class","arrow").classed(M,!0).classed(d.class,this.tooltipOptions.hideArrow)}shouldWidenTooltip(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540}isSmallTouchScreen(){if(!this.tooltipOptions.touchOptimized)return!1;var b=this.getScreenBounds();return b.width<=540||b.height<=450}isLargeTouchScreen(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()}isTruncateTooltipHeight(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620}heightenedHeader(){return!this.tooltipOptions.offsetPosition}getArrowElement(){return this.tooltipContainer.select(n.selector)}getScreenBounds(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}}}},579390:function(me,j,e){e.d(j,{dL:function(){return r}});class r{constructor(d){this.matrix=d||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}applyToPoint(d){if(!d)return d;var s=this.matrix;return{x:s.m00*d.x+s.m01*d.y+s.m02,y:s.m10*d.x+s.m11*d.y+s.m12}}applyToRect(d){if(!d)return d;var s=d.left,h=d.top,o=this.matrix,m=0!==o.m01||0!==o.m10;if(!m&&1===o.m00&&1===o.m11)return{left:s+o.m02,top:h+o.m12,width:d.width,height:d.height};var S,C,u,E,p=d.left+d.width,y=d.top+d.height;if(m){var c=o.m00*s+o.m01*h+o.m02,f=o.m10*s+o.m11*h+o.m12,D=o.m00*s+o.m01*y+o.m02,b=o.m10*s+o.m11*y+o.m12,T=o.m00*p+o.m01*h+o.m02,M=o.m10*p+o.m11*h+o.m12,V=o.m00*p+o.m01*y+o.m02,w=o.m10*p+o.m11*y+o.m12;S=Math.min(c,D,T,V),C=Math.max(c,D,T,V),u=Math.min(f,b,M,w),E=Math.max(f,b,M,w)}else{var P=o.m00*s+o.m02,N=o.m11*h+o.m12,I=o.m00*p+o.m02,O=o.m11*y+o.m12;S=Math.min(P,I),C=Math.max(P,I),u=Math.min(N,O),E=Math.max(N,O)}return{left:S,top:u,width:C-S,height:E-u}}translate(d,s){if(0!==d||0!==s){var h=function(n,d){return{m00:1,m01:0,m02:n,m10:0,m11:1,m12:d}}(d,s);this.matrix=g(this.matrix,h),this._inverse=null}}scale(d,s){if(1!==d||1!==s){var h=function(n,d){return{m00:n,m01:0,m02:0,m10:0,m11:d,m12:0}}(d,s);this.matrix=g(this.matrix,h),this._inverse=null}}rotate(d){if(0!==d){var s=function(n){var d=n,s=Math.sin(d),h=Math.cos(d);return{m00:h,m01:-s,m02:0,m10:s,m11:h,m12:0}}(d);this.matrix=g(this.matrix,s),this._inverse=null}}add(d){d&&(this.matrix=g(this.matrix,d.matrix),this._inverse=null)}getInverse(){return this._inverse||(this._inverse=new r({m00:(n=this.matrix).m11*(s=1/(n.m00*n.m11-n.m01*n.m10)),m01:-n.m01*s,m02:(n.m01*n.m12-n.m02*n.m11)*s,m10:-n.m10*s,m11:n.m00*s,m12:-(n.m00*n.m12-n.m10*n.m02)*s})),this._inverse;var n,s}}function g(n,d){return{m00:n.m00*d.m00+n.m01*d.m10,m01:n.m00*d.m01+n.m01*d.m11,m02:n.m00*d.m02+n.m01*d.m12+n.m02,m10:n.m10*d.m00+n.m11*d.m10,m11:n.m10*d.m01+n.m11*d.m11,m12:n.m10*d.m02+n.m11*d.m12+n.m12}}},237193:function(me,j,e){e.d(j,{Z:function(){return a}});var r=e(785463),i=e(123198);class a{static createFromPt(l,g){return r.Y.assert(()=>_.isFinite(l),"pt is not a number"),g&&(l=_.round(l,g)),new a(l,i.V4.fromPointToPixel(l))}static createFromPx(l,g){return r.Y.assert(()=>_.isFinite(l),"px is not a number"),g&&(l=_.round(l,g)),new a(i.V4.toPoint(l),l)}static createFromElement(l){var g=l.css("font-size");return _.isEmpty(g)?void 0:a.createFromCSS(g)}static createFromCSS(l,g){if(r.Y.assertValue(l,"fontSizeCSS"),"inherit"!==l){var n=l.slice(-2).toLowerCase();r.Y.assert(()=>"pt"===n||"px"===n,"expected an absolute size");var d=parseFloat(l.slice(0,-2));switch(r.Y.assert(()=>!isNaN(d),"value is NaN"),n){case"px":return a.createFromPx(d,g);case"pt":return a.createFromPt(d,g);default:r.Y.assertFail(`Can not convert unit '${n}' to a FontSize`)}}}constructor(l,g){this.pt=l,this.px=g}equals(l){return this.pt===l.pt&&this.px===l.px}}},506036:function(me,j,e){e.d(j,{$b:function(){return d},Ay:function(){return n},D8:function(){return g},SZ:function(){return o},cA:function(){return v},ft:function(){return h},wY:function(){return s}});var r=e(618644),i=e(596920),a=e(228783),t=e(187544),l=e(386426);function g(){return{solid:{color:"#FFF"}}}function n(){return 50}function d(){return!1}function s(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function h(m,p){var y=a.De.plotArea;return new i.lb(new i.lO(l.jw.PlotBackground),"Visual_Plot_Background",[y.image,y.transparency],p).addGroup(void 0,S=>S.addSimpleSlice("image",new i.Wd({descriptor:y.image,value:m&&m.image}).build()).addSimpleSlice("transparency",i.pB.getTransparencySliderBuilder({descriptor:y.transparency,value:m?.transparency??50,localize:p}).build(),C=>C.withDisabled(!m||!m.image||!m.image?.name&&!m.image?.url))).build()}function o(m,p,y){var S=m?.image?.url;if(S){var u,C=p.children(".background-image");switch(0===C.length&&(p.prepend('<div class="background-image"></div>'),(C=p.children(".background-image")).css("position","absolute")),m.image.scaling){case t.h.normal:u={"background-size":"","background-position":"50% 50%"};break;case t.h.fit:u={"background-size":"100% 100%","background-position":""};break;case t.h.fill:u={"background-size":"100%","background-position":"50% 50%"};break;default:u={"background-size":"","background-position":"50% 50%"}}C.css({...u,width:y.width,height:y.height,"margin-left":y.left,"margin-top":y.top,"background-image":`url(${S})`,"background-repeat":"no-repeat",opacity:(0,r.yS)(m.transparency)})}else v(p)}function v(m){m?.children(".background-image").remove()}},256210:function(me,j,e){e.d(j,{E$:function(){return v},GD:function(){return d},Ts:function(){return o},g1:function(){return n},gz:function(){return s},wY:function(){return h}});var r=e(680626),i=e(726604),a=e(587308),t=e(378381),l="#000",g=!1,n=0,d=1;function s(m,p){return`${(0,r.Vf)(m)?p:0}px ${(0,r.A8)(m)?p:0}px ${(0,r.Rh)(m)?p:0}px ${(0,r.nh)(m)?p:0}px`}function h(){return{color:{solid:{color:l}},show:g,radius:n,width:d}}function o(m){if(m.isHighContrast)return{visible:!0,color:t.A.getThemeColor(m,a.q6),width:i.lv}}function v(m,p){p?.visible&&m.style("stroke",p.color).style("stroke-width",p.width)}},585588:function(me,j,e){e.d(j,{$1:function(){return i},kb:function(){return a},ri:function(){return t},sT:function(){return r}});var r="Slider_Degree",i="Numeric_Pixel",a="Slider_Weight",t="Slider_Percent"},347232:function(me,j,e){e.d(j,{Ao:function(){return h},bB:function(){return s},yb:function(){return d}});var r=e(785463),i=e(46143),a=e(464205),t=e(168376),l=e(381839),g=e(118307);function d(o,v){if(_.isEmpty(o))return[];r.Y.assertValue(v,"objectDescriptors");var m=[],p=function(S){for(var C in S.objects){var u=S.objects[C]&&S.objects[C].formattingProperties;if(!_.isEmpty(u))for(var E of u){var c={objectName:C,propertyName:E},f=(0,l.D0)(v,c),D=void 0;S.allowOverrideSubtotalMatching&&(r.Y.assert(()=>(0,a.EU)(S.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),D=!0),f&&m.push({selector:S.selector,allowOverrideSubtotalMatching:D,altStaticSelector:S.altStaticSelector,propertyId:c,propertyDescriptor:f,containerName:S.containerName})}}};for(var y of o)p(y);return m}function s(o,v){return o===v||null==o&&null==v||!o==!v&&void 0===o.altStaticSelector==(void 0===v.altStaticSelector)&&!!o.allowOverrideSubtotalMatching==!!v.allowOverrideSubtotalMatching&&o.containerName===v.containerName&&_.isEqual(o.propertyDescriptor,v.propertyDescriptor)&&_.isEqual(o.propertyId,v.propertyId)&&(0,a.aI)(o.selector,v.selector)}function h(o,v){if(!v.allowOverrideSubtotalMatching)return(0,t._W)(o,v.propertyId,v.selector);r.Y.assert(()=>(0,a.EU)(v.selector),"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");var m=[(0,g.vt)(i._.InstancesOnly),(0,g.vt)(i._.TotalsOnly),(0,g.vt)(i._.InstancesAndTotals)];for(var p of m){var y={data:[p],metadata:v.selector.metadata,id:v.selector.id},S=(0,t._W)(o,v.propertyId,y);if(S)return v.selector=y,S}}},588040:function(me,j,e){e.d(j,{nf:function(){return i},ug:function(){return a}});var r=e(428172);function i(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:r.B.NonInteractive},showAsTableNativeMenuEnabled:!1}}function a(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:r.B.Interactive},showAsTableNativeMenuEnabled:!1}}},459661:function(me,j,e){function r(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function i(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}e.d(j,{nf:function(){return r},ug:function(){return i}})},837961:function(me,j,e){e.d(j,{EY:function(){return C},TF:function(){return u},dD:function(){return c},dJ:function(){return f},iK:function(){return D},kP:function(){return o},mI:function(){return E}});var r=e(471740),i=e(587308),a=e(785463),t=e(416341),l=e(928912),g=e(51926),n=e(378381),d=e(680626),s=e(254595),h=e(253172),o='"',v=function(b){return b.unsafeTextContent="unsafeTextContent",b.safeTextContent="safeTextContent",b.attributeValue="attribute",b.codeOnly="codeOnly",b}({}),m=(()=>{class b{constructor(M,V,w,P,N,I){this.objectName=M,this.propertyName=V,this.defaultValue=w,this.usage=P,this.fallbackProperties=I,this.getterFunction=N||g._W}getValue(M,V=!1,w,P,N,I){var O=this.getterFunction(M,this,this.defaultValue,N);if(N&&void 0===O&&(O=this.getValue(M,V)),w&&!w(M,this,N)&&!_.isNil(P)&&(O=P),void 0===O&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((R,W)=>{O=R.getValue(M,V,void 0,void 0,I&&I[W])})),!V&&"string"==typeof O)switch(this.usage){case v.attributeValue:O=O.replace(b.AttributeDelimiter,o+o);break;case v.unsafeTextContent:O=(0,l.o4)(O);break;case v.codeOnly:case v.safeTextContent:break;default:a.Y.assertNever(this.usage)}return O}setInstanceProperty(M,V,w,P,N){var I=this.getValue(V,!0,w,P,N);return M&&M.properties&&(M.properties[this.propertyName]=I),I}setInstanceValidValues(M,V){M.validValues||(M.validValues={}),M.validValues[this.propertyName]=V}}return b.AttributeDelimiter=new RegExp(o,"g"),b})(),p="foregroundNeutralLight",S="foregroundNeutralSecondary",C=d.JL.Bottom,u=d.JL.Nil,E=d.JL.Right,c=d.JL.Top,f=d.JL.Nil,D=(()=>{class b{constructor(M){this.colorHelper=n.A.create(M);var V=(w,P,N,I)=>this.colorHelper.getColorForProperty(w,P,N,I);this.PropGridVerticalColor=new m(b.ObjectGrid,"gridVerticalColor",p,v.attributeValue,V),this.PropGridHorizontalColor=new m(b.ObjectGrid,"gridHorizontalColor",p,v.attributeValue,V),this.PropGridOutlineColor=new m(b.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt",v.attributeValue,V),this.PropRowsOutlineColor=new m(b.ObjectRowHeaders,"outlineColor",void 0,v.attributeValue,V),this.PropColumnsOutlineColor=new m(b.ObjectColumnHeaders,"outlineColor",void 0,v.attributeValue,V),this.PropValuesOutlineColor=new m(b.ObjectValues,"outlineColor",void 0,v.attributeValue,V),this.PropTotalOutlineColor=new m(b.ObjectTotal,"outlineColor",void 0,v.attributeValue,V),this.PropBlankRowsBlankRowColor=new m(b.ObjectBlankRows,"blankRowColor",void 0,v.attributeValue,V),this.PropBlankRowsBorderColor=new m(b.ObjectBlankRows,"borderColor",void 0,v.attributeValue,V),this.PropColumnsFontColor=new m(b.ObjectColumnHeaders,"fontColor",S,v.attributeValue,V),this.PropColumnsBackColor=new m(b.ObjectColumnHeaders,"backColor",void 0,v.attributeValue,V),this.PropRowsFontColor=new m(b.ObjectRowHeaders,"fontColor",S,v.attributeValue,V),this.PropRowsBackColor=new m(b.ObjectRowHeaders,"backColor",void 0,v.attributeValue,V),this.PropRowsExpandCollapseButtonsColor=new m(b.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,v.attributeValue,V),this.PropValuesFontColor=new m(b.ObjectValues,"fontColor",void 0,v.attributeValue,V),this.PropValuesFontColorPrimary=new m(b.ObjectValues,"fontColorPrimary",i.q6,v.attributeValue,V),this.PropValuesFontColorSecondary=new m(b.ObjectValues,"fontColorSecondary",i.q6,v.attributeValue,V),this.PropValuesBackColor=new m(b.ObjectValues,"backColor",void 0,v.attributeValue,V),this.PropValuesBackColorPrimary=new m(b.ObjectValues,"backColorPrimary",void 0,v.attributeValue,V),this.PropValuesBackColorSecondary=new m(b.ObjectValues,"backColorSecondary",void 0,v.attributeValue,V),this.PropTotalFontColor=new m(b.ObjectTotal,"fontColor",i.q6,v.attributeValue,V),this.PropTotalBackColor=new m(b.ObjectTotal,"backColor",void 0,v.attributeValue,V),this.PropSubTotalsFontColor=new m(b.ObjectSubTotals,"fontColor",void 0,v.attributeValue,V),this.PropSubTotalsBackColor=new m(b.ObjectSubTotals,"backColor",void 0,v.attributeValue,V),this.PropGrandTotalFontColor=new m(b.ObjectTotal,"fontColor",void 0,v.attributeValue,V),this.PropGrandTotalBackColor=new m(b.ObjectTotal,"backColor",void 0,v.attributeValue,V),this.PropColumnGrandTotalFontColor=new m(b.ObjectColumnTotal,"fontColor",void 0,v.attributeValue,V),this.PropColumnGrandTotalBackColor=new m(b.ObjectColumnTotal,"backColor",void 0,v.attributeValue,V),this.PropRowGrandTotalFontColor=new m(b.ObjectRowTotal,"fontColor",void 0,v.attributeValue,V),this.PropRowGrandTotalBackColor=new m(b.ObjectRowTotal,"backColor",void 0,v.attributeValue,V),this.PropColumnFormattingFontColor=new m(b.ObjectColumnFormatting,"fontColor",void 0,v.attributeValue,V),this.PropColumnFormattingBackColor=new m(b.ObjectColumnFormatting,"backColor",void 0,v.attributeValue,V)}}return b.ObjectGeneral="general",b.ObjectGrid="grid",b.ObjectBlankRows="blankRows",b.ObjectColumnHeaders="columnHeaders",b.ObjectRowHeaders="rowHeaders",b.ObjectValues="values",b.ObjectTotal="total",b.ObjectColumnTotal="columnTotal",b.ObjectRowTotal="rowTotal",b.ObjectSubTotals="subTotals",b.ObjectColumnFormatting="columnFormatting",b.ObjectColumnWidth="columnWidth",b.ObjectSparklines="sparklines",b.ObjectAccessibility="accessibility",b.PropColumnFormatString=new m(b.ObjectGeneral,"formatString",void 0,v.codeOnly),b.PropGeneralTableTotals=new m(b.ObjectGeneral,"totals",!0,v.codeOnly),b.PropGeneralMatrixRowSubtotals=new m(b.ObjectGeneral,"rowSubtotals",!0,v.codeOnly),b.PropGeneralMatrixColumnSubtotals=new m(b.ObjectGeneral,"columnSubtotals",!0,v.codeOnly),b.PropGeneralAutoSizeColumns=new m(b.ObjectGeneral,"autoSizeColumnWidth",!0,v.attributeValue),b.PropGeneralTextSize=new m(b.ObjectGeneral,"textSize",8,v.attributeValue),b.PropGeneralMatrixLayout=new m(b.ObjectGeneral,"layout",void 0,v.codeOnly),b.PropGridPivotTableTextSize=new m(b.ObjectGrid,"textSize",8,v.attributeValue),b.PropGridVertical=new m(b.ObjectGrid,"gridVertical",!1,v.codeOnly),b.PropGridVerticalWeight=new m(b.ObjectGrid,"gridVerticalWeight",1,v.attributeValue),b.PropGridHorizontalTable=new m(b.ObjectGrid,"gridHorizontal",!0,v.codeOnly),b.PropGridHorizontalMatrix=new m(b.ObjectGrid,"gridHorizontal",!1,v.codeOnly),b.PropGridHorizontalWeight=new m(b.ObjectGrid,"gridHorizontalWeight",1,v.attributeValue),b.PropGridRowPadding=new m(b.ObjectGrid,"rowPadding",0,v.attributeValue),b.PropGridOutlineStyle=new m(b.ObjectGrid,"outlineStyle",void 0,v.codeOnly),b.PropGridOutlineWeight=new m(b.ObjectGrid,"outlineWeight",1,v.attributeValue),b.PropGridImageHeight=new m(b.ObjectGrid,"imageHeight",75,v.attributeValue),b.PropGridImageWidth=new m(b.ObjectGrid,"imageWidth",void 0,v.attributeValue,void 0,[b.PropGridImageHeight]),b.PropBlankRowsShowBlankRows=new m(b.ObjectBlankRows,"showBlankRows",!1,v.attributeValue),b.PropBlankRowsTransparency=new m(b.ObjectBlankRows,"blankRowTransparency",0,v.attributeValue),b.PropBlankRowsShowBorder=new m(b.ObjectBlankRows,"showBorder",!1,v.attributeValue),b.PropBlankRowsBorderPosition=new m(b.ObjectBlankRows,"borderPosition",void 0,v.attributeValue),b.PropBlankRowsBorderTransparency=new m(b.ObjectBlankRows,"borderTransparency",0,v.attributeValue),b.PropBlankRowsBorderWidth=new m(b.ObjectBlankRows,"borderWidth",1,v.attributeValue),b.PropColumnsFontFamily=new m(b.ObjectColumnHeaders,"fontFamily",t.Hx.regular.css,v.attributeValue),b.PropColumnsOutline=new m(b.ObjectColumnHeaders,"outline",d.yk,v.codeOnly),b.PropColumnsOutlineStyle=new m(b.ObjectColumnHeaders,"outlineStyle",void 0,v.codeOnly),b.PropColumnsNewVisualOutline=new m(b.ObjectColumnHeaders,"outline",void 0,v.codeOnly),b.PropColumnsAlignment=new m(b.ObjectColumnHeaders,"alignment",h.D.auto,v.codeOnly),b.PropColumnsAlignmentTitle=new m(b.ObjectColumnHeaders,"titleAlignment",h.D.auto,v.codeOnly,null,[b.PropColumnsAlignment]),b.PropColumnPivotTableAutoSizeColumns=new m(b.ObjectColumnHeaders,"autoSizeColumnWidth",!0,v.codeOnly),b.PropColumnsWordWrap=new m(b.ObjectColumnHeaders,"wordWrap",!1,v.codeOnly),b.PropColumnsOutlineWeight=new m(b.ObjectColumnHeaders,"outlineWeight",void 0,v.attributeValue),b.PropColumnsUrlIcon=new m(b.ObjectColumnHeaders,"urlIcon",!1,v.codeOnly),b.PropColumnsFontSize=new m(b.ObjectColumnHeaders,"fontSize",void 0,v.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropColumnsBold=new m(b.ObjectColumnHeaders,"bold",!1,v.codeOnly),b.PropColumnsItalic=new m(b.ObjectColumnHeaders,"italic",!1,v.codeOnly),b.PropColumnsUnderline=new m(b.ObjectColumnHeaders,"underline",!1,v.codeOnly),b.PropRowsSteppedLayout=new m(b.ObjectRowHeaders,"stepped",!0,v.codeOnly),b.PropRowsSteppedLayoutIndentation=new m(b.ObjectRowHeaders,"steppedLayoutIndentation",10,v.attributeValue),b.PropRowsFontFamily=new m(b.ObjectRowHeaders,"fontFamily",t.Hx.regular.css,v.attributeValue),b.PropRowsOutline=new m(b.ObjectRowHeaders,"outline",d.X_,v.codeOnly),b.PropRowsPivotTableOutline=new m(b.ObjectRowHeaders,"outline",void 0,v.codeOnly),b.PropRowsOutlineStyle=new m(b.ObjectRowHeaders,"outlineStyle",void 0,v.codeOnly),b.PropRowsAlignment=new m(b.ObjectRowHeaders,"alignment",h.D.auto,v.codeOnly),b.PropRowsWordWrap=new m(b.ObjectRowHeaders,"wordWrap",!1,v.codeOnly),b.PropRowsOutlineWeight=new m(b.ObjectRowHeaders,"outlineWeight",void 0,v.attributeValue),b.PropRowsUrlIcon=new m(b.ObjectRowHeaders,"urlIcon",!1,v.codeOnly),b.PropRowsFontSize=new m(b.ObjectRowHeaders,"fontSize",void 0,v.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropRowsShowExpandCollapseButtons=new m(b.ObjectRowHeaders,"showExpandCollapseButtons",!1,v.codeOnly),b.PropRowsExpandCollapseButtonsSize=new m(b.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,v.attributeValue,void 0,[b.PropRowsFontSize]),b.PropRowsBold=new m(b.ObjectRowHeaders,"bold",!1,v.codeOnly),b.PropRowsItalic=new m(b.ObjectRowHeaders,"italic",!1,v.codeOnly),b.PropRowsUnderline=new m(b.ObjectRowHeaders,"underline",!1,v.codeOnly),b.PropRowsExpandCompositeHierarchy=new m(b.ObjectRowHeaders,"expandCompositeHierarchy",!1,v.codeOnly),b.PropRowsRepeatRowHeaders=new m(b.ObjectRowHeaders,"repeatRowHeaders",!1,v.codeOnly),b.PropRowsLegacyStyleDisabled=new m(b.ObjectRowHeaders,"legacyStyleDisabled",!1,v.codeOnly),b.PropValuesFontFamily=new m(b.ObjectValues,"fontFamily",t.Hx.regular.css,v.attributeValue),b.PropValuesBandedRowHeaders=new m(b.ObjectValues,"bandedRowHeaders",!0,v.codeOnly),b.PropValuesOutline=new m(b.ObjectValues,"outline",d.dv,v.codeOnly),b.PropValuesOutlineStyle=new m(b.ObjectValues,"outlineStyle",void 0,v.codeOnly),b.PropValuesNewVisualOutline=new m(b.ObjectValues,"outline",void 0,v.codeOnly),b.PropValuesUrlIcon=new m(b.ObjectValues,"urlIcon",!1,v.codeOnly),b.PropValuesWordWrap=new m(b.ObjectValues,"wordWrap",!1,v.codeOnly),b.PropValuesOutlineWeight=new m(b.ObjectValues,"outlineWeight",void 0,v.attributeValue),b.PropValuesOnRow=new m(b.ObjectValues,"valuesOnRow",!1,v.attributeValue),b.PropValuesFontSize=new m(b.ObjectValues,"fontSize",void 0,v.attributeValue,void 0,[b.PropGridPivotTableTextSize]),b.PropValuesIcon=new m(b.ObjectValues,"icon",void 0,v.attributeValue),b.PropValuesWebURL=new m(b.ObjectValues,"webURL",void 0,v.attributeValue),b.PropValuesBold=new m(b.ObjectValues,"bold",!1,v.codeOnly),b.PropValuesItalic=new m(b.ObjectValues,"italic",!1,v.codeOnly),b.PropValuesUnderline=new m(b.ObjectValues,"underline",!1,v.codeOnly),b.PropTotalTableExTotals=new m(b.ObjectTotal,"totals",!0,v.codeOnly),b.PropTotalTableExTotalLabel=new m(b.ObjectTotal,"label",null,v.safeTextContent),b.PropTotalOutline=new m(b.ObjectTotal,"outline",d.G7,v.codeOnly),b.PropTotalTableExOutline=new m(b.ObjectTotal,"outline",void 0,v.codeOnly),b.PropTotalOutlineStyle=new m(b.ObjectTotal,"outlineStyle",void 0,v.codeOnly),b.PropTotalOutlineWeight=new m(b.ObjectTotal,"outlineWeight",void 0,v.attributeValue),b.PropTotalFontFamily=new m(b.ObjectTotal,"fontFamily",void 0,v.attributeValue,void 0,[b.PropValuesFontFamily]),b.PropTotalFontSize=new m(b.ObjectTotal,"fontSize",void 0,v.attributeValue,void 0,[b.PropValuesFontSize]),b.PropTotalBold=new m(b.ObjectTotal,"bold",!0,v.codeOnly),b.PropTotalItalic=new m(b.ObjectTotal,"italic",!1,v.codeOnly),b.PropTotalUnderline=new m(b.ObjectTotal,"underline",!1,v.codeOnly),b.PropSubTotalsPivotTableRowSubtotals=new m(b.ObjectSubTotals,"rowSubtotals",!0,v.codeOnly),b.PropSubTotalsPivotTableRowSubtotalsLabel=new m(b.ObjectSubTotals,"rowSubtotalsLabel",null,v.safeTextContent),b.PropSubTotalsPivotTableRowSubtotalsPerLevel=new m(b.ObjectSubTotals,"perRowLevel",!1,v.codeOnly),b.PropSubTotalsPivotTableColumnSubtotals=new m(b.ObjectSubTotals,"columnSubtotals",!0,v.codeOnly),b.PropSubTotalsPivotTableColumnSubtotalsLabel=new m(b.ObjectSubTotals,"columnSubtotalsLabel",null,v.safeTextContent),b.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new m(b.ObjectSubTotals,"perColumnLevel",!1,v.codeOnly),b.PropSubTotalsPivotTableLevelSubtotalEnabled=new m(b.ObjectSubTotals,"levelSubtotalEnabled",!0,v.codeOnly),b.PropSubTotalsPivotTableLevelSubtotalLabel=new m(b.ObjectSubTotals,"levelSubtotalLabel",null,v.safeTextContent),b.PropSubTotalsPivotTableRowSubtotalsPosition=new m(b.ObjectSubTotals,"rowSubtotalsPosition",void 0,v.codeOnly,(T,M,V)=>b.PropGeneralMatrixLayout.getValue(T)===r.$.Tabular?s.sQ:(0,g._W)(T,M,V)??(b.PropRowsSteppedLayout.getValue(T)?s.Mn:s.sQ)),b.PropSubTotalsApplyToHeaders=new m(b.ObjectSubTotals,"applyToHeaders",!1,v.codeOnly),b.PropSubTotalsFontFamily=new m(b.ObjectSubTotals,"fontFamily",void 0,v.attributeValue,void 0,[b.PropValuesFontFamily]),b.PropSubTotalsFontSize=new m(b.ObjectSubTotals,"fontSize",void 0,v.attributeValue,void 0,[b.PropValuesFontSize]),b.PropSubTotalsBold=new m(b.ObjectSubTotals,"bold",!0,v.codeOnly),b.PropSubTotalsItalic=new m(b.ObjectSubTotals,"italic",!1,v.codeOnly),b.PropSubTotalsUnderline=new m(b.ObjectSubTotals,"underline",!1,v.codeOnly),b.PropGrandTotalApplyToHeaders=new m(b.ObjectTotal,"applyToHeaders",!1,v.codeOnly),b.PropGrandTotalFontFamily=new m(b.ObjectTotal,"fontFamily",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropGrandTotalFontSize=new m(b.ObjectTotal,"fontSize",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropGrandTotalBold=new m(b.ObjectTotal,"bold",!0,v.codeOnly),b.PropGrandTotalItalic=new m(b.ObjectTotal,"italic",!1,v.codeOnly),b.PropGrandTotalUnderline=new m(b.ObjectTotal,"underline",!1,v.codeOnly),b.PropColumnGrandTotalApplyToHeaders=new m(b.ObjectColumnTotal,"applyToHeaders",!1,v.codeOnly),b.PropColumnGrandTotalFontFamily=new m(b.ObjectColumnTotal,"fontFamily",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropColumnGrandTotalFontSize=new m(b.ObjectColumnTotal,"fontSize",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropColumnGrandTotalBold=new m(b.ObjectColumnTotal,"bold",!0,v.codeOnly),b.PropColumnGrandTotalItalic=new m(b.ObjectColumnTotal,"italic",!1,v.codeOnly),b.PropColumnGrandTotalUnderline=new m(b.ObjectColumnTotal,"underline",!1,v.codeOnly),b.PropRowGrandTotalApplyToHeaders=new m(b.ObjectRowTotal,"applyToHeaders",!1,v.codeOnly),b.PropRowGrandTotalFontFamily=new m(b.ObjectRowTotal,"fontFamily",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontFamily]),b.PropRowGrandTotalFontSize=new m(b.ObjectRowTotal,"fontSize",void 0,v.attributeValue,void 0,[b.PropSubTotalsFontSize]),b.PropRowGrandTotalBold=new m(b.ObjectRowTotal,"bold",!0,v.codeOnly),b.PropRowGrandTotalItalic=new m(b.ObjectRowTotal,"italic",!1,v.codeOnly),b.PropRowGrandTotalUnderline=new m(b.ObjectRowTotal,"underline",!1,v.codeOnly),b.PropColumnFormattingDisplayUnits=new m(b.ObjectColumnFormatting,"labelDisplayUnits",1,v.codeOnly,g._W),b.PropColumnFormattingPrecision=new m(b.ObjectColumnFormatting,"labelPrecision",void 0,v.codeOnly,g._W),b.PropColumnFormattingAlignment=new m(b.ObjectColumnFormatting,"alignment",h.D.auto,v.codeOnly),b.PropColumnFormattingStyleHeader=new m(b.ObjectColumnFormatting,"styleHeader",!1,v.codeOnly),b.PropColumnFormattingStyleValues=new m(b.ObjectColumnFormatting,"styleValues",!0,v.codeOnly),b.PropColumnFormattingStyleSubtotals=new m(b.ObjectColumnFormatting,"styleSubtotals",!0,v.codeOnly),b.PropColumnFormattingDataBars=new m(b.ObjectColumnFormatting,"dataBars",void 0,v.codeOnly),b.PropColumnFormattingStyleTotal=new m(b.ObjectColumnFormatting,"styleTotal",!1,v.codeOnly),b.PropColumnWidthValue=new m(b.ObjectColumnWidth,"value",void 0,v.attributeValue),b.PropAltTextValue=new m(b.ObjectAccessibility,"altTextColumns",void 0,v.attributeValue),b.ProprowWithReferenceText=new m(b.ObjectAccessibility,"rowWithReferenceText",void 0,v.attributeValue),b.PropUnfrozenRowHeaders=new m(b.ObjectRowHeaders,"unfrozen",!1,v.codeOnly),b})()},262980:function(me,j,e){e.d(j,{XP:function(){return L},YD:function(){return U},h:function(){return W}});var r=e(618644),i=e(255319),a=e(785463),t=e(416341),l=e(791106),g=e(590466),n=e(97458),d=e(824760),s=e(461196),h=e(883113),o=e(430794),v=e(467074),m=e(237193),p=e(653719),y=(0,i.tI)("tooltip-container"),S=(0,i.tI)("tooltip-light"),C=(0,i.tI)("tooltip-content-container"),u=(0,i.tI)("tooltip-data-container"),E=(0,i.tI)("tooltip-icon-cell"),c=(0,i.tI)("tooltip-line-icon"),f=(0,i.tI)("tooltip-marker-icon"),D=(0,i.tI)("tooltip-header"),b=(0,i.tI)("tooltip-subheader"),T=(0,i.tI)("tooltip-footer"),M=(0,i.tI)("tooltip-discoverabilityText"),V=(0,i.tI)("tooltip-rows-container"),w=(0,i.tI)("tooltip-row"),P=(0,i.tI)("tooltip-title-cell"),N=(0,i.tI)("tooltip-value-cell"),I=(0,i.tI)("tooltip-kpi-cell"),O=(0,i.tI)("arrow"),R=m.Z.createFromPt(9),W={titleFontProperties:{color:"#C8C8C8",family:t.Hx.regular.css,size:R,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:t.Hx.semibold.css,size:R,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:t.Hx.regular.css,size:m.Z.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},U=31;class L{constructor(){}create(z){var H=$("<div>").get(0);return(this.container=d3.select(H).classed(C.class,!0)).append("div").classed(u.class,!0).style("direction","ltr").attrs({tabindex:"0",focusable:"true",role:"dialog","aria-modal":"false",ariaLabel:z||null}),H}update(z){if(null==z.style&&(z.style=W),a.Y.assert(()=>!!z.style.titleFontProperties,"Title Font Properties Should Be Defined"),a.Y.assert(()=>!!z.style.valueFontProperties,"Value Font Properties Should Be Defined"),!_.isEqual(z,this.currentData)&&(this.currentData=z,this.textTitleFontProperty=(0,d.o)(z.style.titleFontProperties),this.textValueFontProperty=(0,d.o)(z.style.valueFontProperties),this.container.data)){var H=this.buildViewModel(z);this.dataContainer||(this.dataContainer=this.container.select(u.selector));var Z=this.dataContainer,k=this.currentData.style;Z.selectAll(b.selector).remove(),Z.selectAll(D.selector).remove(),Z.selectAll(V.selector).remove(),Z.selectAll(w.selector).remove(),Z.selectAll(T.selector).remove(),Z.selectAll(M.selector).remove(),Z.selectAll(b.selector).data(_.filter([H.subheader],Q=>!!Q)).join(Q=>Q.append("div").attr("class",b.class)).text(H.subheader).styles((0,d.q1)(()=>k.valueFontProperties)),Z.selectAll(D.selector).data(_.filter([H.header],Q=>!!Q)).join(Q=>Q.append("div").attr("class",D.class).attr("role","heading")).text(H.header).styles((0,d.q1)(()=>k.valueFontProperties)),this.updateTooltipRows(Z,H.rows),Z.selectAll(M.selector).data(_.filter([H.discoverabilityText],Q=>!!Q)).join(Q=>Q.append("div").attr("class",M.class)).text(H.discoverabilityText).styles(k.discoverabilityFontProperties?(0,d.q1)(()=>k.discoverabilityFontProperties):{}),Z.selectAll(T.selector).data(_.filter([H.footer],Q=>!!Q)).join(Q=>Q.append("div").attr("class",T.class)).text(H.footer);var K=d3.select(y.selector),ee=K.selectAll(O.selector);if(L.isFieldListTooltip())return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void ee.styles({"border-right-color":null,"border-left-color":null,opacity:null});ee.styles({"border-right-color":k.background?.solid.color,"border-left-color":k.background?.solid.color,opacity:(0,r.yS)(k.transparency)}),K.selectAll(C.selector).attr("aria-live","polite").styles({"background-color":k.background?.solid.color,opacity:(0,r.yS)(k.transparency)}),K.select(u.selector).selectAll(P.selector).styles((0,d.q1)(()=>k.titleFontProperties)),K.select(u.selector).selectAll(N.selector).styles((0,d.q1)(()=>k.valueFontProperties))}}static isFieldListTooltip(){var z=d3.select(y.selector);return z.node()&&z.classed(S.class)}setFocus(){this.dataContainer.node().focus()}updateTooltipRows(z,H){z.selectAll(w.selector).remove(),z.selectAll(V.selector).remove();var k=z.append("div").attrs({class:V.class,role:"list"}).selectAll(w.selector).data(H).join(ne=>ne.append("div").attr("role","listitem").classed(w.class,!0)),K=ne=>!!ne?.line,ee=ne=>(0,g.AR)(K(ne)?U/2:5,8,5/o.F0);function Q(ne,ae,oe){ne.selectAll("div").data(Me=>Me).join(Me=>Me.append("div")).text(Me=>l.N.getTailoredTextOrDefault({...ae,text:Me},oe))}k.selectAll(E.selector).data(ne=>_.filter([ne.icon],ae=>void 0!==ae)).join(ne=>ne.append("div").classed(E.class,!0).call(ae=>ae.append("svg").attr("height","15px").style("overflow","visible").call(oe=>{oe.append("path").classed(c.class,!0),oe.append("path").classed(f.class,!0)}))).style("max-width",ne=>`${K(ne)?U:13}px`).call(ne=>{ne.selectAll("svg").attr("width",ae=>K(ae)?U:"100%"),ne.selectAll(c.selector).attrs({transform:ee,d:ae=>K(ae)?"M 0 0 M -"+U/2+" 0 L "+U/2+" 0":null}).styles(ae=>(0,v.g)(ae?.line)),ne.selectAll(f.selector).attrs({transform:ee,d:ae=>(0,h.IG)(ae?.marker?.shape||p._Q.circle)}).styles(ae=>(0,h.C4)(ae?.marker,void 0))}),Q(k.selectAll(P.selector).data(ne=>_.filter([ne.displayNameRows],ae=>!!ae)).join(ne=>ne.append("div").classed(P.class,!0)),this.textTitleFontProperty,260),Q(k.selectAll(N.selector).data(ne=>_.filter([ne.valueRows],ae=>!_.isEmpty(ae))).join(ne=>ne.append("div").classed(N.class,!0)),this.textValueFontProperty,260),k.selectAll(I.selector).data(ne=>_.filter([ne.kpiValue],ae=>!!ae)).join(ne=>ne.append("div").styles({"vertical-align":"middle",margin:0})).attr("class",ne=>`${I.class} ${(0,s.y9)(ne.metadata,ne.value)}`),k.each(function(ne){var ae=ne.extraPadding;null!=ae&&d3.selectAll(this.children).style("padding-top","top"===ae?"5px":null).style("padding-bottom","bottom"===ae?"5px":null)})}updateOptions(z){if(this.dataContainer){var H=z.dataContainerWidth;this.dataContainer.style("width",null!=H?`${H}px`:"")}}buildViewModel(z){var H=z.items,Z=_.chain(H).filter(X=>this.isValidDataItem(X)).map(X=>this.buildRowViewModel(X,z.style.titleFontProperties.color)).value();this.distributeRows(Z,z.bounds);var k=_.head(H),K=_.last(H),ee=_.some(Z,X=>X.icon),Q=_.some(Z,X=>X.valueRows||X.kpiValue);if(ee||Q)for(var J of Z)ee&&void 0===J.icon&&(J.icon=null),Q&&void 0===J.valueRows&&null==J.kpiValue&&(J.valueRows=[]);return{footer:K?.footer,hasIcons:ee,hasValues:Q,header:k?.header,subheader:k?.subheader,rows:Z,discoverabilityText:z.discoverabilityText}}buildRowViewModel(z,H){var Z=z.marker?.shape===p._Q.lowerErrorBar,k=z.marker?.shape===p._Q.upperErrorBar;return H&&(Z||k)&&(z.marker.color=H),a.Y.assert(()=>!(z.kpiValue&&z.value),"Should not have a `value` and a `kpiValue`"),{displayNameRows:[z.displayName],icon:z.marker?.color?{line:z.line,marker:z.marker}:void 0,kpiValue:z.kpiValue,valueRows:null==z.value||z.kpiValue?void 0:[z.value],extraPadding:z.marker?.color?k?"top":Z?"bottom":void 0:void 0}}isValidDataItem(z){return z?null!=z.displayName&&"string"!=typeof z.displayName?(a.Y.assertFail("Tooltip datapoint displayName must be a string"),!1):null==z.value||"string"==typeof z.value||(a.Y.assertFail("Tooltip datapoint value must be a string"),!1):(a.Y.assertFail("Tooltip datapoint must not be null/undefined"),!1)}getRowHeight(){return Math.max(l.N.estimateSvgTextHeight(this.textTitleFontProperty),l.N.estimateSvgTextHeight(this.textValueFontProperty))}distributeRows(z,H){for(var Z=this,ee=H.height/this.getRowHeight(),Q=0,J=[],X=[],ne=[],ae=[],oe=function(){var ze=z[Me];a.Y.assert(()=>1===ze.displayNameRows.length,"Expected `displayNameRows` to have 1 row"),a.Y.assert(()=>null==ze.valueRows||1===ze.valueRows.length,"Expected `valueRows` to be `undefined` or have 1 row");var Ae,Ce=ne[Me]=(0,n.cA)(ze.displayNameRows[0],Z.textTitleFontProperty,l.N.measureSvgTextWidth,260,ee,null,!1,!0);null!=ze.valueRows&&(Ae=ae[Me]=(0,n.cA)(ze.valueRows[0],Z.textValueFontProperty,l.N.measureSvgTextWidth,260,ee,null,!1,!0));var Ie=Math.max(Ce.length,Ae?Ae.length:0);J.push(Ie),Q+=Ie},Me=0;Me<z.length;Me++)oe();if(Q<=ee)X=J;else for(var Ye=ee-z.length,Le=0;Le<z.length;Le++)X[Le]=1+Math.round(Math.max(Ye,0)*(J[Le]/ee));for(var lt=0;lt<z.length;lt++){var ut=z[lt];ut.displayNameRows=this.getRows(ne[lt],X[lt]),ae[lt]&&(ut.valueRows=this.getRows(ae[lt],X[lt]))}}getRows(z,H){return z.length>H+1?z[H-1]+=z[H]+"\u2026":z.length>H&&(z[H-1]+=z[H]),z.slice(0,H)}}},116617:function(me,j,e){e.d(j,{DV:function(){return C},Iu:function(){return m},d5:function(){return p},p1:function(){return y}});var s,r=e(430276),i=e(634585),a=e(619584),t=e(137258),l=e(37859),g="G";class d{constructor(E,c,f){this.maxMemoryCacheSize=E,this.maxMemoryCacheSizeOverflow=c,this.localStorageCache=f,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=f}clear(E,c){var f=this;return(0,a.A)(function*(){E&&c.isSupported()&&(yield c.clear()),(0,t.IL)(g),f.geocodeCache={},f.geocodeCacheCount=0})()}getCoordinates(E,c,f,D){var b=this;return(0,a.A)(function*(){var T=E.getKey(),M=b.geocodeCache[T];if(M)return++M.hitCount,M.coordinate;var V=void 0;if(f&&D.isSupported()&&(V=yield D.get(T)),!V&&(!f||!D.isSupported()||b.isBingQuery(E))&&(V=b.localStorageCache.getData(T)),V)return c&&c.logFirstQueryHit(E),b.registerInMemory(T,V,c,f,D),V;void 0===M&&(c&&c.logFirstQueryMiss(E),b.markPendingInMemory(T))})()}getCoordinatesMemoryOnly(E,c){var f=E.getKey(),D=this.geocodeCache[f];if(D)return++D.hitCount,D.coordinate}registerCoordinates(E,c,f,D,b){var T=this;return(0,a.A)(function*(){T.registerInMemory(E,c,f,D,b);var M=d.getCoordinateToCache(c);D&&b.isSupported()?yield b.set(E,M,()=>f.logGeocodeCacheLimitExceeded(!0)):T.localStorageCache.setData(E,M,()=>f.logGeocodeCacheLimitExceeded(!1))})()}markPendingInMemory(E){this.geocodeCache[E]=null}registerInMemory(E,c,f,D,b){var T=this.geocodeCache,M=this.maxMemoryCacheSize,V=M+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=V){f&&f.disableFirstQueryLogging();var w=Object.keys(T),P=w.length;if(w.sort((R,W)=>{var F=T[R],U=T[W];return(U?U.hitCount:0)-(F?F.hitCount:0)}),P<2*V)for(var N=M-1;N<P;N++)T[w[N]]=void 0;else{for(var I={},O=M-1;O-- >0;)I[w[O]]=T[w[O]];T=this.geocodeCache=I}this.geocodeCacheCount=M}D&&b.isSupported()&&null==c&&(c={latitude:void 0,longitude:void 0}),T[E]={coordinate:c,hitCount:1},++this.geocodeCacheCount}isBingQuery(E){return E instanceof l.nR||E instanceof l.fd||E instanceof l.Vj}static getCoordinateToCache(E){var c=E?.locations;if(!c||!d.hasRuntimeBoundaryData(c))return E;var f={latitude:E.latitude,longitude:E.longitude,locations:_.map(c,D=>({nativeBing:D.nativeBing}))};return E.entityType&&(f.entityType=E.entityType),f}static hasRuntimeBoundaryData(E){for(var c of E)for(var f in c)if("nativeBing"!==f)return!0;return!1}}function v(){return s||(s=new d(r.wB.MaxCacheSize,r.wB.MaxCacheSizeOverflow,(0,t.bq)(g,i.OJ,r.wB.MaxPersistedSpace,r.wB.MaxAge))),s}function m(u,E,c,f){return u.getKey()?v().getCoordinates(u,E,c,f):Promise.resolve(void 0)}function p(u,E){if(u.getKey())return v().getCoordinatesMemoryOnly(u,E)}function y(u,E,c,f,D){return u?v().registerCoordinates(u,E,c,f,D):Promise.resolve(void 0)}function C(u,E){return v().clear(u,E)}},634585:function(me,j,e){e.d(j,{$C:function(){return v},AX:function(){return c},CJ:function(){return m},Dq:function(){return T},J6:function(){return h},KV:function(){return d},OJ:function(){return o},P1:function(){return E},R2:function(){return w},Wt:function(){return t},Wu:function(){return a},XH:function(){return p},bE:function(){return g},eA:function(){return f},g3:function(){return i},gR:function(){return y},gU:function(){return M},oG:function(){return C},q7:function(){return S},sw:function(){return s},vH:function(){return u},vb:function(){return b},yX:function(){return V},zp:function(){return l}}),e(430276);var i={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},a=function(P){return P.UpHierarchy="UpHierarchy",P.Ambiguous="Ambiguous",P}({}),t=function(P){return P[P.Geocode=0]="Geocode",P[P.Geoboundary=1]="Geoboundary",P[P.Geopoint=2]="Geopoint",P[P.BatchGeocode=3]="BatchGeocode",P[P.GeocodeAzureMaps=4]="GeocodeAzureMaps",P[P.GeolocationAzureMaps=5]="GeolocationAzureMaps",P[P.GeoboundaryAzureMaps=6]="GeoboundaryAzureMaps",P[P.BatchGeocodeAzureMaps=7]="BatchGeocodeAzureMaps",P}({}),l=function(P){return P.GetGeocoding="/geocode",P.GetGeocodingBatch="/geocode:batch",P.GetPolygon="/search/polygon",P.GetIPToLocation="/geolocation",P}({}),g="2023-06-01",d="multigeocode",s=100,h=30,o="4",v="https://platform.bing.com/geo/spatial/v1/public/Geodata",m="https://dev.virtualearth.net/REST/v1/Locations",p="/public/azuremaps",y="https://atlas.microsoft.com",S=`${y}${l.GetGeocoding}`,C=`${y}${l.GetGeocodingBatch}`,u=`${y}${l.GetPolygon}`,E=`${y}${l.GetIPToLocation}`,c={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},f={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},b={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},T={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},M={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},V=function(P){return P.EmptyResult="Geocode result is empty.",P}({}),w=function(P){return P.Small="small",P.Medium="medium",P.Large="large",P.Huge="huge",P}({})},144556:function(me,j,e){e.d(j,{Nv:function(){return h},WG:function(){return o},Y0:function(){return n},YZ:function(){return s},ZG:function(){return v},_W:function(){return t},no:function(){return p},y1:function(){return g},yx:function(){return m}});var r=e(304703),i=e(753771),a=e(634585);function t(){return function(S){switch(S.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return S;default:return null}}(i.C.getLanguage())}function g(S){return!d(S,a.Wu.UpHierarchy)}function n(S){return!d(S,a.Wu.Ambiguous)}function d(S,C){return _.some(S,u=>u===C)}function s(S){for(var C=5276,u=0;u<S.length;u++)C=(C<<5)-C+S.charCodeAt(u),C|=0;return Math.abs(C)}function h(S){switch(S=S.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var C=S.split("-",2);return C.length>1?C[1]:""}function o(S){r.Cn.information("georequest",void 0,S)}function v(S,C){r.Cn.error(`geocoding IndexedDB ${S} failure`,!0,void 0,C)}function m(S){return S?S.getAllResponseHeaders():void 0}var p=function(S){return S.Init="init",S.Get="get",S.Set="set",S.Clear="clear",S}({})},719565:function(me,j,e){e.d(j,{L:function(){return a},w:function(){return i}});var r=e(37859);function i(t,l,g){t&&(l instanceof r.nR?t.logGeocodeImmediate(l,g):l instanceof r.Vj?t.logGeocodeBoundaryImmediate(l,g):l instanceof r.Vl?t.logAzureMapsGeocodeImmediate(l):l instanceof r.hC&&t.logAzureMapsGeocodeBoundaryImmediate(l))}function a(t,l,g,n,d,s){t&&(l instanceof r.nR?(t.logGeocodeResult(l,g,n,d),t.logBatchTelemetry(l)):l instanceof r.Vj?t.logGeocodeBoundaryResult(l,g,n,d):l instanceof r.Vl?(t.logAzureMapsGeocodeResult(l,g,n,d,s),t.logBatchTelemetry(l)):l instanceof r.hC?t.logAzureMapsGeocodeBoundaryResult(l,g,n,d,s):l instanceof r.AZ&&t.logAzureMapsGeolocationResult(l,g,n,d,s))}},633258:function(me,j,e){e.d(j,{L:function(){return r}});var r=(()=>{class i{static setMapsAjaxCall(t){i.MapsAjaxCall=t}}return i.MapsAjaxCall=$.ajax,i})()},491394:function(me,j,e){e.d(j,{M:function(){return E},o:function(){return u}});var r=e(619584),i=e(785463),a=e(375953),t=e(981265),l=e(37859),g=e(116617),n=e(899448),d=e(135565),s=e(430276),h=e(634585),o=e(719565),v=e(633258),m=e(144556);class p{constructor(f,D,b){this.baseUrl=f,this.credentials=D,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=b.geocodeRetryOptions,this.tryIndexedDB=b.tryIndexedDB,this.indexedDBService=b.indexedDBService,this.instanceId=b.instanceId,this.queueName=b.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}reset(){var f=this.dequeueTimeout;for(var D of(f&&(this.dequeueTimeout=void 0,clearTimeout(f)),this.entries.concat(this.activeEntries)))this.cancel(D);this.entries=[],this.activeEntries=[]}enqueue(f){var D={item:f};this.entries.push(D),f.deferred.always(()=>{this.cancel(D)}),this.dequeue()}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<s.wB.MaxBingRequest;){var f=this.entries.shift();f.isCompleted||(this.geocodeRetryOptions?this.makeRequest(f,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(f))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(f){if(!f.jsonp){var D=f.request;D&&(f.request=null,D.abort())}this.complete(f,{error:new Error("cancelled")})}complete(f,D,b){var T=!1;if(!f.isCompleted&&(f.isCompleted=!0,f.item.deferred.state()===a.h[a.h.pending])){var M=this.tryIndexedDB&&this.indexedDBService.isSupported(),V=!f.item.bypassCache&&!b;!D||D.error?M&&V&&D?.error?.message===h.yX.EmptyResult?(T=!0,(0,g.p1)(f.item.query.getKey(),void 0,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.reject(D&&D.error||new Error("cancelled")),this.scheduleDequeue()},w=>{(0,m.ZG)(m.no.Set,{error:JSON.stringify(w)}),f.item.deferred.reject(D&&D.error||new Error("cancelled")),this.scheduleDequeue()})):f.item.deferred.reject(D&&D.error||new Error("cancelled")):V&&D?.coordinates?(T=!0,(0,g.p1)(f.item.query.getKey(),D.coordinates,f.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{f.item.deferred.resolve(D.coordinates),this.scheduleDequeue()},w=>{M&&(0,m.ZG)(m.no.Set,{error:JSON.stringify(w)}),f.item.deferred.resolve(D.coordinates),this.scheduleDequeue()})):(D?.coordinates&&f.item.deferred.resolve(D.coordinates),D?.geolocation&&f.item.deferred.resolve(D.geolocation))}T||this.scheduleDequeue()}makeRequest(f,D,b){var T=!f.item.bypassCache&&(0,g.d5)(f.item.query,f.item.logger);if(T)return(0,o.w)(f.item.logger,f.item.query,T),void this.complete(f,{coordinates:T},!0);var M=f.item.query.getAjaxConfig();M.jsonp&&(f.jsonp=!0);var V=f.item.query.getHeaders&&f.item.query.getHeaders();_.isEmpty(V)||(M.headers=V);var w=f.item.query.getUrl(this.baseUrl);w?(this.activeEntries.push(f),f.request=v.L.MapsAjaxCall(w,M),f.request.always(()=>{_.pull(this.activeEntries,f)}),f.request.pipe((P,N,I)=>{var O;f.item.bypassCache&&(0,m.WG)({url:w,response:JSON.stringify(P)}),f.request=null;try{O=f.item.query.getResult(P)}catch(R){O={error:R}}(0,o.L)(f.item.logger,f.item.query,P,O,!1,(0,m.yx)(I)),this.complete(f,O)},P=>{if(f.item.bypassCache&&(0,m.WG)({url:w,error:JSON.stringify(P)}),this.shouldRetry(P?P.status:void 0,D)){var I=Math.random()*b+b;b*=2,setTimeout(()=>{D++,this.makeRequest(f,D,b)},I)}else{f.request=null;var O={error:new Error(P&&P.statusText||"cancelled")};(0,o.L)(f.item.logger,f.item.query,void 0,O,!1),this.complete(f,O)}})):this.complete(f,{error:new Error("Unsupported query.")})}shouldRetry(f,D){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:b,maxRetryAttempts:T}=this.geocodeRetryOptions;return b.includes(f)&&D<T}}var y={};class u{constructor(f,D){this.useBatchGeocoding=f,this.bypassGeocodingCache=D}geocodeBaseUrl(f,D){switch(f){case h.Wt.GeocodeAzureMaps:return this.azureMapsGeocodingUrl(D);case h.Wt.BatchGeocodeAzureMaps:return this.azureMapsGeocodingBatchUrl(D);case h.Wt.GeoboundaryAzureMaps:return this.azureMapsBoundaryUrl(D);case h.Wt.Geoboundary:return this.bingSpatialDataUrl();case h.Wt.GeolocationAzureMaps:return this.azureMapsGeolocationUrl(D);default:return this.bingGeocodingUrl()}}setResolvedIsoCode(f){this.resolvedIsoCode=f}getResolvedIsoCode(){return this.resolvedIsoCode??""}geocodeQueueType(f){return f===t.fJ.AzureMaps?this.useBatchGeocoding()?h.Wt.BatchGeocodeAzureMaps:h.Wt.GeocodeAzureMaps:this.useBatchGeocoding()?h.Wt.BatchGeocode:h.Wt.Geocode}geocode(f,D,b,T,M,V,w){var P=D===t.fJ.AzureMaps;i.Y.assert(()=>P||M?.credentialType!==t.eO.SASToken,"SASToken credential type is only supported for Azure Maps");var N=this.geocodeQueueType(D),I=P?new l.Vl(this.azureMapsGeocodingUrl(M?.isPublishToWebHost??!1),f,!0,w,h.bE,this.getResolvedIsoCode(),M&&M.credentials,M&&M.credentialType,V):new l.nR(this.bingGeocodingUrl(),f,M&&M.credentials),O=(0,a.C)().defer();return this.geocodeCoreWithIpIsoCodeLookup(N,I,b,T,P,M,V).then(R=>O.resolve(R)).catch(R=>O.reject(R)),O.promise}geocodeBoundary(f,D,b,T,M,V){i.Y.assert(()=>D===t.fJ.AzureMaps||M?.credentialType!==t.eO.SASToken,"SASToken credential type is only supported for Azure Maps");var w=D===t.fJ.AzureMaps,{latitude:P,longitude:N,category:I="",levelOfDetail:O=2,maxGeoData:R=3,entityType:W}=f,F=w?h.Wt.GeoboundaryAzureMaps:h.Wt.Geoboundary,U=w?new l.hC(this.azureMapsBoundaryUrl(M?.isPublishToWebHost??!1),I,!0,V,this.getResolvedIsoCode(),h.bE,P,N,O,R,W,M&&M.credentials,M&&M.credentialType):new l.Vj(this.bingSpatialDataUrl(),P,N,I,O,R,W,M&&M.credentials),B=(0,a.C)().defer();return this.geocodeCoreWithIpIsoCodeLookup(F,U,b,T,w,M).then(x=>B.resolve(x)).catch(x=>B.reject(x)),B.promise}defaultTimeout(f=1e4){return new Promise((D,b)=>setTimeout(()=>b(new Error("Timeout exceeded")),f))}geocodePoint(f,D,b,T,M,V){var w=(0,a.C)().defer();return V={...V,timeout:V?.timeout??this.defaultTimeout()},this.geocodeCore(h.Wt.Geopoint,new l.fd(this.bingGeocodingUrl(),f,D,M??[],V?.credentials,V?.includeNeighborhood),b,T,V).then(P=>{_.isEmpty(P)?w.reject(new Error("Empty result")):w.resolve(P)}).catch(P=>{w.reject(P)}),w.promise}geolocation(f,D){i.Y.assert(()=>f===t.fJ.AzureMaps&&D?.credentialType===t.eO.SASToken,"geolocation is only supported for Azure Maps"),i.Y.assert(()=>D?.bypassCache??!1,"bypassCache should be set to true for geolocation");var b=(0,a.C)().defer(),T=this.getResolvedIsoCode();if(!_.isEmpty(T))return b.resolve({isoCode:T}),b.promise;D={...D,bypassCache:!0};var V=h.Wt.GeolocationAzureMaps,w=this.azureMapsGeolocationUrl(D?.isPublishToWebHost??!1),P=new l.AZ(w,h.bE,D?.credentials,D?.credentialType);return this.geocodeCore(V,P,!1,null,D).then(N=>{this.setResolvedIsoCode(N.isoCode),b.resolve(N)}).catch(N=>b.reject(N)),b.promise}tryGeocodeImmediate(f,D,b,T,M,V,w){var P=this;return(0,r.A)(function*(){if(!P.bypassGeocodingCache()){var N=D===t.fJ.AzureMaps?new l.Vl(P.azureMapsGeocodingUrl(M),f,!0,w,h.bE,P.getResolvedIsoCode(),void 0,t.eO.SASToken,V,M):new l.nR(P.bingGeocodingUrl(),f),I=P.bingGeocodingLogger(),O=yield(0,g.Iu)(N,I,b,T);return(0,o.w)(I,N,O),O}})()}tryGeocodeBoundaryImmediate(f,D,b,T,M,V){var w=this;return(0,r.A)(function*(){if(!w.bypassGeocodingCache()){var{latitude:P,longitude:N,category:I,levelOfDetail:O,maxGeoData:R=3,entityType:W}=f,F=D===t.fJ.AzureMaps?new l.hC(w.azureMapsBoundaryUrl(M),I,!0,V,w.getResolvedIsoCode(),h.bE,P,N,O,R,W):new l.Vj(w.bingSpatialDataUrl(),P,N,I,O,R,W),U=w.bingGeocodingLogger(),B=yield(0,g.Iu)(F,U,b,T);return(0,o.w)(U,F,B),B}})()}geocodeCoreWithIpIsoCodeLookup(f,D,b,T,M,V,w){var P=this;return(0,r.A)(function*(){var N=P.bingGeocodingLogger();if(M&&V?.credentialType===t.eO.SASToken&&V?.isPublishToWebHost&&_.isEmpty(P.getResolvedIsoCode()))try{yield P.initiateIpIsoCodeLookup(V??{},t.fJ.AzureMaps)}catch(O){N.logGeolocationMiss(O)}return yield P.geocodeCore(f,D,b,T,V,w)})()}geocodeCore(f,D,b,T,M,V){var w=$.Deferred();if(D.validate()){var P=this.bingGeocodingLogger(),N=null!=M?.bypassCache?M.bypassCache:this.bypassGeocodingCache(),I=!N&&(0,g.d5)(D,P);if(I)return(0,o.w)(P,D,I),w.resolve(I),w;var O=M?.timeout,R=f===h.Wt.BatchGeocode||f===h.Wt.BatchGeocodeAzureMaps,W=function(c,f,D,b,T,M,V,w,P){var N=c.toString()+f+(D||"");(c===h.Wt.BatchGeocode||c===h.Wt.BatchGeocodeAzureMaps)&&V&&(N+=V);var O=y[N];if(O)return O;var R=(0,n.L_)(f),W=R.queryParameters;switch("/"===(f=R.baseUrl)[f.length-1]&&(f=f.substring(0,f.length-1)),c){case h.Wt.BatchGeocodeAzureMaps:O=new d.o(f,D,{batchGeocodeCulture:V,batchSize:h.sw,batchRequest:F=>JSON.stringify({batchItems:_.map(F,U=>U.getEntity())}),batchHeaders:(F,U)=>{var B={"Accept-Language":U||(0,m._W)()};return i.Y.assert(()=>M===t.eO.SASToken,"Invalid Azure Maps credential type"),M===t.eO.SASToken&&(B.Authorization=`jwt-sas ${F}`),P&&(B["x-ms-internal-blockExtendedLocations"]="true"),B},batchQueryParameters:(F,U)=>({...W,"api-version":h.bE}),tryIndexedDB:b,indexedDBService:T,instanceId:w,queueName:N,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case h.Wt.BatchGeocode:O=new d.o(`${f}/${h.KV}`,D,{batchGeocodeCulture:V,batchSize:h.J6,batchRequest:F=>JSON.stringify({GeocodeEntities:_.map(F,U=>U.getEntity())}),batchHeaders:(F,U)=>({}),batchQueryParameters:(F,U)=>({...W,culture:U||(0,m._W)(),output:"json",key:F}),tryIndexedDB:b,indexedDBService:T,instanceId:w,queueName:N});break;case h.Wt.GeocodeAzureMaps:case h.Wt.GeoboundaryAzureMaps:case h.Wt.GeolocationAzureMaps:O=new p(f,D,{tryIndexedDB:b,indexedDBService:T,instanceId:w,queueName:N,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:O=new p(f,D,{tryIndexedDB:b,indexedDBService:T,instanceId:w,queueName:N})}return y[N]=O,O}(f,this.geocodeBaseUrl(f,M?.isPublishToWebHost??!1),M?.credentials,b,T,M?.credentialType,R&&D.getCulture?D.getCulture():void 0,M?.instanceId,V),F={timeout:O,geocoder:this,query:D,deferred:w,logger:this.bingGeocodingLogger(),bypassCache:N};return W.enqueue(F),P&&P.collectBatchQueue(W),O&&O.finally(()=>{F.deferred.state()===a.h[a.h.pending]&&F.deferred.reject()}),w}w.reject()}initiateIpIsoCodeLookup(f,D){var b=this;return(0,r.A)(function*(){if(!f?.isPublishToWebHost)return Promise.resolve();i.Y.assert(()=>D===t.fJ.AzureMaps||f?.credentialType!==t.eO.SASToken,"Ip IsoCode lookup is only supported for Azure Maps"),f.bypassCache=!0,yield b.geolocation(D,f)})()}}class E extends u{constructor(f=(()=>!1),D=(()=>!1),b){super(f,D),this.logger=b}bingSpatialDataUrl(){return h.$C}bingGeocodingUrl(){return h.CJ}bingGeocodingLogger(){return this.logger}azureMapsGeocodingUrl(){return h.q7}azureMapsGeocodingBatchUrl(f){return f?h.q7:h.oG}azureMapsBoundaryUrl(){return h.vH}azureMapsGeolocationUrl(){return h.P1}}},37859:function(me,j,e){e.d(j,{hC:function(){return D},Vl:function(){return u},AZ:function(){return b},Vj:function(){return f},fd:function(){return c},nR:function(){return C}});var r=e(785463),i=e(899448),a=e(981265),t=e(430276),l=e(634585),g=e(144556),s=v(undefined,[[t.eP.Continent,l.g3.Continent],[t.eP.CountryRegion,l.g3.Sovereign],[t.eP.StateOrProvince,l.g3.AdminDivision1],[t.eP.County,l.g3.AdminDivision2],[t.eP.City,l.g3.PopulatedPlace],[t.eP.PostalCode,l.g3.Postcode],[t.eP.Address,l.g3.Address]]),h=v(undefined,[[t.eP.CountryRegion,l.g3.CountryRegion],[t.eP.StateOrProvince,l.g3.AdminDivision1],[t.eP.County,l.g3.AdminDivision2],[t.eP.City,l.g3.PopulatedPlace],[t.eP.PostalCode,l.g3.Postcode1]]);function v(T,M){return V=>(T||function(T,M){M.forEach(([V,w])=>{T[V.toLowerCase()]=w})}(T={},M),V&&T[V.toLowerCase()]||"")}var y={[l.CJ]:"G",[l.$C]:"S",[l.q7]:"AG",[l.vH]:"AS"};class S{constructor(M,V,w,P,N,I){this.location=M,this.usingAzureMapsBackend=w,this.azureMapsDataResidency=P,this.azureMapsBlockExtendedLocations=N,this.azureMapsIsPublishToWebHost=I,V&&(w&&P&&!I&&(V=this.removeRegion(V)),this.key=((V=y[V]||V)+";"+_.map(this.location.components,O=>(O.query||"")+"/"+(O.category||"")).join("&")).toLowerCase(),M.culture&&(this.key+=`&c=${M.culture}`),w&&N&&(this.key+="&bEL"))}removeRegion(M){return r.Y.assert(()=>!!M&&M.indexOf("atlas.microsoft.com")>0,`should be a valid azure maps url, but received ${M}`),M.slice(0,8)+M.slice(M.indexOf("atlas.microsoft.com"))}getKey(){return this.key}getAjaxConfig(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}}}var C=(()=>{class T extends S{constructor(V,w,P){super(w,V),this.credentials=P}getCulture(){return this.location.culture}getBingEntity(){return s(_.last(this.location.components).category)}validate(){return null!=this.getEntity()}getEntity(){var V=this.getGeocodingParameters();if(_.some(V,W=>!W.key)){var w=_.chain(V).map(W=>W.value).filter(W=>W).reverse().value().join(", ");return w?{Query:w}:void 0}var P={Address:{}},N=P.Address;for(var I of V){var O=I.value;if(!O||!(O=O.trim()))return;var R=I.key;"adminDistrict"===R&&N.AdminDistrict?N.AdminDistrict=I.value+", "+N.AdminDistrict:N[l.AX[R]]=I.value}return P}getUrl(V){var w={key:this.credentials||t.wB.BingKey},P=this.getEntity();if(P){var N=P.Address;if(N)for(var I in N)w[l.eA[I]]=N[I];else w.q=P.Query;var O=this.location.culture||(0,g._W)();return O&&(w.c=O),w.maxRes="10",(0,i.LF)(V,w,!0)}}getGeocodingParameters(){var V=this.location.components;return V.length>=2&&V[0].category===t.eP.Continent&&V[1].category===t.eP.CountryRegion&&(V=_.tail(V)),_.map(V,P=>{var N=s(P.category),I="";N in l.vb&&(I=l.vb[N]);var O=P.query;return N===l.g3.Sovereign&&O&&(O=T.Iso3166Substitutions[O]||O),{key:I,value:O}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),V=>!V.key)}getResult(V){var w=this.isGeneralQuery(),P=E(V,O=>this.locationQuality(O,w));if(P){var N=P.point.coordinates;return{coordinates:{latitude:N&&N[0],longitude:N&&N[1],entityType:P.entityType}}}return{error:new Error(l.yX.EmptyResult)}}shouldDoFullGeocoding(V){var w=V&&V.resourceSets&&V.resourceSets[0]&&V.resourceSets[0].resources&&V.resourceSets[0].resources[0];if(!w||(0,g.Y0)(w.matchCodes))return!1;var P=this.getBingEntity().toLowerCase(),N=w.entityType&&w.entityType.toLowerCase();return"admindivision1"===P&&"admindivision2"===N||"admindivision2"===P&&"admindivision1"===N}extractSingleResult(V,w){return V&&V.resourceSets&&V.resourceSets.length>w?{resourceSets:[V.resourceSets[w]]}:void 0}locationQuality(V,w){if(!w&&V.matchCodes&&!(0,g.y1)(V.matchCodes))return-1;var P=0;if(1===this.location.components.length&&this.location.components[0].category===t.eP.CountryRegion){var N=V.address&&V.address.countryRegionIso2;if(N){var I=this.location.components[0].query.toLowerCase();2===I.length&&I===N.toLowerCase()&&(P+=2)}}return V.entityType&&V.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(P+=1),P}}return T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},T})(),u=(()=>{class T extends S{constructor(V,w,P,N,I,O,R,W=a.eO.SASToken,F,U){super(w,V,P,N,F,!!U),this.location=w,this.usingAzureMapsBackend=P,this.azureMapsDataResidency=N,this.apiVersion=I,this.isoCode=O,this.credentials=R,this.credentialType=W,this.blockExtendedLocations=F,this.isPublishToWebHost=U,r.Y.assert(()=>W===a.eO.SASToken||!!R,"credentials must be provided when using Azure Maps SAS Token")}getCulture(){return this.location.culture}validate(){return null!=this.getEntity()}getEntity(){var V=this.getGeocodingParameters();if(_.some(V,R=>!R.key)){var w=_.chain(V).map(R=>R.value).filter(R=>R).reverse().value().join(", ");return w?{query:w}:void 0}var P={};for(var N of V){var I=N.value;if(!I||!(I=I.trim()))return;var O=N.key;"adminDistrict"===O&&P.adminDistrict?P.adminDistrict=N.value+", "+P.adminDistrict:P[O]=N.value}return P}getUrl(V){var w={},P=this.getEntity();if(!_.isEmpty(P)){for(var N in P)w[N]=P[N];return w.top="10",w["api-version"]=this.apiVersion,(0,i.LF)(V,w,!0)}}getGeocodingParameters(){var V=this.location.components;return V.length>=2&&V[0].category===t.eP.Continent&&V[1].category===t.eP.CountryRegion&&(V=_.tail(V)),_.map(V,P=>{var N=s(P.category),I="";N in l.Dq&&(I=l.Dq[N]);var O=P.query;return N===l.g3.Sovereign&&O&&(O=T.Iso3166Substitutions[O]||O),{key:I,value:O}})}isGeneralQuery(){return _.some(this.getGeocodingParameters(),V=>!V.key)}getResult(V){var P,w=V&&!_.isEmpty(V.features)&&V.features;if(Array.isArray(w)){var N=_.chain(w).map(W=>({feature:W,value:this.locationQuality(W,this.isGeneralQuery())})).filter(W=>W.value>=0).maxBy(W=>W.value).value();P=N&&N.feature}if(P){var I=P.geometry,O=P.properties;return{coordinates:{latitude:I&&I.coordinates[1],longitude:I&&I.coordinates[0],entityType:O&&O.type}}}return{error:new Error(l.yX.EmptyResult)}}extractSingleResult(V,w){return V&&V.batchItems&&V.batchItems.length>w?V.batchItems[w]:void 0}getBingEntity(){return s(_.last(this.location.components).category)}locationQuality(V,w){if(!w&&V.properties&&V.properties.matchCodes&&!(0,g.y1)(V.properties.matchCodes))return-1;var P=0;if("High"===V.properties?.confidence&&(P+=3),1===this.location.components.length&&this.location.components[0].category===t.eP.CountryRegion){var N=V.properties&&V.properties.address&&V.properties.address.countryRegion&&V.properties.address.countryRegion.ISO;if(N){var I=this.location.components[0].query.toLowerCase();2===I.length&&I===N.toLowerCase()&&(P+=2)}}return V.properties&&V.properties.type&&V.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(P+=1),P}getHeaders(){r.Y.assert(()=>this.credentialType===a.eO.SASToken,"Invalid Azure Maps credential type");var V={Authorization:`jwt-sas ${this.credentials}`},w=this.getCulture()||(0,g._W)();return w&&(V["Accept-Language"]=w),_.isEmpty(this.isoCode)||(V.Locale=this.isoCode),this.blockExtendedLocations&&(V["x-ms-internal-blockExtendedLocations"]="true"),V}getAjaxConfig(){return{type:"GET",dataType:"json"}}}return T.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},T})();function E(T,M){var V=T&&!_.isEmpty(T.resourceSets)&&T.resourceSets[0].resources;if(Array.isArray(V)){var w=_.chain(V).map(P=>({location:P,value:M(P)})).filter(P=>P.value>=0).maxBy(P=>P.value).value();return w&&w.location}}class c extends S{constructor(M,V,w,P,N,I=!1){super({components:[{query:[V,w].join(),category:"Point"}]}),this.credentials=N,this.latitude=V,this.longitude=w,this.entities=P,this.includeNeighborhood=I}validate(){return!0}getUrl(M){r.Y.assert(()=>this.entities.every(N=>!!_.findKey(l.g3,I=>I===N)),"All entities should match one of the allowed BingEntities");var V=(0,i.L_)(M),w=_.endsWith(V.baseUrl,"/")?V.baseUrl:V.baseUrl+"/";w+=[this.latitude,this.longitude].join();var P={key:this.credentials||t.wB.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(P.includeEntityTypes=this.entities.join()),this.includeNeighborhood&&(P.inclnb="1"),(0,i.LF)(w,P,!0)}getResult(M){var V=E(M,O=>-1===this.entities.indexOf(O.entityType)?0:1);if(V){var w=V.point.coordinates,P=V.address||{};return{coordinates:{latitude:w[0],longitude:w[1],addressLine:P.addressLine,locality:P.locality,neighborhood:P.neighborhood,adminDistrict:P.adminDistrict,adminDistrict2:P.adminDistrict2,formattedAddress:P.formattedAddress,postalCode:P.postalCode,countryRegionIso2:P.countryRegionIso2,countryRegion:P.countryRegion,landmark:P.landmark,name:V.name}}}return{coordinates:null}}}class f extends S{constructor(M,V,w,P,N,I=3,O,R){super({components:[{query:[V,w,N,I].join(",")+(O!==h(P)?","+O:""),category:P}]},M),this.credentials=R,this.latitude=V,this.longitude=w,this.levelOfDetail=N,this.maxGeoData=I,this.entityType=O}getBingEntity(){return h(_.last(this.location.components).category)}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(M){var V=this.entityType||this.getBingEntity();if(!V)return null;var{baseUrl:w,queryParameters:P}=(0,i.L_)(M);P||(P={});var N=P.c||P.culture,I=N||"",O=N&&(0,g.Nv)(N)||"";return P.key=this.credentials||t.wB.BingKey,P.$format="json",P.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+V+"'",1,0,"'"+I+"'","'"+O+"'"].join(", ")+")",delete P.c,delete P.culture,(0,i.LF)(w,P,!0)}getResult(M){var V=M;if(V&&V.d&&Array.isArray(V.d.results)&&V.d.results.length>0){var P=V.d.results[0].Primitives;if(P&&P.length>0){var N={latitude:this.latitude,longitude:this.longitude,locations:[]};P.sort((U,B)=>U.Shape.length<B.Shape.length?1:U.Shape.length>B.Shape.length?-1:0);for(var I=Math.min(P.length,this.maxGeoData),O=0;O<I;O++)for(var W=P[O].Shape.split(","),F=1;F<W.length;F++)N.locations.push({nativeBing:W[F]});return{coordinates:N}}}return{error:new Error(l.yX.EmptyResult)}}}class D extends S{constructor(M,V,w,P,N,I,O,R,W,F=3,U,B,x=a.eO.SASToken){super({components:[{query:[O,R,W,F].join(",")+(U!==h(V)?","+U:""),category:V}]},M,w,P),this.isoCode=N,this.apiVersion=I,this.latitude=O,this.longitude=R,this.levelOfDetail=W,this.maxGeoData=F,this.entityType=U,this.credentials=B,this.credentialType=x,r.Y.assert(()=>x===a.eO.SASToken||!!B,"credentials must be provided when using Azure Maps SAS Token")}getBingEntity(){return h(_.last(this.location.components).category)}getResolution(){switch(this.levelOfDetail){case 3:return l.R2.Huge;case 2:return l.R2.Large;case 1:return l.R2.Medium;default:return l.R2.Small}}validate(){return!(!this.entityType&&!this.getBingEntity())}getUrl(M){var V,w=this.entityType??this.getBingEntity();if(""!==w&&w in l.gU&&(V=l.gU[w]),!V)return null;var N={coordinates:`${this.longitude},${this.latitude}`,view:"Auto",resultType:V,resolution:`${this.getResolution()}`,"api-version":this.apiVersion};return(0,i.LF)(M,N,!0)}getResult(M){var V=M;if(V&&V.geometry&&Array.isArray(V.geometry.geometries)&&V.geometry.geometries.length>0){var w=V.geometry.geometries,P=(N,I)=>N+I.length;return w.sort((N,I)=>{var O=N.coordinates.reduce(P,0);return I.coordinates.reduce(P,0)-O}),this.maxGeoData<w.length&&(w=w.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:w}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}}getHeaders(){var M;r.Y.assert(()=>this.credentialType===a.eO.SASToken,"Invalid Azure Maps credential type"),this.credentialType===a.eO.SASToken&&(M={Authorization:`jwt-sas ${this.credentials}`}),_.isEmpty(this.isoCode)||(M.Locale=this.isoCode),M.Accept="application/json";var V=(0,g._W)();return V&&(M["Accept-Language"]=V),M}getAjaxConfig(){return{type:"GET",dataType:"json"}}}class b extends S{constructor(M,V,w,P=a.eO.SASToken){super({components:[]},M,!0),this.apiVersion=V,this.credentials=w,this.credentialType=P,r.Y.assert(()=>P===a.eO.SASToken||!!w,"credentials must be provided when using Azure Maps SAS Token")}validate(){return!0}getUrl(M){return(0,i.LF)(M,{"api-version":this.apiVersion},!0)}getResult(M){return M?.countryRegion?{geolocation:{isoCode:M.countryRegion.isoCode}}:{error:new Error("Azure Maps Geo-location result is empty.")}}getHeaders(){return r.Y.assert(()=>this.credentialType===a.eO.SASToken,"Invalid Azure Maps credential type"),{Accept:"application/json",Authorization:`jwt-sas ${this.credentials}`}}getAjaxConfig(){return{type:"GET",dataType:"json"}}}},135565:function(me,j,e){e.d(j,{o:function(){return h}});var r=e(785463),i=e(375953),a=e(899448),t=e(430276),l=e(634585),g=e(116617),n=e(719565),d=e(144556),s=e(633258);class h{constructor(v,m,p){this.baseUrl=v,this.credentials=m,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.maxEntries=0,this.processedBatchQueries=new Set,this.inDequeue=!1,this.culture=p.batchGeocodeCulture,this.batchSize=p.batchSize,this.batchRequest=p.batchRequest,this.batchHeaders=p.batchHeaders,this.batchQueryParameters=p.batchQueryParameters,this.geocodeRetryOptions=p.geocodeRetryOptions,this.tryIndexedDB=p.tryIndexedDB,this.indexedDBService=p.indexedDBService,this.instanceId=p.instanceId,this.queueName=p.queueName}getInstanceId(){return this.instanceId}getQueueName(){return this.queueName}getGeocodeBatchSize(){return this.batchSize}getEntryCount(){return this.maxEntries}getProcessedBatches(){return this.processedBatchQueries?Array.from(this.processedBatchQueries).map(v=>v.split(",").length):[]}setGeocodeBatchSize(v){r.Y.assert(()=>v>0&&_.isInteger(v),"Invalid geocode batch size"),this.batchSize=v}reset(){var v=this.dequeueTimeout;for(var m of(v&&(this.dequeueTimeout=void 0,clearTimeout(v)),this.entries.concat(this.activeEntries)))this.cancel(m);this.entries=[],this.activeEntries=[]}enqueue(v){var m={item:v};this.entries.push(m);var p=this.entries.length+this.activeEntries.length;p>this.maxEntries&&(this.maxEntries=p),v.deferred.always(()=>{this.cancel(m)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=t.wB.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())}addProcessedBatch(v){var m=v.map(p=>p.item.query.getKey()).sort().toString();this.processedBatchQueries.add(m)}dequeue(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<t.wB.MaxBingRequest;){for(var v=[];0!==this.entries.length&&v.length<this.batchSize;){var m=this.entries.shift();if(!m.isCompleted){var p=!m.item.bypassCache&&(0,g.d5)(m.item.query,m.item.logger);p?((0,n.w)(m.item.logger,m.item.query,p),this.complete(m,{coordinates:p},!0)):v.push(m)}}v.length&&(this.geocodeRetryOptions?this.makeRequest(v,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(v),this.addProcessedBatch(v))}}finally{this.inDequeue=!1}}scheduleDequeue(){!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(()=>{this.dequeueTimeout=void 0,this.dequeue()}))}cancel(v){var m=v.batch;if(m){var p=m.request;p&&--m.uncancelledCount<=0&&(m.request=null,p.abort())}this.complete(v,{error:new Error("cancelled")})}complete(v,m,p){var y=!1;if(!v.isCompleted&&(v.isCompleted=!0,v.item.deferred.state()===i.h[i.h.pending])){var S=this.tryIndexedDB&&this.indexedDBService.isSupported(),C=!v.item.bypassCache&&!p;!m||m.error?S&&C&&m?.error?.message===l.yX.EmptyResult?(y=!0,(0,g.p1)(v.item.query.getKey(),void 0,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.reject(m&&m.error||new Error("cancelled")),this.scheduleDequeue()},u=>{(0,d.ZG)(d.no.Set,{error:JSON.stringify(u)}),v.item.deferred.reject(m&&m.error||new Error("cancelled")),this.scheduleDequeue()})):v.item.deferred.reject(m&&m.error||new Error("cancelled")):C&&m.coordinates?(y=!0,(0,g.p1)(v.item.query.getKey(),m.coordinates,v.item.logger,this.tryIndexedDB,this.indexedDBService).then(()=>{v.item.deferred.resolve(m.coordinates),this.scheduleDequeue()},u=>{S&&(0,d.ZG)(d.no.Set,{error:JSON.stringify(u)}),v.item.deferred.resolve(m.coordinates),this.scheduleDequeue()})):v.item.deferred.resolve(m.coordinates)}y||this.scheduleDequeue()}makeRequest(v,m,p){var y=this;if(!_.isEmpty(v)){var S={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(v.map(T=>T.item.query))},C=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(C)||(S.headers=C);var u=this.batchQueryParameters(this.credentials,this.culture),E=(0,a.LF)(this.baseUrl,u),c={uncancelledCount:v.length,request:s.L.MapsAjaxCall(E,S)};for(var f of v)f.batch=c,this.activeEntries.push(f);++this.activeBatches;var D=c.request;D.always(()=>{for(var T of(--this.activeBatches,v))_.pull(this.activeEntries,T)});var b=_.head(v).item.bypassCache;D.pipe((T,M,V)=>{b&&(0,d.WG)({url:E,request:S.data,response:JSON.stringify(T)});for(var w=function(){var N=v[P];N.batch=null;var O,I=N.item,R=I.query.extractSingleResult&&I.query.extractSingleResult(T,P);if(I.geocoder&&I.query.shouldDoFullGeocoding&&I.query.shouldDoFullGeocoding(R))I.geocoder.geocodeCore(l.Wt.Geocode,I.query,y.tryIndexedDB,y.indexedDBService,{bypassCache:!0,timeout:I.timeout}).then(W=>{O={coordinates:W}},W=>{O={error:W}}).done(()=>{y.complete(N,O)});else{if(R)try{O=I.query.getResult(R)}catch(W){O={error:W}}else O={error:new Error("no data")};(0,n.L)(I.logger,I.query,R,O,!0,(0,d.yx)(V)),y.complete(N,O)}},P=0;P<v.length;++P)w()},T=>{if(b&&(0,d.WG)({url:E,request:S.data,error:JSON.stringify(T)}),this.shouldRetry(T?T.status:void 0,m)){var V=Math.random()*p+p;p*=2,setTimeout(()=>{m++,this.makeRequest(v,m,p)},V)}else for(var w of v){w.batch=null;var P={error:new Error(T&&T.statusText||"cancelled")};(0,n.L)(w.item.logger,w.item.query,void 0,P,!0),this.complete(w,P)}})}}shouldRetry(v,m){if(!this.geocodeRetryOptions)return!1;var{retryOnStatusCodes:p,maxRetryAttempts:y}=this.geocodeRetryOptions;return p.includes(v)&&m<y}}},857327:function(me,j,e){e.d(j,{U:function(){return r}});var r={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",hundredPercentStackedAreaChart:"hundredPercentStackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",textSlicer:"textSlicer",listSlicer:"listSlicer",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},781594:function(me,j,e){e.d(j,{N:function(){return Xr}});var r=e(619584),i=e(857327),a=e(864754),t=e(401803),l=e(714419),g=e(785463),n=e(329332),d=e(446024),s=e(662785),h=e(596376),o=e(420496),v=e(764367),m=e(188295);function C(wt){switch(wt){case h.Fl:return o.OO.satellite;case h.d8:return o.OO.night;case h.hF:return o.OO.road;case h.CM:return o.OO.grayscaleLight;case h.j8:return o.OO.road}return o.OO.grayscaleLight}function u(wt){return _.clamp(wt-1,0,22)}function E(wt,Et,Dt){var[It,Xt]=Et,[gr,pt]=Dt,Je=Xt-It,ie=pt-gr;if(0===Je)throw new Error("Input range size must be greater than 0");return(wt-It)/Je*ie+gr}var c=e(981265),f=e(653234);function D(wt){var Et=_.first(wt.dataViewMappings),Dt=[],Xt=(0,f.pO)(Et.table.rows);return _.isEmpty(Xt)?{subjectKind:c.Nz.KPI,error:c.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Xt),{subjectKind:c.Nz.KPI,error:void 0,bindings:Dt})}function b(wt){var Et=_.first(wt.dataViewMappings),Dt=[],Xt=(0,f.pO)(Et.table.rows);return _.isEmpty(Xt)?{subjectKind:c.Nz.KPI,error:c.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Xt),{subjectKind:c.Nz.KPI,error:void 0,bindings:Dt})}function T(wt){return["Rows"]}var M=e(770380),V=e(253733),w=e(228783);function P(wt){var Et={},Dt=_.head(wt?.categorical?.categories);return Dt&&(Et.axisType=(0,M.wt)(wt.metadata.objects,w.De.categoryAxis.axisType,Dt.source.type,void 0,(0,V.Kp)(wt))?"scalar":"categorical"),Et}function N(wt){return(0,f.JO)(wt,c.Nz.Cartesian)}var I=e(376944),O=e(149178);function R(wt){var Et=wt.dataViewMappings[0];Et&&(Et.categorical?function(wt){var Et=wt.dataViewMappings[0];if(Et.categorical.categories){if(Et.categorical.dataVolume=4,(0,M.ye)(Et,!1)){Et.categorical.categories.dataReductionAlgorithm={sample:{}};var It=Et.categorical.values;It&&It.group&&(It.group.dataReductionAlgorithm={top:{}})}else(0,V.LF)([Et]);(0,V.ek)(wt.dataViewMappings);var Xt=U(wt);(0,V.Hq)(wt.dataViewMappings,Xt)}}(wt):Et.matrix&&function(wt){var Et=wt.dataViewMappings[0];if((0,I.bV)(Et)){if((0,M.ye)(Et,!0)){(0,I.y0)(Et,{sample:{}});var Dt=(0,I.FL)(Et);(0,O.gI)([Dt],{min:!0,max:!0})}(0,O.Y_)(Et,[w.bl.y]),(0,O.Ws)(Et)}}(wt))}function U(wt){var Et=wt.dataViewMappings[0];return(0,I.bV)(Et)?function(wt){var Et=(0,M.ye)(wt,!0),Dt=[w.bl.rows];return Et||Dt.push(w.bl.category),Dt.push(w.bl.y,w.bl.tooltips,w.bl.series),Dt}(Et):function(wt){if(!wt||!wt.categorical||!wt.categorical.categories)return null;var Dt=wt.categorical.categories.for.in,It=Dt.items,Xt=Dt.activeItems,gr=["Category","Series","Y","Tooltips"];if(!_.isEmpty(It)){var Je,ie;if(wt.metadata&&(Je=wt.metadata.objects),_.isEmpty(Xt))ie=It[0].type;else if(1===Xt.length){var G=_.find(It,se=>se.queryName===Xt[0]);g.Y.assert(()=>!!G,"Item should always be defined"),ie=G.type}else if(Xt.length>1)return gr;return(0,M.mV)(Je,w.De.categoryAxis.axisType,ie)?["Series"]:gr}return null}(Et)}function A(wt){_.isEmpty(wt.dataViewMappings)||(wt.dataViewMappings[0].matrix?function(wt){var Et=wt.dataViewMappings[0];if((0,I.bV)(Et)){if((0,M.ye)(Et,!0)){(0,I.y0)(Et,{sample:{}});var Dt=(0,I.FL)(Et);(0,O.gI)([Dt],{min:!0,max:!0})}(0,O.Y_)(Et,[w.VE.y,w.VE.y2]),(0,O.Ws)(Et)}}(wt):function(wt){var Et=!_.isEmpty(wt.dataViewMappings)&&wt.dataViewMappings[0],Dt=wt.dataViewMappings.length>1&&wt.dataViewMappings[1];z(Et,Dt,wt.queryProperties);var It=(0,M.ye)(Et,!1);if(Et&&Et.categorical&&(Et.categorical.dataVolume=4,It)){Et.categorical.categories.dataReductionAlgorithm={sample:{}};var gr=Et.categorical.values;gr&&gr.group&&(gr.group.dataReductionAlgorithm={top:{}})}if(Dt&&Dt.categorical&&(Dt.categorical.dataVolume=4,It)){Dt.categorical.categories.dataReductionAlgorithm={sample:{}};var Je=Dt.categorical.values;Je&&Je.group&&(Je.group.dataReductionAlgorithm={top:{}})}It||(0,V.LF)(wt.dataViewMappings),(0,V.ek)(wt.dataViewMappings);var ie=Z(wt);(0,V.Hq)(wt.dataViewMappings,ie)}(wt))}function z(wt,Et,Dt){if(wt&&Et){var It=wt.categorical&&wt.categorical.values,Xt=It.group&&!_.isEmpty(It.group.select)&&It.group.select[0];_.isEmpty(Xt.for.in.items)&&!_.isEmpty(It.group.by.items)&&(Dt?.hasVisualCalculations?It.group.by.items.forEach(gr=>{gr.hidden=!0}):It.group.by.items=void 0)}}function Z(wt){if(wt&&wt.dataViewMappings.length>0){var Et=wt.dataViewMappings[0];if((0,I.bV)(Et))return function(wt){var Et=(0,M.ye)(wt,!0),Dt=[w.VE.rows];return Et||Dt.push(w.VE.category),Dt.push(w.VE.y,w.VE.y2,w.VE.tooltips,w.VE.series),Dt}(Et);if(!(0,M.ye)(Et,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function k(wt){if(!wt||_.isEmpty(wt.dataViewMappings))return{subjectKind:c.Nz.Cartesian,error:c.ZX.NoValidBindings,bindings:void 0};var Et=wt.dataViewMappings[0],Dt=wt.dataViewMappings[1];if(z(Et,Dt),!(Et&&Et.categorical&&Et.categorical.categories))return{subjectKind:c.Nz.Cartesian,error:c.ZX.NoValidBindings,bindings:void 0};var It=(0,f.UF)(Et);return It.push(...(0,f.ss)(Et)),Dt&&Dt.categorical&&Dt.categorical.categories&&It.push(...(0,f.ss)(Dt)),_.isEmpty(It)?{subjectKind:c.Nz.Cartesian,error:c.ZX.NoValidBindings,bindings:void 0}:{subjectKind:c.Nz.Cartesian,error:void 0,bindings:It}}var K=e(147293),ee=e(309746),Q=e(51926),J=e(129941);function X(wt){var Et=_.first(wt.dataViewMappings);g.Y.assertValue(Et,"mapping");var Dt=(0,Q._W)(Et.metadata.objects,J.jm,void 0);null!=Dt&&(g.Y.assert(()=>Dt>0&&_.isInteger(Dt),"Invalid data reduction count"),Et.table.rows.dataReductionAlgorithm={top:{count:Dt}});var It=_.groupBy(_.filter(Et.metadata.columns,Xt=>!!Xt?.objects?.columnOptions?.suppressJoinPredicate),Xt=>Xt.queryName);_.isEmpty(It)||(0,ee.UB)(Et.table,{visitRole:Xt=>{if(Xt.role===J.MJ.values)for(var gr of Xt.items)It[gr.queryName]&&(gr.joinPredicate=K.gD.None)}})}var ne=e(632934),ae=e(198976);function oe(wt){var Et=wt.dataViewMappings[0];Et&&Et.matrix&&Et.metadata&&(function(wt,Et){var Dt=wt.metadata.columns,It=Et.rows.for.in.items;if(!_.isEmpty(It))for(var Xt=function(){var Je=It[gr];if(!_.find(Dt,G=>G.queryName===Je.queryName))return 1;Je.subtotalType=ne.y.Before},gr=0,pt=It.length;gr<pt;gr++)Xt()}(Et,Et.matrix),wt.scopedAggregates&&function(wt){var Dt=_.find(wt.matrix.values.select,se=>(0,O.OB)(se)&&se.for.in.role===ae.$X.analyze).for.in.items;if(!_.isEmpty(Dt)){var It=wt.matrix.rows.for.in.items;if(!_.isEmpty(It)&&(0,Q._W)(wt.metadata.objects,{objectName:ae.hC.dataBars,propertyName:ae.iL.dataBarScalingType},ae.R1.LevelMaximum)===ae.R1.LevelMaximum){for(var pt of wt.metadata.columns)if(pt.discourageAggregationAcrossGroups)return void g.Y.assertFail("Aggregates should not be computed across groups with different values of the column "+pt.queryName);var Je=Dt[0].queryName,ie=It.map(se=>se.queryName);wt.scopedAggregates=[{min:!0,max:!0,scope:[ie[0]],queryName:Je}];for(var G=0;G<It.length-1;G++)It[G].aggregates=[{min:!0,max:!0,scope:ie.slice(0,G+2),queryName:Je}]}}}(Et),function(wt){var Et=wt.matrix.rows.dataReductionAlgorithm;if(Et&&Et.topNPerLevel){var Dt=wt.metadata.objects,It=(0,Q._W)(Dt,{objectName:ae.hC.tree,propertyName:ae.iL.responsiveLayout})??!0,Xt=(0,Q._W)(Dt,{objectName:ae.hC.tree,propertyName:It?ae.iL.effectiveBarsPerLevel:ae.iL.barsPerLevel},ae.lq.defaultValue);(Xt<ae.lq.minValue||Xt>ae.lq.maxValue)&&(Xt=ae.lq.defaultValue),Et.topNPerLevel.count=Xt}}(Et))}function lt(wt){return(0,f.JO)(wt,c.Nz.Hierarchical)}function ut(wt){var Et=c.Nz.KPI,Dt=_.first(wt.dataViewMappings);if(!Dt||!Dt.categorical||!Dt.categorical.values)return{subjectKind:c.Nz.Cartesian,error:c.ZX.NoValidBindings,bindings:void 0};var It=(0,f.ao)(Dt);return _.isEmpty(It)?{subjectKind:Et,error:c.ZX.NoValidBindings,bindings:void 0}:{subjectKind:Et,error:void 0,bindings:It}}function St(wt){return!wt||_.isEmpty(wt.dataViewMappings)?{keyDriversConfiguration:void 0,error:c.nQ.NoValidBindings}:{keyDriversConfiguration:ze(wt.dataViewMappings),error:void 0}}function ze(wt){g.Y.assertValue(wt,"compiledDataViewMappings");var Et=_.first(wt),Dt=Et.table,It=Et.metadata,Xt=It.objects,gr=_.map(It.columns,Er=>Er.queryName),pt=Dt.rows,Je=pt.select[0],ie=pt.select[1];g.Y.assert(()=>1===Je.bind.to.items.length,"There should be exactly one analyze item"),g.Y.assert(()=>ie.for.in.items.length>=1,"There should be at least one explain by item");var G="keyDrivers",se=_.first(Je.bind.to.items).queryName,He=_.map(ie.for.in.items,Er=>Er.queryName),Mt=_.filter(gr,Er=>se!==Er&&He.indexOf(Er)<0),zt=(0,Q._W)(Xt,{objectName:G,propertyName:"targetValue"},void 0),or=(0,Q._W)(Xt,{objectName:G,propertyName:"selectedNumericAnalysis"},void 0),rr=(0,Q._W)(Xt,{objectName:G,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==rr&&0===rr?rr="Increase":void 0!==rr&&1===rr&&(rr="Decrease"),{analyzeQueryName:se,explainByQueryNames:He,expandByQueryNames:Mt,targetValue:zt,numericTargetSelectedKind:rr,selectedNumericAnalysis:or}}var Be=e(416341),Ce=e(572580),Ae=e(956437),be=[{objectProperty:Ae.rt.indicatorFontFamilyProp,defaultValue:(0,d.Qq)(Be.Hx.lightSecondary.family)},{objectProperty:Ae.rt.goalFontSizeProp,defaultValue:(0,d.nd)(Ce.zs)},{objectProperty:Ae.rt.goalFontFamilyProp,defaultValue:(0,d.Qq)(Be.Hx.semibold.family)}];function Ie(wt){return(0,f.JO)(wt,c.Nz.KPI)}var ve=e(392339),xe=e(702087),Ee=e(350226),Ne=e(191941),ye=e(488420),Se=e(877811),qe=e(160255),Ue=e(428749);function _e(wt){var Et=wt.dataViewMappings[0];Et&&(Et.categorical?function(wt){var Et=wt.dataViewMappings[0],Dt=Et?.categorical;if(Dt&&Dt.categories){Dt.dataVolume=4;var It=Dt.categories,Xt=_.find(wt.dataViewMappings,G=>!!G.usage?.anomalyDetection);Xt&&(function(wt,Et){g.Y.assertValue(wt&&wt.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),g.Y.assertValue(Et&&Et.categorical,"anomalyDetection.categorical");var Dt=wt.dataReductionAlgorithm.binnedLineSample;g.Y.assertValue(!Dt.count,"binnedLineSample.count should be undefined"),g.Y.assertValue(!Dt.warningCount,"binnedLineSample.warningCount should be undefined"),Dt.count=4900,Dt.warningCount=3500,Et.categorical.dataReductionAlgorithm={binnedLineSample:{}};var It=Et.categorical.dataReductionAlgorithm.binnedLineSample;It.count=Dt.count,It.warningCount=Dt.warningCount}(Dt,Xt),_.some(wt.dataViewMappings,G=>function(wt){return ye.sh.check(Et=>({metadata:Et.check(wt&&wt.metadata,ye.t2,Dt=>({columns:Et.check(Dt.columns,de,ye.D_),objects:Et.check(Dt.objects,De,ye.D_)})),categorical:Et.check(wt.categorical,ye.t2,Dt=>({categories:Et.check(Dt.categories,xe.od,It=>({for:Et.check(It.for,ye.t2,Xt=>({in:Et.check(Xt.in,re,ye.D_)}))})),values:Et.check(Dt.values,xe.$i,It=>({group:Et.check(It.group,ye.t2,Xt=>({by:Et.check(Xt.by,ce,ye.D_),select:Et.check(Xt.select,te,ye.D_)}))}))}))}))}(G))||_.remove(wt.dataViewMappings,G=>G===Xt));var gr=!1;if((0,M.wD)(Et.metadata.objects,w.De.categoryAxis.axisType)){gr=(0,Ee.f0)(Et);var pt=_.find(wt.dataViewMappings,G=>!!G.usage?.forecast);(0,ee.Ax)(It,{visitRole:G=>{at(G,pt,Xt,!1)}})}if(!gr&&!(0,M.ye)(Et,!1)){_.remove(wt.dataViewMappings,G=>G.usage&&(G.usage.forecast||G.usage.anomalyDetection)),(0,qe.dP)(Et,!1);var Je=[Et];(0,V.LF)(Je);var ie=Nt(wt);(0,V.Hq)(Je,ie)}(0,V.ek)(wt.dataViewMappings)}}(wt):Et.matrix&&function(wt){var Et=wt.dataViewMappings[0];if((0,I.bV)(Et)){var Dt=!1;(0,M.wD)(Et.metadata.objects,w.De.categoryAxis.axisType)&&(Dt=(0,Ee.f0)(Et),(0,ee.ms)(Et.matrix.rows,{visitRole:gr=>{at(gr,void 0,void 0,!0)}}));var It=(0,M.ye)(Et,!0);if(Dt||It){if(It){var Xt=(0,I.FL)(Et);(0,O.gI)([Xt],{min:!0,max:!0})}}else(0,qe.dP)(Et,!0);(0,O.Y_)(Et,[w.Cl.Y,w.Cl.Y2]),(0,O.Ws)(Et)}}(wt))}function at(wt,Et,Dt,It){if(wt.role===w.Cl.Category){var Xt=[w.Cl.Category];It&&Xt.unshift(w.Cl.Rows);for(var gr={data:[(0,ve.WV)(Xt)]},pt=wt.items,Je=0,ie=_.size(pt);Je<ie;Je++){var se=pt[Je].scalarKeyInfo;if(se&&se.hasScalarKey){se.scalarKeyMinProperty=w.De.scalarKey.min,se.selector=gr,Et&&yt(Et,gr,Je),Dt&&yt(Dt,gr,Je);break}}}}function yt(wt,Et,Dt){(0,ee.Ax)(wt?.categorical?.categories,{visitRole:It=>{It.items[Dt].scalarKeyInfo||(It.items[Dt].scalarKeyInfo={});var Xt=It.items[Dt].scalarKeyInfo;Xt.scalarKeyMinProperty=w.De.scalarKey.min,Xt.selector=Et}})}function Nt(wt){var Et=wt.dataViewMappings[0];return(0,I.bV)(Et)?function(wt){var Et=(0,M.ye)(wt,!0),Dt=[w.lP.rows];return Et||Dt.push(w.lP.category),Dt.push(w.lP.y,w.lP.tooltips,w.lP.series),Dt}(Et):function(wt){if(!wt||!wt.categorical||!wt.categorical.categories)return null;var gr,pt,Dt=wt.categorical.categories.for.in,It=Dt.items,Xt=Dt.activeItems;if(gr=["Category","Series","Y","Y2","Tooltips"],pt=["Series"],!_.isEmpty(It)){var Je,ie;if(wt.metadata&&(Je=wt.metadata.objects),(0,Ee.f0)(wt)&&(0,M.wD)(Je,w.De.categoryAxis.axisType))return pt;if(_.isEmpty(Xt))ie=It[0].type;else if(1===Xt.length){var G=_.find(It,se=>se.queryName===Xt[0]);g.Y.assert(()=>!!G,"Item should always be defined"),ie=G.type}else if(Xt.length>1)return gr;return(0,M.mV)(Je,w.De.categoryAxis.axisType,ie)?pt:gr}return null}(Et)}function Qe(wt,Et){var Dt=[],It=[],Xt=[],gr=[],pt=[],Je={xIndex:void 0,yIndex:void 0};for(var ie of wt?.selects)ie?.roles[w.Cl.Series]&&Dt.push(ie),ie?.roles[w.Cl.Category]&&(It.push(ie),pt.push(Ne.eV.fromDescriptor(ie?.type))),ie?.roles[w.Cl.Y]&&Xt.push(ie),ie?.roles[w.Cl.Y2]&&gr.push(ie);if(function(wt,Et,Dt){var It=Dt[0],Xt=(0,Ee.vE)(It?.categorical?.categories[0]),gr=(0,M.wt)(It?.metadata?.objects,w.De.categoryAxis.axisType,wt[0]?.type,Xt,(0,V.Kp)(It));return 1===wt.length||wt.length>1&&gr&&wt[0]?.type?.temporal&&!Et?.objects?.categoryAxis}(It,wt,Et)&&function(wt,Et,Dt,It){var Xt=_.first(wt);return 1===Et.length&&0===Dt.length&&0===It.length&&(Xt?.dateTime||Xt?.numeric||Xt?.temporal?.day||Xt?.temporal?.year)&&!(Xt?.temporal?.quarter||Xt?.temporal?.month)}(pt,Xt,gr,Dt)&&wt&&wt.roles&&wt.roles.ordering){if(wt.roles.ordering[w.Cl.Category]&&wt.roles.activeItems)for(var G=_.first(wt.roles.activeItems[w.Cl.Category])?.queryRef,se=0;se<wt.selects?.length;se++)wt.selects[se]?.queryName===G&&(Je.xIndex=se);wt.roles.ordering[w.Cl.Y]&&(Je.yIndex=_.first(wt.roles.ordering[w.Cl.Y]))}return Je}function de(wt){return _.some(wt,Et=>!(!Et.objects||!Et.objects[Ue.Fn]||Et.objects[w.wn.generic]||Et.objects[w.Yp]))}function De(wt){if(!wt)return!0;var Et=(0,Q._W)(wt,w.De.categoryAxis.axisType);return!Et||Et===Se.G.scalar}function re(wt){var Et=wt.items,Dt=wt.activeItems;if(_.size(Et)<1)return!1;if(1===_.size(Et)){var It=_.first(Et).type;if(!It||!It.dateTime&&!It.temporal?.year)return!1}else{var Xt=_.size(Dt);if(Xt<1)return!1;var gr=_.last(Dt),pt=_.find(Et,ie=>ie.queryName===gr);if(g.Y.assertValue(pt,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!pt)return!1;var Je=pt.type;if(1===Xt&&!Je?.temporal?.year)return!1;if(Xt>1&&!Je?.temporal||!pt.scalarKeyInfo?.hasScalarKey)return!1}return!0}function ce(wt){return!(wt.role===w.Cl.Series&&!_.isEmpty(wt.items))}function te(wt){var Et=wt;if(!Et)return!1;var Dt=_.find(Et,Xt=>Xt.for.in.role===w.Cl.Y);if(!Dt||1!==_.size(Dt.for.in.items))return!1;var It=_.find(Et,Xt=>Xt.for.in.role===w.Cl.Y2);return!(It&&!_.isEmpty(It.for.in.items))}var Te=e(971938),Fe=e(837961);function et(wt){var Et=wt.dataViewMappings[0];if(Et&&Et.matrix&&Et.metadata){var Dt=Et.matrix;_.isEmpty(Dt.columns.for.in.items)||(Dt.rows.dataReductionAlgorithm.window.count=100);var It=Et.metadata.objects;Dt.rows.for.in.subtotalType=Fe.iK.PropGeneralMatrixRowSubtotals.getValue(It)?ne.y.After:ne.y.None,Dt.columns.for.in.subtotalType=Fe.iK.PropGeneralMatrixColumnSubtotals.getValue(It)?ne.y.After:ne.y.None}}function vt(wt){return["Rows","Values"]}function st(wt){if(wt&&wt.dataViewMappings&&!_.isEmpty(wt.dataViewMappings))for(var Et of wt.dataViewMappings)if(Et.table){var Dt=Et.table.rows;if(Dt&&Dt.for&&Dt.for.in&&Dt.for.in.items)return["Values"]}}function Re(wt){var Et=_.first(wt.dataViewMappings),Dt=[];if(Et&&Et.table&&Et.table.rows){var Xt=(0,f.pO)(Et.table.rows);return _.isEmpty(Xt)?{subjectKind:c.Nz.KPI,error:c.ZX.NoValidBindings,bindings:void 0}:(Dt.push(...Xt),{subjectKind:c.Nz.KPI,error:void 0,bindings:Dt})}}var q=e(471740),pe=e(254595);function Ve(wt){var Et=wt.dataViewMappings[0];if(Et&&Et.matrix&&Et.metadata){var Dt=Et.matrix,It=!_.isEmpty(Dt.columns.for.in.items);It&&(Dt.rows.dataReductionAlgorithm.window.count=100);var Xt=Dt.values;if(Xt){var gr=Xt.for.in.items;_.some(gr,pt=>!!pt.type?.misc?.sparkline)&&(Dt.rows.dataReductionAlgorithm.window.count=It?50:100,It&&(Dt.columns.dataReductionAlgorithm.top.count=25)),(0,O.hd)(Et,gr)}(function(wt,Et){var Dt=wt.metadata.objects,It=wt.metadata.columns,Xt=Et.rows.for.in.items,gr=Fe.iK.PropSubTotalsPivotTableRowSubtotals.getValue(Dt),pt=Fe.iK.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(Dt)===pe.Mn?ne.y.Before:ne.y.After,Je=Fe.iK.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(Dt);if(!_.isEmpty(Xt))for(var ie=function(){var He=Xt[G],Mt=_.find(It,Gt=>Gt.queryName===He.queryName);if(!Mt)return 1;var zt=Fe.iK.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(Mt.objects);if(!gr||Je&&!zt)He.subtotalType=ne.y.None;else{var or=Fe.iK.PropGeneralMatrixLayout.getValue(Dt),rr=void 0!==or?or===q.$.Compact:Fe.iK.PropRowsSteppedLayout.getValue(Dt);He.subtotalType=0===G&&rr?ne.y.Before:pt}},G=0,se=Xt.length;G<se;G++)ie()})(Et,Dt),function(wt,Et){var Dt=wt.metadata.objects,It=wt.metadata.columns,Xt=Et.columns.for.in.items,gr=Fe.iK.PropSubTotalsPivotTableColumnSubtotals.getValue(Dt),pt=Fe.iK.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(Dt);if(!_.isEmpty(Xt)){var Je=function(G){var se=_.find(It,Mt=>Mt.queryName===G.queryName);if(!se)return 1;var He=Fe.iK.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(se.objects);G.subtotalType=!gr||pt&&!He?ne.y.None:ne.y.After};for(var ie of Xt)Je(ie)}}(Et,Dt)}}function ft(wt){return["Rows","Values"]}function Pt(wt){var Et=wt.dataViewMappings[0];Et&&Et.table&&(Et.table.rows.for.in.subtotalType=ne.y.Before)}var Ut=[{objectProperty:w.De.valueAxis.showAxisTitle,defaultValue:(0,d.zM)(!1)}],Kt=e(856701),Qt=e(401880),qt=e(803803);function nr(wt){var Et=wt.dataViewMappings[0];if(Et&&Et.matrix&&Et.metadata){var Dt=Et.matrix,It=Et.metadata.objects,Xt=(0,Q._W)(It,qt.fA.ratioLine.strokeShow,!1),gr=!1,pt=!1,Je=!1,ie=[],G=Dt.rows;if(G&&!_.isEmpty(G.select))for(var se of(g.Y.assert(()=>!!(G.dataReductionAlgorithm.bottom||G.dataReductionAlgorithm.sample||G.dataReductionAlgorithm.overlappingPointsSample),"invalid data reduction"),G.select)){var Mt=se;for(var zt of Mt.composite?Mt.composite:[se]){(0,O.Cw)(zt)&&ie.push(zt.bind.to),(0,O.OB)(zt)&&ie.push(zt.for.in);var or=Ct(zt);or&&(gr=!0,or===w.Jl.y&&(pt=!0),or===w.Jl.x&&(Je=!0))}}if(Xt&&!gr){for(var rr of ie)rr.subtotalType=ne.y.After;(0,O.OB)(Dt.columns)&&(Dt.columns.for.in.subtotalType=ne.y.After)}var Gt=Dt.rows.dataReductionAlgorithm,Er=(0,Q._W)(It,qt.fA.general.dataVolume,null),Oe=(0,Q._W)(It,w.De.categoryAxis.axisType)===Se.G.categorical,Ze=_.find(ie,Lt=>Lt.role===w.Jl.x),ct=Ze&&_.filter(Ze.items,Lt=>_.includes(Ze.activeItems,Lt.queryName)),ht=_.size(ct),_t=0===ht?void 0:1===ht&&_.every(ct,Lt=>Lt.type&&(Lt.type.numeric||Lt.type.integer)),Rt=_.find(Dt.values.select,Lt=>(0,O.Cw)(Lt)&&Lt.bind.to.role===w.Jl.x),Vt=Rt&&(0,O.Cw)(Rt)&&Rt.bind.to,jt=Vt?_.filter(Vt.items,Lt=>!Lt.hidden):[],Tt=_.size(jt),Zt=_.every(jt,Lt=>Lt.type&&(Lt.type.numeric||Lt.type.integer));if(!Je&&Tt>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(pt&&ht>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!Je&&1===Tt&&!Zt)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(gr&&(Oe||!1===_t)){if(pt)return{error:{code:Oe?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};Dt.rows.dataReductionAlgorithm={window:{count:200}};var tr=_.remove(G.select,Lt=>(0,O.Cw)(Lt)&&Lt.bind.to.role===w.Jl.series);g.Y.assert(()=>1===tr.length,"series mapping should be removed");var dr=tr[0];dr&&dr.bind&&(Dt.columns={for:{in:dr.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else Gt?.overlappingPointsSample?((0,Q._W)(It,w.De.categoryAxis.logAxisScale)&&(Gt.overlappingPointsSample.x.transform=Kt.Xx.Log),(0,Q._W)(It,w.De.valueAxis.logAxisScale)&&(Gt.overlappingPointsSample.y.transform=Kt.Xx.Log),null!=Er&&(Gt.overlappingPointsSample.count=Er)):Gt?.sample&&null!=Er&&(Gt.sample.count=Er)}}function Ge(wt){if(_.find(wt.dataViewMappings,Dt=>Dt.matrix?.rows?.dataReductionAlgorithm?.window))return[w.Jl.x,w.Jl.y,w.Jl.series]}function Ct(wt){var Et;return(0,O.Cw)(wt)?Et=wt.bind.to.role:(0,O.OB)(wt)&&(Et=wt.for.in.role),Et===w.Jl.x?w.Jl.x:Et===w.Jl.y?w.Jl.y:void 0}function xt(wt){return{hasSize:(0,Qt.zv)(wt,"Size"),hasPlayAxis:(0,Qt.zv)(wt,"Play")}}function We(wt){var Et=_.first(wt.dataViewMappings);return Et&&Et.matrix?(0,f.mI)(Et.matrix,c.Nz.Scatter):Et&&Et.categorical&&Et.categorical.categories?(0,f.JO)(wt,c.Nz.Scatter):{subjectKind:c.Nz.Scatter,error:c.ZX.NoValidBindings,bindings:void 0}}var nt=e(466761),Wt=e(39473),kt=e(772644),Ht=e(412010),lr=e(66456),_r=e(586944);function Vr(wt){wt.dataViewMappings[0].updateType=K.FU.MetadataOnly}function br(wt){var Et=wt.dataViewMappings[0];Et&&Et.table&&Et.metadata&&(Et.table.rows.for.in.subtotalType=Fe.iK.PropGeneralTableTotals.getValue(Et.metadata.objects)?ne.y.Before:ne.y.None)}function Br(wt){return["Values"]}var Fr=e(211598);function jr(wt){var Et=wt.dataViewMappings[0];if(Et&&Et.table&&Et.metadata){var Dt=Et.table.rows,It=Dt.for.in.items;_.some(It,gr=>!!gr.type?.misc?.sparkline)&&(Et.table.rows.dataReductionAlgorithm.window.count=100),Dt.for.in.subtotalType=Fe.iK.PropTotalTableExTotals.getValue(Et.metadata.objects)?ne.y.Before:ne.y.None,(0,O.hd)(Et,It)}}function Lr(wt){return["Values"]}function wr(wt){var Et=wt.dataViewMappings[0];if(Et&&Et.matrix){var Dt=Et.matrix;Dt.columns&&Dt.columns.for&&Dt.columns.for.in&&(Dt.columns.for.in.subtotalType=ne.y.Before)}}function Yr(wt){return[w.vu.category,w.vu.y,w.vu.tooltips]}var wt,vr=e(76383),Ur={name:"heatMap",capabilities:vr.R.map,create:()=>{throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:(wt=(0,r.A)(function*(){var{Map:Et}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,232337));return new Et({filledMap:!1})}),function(){return wt.apply(this,arguments)})},xr=e(509506),Kr=e(325055),qr=e(841333);function ea(wt){return[qr.E0.value,Kr.qg.Tooltips]}function Gr(wt){if(!_.isEmpty(wt.dataViewMappings)){var Et=wt.dataViewMappings[0];if(Et&&Et.metadata){var Dt=function(wt){return wt.metadata?wt.metadata.columns:null}(Et)||[];if(Et.matrix&&Et.matrix.rows){var It=Et.matrix.rows.for.in.items;if(!_.isEmpty(It)){var Xt=function(pt){if(!_.find(Dt,ie=>ie.queryName===pt.queryName))return 1;pt.subtotalType=ne.y.Before};for(var gr of It)Xt(gr)}}}}}function Qr(wt){return(0,_r.V7)(wt,{merge:[],remove:[],replace:[]},{objectName:qr.NK.general.filter.objectName,selector:null,properties:{[qr.NK.general.filter.propertyName]:wt.filterToApply}})}var hr=()=>{throw new Error("plugins.ts: 'Create' function is deprecated")},kr=!1,Xr=function(){if(kr)return a.q;var Dt,wt={actionButton:{name:i.U.actionButton,titleKey:(0,n.D)("Button"),capabilities:vr.R.actionButton,create:hr,createES6:(Dt=(0,r.A)(function*(){var{ActionButton:It}=yield Promise.all([e.e(15),e.e("actionButton")]).then(e.bind(e,589250));return new It}),function(){return Dt.apply(this,arguments)})},animatedNumber:{name:i.U.animatedNumber,capabilities:vr.R.animatedNumber,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{AnimatedNumber:It}=yield Promise.all([e.e(15),e.e("animatedNumber")]).then(e.bind(e,232607));return new It});return function(){return Dt.apply(this,arguments)}}()},areaChart:{name:i.U.areaChart,watermarkKey:"area",titleKey:(0,n.D)("AreaChart_ToolTip"),capabilities:vr.R.areaChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.Area,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:_e,getSortableRoles:Nt,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},barChart:{name:i.U.barChart,watermarkKey:"bar",titleKey:(0,n.D)("BarChart_ToolTip"),capabilities:vr.R.barChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.StackedBar,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},basicShape:{name:i.U.basicShape,titleKey:(0,n.D)("BasicShape_ToolTip"),capabilities:vr.R.basicShape,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{BasicShape:It}=yield e.e("basicShape").then(e.bind(e,498345));return new It});return function(){return Dt.apply(this,arguments)}}()},shape:{name:i.U.shape,titleKey:(0,n.D)("BasicShape_ToolTip"),capabilities:vr.R.shape,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Shape:It}=yield Promise.all([e.e(15),e.e("shape")]).then(e.bind(e,55425));return new It});return function(){return Dt.apply(this,arguments)}}(),getCustomizeConvertTo:(Dt,It,Xt)=>function(wt){if("basicShape"===wt)return{objects:{[lr.X7.fill]:{[lr.K9.fillColor]:{transform:Et=>Et??(0,d.yW)(null,"backgroundLight"),transformArgs:[{identifier:kt.M.fill.fillColor}],targetSelector:{id:Ht.eC.default}},[lr.K9.fillTransparency]:{transformArgs:[{identifier:kt.M.fill.transparency}],targetSelector:{id:Ht.eC.default}}},[lr.X7.outline]:{[lr.K9.outlineColor]:{transform:Et=>Et??(0,d.Bg)(2,0),transformArgs:[{identifier:kt.M.line.lineColor}],targetSelector:{id:Ht.eC.default}},[lr.K9.outlineWeight]:{transform:Et=>Et??(0,d.nd)(3),transformArgs:[{identifier:kt.M.line.weight}],targetSelector:{id:Ht.eC.default}},[lr.K9.outlineTransparency]:{transformArgs:[{identifier:kt.M.line.transparency}],targetSelector:{id:Ht.eC.default}}},[lr.X7.shape]:{[lr.K9.tileShape]:{transform:Et=>{if(Et&&(0,s.VO)(Et)){var Dt;switch(Et.value){case nt.YC:Dt=Wt.c.Rectangle;break;case nt.n7:Dt=Wt.c.Oval;break;case nt.n8:Dt=Wt.c.Line;break;case nt.UE:Dt=Wt.c.Arrow;break;case nt.zX:Dt=Wt.c.TriangleIsoc;break;default:Dt=Wt.c.Rectangle}return(0,d.Qq)(Dt)}},transformArgs:[{identifier:kt.M.general.shapeType}]},[lr.K9.shapeRounding]:{transformArgs:[{identifier:kt.M.line.roundEdge}]}},[Ht.xX.rotation]:{[lr.K9.shapeRotation]:{transform:(Et=(0,d.nd)(0),Dt)=>{if(!Dt)return Et;if((0,s.VO)(Et)&&(0,s.VO)(Dt)){var Xt,It=Et.value;switch(Dt.value){case nt.n8:Xt=(It+90)%360;break;case nt.UE:Xt=(It+270)%360;break;default:Xt=It}return(0,d.nd)(Xt)}g.Y.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:kt.M.rotation.angle},{identifier:kt.M.general.shapeType}]},[Ht.yi.rotation]:{transform:()=>{}}}}}}(Dt)},card:{name:i.U.card,watermarkKey:"card",titleKey:(0,n.D)("Card_ToolTip"),titleInSentenceKey:(0,n.D)("Card_Visual_InSentenceCase"),capabilities:vr.R.card,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{createCard:It}=yield Promise.all([e.e(15),e.e("cardModule")]).then(e.bind(e,536173));return It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:D},cardVisual:{name:i.U.cardVisual,watermarkKey:"cardVisual",titleKey:(0,n.D)("Card_ToolTip_New"),titleInSentenceKey:(0,n.D)("Card_Visual_New_InSentenceCase"),capabilities:vr.R.cardVisual,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{CardVisual:It}=yield Promise.all([e.e(12),e.e(15),e.e("CardVisual")]).then(e.bind(e,939468));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),module:{css:["cardVisual"]},getSortableRoles:T,getNarrativeSummaryBindings:b},multiRowCard:{name:i.U.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,n.D)("MultiRowCard_ToolTip"),titleInSentenceKey:(0,n.D)("MultiRowCard_Visual_InSentenceCase"),capabilities:vr.R.multiRowCard,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{MultiRowCard:It}=yield Promise.all([e.e(15),e.e("MultiRowCardVisual")]).then(e.bind(e,28884));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:st,getNarrativeSummaryBindings:Re},clusteredBarChart:{name:i.U.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,n.D)("ClusteredBarChart_ToolTip"),capabilities:vr.R.clusteredBarChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.ClusteredBar,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},clusteredColumnChart:{name:i.U.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,n.D)("ClusteredColumnChart_ToolTip"),capabilities:vr.R.clusteredColumnChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.ClusteredColumn,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},columnChart:{name:i.U.columnChart,watermarkKey:"column",titleKey:(0,n.D)("ColumnChart_ToolTip"),capabilities:vr.R.columnChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.StackedColumn,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},donutChart:{name:i.U.donutChart,watermarkKey:"donut",titleKey:(0,n.D)("DonutChart_ToolTip"),capabilities:vr.R.donutChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{DonutChart:It}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,827483));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:lt},funnel:{name:i.U.funnel,watermarkKey:"funnel",titleKey:(0,n.D)("Funnel_ToolTip"),capabilities:vr.R.funnel,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{FunnelChart:It}=yield Promise.all([e.e(15),e.e("FunnelChartVisual")]).then(e.bind(e,430470));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}()},gauge:{name:i.U.gauge,watermarkKey:"gauge",titleKey:(0,n.D)("Gauge_ToolTip"),capabilities:vr.R.gauge,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Gauge:It}=yield Promise.all([e.e(15),e.e("gauge")]).then(e.bind(e,395001));return new It(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:ut},hundredPercentStackedBarChart:{name:i.U.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,n.D)("HundredPercentStackedBarChart_ToolTip"),capabilities:vr.R.hundredPercentStackedBarChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.HundredPercentStackedBar,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},hundredPercentStackedColumnChart:{name:i.U.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,n.D)("HundredPercentStackedColumnChart_ToolTip"),capabilities:vr.R.hundredPercentStackedColumnChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.HundredPercentStackedColumn,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},image:{name:i.U.image,titleKey:(0,n.D)("Image"),capabilities:vr.R.image,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{ImageVisual:It}=yield e.e("ImageVisual").then(e.bind(e,519990));return new It});return function(){return Dt.apply(this,arguments)}}()},lineChart:{name:i.U.lineChart,watermarkKey:"line",titleKey:(0,n.D)("LineChart_ToolTip"),capabilities:vr.R.lineChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.Line,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:_e,getSortableRoles:Nt,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N,getDataDrivenAlertCapabilities:Qe},lineStackedColumnComboChart:{name:i.U.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,n.D)("LineStackedColumnComboChart_ToolTip"),capabilities:vr.R.lineStackedColumnComboChart,customizeQuery:A,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.LineStackedColumnCombo,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),getSortableRoles:Z,getAdditionalTelemetry:P,getNarrativeSummaryBindings:k},lineClusteredColumnComboChart:{name:i.U.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,n.D)("LineClusteredColumnComboChart_ToolTip"),capabilities:vr.R.lineClusteredColumnComboChart,customizeQuery:A,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.LineClusteredColumnCombo,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),getSortableRoles:Z,getAdditionalTelemetry:P,getNarrativeSummaryBindings:k},map:{name:i.U.map,watermarkKey:"map",titleKey:(0,n.D)("Map_ToolTip"),capabilities:vr.R.map,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Map:It}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,232337));return new It({filledMap:!1})});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:Te.wf,getNarrativeSummaryBindings:Te.fY},filledMap:{name:i.U.filledMap,watermarkKey:"filledMap",titleKey:(0,n.D)("FilledMap_ToolTip"),capabilities:vr.R.filledMap,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Map:It}=yield Promise.all([e.e(15),e.e("MapVisuals")]).then(e.bind(e,232337));return new It({filledMap:!0})});return function(){return Dt.apply(this,arguments)}}()},azureMap:{name:i.U.azureMap,watermarkKey:"azureMap",titleKey:(0,n.D)("AzureMap_ToolTip"),capabilities:vr.R.azureMap,module:{css:["azureMapVisuals"]},create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{AzureMap:It}=yield Promise.all([e.e(12),e.e(15),e.e("AzureMapVisuals")]).then(e.bind(e,671657));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getCustomizeConvertTo:(Dt,It,Xt)=>function(wt,Et){if(Et.azureMapsConversion){if("map"===wt)return{skipRoleMapping:!0,objects:{[o.D.mapControls]:{[o.cH.defaultStyle]:{transformArgs:[{identifier:m.rr.mapStyles.mapTheme}],transform:wt=>{if(!wt||!(0,s.VO)(wt))return(0,d.Qq)(C(h.j8));var Et=C(wt.value);return(0,d.Qq)(Et)}},[o.cH.showLabels]:{transformArgs:[{identifier:m.rr.mapStyles.showLabels}]},[o.cH.autoZoom]:{transformArgs:[{identifier:m.rr.mapControls.autoZoom}]},[o.cH.zoom]:{transformArgs:[{identifier:m.rr.mapControls.zoomLevel}],transform:wt=>{if(wt&&(0,s.VO)(wt)){var Dt=u(wt.value);return(0,d.nd)(Dt)}}},[o.cH.centerLatitude]:{transformArgs:[{identifier:m.rr.mapControls.centerLatitude}]},[o.cH.centerLongitude]:{transformArgs:[{identifier:m.rr.mapControls.centerLongitude}]},[o.cH.showStylePicker]:{transform:()=>(0,d.zM)(!1)},[o.cH.showNavigationControls]:{transformArgs:[{identifier:m.rr.mapControls.showZoomButtons}],transform:wt=>wt||(0,d.zM)(!1)},[o.cH.showSelectionControl]:{transformArgs:[{identifier:m.rr.mapControls.showLassoButton}],transform:wt=>wt||(0,d.zM)(!1)}},dataPoint:{showAllDataPoints:{transformArgs:[{identifier:m.rr.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:m.rr.dataPoint.fill}]}},[o.D.bubbleLayer]:{[o.cH.show]:{transformArgs:[{identifier:m.rr.heatMap.show}],transform:wt=>wt&&(0,s.VO)(wt)&&wt.value?(0,d.zM)(!1):(0,d.zM)(!0)},[o.cH.bubbleRadius]:{transformArgs:[{identifier:m.rr.bubbles.bubbleSize}],transform:wt=>{(!wt||!(0,s.VO)(wt))&&(wt=(0,d.nd)(1));var It=E(wt.value,[-30,100],[.6,24]);return(0,d.nd)(Math.round(It))}},[o.cH.minBubbleRadius]:{transformArgs:[{identifier:m.rr.bubbles.bubbleSize}],transform:wt=>{(!wt||!(0,s.VO)(wt))&&(wt=(0,d.nd)(1));var Et=[-30,50],Xt=E(_.clamp(wt.value,Et[0],Et[1]),Et,[.6,15]);return(0,d.nd)(Math.round(Xt))}},[o.cH.maxRadius]:{transformArgs:[{identifier:m.rr.bubbles.bubbleSize}],transform:wt=>{(!wt||!(0,s.VO)(wt))&&(wt=(0,d.nd)(1));var Et=[-30,50],Xt=E(_.clamp(wt.value,Et[0],Et[1]),Et,[2,50]);return(0,d.nd)(Math.round(Xt))}},[o.cH.markerRangeType]:{transformArgs:[{identifier:m.rr.bubbles.markerRangeType}],transform:wt=>{if(wt&&(0,s.VO)(wt)&&wt.value)return(0,d.Qq)(wt.value)}},[o.cH.bubbleStrokeWidth]:{transform:()=>(0,d.nd)(1)},[o.cH.autoStrokeColor]:{transform:()=>(0,d.zM)(!0)},[o.cH.layerPosition]:{transform:()=>(0,d.Qq)(o.HZ.AboveLabels)}},[o.D.categoryLabels]:{[o.cH.show]:{transformArgs:[{identifier:m.rr.categoryLabels.show},{identifier:m.rr.heatMap.show}],transform:(wt,Et)=>Et&&(0,s.VO)(Et)&&Et.value?(0,d.zM)(!1):wt},color:{transformArgs:[{identifier:m.rr.categoryLabels.color}]},fontFamily:{transformArgs:[{identifier:m.rr.categoryLabels.fontFamily}]},fontSize:{transformArgs:[{identifier:m.rr.categoryLabels.fontSize}]},bold:{transformArgs:[{identifier:m.rr.categoryLabels.bold}]},italic:{transformArgs:[{identifier:m.rr.categoryLabels.italic}]},underline:{transformArgs:[{identifier:m.rr.categoryLabels.underline}]},enableBackground:{transformArgs:[{identifier:m.rr.categoryLabels.enableBackground}]},backgroundColor:{transformArgs:[{identifier:m.rr.categoryLabels.backgroundColor}]},backgroundTransparency:{transformArgs:[{identifier:m.rr.categoryLabels.backgroundTransparency}]}},[o.D.heatMapLayer]:{[o.cH.show]:{transformArgs:[{identifier:m.rr.heatMap.show}]},[o.cH.heatMapRadius]:{transformArgs:[{identifier:m.rr.heatMap.filterRadius}]},[o.cH.heatMapRadiusUnit]:{transformArgs:[{identifier:m.rr.heatMap.unit}]},[o.cH.mapTransparency]:{transformArgs:[{identifier:m.rr.heatMap.transparency}]},[o.cH.heatMapColorLow]:{transformArgs:[{identifier:m.rr.heatMap.color0}]},[o.cH.heatMapColorCenter]:{transformArgs:[{identifier:m.rr.heatMap.color50}]},[o.cH.heatMapColorHigh]:{transformArgs:[{identifier:m.rr.heatMap.color100}]}}}};if("filledMap"===wt)return{skipRoleMapping:!0,objects:{dataPoint:{showAllDataPoints:{transformArgs:[{identifier:v.Xt.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:v.Xt.dataPoint.fill}]}},[o.D.mapControls]:{[o.cH.defaultStyle]:{transformArgs:[{identifier:m.rr.mapStyles.mapTheme}],transform:wt=>{if(!wt||!(0,s.VO)(wt))return(0,d.Qq)(C(h.j8));var Et=C(wt.value);return(0,d.Qq)(Et)}},[o.cH.showLabels]:{transformArgs:[{identifier:m.rr.mapStyles.showLabels}]},[o.cH.autoZoom]:{transformArgs:[{identifier:v.Xt.mapControls.autoZoom}]},[o.cH.zoom]:{transformArgs:[{identifier:v.Xt.mapControls.zoomLevel}],transform:wt=>{if(wt&&(0,s.VO)(wt)){var Dt=u(wt.value);return(0,d.nd)(Dt)}}},[o.cH.centerLatitude]:{transformArgs:[{identifier:v.Xt.mapControls.centerLatitude}]},[o.cH.centerLongitude]:{transformArgs:[{identifier:v.Xt.mapControls.centerLongitude}]},[o.cH.showStylePicker]:{transform:()=>(0,d.zM)(!1)},[o.cH.showNavigationControls]:{transformArgs:[{identifier:v.Xt.mapControls.showZoomButtons}],transform:wt=>wt||(0,d.zM)(!1)},[o.cH.showSelectionControl]:{transformArgs:[{identifier:v.Xt.mapControls.showLassoButton}],transform:wt=>wt||(0,d.zM)(!1)}},[o.D.categoryLabels]:{[o.cH.show]:{transform:()=>(0,d.zM)(!1)}},[o.D.bubbleLayer]:{[o.cH.show]:{transform:()=>(0,d.zM)(!1)}},[o.D.filledMap]:{[o.cH.show]:{transform:()=>(0,d.zM)(!0)},[o.cH.defaultColor]:{transformArgs:[{identifier:v.Xt.dataPoint.defaultColor}]},[o.cH.mapTransparency]:{transform:()=>(0,d.nd)(40)}}}}}}(Dt,Xt)},ribbonChart:{name:i.U.ribbonChart,watermarkKey:"ribbon",titleKey:(0,n.D)("RibbonChart_ToolTip"),capabilities:vr.R.ribbonChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.RibbonChart,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:Ut,customizeQuery:R,getSortableRoles:U,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},shapeMap:{name:i.U.shapeMap,watermarkKey:"shapeMap",titleKey:(0,n.D)("ShapeMap_ToolTip"),capabilities:vr.R.shapeMap,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{ShapeMap:It}=yield Promise.all([e.e(15),e.e("shapeMap")]).then(e.bind(e,222402));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}()},treemap:{name:i.U.treemap,watermarkKey:"tree",titleKey:(0,n.D)("Treemap_ToolTip"),capabilities:vr.R.treemap,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Treemap:It}=yield Promise.all([e.e(15),e.e("TreemapVisual")]).then(e.bind(e,684660));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}()},pieChart:{name:i.U.pieChart,watermarkKey:"pie",titleKey:(0,n.D)("PieChart_ToolTip"),capabilities:vr.R.pieChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{DonutChart:It}=yield Promise.all([e.e(15),e.e("donutChart")]).then(e.bind(e,827483));return new It({isPieChart:!0})});return function(){return Dt.apply(this,arguments)}}(),getNarrativeSummaryBindings:lt},realTimeLineChart:{name:i.U.realTimeLineChart,watermarkKey:"line",titleKey:(0,n.D)("LineChart_ToolTip"),capabilities:vr.R.realTimeLineChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.RealTimeLineChart,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),getAdditionalTelemetry:P},scatterChart:{name:i.U.scatterChart,watermarkKey:"scatterplot",titleKey:(0,n.D)("ScatterChart_ToolTip"),capabilities:vr.R.scatterChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.Scatter,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:nr,getSortableRoles:Ge,getAdditionalTelemetry:xt,getNarrativeSummaryBindings:We},stackedAreaChart:{name:i.U.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,n.D)("StackedAreaChart_ToolTip"),capabilities:vr.R.stackedAreaChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.StackedArea,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:_e,getSortableRoles:Nt,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},hundredPercentStackedAreaChart:{name:i.U.hundredPercentStackedAreaChart,watermarkKey:"stacked100area",titleKey:(0,n.D)("HundredPercentStackedAreaChart_ToolTip"),capabilities:vr.R.stackedAreaChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.HundredPercentStackedArea,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:_e,getSortableRoles:Nt,getAdditionalTelemetry:P,getNarrativeSummaryBindings:N},table:{name:i.U.table,watermarkKey:"table",titleKey:(0,n.D)("Table_ToolTip"),titleInSentenceKey:(0,n.D)("Table_Visual_InSentenceCase"),capabilities:vr.R.table,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Table:It}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new It});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:br,getSortableRoles:Br},matrix:{name:i.U.matrix,watermarkKey:"matrix",titleKey:(0,n.D)("Matrix_ToolTip"),titleInSentenceKey:(0,n.D)("Matrix_Visual_InSentenceCase"),capabilities:vr.R.matrix,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Matrix:It}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new It});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:et,getSortableRoles:vt},tableEx:{name:i.U.tableEx,watermarkKey:"table",titleKey:(0,n.D)("Table_ToolTip"),titleInSentenceKey:(0,n.D)("Table_Visual_InSentenceCase"),capabilities:(0,Fr.o)(),create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{TableEx:It}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new It(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:jr,getSortableRoles:Lr,module:{css:["pivotTableVisuals"]}},pivotTable:{name:i.U.pivotTable,watermarkKey:"matrix",titleKey:(0,n.D)("Matrix_ToolTip"),titleInSentenceKey:(0,n.D)("Matrix_Visual_InSentenceCase"),capabilities:vr.R.pivotTableCapabilities,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{PivotTable:It}=yield Promise.all([e.e(12),e.e(15),e.e("PivotTableVisuals")]).then(e.bind(e,181184));return new It(void 0,void 0)});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:Ve,getSortableRoles:ft,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:i.U.accessibleTable,watermarkKey:"matrix",capabilities:vr.R.accessibleTable,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{AccessibleTable:It}=yield Promise.all([e.e(12),e.e("AccessibleTableVisual")]).then(e.bind(e,799427));return new It});return function(){return Dt.apply(this,arguments)}}(),module:{css:["accessibleTableVisual"]}},slicer:{name:i.U.slicer,watermarkKey:"slicer",titleKey:(0,n.D)("Slicer_ToolTip"),capabilities:vr.R.slicer,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{Slicer:Xt}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,30075));return new Xt({featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:_r.wf,getSortableRoles:_r.iw,shouldIgnoreCrossFilter:_r.uv,mergeObjects:_r.rL,customizeVisualAuthoringOperations:_r.Pu,tryCreateFilterObjectsToPersist:_r.vK},advancedSlicerVisual:{name:i.U.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,n.D)("ButtonSlicer_Tooltip"),capabilities:vr.R.advancedSlicer,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{createAdvancedSlicer:It}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,685676));return It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:ea,module:{css:["advancedSlicerVisual"]},tryCreateFilterObjectsToPersist:Qr},textSlicer:{name:i.U.textSlicer,watermarkKey:"textSlicer",titleKey:(0,n.D)("TextSlicerVisual_Tooltip"),capabilities:vr.R.textSlicer,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{TextSlicer:It}=yield Promise.all([e.e(12),e.e("TextSlicerVisual")]).then(e.bind(e,489563));return new It});return function(){return Dt.apply(this,arguments)}}(),module:{css:["textSlicerVisual"]},customizeQuery:Vr},listSlicer:{name:i.U.listSlicer,watermarkKey:"listSlicer",titleKey:(0,n.D)("ListSlicerVisual_Tooltip"),capabilities:vr.R.listSlicer,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{createAdvancedSlicer:It}=yield Promise.all([e.e(12),e.e(15),e.e("AdvancedSlicerVisual")]).then(e.bind(e,685676));return It(void 0)});return function(){return Dt.apply(this,arguments)}}(),getSortableRoles:ea,module:{css:["advancedSlicerVisual"]},customizeQuery:Gr,tryCreateFilterObjectsToPersist:Qr},pageNavigator:{name:i.U.pageNavigator,titleKey:(0,n.D)("Visual_PageNavigator"),capabilities:vr.R.pageNavigator,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{createNavigator:It}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,840067));return It({navigatorType:l.E.Page})});return function(){return Dt.apply(this,arguments)}}()},bookmarkNavigator:{name:i.U.bookmarkNavigator,titleKey:(0,n.D)("Visual_BookmarkNavigator"),capabilities:vr.R.bookmarkNavigator,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{createNavigator:It}=yield Promise.all([e.e(15),e.e("NavigatorVisuals")]).then(e.bind(e,840067));return It({navigatorType:l.E.Bookmark})});return function(){return Dt.apply(this,arguments)}}()},filterSlicer:{name:i.U.filterSlicer,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Slicer:It}=yield Promise.all([e.e(15),e.e("slicer")]).then(e.bind(e,30075));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),capabilities:vr.R.slicer,customizeQuery:_r.wf,getSortableRoles:_r.iw,shouldIgnoreCrossFilter:_r.uv,mergeObjects:_r.rL,customizeVisualAuthoringOperations:_r.Pu,tryCreateFilterObjectsToPersist:_r.vK},textbox:{name:i.U.textbox,titleKey:(0,n.D)("Textbox"),capabilities:vr.R.textbox,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Textbox:It}=yield Promise.all([e.e(15),e.e("TextboxVisual")]).then(e.bind(e,721379));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),supportsSummarization:!0,summarizationMessage:(0,n.D)("SmartNarratives_InitializationMessage")},aiNarratives:{name:i.U.aiNarratives,titleKey:(0,n.D)("Narrative"),capabilities:vr.R.aiNarratives,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{AINarratives:It}=yield Promise.all([e.e(15),e.e("AINarrativesVisual")]).then(e.bind(e,574919));return new It});return function(){return Dt.apply(this,arguments)}}(),module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:Dt=>function(wt){if("textbox"===wt)return{objects:{[xr.WV.narrativeSelection.dismissSelectionScreen.objectName]:{[xr.WV.narrativeSelection.dismissSelectionScreen.propertyName]:{transform:()=>(0,d.zM)(!0)}}}}}(Dt)},waterfallChart:{name:i.U.waterfallChart,watermarkKey:"waterfall",titleKey:(0,n.D)("WaterfallChart_ToolTip"),capabilities:vr.R.waterfallChart,create:hr,createES6:function(){var Dt=(0,r.A)(function*(It){var{CartesianChart:Xt}=yield Promise.all([e.e(15),e.e("cartesianChart")]).then(e.bind(e,528328));return new Xt({chartType:t.Bb.Waterfall,featureSwitches:It.featureSwitches})});return function(Xt){return Dt.apply(this,arguments)}}(),customizeQuery:wr,getSortableRoles:Yr,getAdditionalTelemetry:P},scriptVisual:{name:i.U.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,n.D)("ScriptVisual_ToolTip"),capabilities:vr.R.scriptVisual,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{ScriptVisual:It}=yield e.e("ScriptVisual").then(e.bind(e,114231));return new It});return function(){return Dt.apply(this,arguments)}}()},pythonVisual:{name:i.U.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,n.D)("PythonVisual_ToolTip"),capabilities:vr.R.pythonVisual,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{ScriptVisual:It}=yield e.e("ScriptVisual").then(e.bind(e,114231));return new It});return function(){return Dt.apply(this,arguments)}}()},kpi:{name:i.U.kpi,watermarkKey:"kpi",titleKey:(0,n.D)("kpi_Tooltip"),capabilities:vr.R.kpi,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{KPIStatusWithHistory:It}=yield Promise.all([e.e(15),e.e("KpiVisual")]).then(e.bind(e,591735));return new It(void 0)});return function(){return Dt.apply(this,arguments)}}(),stampHardcodedDefaultObjects:be,getNarrativeSummaryBindings:Ie},keyDriversVisual:{name:i.U.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,n.D)("KeyDriver_Tooltip"),capabilities:vr.R.keyDrivers,create:Dt=>Dt.module.createAnalysisVisual(),getAnalysisVisualNarrativeSummaryConfiguration:St},decompositionTreeVisual:{name:i.U.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,n.D)("DecompositionTree_Tooltip"),capabilities:vr.R.decompositionTree,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{DecompositionTree:It}=yield Promise.all([e.e(15),e.e("DecompositionTreeVisual")]).then(e.bind(e,611791));return new It});return function(){return Dt.apply(this,arguments)}}(),customizeQuery:oe},qnaVisual:{name:i.U.qnaVisual,capabilities:vr.R.qnaVisual,create:Dt=>Dt.module.createQnaVisual(),titleKey:(0,n.D)("Generic_Qna")},scorecard:{name:i.U.scorecard,watermarkKey:"scorecard",titleKey:(0,n.D)("Scorecard_Visual_Tooltip"),capabilities:vr.R.scorecard,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{Scorecard:It}=yield Promise.all([e.e(15),e.e("ScorecardVisual")]).then(e.bind(e,138338));return new It});return function(){return Dt.apply(this,arguments)}}(),module:{css:["scorecardVisual"]}},rdlVisual:{name:i.U.rdlVisual,titleKey:(0,n.D)("RdlVisual_ToolTip"),capabilities:vr.R.rdlVisual,create:hr,createES6:function(){var Dt=(0,r.A)(function*(){var{RdlVisual:It}=yield Promise.all([e.e(15),e.e("RdlVisual")]).then(e.bind(e,214888));return new It});return function(){return Dt.apply(this,arguments)}}(),module:{css:["rdlVisual"]},customizeQuery:Pt},dataQueryVisual:{name:i.U.dataQueryVisual,capabilities:vr.R.dataQueryVisual,create:()=>{g.Y.assertFail("This visual should not be created")},customizeQuery:X},[Ur.name]:Ur};for(var Et in wt)a.q[Et]=wt[Et];return kr=!0,a.q}()},76383:function(me,j,e){e.d(j,{R:function(){return J}});var r=e(147293),i=e(329332),a=e(143924),t=e(418310),l={dataRoles:[{name:t.o.rows,kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Rows"),description:(0,i.D)("Role_DisplayName_RowsDescription")},{name:t.o.columns,kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Columns"),description:(0,i.D)("Role_DisplayName_ColumnsDescription")},{name:t.o.values,kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:a.SP.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:t.o.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:t.o.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:t.o.values}}}}]},g=e(373467),n=e(509506),s={objects:{general:{properties:{formatString:a.SP.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},h=e(420496),o=e(772644),v=e(325055),m=e(624287),p=e(711547),y=e(317551),S=e(497603),C=e(129941),u=e(198976),E=e(576289),c=e(764367),f=e(92513),D=e(449524),b=e(352974),T=e(944491),M=e(956437),V=e(160255),w=e(188295),P=e(55682),N=e(122454),I=e(90813),R=e(83279),W=e(81579),F=e(658577),U={dataRoles:[{name:"Category",kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Axis"),description:(0,i.D)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:r.Xk.X},{name:"Series",kind:r.Ts.Grouping,displayName:(0,i.D)("Role_DisplayName_Legend"),description:(0,i.D)("Role_DisplayName_LegendDescription")},{name:"Y",kind:r.Ts.Measure,displayName:(0,i.D)("Role_DisplayName_Values"),description:(0,i.D)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:r.Xk.Y}],objects:{general:{displayName:(0,i.D)("Visual_General"),properties:{formatString:a.SP.formatString,responsive:a.SP.responsive,responsiveLegacy:a.SP.responsiveLegacy}},legend:{displayName:(0,i.D)("Visual_Legend"),description:(0,i.D)("Visual_LegendDescription"),properties:{show:a.SP.show,position:a.SP.legendPosition,showTitle:a.SP.showLegendTitle,titleText:{...a.SP.legendTitle,suppressFormatPainterCopy:!0},labelColor:a.SP.genericColor,fontSize:a.SP.fontSize}},categoryAxis:{displayName:(0,i.D)("Visual_XAxis"),properties:{show:a.SP.show,axisType:a.SP.axisType,showAxisTitle:a.SP.showAxisTitle_X,axisStyle:a.SP.axisStyle,labelColor:a.SP.genericColor,labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,i.D)("Visual_YAxis"),properties:{show:a.SP.show,showAxisTitle:a.SP.showAxisTitle_Y,axisStyle:a.SP.axisStyle,labelColor:a.SP.genericColor,labelDisplayUnits:a.SP.labelDisplayUnits,labelPrecision:a.SP.labelPrecision}},dataPoint:{displayName:(0,i.D)("Visual_DataPoint"),description:(0,i.D)("Visual_DataPointDescription"),properties:{defaultColor:a.SP.defaultColor,fill:a.SP.fill}},plotArea:a.rg.plotArea},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:F.U.Ascending}]}}},B=e(803803),x=e(987677),A={dataRoles:[{name:"Values",kind:r.Ts.GroupingOrMeasure,displayName:(0,i.D)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},L=e(412010),Y=e(941118),z=e(841333),H=e(801857),Z=e(818365),k=e(480543),K=e(371355),ee=e(653928),Q=e(981265),J={actionButton:g.tc,aiNarratives:(0,n.G)(),animatedNumber:s,areaChart:(0,V.Hx)(!1,!0),barChart:(0,y.LH)(!0,!0),basicShape:o.s,advancedSlicer:(0,v.LO)(Q.$F.Tile),listSlicer:(0,v.LO)(Q.$F.List),textSlicer:(0,ee.qR)(),shape:L.Ko,card:m.t,cardVisual:(0,p.l$)(),multiRowCard:P.U,clusteredBarChart:(0,y.LH)(!0),clusteredColumnChart:(0,y.LH)(),columnChart:(0,y.LH)(!1,!0),donutChart:(0,E.du)(),funnel:(0,f.$w)(),gauge:D.uD,hundredPercentStackedBarChart:(0,y.LH)(!0,!0),hundredPercentStackedColumnChart:(0,y.LH)(!1,!0),ribbonChart:(0,y.LH)(!1,!0,!0),image:b.cH,lineChart:(0,V.Hx)(!1,!1),stackedAreaChart:(0,V.Hx)(!0,!0),lineStackedColumnComboChart:(0,S.p)(!0),lineClusteredColumnComboChart:(0,S.p)(!1),map:(0,w.$J)(),filledMap:(0,c.Vy)(),azureMap:(0,h.mD)(),shapeMap:(0,Y.a)(),treemap:(0,k.LX)(),pieChart:(0,E.du)(),scatterChart:(0,B.X6)(),table:(0,H.J)(),matrix:t.w,slicer:(0,z.ts)(),pageNavigator:N.WT,bookmarkNavigator:N.Xr,textbox:Z.Hp,waterfallChart:(0,K.B)(),heatMap:(0,w.$J)(),scriptVisual:A,pythonVisual:{dataRoles:[{name:"Values",kind:r.Ts.GroupingOrMeasure,displayName:(0,i.D)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,M.Ve)(),realTimeLineChart:U,accessibleTable:l,pivotTableCapabilities:(0,I.h)(),keyDrivers:(0,T.RH)(),decompositionTree:(0,u.Il)(),qnaVisual:R.Hy,dataQueryVisual:C.x0,scorecard:x.T,rdlVisual:W.px}},864754:function(me,j,e){function r(t,l){a[t]=l}e.d(j,{Z:function(){return r},q:function(){return a}});var t,a=(t={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?t=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=t,t)},194329:function(me,j,e){e.d(j,{NH:function(){return v},U1:function(){return p},WY:function(){return m}});var r=e(785463),i=e(375953),a=e(680645),t=e(147293),l=e(981265),g=e(336983),n=e(491394),d=e(738060),s=e(401260),h={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},o={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"};function v(){return new n.M}class m{constructor(){this.instanceId=void 0}static initialize(){(0,g.rL)(m.createLocaleOptions()),s.Z.localizationOptions=m.createTooltipLocaleOptions(),(0,d.mO)(m.createDataViewTransformLocalizationOptions())}static createLocaleOptions(){return{null:o.NullValue,true:o.BooleanTrue,false:o.BooleanFalse,NaN:o.NaNValue,infinity:o.InfinityValue,negativeInfinity:o.NegativeInfinityValue,beautify:S=>m.beautify(S),describe:S=>m.describeUnit(S),restatementComma:o.Restatement_Comma,restatementCompoundAnd:o.Restatement_CompoundAnd,restatementCompoundOr:o.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:o.Tooltip_HighlightedValueDisplayName}}static createDataViewTransformLocalizationOptions(){return{quarterPrefix:o.Visual_Quarter_Abbreviated}}getLocalizedString(S,...C){return o[S]}alertScreenReader(S){}alertWithDebounce(S,C){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}onSelecting(S){S.action=t.Ii.Selection}onSelect(){}onSwitchFocusModeState(){}canExpandCollapse(S){return!1}setNodeExpansionState(S){}setLevelExpansionState(S){}setCanDrill(S){}onContextMenu(){}loadMoreData(){}loadWindow(S){}setShouldDeferData(){}fetchMoreData(S){return!0}persistProperties(S){}onCustomSort(S){}getViewMode(){return t.nE.View}getEditMode(){return t.WF.Default}setWarnings(S){}getWarnings$(){}setToolbar(S){}shouldRetainSelection(){return!1}geocoder(){return v()}geolocation(){r.Y.assertFail("Not being called anywhere")}promiseFactory(){return(0,i.C)()}visualCapabilitiesChanged(){}ignoreDefaultFilter(){}getIdentityDisplayNames(S){}setIdentityDisplayNames(S){}drill(S){}setFilterExpressionMetadata(S){}getFilterExpressionMetadata(){}dropdown(){}tooltips(){}telemetry(){}authenticationService(){}localStorageService(){}acquireAADTokenService(){}eventService(){}licenseManagerService(){}decompositionService(){}locale(){return navigator.language}allowInteractions(){return!0}loader(){return(0,a.Yw)(this.promiseFactory(),void 0,null)}getUIComponentFactory(){return null}applyJsonFilter(S,C,u,E){return!0}applyIdentityFilter(S,C,u,E){return!0}launchUrl(S){}refreshHostData(){}sendSelectionIdsToHost(S){}getJSONFilter(S,C){return this.promiseFactory().reject()}onHyperlinkClick(S,C){}visualTimeSynchronization(){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return l.fv.Single}networkAvailability(){}downloadService(){}setAriaMetadata(S){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(S){}onClearLicenseNotification(){}onNotifyFeatureBlocked(S){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){}aiNarrativesService(){}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){}annotations(){}static beautify(S){var C=h[S];return C?((0,g.lw)(C),o[C]||S):S}static describeUnit(S){var C=-1===S?"Auto":S.toString(),u=o["DisplayUnitSystem_E"+C+"_Title"],E=S<=0?"{0}":o["DisplayUnitSystem_E"+C+"_LabelFormat"];if(u||E)return{title:u,format:E}}}var p=new m},943209:function(me,j,e){e.d(j,{aL:function(){return E},mM:function(){return h},p8:function(){return o},pl:function(){return C},qb:function(){return u},sM:function(){return s},v:function(){return m},xR:function(){return d}});var r=e(785463),i=e(510958),a=e(147293),t=e(942596),l=e(981265),g=e(464205),n=e(566436);function d(D,b){return new C(D,b)}function s(D,b="rect"){var T=D.select(`${b}.clearCatcher`);return T.empty()&&(T=D.append(b).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),T}function h(D,b="rect"){var T=D.select(`${b}.clearCatcher`);T.empty()||T.style("pointer-events","none")}function o(D,b="rect"){var T=D.select(`${b}.clearCatcher`);T.empty()||T.style("pointer-events","auto")}function m(D){if(_.isEmpty(D))return!1;for(var b=0,T=D.length;b<T;b++)if(D[b].selected)return!0;return!1}class p{constructor(b,T,M,V,w){this.dataPoints=b,this.behavior=T,this.key=M,this.hasSelection=V,this.matchPartialIdentities=w}render(){this.behavior.renderSelection(this.hasSelection())}}function y(D,b){return _.find(D,T=>!T.identity.highlight&&b.identity.includes(T.identity,!0))}class S{constructor(b,T){this.selectionStateManager=b,this.pointSources={},T&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}findNonHightlightDataPoint(b){for(var T of this.getSelectablePointSources()){var M=y(T.dataPoints,b);if(M)return M}}applySelectionStateToDataPoints(b){this.updateSelectableDataPointsBySelectedIds(b,void 0,this.identityComparisonCache)}syncSelectionState(b){this.getSelectablePointSources(b).forEach(T=>{this.updateSelectableDataPointsBySelectedIds(T.dataPoints,T.matchPartialIdentities,this.identityComparisonCache)})}clearDataPointSelection(){this.applyToAllSelectableDataPoints(b=>b.selected=!1)}render(){this.getSelectablePointSources().forEach(b=>{b.render()})}bind(b,T,M,V){var w,P=!1;V&&(V.isAxis||V.isLabels||V.isLegend||V.useSelectableDataPointForHasSelection)?w=()=>!!b&&m(b):(w=()=>this.selectionStateManager.getSelectionSize()>0,P=!0),this.isHierarchicalAxis=V&&V.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[M]=new p(b,T,M,w,P),this.clearComparisonCache()}hasSelectionForSource(b){return m(this.pointSources[b]?.dataPoints)}clearComparisonCache(){this.identityComparisonCache&&(this.identityComparisonCache={containsComparisonCache:{},equalsComparisonCache:{}})}applyToAllSelectableDataPoints(b){this.getSelectablePointSources().forEach(T=>{if(T.dataPoints)for(var M of T.dataPoints)b(M)})}updateSelectableDataPointsBySelectedIds(b,T=!1,M){_.isEmpty(b)||this.selectionStateManager.updateDatapointAgainstSelectedIds(b,T,this.isHierarchicalAxis,M)}getSelectablePointSources(b){if(b){var T=this.pointSources[b];return T?[T]:[]}return _.map(Object.keys(this.pointSources),M=>this.pointSources[M])}}var C=(()=>{class D{constructor(T,M){r.Y.assertValue(T,"hostServices"),this.hostService=T,this.dataPointNavigationManager=new f,this.categoryAxisNavigationManager=new f,this.selectionStateManager=new c,this.dataPointManager=new S(this.selectionStateManager,M.interactivityServiceCaching)}bind(T,M,V,w){w&&w.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(T),this.isHierarchicalAxis=w&&w.isHierarchicalAxis;var P=w?w.pointSourceKey:"";this.dataPointManager.bind(T,M,P,w),w&&w.navigationOptions&&(w.isAxis?this.categoryAxisNavigationManager.update(M,w.navigationOptions,P):this.dataPointNavigationManager.update(M,w.navigationOptions,P),w.navigationOptions.focusElement&&M.renderFocus(w.navigationOptions.focusElement)),M.bindEvents(V,this,w&&w.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:P}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:P},this.formatMode),this.syncSelectionState(w&&w.pointSourceKey)}clearSelection(){this.clearSelectionInternal(),this.renderAll()}clearSelectionInternal(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()}applySelectionStateToData(T){return this.dataPointManager.applySelectionStateToDataPoints(T),this.hasSelection()}hasSelection(){return this.selectionStateManager.getSelectionSize()>0}hasSelectionForSource(T){return this.dataPointManager.hasSelectionForSource(T)}static getVisualObjects(T){return _.map(T,M=>({objectName:D.dataPointObjectName,selectorsByColumn:M.getSelectorsByColumn()}))}handleSelection(T,M,V){var w;(r.Y.assertValue(T,"dataPoint"),T)&&(T.specificIdentity?w=T.specificIdentity.getSelectorsByColumn():(!T.identity&&T.lazyIdentity&&(T.identity=T.lazyIdentity()),T.identity&&(w=T.identity.getSelectorsByColumn())),this.hostService.dataMultiSelectMode()===l.fv.Multiple&&M===t.v.Single&&(M=t.v.Difference),this.runInTransaction(()=>{var I;T.identity&&this.select(T,M),I=T.specificIdentity?[{objectName:D.dataPointObjectName,selectorsByColumn:w}]:D.getVisualObjects(this.selectionStateManager.getSelectionIds());var O={type:l.H6.DataPointSelection,visualObjects:I,isCtrlOrMetaKey:M===t.v.Difference,isShiftKey:M===t.v.Union,isLassoSelect:!1,position:V};return _.isEmpty(w)||this.hostService.onSelecting(O),O},M,!1,!T.identity))}handleMultipleSelection(T,M,V,w){this.runInTransaction(()=>{this.selectMultiple(T,M);var N={type:l.H6.DataPointSelection,visualObjects:D.getVisualObjects(this.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!V||M===t.v.Difference,isShiftKey:M===t.v.Union,isLassoSelect:V,position:w};return this.hostService.onSelecting(N),N},M,V,!1)}runInTransaction(T,M,V,w){var N,P=!1;this.selectionStateManager.beginTransaction();try{var I=T();I.action!==a.Ii.Selection&&I.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),P=!0,N=I.selectionLimitInfo,this.syncSelectionState())}catch{this.selectionStateManager.rollback()}finally{P&&(w?this.handleClearSelection():(this.sendSelectionToHost(M,V,N),this.renderAll()))}}handleContextMenu(T,M){this.sendContextMenuToHost(T,M)}handleClearSelection(){this.hostService.dataMultiSelectMode()===l.fv.Single&&(this.clearSelection(),this.sendSelectionToHost(t.v.Single,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))}restoreSelection(T){return this.clearSelection(),this.selectionStateManager.restoreSelection(T,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()}renderAll(){this.dataPointManager.render()}clearSelectionState(){this.selectionStateManager.clearSelectionState()}selectMultiple(T,M){for(var V of((M===t.v.Single||M===t.v.Intersection)&&this.clearSelectionState(),T)){var w=V.identity;w.highlight||(M===t.v.Union||M===t.v.Single?this.addId(w):M===t.v.Difference?V.selected?this.removeId(w):this.addId(w):M===t.v.Intersection&&V.selected&&this.addId(w))}}updateSelectionState(T,M,V,w){w||this.clearSelectionInternal(),T.selected?w&&M===t.v.Difference&&this.removeId(V):(this.addId(V),w&&(V.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))}select(T,M){T.identity&&T.identity.highlight&&(T=this.dataPointManager.findNonHightlightDataPoint(T),r.Y.assertValue(T,"Expected to find a non-highlight data point"));var V=T.identity;if(V){var w=this.getSelectionIds(),P=this.hostService.canSelect(D.createSelectEventArgs(w,M));switch(M){case t.v.Single:!T.selected||w.length>1||1===w.length&&!w[0].equals(V)?(this.clearSelectionInternal(),this.addId(V)):T.selected?this.removeId(V):this.addId(V);break;case t.v.Difference:case t.v.Union:this.updateSelectionState(T,M,V,P);break;case t.v.Intersection:r.Y.assertFail("single selection does not have intersection implemented");break;default:r.Y.assertFail("no such multiSelectMode")}}}removeId(T){this.selectionStateManager.removeId(T,this.isHierarchicalAxis)}addId(T){this.selectionStateManager.addId(T,this.isHierarchicalAxis)}getSelectionIds(){return this.selectionStateManager.getSelectionIds()}sendContextMenuToHost(T,M){var V=this.hostService;if(V.onContextMenu){var w,P,N;T.specificIdentity?w=T.specificIdentity:T.identity&&(w=T.identity),N=this.selectionStateManager.isIdSelected(w),P=!w||N?this.getSelectionIds():[w];var I=[];for(var O of P){var R=O.getSelectorsByColumn();_.isEmpty(R)||I.push(R)}_.isEmpty(I)||V.onContextMenu({data:I,position:M})}}sendSelectionToHost(T,M,V){var w=this.hostService;if(w.onSelect){var P=D.createSelectEventArgs(this.getSelectionIds(),T,M,V);w.onSelect(P)}}static createSelectEventArgs(T,M,V,w){var P=!1;_.isEmpty(T)||(P=T[0].getSelector()&&!T[0].getSelectorsByColumn());var N=_.chain(T).filter(O=>O.hasIdentity()),I={type:l.H6.DataPointSelection,visualObjects:N.map(O=>({objectName:D.dataPointObjectName,selectorsByColumn:O.getSelectorsByColumn()})).value(),selectionMode:M,isLassoSelect:V,selectionLimitInfo:w};return P&&(I.selectors=N.map(O=>O.getSelector()).value()),I}takeSelectionStateFromDataPoints(T){for(var M of(r.Y.assertValue(T,"dataPoints"),this.clearSelectionState(),T))M.selected&&this.addId(M.identity)}syncSelectionState(T){this.dataPointManager.syncSelectionState(T)}removeSelectionIdsWithOnlyMeasures(){this.filterSelection(T=>T.hasIdentity())}removeSelectionIdsExceptOnlyMeasures(){this.filterSelection(T=>!T.hasIdentity())}filterSelection(T){this.selectionStateManager.filterSelection(T)}setFormatMode(T){this.formatMode=T,T&&this.handleClearSelection()}setSubSelectionHelper(T){this.subSelectionHelper=T}getSubSelectionHelper(){return this.subSelectionHelper}}return D.dataPointObjectName="dataPoint",D})(),u=function(D){return D[D.CategoryFirst=0]="CategoryFirst",D[D.SeriesFirst=1]="SeriesFirst",D[D.CategoryOnly=2]="CategoryOnly",D[D.SeriesOnly=3]="SeriesOnly",D}({}),E=function(D){return D[D.NextCategory=0]="NextCategory",D[D.PreviousCategory=1]="PreviousCategory",D[D.NextSeries=2]="NextSeries",D[D.PreviousSeries=3]="PreviousSeries",D}({});class c{constructor(){this.clearSelectionState()}beginTransaction(){r.Y.assert(()=>void 0===this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize}commit(){r.Y.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}rollback(){r.Y.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0}isIdSelected(b){var T=this.selectedIds[b?.getKeyWithoutHighlight()];return this.selectionIdSize>1&&T&&T.equals(b)}clearSelectionState(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0}restoreSelection(b,T){_.forEach(b,M=>{var V=n.M3.fromSelectorsByColumn(M);this.addId(V,T)})}addId(b,T){this.addDecomposedId(b,!T);var M=!!this.selectedIds[b.getKeyWithoutHighlight()];this.selectedIds[b.getKeyWithoutHighlight()]=b,M||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)}addDecomposedId(b,T){var M=b.getDecomposedKeys(T);if(M)for(var V of M){var w=this.decomposedSelectedIds[V];_.isArray(w)?_.some(w,P=>P.equals(b))||w.push(b):this.decomposedSelectedIds[V]=[b]}}amendDecomposedSelection(b){this.decomposedSelectedIds={};var T=_.values(this.selectedIds);for(var M of T)this.addDecomposedId(M,b)}removeId(b,T){var M=O=>{var R=O.getKeyWithoutHighlight(),W=this.selectedIds[R];W&&W.includes(b)&&(delete this.selectedIds[R],this.selectionIdSize--)};M(b);var V=O=>{if(O)for(var R=O.length-1;R>-1;R--){var W=O[R];b.includes(W)&&(O.splice(R,1),M(W))}},w=b.getDecomposedKeys(!T);if(w)for(var P of w){var N=this.decomposedSelectedIds[P];V(N),_.isEmpty(N)&&delete this.decomposedSelectedIds[P]}var I=this.decomposedSelectedIds[g.Rf];I&&I.length&&(V(I),_.isEmpty(I)&&delete this.decomposedSelectedIds[g.Rf])}getSelectionSize(){return this.selectionIdSize}getSelectionIds(){return _.values(this.selectedIds)}filterSelection(b){this.selectedIds=_.pickBy(this.selectedIds,b);var T={};_.forEach(this.decomposedSelectedIds,(M,V)=>{var w=_.filter(M,b);w&&!_.isEmpty(w)&&(T[V]=w)}),this.decomposedSelectedIds=T}updateDatapointAgainstSelectedIds(b,T,M,V){var w=!_.isEmpty(this.selectedIds),P=!_.isEmpty(this.decomposedSelectedIds);if(w||P)for(var I of b)I.selected=this.checkDatapointAgainstSelectedIds(I,T,M,w,P,V);else for(var N of b)N.selected=!1}checkDatapointAgainstSelectedIds(b,T,M,V,w,P){if(V){var N=b.identity?.getKeyWithoutHighlight();if(N){var I=this.selectedIds[N];if(I&&I.includes(b.identity,!0,T,P))return!0}}if(w){var O=b.identity?.getDecomposedKeys(!M);if(O)for(var R of O){var W=this.decomposedSelectedIds[R];if(W)for(var F of W)if(F&&F.includes(b.identity,!0,T,P))return!0}var U=this.decomposedSelectedIds[g.Rf];if(!_.isEmpty(U))for(var B of U)if(B&&B.includes(b.identity,!0,T))return!0}return!1}}class f{constructor(){this.behaviors={},this.helpers={}}update(b,T,M){this.behaviors[M]=b,this.navigationStrategy=T.navigationStrategy,this.helpers[M]=T.helper}goToFirstElement(b){var T=this.helpers[b].getFirstElement().element;T&&this.behaviors[b].renderFocus(T)}isEmpty(b){return!this.behaviors[b]||_.isEmpty(this.helpers[b])}handleKeyDownEvent(b,T,M,V,w){var P,N=this.helpers[b];switch(V){case i.cK.tabKeyCode:var I=this.navigationStrategy;I===u.CategoryFirst||I===u.SeriesOnly?P=N.getNextDataPoint(T,M,w?E.PreviousSeries:E.NextSeries):I===u.SeriesFirst||I===u.CategoryOnly?P=N.getNextDataPoint(T,M,w?E.PreviousCategory:E.NextCategory):r.Y.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case i.cK.leftArrowKeyCode:P=N.getNextDataPoint(T,M,E.PreviousCategory);break;case i.cK.rightArrowKeyCode:P=N.getNextDataPoint(T,M,E.NextCategory);break;case i.cK.upArrowKeyCode:P=N.getNextDataPoint(T,M,N.validateDirection?.(E.NextSeries)??E.NextSeries);break;case i.cK.downArrowKeyCode:P=N.getNextDataPoint(T,M,N.validateDirection?.(E.PreviousSeries)??E.PreviousSeries);break;default:r.Y.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[b].renderFocus(P.element)}}},781578:function(me,j,e){e.d(j,{R:function(){return n}});var r=e(928912),i=e(329332),a=e(446024),t=e(405463),l=e(914137);function g(d,s){var h=(0,l.ip)(d,s);return h?{grid:[{properties:{outlineColor:(0,t.GG)(h.outlineColor),outlineWeight:(0,a.nd)(r.n4.valueOrDefault(h.outlineWeight,l.dy)),gridVertical:(0,a.zM)(h.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.GG)(h.gridColor),gridVerticalWeight:(0,a.nd)(r.n4.valueOrDefault(h.gridVerticalWeight,l.Ph)),gridHorizontal:(0,a.zM)(h.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.GG)(h.gridColor),gridHorizontalWeight:(0,a.nd)(r.n4.valueOrDefault(h.gridHorizontalWeight,l.pM)),rowPadding:(0,a.nd)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeColumnHeaders,l.Kx)),fontColor:(0,t.GG)(h.fontColorHeaders),backColor:(0,t.GG)(h.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeRowHeaders,l.Kz)),fontColor:(0,t.GG)(h.fontColorHeaders),backColor:(0,t.GG)(h.backColorHeaders)}}],values:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeValues,l.FD)),fontColorPrimary:(0,t.GG)(h.fontColorValues1),backColorPrimary:(0,t.GG)(h.backColorValues1),fontColorSecondary:(0,t.GG)(h.fontColorValues2),backColorSecondary:(0,t.GG)(h.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,t.GG)(h.fontColorTotals),backColor:(0,t.GG)(h.backColorTotals),applyToHeaders:(0,a.zM)(!1)}}]}:{}}function n(){return{sectionTitle:(0,i.D)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.NV,presets:{[l.NV]:{name:l.NV,displayName:(0,i.D)("None"),evaluate:d=>g(l.NV,d)},[l.Ul]:{name:l.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:d=>g(l.Ul,d)},[l.F5]:{name:l.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:d=>g(l.F5,d)},[l.b4]:{name:l.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:d=>g(l.b4,d)},[l.nd]:{name:l.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:d=>g(l.nd,d)},[l.XD]:{name:l.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:d=>g(l.XD,d)},[l.ny]:{name:l.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:d=>g(l.ny,d)},[l.$h]:{name:l.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:d=>g(l.$h,d)},[l.cg]:{name:l.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:d=>g(l.cg,d)}}}}},593457:function(me,j,e){e.d(j,{Q:function(){return n}});var r=e(928912),i=e(329332),a=e(446024),t=e(405463),l=e(914137);function g(d,s,h){var o=(0,l.ip)(d,s);if(!o)return{};var v=[{properties:{fontColor:(0,t.GG)(o.fontColorSubtotalsRow),backColor:(0,t.GG)(o.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,t.GG)(o.outlineColor),outlineWeight:(0,a.nd)(r.n4.valueOrDefault(o.outlineWeight,l.dy)),gridVertical:(0,a.zM)(o.gridVerticalEnabledMatrix),gridVerticalColor:(0,t.GG)(o.gridColor),gridVerticalWeight:(0,a.nd)(r.n4.valueOrDefault(o.gridVerticalWeight,l.Ph)),gridHorizontal:(0,a.zM)(o.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,t.GG)(o.gridColor),gridHorizontalWeight:(0,a.nd)(r.n4.valueOrDefault(o.gridHorizontalWeight,l.pM)),rowPadding:(0,a.nd)(o.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeColumnHeaders,l.KB)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeColumnHeaders,l.RZ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(o.fontColorHeaders),backColor:(0,t.GG)(o.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeRowHeaders,l.A8)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeRowHeaders,l.ji)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(o.fontColorHeaders),backColor:(0,t.GG)(o.backColorHeaders),applyAlternation:(0,a.zM)(!0)}}],values:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeValues,l.PY)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeValues,l.i8)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.GG)(o.fontColorValues1),backColorPrimary:(0,t.GG)(o.backColorValues1),fontColorSecondary:(0,t.GG)(o.fontColorValues2),backColorSecondary:(0,t.GG)(o.backColorValues2)}}],subTotals:v,total:[{properties:{fontColor:(0,t.GG)(o.fontColorTotals),backColor:(0,t.GG)(o.backColorTotals),applyToHeaders:(0,a.zM)(!1)}}],rowTotal:[{properties:{fontColor:(0,t.GG)(o.fontColorTotals),backColor:(0,t.GG)(o.backColorTotals),applyToHeaders:(0,a.zM)(!1)}}],columnTotal:[{properties:{fontColor:(0,t.GG)(o.fontColorTotals),backColor:(0,t.GG)(o.backColorTotals),applyToHeaders:(0,a.zM)(!1)}}]}}function n(d){return{sectionTitle:(0,i.D)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.yB,presets:{[l.yB]:{name:l.yB,displayName:(0,i.D)("Default"),evaluate:s=>g(l.yB,s)},[l.NV]:{name:l.NV,displayName:(0,i.D)("None"),evaluate:s=>g(l.NV,s)},[l.Ul]:{name:l.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:s=>g(l.Ul,s)},[l.F5]:{name:l.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>g(l.F5,s)},[l.b4]:{name:l.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>g(l.b4,s),isDeprecated:!0},[l.b]:{name:l.b,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>g(l.b,s)},[l.nd]:{name:l.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>g(l.nd,s)},[l.XD]:{name:l.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>g(l.XD,s)},[l.ny]:{name:l.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>g(l.ny,s)},[l.$h]:{name:l.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:s=>g(l.$h,s)},[l.cg]:{name:l.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:s=>g(l.cg,s)}}}}},418699:function(me,j,e){e.d(j,{S:function(){return n}});var r=e(928912),i=e(329332),a=e(446024),t=e(405463),l=e(914137);function g(d,s){var h=(0,l.ip)(d,s);return h?{grid:[{properties:{outlineColor:(0,t.GG)(h.outlineColor),outlineWeight:(0,a.nd)(r.n4.valueOrDefault(h.outlineWeight,l.dy)),gridVertical:(0,a.zM)(h.gridVerticalEnabledTable),gridVerticalColor:(0,t.GG)(h.gridColor),gridVerticalWeight:(0,a.nd)(r.n4.valueOrDefault(h.gridVerticalWeight,l.Ph)),gridHorizontal:(0,a.zM)(h.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.GG)(h.gridColor),gridHorizontalWeight:(0,a.nd)(r.n4.valueOrDefault(h.gridHorizontalWeight,l.pM)),rowPadding:(0,a.nd)(h.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeColumnHeaders,l.Kx)),fontColor:(0,t.GG)(h.fontColorHeaders),backColor:(0,t.GG)(h.backColorHeaders)}}],values:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeValues,l.FD)),fontColorPrimary:(0,t.GG)(h.fontColorValues1),backColorPrimary:(0,t.GG)(h.backColorValues1),fontColorSecondary:(0,t.GG)(h.fontColorValues2),backColorSecondary:(0,t.GG)(h.backColorValues2)}}],total:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(h.outlineModeTotals,l.RT)),fontColor:(0,t.GG)(h.fontColorTotals),backColor:(0,t.GG)(h.backColorTotals)}}]}:{}}function n(){return{sectionTitle:(0,i.D)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.NV,presets:{[l.NV]:{name:l.NV,displayName:(0,i.D)("None"),evaluate:d=>g(l.NV,d)},[l.Ul]:{name:l.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:d=>g(l.Ul,d)},[l.F5]:{name:l.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:d=>g(l.F5,d)},[l.b4]:{name:l.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:d=>g(l.b4,d)},[l.nd]:{name:l.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:d=>g(l.nd,d)},[l.XD]:{name:l.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:d=>g(l.XD,d)},[l.ny]:{name:l.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:d=>g(l.ny,d)},[l.$h]:{name:l.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:d=>g(l.$h,d)},[l.cg]:{name:l.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:d=>g(l.cg,d)}}}}},692844:function(me,j,e){e.d(j,{f:function(){return n}});var r=e(928912),i=e(329332),a=e(446024),t=e(405463),l=e(914137);function g(d,s,h){var o=(0,l.ip)(d,s);return o?{grid:[{properties:{outline:void 0,outlineColor:(0,t.GG)(o.outlineColor),outlineWeight:(0,a.nd)(r.n4.valueOrDefault(o.outlineWeight,l.dy)),gridVertical:(0,a.zM)(o.gridVerticalEnabledTable),gridVerticalColor:(0,t.GG)(o.gridColor),gridVerticalWeight:(0,a.nd)(r.n4.valueOrDefault(o.gridVerticalWeight,l.Ph)),gridHorizontal:(0,a.zM)(o.gridHorizontalEnabledTable),gridHorizontalColor:(0,t.GG)(o.gridColor),gridHorizontalWeight:(0,a.nd)(r.n4.valueOrDefault(o.gridHorizontalWeight,l.pM)),rowPadding:(0,a.nd)(o.rowPadding)}}],columnHeaders:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeColumnHeaders,l.KB)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeColumnHeaders,l.RZ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(o.fontColorHeaders),backColor:(0,t.GG)(o.backColorHeaders)}}],values:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeValues,l.PY)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeValues,l.i8)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,t.GG)(o.fontColorValues1),backColorPrimary:(0,t.GG)(o.backColorValues1),fontColorSecondary:(0,t.GG)(o.fontColorValues2),backColorSecondary:(0,t.GG)(o.backColorValues2)}}],total:[{properties:{outline:(0,a.Qq)(r.n4.valueOrDefault(o.outlineModeTotals,l.Rr)),outlineStyle:(0,a.nd)(r.n4.valueOrDefault(o.outlineModeTotals,l.QJ)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,t.GG)(o.fontColorTotals),backColor:(0,t.GG)(o.backColorTotals)}}]}:{}}function n(d){return{sectionTitle:(0,i.D)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,i.D)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:l.yB,presets:{[l.yB]:{name:l.yB,displayName:(0,i.D)("Default"),evaluate:s=>g(l.yB,s)},[l.NV]:{name:l.NV,displayName:(0,i.D)("None"),evaluate:s=>g(l.NV,s)},[l.Ul]:{name:l.Ul,displayName:(0,i.D)("Visual_Table_StylePreset_Minimal"),evaluate:s=>g(l.Ul,s)},[l.F5]:{name:l.F5,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeader"),evaluate:s=>g(l.F5,s)},[l.b4]:{name:l.b4,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRows"),evaluate:s=>g(l.b4,s),isDeprecated:!0},[l.b]:{name:l.b,displayName:(0,i.D)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:s=>g(l.b,s)},[l.nd]:{name:l.nd,displayName:(0,i.D)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:s=>g(l.nd,s)},[l.XD]:{name:l.XD,displayName:(0,i.D)("Visual_Table_StylePreset_FlashyRows"),evaluate:s=>g(l.XD,s)},[l.ny]:{name:l.ny,displayName:(0,i.D)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:s=>g(l.ny,s)},[l.$h]:{name:l.$h,displayName:(0,i.D)("Visual_Table_StylePreset_Sparse"),evaluate:s=>g(l.$h,s)},[l.cg]:{name:l.cg,displayName:(0,i.D)("Visual_Table_StylePreset_Condensed"),evaluate:s=>g(l.cg,s)}}}}},914137:function(me,j,e){e.d(j,{$h:function(){return O},A8:function(){return s},F5:function(){return M},FD:function(){return C},KB:function(){return d},Kx:function(){return t},Kz:function(){return m},NV:function(){return D},PY:function(){return o},Ph:function(){return n},QJ:function(){return S},RT:function(){return y},RZ:function(){return l},Rr:function(){return h},Ul:function(){return T},XD:function(){return N},b:function(){return w},b4:function(){return V},cg:function(){return R},dy:function(){return v},i8:function(){return u},ip:function(){return W},ji:function(){return p},nd:function(){return P},ny:function(){return I},pM:function(){return g},yB:function(){return b}});var r=e(618644),i=e(785463),a=e(837961),t=a.iK.PropColumnsOutline.defaultValue,l=a.iK.PropColumnsOutlineStyle.defaultValue,g=a.iK.PropGridHorizontalWeight.defaultValue,n=a.iK.PropGridVerticalWeight.defaultValue,d=a.iK.PropColumnsNewVisualOutline.defaultValue,s=a.iK.PropRowsPivotTableOutline.defaultValue,h=a.iK.PropTotalTableExOutline.defaultValue,o=a.iK.PropValuesNewVisualOutline.defaultValue,v=a.iK.PropGridOutlineWeight.defaultValue,m=a.iK.PropRowsOutline.defaultValue,p=a.iK.PropRowsOutlineStyle.defaultValue,y=a.iK.PropTotalOutline.defaultValue,S=a.iK.PropTotalOutlineStyle.defaultValue,C=a.iK.PropValuesOutline.defaultValue,u=a.iK.PropValuesOutlineStyle.defaultValue,E=0,c=3,f=6,D="None",b="Default",T="Minimal",M="BoldHeader",V="AlternatingRows",w="AlternatingRowsNew",P="ContrastAlternatingRows",N="FlashyRows",I="BoldHeaderFlashyRows",O="Sparse",R="Condensed";function W(F,U){var B=U.colorPalette.background.value,x=U.colorPalette.foreground.value,A=U.colorPalette.tableAccent.value,Y=new a.iK(U);switch(F){case D:return{outlineColor:Y.PropGridOutlineColor.getValue(null),gridColor:Y.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:a.iK.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:a.iK.PropGridVertical.defaultValue,gridHorizontalEnabledTable:a.iK.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:a.iK.PropGridHorizontalMatrix.defaultValue,rowPadding:a.iK.PropGridRowPadding.defaultValue,fontColorHeaders:Y.PropColumnsFontColor.getValue(null),backColorHeaders:Y.PropColumnsBackColor.getValue(null),fontColorValues1:Y.PropValuesFontColorPrimary.getValue(null),backColorValues1:Y.PropValuesBackColorPrimary.getValue(null),fontColorValues2:Y.PropValuesFontColorSecondary.getValue(null),backColorValues2:Y.PropValuesBackColorSecondary.getValue(null),fontColorTotals:Y.PropTotalFontColor.getValue(null),backColorTotals:Y.PropTotalBackColor.getValue(null)};case b:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.12,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:a.iK.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:a.iK.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:x,backColorHeaders:B,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:(0,r.j$)(x,.08,B),fontColorTotals:void 0,backColorTotals:void 0};case T:return{outlineColor:A,gridColor:(0,r.j$)(x,.12,B),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:c,fontColorHeaders:x,backColorHeaders:B,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:B,fontColorTotals:x,backColorTotals:B};case M:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.12,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:c,backColorHeaders:x,fontColorHeaders:B,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:B,fontColorTotals:x,backColorTotals:B};case V:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.12,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:c,fontColorHeaders:B,backColorHeaders:x,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:(0,r.j$)(x,.08,B),fontColorTotals:B,backColorTotals:x};case w:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.12,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:c,fontColorHeaders:B,backColorHeaders:x,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:(0,r.j$)(x,.08,B),fontColorTotals:B,backColorTotals:x,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case P:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.12,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:c,fontColorHeaders:B,backColorHeaders:x,fontColorValues1:B,backColorValues1:(0,r.j$)(x,.75,B),fontColorValues2:x,backColorValues2:(0,r.j$)(x,.25,B),fontColorTotals:B,backColorTotals:x};case N:return{outlineColor:x=U.colorPalette.foreground.value,gridColor:B=U.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:c,fontColorHeaders:x,backColorHeaders:B,fontColorValues1:x,backColorValues1:(0,r.j$)(A=U.colorPalette.tableAccent.value,.4,B),fontColorValues2:x,backColorValues2:(0,r.j$)(A,.8,B),fontColorTotals:x,backColorTotals:B};case I:return{outlineColor:B=U.colorPalette.background.value,gridColor:B,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:c,fontColorHeaders:B,backColorHeaders:x=U.colorPalette.foreground.value,fontColorValues1:x,backColorValues1:(0,r.j$)(A=U.colorPalette.tableAccent.value,.4,B),fontColorValues2:x,backColorValues2:(0,r.j$)(A,.8,B),fontColorTotals:B,backColorTotals:x};case O:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.2,B=U.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:f,fontColorHeaders:B,backColorHeaders:x,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:B,fontColorTotals:B,backColorTotals:x};case R:return{outlineColor:A=U.colorPalette.tableAccent.value,gridColor:(0,r.j$)(x=U.colorPalette.foreground.value,.2,B=U.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:E,fontColorHeaders:B,backColorHeaders:x,fontColorValues1:x,backColorValues1:B,fontColorValues2:x,backColorValues2:B,fontColorTotals:B,backColorTotals:x};default:return void i.Y.assertFail("Attempt to get Tablix style elements with invalid preset name ["+F+"].")}}},390688:function(me,j,e){e.d(j,{C:function(){return a},i:function(){return i}});var r=e(844839),i=function(t){return t.blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.applyAllSlicers="applyAllSlicers",t.clearAllSlicers="clearAllSlicers",t.spinner="spinner",t}({}),a=(0,r.s)([{value:i.blank,displayName:t=>t.get("ReportAppBar_Blank")},{value:i.leftArrow,displayName:t=>t.get("Generic_LeftArrow")},{value:i.rightArrow,displayName:t=>t.get("Generic_RightArrow")},{value:i.back,displayName:t=>t.get("Generic_Back")},{value:i.reset,displayName:t=>t.get("Reset")},{value:i.help,displayName:t=>t.get("Generic_Help")},{value:i.information,displayName:t=>t.get("ReportAppBar_InfoIcon")},{value:i.qna,displayName:t=>t.get("Generic_Qna")},{value:i.bookmarks,displayName:t=>t.get("Generic_Bookmark")},{value:i.applyAllSlicers,displayName:t=>t.get("ReportAppBar_ApplyAllSlicers")},{value:i.clearAllSlicers,displayName:t=>t.get("ReportAppBar_ClearAllSlicers")},{value:i.custom,displayName:t=>t.get("Custom")},{value:i.spinner,displayName:t=>t.get("Spinner")}])},207286:function(me,j,e){e.d(j,{B:function(){return a},Z:function(){return i}});var r=e(844839),i=function(t){return t.showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t}({}),a=(0,r.s)([{value:i.showTitleOnly,displayName:t=>t.get("Visual_Axis_ShowTitleOnly")},{value:i.showUnitOnly,displayName:t=>t.get("Visual_Axis_ShowUnitOnly")},{value:i.showBoth,displayName:t=>t.get("Visual_Axis_ShowBoth")}])},877811:function(me,j,e){e.d(j,{G:function(){return i},z:function(){return a}});var r=e(844839),i=function(t){return t.scalar="Scalar",t.categorical="Categorical",t.both="Both",t}({}),a=(0,r.s)([{value:i.scalar,displayName:t=>t.get("Visual_Axis_Scalar")},{value:i.categorical,displayName:t=>t.get("Visual_Axis_Categorical")}])},466761:function(me,j,e){e.d(j,{IG:function(){return n},NW:function(){return d},UE:function(){return l},YC:function(){return i},n7:function(){return a},n8:function(){return t},zX:function(){return g}});var r=e(844839),i="rectangle",a="oval",t="line",l="arrow",g="triangle",n="arrowbutton",d=(0,r.s)([{value:i,displayName:s=>s.get("ReportAppBar_ShapeRectangle")},{value:a,displayName:s=>s.get("ReportAppBar_ShapeOval")},{value:t,displayName:s=>s.get("Visual_Shape_Line")},{value:l,displayName:s=>s.get("ReportAppBar_ShapeArrow")},{value:g,displayName:s=>s.get("ReportAppBar_ShapeTriangle")},{value:n,displayName:"arrowbutton"}])},596376:function(me,j,e){e.d(j,{C4:function(){return d},CM:function(){return l},Fl:function(){return i},NW:function(){return s},d8:function(){return a},hF:function(){return t},j7:function(){return h},j8:function(){return g},zQ:function(){return n}});var r=e(844839),i="aerial",a="canvasDark",t="canvasLight",l="grayscale",g="road",n=g,d=a,s=(0,r.s)([{value:i,displayName:o=>o.get("Visual_MapThemeAerial")},{value:a,displayName:o=>o.get("Visual_MapThemeDark")},{value:t,displayName:o=>o.get("Visual_MapThemeLight")},{value:l,displayName:o=>o.get("Visual_MapThemeGrayScale")},{value:g,displayName:o=>o.get("Visual_MapThemeRoad")}]);function h(o){return o===i||o===a}},229353:function(me,j,e){e.d(j,{K3:function(){return l},L2:function(){return a},NW:function(){return n},We:function(){return t},ZY:function(){return g}});var r=e(844839),i="pixels",a="meters",t=i,l=200,g=4e6,n=(0,r.s)([{value:i,displayName:d=>d.get("Generic_Pixels")},{value:a,displayName:d=>d.get("Visual_MapUnitMeters")}])},485697:function(me,j,e){e.d(j,{O:function(){return a},U:function(){return i}});var r=e(844839),i=function(t){return t.Top="Top",t.Bottom="Bottom",t.TopAndBottom="TopAndBottom",t}({}),a=(0,r.s)([{value:i.Top,displayName:t=>t.get("Top")},{value:i.Bottom,displayName:t=>t.get("Bottom")},{value:i.TopAndBottom,displayName:t=>t.get("Top_And_Bottom")}])},214095:function(me,j,e){e.d(j,{q:function(){return i},r:function(){return a}});var r=e(844839),i=function(t){return t.below="below",t.right="right",t}({}),a=(0,r.s)([{value:i.below,displayName:t=>t.get("Visual_CallOutRelative_Below")},{value:i.right,displayName:t=>t.get("Visual_CallOutRelative_Right")}])},473839:function(me,j,e){e.d(j,{N:function(){return a},y:function(){return i}});var r=e(844839),i=function(t){return t.BelowValue="belowValue",t.AboveValue="aboveValue",t}({}),a=(0,r.s)([{value:i.BelowValue,displayName:t=>t.get("CardVisualPositioning_BelowValue")},{value:i.AboveValue,displayName:t=>t.get("CardVisualPositioning_AboveValue")}])},91448:function(me,j,e){e.d(j,{Kl:function(){return a},Us:function(){return t},fW:function(){return i}});var r=e(844839),i=function(l){return l.fill="fill",l.line="line",l.fillLine="fillLine",l}({}),a=(0,r.s)([{value:i.fill,displayName:l=>l.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:l=>l.get("Visual_Confidence_Band_Style_Line")},{value:"none",displayName:l=>l.get("None")}]),t=(0,r.s)([{value:i.fill,displayName:l=>l.get("Visual_Confidence_Band_Style_Fill")},{value:i.line,displayName:l=>l.get("Visual_Confidence_Band_Style_Line")},{value:i.fillLine,displayName:l=>l.get("Visual_Confidence_Band_Style_LineFill")}])},149872:function(me,j,e){e.d(j,{IM:function(){return t},Ie:function(){return i},w5:function(){return a}});var r=e(844839),i="custom",a="fieldName",t=(0,r.s)([{value:i,displayName:l=>l.get("Custom")},{value:a,displayName:l=>l.get("StreamingDataflow_FieldName")}])},903342:function(me,j,e){e.d(j,{P:function(){return a},p:function(){return i}});var r=e(844839),i=function(t){return t.Percent="Percent of total",t.Custom="Custom",t}({}),a=(0,r.s)([{value:i.Percent,displayName:t=>t.get("Visual_LabelStyle_Percent")},{value:i.Custom,displayName:t=>t.get("Custom")}])},785659:function(me,j,e){e.d(j,{N:function(){return i}});var i=(0,e(844839).s)([{value:0,displayName:a=>a.get("DisplayUnitSystem_EAuto_Title")},{value:1,displayName:a=>a.get("DisplayUnitSystem_E0_Title")},{value:1e3,displayName:a=>a.get("DisplayUnitSystem_E3_Title")},{value:1e6,displayName:a=>a.get("DisplayUnitSystem_E6_Title")},{value:1e9,displayName:a=>a.get("DisplayUnitSystem_E9_Title")},{value:1e12,displayName:a=>a.get("DisplayUnitSystem_E12_Title")},{value:-1,displayName:a=>a.get("Custom")}])},629780:function(me,j,e){e.d(j,{NW:function(){return l},on:function(){return a},qZ:function(){return i}});var r=e(844839),i="auto",a="on",l=(0,r.s)([{value:i,displayName:g=>g.get("Visual_Auto")},{value:a,displayName:g=>g.get("ToggleSwitchOn")},{value:"off",displayName:g=>g.get("ToggleSwitchOff")}])},465843:function(me,j,e){e.d(j,{NW:function(){return g},c_:function(){return t},dJ:function(){return l},nx:function(){return a},qY:function(){return i}});var r=e(844839),i="outside",a="inside",t="preferOutside",l="preferInside",g=(0,r.s)([{value:i,displayName:n=>n.get("Visual_DonutLabelPosition_Outside")},{value:a,displayName:n=>n.get("Visual_DonutLabelPosition_Inside")},{value:t,displayName:n=>n.get("Visual_DonutLabelPosition_PreferOutside")},{value:l,displayName:n=>n.get("Visual_DonutLabelPosition_PreferInside")}])},887833:function(me,j,e){e.d(j,{G:function(){return i},O:function(){return a}});var r=e(844839),i=function(t){return t.absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.range="range",t}({}),a=(0,r.s)([{value:i.absolute,displayName:t=>t.get("Visual_Absolute")},{value:i.relativeNumeric,displayName:t=>t.get("Visual_RelativeNumeric")},{value:i.relativePercentage,displayName:t=>t.get("Visual_RelativePercentage")},{value:i.range,displayName:t=>t.get("Visual_Axis_Range")}])},485033:function(me,j,e){e.d(j,{$S:function(){return n},FS:function(){return l},NW:function(){return o},QT:function(){return s},RW:function(){return t},Vb:function(){return h},a3:function(){return d},ir:function(){return a},p:function(){return g}});var r=e(844839),a=4,t=8,l=function(v){return v[v.data=2]="data",v[v.percentOfFirst=a]="percentOfFirst",v[v.percentOfPrevious=t]="percentOfPrevious",v[v.dataAndPercentOfFirst=2|a]="dataAndPercentOfFirst",v[v.dataAndPercentOfPrevious=2|t]="dataAndPercentOfPrevious",v}({}),g="Data",n="Percent of first",d="Percent of previous",s="Data, percent of first",h="Data, percent of previous",o=(0,r.s)([{value:g,displayName:v=>v.get("Visual_LabelStyle_DataValue")},{value:n,displayName:v=>v.get("Funnel_PercentOfFirst")},{value:d,displayName:v=>v.get("Funnel_PercentOfPrevious")},{value:s,displayName:v=>v.get("Visual_LabelStyle_DataAndPercentOfFirst")},{value:h,displayName:v=>v.get("Visual_LabelStyle_DataAndPercentOfPrevious")}])},473453:function(me,j,e){e.d(j,{NW:function(){return c},_g:function(){return i},sW:function(){return u},wD:function(){return E},yB:function(){return a}});var r=e(844839),i={v1_0:"1.0",v2_0:"2.0"},a="",t="de-de",l="en-GB",g="en-US",n="es-ES",d="fr-FR",s="it-it",v="nl-BE",m="pt-BR",y="zh-Hans",S="zh-Hant",C=[{value:a,version:i.v1_0},{value:t,version:i.v2_0},{value:l,version:i.v2_0},{value:g,version:i.v2_0},{value:n,version:i.v2_0},{value:d,version:i.v2_0},{value:s,version:i.v2_0},{value:"ja",version:i.v1_0},{value:"ko",version:i.v2_0},{value:v,version:i.v2_0},{value:m,version:i.v2_0},{value:"ru",version:i.v2_0},{value:y,version:i.v2_0},{value:S,version:i.v2_0}];function u(f){return _.findIndex(C,D=>D.value===f)>=0}function E(f,D){var b=_.find(C,T=>T.value===f);return!!b&&b.version===D}var c=(0,r.s)([{value:a,displayName:f=>f.get("Visual_Auto")},{value:t,displayName:f=>f.get("Visual_MapGeocodingCulture_DE")},{value:l,displayName:f=>f.get("Visual_MapGeocodingCulture_ENGB")},{value:g,displayName:f=>f.get("Visual_MapGeocodingCulture_ENUS")},{value:n,displayName:f=>f.get("Visual_MapGeocodingCulture_ES")},{value:d,displayName:f=>f.get("Visual_MapGeocodingCulture_FR")},{value:s,displayName:f=>f.get("Visual_MapGeocodingCulture_IT")},{value:"ja",displayName:f=>f.get("Visual_MapGeocodingCulture_JA")},{value:"ko",displayName:f=>f.get("Visual_MapGeocodingCulture_KO")},{value:v,displayName:f=>f.get("Visual_MapGeocodingCulture_NL")},{value:m,displayName:f=>f.get("Visual_MapGeocodingCulture_PT")},{value:"ru",displayName:f=>f.get("Visual_MapGeocodingCulture_RU")},{value:y,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHS")},{value:S,displayName:f=>f.get("Visual_MapGeocodingCulture_ZHT")}])},453576:function(me,j,e){e.d(j,{V:function(){return i},X:function(){return a}});var r=e(844839),i=function(t){return t.inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t}({}),a=(0,r.s)([{value:i.all,displayName:t=>t.get("All"),icon:{glyph:"border-all"}},{value:i.inner,displayName:t=>t.get("Border_Grid_Line_Type_Inner"),icon:{glyph:"border-inside"}},{value:i.innerHorizontal,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Horizontal"),icon:{glyph:"border-inside-horizontal"}},{value:i.innerVertical,displayName:t=>t.get("Border_Grid_Line_Type_Inner_Vertical"),icon:{glyph:"border-inside-vertical"}}])},356013:function(me,j,e){e.d(j,{q:function(){return i}});var r=e(844839),i=function(t){return t.left="left",t.center="center",t.right="right",t}({});(0,r.s)([{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},935048:function(me,j,e){e.d(j,{G1:function(){return l},Gz:function(){return g},Ie:function(){return i},NW:function(){return n},kb:function(){return a},pG:function(){return t}});var r=e(844839),i="custom",a="left",t="right",l="above",g="below",n=(0,r.s)([{value:i,displayName:d=>d.get("Custom")},{value:a,displayName:d=>d.get("Visual_IconPlacement_Left")},{value:t,displayName:d=>d.get("Visual_IconPlacement_Right")},{value:l,displayName:d=>d.get("Visual_IconPlacement_Above")},{value:g,displayName:d=>d.get("Visual_IconPlacement_Below")}])},187544:function(me,j,e){e.d(j,{K:function(){return a},h:function(){return i}});var r=e(844839),i=function(t){return t.normal="Normal",t.fit="Fit",t.fill="Fill",t}({}),a=(0,r.s)([{value:i.normal,displayName:t=>t.get("Normal")},{value:i.fit,displayName:t=>t.get("Visual_ImageScalingType_Fit")},{value:i.fill,displayName:t=>t.get("Visual_ImageScalingType_Fill")}])},381357:function(me,j,e){e.d(j,{H:function(){return a},y:function(){return i}});var r=e(844839),i=function(t){return t.image="image",t.imageUrl="imageUrl",t}({}),a=(0,r.s)([{value:i.image,displayName:t=>t.get("Image")},{value:i.imageUrl,displayName:t=>t.get("Image_Url")}])},213550:function(me,j,e){e.d(j,{AG:function(){return a},NW:function(){return t},oh:function(){return i}});var r=e(844839),i="keyInfluencers",a="topProfiles",t=(0,r.s)([{value:i,displayName:()=>"keyInfluencers"},{value:a,displayName:()=>"topProfiles"}])},384753:function(me,j,e){e.d(j,{NW:function(){return t},V8:function(){return a},ys:function(){return i}});var r=e(844839),i="absolute",a="relative",t=(0,r.s)([{value:i,displayName:l=>l.get("Visual_Absolute")},{value:a,displayName:l=>l.get("Visual_Relative")}])},153351:function(me,j,e){e.d(j,{NW:function(){return t},Yw:function(){return i},tf:function(){return a}});var r=e(844839),i="Continuous",a="Categorical",t=(0,r.s)([{value:i,displayName:l=>l.get("Visual_Axis_Scalar")},{value:a,displayName:l=>l.get("Visual_Axis_Categorical")}])},623132:function(me,j,e){e.d(j,{NW:function(){return t},U9:function(){return a},Vb:function(){return i}});var r=e(844839),i="impact",a="count",t=(0,r.s)([{value:i,displayName:l=>l.get("KeyDriver_SortType_Impact")},{value:a,displayName:l=>l.get("KeyDriver_SortType_Count")}])},796424:function(me,j,e){e.d(j,{NW:function(){return t},gu:function(){return a},yj:function(){return i}});var r=e(844839),i="High is good",a="Low is good",t=(0,r.s)([{value:i,displayName:l=>l.get("Visual_KPI_DistanceDirection_Positive")},{value:a,displayName:l=>l.get("Visual_KPI_DistanceDirection_Negative")}])},606119:function(me,j,e){e.d(j,{KN:function(){return a},NW:function(){return l},Uq:function(){return i},WP:function(){return t}});var r=e(844839),i="Value",a="Percent",t="Value, percent",l=(0,r.s)([{value:i,displayName:g=>g.get("Visual_LabelText_Value")},{value:a,displayName:g=>g.get("ConditionalFormattingDialog_Percent")},{value:t,displayName:g=>g.get("Visual_LabelStyle_Both")}])},363051:function(me,j,e){e.d(j,{NW:function(){return t},gu:function(){return a},yj:function(){return i}});var r=e(844839),i="Positive",a="Negative",t=(0,r.s)([{value:i,displayName:l=>l.get("Visual_KPI_Direction_Positive")},{value:a,displayName:l=>l.get("Visual_KPI_Direction_Negative")}])},808084:function(me,j,e){e.d(j,{P:function(){return i},Y:function(){return a}});var r=e(844839),i=function(t){return t.rows="rows",t.columns="columns",t}({}),a=(0,r.s)([{value:i.rows,displayName:t=>t.get("Small_Multiples_Layout_Rows")},{value:i.columns,displayName:t=>t.get("Small_Multiples_Layout_Columns")}])},705247:function(me,j,e){e.d(j,{c:function(){return i},e:function(){return a}});var r=e(844839),i=function(t){return t.MultiLine="MultiLine",t.SingleLine="SingleLine",t}({}),a=(0,r.s)([{value:i.MultiLine,displayName:t=>t.get("Visual_LabelContentLayout_MultiLine")},{value:i.SingleLine,displayName:t=>t.get("Visual_LabelContentLayout_SingleLine")}])},912791:function(me,j,e){e.d(j,{e:function(){return i},u:function(){return a}});var r=e(844839),i=function(t){return t.sentence="sentence",t.tabular="tabular",t}({}),a=(0,r.s)([{value:i.sentence,displayName:t=>t.get("Visual_LabelLayout_Sentence")},{value:i.tabular,displayName:t=>t.get("Visual_Tabular")}])},162338:function(me,j,e){e.d(j,{$j:function(){return i},Fk:function(){return t},yy:function(){return a}});var r=e(844839),i=function(l){return l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal",l[l.Rotate90=2]="Rotate90",l[l.Stacked=3]="Stacked",l}({}),a=(0,r.s)([{value:i.Vertical,displayName:l=>l.get("Visual_Rotate270Degree")},{value:i.Horizontal,displayName:l=>l.get("Visual_LabelOrientation_Horizontal")},{value:i.Rotate90,displayName:l=>l.get("Visual_Rotate90Degree")},{value:i.Stacked,displayName:l=>l.get("Visual_RotateStacked")}]),t=(0,r.s)([{value:i.Vertical,displayName:l=>l.get("Visual_LabelOrientation_Vertical")},{value:i.Horizontal,displayName:l=>l.get("Visual_LabelOrientation_Horizontal")}])},962294:function(me,j,e){e.d(j,{G:function(){return i},O:function(){return a}});var r=e(844839),i=function(t){return t.auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t}({}),a=(0,r.s)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.insideEnd,displayName:t=>t.get("Visual_LabelPosition_InsideEnd")},{value:i.outsideEnd,displayName:t=>t.get("Visual_LabelPosition_OutsideEnd")},{value:i.insideCenter,displayName:t=>t.get("Visual_LabelPosition_InsideCenter")},{value:i.insideBase,displayName:t=>t.get("Visual_LabelPosition_InsideBase")},{value:i.above,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Above")},{value:i.under,displayName:t=>t.get("Visual_Reference_Line_Data_Label_Under")}])},303787:function(me,j,e){e.d(j,{W:function(){return i},s:function(){return a}});var r=e(844839),i=function(t){return t.left="Left",t.right="Right",t}({}),a=(0,r.s)([{value:i.left,displayName:t=>t.get("Visual_yAxis_Left")},{value:i.right,displayName:t=>t.get("Visual_yAxis_Right")}])},707897:function(me,j,e){e.d(j,{EO:function(){return s},FS:function(){return l},KN:function(){return d},L1:function(){return g},NW:function(){return m},QL:function(){return a},T4:function(){return o},UF:function(){return v},p:function(){return n},vL:function(){return t},xF:function(){return h},yO:function(){return i}});var r=e(844839),i=2,a=4,t=8,l=function(p){return p[p.category=i]="category",p[p.data=a]="data",p[p.percent=t]="percent",p[p.categoryAndData=i|a]="categoryAndData",p[p.categoryAndPercent=i|t]="categoryAndPercent",p[p.dataAndPercent=a|t]="dataAndPercent",p[p.categoryAndDataAndPercent=i|a|t]="categoryAndDataAndPercent",p}({}),g="Category",n="Data",d="Percent of total",s="Both",h="Category, percent of total",o="Data value, percent of total",v="Category, data value, percent of total",m=(0,r.s)([{value:g,displayName:p=>p.get("Visual_LabelStyle_Category")},{value:n,displayName:p=>p.get("Visual_LabelStyle_DataValue")},{value:d,displayName:p=>p.get("Visual_LabelStyle_Percent")},{value:s,displayName:p=>p.get("Visual_LabelStyle_CategoryAndData")},{value:h,displayName:p=>p.get("Visual_LabelStyle_CategoryAndPercent")},{value:o,displayName:p=>p.get("Visual_LabelStyle_DataAndPercent")},{value:v,displayName:p=>p.get("Visual_LabelStyle_CategoryAndDataAndPercent")}])},347631:function(me,j,e){e.d(j,{N:function(){return a},k:function(){return i}});var r=e(844839),i=function(t){return t.Cards="Cards",t.Table="Table",t}({}),a=(0,r.s)([{value:i.Cards,displayName:t=>t.get("Cards")},{value:i.Table,displayName:t=>t.get("Table_ToolTip")}])},528261:function(me,j,e){e.d(j,{k:function(){return i},u:function(){return a}});var r=e(844839),i=function(t){return t.markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t}({}),a=(0,r.s)([{value:i.markerCircleDefault,displayName:t=>t.get("MarkerCircleDefault")},{value:i.markerOnly,displayName:t=>t.get("Marker")},{value:i.lineOnly,displayName:t=>t.get("Visual_Shape_Line")},{value:i.lineAndMarker,displayName:t=>t.get("Visual_LegendLineAndMarker")}])},247328:function(me,j,e){e.d(j,{DU:function(){return d},HS:function(){return n},PA:function(){return i},fF:function(){return l},jT:function(){return g},kF:function(){return t},vu:function(){return a}});var r=e(844839),i=function(s){return s.Top="Top",s.Bottom="Bottom",s.Left="Left",s.Right="Right",s.TopCenter="TopCenter",s.BottomCenter="BottomCenter",s.LeftCenter="LeftCenter",s.RightCenter="RightCenter",s.TopRight="TopRight",s.BottomRight="BottomRight",s}({}),a=(0,r.s)([{value:i.Top,displayName:s=>s.get("Visual_LabelPosition_TopLeft")},{value:i.TopCenter,displayName:s=>s.get("Visual_LabelPosition_TopCenter")},{value:i.TopRight,displayName:s=>s.get("Visual_LabelPosition_TopRight")},{value:i.Left,displayName:s=>s.get("Visual_LegendPosition_TopLeftStacked")},{value:i.Right,displayName:s=>s.get("Visual_LegendPosition_TopRightStacked")},{value:i.LeftCenter,displayName:s=>s.get("Visual_LegendPosition_LeftCenter")},{value:i.RightCenter,displayName:s=>s.get("Visual_LegendPosition_RightCenter")},{value:i.Bottom,displayName:s=>s.get("Visual_LabelPosition_BottomLeft")},{value:i.BottomCenter,displayName:s=>s.get("Visual_LabelPosition_BottomCenter")},{value:i.BottomRight,displayName:s=>s.get("Visual_LabelPosition_BottomRight")}]),t=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),l=(0,r.s)([{value:t.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")},{value:t.top,displayName:s=>s.get("Top")}]),g=(0,r.s)([{value:t.left,displayName:s=>s.get("Visual_IconPlacement_Left")},{value:t.right,displayName:s=>s.get("Visual_IconPlacement_Right")},{value:t.bottom,displayName:s=>s.get("Visual_IconPlacement_Below")},{value:t.top,displayName:s=>s.get("Visual_IconPlacement_Above")}]),n=function(s){return s.top="Top",s.bottom="Bottom",s.left="Left",s.right="Right",s}({}),d=(0,r.s)([{value:n.left,displayName:s=>s.get("Visual_TextAlignment_Left")},{value:n.top,displayName:s=>s.get("Top")},{value:t.right,displayName:s=>s.get("Visual_TextAlignment_Right")},{value:t.bottom,displayName:s=>s.get("Bottom")}])},798122:function(me,j,e){e.d(j,{JB:function(){return g},TV:function(){return i},ZV:function(){return n},lV:function(){return t},rv:function(){return a},vC:function(){return l}});var r=e(844839),i=function(d){return d.linear="linear",d.step="step",d.smooth="smooth",d}({}),a=(0,r.s)([{value:i.linear,displayName:d=>d.get("Visual_Axis_Linear")},{value:i.smooth,displayName:d=>d.get("Visual_SmoothLine")},{value:i.step,displayName:d=>d.get("Visual_StepLine")}]),t=function(d){return d.center="center",d.before="before",d.after="after",d}({}),l=(0,r.s)([{value:t.before,displayName:d=>d.get("Visual_Before")},{value:t.center,displayName:d=>d.get("Visual_Gradient_MidColor")},{value:t.after,displayName:d=>d.get("Visual_After")}]),g=function(d){return d.monotoneX="monotoneX",d.cardinal="cardinal",d}({}),n=(0,r.s)([{value:g.monotoneX,displayName:d=>d.get("Visual_LineInterp_Monotone")},{value:g.cardinal,displayName:d=>d.get("Visual_LineInterp_Cardinal")}])},207810:function(me,j,e){e.d(j,{O:function(){return a},n:function(){return i}});var r=e(844839),i=function(t){return t.Flat="flat",t.Round="round",t}({}),a=(0,r.s)([{value:i.Flat,displayName:t=>t.get("Visual_StrokeCap_Flat")},{value:i.Round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")}])},550995:function(me,j,e){e.d(j,{U1:function(){return a},c3:function(){return i},hQ:function(){return t}});var r=e(844839),i=function(l){return l.magnitude="magnitude",l.dataRange="dataRange",l.auto="auto",l.deprecated="scatterDeprecated",l}({}),a=[{value:i.magnitude,displayName:l=>l.get("Visual_MarkerRangeType_Magnitude")},{value:i.dataRange,displayName:l=>l.get("Visual_MarkerRangeType_DataRange")},{value:i.auto,displayName:l=>l.get("Visual_Auto")}],t=(0,r.s)(a)},653719:function(me,j,e){e.d(j,{M7:function(){return n},N0:function(){return s},R:function(){return g},_Q:function(){return l},d_:function(){return h},hU:function(){return i},n:function(){return d}});var r=e(844839),i=function(o){return o.circle="circle",o.square="square",o.diamond="diamond",o.triangle="triangle",o.droplet="droplet",o}({}),a=function(o){return o.x="x",o.shortDash="shortDash",o.longDash="longDash",o.plus="plus",o}({}),t=function(o){return o.upperErrorBar="upperErrorBar",o.lowerErrorBar="lowerErrorBar",o}({}),l={...i,...a,...t};function g(o){switch(o){case l.circle:case l.square:case l.diamond:case l.triangle:case l.droplet:return!0;default:return!1}}function n(o){return o!==l.circle}var d=[{value:l.circle,displayName:o=>o.get("Visual_MarkerShape_Circle"),label:o=>o.get("Visual_MarkerShape_Circle_Label")},{value:l.square,displayName:o=>o.get("Visual_MarkerShape_Square"),label:o=>o.get("Visual_MarkerShape_Square_Label")},{value:l.diamond,displayName:o=>o.get("Visual_MarkerShape_Diamond"),label:o=>o.get("Visual_MarkerShape_Diamond_Label")},{value:l.triangle,displayName:o=>o.get("Visual_MarkerShape_Triangle"),label:o=>o.get("Visual_MarkerShape_Triangle_Label")},{value:l.x,displayName:o=>o.get("Visual_MarkerShape_X"),label:o=>o.get("Visual_MarkerShape_X_Label")},{value:l.shortDash,displayName:o=>o.get("Visual_MarkerShape_ShortDash"),label:o=>o.get("Visual_MarkerShape_ShortDash_Label")},{value:l.longDash,displayName:o=>o.get("Visual_MarkerShape_LongDash"),label:o=>o.get("Visual_MarkerShape_LongDash_Label")},{value:l.plus,displayName:o=>o.get("Visual_MarkerShape_Plus"),label:o=>o.get("Visual_MarkerShape_Plus_Label")}],s=(0,r.s)([{value:l.circle,displayName:o=>o.get("Visual_MarkerShape_Circle"),label:o=>o.get("Visual_MarkerShape_Circle_Label")},{value:l.square,displayName:o=>o.get("Visual_MarkerShape_Square"),label:o=>o.get("Visual_MarkerShape_Square_Label")},{value:l.diamond,displayName:o=>o.get("Visual_MarkerShape_Diamond"),label:o=>o.get("Visual_MarkerShape_Diamond_Label")},{value:l.triangle,displayName:o=>o.get("Visual_MarkerShape_Triangle"),label:o=>o.get("Visual_MarkerShape_Triangle_Label")},{value:l.droplet,displayName:o=>o.get("Visual_MarkerShape_Droplet")}]),h=(0,r.s)(d)},599003:function(me,j,e){e.d(j,{H0:function(){return t},u6:function(){return i},wl:function(){return a}});var r=e(844839),i=function(l){return l[l.Grid=0]="Grid",l[l.Vertical=1]="Vertical",l[l.Horizontal=2]="Horizontal",l}({}),a=(0,r.s)([{value:i.Grid,displayName:l=>l.get("Visual_Grid")},{value:i.Vertical,displayName:l=>l.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:l=>l.get("Slicer_Orientation_Horizontal")}]),t=(0,r.s)([{value:i.Vertical,displayName:l=>l.get("Visual_Arrangement_Column")},{value:i.Horizontal,displayName:l=>l.get("Visual_Arrangement_Row")},{value:i.Grid,displayName:l=>l.get("Visual_Grid")}])},680626:function(me,j,e){e.d(j,{$O:function(){return d},A8:function(){return v},G7:function(){return l},Gt:function(){return h},JL:function(){return i},M4:function(){return g},NW:function(){return S},Nx:function(){return y},Rh:function(){return m},U0:function(){return s},Vf:function(){return o},X_:function(){return n},dv:function(){return a},nh:function(){return p},yk:function(){return t}});var r=e(844839),i=function(C){return C[C.Nil=0]="Nil",C[C.Top=1]="Top",C[C.Right=2]="Right",C[C.Bottom=4]="Bottom",C[C.Left=8]="Left",C}({}),a="None",t="BottomOnly",l="TopOnly",g="LeftOnly",n="RightOnly",d="TopBottom",s="LeftRight",h="Frame";function o(C){return"number"==typeof C?!!(C&i.Top):[l,d,h].some(u=>u===C)}function v(C){return"number"==typeof C?!!(C&i.Right):[n,s,h].some(u=>u===C)}function m(C){return"number"==typeof C?!!(C&i.Bottom):[t,d,h].some(u=>u===C)}function p(C){return"number"==typeof C?!!(C&i.Left):[g,s,h].some(u=>u===C)}var y=(0,r.s)([{value:i.Top,displayName:C=>C.get("Top")},{value:i.Bottom,displayName:C=>C.get("Bottom")},{value:i.Left,displayName:C=>C.get("Visual_TextAlignment_Left")},{value:i.Right,displayName:C=>C.get("Visual_TextAlignment_Right")}]),S=(0,r.s)([{value:a,displayName:C=>C.get("None")},{value:t,displayName:C=>C.get("Visual_Outline_bottom_only")},{value:l,displayName:C=>C.get("Visual_Outline_top_only")},{value:g,displayName:C=>C.get("Visual_Outline_LeftOnly")},{value:n,displayName:C=>C.get("Visual_Outline_RightOnly")},{value:d,displayName:C=>C.get("Visual_Outline_top_Bottom")},{value:s,displayName:C=>C.get("Visual_Outline_leftRight")},{value:h,displayName:C=>C.get("Visual_Outline_frame")}])},596515:function(me,j,e){e.d(j,{N:function(){return a},Y:function(){return i}});var r=e(844839),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),a=(0,r.s)([{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},294223:function(me,j,e){e.d(j,{N:function(){return a},S:function(){return i}});var r=e(844839),i=function(t){return t[t.Paginated=0]="Paginated",t[t.Scroll=1]="Scroll",t}({}),a=(0,r.s)([{value:i.Paginated,displayName:t=>t.get("Visual_Paginated")},{value:i.Scroll,displayName:t=>t.get("Visual_Scroll")}])},604763:function(me,j,e){e.d(j,{Ie:function(){return l},NW:function(){return s},Nd:function(){return g},Pu:function(){return n},Ts:function(){return d},U:function(){return i},qb:function(){return a},sc:function(){return t}});var r=e(844839),i="Wide",a="Normal",t="Narrow",l="Custom",g=6,n=12,d=20,s=(0,r.s)([{value:i,displayName:h=>h.get("Wide")},{value:a,displayName:h=>h.get("Normal")},{value:t,displayName:h=>h.get("Narrow")},{value:l,displayName:h=>h.get("Custom")}])},471740:function(me,j,e){e.d(j,{$:function(){return i},R:function(){return a}});var r=e(844839),i=function(t){return t.Compact="Compact",t.Outline="Outline",t.Tabular="Tabular",t}({}),a=(0,r.s)([{value:i.Compact,displayName:t=>t.get("Visual_Compact")},{value:i.Outline,displayName:t=>t.get("Visual_Outline")},{value:i.Tabular,displayName:t=>t.get("Visual_Tabular")}])},105845:function(me,j,e){e.d(j,{A:function(){return a},h:function(){return i}});var r=e(844839),i=function(t){return t.value="Value",t.name="Name",t.nameAndValue="ValueAndName",t}({}),a=(0,r.s)([{value:i.value,displayName:t=>t.get("Visual_LabelStyle_DataValue")},{value:i.name,displayName:t=>t.get("Name")},{value:i.nameAndValue,displayName:t=>t.get("Visual_LabelStyle_Both")}])},796048:function(me,j,e){e.d(j,{A2:function(){return d},A5:function(){return a},FJ:function(){return l},Fh:function(){return s},Ib:function(){return n},Kh:function(){return t},SX:function(){return i},al:function(){return g}});var r=e(844839),i=function(h){return h.back="back",h.front="front",h}({}),a=function(h){return h.left="left",h.right="right",h}({}),t=function(h){return h.above="above",h.under="under",h}({}),l=function(h){return h.before="before",h.after="after",h.none="none",h}({}),g=(0,r.s)([{value:i.back,displayName:h=>h.get("Visual_Reference_Line_Behind")},{value:i.front,displayName:h=>h.get("Visual_Reference_Line_InFront")}]),n=(0,r.s)([{value:a.left,displayName:h=>h.get("Visual_Reference_Line_Data_Label_Left")},{value:a.right,displayName:h=>h.get("Visual_Reference_Line_Data_Label_Right")}]),d=(0,r.s)([{value:t.above,displayName:h=>h.get("Visual_Reference_Line_Data_Label_Above")},{value:t.under,displayName:h=>h.get("Visual_Reference_Line_Data_Label_Under")}]),s=(0,r.s)([{value:l.before,displayName:h=>h.get("Visual_Before")},{value:l.after,displayName:h=>h.get("Visual_After")},{value:l.none,displayName:h=>h.get("None")}])},895551:function(me,j,e){e.d(j,{AL:function(){return v},Fm:function(){return S},Gx:function(){return g},QM:function(){return s},US:function(){return o},VS:function(){return m},YJ:function(){return h},_3:function(){return d},c$:function(){return n},dI:function(){return E},dv:function(){return t},f9:function(){return y},l5:function(){return p},w_:function(){return C},zt:function(){return u}});var r=e(785463),i=e(739549),a=e(844839),t="None",l="Seconds",g="Minutes",n="Hours",d="Days",s="Weeks",h="Calendar Weeks",o="Months",v="Calendar Months",m="Years",p="Calendar Years",y=(0,a.s)([{value:t,displayName:c=>c.get("Select")},{value:d,displayName:c=>c.get("TimeUnit_Days")},{value:s,displayName:c=>c.get("TimeUnit_Weeks")},{value:h,displayName:c=>c.get("Visual_SlicerPeriod_CalWeeks")},{value:o,displayName:c=>c.get("TimeUnit_Months")},{value:v,displayName:c=>c.get("Visual_SlicerPeriod_CalMonths")},{value:m,displayName:c=>c.get("TimeUnit_Years")},{value:p,displayName:c=>c.get("Visual_SlicerPeriod_CalYears")}]),S=(0,a.s)([{value:t,displayName:c=>c.get("Select")},{value:g,displayName:c=>c.get("TimeUnit_Minutes")},{value:n,displayName:c=>c.get("TimeUnit_Hours")}]),C=(0,a.s)([{value:t,displayName:c=>c.get("Select")},{value:d,displayName:c=>c.get("TimeUnit_Day")},{value:s,displayName:c=>c.get("TimeUnit_Week")},{value:o,displayName:c=>c.get("TimeUnit_Month")},{value:m,displayName:c=>c.get("TimeUnit_Year")}]),u=(0,a.s)([{value:t,displayName:c=>c.get("Select")},{value:g,displayName:c=>c.get("TimeUnit_Minute")},{value:n,displayName:c=>c.get("TimeUnit_Hour")}]);function E(c){if(null==c)return null;switch(c){case i.VR.Second:return l;case i.VR.Minute:return g;case i.VR.Hour:return n;case i.VR.Day:return d;case i.VR.Week:return s;case i.VR.CalendarWeek:return h;case i.VR.Month:return o;case i.VR.CalendarMonth:return v;case i.VR.Year:return m;case i.VR.CalendarYear:return p;default:return void r.Y.assertNever(c)}}},632900:function(me,j,e){e.d(j,{HV:function(){return t},K2:function(){return l},NW:function(){return n},dI:function(){return d},ss:function(){return g}});var r=e(785463),i=e(739549),a=e(844839),t="Last",l="Next",g="This",n=(0,a.s)([{value:t,displayName:s=>s.get("Visual_SlicerRange_Last")},{value:l,displayName:s=>s.get("Visual_SlicerRange_Next")},{value:g,displayName:s=>s.get("Visual_SlicerRange_This")}]);function d(s){if(null==s)return null;switch(s){case i.Bn.Last:return t;case i.Bn.Current:return g;case i.Bn.Next:return l;default:return void r.Y.assertNever(s)}}},254595:function(me,j,e){e.d(j,{Mn:function(){return i},NW:function(){return t},sQ:function(){return a}});var r=e(844839),i="Top",a="Bottom",t=(0,r.s)([{value:i,displayName:l=>l.get("Top")},{value:a,displayName:l=>l.get("Bottom")}])},462807:function(me,j,e){e.d(j,{Dy:function(){return n},L1:function(){return i},NW:function(){return h},Ul:function(){return a},Uq:function(){return l},dU:function(){return g},j0:function(){return s},o$:function(){return d},vX:function(){return t}});var r=e(844839),i="Category",a="Series",t="Tooltips",l="Value",g="albersUsa",n="equirectangular",d="mercator",s="orthographic",h=(0,r.s)([{value:g,displayName:o=>o.get("Visual_ShapeMap_Projection_AlbersUsa")},{value:n,displayName:o=>o.get("Visual_ShapeMap_Projection_Equirectangular")},{value:d,displayName:o=>o.get("Visual_ShapeMap_Projection_Mercator")},{value:s,displayName:o=>o.get("Visual_ShapeMap_Projection_Orthographic")}])},39473:function(me,j,e){e.d(j,{N:function(){return a},c:function(){return i}});var r=e(844839),i=function(t){return t.AccentBar="accentBar",t.Arrow="arrow",t.ArrowChevron="arrowChevron",t.ArrowPentagon="arrowPentagon",t.Heart="heart",t.Hexagon="hexagon",t.Line="line",t.Octagon="octagon",t.Oval="oval",t.Parallelogram="parallelogram",t.Pentagon="pentagon",t.Pill="pill",t.Rectangle="rectangle",t.RectangleRounded="rectangleRounded",t.RectangleRoundedByPixel="rectangleRoundedByPixel",t.TabCutCorner="tabCutCorner",t.TabCutTopCorners="tabCutTopCorners",t.TabCutTopCornersByPixel="tabCutTopCornersByPixel",t.TabRoundCorner="tabRoundCorner",t.TabRoundTopCorners="tabRoundTopCorners",t.Speechbubble="speechbubbleRectangle",t.Trapezoid="trapezoid",t.TriangleIsoc="triangleIsoc",t.TriangleRight="triangleRight",t}({}),a=(0,r.s)([{value:i.Arrow,displayName:t=>t.get("ReportAppBar_ShapeArrow")},{value:i.ArrowChevron,displayName:t=>t.get("Visual_Shape_ArrowChevron")},{value:i.ArrowPentagon,displayName:t=>t.get("Visual_Shape_ArrowPentagon")},{value:i.Heart,displayName:t=>t.get("Visual_Shape_Heart")},{value:i.Hexagon,displayName:t=>t.get("Visual_Shape_Hexagon")},{value:i.Line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.Octagon,displayName:t=>t.get("Visual_Shape_Octagon")},{value:i.Oval,displayName:t=>t.get("ReportAppBar_ShapeOval")},{value:i.Parallelogram,displayName:t=>t.get("Visual_Shape_Parallelogram")},{value:i.Pentagon,displayName:t=>t.get("Visual_Shape_Pentagon")},{value:i.Pill,displayName:t=>t.get("Visual_Shape_Pill")},{value:i.Rectangle,displayName:t=>t.get("ReportAppBar_ShapeRectangle")},{value:i.RectangleRounded,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.RectangleRoundedByPixel,displayName:t=>t.get("Visual_Shape_RectangleRounded")},{value:i.TabCutCorner,displayName:t=>t.get("Visual_Shape_TabCutCorner")},{value:i.TabCutTopCorners,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabCutTopCornersByPixel,displayName:t=>t.get("Visual_Shape_TabCutTopCorners")},{value:i.TabRoundCorner,displayName:t=>t.get("Visual_Shape_TabRoundCorner")},{value:i.TabRoundTopCorners,displayName:t=>t.get("Visual_Shape_TabRoundTopCorners")},{value:i.Speechbubble,displayName:t=>t.get("Visual_Shape_SpeechBubble")},{value:i.Trapezoid,displayName:t=>t.get("Visual_Shape_Trapezoid")},{value:i.TriangleIsoc,displayName:t=>t.get("Visual_Shape_TriangleIsoc")},{value:i.TriangleRight,displayName:t=>t.get("Visual_Shape_TriangleRight")}])},353033:function(me,j,e){e.d(j,{N:function(){return a},_:function(){return i}});var r=e(844839),i=function(t){return t[t.Chevron=0]="Chevron",t[t.PlusMinus=1]="PlusMinus",t[t.Caret=2]="Caret",t}({}),a=(0,r.s)([{value:i.Chevron,displayName:t=>t.get("Icon_Chevron")},{value:i.PlusMinus,displayName:t=>t.get("Icon_PlusMinus")},{value:i.Caret,displayName:t=>t.get("Icon_Caret")}])},888193:function(me,j,e){e.d(j,{Bw:function(){return v},EJ:function(){return c},Ep:function(){return S},FF:function(){return m},HX:function(){return n},J0:function(){return h},KW:function(){return o},NW:function(){return p},Nu:function(){return u},Pl:function(){return l},Pp:function(){return s},Tq:function(){return g},VW:function(){return y},Wm:function(){return d},gM:function(){return t},l0:function(){return C},uS:function(){return E}});var r=e(785463),i=e(739549),a=e(844839),t="Before",l="After",g="Between",n="Basic",d="Dropdown",s="Relative",h="Single",o="RelativeTime",v="HorizontalList",m="VerticalList",p=(0,a.s)([{value:m,displayName:f=>f.get("Visual_SliderMode_VerticalList")},{value:v,displayName:f=>f.get("Tile_Generic")},{value:g,displayName:f=>f.get("Visual_SliderMode_Between")},{value:t,displayName:f=>f.get("Visual_Before")},{value:l,displayName:f=>f.get("Visual_After")},{value:n,displayName:f=>f.get("Visual_SliderMode_Basic")},{value:d,displayName:f=>f.get("Visual_SliderMode_Dropdown")},{value:s,displayName:f=>f.get("Visual_SliderMode_RelativeDate")},{value:h,displayName:f=>f.get("Visual_SliderMode_SingleVal")},{value:o,displayName:f=>f.get("Visual_SliderMode_RelativeTime")}]);function y(f){return f===t||f===g||f===l||f===h}function S(f){return f===t||f===g||f===l}function C(f){return f===s||f===o}function u(f){return f===n||f===d}function E(f){return!f||f===d||f===n||f===v||f===m}function c(f){switch(f){case o:return i.Z7.Time;case s:return i.Z7.Date;default:r.Y.assertFail(`The following slicer mode is not a relative filter: ${f}`)}}},177394:function(me,j,e){e.d(j,{N:function(){return a},t:function(){return i}});var r=e(844839),i=function(t){return t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t}({}),a=(0,r.s)([{value:i.Vertical,displayName:t=>t.get("Slicer_Orientation_Vertical")},{value:i.Horizontal,displayName:t=>t.get("Slicer_Orientation_Horizontal")}])},721e3:function(me,j,e){e.d(j,{H:function(){return i},Z:function(){return a}});var r=e(844839),i=function(t){return t.auto="auto",t.custom="custom",t}({}),a=(0,r.s)([{value:i.auto,displayName:t=>t.get("Visual_Auto")},{value:i.custom,displayName:t=>t.get("Custom")}])},845739:function(me,j,e){e.d(j,{Y:function(){return i},j:function(){return a}});var r=e(844839),i=function(t){return t.line="line",t.column="column",t}({}),a=(0,r.s)([{value:i.line,displayName:t=>t.get("Visual_Shape_Line")},{value:i.column,displayName:t=>t.get("Column")}])},210589:function(me,j,e){e.d(j,{I:function(){return i},e:function(){return a}});var r=e(844839),i=function(t){return t[t.all=1]="all",t[t.highest=2]="highest",t[t.lowest=4]="lowest",t[t.first=8]="first",t[t.last=16]="last",t[t.negative=32]="negative",t[t.isolated=128]="isolated",t}({}),a=(0,r.s)([{value:i.all,displayName:t=>t.get("Sparkline_Formatting_MarkerType_All")},{value:i.highest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Highest")},{value:i.lowest,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Lowest")},{value:i.first,displayName:t=>t.get("Sparkline_Formatting_MarkerType_First")},{value:i.last,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Last")},{value:i.negative,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Negative")},{value:i.isolated,displayName:t=>t.get("Sparkline_Formatting_MarkerType_Isolated")}])},535743:function(me,j,e){e.d(j,{KT:function(){return g},NW:function(){return h},ZZ:function(){return i},_O:function(){return s},_g:function(){return a},eY:function(){return l},j9:function(){return n},jr:function(){return t},lc:function(){return d}});var r=e(844839),i="bottomLeft",a="bottomRight",t="rightDown",l="rightUp",g="topRight",n="topLeft",d="leftUp",s="leftDown",h=(0,r.s)([{value:i,displayName:o=>o.get("Visual_LabelPosition_BottomLeft")},{value:a,displayName:o=>o.get("Visual_LabelPosition_BottomRight")},{value:t,displayName:o=>o.get("Visual_Shape_ChatPosition_RightDown")},{value:l,displayName:o=>o.get("Visual_Shape_ChatPosition_RightUp")},{value:g,displayName:o=>o.get("Visual_LabelPosition_TopRight")},{value:n,displayName:o=>o.get("Visual_LabelPosition_TopLeft")},{value:d,displayName:o=>o.get("Visual_Shape_ChatPosition_LeftUp")},{value:s,displayName:o=>o.get("Visual_Shape_ChatPosition_LeftDown")}])},479860:function(me,j,e){e.d(j,{Ag:function(){return m},BK:function(){return t},CX:function(){return y},DE:function(){return i},DL:function(){return v},NW:function(){return S},Ql:function(){return o},_9:function(){return d},e8:function(){return l},ek:function(){return n},kc:function(){return a},lZ:function(){return p},pB:function(){return g},t8:function(){return s},wl:function(){return h}});var r=e(844839),i="australia.states.topo",a="austria.states.topo",t="brazil.states.topo",l="canada.provinces.topo",g="france.regions.v2.topo",n="germany.states.topo",d="ireland.counties.v2.topo",s="italy.regions.topo",h="mexico.states.topo",o="netherlands.provinces.topo",v="uk.countries.topo",m="usa.states.topo",p="france.regions.topo",y="ireland.counties.topo",S=(0,r.s)([{value:i,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_AustraliaStates")},{value:a,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_AustriaStates")},{value:t,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_BrazilStates")},{value:l,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")},{value:g,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_FranceRegions")},{value:p,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")},{value:n,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_GermanyStates")},{value:d,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_IrelandCounties")},{value:y,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")},{value:s,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_ItalyRegions")},{value:h,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_MexicoStates")},{value:o,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")},{value:v,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_UkCountries")},{value:m,displayName:C=>C.get("Visual_ShapeMap_StandardMaps_UsaStates")}])},735016:function(me,j,e){e.d(j,{D:function(){return a},z:function(){return i}});var r=e(844839),i=function(t){return t.miter="miter",t.round="round",t.bevel="bevel",t}({}),a=(0,r.s)([{value:i.miter,displayName:t=>t.get("Visual_StrokeLineJoin_Miter")},{value:i.round,displayName:t=>t.get("Visual_StrokeLineJoin_Round")},{value:i.bevel,displayName:t=>t.get("Visual_StrokeLineJoin_Bevel")}])},374774:function(me,j,e){e.d(j,{FF:function(){return d},Ft:function(){return h},H4:function(){return n},J$:function(){return l},Ng:function(){return a},Rm:function(){return g},Te:function(){return i},WZ:function(){return s}});var r=e(844839),i=function(o){return o.dashed="dashed",o.solid="solid",o.dotted="dotted",o}({}),a=function(o){return o.dashed="dashed",o.solid="solid",o.dotted="dotted",o.custom="custom",o}({}),t={[a.solid]:"Visual_LineStyle_Solid",[a.dashed]:"Visual_LineStyle_Dashed",[a.dotted]:"Visual_LineStyle_Dotted",[a.custom]:"Custom"},l=(0,r.s)([{value:i.solid,displayName:o=>o.get(t.solid)},{value:i.dashed,displayName:o=>o.get(t.dashed)},{value:i.dotted,displayName:o=>o.get(t.dotted)}]),g=(0,r.s)([{value:a.solid,displayName:o=>o.get(t.solid)},{value:a.dashed,displayName:o=>o.get(t.dashed)},{value:a.dotted,displayName:o=>o.get(t.dotted)},{value:a.custom,displayName:o=>o.get(t.custom)}]),n=function(o){return o.none="none",o.round="round",o.square="square",o}({}),d=(0,r.s)([{value:n.none,displayName:o=>o.get("Visual_StrokeCap_Flat")},{value:n.round,displayName:o=>o.get("Visual_StrokeLineJoin_Round")},{value:n.square,displayName:o=>o.get("Visual_StrokeCap_Square")}]),s="5 5 0 5",h=n.round},253172:function(me,j,e){e.d(j,{D:function(){return i},O:function(){return a}});var r=e(844839),i=function(t){return t.auto="Auto",t.left="Left",t.center="Center",t.right="Right",t}({}),a=(0,r.s)([{value:i.auto,displayName:t=>t.get("Visual_TextAlignment_Auto")},{value:i.left,displayName:t=>t.get("Visual_TextAlignment_Left")},{value:i.center,displayName:t=>t.get("Visual_TextAlignment_Center")},{value:i.right,displayName:t=>t.get("Visual_TextAlignment_Right")}])},904649:function(me,j,e){e.d(j,{Q:function(){return i},k:function(){return a}});var r=e(844839),i=function(t){return t.SeriesName="Series name",t.Custom="Custom",t}({}),a=(0,r.s)([{value:i.SeriesName,displayName:t=>t.get("Visual_Label_TitleLabelContent_SeriesName")},{value:i.Custom,displayName:t=>t.get("Custom")}])},92298:function(me,j,e){e.d(j,{RW:function(){return t},di:function(){return a},p$:function(){return l}});var r=e(844839),i=e(785463),a=function(n){return n.Normal="Normal",n.Heading2="Heading2",n.Heading3="Heading3",n.Heading4="Heading4",n.Heading5="Heading5",n.Heading6="Heading6",n}({}),t=(0,r.s)([{value:a.Normal,displayName:n=>n.get("Normal")},{value:a.Heading2,displayName:n=>n.get("Heading_2")},{value:a.Heading3,displayName:n=>n.get("Heading_3")},{value:a.Heading4,displayName:n=>n.get("Heading_4")},{value:a.Heading5,displayName:n=>n.get("Heading_5")},{value:a.Heading6,displayName:n=>n.get("Heading_6")}]);function l(n){switch(n){case a.Normal:return"p";case a.Heading2:return"h2";case a.Heading3:return"h3";case a.Heading4:return"h4";case a.Heading5:return"h5";case a.Heading6:return"h6";default:return i.Y.assertNever(n),"p"}}},210792:function(me,j,e){e.d(j,{b:function(){return i},h:function(){return a}});var r=e(844839),i=function(t){return t.resquarify="stableSquarified",t.squarify="squarified",t.binary="binary",t.alternating="alternating",t.alternating2="alternating2",t}({}),a=(0,r.s)([{value:i.resquarify,displayName:t=>t.get("Visual_Treemap_TilingMethod_Squarified")},{value:i.binary,displayName:t=>t.get("Visual_Treemap_TilingMethod_Binary")},{value:i.alternating,displayName:t=>t.get("Visual_Treemap_TilingMethod_Alternating")}])},918959:function(me,j,e){e.d(j,{G0:function(){return a},WO:function(){return t},sx:function(){return i}});var r=e(844839),i=function(l){return l.top="top",l.middle="middle",l.bottom="bottom",l}({}),a=function(l){return l.top="top",l.bottom="bottom",l}({}),t=(0,r.s)([{value:a.top,displayName:l=>l.get("Top")},{value:a.bottom,displayName:l=>l.get("Bottom")}])},824258:function(me,j,e){e.d(j,{G:function(){return i},J:function(){return r}});var r=(()=>{class a{get code(){return a.code}getMessages(l){return{message:l.get("Visual_Error_SelectionNotShownMessage"),title:l.get("Visual_Error_SelectionNotShownKey"),detail:l.get("Visual_Error_SelectionNotShownValue")}}}return a.code="OnRestoreSelectionNotSupportedWarning",a})();class i{constructor(t,l,g){this.titleKey=l,this.detailKey=g,this._code=t}get code(){return this._code}getMessages(t){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}}}},168330:function(me,j,e){e.d(j,{$Xk:function(){return Qa},E_l:function(){return Oa},GZu:function(){return Pa},I1Z:function(){return Di},JWj:function(){return _i},Jy9:function(){return Fa},LSR:function(){return Ca},PTS:function(){return ri},PTv:function(){return ii},Tof:function(){return Xa},VwN:function(){return S},WAD:function(){return pa},WOF:function(){return La},WXu:function(){return Ba},WmV:function(){return mi},Wpu:function(){return xa},XdG:function(){return Va},a6U:function(){return Na},a7X:function(){return Ei},aRR:function(){return gi},bVV:function(){return Ua},b_K:function(){return Ga},cpo:function(){return St},dMi:function(){return Aa},g6o:function(){return Ce},heU:function(){return Ra},ixK:function(){return ze},jOV:function(){return Ti},pld:function(){return vi},s_E:function(){return Ha},tlE:function(){return Nr},uSy:function(){return Be},vCx:function(){return Ka},vPZ:function(){return Sa},xNm:function(){return za},xh7:function(){return cr},xvF:function(){return Ya},zxO:function(){return yi}});var r=e(212554),S="me",St="Report",ze="Dashboard",Be="NavModel",Ce="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",za="; ",Ra="browserLanguage",xa=function(ni){return ni.EntityAlreadyExists="PowerBIEntityAlreadyExists",ni.QuotaExceeded="PromotedContentQuotaExceeded",ni}({}),Va="PowerBIUserQuotaExceeded",Ya="PowerBIGroupQuotaExceeded",Oa=5,Ka=260,Sa="OverwriteNonLocalPackageWithLocalFileError",Ga="InformationProtectionInsufficientUsageRights",Ca="ReportWithDisplayNameForTheModelExists",Ha="MoreThanOneDuplicateReportFoundError",Ba="ReplaceOriginalReportForPowerBICompanionNotSupported",Qa="PowerBIModelNotFoundException",Pa="MipClientNoPolicy",Xa="MipClientUnauthorizedUser",La="MissingMandatorySensitivityLabelException",Na="ModelDiagramLayoutSizeTooBig",Nr={type:r.U.Global,name:"updateUrlAndAcquireApp"},Aa="dismissed",Fa="clicked",pa=9e6,Ua=216e5,ri="https://go.microsoft.com/fwlink/?linkid=844603",ii="pbi-glyph-my-apps",cr="pbi-glyph-gauge",vi="pbi-glyph-barchart",Ti="pbi-glyph-rdl-report",mi="pbi-glyph-database",gi="pbi-glyph-collections",yi="pbi-glyph-rocket",_i="pbi-glyph-trophy2",Ei=200,Di={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},311382:function(me,j,e){e.d(j,{bd:function(){return a},e0:function(){return i}});var r=function(t){return t[t.SharingWithInvalidDomain=0]="SharingWithInvalidDomain",t[t.SharingWithBlockedDomain=1]="SharingWithBlockedDomain",t[t.ExceededMaxOneTimeEmailCount=2]="ExceededMaxOneTimeEmailCount",t}({});function i(t,l,g){l.emailValidationError=l.emailValidationWarning="",l.showSecurityGroupUpgradeAccount=!1;var n=t.promiseFactory.defer();return t.domainHelperService.getVerifiedDomains().then(d=>{var s={},h={},o=null,v="",m=0,p=0,y=t.licenseEnforcementService.supportsGroups();if(l&&l.emailsList){var S=l.emailsList.inputUserList,C=g.maxNumberOfEmailsAllowedAtATime;C>0&&S.length>C&&(l.emailValidationError=t.localizationService.format("MaxOneTimeEmailCountReached",[C]),o=r.ExceededMaxOneTimeEmailCount,v=`User entered ${S.length} email addresses`);var u=!1;for(var E of S){if(E.userPrincipalName){var f=E.userPrincipalName.split("@")[1].toLowerCase();d.verifiedDomains[f.toUpperCase()]||(s[f]=f,m++),d.blockedDomains[f.toUpperCase()]&&(h[f]=f,p++)}E.isSecurityGroup&&!y&&(u=!0)}var D="",b=0;for(var T in s)b++,D+=T+", ";var M="",V=0;for(var w in h)V++,M+=w+", ";u&&(l.showSecurityGroupUpgradeAccount=!0),_.endsWith(D,", ")&&(D=D.substring(0,D.length-2)),_.endsWith(M,", ")&&(M=M.substring(0,M.length-2)),!g.disableExternalSharingValidationForEmailSubscriptions&&!t.featureSwitchService.featureSwitches.externalSharingEnabled&&b>0?(l.emailValidationError=t.localizationService.format("Sharing_ExternalSharingDisabled"),o=r.SharingWithInvalidDomain,v=D):!g.disableExternalSharingValidationForEmailSubscriptions&&g.shouldBlockExternalDomains&&b>0?(l.emailValidationError=t.localizationService.format("Sharing_EmailDomainNotInTenant"),o=r.SharingWithInvalidDomain,v=D):g.shouldBlockConsumerDomains&&V>0?(l.emailValidationError=t.localizationService.format("Sharing_BlockedDomains",[M]),o=r.SharingWithBlockedDomain,v=M):b>0&&(l.emailValidationWarning=t.localizationService.format("Sharing_ExternalOrganization",[D]))}_.isEmpty(l.emailValidationError)?n.resolve({externalEmailCount:m,consumerEmailCount:p}):n.reject({errorReason:v,errorType:o})},d=>{n.reject(null)}),n.promise}function a(t){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(t)}},752674:function(me,j,e){e.d(j,{t:function(){return r}});class r{constructor(a){this.contract=a}}},632478:function(me,j,e){e.d(j,{$0:function(){return h},$R:function(){return Qr},$_:function(){return s},AX:function(){return de},Ag:function(){return re},Al:function(){return Zr},C3:function(){return Et},Cd:function(){return Fe},Cw:function(){return St},De:function(){return t},Eh:function(){return qr},F1:function(){return te},Fw:function(){return tt},GL:function(){return Kt},HH:function(){return Ge},Iu:function(){return n},J9:function(){return P},JB:function(){return Ae},JL:function(){return Er},K:function(){return Je},Kc:function(){return o},L$:function(){return st},LF:function(){return it},O$:function(){return mt},OI:function(){return rr},OL:function(){return Ue},PH:function(){return br},Q8:function(){return Ze},Rn:function(){return a},S1:function(){return Xr},Sw:function(){return l},UR:function(){return It},Uj:function(){return H},V1:function(){return Ie},VT:function(){return Lr},Wb:function(){return Gr},Wi:function(){return I},XT:function(){return i},Xh:function(){return G},Xx:function(){return Pt},Y2:function(){return Qe},ZE:function(){return gr},_D:function(){return nt},bI:function(){return _r},d8:function(){return ne},dr:function(){return Xe},eG:function(){return xt},fq:function(){return J},fr:function(){return ot},hh:function(){return lt},hy:function(){return q},iD:function(){return kt},ix:function(){return Se},j8:function(){return D},lh:function(){return A},mR:function(){return m},mm:function(){return T},oG:function(){return Ye},pH:function(){return k},pK:function(){return Ne},qQ:function(){return Ve},qm:function(){return qt},qr:function(){return Fr},rr:function(){return ht},s0:function(){return vt},sF:function(){return xe},si:function(){return Nt},tb:function(){return Rt},tp:function(){return g},u6:function(){return zt},uO:function(){return V},vp:function(){return He},w2:function(){return c},wr:function(){return v},yd:function(){return ee},zG:function(){return at}});var r=e(817491),i=function(Vt){return Vt.Report="Report",Vt.QnA="QnA",Vt.Exploration="Exploration",Vt.Dashboard="Dashboard",Vt.Workbook="Workbook",Vt.Insights="Insights",Vt.Widget="Widget",Vt}({}),a=function(Vt){return Vt.App="App",Vt.Owned="Owned",Vt.Shared="Shared",Vt.Unknown="Unknown",Vt}({}),t=function(Vt){return Vt.NavigatorBarManageStorage="NavigatorBarManageStorage",Vt.DirectUrl="DirectUrl",Vt}({}),l=function(Vt){return Vt.Group="Group",Vt.Personal="Personal",Vt}({}),g=function(Vt){return Vt.DeleteOwnedModel="DeleteOwnedModel",Vt.DeleteOwnedWorkbook="DeleteOwnedWorkbook",Vt.RemoveSharedItem="RemoveSharedItem",Vt}({}),n=function(Vt){return Vt.Unknown="Unknown",Vt.AddDashboard="AddDashboard",Vt.ShareDashboard="ShareDashboard",Vt.AcceptInvitation="AcceptInvitation",Vt.AddTile="AddTile",Vt.ReportSaveAs="ReportSaveAs",Vt.OpenDataset="OpenDataset",Vt.GetData="GetData",Vt.PublishContentPack="PublishContentPack",Vt.UpdateContentPack="UpdateContentPack",Vt.PersonalizeContentPack="PersonalizeContentPack",Vt.CreateStreamingDataset="CreateStreamingDataset",Vt.AppAutoInstall="AppAutoInstall",Vt.PersonalizeApp="PersonalizeApp",Vt}({}),s=function(Vt){return Vt.Report="Report",Vt.Dashboard="Dashboard",Vt.ReportV2="ReportV2",Vt.DashboardV2="DashboardV2",Vt.Workspace="Workspace",Vt}({}),h=function(Vt){return Vt.UnifiedNotificationPane="UnifiedNotificationPane",Vt}({}),o=function(Vt){return Vt.OpenTile="OpenTile",Vt}({}),v=function(Vt){return Vt.Dashboard="Dashboard",Vt.OrgApp="OrgApp",Vt.Report="Report",Vt.Workbook="Workbook",Vt.RdlReport="RdlReport",Vt}({}),m=function(Vt){return Vt.Normal="Normal",Vt.EmailSubscription="EmailSubscription",Vt.SubscribeOthers="SubscribeOthers",Vt.Commenting="Commenting",Vt.DDAlert="DDAlert",Vt.SmartAlerts="SmartAlerts",Vt.CopyVisualImage="CopyVisualImage",Vt.Invalid="Invalid",Vt}({}),y="PBI.Navigation.Toggle",C=(r.Xi[y]=(0,r.Vp)(y),"DashboardTileMenuAction"),E=(r.Xi[C]=(0,r.Vp)(C),"PBI.Dashboard.ClaimInvitation"),c=r.Xi[E]=(0,r.Vp)(E),f="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",D=r.Xi[f]=(0,r.Vp)(f),b="PBI.Dashboard.DeleteDashboard",T=r.Xi[b]=(0,r.Vp)(b),M="PBI.Dashboard.DeleteTile",V=r.Xi[M]=(0,r.Vp)(M),w="PBI.Dashboard.TileLayoutChanged",P=r.Xi[w]=(0,r.Vp)(w),N="PBI.Dashboard.InFocusWorkbook",I=r.Xi[N]=(0,r.Vp)(N),O="PBI.Dashboard.OpenDashboard",W=(r.Xi[O]=(0,r.Vp)(O,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.Dashboard.LockedTilesDisplayed"),U=(r.Xi[W]=(0,r.Vp)(W),"PBI.Dashboard.LoadDashboardTileVisual"),x=(r.Xi[U]=(0,r.Vp)(U),"PBI.Dashboard.PinTile"),A=r.Xi[x]=(0,r.Vp)(x),L="PBI.Dashboard.InitializeContainer",z=(r.Xi[L]=(0,r.Vp)(L),"PBI.Dashboard.SettingGroupChanged"),H=r.Xi[z]=(0,r.Vp)(z),Z="PBI.Dashboard.RenameDashboard",k=r.Xi[Z]=(0,r.Vp)(Z),K="PBI.Dashboard.ViewWorkbook",ee=r.Xi[K]=(0,r.Vp)(K,{logExpAssignment:!0}),Q="PBI.Dashboard.EditWorkbook",J=r.Xi[Q]=(0,r.Vp)(Q),X="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",ne=r.Xi[X]=(0,r.Vp)(X),ae="PBI.Dashboard.UpdateActiveDashboard",Me=(r.Xi[ae]=(0,r.Vp)(ae),"PBI.Dashboard.RefreshTileData"),Ye=r.Xi[Me]=(0,r.Vp)(Me),Le="PBI.Dashboard.RefreshDashboardTiles",lt=r.Xi[Le]=(0,r.Vp)(Le),ut="PBI.Groups.SwitchGroup",St=r.Xi[ut]=(0,r.Vp)(ut),ze="PBI.Folders.GetWorkspaceFolders",Ce=(r.Xi[ze]=(0,r.Vp)(ze),"PBI.Dashboard.ShowGettingStartedPopup"),Ae=r.Xi[Ce]=(0,r.Vp)(Ce),be="PBI.Dashboard.WorkbookClickScheduleRefresh",Ie=r.Xi[be]=(0,r.Vp)(be),ve="PBI.Dashboard.WorkbookClickRefreshNow",xe=r.Xi[ve]=(0,r.Vp)(ve),Ee="PBI.Dashboard.ClickPersonalize",Ne=r.Xi[Ee]=(0,r.Vp)(Ee,{logExpAssignment:!0}),ye="PBI.Dashboard.ContentPackDirty",Xe=r.Xi[ye]=(0,r.Vp)(ye),fe="PBI.Dashboard.FirstUse",Se=r.Xi[fe]=(0,r.Vp)(fe),qe="PBI.Dashboard.InFocusModeSelected",Ue=r.Xi[qe]=(0,r.Vp)(qe),_e="PBI.Dashboard.SaveDashboardSettings",at=r.Xi[_e]=(0,r.Vp)(_e),ot="PBI.Dashboard.GetDashboardSettings",mt=r.Xi[ot]=(0,r.Vp)(ot),yt="PBI.Dashboard.TestDataSourceConnection",Nt=r.Xi[yt]=(0,r.Vp)(yt),Bt="PBI.Dashboard.LoadTileData",Qe=(r.Xi[Bt]=(0,r.Vp)(Bt),"PBI.App.InitialAppLoad"),Ke=(r.Xi[Qe]=(0,r.Vp)(Qe,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),tt=r.Xi[Ke]=(0,r.Vp)(Ke),$e="PBI.GroupEditor.UserLeaveGroup",de=r.Xi[$e]=(0,r.Vp)($e),De="PBI.Quota.OpenManageStoragePage",re=r.Xi[De]=(0,r.Vp)(De),ce="PBI.Quota.StorageUsage",te=r.Xi[ce]=(0,r.Vp)(ce),Te="PBI.Quota.ManageStorageDelete",Fe=r.Xi[Te]=(0,r.Vp)(Te),et="PBI.Quota.Exceeded",vt=r.Xi[et]=(0,r.Vp)(et),At="PBI.Quota.AccessCustomizedProperties",st=r.Xi[At]=(0,r.Vp)(At),Re="PBI.Privacy.InitializeSettingsModel",q=r.Xi[Re]=(0,r.Vp)(Re),pe="PBI.Privacy.SaveSettingsModel",Ve=r.Xi[pe]=(0,r.Vp)(pe),ke="PBI.Settings.TakeoverDatasources",it=r.Xi[ke]=(0,r.Vp)(ke),ft="PBI.Settings.LoadSettingsData",Pt=r.Xi[ft]=(0,r.Vp)(ft),Ut="PBI.QRCode.QRCodeDialogShown",Kt=r.Xi[Ut]=(0,r.Vp)(Ut),Qt="PBI.QRCode.ShortUrlCreated",qt=r.Xi[Qt]=(0,r.Vp)(Qt),nr="PBI.QRCode.ShortUrlFailed",Ge=r.Xi[nr]=(0,r.Vp)(nr),Ct="PBI.QRCode.QRCodeReportDialogShown",xt=r.Xi[Ct]=(0,r.Vp)(Ct),We="PBI.QRCode.ReportShortUrlCreated",nt=r.Xi[We]=(0,r.Vp)(We),Wt="PBI.Dashboard.AddWidget",kt=r.Xi[Wt]=(0,r.Vp)(Wt),Ht="PBI.DataAlerts.TileBadgeClicked",mr=(r.Xi[Ht]=(0,r.Vp)(Ht),"PBI.DataAlerts.NotificationAction"),_r=r.Xi[mr]=(0,r.Vp)(mr),Vr="PBI.UsageMetrics.Http.GetPackage",br=r.Xi[Vr]=(0,r.Vp)(Vr),Br="PBI.UsageMetrics.Http.UsageReportUpgrade",Fr=r.Xi[Br]=(0,r.Vp)(Br),jr="PBI.UserNotifications.LinkClicked",Lr=r.Xi[jr]=(0,r.Vp)(jr,{logExpAssignment:!0}),wr="PBI.Dashboard.RegisterAndLoadResourcePackages",vr=(r.Xi[wr]=(0,r.Vp)(wr),"PBI.Dashboard.LoadDashboard"),xr=(r.Xi[vr]=(0,r.Vp)(vr),"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles"),Zr=r.Xi[xr]=(0,r.Vp)(xr),Kr="PBI.ArtifactNotFound",qr=r.Xi[Kr]=(0,r.Vp)(Kr),ea="PBI.AppModel.InitializeContentProviders",Gr=r.Xi[ea]=(0,r.Vp)(ea),Ir="PBI.NPS.ShowDialog",Qr=r.Xi[Ir]=(0,r.Vp)(Ir),hr="PBI.Dashboard.LoadTileVisualTimedOut",Or=(r.Xi[hr]=(0,r.Vp)(hr),"PBI.Dashboard.AddDashboard"),Xr=r.Xi[Or]=(0,r.Vp)(Or,{logExpAssignment:!0}),wt="PBI.UsageMetrics.ViewUsageMetricsReport",Et=r.Xi[wt]=(0,r.Vp)(wt),Dt="PBI.PersistentState.Reset",It=r.Xi[Dt]=(0,r.Vp)(Dt),Xt="PBI.Theming.SaveTheme",gr=r.Xi[Xt]=(0,r.Vp)(Xt),pt="PBI.Dashboard.GetResourcePackageItem",Je=r.Xi[pt]=(0,r.Vp)(pt),ie="PBI.Apps.GuestUserWithNoAccessError",G=r.Xi[ie]=(0,r.Vp)(ie),se="PBI.Tutorial.Close",He=r.Xi[se]=(0,r.Vp)(se),Mt="PBI.Landing.BindToPowerViewReport",zt=r.Xi[Mt]=(0,r.Vp)(Mt),or="PBI.UsageMetrics.UpdateNewReportSetting",rr=r.Xi[or]=(0,r.Vp)(or),Gt="PBI.ChangeDetectionMeasure.LongPollError",Er=r.Xi[Gt]=(0,r.Vp)(Gt),Oe="PBI.ChangeDetectionMeasure.GetCDMConfigError",Ze=r.Xi[Oe]=(0,r.Vp)(Oe),ct="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",ht=r.Xi[ct]=(0,r.Vp)(ct),_t="PBI.Dashboard.RealtimeModelLoad",Rt=r.Xi[_t]=(0,r.Vp)(_t)},343043:function(me,j,e){e.d(j,{$:function(){return l},x:function(){return t}});var r=e(5863),i=e(255319),a=e(899448);function t(g,n=!1){if(g&&g.tiles){if(n)return{[i.FI]:g.tiles.background,[i.N6]:g.tiles.color,[i.Fx]:g.tiles.opacity};var d=(0,r.ND)(g.tiles.background,g.tiles.opacity);return{[i.FI]:d,[i.N6]:g.tiles.color}}}function l(g){if(g){var d={[i.FI]:g.background,[i.N6]:g.tiles?g.tiles[i.N6]:i.Yu};return(0,a.VP)(g.backgroundImage)?(d[i.Vr]=`url(${g.backgroundImage})`,d[i.lM]=i.Zq):d[i.Vr]=i.eU,d}}},977961:function(me,j,e){e.d(j,{AA:function(){return f},C_:function(){return a},E2:function(){return g},EK:function(){return D},LY:function(){return E},T1:function(){return o},TL:function(){return v},UE:function(){return n},UZ:function(){return V},YV:function(){return h},fL:function(){return t},gO:function(){return d},gj:function(){return i},li:function(){return C},m1:function(){return y},mJ:function(){return s},ml:function(){return m},oX:function(){return c},pl:function(){return p},t8:function(){return u},zR:function(){return M},ze:function(){return S},zm:function(){return l},zp:function(){return T}});var r=e(748958),i="esriVisual",a="esriVisual_TEST",t="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",l="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",g="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",n="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",d="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",s="MapboxVisual_TEST",h="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",o="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",v="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",m="vPMenu6454E8C4E1BD492A83084AB46B0C248B",p="vPMenu6454E8C4E1BD492A83084AB46B0C248B_TEST",y="SmartFilterBySQLBI1458262140626",S="_OrgStore",C="1.2.0",u=[i,a,t,l,g,n,d,h,s,o,v,m,p,y],E="Esri is not supported in Embedded scenario.",c="CV_Warning_Code",f=70,D=2e3,T="SharedResources",M=[];M[r.X.RegisteredResources]="RegisteredResources",M[r.X.SharedResources]=T;var V={};V[r.X.RegisteredResources]=!0,V[r.X.SharedResources]=!0},157554:function(me,j,e){e.d(j,{M:function(){return i},N:function(){return r}});var r=function(a){return a[a.Error=0]="Error",a[a.Blocked=1]="Blocked",a}({}),i=function(a){return a[a.None=0]="None",a[a.References=1]="References",a[a.Relationships=2]="Relationships",a[a.Filters=3]="Filters",a[a.ScriptVisualsNotEnabled=4]="ScriptVisualsNotEnabled",a[a.PythonVisualsNotEnabled=5]="PythonVisualsNotEnabled",a[a.DataSourceSettings=6]="DataSourceSettings",a[a.QueryCacheMiss=7]="QueryCacheMiss",a[a.VisualCalculationsEditingNotSupported=8]="VisualCalculationsEditingNotSupported",a}({})},164975:function(me,j,e){e.d(j,{H:function(){return a},q:function(){return i}});var r=e(212554),i={type:r.U.Global,name:"reloadEmptyVisuals"},a={type:r.U.Global,name:"applyPendingChanges"}},41324:function(me,j,e){e.d(j,{YT:function(){return a},gH:function(){return t}});var a="ShapeMap",t=function(l){return l[l.CustomVisualJavascript=0]="CustomVisualJavascript",l[l.CustomVisualsCss=1]="CustomVisualsCss",l[l.CustomVisualScreenshot=2]="CustomVisualScreenshot",l[l.CustomVisualIcon=3]="CustomVisualIcon",l[l.CustomVisualWatermark=4]="CustomVisualWatermark",l[l.CustomVisualMetadata=5]="CustomVisualMetadata",l[l.Image=100]="Image",l[l.ShapeMap=200]="ShapeMap",l[l.CustomTheme=201]="CustomTheme",l[l.BaseTheme=202]="BaseTheme",l[l.DashboardTheme=203]="DashboardTheme",l[l.DashboardBaseTheme=204]="DashboardBaseTheme",l[l.HighContrastTheme=205]="HighContrastTheme",l[l.AppNavigation=206]="AppNavigation",l[l.AppTheme=207]="AppTheme",l[l.AppBaseTheme=208]="AppBaseTheme",l}({})},826877:function(me,j,e){e.d(j,{d:function(){return s}});var r=e(898145),i=e(864754),a=e(785463),t=e(880138),l=e(879579),g=e(390447),n=e(202009),d=e(205918);function s(o,v,m,p,y){return new h(o,v,m,p,y)}class h{constructor(v,m,p,y,S){this.approvedResourceService=m,this.telemetryService=p,this.featureSwitchService=y,this.onlyApprovedForServerRenderResources=S,this.locale=v&&v.locale,this.promiseFactory=v.promiseFactory}loadTrustedResourcePackages(v){return a.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(v){a.Y.assertValue(v,"resourcePackages");var m=[];for(var p of v)m.push(this.loadResourcePackage(p));return this.promiseFactory.all(m)}loadResourcePackage(v){a.Y.assertValue(v,"resourcePackage");var m=(p,y,S,C,u)=>{this.telemetryService.logEvent(l.bO,{visualType:v.name,fileName:p,isClientGenerated:!!u,start:S,end:C,parentId:this.telemetryService.root.id,isError:!0,errorSource:r.gf.PowerBI,errorCode:y})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(p=>this.promiseFactory.reject(p)).then(()=>{var p=[];return this.approvedResourceService.isApprovedResource(v.name)?(p.push(this.loadResourcesWithVisualApi(v,m)),this.promiseFactory.all(p)):this.promiseFactory.reject("Visual is not an approved visual")})}loadResourcePackageItem(v,m){return a.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(v){return a.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(v){a.Y.assertValue(v,"resourcePackages");var m=[];if(v)for(var p of v)m.push(this.loadVisualPlugin(p));return this.promiseFactory.all(m)}loadVisualPlugin(v){a.Y.assertValue(v,"resourcePackage");var m=this.promiseFactory.defer();return v&&v.items&&v.items.length>0?this.loadResourcePackage(v).then(()=>{var p=i.q[v.name];p?(p.iconUrl=(0,n.z8)(v.name),m.resolve(p)):m.reject("Unable to load visual plugin from resource package: "+v.name)}).catch(()=>{m.reject("failed to resolve all promises")}):m.resolve(null),m.promise}destroy(){}loadResourcesWithVisualApi(v,m){var p=this.promiseFactory.defer(),y=(new Date).toISOString(),S=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(v.name).then(C=>{var u=(new Date).toISOString();this.handleLoadResourceResponse(C.data,v),this.telemetryService.logEvent(l.Q7,{visualType:v.name,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(v.name),isClientGenerated:!!v.isPublic,consumePublicCvsWithoutRps:S,start:y,end:u,parentId:this.telemetryService.root.id,isError:!1,errorSource:r.gf.PowerBI}),p.resolve(null)},C=>{var u=JSON.stringify(C),E=(new Date).toISOString();m(this.approvedResourceService.customVisualJsonUrlBuilder(v.name),u,y,E,v.isPublic),p.reject(u)}),p.promise}handleLoadResourceResponse(v,m){m.items&&m.items[0]&&(m.items[0].content=JSON.stringify(v));var p=(0,d.u)(v,this.locale,t.m.AppSource);p&&(p.isDeprecated=this.approvedResourceService.isDeprecated(m.name),p.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(m.name)),(0,g.s)(p);var y=i.q[p.name];y&&(p.favoriteId=y.favoriteId,p.isOutOfBox=y.isOutOfBox),i.q[p.name]=p}}},540427:function(me,j,e){e.d(j,{p:function(){return h}});var r=e(879579),i=e(977961),a=e(898145),t=e(597794),l=e(157912),g=e(201991),n=e(477546),d=e(677754),s=window;function h(v,m,p,y,S){return new o(v,m,p,y,S)}class o{constructor(m,p,y,S,C){this.featureSwitchService=m,this.httpService=p,this.options=S,this.telemetryService=C,this.trustedVisuals=i.t8,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=y.getCustomVisualsEndpointAsync()}getCustomVisualPbivizJson(m){var p=this.customVisualJsonUrlBuilder(m);return this.httpService.get(p,{responseType:"json",timeout:d.bj,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})}getCustomVisualVersion(m){var p=this.getCompatibleVisualVersion(m);return p?p.version:null}getCustomVisualApiVersion(m){var p=this.getCompatibleApiVersion(m);return p&&p!==this.legacy?p:null}customVisualJsonUrlBuilder(m){var p=this.getCompatibleVisualVersion(m);if(p)return this.customVisualsEndpoint+"/"+m+"."+p.version+"."+p.hash+".pbiviz.json"}getVisualIdFromAssetId(m){for(var p in this.approvedVisuals)if(this.approvedVisuals[p]&&this.approvedVisuals[p].assetId===m)return p;return null}isApprovedVisualsDefined(){return!!this.approvedVisuals}isApprovedResource(m){return!!this.approvedVisuals&&!!this.approvedVisuals[m]}isApprovedResourceByAssetId(m){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[m]}isApprovedResourceServerRender(m){var p=this.getCompatibleVisualVersion(m);return this.isApprovedResource(m)&&!!p&&!!p.approvedForServerRender}isApprovedForNoIframe(m){if(this.onlyApprovedForServerRenderResources||(0,n.hU)())return!1;var p=this.getCompatibleVisualVersion(m);return!!p&&!!p.approvedForNoIframe}isTrustedResource(m){return!!_.find(this.trustedVisuals,p=>p===m)}addTrustedVisual(m){this.isTrustedResource(m)||this.trustedVisuals.push(m)}isDeprecated(m){var p=this.getCompatibleVisualVersion(m);return this.isApprovedResource(m)&&!!p&&(!!p.isDeprecated||p.apiVersion&&(0,g.lt)(p.apiVersion,i.li))}usesExternalResourcesInAirGappedEnv(m){var p=this.getCompatibleVisualVersion(m);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&p&&p.usesExternalResources}canUseLocalStorage(m){if(this.onlyApprovedForServerRenderResources)return!1;var p=this.getCompatibleVisualVersion(m);return!(!p||!this.isApprovedResource(m))&&p.canUseLocalStorage}removeApprovedResource(m){this.approvedVisuals&&(this.approvedVisuals[m]=void 0)}getCdnEnvEndpointName(m){var p=(0,l.BG)()||d.jM;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(p=d.a6),m+p}loadApprovedResourcesMetadata(m,p){return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=m.defer(),this.approvedResourceJsonInProccess=!0,(p?"boolean"==typeof p?m.resolve(p):p:m.resolve(!1)).then(S=>{if(S&&(this.onlyApprovedForServerRenderResources=!!S),this.approvedVisuals)return this.setApprovedResources(),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonRequest.promise;var C=this.options?.isApprovedLoadingDisabled()??m.resolve(!1);m.allSettled([this.featureSwitchService.getFeatureSwitches(),C,this.customVisualsEndpointPromise]).then(u=>{this.approvedResourcesDisabled=u[1].value,this.customVisualsEndpoint=u[2].value}).finally(()=>{if(this.approvedResourcesDisabled)this.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var u=(new Date).toISOString();this.httpService.get(this.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:d.bj,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(c=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(r.J5,{endpoint:this.customVisualsEndpoint,allEndpointDown:!1,start:u,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:a.gf.PowerBI}),this.setApprovedResources(c.data),this.approvedResourceJsonRequest.resolve(null),this.approvedResourceJsonInProccess=!1},c=>{var f=(new Date).toISOString();this.telemetryService&&this.telemetryService.logEvent(r.J5,{endpoint:this.customVisualsEndpoint,allEndpointDown:!0,start:u,end:f,parentId:this.telemetryService.root.id,isError:!0,errorSource:a.gf.PowerBI,errorCode:JSON.stringify(c)}),this.approvedResourceJsonRequest.reject(JSON.stringify(c)),this.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise}cdnUrlBuilder(m,p,y){var S=this.getCompatibleApiVersion(p);return S?this.getCdnEnvEndpointName(m)+"/"+S+"/"+p+y:this.getCdnEnvEndpointName(m)+"/"+p+y}getTrustedResources(){return this.trustedVisuals}hasApi(m){var p=this.getCompatibleVisualVersion(m);return!!(p&&this.approvedVisuals&&p&&p.apiVersion&&p.apiVersion!==this.legacy)}getTelemetryUsageLimit(m){var p=this.getCompatibleVisualVersion(m);return p&&this.isApprovedResource(m)&&p.telemetryUsageLimit||0}canRefreshHostData(m){var p=this.getCompatibleVisualVersion(m);return!(!p||!this.isApprovedResource(m))&&p.canRefreshHostData}canGetAADToken(m){var p=this.getCompatibleVisualVersion(m);return!(!p||this.blockedAccessToken(m))&&!!this.isApprovedResource(m)&&p.canGetAADToken}blockedAccessToken(m){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(r.J4,{visualType:m,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var C=JSON.parse(atob(s.powerBIAccessToken.split(".")[1])).scp;return!(C.indexOf("user_impersonation")>=0||C.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(r.J4,{visualType:m,reason:"Access Token is blocked due to insufficient scope"}),0))}catch{return!1}}canGetWACToken(m){var p=this.getCompatibleVisualVersion(m);return!(!p||this.blockedAccessToken(m))&&!!this.isApprovedResource(m)&&p.canGetWACToken}getAllApprovedForServerRenderResourcesTypes(){if(!this.approvedVisuals)return[];var m=Object.keys(this.approvedVisuals);return _.filter(m,y=>this.isApprovedResourceServerRender(y))}getPublicId(m){return this.isApprovedResource(m)&&this.approvedVisuals[m].assetId?this.approvedVisuals[m].assetId:null}isMsVisual(m){return!(!this.isApprovedResource(m)||!this.approvedVisuals[m].isMsVisual)}canManageAsyncUpdate(m){if(this.isApprovedResource(m)){var p=this.getCompatibleVisualVersion(m);if(p&&p.callsRenderingCompleted)return!0}return!1}getCompatibleApiVersion(m){var p=this;if(!this.isApprovedResource(m)||!this.approvedVisuals[m].allVersions)return null;var y=this.approvedVisuals[m].allVersions;y.sort((E,c)=>!E.apiVersion||c.apiVersion&&!(0,g.gt)(E.apiVersion,c.apiVersion)?1:-1);var C,S=function(E){if((0,t.IL)().some(c=>c.version===E.apiVersion)&&!p.shouldSkipVersion(E))return{v:E.apiVersion}};for(var u of y)if(C=S(u))return C.v;return this.legacy}shouldSkipVersion(m){return null!=m.gradualExposureFSNumber&&!this.featureSwitchService.featureSwitches[`${this.gradualExposureFSPrefix}${m.gradualExposureFSNumber}`]}getCompatibleVisualVersion(m){var p=this.getCompatibleApiVersion(m);if(p)for(var y of this.approvedVisuals[m].allVersions)if(y.apiVersion===p)return y;return null}setApprovedResources(m){if(m&&(this.approvedVisuals=m,this.approvedVisualsAssetIds=o.buildApprovedVisualsAssetIds(m)),this.onlyApprovedForServerRenderResources){var p=this.getAllApprovedForServerRenderResourcesTypes(),y=_.pick(this.approvedVisuals,p);this.approvedVisuals=y}}static buildApprovedVisualsAssetIds(m){return _.reduce(m,(y,S)=>(S.assetId&&(y[S.assetId]=!0),y),{})}}},613801:function(me,j,e){e.d(j,{AM:function(){return p},d7:function(){return S}});var r=e(523324),i=e(748958),a=e(864508),t=e(864754),l=e(785463),g=e(304703),n=e(880138),d=e(41324),s=e(879579),h=e(402389),o=e(390447),v=e(202009),m=e(205918);function p(C,u,E){return new S(C,u,E||new y(C.promiseFactory))}class y{constructor(u){this.promiseFactory=u}get(u,E,c){return l.Y.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}getBlob(u,E,c){return l.Y.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()}}var S=(()=>{class C{constructor(E,c,f){this.provider=c,this.sharedResourceItemProxy=f,this.promiseFactory=E&&E.promiseFactory,this.locale=E&&E.locale,this.telemetryV2Enabled=E&&E.telemetryV2Enabled}loadTrustedResourcePackages(E){return l.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadResourcePackages(E){l.Y.assertValue(E,"resourcePackages");var c=[];for(var f of E)c.push(this.loadResourcePackage(f));return this.promiseFactory.all(c)}loadResourcePackage(E){l.Y.assertValue(E,"resourcePackage");var c=[];if(E&&E.items)for(var f of E.items)c.push(this.loadCustomVisualResourcePackageItem(f,E));return this.promiseFactory.all(c)}loadResourcePackageItem(E,c){var f=(0,h.AU)(E,c);return f?f.content?this.promiseFactory.resolve(f.content):this.loadBlob(E.id,E.name,f):(g.Cn.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))}loadSharedResource(E,c){return c===d.gH.Image?this.sharedResourceItemProxy.getBlob(null,(0,h.G3)(i.X.SharedResources),E,{retries:1}):this.sharedResourceItemProxy.get(null,(0,h.G3)(i.X.SharedResources),E,{retries:1})}loadVisualPlugin(E){l.Y.assertValue(E,"resourcePackage");var c=this.promiseFactory.defer();return E&&E.items&&E.items.length>0?this.loadResourcePackage(E).then(()=>{var f=t.q[E.name];f?(f.iconUrl=this.getIconUrl(E),c.resolve(f)):c.reject("Unable to load visual plugin from resource package")}).catch(()=>{c.reject("failed to resolve all promises")}):c.resolve(null),c.promise}destroy(){}loadVisualPlugins(E){l.Y.assertValue(E,"resourcePackages");var c=[];if(E)for(var f of E)c.push(this.loadVisualPlugin(f));return this.promiseFactory.all(c)}getIconUrl(E){var f=$("#css-"+E.name)[0],D=_.find(document.styleSheets,M=>M.ownerNode===f);if(!D)return"";for(var b=0;b<D.cssRules.length;b++){var T=D.cssRules[b];if(T.selectorText&&T.selectorText===".visual-icon."+E.name)return T.style.backgroundImage}return""}loadCustomVisualResourcePackageItem(E,c){switch(E.type){case d.gH.CustomVisualJavascript:return this.loadCustomVisualJS(c.id,c.name,E);case d.gH.CustomVisualsCss:return this.loadCustomVisualCss(c.id,c.name,E);case d.gH.CustomVisualMetadata:return this.loadCustomVisualMetadata(c.id,c.name,E)}}loadCustomVisualJS(E,c,f){var D=this.promiseFactory.defer();return f.content?((0,v.Sh)(c,f.content),D.resolve(f.content)):(l.Y.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(E,c,f.path,{retries:1}).then(b=>{(0,v.Sh)(c,b),f.content=b,this.transformPlugin(c).then(()=>D.resolve(b),T=>D.reject(T))}).catch(b=>{D.reject(b)})),D.promise}transformPlugin(E){var c=t.q[E];return c?((0,o.s)(c),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+E)}loadCustomVisualCss(E,c,f){var D=this.promiseFactory.defer();return f.content?((0,v.iz)(c,f.content),D.resolve(f.content)):(l.Y.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(E,c,f.path,{retries:1}).then(b=>{(0,v.iz)(c,b),f.content=b,D.resolve(b)}).catch(b=>{D.reject(b)})),D.promise}loadCustomVisualMetadata(E,c,f){var D=this.promiseFactory.defer();try{f.content?D.resolve(this.createPlugin(c,f.content)):this.provider.get(E,c,f.path,{retries:1}).then(b=>{f.content=b,D.resolve(this.createPlugin(c,b))}).catch(b=>{D.reject(b)})}catch(b){D.reject(b)}return D.promise}createPlugin(E,c){l.Y.assertAnyValue(c,"pbivizJsonString");var f=c;"object"!=typeof c&&(f=JSON.parse(c));var D=(0,m.u)(f,this.locale,n.m.File);(0,o.s)(D);var b=t.q[D.name];return b&&!b.custom&&(D.custom=!1),b&&(D.favoriteId=b.favoriteId,D.isOutOfBox=b.isOutOfBox),t.q[D.name]=D,D}loadBlob(E,c,f){var D=this.promiseFactory.defer(this.telemetryV2Enabled);return f.contentBlob?D.resolve(f.contentBlob):f.promise?f.promise.then(b=>D.resolve(b)):(f.promise=this.provider.getBlob(E,c,f.path,{retries:1}),f.promise.then(b=>{f.contentBlob=b,D.resolve(b)}).catch(b=>{D.reject(b)}).finally(()=>{delete f.promise})),D.promise}}return(0,r.__decorate)([(0,a.Xr)(s.Qo),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object,String]),(0,r.__metadata)("design:returntype",Object)],C.prototype,"loadResourcePackageItem",null),C})()},957350:function(me,j,e){function r(g,n){var d=g.capabilities,s=i(g,n)||i(g,"en-US");return d&&s&&a(d,s),g}function i(g,n){var d=l(n);return g&&g.stringResources?g.stringResources[d]:null}function a(g,n){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&("object"==typeof g[d]?a(g[d],n):"displayNameKey"===d&&g.displayName?g.displayName=t(n,g.displayNameKey)||g.displayName:"descriptionKey"===d&&g.description?g.description=t(n,g.descriptionKey)||g.description:"placeHolderTextKey"===d&&g.placeHolderText&&(g.placeHolderText=t(n,g.placeHolderTextKey)||g.placeHolderText))}function t(g,n){return g[n]}function l(g){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[g]||g||navigator.language}e.d(j,{DD:function(){return i},JK:function(){return l},QW:function(){return r}})},923805:function(me,j,e){e.d(j,{s:function(){return g}});var r=e(785463),i=e(982699),a=n=>{};class t{constructor(d,s,h,o,v){this.promiseFactory=d,this._queue=[],this._allowSameWindow=!1,this._incomingConnectMessages=[],this.handlers={message:[],error:[]},this.isFlushing=!1,this.windowMessageHandler=a,this._peerWindow=s,this._peerOrigin=h,this._handshakeNonce=v,this.deferredCache={},o?(this._channel=new MessageChannel,this._channel.port1.onmessage=m=>this.onMessageReceived(m),this.connectWithPeer(v)):(this.windowMessageHandler=m=>this.connectListener(m),window.addEventListener("message",this.windowMessageHandler))}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(d){this._allowSameWindow=d}get contentWindow(){return this._peerWindow}set contentWindow(d){for(var s of(r.Y.assertValue(d,"value"),this._peerWindow=d,this._incomingConnectMessages))if(this.processConnectMessage(s))break;this._incomingConnectMessages=[]}get queue(){return jQuery.extend([],this._queue)}connectWithPeer(d){this._peerWindow.postMessage({type:"connect",nonce:d},this._peerOrigin??"*",[this._channel.port2])}connectListener(d){this._peerWindow?this.processConnectMessage(d):this._incomingConnectMessages.push(d)}processConnectMessage(d){return!(d.source!==this._peerWindow||this._peerOrigin&&d.origin!==this._peerOrigin||"connect"!==d.data.type||d.data.nonce!==this._handshakeNonce||(this._peerPort=d.ports?.[0],this._peerPort.onmessage=s=>this.onMessageReceived(s),window.removeEventListener("message",this.windowMessageHandler),this._peerPort.postMessage({type:"connect_ack"}),this.flushQueue(),0))}postMessage(d){this._peerPort?this.sendMessage(d):this.queueMessage(d)}postMessageAsync(d){var s=this.promiseFactory.defer(),h=this.createRandomString();return this.deferredCache[h]=s,d.id=h,this.postMessage(d),s.promise.finally(()=>{delete this.deferredCache[h]}),s.promise}queueMessage(d){this._queue.push(d)}on(d,s){r.Y.assertValue(d,"type"),r.Y.assertValue(s,"handler"),this.handlers[d]&&(this.handlers[d].indexOf(s)>-1||this.handlers[d].push(s))}off(d,s){if(r.Y.assertValue(d,"type"),this.handlers[d]){if(!s)return void(this.handlers[d].length=0);var h=this.handlers[d].indexOf(s);h>-1&&this.handlers[d].splice(h,1)}}flushQueue(){if(!this.isFlushing&&this.contentWindow&&this._peerPort){for(var d of(this.isFlushing=!0,this._queue))this.sendMessage(d);this._queue=[],this.isFlushing=!1}}sendMessage(d){var s=this.prepareMessage(d);this.contentWindow?this._peerPort&&this._peerPort.postMessage(s):r.Y.assertFail("contentWindow not set")}prepareMessage(d){var s;try{s=JSON.stringify(d)}catch(h){throw h}return s}onMessageReceived(d){if(this.allowSameWindow||d.source!==window){var s;try{s="string"==typeof d.data?JSON.parse(d.data):d.data}catch(p){s=null}if(s){if("connect_ack"===s.type)return this._peerPort=this._channel.port1,void this.flushQueue();var h=jQuery.isArray(s)?s:[s];for(var o of h){var v=void 0,m=0;try{"string"==typeof o?(v=JSON.parse(o),m=o.length):(v=o,m=d.data.length)}catch(p){v=null}if(!v)return;this.dispatchMessage(d,v,m)}}}}dispatchMessage(d,s,h){var o={message:s,source:d.source,origin:d.origin,packedSize:h};if(s.id&&(s.eventName===i.mG||s.result||s.error)){var v=this.deferredCache[s.id];return v?s.error?v.reject(s.error):v.resolve(s.result):void 0}var m=s.error?this.handlers.error:this.handlers.message;for(var p of m)this.invokeHandler(p,o)}invokeHandler(d,s){var h,o;s.message.id&&(o={id:s.message.id,eventName:i.mG,arguments:[]});try{h=d.call(null,s),o&&this.promiseFactory.when(h).then(v=>{o.result=v,this.postMessage(o)}).catch(v=>{o.error=v,this.postMessage(o)})}catch(v){o&&(o.error={message:v.message},this.postMessage(o))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.handlers.message.length=0,this.handlers.error.length=0,this.windowMessageHandler!==a&&(window.removeEventListener("message",this.windowMessageHandler),this.windowMessageHandler=a)}}var l=e(873728);function g(n,d,s,h,o,v){return n?new t(d,s,h,o,v):(0,l.Ev)(d,s)}},982699:function(me,j,e){e.d(j,{R:function(){return r},aD:function(){return a},mG:function(){return t},wA:function(){return i}});var r="message",i="error",a="message",t="onMessageProxyAsyncComplete"},42473:function(me,j,e){e.d(j,{X:function(){return t}});var r=e(785463),i=e(98339),a=e(62973);function t(g,n,d,s,h,o,v,m){return new l(g,n,s,h,o,v,d,m)}class l extends a.Nt{constructor(n,d,s,h,o,v,m,p){super(n,d,s,h,o,v),this.resourcePackagesService=m,this.resourcePackageResolver=p,this.resourcePackagesService.getAllPackages()}loadResourcePackage(n){var d=this;if(r.Y.assertValue(n,"resourcePackage"),n)return this.resourcePackageResolver(n).then(s=>{var h=[];if(s&&s.items&&!s.disabled){var o=function(m){var p=(0,i.Pu)(s,m.name,d,d.promiseFactory).then(y=>{m.content=y});h.push(p)};for(var v of s.items)o(v)}else if(!s||s.disabled)return this.resourcePackagesService.delete(n.name),null;return this.promiseFactory.all(h).then(()=>super.loadResourcePackage(s,!0))}).catch(()=>(this.resourcePackagesService.delete(n.name),null))}}},202009:function(me,j,e){e.d(j,{Sh:function(){return i},iz:function(){return a},z8:function(){return g}});var r=e(201991);function i(s,h,o=!1,v=null){var m={major:1,minor:8,patch:0},p=document.createElement("script");p.innerHTML=o?v&&(0,r.gt)(v,m)||(0,r.eq)(v,m)?function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ==="window" || key === "self"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(h):function(s){return`\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ${s};\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            `}(h):h,p.id="js-"+s,p.setAttribute("name",s),document.body.appendChild(p)}function a(s,h){var o=$("<style></style>",{html:h,id:"css-"+s});o.attr("name",s),$("head").append(o)}function g(s){var o=$("#css-"+s)[0],v=_.find(document.styleSheets,y=>y.ownerNode===o);if(v&&v.cssRules)for(var m=0;m<v.cssRules.length;m++){var p=v.cssRules[m];if(p.selectorText&&_.includes(p.selectorText,s))return p.style.backgroundImage}return""}},677754:function(me,j,e){e.d(j,{a6:function(){return t},bj:function(){return r},jM:function(){return a},t8:function(){return i}});var r=3e4,i="dev",a="prod",t="app-store"},884536:function(me,j,e){e.d(j,{V:function(){return l}});var r=e(748958),i=e(785463),a=e(977961),t=e(402389);function l(){return new g}class g{constructor(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:a.zp,type:r.X.SharedResources,items:[]}]}getAllPackages(){return this.packages}registerPackages(d){if(i.Y.assertValue(d,"packages"),d)for(var s of d)if(s.items&&0!==s.items.length&&(s.type!==r.X.OrganizationalStoreCustomVisual||!s.disabled)){this.resourcePackageNameIdLookupTable[s.id]=s.name;var h=(0,t.uN)(this.packages,s.type,s.name);if(h)(0,t.xD)(s)?(0,t.mU)(h,s):_.merge(h,s);else{var o=_.clone(s);o.items=_.clone(s.items),this.packages.push(o)}}}getPackage(d){return i.Y.assertValue(d,"name"),_.find(this.packages,s=>s.name===d)}delete(d){i.Y.assertValue(d,"name"),_.remove(this.packages,s=>s.name===d)}getPackageById(d){var s=this.resourcePackageNameIdLookupTable[d];return s&&this.getPackage(s)}clear(){this.packages=[],this.resourcePackageNameIdLookupTable={}}}},62973:function(me,j,e){e.d(j,{Nt:function(){return b},fA:function(){return y}});var r=e(839538),i=e(582626),a=e(587814),t=e(201991),l=e(864754),g=e(785463),n=e(880138),d=e(977961),s=e(41324),h=e(98339),o=e(402389),v=e(390447),m=e(613801),p=e(205918);function y(T,M,V,w,P,N,I){return new b(T,M,V,w,P,N,I)}class b extends m.d7{constructor(M,V,w,P,N,I,O){super(M,P,null),g.Y.assertValue(M.promiseFactory,"promiseFactory"),g.Y.assertValue(V,"messageProxy"),g.Y.assertValue(w,"sandboxLoaderUri"),this.approvedResourceService=O,this.featureSwitchService=N,this.locale=M&&M.locale,this.promiseFactory=M.promiseFactory,this.frontEndUrl=I??"'self'",this.messageProxy=V,this.sandboxLoaderUri=w,this.provider=P,this.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||this.initIFrame()}loadResourcePackage(M,V){return g.Y.assertValue((0,o.Ov)(M),"resourcePackage is for a custom visual"),this.loadVisualPlugin(M,V)}loadResourcePackages(M){g.Y.assertValue(M,"resourcePackages");var V=[];for(var w of M)V.push(this.loadResourcePackage(w));return this.promiseFactory.all(V)}loadTrustedResourcePackages(M){return g.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(M){return g.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(M,V){g.Y.assertValue(M,"resourcePackage");var w=this.promiseFactory.defer();return this.loadResourcesContent(M).then(P=>{if(P&&!_.isEmpty(P)){var N=_.keyBy(P,"type"),I=N[s.gH.CustomVisualMetadata];if(I)try{var W=(0,a.p)(I.content),F=(0,p.u)(W,this.locale,V?n.m.OrgStore:n.m.File);(0,v.s)(F);var U=l.q[F.name];U&&(F.favoriteId=U.favoriteId,F.isOutOfBox=U.isOutOfBox),F.developerModeVisual=M.developerModeVisual,F.apiVersion&&(0,t.lt)(F.apiVersion,d.li)&&(F.isDeprecated=!0),l.q[F.name]=F,w.resolve(F)}catch(B){w.reject(B)}else{if(!this.iframe)return g.Y.assertFail("Legacy visuals are not supported"),this.promiseFactory.reject();this.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:M.name,mappedPluginContent:N}]}).then(B=>{var x=B,A=l.q[x.name];A&&!A.custom||(x.custom=!0,x.capabilities.objects=(0,r.iu)(x.capabilities.objects),(0,v.s)(x),this.approvedResourceService&&this.approvedResourceService.isApprovedVisualsDefined()&&(x.isDeprecated=!0),l.q[x.name]=x,w.resolve(x))}).catch(B=>{w.reject(B)})}}else w.resolve(null)}).catch(P=>{w.reject(P)}),w.promise}loadVisualPlugins(M){g.Y.assertValue(M,"resourcePackages");var V=[];if(M)for(var w of M)V.push(this.loadVisualPlugin(w));return this.promiseFactory.all(V)}destroy(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)}initIFrame(){var M=this.sandboxLoaderUri,V={};i.Y.getQueryStringValue("unmin")&&(V.unmin="1"),this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP&&(V.csp=btoa(`default-src ${this.frontEndUrl} 'unsafe-inline'`)),M+=i.Y.rebuildQueryString(V),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",M).one("load",()=>this.onIFrameLoad()).appendTo(document.body)}onIFrameLoad(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()}loadResourcesContent(M){var V=[],w=M.id,P=M.name;for(var N of M.items)N.type!==s.gH.CustomVisualIcon&&V.push(this.loadResourceContent(w,P,N,M));return this.promiseFactory.all(V)}loadResourceContent(M,V,w,P){var N=this.promiseFactory.defer();return w.content?N.resolve(this.getItemContent(w.content,w)):this.provider.get(M,V,w.path).then(I=>{I?N.resolve(this.getItemContent(I,w)):M<0?N.reject("no blob content for client generated rps"):(0,h.Pu)(P,w.name,this,this.promiseFactory).then(O=>{N.resolve(this.getItemContent(O,w))})}).catch(I=>{N.reject(I)}),N.promise}getItemContent(M,V){var w=_.isString(M)?M:JSON.stringify(M);return V.content=V.type===s.gH.CustomVisualMetadata?w:void 0,{type:V.type,content:w}}}},856751:function(me,j,e){e.d(j,{EX:function(){return s},RU:function(){return d},iu:function(){return n},lK:function(){return g}});var r=e(419216),i=e(997519),a=e(785463),t=e(329332),l=e(364472);function g(S){return a.Y.assertValue(S,"instances"),0===S.length?[]:_.map(S,h)}function n(S){return a.Y.assertValue(S,"instances"),0===S.length?[]:_.map(S,o)}function d(S,C){return a.Y.assertValue(S,"containers"),_.map(S,u=>({displayName:(0,t.M)(u.displayName,C)}))}function s(S){return a.Y.assertValue(S,"containers"),_.map(S,C=>({displayName:C.displayName}))}function h(S){return{objectName:S.objectName,displayName:S.displayName,properties:v(S.properties),selector:(0,r.Gq)(S.selector),altConstantValueSelector:(0,r.Gq)(S.altConstantValueSelector),validValues:S.validValues,containerIdx:S.containerIdx,propertyInstanceKind:S.propertyInstanceKind}}function o(S){return{objectName:S.objectName,displayName:S.displayName,properties:m(S.properties),selector:(0,r.BE)(S.selector),altConstantValueSelector:(0,r.BE)(S.altConstantValueSelector),validValues:S.validValues,containerIdx:S.containerIdx,propertyInstanceKind:S.propertyInstanceKind}}function v(S){var C={};for(var u in S)C[u]=p(S[u]);return C}function m(S){var C={};for(var u in S)C[u]=y(S[u]);return C}function p(S){return S instanceof l.b0?i.F3.serializeFilter(S):void 0===S?null:S}function y(S){return S&&S.From&&S.Where?i.F3.deserializeFilter(S):S}},776639:function(me,j,e){e.d(j,{iu:function(){return t},lK:function(){return a}});var r=e(419216),i=e(785463);function a(n){return i.Y.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,l)}function t(n){return i.Y.assertValue(n,"repetitions"),_.isEmpty(n)?[]:_.map(n,g)}function l(n){var d={selector:(0,r.Gq)(n.selector),altStaticSelector:(0,r.Gq)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(d.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),d}function g(n){var d={selector:(0,r.BE)(n.selector),altStaticSelector:(0,r.BE)(n.altStaticSelector),objects:n.objects};return void 0!==n.allowOverrideSubtotalMatching&&(d.allowOverrideSubtotalMatching=n.allowOverrideSubtotalMatching),d}},887734:function(me,j,e){e.d(j,{Ot:function(){return i},QW:function(){return l},bJ:function(){return a},bK:function(){return t}});var r=e(912202);function i(d){return{colorPalette:t(d.colorPalette),isHighContrast:d.isHighContrast,icons:d.icons}}function a(d){return{colorPalette:l(d.colorPalette),isHighContrast:d.isHighContrast,icons:d.icons}}function t(d){return{dataColors:g(d.dataColors),foreground:d.foreground,foregroundLight:d.foregroundLight,foregroundDark:d.foregroundDark,foregroundNeutralLight:d.foregroundNeutralLight,foregroundNeutralDark:d.foregroundNeutralDark,foregroundNeutralSecondary:d.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:d.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:d.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:d.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:d.foregroundNeutralTertiaryAlt,foregroundSelected:d.foregroundSelected,foregroundButton:d.foregroundButton,background:d.background,backgroundLight:d.backgroundLight,backgroundNeutral:d.backgroundNeutral,backgroundDark:d.backgroundDark,hyperlink:d.hyperlink,tableAccent:d.tableAccent,visitedHyperlink:d.visitedHyperlink,mapPushpin:d.mapPushpin,shapeStroke:d.shapeStroke,disabledText:d.disabledText,selection:d.selection,separator:d.separator}}function l(d){return{dataColors:n(d.dataColors),foreground:d.foreground,foregroundLight:d.foregroundLight,foregroundDark:d.foregroundDark,foregroundNeutralLight:d.foregroundNeutralLight,foregroundNeutralDark:d.foregroundNeutralDark,foregroundNeutralSecondary:d.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:d.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:d.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:d.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:d.foregroundNeutralTertiaryAlt,foregroundSelected:d.foregroundSelected,foregroundButton:d.foregroundButton,background:d.background,backgroundLight:d.backgroundLight,backgroundNeutral:d.backgroundNeutral,backgroundDark:d.backgroundDark,hyperlink:d.hyperlink,visitedHyperlink:d.visitedHyperlink,mapPushpin:d.mapPushpin,shapeStroke:d.shapeStroke,disabledText:d.disabledText,tableAccent:d.tableAccent,selection:d.selection,separator:d.separator}}function g(d){return{colors:d.getAllColors(),sentimentColors:d.getSentimentColors(),gradientColors:d.getGradientColors()}}function n(d){return new r.ZB(d.colors,d.sentimentColors,d.gradientColors)}},596233:function(me,j,e){e.d(j,{f:function(){return o},s:function(){return v}});var r=e(748958),i=e(898145),a=e(864754),t=e(785463),l=e(880138),g=e(977961),n=e(41324),d=e(879579),s=e(390447),h=e(205918);function o(p,y,S,C,u,E,c){return new m(p,y,S,C,u,E,c)}var v=".pbiviz.json";class m{constructor(y,S,C,u,E,c,f){this.approvedResourceService=S,this.resourcePackagesService=C,this.featureSwitchService=u,this.telemetryService=E,this.onlyApprovedForServerRenderResources=c,this.resourceLoaderInitOptions=f,this.locale=y&&y.locale,this.promiseFactory=y.promiseFactory}loadTrustedResourcePackages(y){var S=[];if(y&&y.length>0){var C=9999;for(var u of y)if(a.q[u])S.push(this.promiseFactory.resolve([a.q[u]]));else{var E={id:C++,name:u,type:r.X.CustomVisual,items:[{name:u,type:n.gH.CustomVisualMetadata,path:u+v}]};this.resourcePackagesService.registerPackages([E]),S.push(this.loadResourcePackage(E))}}return this.promiseFactory.all(S)}loadResourcePackages(y){t.Y.assertValue(y,"resourcePackages");var S=[];for(var C of y)S.push(this.loadResourcePackage(C));return this.promiseFactory.all(S)}loadResourcePackage(y){return t.Y.assertValue(y,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(C=>this.promiseFactory.reject(C)).then(()=>{var C=[];if(this.onlyApprovedForServerRenderResources&&!this.approvedResourceService.isApprovedResource(y.name))return this.promiseFactory.reject("Visual is not an approved visual");if(!this.approvedResourceService.hasApi(y.name))return this.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var u=this.loadCustomVisualJson(y.name,y.isPublic);return u.catch(E=>this.promiseFactory.reject(E)),C.push(u),this.promiseFactory.all(C)})}loadResourcePackageItem(y,S){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadSharedResource(y){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugins(y){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}loadVisualPlugin(y){return t.Y.assertFail("Not supported"),this.promiseFactory.reject()}destroy(){}loadCustomVisualJson(y,S){var C=this.promiseFactory.defer(),u=(new Date).toISOString(),E=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(y).then(c=>{var f=(new Date).toISOString();this.telemetryService.logEvent(d.Q7,{visualType:y,fileName:this.approvedResourceService.customVisualJsonUrlBuilder(y),isClientGenerated:!!S,consumePublicCvsWithoutRps:E,start:u,end:f,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI});var D=this.handleLoadResourceResponse(c.data);C.resolve(D)},c=>{var f=(new Date).toISOString(),D=this.handleLoadResourceError(c,y,this.approvedResourceService.customVisualJsonUrlBuilder(y),u,f,S);C.reject(D),C.reject(c.data)}),C.promise}handleLoadResourceError(y,S,C,u,E,c){var f=JSON.stringify(y);return this.telemetryService.logEvent(d.bO,{visualType:S,fileName:C,isClientGenerated:!!c,start:u,end:E,parentId:this.telemetryService.root.id,isError:!0,errorSource:i.gf.PowerBI,errorCode:f}),f}handleLoadResourceResponse(y){var S;try{S=(0,h.u)(y,this.locale,l.m.AppSource)}catch{return null}S.custom=!0,S.isDeprecated=this.approvedResourceService.isDeprecated(S.name),(S.name===g.gj||S.name===g.E2||S.name===g.T1&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(S.custom=!1);var C=a.q[S.name];return C&&(S.favoriteId=C.favoriteId,S.isOutOfBox=C.isOutOfBox),(0,s.s)(S),a.q[S.name]=S,S}}},422766:function(me,j,e){e.d(j,{G:function(){return i}});var r=e(785463);class i{constructor(t){this.promiseFactory=t,r.Y.assertValue(t,"promiseFactory"),this.promiseFactory=t}loadResourcePackage(t){return this.promiseFactory.resolve()}loadResourcePackages(t){return this.promiseFactory.resolve()}loadTrustedResourcePackages(t){return this.promiseFactory.resolve()}loadResourcePackageItem(t,l){return this.promiseFactory.resolve()}loadSharedResource(t){return this.promiseFactory.resolve()}loadVisualPlugin(t){return this.promiseFactory.resolve(null)}loadVisualPlugins(t){return this.promiseFactory.resolve()}destroy(){}}},322944:function(me,j,e){e.d(j,{D:function(){return n},W:function(){return g}});var r=e(532304),i=e(898145),a=e(785463),t=e(977961),l=e(879579),g=function(s){return s[s.NotRequired=0]="NotRequired",s[s.Declined=1]="Declined",s[s.Approved=2]="Approved",s}({});function n(s,h){return new d(s,h)}class d{constructor(h,o){this.promiseFactory=h,this.telemetryService=o,this.cachedConsentMap={},this.visualConsentOptionsMap={}}registerVisualConsent(h,o){a.Y.assertValue(o,"VisualConsentService: registerVisualConsent was called with missing options object"),a.Y.assert(()=>!this.visualConsentOptionsMap[h],"VisualConsentService: registerVisual was already called for visual "+h),this.visualConsentOptionsMap[h]=o,this.telemetryService.logEvent(l.YZ,{visualType:h,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI}),this.loadConsentAsync(h)}hasConsent(h){return this.cachedConsentMap[h]}setConsent(h,o){if(!this.isConsentRequiringVisual(h))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[h]=o;var v=this.visualConsentOptionsMap[h]&&this.visualConsentOptionsMap[h].consentPersistencyProvider;return this.telemetryService.logEvent(l.RF,{visualType:h,userConsent:o,parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI}),v?v.saveConsent(o):this.promiseFactory.reject("No persistencyProvider was set for visual "+h)}getConsent(h){var o=this,v=[];h=_.uniq(h),this.telemetryService.logEvent(l.b0,{visualTypes:h.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:i.gf.PowerBI});var m=function(y){if(!o.isConsentRequiringVisual(y))return v.push(o.promiseFactory.resolve({visualType:y,consent:g.NotRequired})),1;v.push(o.loadConsentAsync(y).then(C=>C?o.promiseFactory.resolve({visualType:y,consent:g.Approved}):o.showConsentDialog(y)))};for(var p of h)m(p);return this.promiseFactory.allSettled(v).then(y=>_.map(_.filter(y,S=>S.type===r.f.Success),S=>S.value))}isConsentRequiringVisual(h){return!!this.visualConsentOptionsMap[h]}loadConsentAsync(h){if(a.Y.assertValue(this.visualConsentOptionsMap[h],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[h])return this.promiseFactory.resolve(this.cachedConsentMap[h]);var o=this.visualConsentOptionsMap[h]&&this.visualConsentOptionsMap[h].consentPersistencyProvider;return o?o.loadConsent().then(v=>(this.cachedConsentMap[h]=v,this.promiseFactory.resolve(v))).catch(v=>{if(v!==t.LY)return this.promiseFactory.reject(v)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+h)}showConsentDialog(h){if(!this.isConsentRequiringVisual(h))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var o=this.visualConsentOptionsMap[h]&&this.visualConsentOptionsMap[h].consentDialogProvider;return o?o.showConsentDialog().then(v=>(this.setConsent(h,v),this.promiseFactory.resolve({visualType:h,consent:v?g.Approved:g.Declined}))).catch(v=>this.promiseFactory.reject(v)):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+h)}}},275583:function(me,j,e){function r(){return new i}e.d(j,{d:function(){return r}});class i{constructor(){this.listeners=[]}associate(t,l){for(var g of this.listeners)g.onInstanceAssociated(t,l)}subscribeToInstanceIdAssociation(t){_.includes(this.listeners,t)||this.listeners.push(t)}}},357753:function(me,j,e){e.d(j,{CH:function(){return d},QV:function(){return n},Z9:function(){return g}});var r=e(864754),i=e(785463),a=e(977961),t=e(879579),l=e(776360);class g{constructor(){this.visualPlugins={},this.loadedVisualPlugins={}}getLoadedPlugins(){return _.map(this.loadedVisualPlugins,h=>h)}getLoadedPlugin(h){return this.loadedVisualPlugins[h]}hasPlugin(h){return!!this.visualPlugins[h]}loadPlugin(h,o){if(o){var v=this.visualPlugins[h];(null==v||!0===v.custom||o.developerModeVisual)&&(this.visualPlugins[h]=o)}this.loadedVisualPlugins[h]=this.visualPlugins[h]}unloadPlugin(h){delete this.loadedVisualPlugins[h]}}function n(s,h,o,v,m,p){i.Y.assertValue(h,"promiseFactory"),i.Y.assertValue(v,"resourcePackage");var y=h.defer();if(v.name===a.E2&&!v.isPublic)return y.resolve(null),y.promise;if(!m&&s.hasPlugin(v.name))s.loadPlugin(v.name),y.resolve(null);else if(!m&&r.q[v.name])s.loadPlugin(v.name,r.q[v.name]),y.resolve(null);else if(_.isEmpty(v.items))y.reject("Resource package does not contain any items");else{var S;i.Y.assertValue(o,"resourceLoader"),p&&(S=p.startEvent(t.oO,{resourcePackageName:v.name})),o.loadResourcePackage(v).catch(C=>{i.Y.assertFail("Custom visual "+v.name+" failed to load: "+C)}).finally(()=>{var C=r.q[v.name];C?(C.iconUrl||(C.iconUrl=(0,l.s)(v.name)),s.loadPlugin(C.name,C),y.resolve(null),S&&S.resolve()):(y.reject("Unable to load visual plugin from resource package"),S&&S.reject())})}return y.promise}function d(s,h){for(var o of(i.Y.assertValue(s,"storage"),i.Y.assertValue(h,"plugins"),h))s.loadPlugin(o.name,o)}},776360:function(me,j,e){e.d(j,{Ne:function(){return w},s:function(){return N}});var r=e(420496),i=e(317551),a=e(497603),t=e(198976),l=e(576289),g=e(764367),n=e(92513),d=e(944491),s=e(956437),h=e(160255),o=e(188295),v=e(90813),m=e(803803),p=e(941118),y=e(841333),S=e(325055),C=e(801857),u=e(211598),E=e(653928),c=e(480543),f=e(371355),D=e(857327),b=e(473001),T=e(711547),M=e(981265);function w(I,O,R,W){return function(I,O,R,W){var F=(0,b.IL)(I);return F.create=O,F.createES6=R,W&&W(F),F}(I,O,W,F=>function(I,O){if(O)switch(I.name){case D.U.scatterChart:I.capabilities=(0,m.X6)(O);break;case D.U.areaChart:I.capabilities=(0,h.Hx)(!1,!0,O);break;case D.U.lineChart:I.capabilities=(0,h.Hx)(!1,!1,O);break;case D.U.stackedAreaChart:case D.U.hundredPercentStackedAreaChart:I.capabilities=(0,h.Hx)(!0,!0,O);break;case D.U.waterfallChart:I.capabilities=(0,f.B)(O);break;case D.U.lineStackedColumnComboChart:I.capabilities=(0,a.p)(!0,O);break;case D.U.lineClusteredColumnComboChart:I.capabilities=(0,a.p)(!1,O);break;case D.U.columnChart:case D.U.hundredPercentStackedColumnChart:I.capabilities=(0,i.LH)(!1,!0,!1,O);break;case D.U.barChart:case D.U.hundredPercentStackedBarChart:I.capabilities=(0,i.LH)(!0,!0,!1,O);break;case D.U.clusteredBarChart:I.capabilities=(0,i.LH)(!0,!1,!1,O);break;case D.U.clusteredColumnChart:I.capabilities=(0,i.LH)(!1,!1,!1,O);break;case D.U.ribbonChart:I.capabilities=(0,i.LH)(!1,!0,!0,O);break;case D.U.pivotTable:I.capabilities=(0,v.h)(O);break;case D.U.filledMap:I.capabilities=(0,g.Vy)(O);break;case D.U.azureMap:I.capabilities=(0,r.mD)(O);break;case D.U.map:I.capabilities=(0,o.$J)(O);break;case D.U.donutChart:case D.U.pieChart:I.capabilities=(0,l.du)(O);break;case D.U.kpi:I.capabilities=(0,s.Ve)(O);break;case D.U.funnel:I.capabilities=(0,n.$w)(O);break;case D.U.shapeMap:I.capabilities=(0,p.a)(O);break;case D.U.table:I.capabilities=(0,C.J)(O);break;case D.U.tableEx:I.capabilities=(0,u.o)(O);break;case D.U.treemap:I.capabilities=(0,c.LX)(O);break;case D.U.slicer:I.capabilities=(0,y.ts)(O);break;case D.U.keyDriversVisual:I.capabilities=(0,d.RH)();break;case D.U.decompositionTreeVisual:I.capabilities=(0,t.Il)(O);break;case D.U.advancedSlicerVisual:I.capabilities=(0,S.LO)(M.$F.Tile,O);break;case D.U.cardVisual:I.capabilities=(0,T.l$)(O);break;case D.U.textSlicer:I.capabilities=(0,E.qR)(O);break;case D.U.listSlicer:I.capabilities=(0,S.LO)(M.$F.List,O)}}(F,R))}function N(I){var R=$("#css-"+I)[0],W=_.find(document.styleSheets,B=>B.ownerNode===R);if(W&&W.cssRules)for(var F=0;F<W.cssRules.length;F++){var U=W.cssRules[F];if(U.selectorText&&U.selectorText===".visual-icon."+I)return U.style.backgroundImage}return""}},787639:function(me,j,e){e.d(j,{Q:function(){return t},T:function(){return a}});var r=e(125129),i=e(864754);function a(l){return!!i.q[l]}function t(l,g,n,d,s,h,o){var v;s&&s.isRunning()&&(v=s.createChildActivity({name:r.n.VisualContainerModuleLoad}));var m=()=>{var y=g.getPlugin(l);return y&&y.module?y.createES6&&!y.module.css?(v&&v.resolve(),Promise.resolve(y)):n.require({javascript:y.createES6?void 0:y.module.javascript,css:y.module.css}).then(()=>(v&&v.resolve(),y),()=>(v&&v.reject(),null)):(v&&(y?v.resolve():v.reject()),Promise.resolve(y))};if(o){var p=o.ensureCustomVisual(l);if(p)return p.then(m)}return m()}},989927:function(me,j,e){e.d(j,{IK:function(){return d},bL:function(){return s},g4:function(){return g},yF:function(){return n}});var r=e(795169),i=e(899846),a=e(857327),t=["play","subview","smallMultiple"],l=new r.d(()=>({[a.U.card]:!0,[a.U.gauge]:!0,[a.U.image]:!0,[a.U.kpi]:!0,[a.U.textbox]:!0}));function g(h,o){return h?!!h.custom:!_.includes(t,o)}function n(h){return h&&h.capabilities&&h.capabilities.dataViewMappings&&!!(0,i.Ol)(h.capabilities.dataViewMappings)}function d(h,o){return"pythonVisual"===h||!(!o||!o.scriptVisualEnabled)}function s(h){return!!h&&!!l.getValue()[h.name]}},205918:function(me,j,e){e.d(j,{u:function(){return T}});var r=e(632934),i=e(309746),a=e(785463),t=e(702087),l=e(47917),g=e(147293),n=e(936744),d=15,s=3e4,h=1,o=2e3;function C(M){return!!(M&&M.propertyIdentifier&&M.propertyIdentifier.objectName&&M.propertyIdentifier.propertyName)}class f{constructor(V){this.expectedContext=V,this._items=[]}get items(){return this._items}visitRole(V,w){w===this.expectedContext&&this._items.push(...V.items||[])}static fromMatrixRows(V){if(!V.rows)return[];var w=new this(i.Oc.MatrixRowsGroup);return(0,i.ms)(V.rows,w),w.items}static fromMatrixColumns(V){if(!V.columns)return[];var w=new this(i.Oc.MatrixColumnsGroup);return(0,i._y)(V.columns,w),w.items}}function D(M,V){var w;if(V)return M&&(w=M[V.propertyIdentifier.objectName]),(0,l._)(w,V.propertyIdentifier.propertyName,V.defaultValue)}var b=e(957350);function T(M,V,w){a.Y.assertAnyValue(M,"pbivizjson"),a.Y.assertAnyValue(M.content,"content"),a.Y.assertAnyValue(M.content.iconBase64,"iconBase64"),M=V?(0,b.QW)(M,V):M;var P=V?(0,b.DD)(M,V):null,N=(0,b.DD)(M,"en-US"),O={name:M.visual.guid,apiVersion:M.apiVersion,class:M.visual.visualClassName,displayName:M.visual.displayName,capabilities:M.capabilities,custom:!0,iconUrl:'url("'+M.content.iconBase64+'")',content:M.content,version:M.visual.version,create:()=>null,customizeQuery:R=>null,localizationResources:P||N?{enUSStrings:N,localizedStrings:P}:null,supportUrl:M.visual.supportUrl,source:w,publisher:M.author?M.author.name:void 0};return M.capabilities&&(M.capabilities.subtotals||M.capabilities.dataReductionCustomization)&&(O.customizeQuery=R=>function(M,V){V&&V.subtotals&&V.subtotals.matrix&&function(M){return M&&function(M){return M&&C(M.columnSubtotals)&&C(M.columnSubtotalsPerLevel)&&C(M.levelSubtotalEnabled)&&C(M.rowSubtotals)&&C(M.rowSubtotalsPerLevel)}(M.matrix)}(V.subtotals)&&function(M,V){a.Y.assert(()=>!!M,"options not defined"),a.Y.assert(()=>!!M.dataViewMappings,"dataViewMappings not defined");var w=M.dataViewMappings[0];if(w&&w.matrix&&w.metadata){var P=w.matrix;(function(M,V,w){var P=M.metadata.objects,N=M.metadata.columns,I=f.fromMatrixRows(V),O=D(P,w.rowSubtotals),R=D(P,w.rowSubtotalsPerLevel),W=r.y.After;if(null!=w.rowSubtotalsType&&D(P,w.rowSubtotalsType)===g.Zx.Top&&(W=r.y.Before),!_.isEmpty(I)){var U=function(x){var A=_.find(N,Y=>Y.queryName===x.queryName);if(!A)return 1;var L=D(A.objects,w.levelSubtotalEnabled);x.subtotalType=!O||R&&!L?r.y.None:W};for(var B of I)U(B)}})(w,P,V),function(M,V,w){var P=M.metadata.objects,N=M.metadata.columns,I=f.fromMatrixColumns(V),O=D(P,w.columnSubtotals),R=D(P,w.columnSubtotalsPerLevel);if(!_.isEmpty(I)){var W=function(U){var B=_.find(N,A=>A.queryName===U.queryName);if(!B)return 1;var x=D(B.objects,w.levelSubtotalEnabled);U.subtotalType=!O||R&&!x?r.y.None:r.y.After};for(var F of I)W(F)}}(w,P,V)}}(M,V.subtotals.matrix),V&&V.dataReductionCustomization&&function(M,V){var w=M?.dataViewMappings?.[0],P=w?.metadata?.objects,N=(0,t.my)(M.dataViewMappings),I=function(M,V,w){var P=!0;if(!V||!V.dataReductionCustomization)return!1;switch(M){case n.k.Matrix:if(w.matrix){var N=D(V,w.matrix.rowCount),I=D(V,w.matrix.columnCount);void 0!==N&&(P=P&&N>=d&&N<=s),void 0!==I&&(P=P&&I>=h&&I<=o)}break;case n.k.Table:if(w.table){var O=D(V,w.table.rowCount);void 0!==O&&(P=P&&O>=d&&O<=s)}break;case n.k.Categorical:if(w.categorical){var R=D(V,w.categorical.categoryCount),W=D(V,w.categorical.groupedValuesCount);void 0!==R&&(P=P&&R>=d&&R<=s),void 0!==W&&(P=P&&W>=h&&W<=o)}}return P}(N,P,V);if(I)switch(N){case n.k.Matrix:var O=D(P,V.matrix.rowCount),R=D(P,V.matrix.columnCount),W=w.matrix?.columns?.dataReductionAlgorithm,F=w.matrix?.rows?.dataReductionAlgorithm;R&&W&&(W[(0,t.Y5)(W)].count=R),O&&F&&(F[(0,t.Y5)(F)].count=O);break;case n.k.Table:var x=D(P,V.table.rowCount),A=w?.table?.rows?.dataReductionAlgorithm;x&&A&&(A[(0,t.Y5)(A)].count=x);break;case n.k.Categorical:var Y=D(P,V.categorical.categoryCount),z=D(P,V.categorical.groupedValuesCount),H=w?.categorical?.values?.group?.dataReductionAlgorithm,Z=w?.categorical?.categories?.dataReductionAlgorithm;z&&H&&(H[(0,t.Y5)(H)].count=z),Y&&Z&&(Z[(0,t.Y5)(Z)].count=Y)}}(M,V.dataReductionCustomization)}(R,M.capabilities)),O}},873728:function(me,j,e){e.d(j,{Ev:function(){return t}});var r=e(785463),i=e(928912),a=e(982699);function t(g,n){return new l(g,n)}class l{constructor(n,d){this.promiseFactory=n,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,d&&(this._contentWindow=d),this.deferredCache={},this.windowMessageHandler=s=>this.onMessageReceived(s.originalEvent),$(window).on(a.aD,this.windowMessageHandler)}get allowSameWindow(){return this._allowSameWindow}set allowSameWindow(n){this._allowSameWindow=n}get contentWindow(){return this._contentWindow}set contentWindow(n){r.Y.assertValue(n,"value"),this._contentWindow=n}get queue(){return jQuery.extend([],this._queue)}postMessage(n){this.contentWindow?this.sendMessage(n):this.queueMessage(n)}postMessageAsync(n){var d=this.promiseFactory.defer(),s=this.createRandomString();return this.deferredCache[s]=d,n.id=s,this.postMessage(n),d.promise.finally(()=>{delete this.deferredCache[s]}),d.promise}queueMessage(n,d){void 0===d&&(d=this._queue.length);var s=this.prepareMessage(n);this._queue.splice(d,0,s)}on(n,d){r.Y.assertValue(n,"type"),r.Y.assertValue(d,"handler"),this.handlers[n]&&(this.handlers[n].indexOf(d)>-1||this.handlers[n].push(d))}off(n,d){if(r.Y.assertValue(n,"type"),this.handlers[n]){if(!d)return void(this.handlers[n].length=0);var s=this.handlers[n].indexOf(d);s>-1&&this.handlers[n].splice(s,1)}}flushQueue(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)}sendMessage(n){var d=this.prepareMessage(n);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(d,"*"):r.Y.assertFail("contentWindow not set")}prepareMessage(n){var d;try{d=JSON.stringify(n)}catch(s){throw d=null,i.n4.ensureError(s)}return d}onMessageReceived(n){if(this.allowSameWindow||n.source!==window){var d;try{d="string"==typeof n.data?JSON.parse(n.data):n.data}catch(m){d=null}if(d){var s=jQuery.isArray(d)?d:[d];for(var h of s){var o=void 0,v=void 0;try{"string"==typeof h?(o=JSON.parse(h),v=h.length):(o=h,v=n.data.length)}catch(m){o=null}if(!o)return;this.dispatchMessage(n,o,v)}}}}dispatchMessage(n,d,s){var h={message:d,source:n.source,origin:n.origin,packedSize:s};if(d.id&&(d.eventName===a.mG||d.result||d.error)){var o=this.deferredCache[d.id];return o?d.error?o.reject(d.error):o.resolve(d.result):void 0}var v=d.error?this.handlers.error:this.handlers.message;for(var m of v)this.invokeHandler(m,h)}invokeHandler(n,d){var s,h;d.message.id&&(h={id:d.message.id,eventName:a.mG,arguments:[]});try{s=n.call(null,d),h&&this.promiseFactory.when(s).then(o=>{h.result=o,this.postMessage(h)}).catch(o=>{h.error=o,this.postMessage(h)})}catch(o){h&&(h.error={message:o.message},this.postMessage(h))}}createRandomString(){return(Math.random()+1).toString(36).substring(7)}destroy(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(a.aD,this.windowMessageHandler),this.windowMessageHandler=null}}},879579:function(me,j,e){e.d(j,{Ah:function(){return o},GU:function(){return w},J4:function(){return W},J5:function(){return n},JM:function(){return Z},Mx:function(){return k},Q7:function(){return l},Qo:function(){return I},RF:function(){return y},RY:function(){return Y},Se:function(){return f},Ve:function(){return ee},Vo:function(){return U},Y6:function(){return A},YZ:function(){return m},Y_:function(){return Q},b0:function(){return C},bD:function(){return N},bO:function(){return a},bm:function(){return L},iE:function(){return M},iL:function(){return z},oF:function(){return E},oO:function(){return s},q5:function(){return x},yV:function(){return b},z3:function(){return K}});var r=e(817491),i="PBI.ApprovedResource.FailLoaded",a=r.Xi[i]=(0,r.Vp)(i),t="PBI.ApprovedResource.SuccessfulLoad",l=r.Xi[t]=(0,r.Vp)(t),g="PBI.ApprovedResource.EndpointDown",n=r.Xi[g]=(0,r.Vp)(g),d="PBI.ApproveResource.LoadResourcePackage",s=r.Xi[d]=(0,r.Vp)(d),h="PBI.AppSourceResource.EndpointDown",o=r.Xi[h]=(0,r.Vp)(h),v="PBI.VisualConsent.Register",m=r.Xi[v]=(0,r.Vp)(v),p="PBI.VisualConsent.Set",y=r.Xi[p]=(0,r.Vp)(p),S="PBI.VisualConsent.Get",C=r.Xi[S]=(0,r.Vp)(S),u="PBI.VisualEvent.DownloadContentEvent",E=r.Xi[u]=(0,r.Vp)(u),c="PBI.TrustedVisual.Load",f=r.Xi[c]=(0,r.Vp)(c),D="PBI.TrustedVisual.GetConsent",b=r.Xi[D]=(0,r.Vp)(D),T="PBI.VisualAuthentication.GetResourceUrl",M=r.Xi[T]=(0,r.Vp)(T),V="PBI.VisualAuthentication.GetAADToken",w=r.Xi[V]=(0,r.Vp)(V),P="PBI.VisualAuthentication.GetWACToken",N=r.Xi[P]=(0,r.Vp)(P),I="PBI.LocalResource.LoadResourcePackageItem",R=(r.Xi[I]=(0,r.Vp)(I),"PBI.VisualAuthentication.BlockAccessToken"),W=r.Xi[R]=(0,r.Vp)(R),F="PBI.AdminControl.Initialized",U=r.Xi[F]=(0,r.Vp)(F),B="PBI.Pbiviz.UnzipFailed",x=r.Xi[B]=(0,r.Vp)(B),A="PBI.CustomVisualsLicense.LicensesLoaded",L=r.Xi[A]=(0,r.Vp)(A),Y="PBI.CustomVisualsLicense.GetServicePlansCalled",z=r.Xi[Y]=(0,r.Vp)(Y),H="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",Z=r.Xi[H]=(0,r.Vp)(H),k="PBI.VisualEvent.LocalStorageV2Event",K=r.Xi[k]=(0,r.Vp)(k),ee="PBI.VisualEvent.AcquireAADToken",Q=r.Xi[ee]=(0,r.Vp)(ee)},128039:function(me,j,e){function r(t,l){return a(t,l,!1)}function i(t,l){return a(t,l,!0)}function a(t,l,g){if(void 0!==t){var n=l.defer(),d=new FileReader;return d.onload=function(){n.resolve(d.result)},d.onerror=function(){n.reject(d.error)},g?d.readAsText(t):d.readAsDataURL(t),n.promise}}e.d(j,{S:function(){return i},g:function(){return r}})},103965:function(me,j,e){e.d(j,{Ax:function(){return v},DJ:function(){return p},Dc:function(){return s},Fh:function(){return u},Ht:function(){return y},I0:function(){return T},PO:function(){return n},aL:function(){return m},bA:function(){return f},bO:function(){return S},gH:function(){return D},sX:function(){return C},wF:function(){return b},wh:function(){return c}});var o,r=e(879579),i=e(977961),a=e(381839),t=e(201991),l=e(857327),g=e(91137),n={objectName:"general",propertyName:"filter"},d=function(M){return M[M.FeatureIsDisabled=0]="FeatureIsDisabled",M[M.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",M[M.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",M[M.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",M[M.FailedEvaluatingState=4]="FailedEvaluatingState",M}({}),s=function(M){return M[M.Unclassified=0]="Unclassified",M[M.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",M[M.NonCdnCustomVisual=2]="NonCdnCustomVisual",M[M.CertifiedCustomVisual=3]="CertifiedCustomVisual",M[M.OrganizationalStore=4]="OrganizationalStore",M[M.Native=5]="Native",M}({}),h=[i.gj,i.E2,i.T1];function v(M,V,w){if(void 0===o)try{if(!(V&&M&&M.featureSwitches&&M.featureSwitches.customVisualsTenantSwitch))return o=d.FeatureIsDisabled;V.logChildEvent(w&&w.event,r.Vo,{AdminControlState:d[o=M.featureSwitches.customVisualsTenantEnabled?M.featureSwitches.certifiedCustomVisualsTenantEnabled?d.NonCertifiedCustomVisualsAreDisabled:d.AllCustomVisualsAreEnabled:d.AllCustomVisualsAreDisabled]})}catch{o=d.FailedEvaluatingState}return o}function m(M,V,w,P,N,I,O){return I||O?E(V,!0,I,O,w,P,N):E(V,M.featureSwitches.customVisualsTenantSwitch,!M.featureSwitches.customVisualsTenantEnabled,M.featureSwitches.certifiedCustomVisualsTenantEnabled,w,P,N)}function p(M){return!(!M||!M.capabilities)&&(M.custom?M.apiVersion&&(0,t.gt)(M.apiVersion,"3.5.0")&&M.capabilities.supportsEmptyDataView:M.capabilities.supportsEmptyDataView)}function y(M){return!(!M||!M.apiVersion)&&(0,t.ge)(M.apiVersion,"2.0.0")}function S(M,V){return V||M.featureSwitches.customVisualsTenantSwitch&&!M.featureSwitches.customVisualsTenantEnabled}function C(M){return M&&_.endsWith(M,i.ze)}function u(M){return h.includes(M)}function E(M,V,w,P,N,I,O){return!(!V||M===i.gj||u(M)||C(M)||O)&&(!!w||!(!P||N.isApprovedResourceServerRender(M))&&(!I||N.isApprovedVisualsDefined()))}function c(M,V,w){return w?C(V)?s.OrganizationalStore:M.isApprovedVisualsDefined()?M.isApprovedResourceServerRender(V)?s.CertifiedCustomVisual:M.isApprovedResource(V)?s.NonCertifiedCustomVisual:s.NonCdnCustomVisual:s.Unclassified:s.Native}function f(M){switch(M){case g.b.AllowScripts:return"allow-scripts";case g.b.AllowPopups:return"allow-popups";case g.b.AllowSameOrigin:return"allow-same-origin";case g.b.AllowForms:return"allow-forms";case g.b.AllowTopNavigationByUserActivation:return"allow-top-navigation-by-user-activation";case g.b.AllowDownloads:return"allow-downloads"}}function D(M){return M&&M===l.U.debugVisual}function b(M,V){return V?M.substring(0,M.lastIndexOf("_DEBUG")):M}function T(M){var V=(0,a.D0)(M.objects,n),w=V?.type;return!(!w||!w.filter||w.filter.selfFilter)}},98339:function(me,j,e){e.d(j,{Ae:function(){return u},OM:function(){return b},Pu:function(){return c},Pz:function(){return D},SA:function(){return S},dQ:function(){return y},gB:function(){return p},qF:function(){return E},xq:function(){return C}});var r=e(125129),i=e(748958),a=e(419216),t=e(785463),l=e(304703),g=e(899448),n=e(168376),d=e(446024),s=e(468291),h=e(861371),o=e(41324),v=e(128039),m=e(402389);function p(V,w,P,N,I,O){if(t.Y.assertValue(I,"promiseFactory"),!V)return I.resolve(null);var R=M(V,w,O),W=[];for(var F of R){var U=F.getRefValue();W.push(C(U,P(),N,I,{itemTypeFromReference:F.itemType}))}return I.all(W).then(()=>R)}function y(V,w,P,N,I,O,R){if(t.Y.assertValue(I,"promiseFactory"),!V)return I.resolve(null);var W=(0,a.Eo)(V,w,void 0,!1),F=(0,a.EP)(W,w),U=M(F,w),B=[],x=function(Y){var z=Y.getRefValue(),H=null!=R&&R.isRunning()?R.createChildActivity({name:r.n.ResourcePackageItemsLoad,resourceType:z.packageType}):void 0,Z=C(z,P,N,I,{usePersistableFormat:O,itemTypeFromReference:Y.itemType}).then(k=>{Y.setRefValue(k),H&&H.resolve()}).catch(k=>{H&&H.reject(k)});B.push(Z)};for(var A of U)x(A);var L=I.defer();return I.all(B).then(()=>L.resolve(F)),L.promise}function S(V,w){return!!V&&M(V,w).length>0}function C(V,w,P,N,I){return E(w,{packageType:V.packageType,packageName:V.packageName,itemName:V.itemName},P,N,I).then(R=>null==R?(0,d.gN)():(0,d.Qq)(R),R=>(0,d.gN)())}function u(V){return t.Y.assertValue(V,"getLoadAndResolveErrorReason: No reason given"),V?"string"==typeof V?V:null!=V.status?V.status.toString():V.stack?V.stack.toString():V.message?V.message.toString():"Unknown reason":"No reason given"}function E(V,w,P,N,I){var O=(0,m.uN)(V,w.packageType,w.packageName);if(!O){var R;if(w.packageType===i.X.SharedResources&&I&&null!=(R=I.itemTypeFromReference)){var W=(0,m.hq)(w.itemName,R);return P.loadSharedResource(W,R).then(F=>{if(R===o.gH.Image){if(!(F instanceof Blob))throw new Error("Missed handling of non-blob shared resource image when there is no shared resource package");return F.arrayBuffer().then(U=>`data:${F.type};base64,${btoa(String.fromCharCode.apply(null,new Uint8Array(U)))}`)}return _.isString(F)||(F=JSON.stringify(F)),F}).catch(F=>{l.Cn.error(`Error loading shared resource from app ${W} ${u(F)}`,!1)})}return l.Cn.error(`Missing resource package ${w.packageType}`,!0),N.resolve()}return c(O,w.itemName,P,N,I)}function c(V,w,P,N,I){var O=I&&I.usePersistableFormat,R=I&&I.itemTypeFromReference;if(t.Y.assertValue(V,"resource package should exist"),!V)return N.reject(new Error("loadAndResolveContent: no package"));var F,W=(0,m.AU)(V,w);if(!W&&V.type===i.X.SharedResources&&R&&V&&R&&(W=(0,m.P8)(w,R),V.items.push(W)),t.Y.assertValue(W&&W.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!W||null==W.path&&null==W.content&&null==W.contentBlob&&null==W.promise)return l.Cn.error(`Missing resource item or path !resourcePackageItem=${!W}, resourcePackageItem.path=${W&&W.path}`,!0),N.resolve();if(V.type===i.X.SharedResources){var U=W.content;F=U?N.resolve(U):W.promise?W.promise:W.promise=P.loadSharedResource(W.path,W.type).finally(()=>{delete W.promise}).then(x=>x instanceof Blob?W.contentBlob=x:(_.isString(x)||(x=JSON.stringify(x)),W.content=x),x=>{throw l.Cn.error(`Error loading shared resource from app ${W.path} ${u(x)}`,!1),x})}else F=P.loadResourcePackageItem(V,w);var B=N.defer();return F.then(()=>{(function(V,w,P,N,I){var O=null;if(w){var R=I??w.type,W=R===o.gH.ShapeMap,F=R===o.gH.BaseTheme||R===o.gH.CustomTheme||R===o.gH.HighContrastTheme,U=V.type===i.X.OrganizationalStoreCustomVisual||V.type===i.X.CustomVisual,B=w.content;if(B)(W||F)&&(0,g.V0)(B)&&(B=(0,g.e6)((0,g.Hr)(B))),O=B;else if(w.contentBlob){if(V.type===i.X.SharedResources&&w.type===o.gH.Image||N||W||U||F){var x=P.defer();return(W||U||F?v.S:v.g)(w.contentBlob,P).then(L=>x.resolve(L),L=>x.resolve(null)),x.promise}w.contentBlobUrl||(w.contentBlobUrl=window.URL.createObjectURL(w.contentBlob)),O=w.contentBlobUrl}}return P.resolve(O)})(V,W,N,O,R).then(x=>B.resolve(x))}).catch(x=>B.reject(x)),B.promise}function f(V,w,P,N){if(P){var I=(0,m.uN)(P,i.X.RegisteredResources);return I?w.loadResourcePackageItem(I,N):V.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return V.reject(new Error("loadRegisteredResource: no packages"))}function D(V,w,P,N){return f(V,w,P,N).then(O=>(t.Y.assert(()=>O instanceof Blob||null==O||"string"==typeof O,"resource item content expected to be Blob or string"),O instanceof Blob?(0,v.g)(O,V):("string"==typeof O&&!(0,g.V0)(O)&&(O=(0,g.Xn)(O)),O)))}function b(V,w,P,N){return f(V,w,P,N).then(O=>(t.Y.assert(()=>O instanceof Blob||null==O||"string"==typeof O,"resource item content expected to be Blob or string"),O instanceof Blob?(0,v.S)(O,V):O)).then(O=>{try{"string"==typeof O&&(0,g.V0)(O)&&(O=(0,g.e6)((0,g.Hr)(O)))}catch(R){throw l.Cn.error(`Error decoding registeredResource: ${JSON.stringify(R)}`,!!R.stack),R}return O})}function M(V,w,P){t.Y.assertValue(V,"definitions");var N=[];return(0,n.bY)({definitions:V,descriptors:w,visitor:(I,O,R,W,F)=>{var U=W&&W.geoJson&&1===F.length&&"content"===F[0];if(U){var B=O;if(B.type.kind===s.Ez.Constant&&B.name.kind===s.Ez.Constant&&B.content.kind===s.Ez.Constant&&B.type.value===h.ue){var A=B.name.value;"string"==typeof A&&null==B.content.value&&(P&&P(A,o.gH.ShapeMap),I=(0,d.SC)((0,m.G3)(i.X.SharedResources),i.X.SharedResources,A),B.content=I)}}if(I instanceof d.HM){var Y={getRefValue:()=>O[R],setRefValue:z=>{O[R]=z}};U&&(Y.itemType=o.gH.ShapeMap),N.push(Y)}}}),N}},402389:function(me,j,e){e.d(j,{AU:function(){return m},Fk:function(){return C},G3:function(){return p},J:function(){return h},Ov:function(){return S},P8:function(){return n},by:function(){return v},hq:function(){return g},mU:function(){return y},qT:function(){return d},uN:function(){return o},xD:function(){return s}});var r=e(748958),i=e(785463),a=e(977961),t=e(41324),l={};function g(E,c){return l[c](E)}function n(E,c,f){return{type:c,path:g(E,c),name:E,content:f}}function d(E){return _.keyBy(_.filter(E,c=>s(c)),c=>c.name)}function s(E){return i.Y.assertValue(E,"resourcePackage should exist in order to verify if it's a static resource"),i.Y.assertValue(E.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!a.UZ[E.type]}function h(E,c,f){i.Y.assert(()=>_.isArray(E),"resourcePackages should be an array"),f=p(c,f);var D=o(E,c,f);return D||E.push(D={id:void 0,name:f,type:c,items:[]}),D}function o(E,c,f){return i.Y.assert(()=>null==E||_.isArray(E),"Resource packages should be: null, undefined or an array"),f=p(c,f),_.find(E,D=>D.type===c&&D.name===f)}function v(E,c,f,D){return m(o(E,c,D),f)}function m(E,c){return i.Y.assertAnyValue(E,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(E&&E.items,f=>f.name===c)}function p(E,c){var f=a.zR[E]||c;return i.Y.assertValue(f,"Invalid package name for resource package"),f}function y(E,c){for(var f of(i.Y.assert(()=>s(E),"mergeStaticResourcePackages - package1 should be a static resource."),i.Y.assert(()=>s(c),"mergeStaticResourcePackages - package2 should be a static resource."),i.Y.assert(()=>E.type===c.type,"In order to merge resource packages, their types should be equal"),i.Y.assert(()=>E.name===c.name,"In order to merge resource packages, their names should be equal"),null==E.id&&null!=c.id&&(E.id=c.id),c.items)){var D=m(E,f.name);D?u(D,f):E.items.push(f)}}function S(E){return E&&(E.type===r.X.CustomVisual||E.type===r.X.OrganizationalStoreCustomVisual)}function C(E){return _.chain(E).filter(c=>S(c)).map(c=>c.name).uniq().value()}function u(E,c){i.Y.assert(()=>E.name===c.name,"In order to merge resource package items, their names should be equal"),i.Y.assertAnyValue(E.path===c.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),i.Y.assert(()=>E.type===c.type,"In order to merge resource package items, their types should be equal"),null==E.id&&null!=c.id&&(E.id=c.id),!E.content&&c.content&&(E.content=c.content),!E.contentBlob&&c.contentBlob&&(E.contentBlob=c.contentBlob),!E.contentBlobUrl&&c.contentBlobUrl&&(E.contentBlobUrl=c.contentBlobUrl),!E.content&&!E.contentBlob&&!E.promise&&c.promise&&(E.promise=c.promise),i.Y.assert(()=>!E.content||!E.contentBlob,"A resource package item can't have content and contentBlob at the same time.")}l[t.gH.BaseTheme]=E=>`BaseThemes/${E}.json`,l[t.gH.CustomTheme]=E=>`BuiltInThemes/${E}.json`,l[t.gH.HighContrastTheme]=E=>`HighContrastThemes/${E}.json`,l[t.gH.Image]=E=>`Images/${E}`,l[t.gH.ShapeMap]=E=>`Shapemaps/${E}.json`},597794:function(me,j,e){e.d(j,{HJ:function(){return Tr},UW:function(){return ga},I2:function(){return va},IL:function(){return zr},Un:function(){return ua}});var r=e(619584),i=e(523324),a=e(147293);function t(le){var Pe=le.type||a.YL.Data;return Pe&a.YL.Resize&&le.resizeMode===a.OJ.Resized&&(Pe|=a.YL.ResizeEnd),Pe}var n={version:"1.0.0",overloads:(le,Pe)=>({update:ue=>{le.update&&le.update({viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,type:t(ue)})},destroy:()=>{le.destroy&&le.destroy()},enumerateObjectInstances:ue=>le.enumerateObjectInstances&&le.enumerateObjectInstances(ue)||[]}),hostAdapter:le=>({})},d=e(912202),s=e(566436);function h(le,Pe){for(var ue=Pe.split("."),dt=ue.shift();dt;){if(!le||null==le[dt])return!1;le=le[dt],dt=ue.shift()}return!0}var o=e(625935),p={version:"1.1.0",overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,type:t(ue)},Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>({createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colors:h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors()})},y=e(195788),u={version:"1.2.0",overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,type:t(ue)};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue)}}},E=e(412984),f={version:"1.3.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host})}}},b={version:"1.4.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),locale:le.host.locale()}}},M={version:"1.5.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive}}},P={version:"1.6.0",overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,type:t(ue)};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive}}},N=e(66460),O={version:"1.7.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft)=>{if(ue){var $t=[];$t.push(ue),le.host.applyJsonFilter($t,dt,Ft)}else le.host.applyJsonFilter(null,dt,Ft)}}}},W={version:"1.8.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData()}}};function F(le){return new U(le)}class U{constructor(Pe){this.hostServices=Pe.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}getResourceUrl(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()}getAADAuthenticationToken(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()}getAADToken(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()}getWACToken(Pe,ue){return this.authenticationService?this.authenticationService.getWACToken(Pe,ue):this.promiseFactory.reject()}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}var x={version:"1.9.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData()}}};class A{constructor(Pe){this.localizationResources=Pe}getDisplayName(Pe){var ue=this.localizationResources;return ue&&ue.localizedStrings&&Object.prototype.hasOwnProperty.call(ue.localizedStrings,Pe)?ue.localizedStrings[Pe]:ue&&ue.enUSStrings&&Object.prototype.hasOwnProperty.call(ue.enUSStrings,Pe)?ue.enUSStrings[Pe]:Pe}}var Y={version:"1.10.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>new o.Y({hostServices:le.host}),colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources)}}},H={version:"1.11.0",hostAdapter:le=>{var Pe=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>{var ue=le.host;return ue.selectionManager=new o.Y({hostServices:ue}),ue.selectionManager},colorPalette:(0,y.r)(Pe),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources)}}},K={version:"1.12.0",overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,operationKind:ue.operationKind,type:t(ue)};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=le.host,ue=h(le,"style.colorPalette.dataColors.getAllColors")?le.style.colorPalette.dataColors.getAllColors():d.SU.getDefaultColors();return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>(Pe.selectionManager=new o.Y({hostServices:Pe}),Pe.selectionManager),colorPalette:(0,y.r)(ue),persistProperties:dt=>le.host.persistProperties(dt),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(dt,Ft,$t,ar)=>{if(dt){var ca=[];ca.push(dt),le.host.applyJsonFilter(ca,Ft,$t,ar)}else le.host.applyJsonFilter(null,Ft,$t,ar)},launchUrl:dt=>le.host.launchUrl(dt),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData()}}},Q={version:"1.13.0",hostAdapter:le=>{var Pe=le.host;return{createSelectionIdBuilder:()=>new s.tJ,createSelectionManager:()=>(Pe.selectionManager=new o.Y({hostServices:Pe}),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData()}}},J=e(430602),X="2.0.0",ae={version:X,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=X,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=new o.Y({hostServices:Pe,apiVersion:X}),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:(0,E.N)({hostServices:le.host}),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData()}}},oe="2.1.0",Le={version:oe,overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,operationKind:ue.operationKind,type:t(ue),jsonFilters:ue.jsonFilters};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=oe,{createSelectionIdBuilder:()=>Pe.createSelectionIdBuilder(),createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(oe),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData()}}},lt="2.2.0",St={version:lt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=lt,{createSelectionIdBuilder:()=>Pe.createSelectionIdBuilder(),createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(lt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue){var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData()}}};function ze(le){return new Be(le)}class Be{constructor(Pe){this.eventService=Pe&&Pe.eventService&&Pe.eventService()}renderingStarted(Pe){this.eventService&&this.eventService.renderingStarted(Pe)}renderingFinished(Pe){this.eventService&&this.eventService.renderingFinished(Pe)}renderingFailed(Pe,ue){this.eventService&&this.eventService.renderingFailed(Pe,ue)}}var Ce=e(981265);function Ae(le){return new be(le)}class be{constructor(Pe){this.storageService=Pe&&Pe.localStorageService&&Pe.localStorageService(),this.promiseFactory=Pe.promiseFactory()}status(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(Ce.QC.NotSupported)}get(Pe){return null!=this.storageService&&Pe?this.storageService.getStorageData(Pe):this.promiseFactory.reject()}set(Pe,ue){return null!=this.storageService&&Pe&&ue?this.storageService.setStorageData(Pe,ue):this.promiseFactory.reject()}remove(Pe){null!=this.storageService&&Pe&&this.storageService.removeStorageData(Pe)}}var Ie="2.3.0",Ee={version:Ie,overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,operationKind:ue.operationKind,jsonFilters:ue.jsonFilters,type:t(ue),updateId:ue.updateId};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ie,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ie),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe)}}},Ne="2.4.0",Xe={version:Ne,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ne,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ne),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe)}}},fe="2.5.0",qe={version:fe,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=fe,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(fe),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe)}}},Ue="2.6.0",ot={version:Ue,overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,isInFocus:!!ue.isInFocus,operationKind:ue.operationKind,jsonFilters:ue.jsonFilters,type:t(ue),updateId:ue.updateId};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ue,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ue),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue)}}},mt="3.2.0",Nt={version:mt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=mt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(mt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv}}},Bt="3.3.0",Qe={version:Bt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Bt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Bt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:()=>Pe.fetchMoreData(),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv}}},je="3.4.0",tt={version:je,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=je,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(je),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv}}},$e="3.5.0",De={version:$e,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=$e,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager($e),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv}}},re="3.6.0",te={version:re,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=re,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(re),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv}}},Te="3.7.0",et={version:Te,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Te,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Te),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),allowInteractions:!(!le||!le.interactivity)&&le.interactivity.isVisualInteractive,applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}},vt="3.8.0",st={version:vt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=vt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(vt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}};function Re(le){return new q(le)}class q{constructor(Pe){this.downloadService=Pe&&Pe.downloadService&&Pe.downloadService(),this.promiseFactory=Pe.promiseFactory()}exportStatus(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(Ce.QC.NotSupported)}exportVisualsContent(Pe,ue,dt,Ft){return null!=this.downloadService?this.downloadService.exportVisualsContent(Pe,ue,dt,Ft).then($t=>$t.downloadCompleted):this.promiseFactory.reject()}exportVisualsContentExtended(Pe,ue,dt,Ft){return null!=this.downloadService?this.downloadService.exportVisualsContent(Pe,ue,dt,Ft):this.promiseFactory.reject()}}var pe="3.9.0",ke={version:pe,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=pe,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(pe),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}},it="4.0.0",Pt={version:it,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=it,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(it),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}},Ut="4.1.0",Qt={version:Ut,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ut,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ut),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}},qt="4.2.0",Ge={version:qt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=qt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(qt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}},Ct="4.3.0",We={version:Ct,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ct,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ct),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt)}}};function nt(le){return new Wt(le)}class Wt{constructor(Pe){this.licenseManagerService=Pe&&Pe.licenseManagerService&&Pe.licenseManagerService(),this.promiseFactory=Pe.promiseFactory()}getAvailableServicePlans(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()}notifyLicenseRequired(Pe){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Pe):this.promiseFactory.reject()}notifyFeatureBlocked(Pe){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Pe):this.promiseFactory.reject()}clearLicenseNotification(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()}}var kt="4.4.0",lr={version:kt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=kt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(kt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe)}}},mr="4.5.0",Vr={version:mr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=mr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(mr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe)}}};function br(le){return new Br(le)}class Br{constructor(Pe){this.webAccessService=Pe&&Pe.webAccessService&&Pe.webAccessService(),this.promiseFactory=Pe.promiseFactory()}webAccessStatus(Pe){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Pe):this.promiseFactory.resolve(Ce.QC.NotSupported)}}var Fr="4.6.0",Lr={version:Fr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Fr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Fr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe)}}},wr="4.7.0",vr={version:wr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=wr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(wr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue)}}},Ur="5.0.0",Zr={version:Ur,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Ur,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Ur),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue)}}},Kr="5.1.0",ea={version:Kr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Kr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Kr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue)}}},Gr="5.2.0",Qr={version:Gr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Gr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Gr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue)}}},hr="5.3.0",Or={version:hr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=hr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(hr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue)}}},Xr="5.4.0",Et={version:Xr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Xr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Xr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue)}}};function Dt(le){return new It(le)}class It{constructor(Pe){this.storageV2Service=Pe&&Pe.localStorageV2Service&&Pe.localStorageV2Service(),this.promiseFactory=Pe.promiseFactory()}status(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(Ce.QC.NotSupported)}get(Pe){return null!=this.storageV2Service&&Pe?this.storageV2Service.getStorageData(Pe):this.promiseFactory.reject()}set(Pe,ue){return null!=this.storageV2Service&&Pe&&ue?this.storageV2Service.setStorageData(Pe,ue):this.promiseFactory.reject()}remove(Pe){null!=this.storageV2Service&&Pe&&this.storageV2Service.removeStorageData(Pe)}}var Xt="5.5.0",pt={version:Xt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Xt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Xt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe)}}};function Je(le){return new ie(le)}class ie{constructor(Pe){this.acquireAADTokenService=Pe&&Pe.acquireAADTokenService&&Pe.acquireAADTokenService(),this.promiseFactory=Pe.promiseFactory()}acquireAADToken(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()}acquireAADTokenstatus(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(Ce.QC.NotSupported)}}var G="5.6.0",He={version:G,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=G,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(G),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe)}}},Mt="5.7.0",or={version:Mt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Mt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Mt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue)}}};function rr(le){return new Gt(le)}class Gt{constructor(Pe){this.subSelectionService=Pe?.visualHostSubSelectionService?.()}subSelect(Pe){this.subSelectionService&&this.subSelectionService.subSelect(Pe)}updateRegionOutlines(Pe){this.subSelectionService&&this.subSelectionService.updateRegionOutlines(Pe)}}var Er="5.8.0",ct={version:Er,overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,isInFocus:!!ue.isInFocus,operationKind:ue.operationKind,jsonFilters:ue.jsonFilters,type:t(ue),updateId:ue.updateId,subSelections:ue.subSelections,formatMode:ue.formatMode};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}},getSubSelectionStyles:ue=>{if(le.visualOnObjectFormatting&&_.isFunction(le.visualOnObjectFormatting.getSubSelectionStyles))return le.visualOnObjectFormatting.getSubSelectionStyles(ue)},getSubSelectionShortcuts:(ue,dt)=>{if(le.visualOnObjectFormatting&&_.isFunction(le.visualOnObjectFormatting.getSubSelectionShortcuts))return le.visualOnObjectFormatting.getSubSelectionShortcuts(ue,dt)},getSubSelectables:ue=>{if(le.visualOnObjectFormatting&&le.visualOnObjectFormatting.getSubSelectables&&_.isFunction(le.visualOnObjectFormatting.getSubSelectables))return le.visualOnObjectFormatting.getSubSelectables(ue)}}),hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Er,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Er),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue),subSelectionService:rr(Pe)}}},ht=e(672582);class _t{compareCustomVisualOpaqueIdentities(Pe,ue){return(0,ht.aI)(Pe,ue)}}var Rt="5.9.0",Tt="5.10.0",dr="5.11.0",rt="5.12.0",Yt=[n,p,u,f,b,M,P,O,W,x,Y,H,K,Q,ae,Le,St,Ee,Xe,qe,ot,Nt,Qe,tt,De,te,et,st,ke,Pt,Qt,Ge,We,lr,Vr,Lr,vr,Zr,ea,Qr,Or,Et,pt,He,or,ct,{version:Rt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Rt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Rt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue),subSelectionService:rr(Pe),createOpaqueUtils:()=>new _t}}},{version:Tt,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=Tt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(Tt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),storageService:Ae(Pe),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue),subSelectionService:rr(Pe),createOpaqueUtils:()=>new _t}}},{version:dr,hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=dr,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(dr),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue),subSelectionService:rr(Pe),createOpaqueUtils:()=>new _t}}},{version:rt,overloads:(le,Pe)=>({update:ue=>{if(le.update){var dt={viewport:ue.viewport,dataViews:ue.dataViews,viewMode:ue.viewMode,editMode:ue.editMode,isInFocus:!!ue.isInFocus,operationKind:ue.operationKind,jsonFilters:ue.jsonFilters,type:t(ue),updateId:ue.updateId,subSelections:ue.subSelections,formatMode:ue.formatMode,pendingChanges:ue.pendingChanges};Pe.colorPalette.reset();var Ft=le.constructor.__transform__;_.isFunction(Ft)?le.update(dt,Ft(dt.dataViews)):le.update(dt)}}}),hostAdapter:le=>{var Pe=le.host;return Pe.apiVersion=rt,{createSelectionIdBuilder:()=>new J.r,createSelectionManager:()=>(Pe.selectionManager=Pe.createSelectionManager(rt),Pe.selectionManager),colorPalette:(0,y.E)(le.style),persistProperties:ue=>le.host.persistProperties(ue),tooltipService:Pe.createTooltipService(),telemetry:(0,N.vs)({hostServices:le.host}),authenticationService:F({hostServices:le.host}),locale:le.host.locale(),hostCapabilities:{allowInteractions:!!le.interactivity?.isVisualInteractive,allowModalDialog:!!le.interactivity?.allowModalDialog},applyJsonFilter:(ue,dt,Ft,$t)=>{if(ue)if(Array.isArray(ue))le.host.applyJsonFilter(ue,dt,Ft,$t);else{var ar=[];ar.push(ue),le.host.applyJsonFilter(ar,dt,Ft,$t)}else le.host.applyJsonFilter(null,dt,Ft,$t)},launchUrl:ue=>le.host.launchUrl(ue),instanceId:le.host.instanceId,refreshHostData:()=>le.host.refreshHostData(),createLocalizationManager:()=>new A(le.localizationResources),fetchMoreData:ue=>Pe.fetchMoreData(ue),downloadService:Re(Pe),eventService:ze(Pe),switchFocusModeState:ue=>Pe.switchFocusModeState(ue),hostEnv:le.hostEnv,openModalDialog:(ue,dt,Ft)=>Pe.openModalDialog(ue,dt,Ft),displayWarningIcon:(ue,dt)=>Pe.displayWarningIcon(ue,dt),licenseManager:nt(Pe),webAccessService:br(Pe),drill:ue=>Pe.drill(ue),applyCustomSort:ue=>Pe.applyCustomSort(ue),storageV2Service:Dt(Pe),acquireAADTokenService:Je(Pe),setCanDrill:ue=>Pe.setCanDrill(ue),subSelectionService:rr(Pe),createOpaqueUtils:()=>new _t}}}],er=e(785463),sr=e(473001),ur=e(103965);class Cr{constructor(Pe,ue){this.wrappedVisual=Pe,this.run=ue,er.Y.assertValue(ue,"run must be defined in VisualOutsideZoneAdapter"),Pe.update&&(this.update=dt=>this.apply(this.wrappedVisual.update,dt)),Pe.onResizing&&(this.onResizing=(dt,Ft)=>{this.apply(this.wrappedVisual.onResizing,dt,Ft)}),Pe.onDataChanged&&(this.onDataChanged=dt=>{this.apply(this.wrappedVisual.onDataChanged,dt)}),Pe.onSelectionStateChanged&&(this.onSelectionStateChanged=dt=>{this.apply(()=>this.wrappedVisual.onSelectionStateChanged(dt))})}init(Pe){return this.apply(this.wrappedVisual.init,Pe)}destroy(){this.apply(this.wrappedVisual.destroy)}onViewModeChanged(Pe){this.apply(this.wrappedVisual.onViewModeChanged,Pe)}onClearSelection(){this.apply(this.wrappedVisual.onClearSelection)}onPaste(Pe){this.apply(this.wrappedVisual.onPaste,Pe)}onRestoreSelection(Pe){return this.apply(this.wrappedVisual.onRestoreSelection,Pe)}canResizeTo(Pe){return this.apply(this.wrappedVisual.canResizeTo,Pe)}enumerateObjectInstances(Pe){return this.apply(this.wrappedVisual.enumerateObjectInstances,Pe)}enumerateObjectInstancesAsync(Pe){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Pe)}enumerateObjectRepetition(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)}enumerateObjectRepetitionAsync(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)}visualHasMethod(Pe){return this.apply(this.wrappedVisual.visualHasMethod,Pe)}unwrap(){var Pe=this.wrappedVisual;return Pe.unwrap?Pe.unwrap():Pe}get sandbox(){return this.wrappedVisual?.sandbox}getTelemetryInformation(){return this.apply(this.wrappedVisual.getTelemetryInformation)}getFormattingModel(){return this.apply(this.wrappedVisual.getFormattingModel)}getFormattingModelAsync(){return this.apply(this.wrappedVisual.getFormattingModelAsync)}resolveFormattingPlaceholder(Pe){return this.run(()=>this.wrappedVisual.resolveFormattingPlaceholder(Pe))}getSubSelectionStyles(Pe){return this.run(()=>this.wrappedVisual.getSubSelectionStyles(Pe))}getSubSelectionShortcuts(Pe,ue){return this.run(()=>this.wrappedVisual.getSubSelectionShortcuts(Pe,ue))}getSubSelectables(Pe){return this.run(()=>this.wrappedVisual.getSubSelectables(Pe))}getNextSubSelectable(Pe,ue){return this.run(()=>this.wrappedVisual.getNextSubSelectable(Pe,ue))}getSubSelectionStylesAsync(Pe){return this.run(()=>this.wrappedVisual.getSubSelectionStylesAsync(Pe))}getSubSelectionShortcutsAsync(Pe,ue){return this.run(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Pe,ue))}getSubSelectablesAsync(Pe){return this.run(()=>this.wrappedVisual.getSubSelectablesAsync(Pe))}onDataViewObjectChanged(Pe,ue){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Pe,ue)}apply(Pe,...ue){var dt=this.wrappedVisual;return this.run(()=>Pe.apply(dt,ue))}}var Sr=e(852233),Dr=e(125129);class Pr{constructor(Pe){this.wrappedVisual=Pe,Pe.update&&(this.update=ue=>this.trackVisualTime(()=>this.wrappedVisual.update(ue),()=>ue&&ue.parentContextActivity?ue.parentContextActivity.createChildActivity({name:Dr.n.VisualUpdate}):void 0)),Pe.onResizing&&(this.onResizing=(ue,dt)=>{this.trackVisualTime(()=>this.wrappedVisual.onResizing(ue,dt))}),Pe.onDataChanged&&(this.onDataChanged=ue=>{this.trackVisualTime(()=>this.wrappedVisual.onDataChanged(ue))}),Pe.onSelectionStateChanged&&(this.onSelectionStateChanged=ue=>{this.trackVisualTime(()=>this.wrappedVisual.onSelectionStateChanged(ue))})}init(Pe){if(this.wrappedVisual.init)return this.trackVisualTime(()=>this.wrappedVisual.init(Pe))}destroy(){this.wrappedVisual.destroy&&this.trackVisualTime(()=>this.wrappedVisual.destroy())}onViewModeChanged(Pe){this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(()=>this.wrappedVisual.onViewModeChanged(Pe))}onClearSelection(){this.wrappedVisual.onClearSelection&&this.trackVisualTime(()=>this.wrappedVisual.onClearSelection())}onPaste(Pe){this.wrappedVisual.onPaste&&this.trackVisualTime(()=>this.wrappedVisual.onPaste(Pe))}onRestoreSelection(Pe){return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(()=>this.wrappedVisual.onRestoreSelection(Pe))}canResizeTo(Pe){if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(()=>this.wrappedVisual.canResizeTo(Pe))}enumerateObjectInstances(Pe){if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectInstances(Pe))}enumerateObjectRepetition(){if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(Pe){return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectInstancesAsync(Pe)):Promise.resolve(this.enumerateObjectInstances(Pe))}enumerateObjectRepetitionAsync(){return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):Promise.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var Pe=this.wrappedVisual;return Pe.unwrap?Pe.unwrap():Pe}visualHasMethod(Pe){var ue=this.wrappedVisual;return ue&&ue.visualHasMethod(Pe)}getTelemetryInformation(){if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(()=>this.visualAdapter.getFormattingModelAsync()):Promise.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(Pe){if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(()=>this.wrappedVisual.resolveFormattingPlaceholder(Pe))}getSubSelectionStyles(Pe){if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStyles(Pe))}getSubSelectionShortcuts(Pe,ue){if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcuts(Pe,ue))}getSubSelectables(Pe){if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(()=>this.wrappedVisual.getSubSelectables(Pe))}getNextSubSelectable(Pe,ue){if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(()=>this.wrappedVisual.getNextSubSelectable(Pe,ue))}getSubSelectionStylesAsync(Pe){return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionStylesAsync(Pe)):Promise.resolve(this.getSubSelectionStyles(Pe))}getSubSelectionShortcutsAsync(Pe,ue){return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(Pe,ue)):Promise.resolve(this.getSubSelectionShortcuts(Pe))}getSubSelectablesAsync(Pe){return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(()=>this.wrappedVisual.getSubSelectablesAsync(Pe)):Promise.resolve(this.getSubSelectables(Pe))}onDataViewObjectChanged(Pe,ue){if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(()=>this.wrappedVisual.onDataViewObjectChanged(Pe,ue))}trackVisualTime(Pe,ue){var dt=ue&&ue();try{return Pe()}finally{dt&&dt.resolve()}}}var Wr,Mr=[];function Tr(){return function(le,Pe,ue){Object.defineProperty(ue.value,"approvedMessage",{value:!0})}}function zr(){return Mr}function ua(le,Pe){return le&&(le=new Pr(le),Pe&&(le=new Cr(le,Pe))),le}function va(le,Pe,ue,dt,Ft,$t,ar){var ca=new ga(le,Pe,ue,dt,Ft,ar),ha=ua(ca,$t);return new Sr.r(ha,le,ue,dt,ca.isPluginInError,ar)}Yt.forEach(le=>function(le){zr().push(le)}(le));var ga=(()=>{class le{constructor(ue,dt,Ft,$t,ar,ca){this.plugin=ue,this.creator=dt,this.promiseFactory=Ft,this.telemetryService=$t,this.module=ar,this.certifiedEventsService=ca,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,er.Y.assertValue(ue,"plugin"),er.Y.assertValue(dt||this.plugin.createES6,"creator"),er.Y.assertValue(Ft,"promiseFactory"),er.Y.assertAnyValue(this.telemetryService,"telemetryService"),er.Y.assertAnyValue(ar,"module"),er.Y.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var ha=ue.apiVersion,wa=this.getVersionIndex(ha);ha?wa>-1?(this.apiVersionIndex=wa,this.legacy=!1):(er.Y.assertFail("The API version '"+ha+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}init(ue){var dt=this;return(0,r.A)(function*(){return dt.initializedPromise=dt.initImpl(ue),dt.initializedPromise})()}initImpl(ue){var dt=this;return(0,r.A)(function*(){if(er.Y.assert(()=>!dt.initialized,"Unexpected `init` after already initialized"),er.Y.assertValue(ue.element,"options.element"),er.Y.assertValue(ue.host,"options.host"),ue.element.empty(),ue=(0,sr.IL)(ue),dt.legacy){var Ft={module:dt.module,featureSwitches:ue.featureSwitches};if(dt.plugin.createES6){if(dt.visual=yield dt.plugin.createES6(Ft),dt.destroyed)return}else dt.visual=dt.creator(Ft);if(yield dt.visualLegacy.init(ue),dt.destroyed)return}else{var $t=dt.host=Mr[dt.apiVersionIndex].hostAdapter(ue),ar={element:ue.element.get(0),host:$t,module:dt.module,featureSwitches:ue.featureSwitches};if(dt.plugin.createES6){if(dt.visual=yield dt.plugin.createES6(ar),dt.destroyed)return}else dt.visual=dt.creator(ar);dt.overloadMethods()}dt.initialized=!0})()}update(ue){var dt=this;return(0,r.A)(function*(){er.Y.assertValue(()=>dt.initialized,"Expected `init` before `update`");var Ft=dt.initializedPromise;if(yield dt.initializedPromise,er.Y.assert(()=>dt.initializedPromise===Ft,"Unexpected re-initialize during update"),!dt.destroyed&&dt.initialized)if(dt.plugin.systemVisual||((ue=(0,sr.IL)(ue)).visualDefinitionData=void 0,ue.dataTransforms=void 0),(ue.type&a.YL.Resize)===a.YL.Resize&&dt.visualHasMethod("onResizing")){if(dt.plugin.custom&&dt.visualHasMethod("update")&&(yield dt.visualLegacy.update(ue),dt.destroyed))return;dt.onResizing(ue.viewport,ue.resizeMode)}else if(dt.visualHasMethod("update")){if(yield dt.visualLegacy.update(ue),dt.destroyed)return}else(!ue.type||ue.type&a.YL.Data)&&dt.onDataChanged(_.pick(ue,["dataViews","operationKind"])),ue.type&a.YL.ViewMode&&dt.onViewModeChanged(ue.viewMode)})()}destroy(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0}enumerateObjectInstances(ue){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(ue)}enumerateObjectRepetition(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()}enumerateObjectInstancesAsync(ue){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(ue):this.promiseFactory.resolve(this.enumerateObjectInstances(ue))}enumerateObjectRepetitionAsync(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}onResizing(ue,dt){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(ue,dt)}onDataChanged(ue){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(ue)}onViewModeChanged(ue){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(ue)}onSelectionStateChanged(ue){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(ue)}onClearSelection(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()}onPaste(ue){this.visualHasMethod("onPaste")&&this.visualLegacy.onPaste(ue)}onRestoreSelection(ue){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(ue)}canResizeTo(ue){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(ue)}unwrap(){return this.visual}getTelemetryInformation(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()}getFormattingModel(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()}getFormattingModelAsync(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(ue){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(ue)}getSubSelectionStyles(ue){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(ue)}getSubSelectionShortcuts(ue,dt){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(ue,dt)}getSubSelectables(ue){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(ue)}getNextSubSelectable(ue,dt){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(ue,dt)}getSubSelectionStylesAsync(ue){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(ue):this.promiseFactory.resolve(this.getSubSelectionStyles(ue))}getSubSelectionShortcutsAsync(ue,dt){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(ue,dt):this.promiseFactory.resolve(this.getSubSelectionShortcuts(ue,dt))}getSubSelectablesAsync(ue){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(ue):this.promiseFactory.resolve(this.getSubSelectables(ue))}onDataViewObjectChanged(ue,dt){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(ue,dt)}get visualNew(){if(!this.legacy)return this.visual}get visualLegacy(){if(this.legacy)return this.visual}get visualAdapter(){return this.visual}visualHasMethod(ue){var dt=this.legacy?this.visualLegacy:this.visualNew;return(0,ur.gH)(this.plugin.name)?dt&&_.isFunction(dt[ue])&&dt.visualHasMethod(ue):dt&&_.isFunction(dt[ue])}getVersionIndex(ue){if(ue)for(var dt=zr().length,Ft=0;Ft<dt;Ft++)if(zr()[Ft].version===ue)return Ft;return-1}overloadMethods(){var ue=this.getCompiledOverloads();for(var dt in ue)this[dt]=ue[dt]}getCompiledOverloads(){for(var ue={},dt=this.apiVersionIndex,Ft=this.visualNew,$t=0;$t<=dt;$t++){var ar=zr()[$t].overloads;_.isFunction(ar)&&_.assign(ue,ar(Ft,this.host))}return ue}}return(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"enumerateObjectInstancesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"enumerateObjectRepetitionAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Number]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onResizing",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onDataChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onViewModeChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onSelectionStateChanged",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onClearSelection",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[ClipboardItem]),(0,i.__metadata)("design:returntype",void 0)],le.prototype,"onPaste",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",Boolean)],le.prototype,"canResizeTo",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getTelemetryInformation",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getFormattingModelAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",["function"==typeof(Wr=typeof TFormattingPlaceholder<"u"&&TFormattingPlaceholder)?Wr:Object]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"resolveFormattingPlaceholder",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getSubSelectionStyles",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Array)],le.prototype,"getSubSelectionShortcuts",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Array)],le.prototype,"getSubSelectables",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Boolean]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getNextSubSelectable",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getSubSelectionStylesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getSubSelectionShortcutsAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Object)],le.prototype,"getSubSelectablesAsync",null),(0,i.__decorate)([Tr(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,Number]),(0,i.__metadata)("design:returntype",Array)],le.prototype,"onDataViewObjectChanged",null),le})()},390447:function(me,j,e){e.d(j,{s:function(){return g}});var r=e(147293),i=e(329332),a=e(844839),t=["displayName","description","placeHolderText"],l={get:u=>u,getOptional:u=>u,format:u=>u};function g(u){u.apiVersion?function(u){!function(u){u&&(function(u){for(var E in u){var c=u[E];if(c){var f=c.properties;if(f)for(var D in f){var b=f[D];if(b){var T=b.type;T&&T.enumeration&&(T.enumeration=(0,a.s)(T.enumeration))}}}}}(u.objects),function(u){for(var E in u){var c=u[E];c&&c.kind&&(c.kind=v(c.kind.toString()))}}(u.dataRoles),function(u){for(var E in u){var c=u[E];if(c){var f=c.conditions;if(f)for(var D in f){var b=f[D];if(b)for(var T in b){var M=b[T];M&&M.kind&&(b[T].kind=v(M.kind.toString()))}}}}}(u.dataViewMappings))}(u.capabilities)}(u):function(u){!function(u){u&&(function(u){for(var E in u){var c=u[E];if(c){var f=(c=u[E]=_.mapValues(c,C)).properties;if(f)for(var D in f){var b=f[D];if(b){var T=(b=f[D]=_.mapValues(b,C)).type;if(T&&T.enumeration&&_.isFunction(T.enumeration.members)){var M=T.enumeration.members().map(V=>_.mapValues(V,C));T.enumeration=(0,a.s)(M)}}}}}}(u.objects),function(u){for(var E in u){var c=u[E];c&&(u[E]=_.mapValues(c,C))}}(u.dataRoles))}(u.capabilities)}(u)}function v(u){switch(u.toLowerCase()){case"grouping":case r.Ts.Grouping.toString():return r.Ts.Grouping;case"measure":case r.Ts.Measure.toString():return r.Ts.Measure;case"groupingormeasure":case r.Ts.GroupingOrMeasure.toString():return r.Ts.GroupingOrMeasure}}function C(u,E){return _.isString(u)||-1===_.indexOf(t,E)?u:(0,i.M)(u,l)}},852233:function(me,j,e){e.d(j,{A:function(){return h},r:function(){return s}});var r=e(619584),i=e(624608),a=e(706166),t=e(871090),l=e(898145),g=e(253261),n=e(304703),d=e(201991);class s{constructor(v,m,p,y,S,C,u){this.wrappedVisual=v,this.visualPlugin=m,this.promiseFactory=p,this.telemetryService=y,this.isPluginInError=S,this.certifiedEventsService=C,this.silent=u,this.initCalled=!1,this.visualLoadStartTime=(0,g.t)(),this.startTimeISO=(new Date).toISOString()}init(v){if(this.initCalled=!0,v&&v.host&&v.host.telemetry){var m=v.host.telemetry();this.visualName=m&&m.visualName,this.instanceId=m&&m.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(()=>this.wrappedVisual.init(v))}checkInit(){return!!this.initCalled||(n.Cn.assertFail("Another visual method was called before init"),!1)}destroy(){this.wrappedVisual.destroy&&this.executeSafely(()=>this.wrappedVisual.destroy())}update(v){var m=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync((0,r.A)(function*(){if(yield m.wrappedVisual.update(v),m.telemetryService&&m.startTimeISO&&m.visualPlugin.custom){var{version:p,apiVersion:y}=m.visualPlugin,S=(new Date).toISOString();m.telemetryService.logEvent(t.o0,{name:m.visualPlugin.name,apiVersion:y,custom:!!m.visualPlugin.custom,visualVersion:p,visualName:m.visualName,instanceId:m.instanceId,start:m.startTimeISO,end:S,isError:m.isPluginInError,errorSource:l.gf.User}),m.startTimeISO=null,m.visualLoadStartTime&&(m.certifiedEventsService?.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:y&&(0,d.x6)(y)?.major,apiMinorVersion:y&&(0,d.x6)(y)?.minor,visualMajorVersion:p&&(0,d.x6)(p)?.major,visualMinorVersion:p&&(0,d.x6)(p)?.minor},activityName:t.NW,correlationId:m.telemetryService?.root?.id,operationEndTime:(0,g.t)(),operationStartTime:m.visualLoadStartTime,visualId:m.visualPlugin.name}),m.visualLoadStartTime=null)}}))}onResizing(v,m){this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(()=>this.wrappedVisual.onResizing(v,m))}onDataChanged(v){this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(()=>this.wrappedVisual.onDataChanged(v))}onViewModeChanged(v){this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(()=>this.wrappedVisual.onViewModeChanged(v))}onSelectionStateChanged(v){this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(()=>this.wrappedVisual.onSelectionStateChanged(v))}onClearSelection(){this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(()=>this.wrappedVisual.onClearSelection())}onPaste(v){this.checkInit(),this.wrappedVisual.onPaste&&this.executeSafely(()=>this.wrappedVisual.onPaste(v))}onRestoreSelection(v){return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(()=>this.wrappedVisual.onRestoreSelection(v))}canResizeTo(v){if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(()=>this.wrappedVisual.canResizeTo(v))}enumerateObjectInstances(v){if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectInstances(v))}enumerateObjectRepetition(){if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(()=>this.wrappedVisual.enumerateObjectRepetition())}enumerateObjectInstancesAsync(v){return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectInstancesAsync(v)):this.promiseFactory.resolve(this.enumerateObjectInstances(v))}enumerateObjectRepetitionAsync(){return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(()=>this.visualAdapter.enumerateObjectRepetitionAsync()):this.promiseFactory.resolve(this.enumerateObjectRepetition())}get sandbox(){return this.visualAdapter&&this.visualAdapter.sandbox}get visualAdapter(){return this.wrappedVisual}unwrap(){var v=this.wrappedVisual;return v.unwrap?v.unwrap():v}visualHasMethod(v){var m=this.wrappedVisual;return m&&m.visualHasMethod(v)}getTelemetryInformation(){if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(()=>this.wrappedVisual.getTelemetryInformation())}getFormattingModel(){if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(()=>this.wrappedVisual.getFormattingModel())}getFormattingModelAsync(){return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(()=>this.visualAdapter.getFormattingModelAsync()):this.promiseFactory.resolve(this.getFormattingModel())}resolveFormattingPlaceholder(v){if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(()=>this.wrappedVisual.resolveFormattingPlaceholder(v))}getSubSelectionStyles(v){if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionStyles(v))}getSubSelectionShortcuts(v,m){if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcuts(v,m))}getSubSelectables(v){if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(()=>this.wrappedVisual.getSubSelectables(v))}getNextSubSelectable(v,m){if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(()=>this.wrappedVisual.getNextSubSelectable(v,m))}getSubSelectionStylesAsync(v){return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionStylesAsync(v)):this.promiseFactory.resolve(this.getSubSelectionStyles(v))}getSubSelectionShortcutsAsync(v,m){return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectionShortcutsAsync(v,m)):this.promiseFactory.resolve(this.getSubSelectionShortcuts(v,m))}getSubSelectablesAsync(v){return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(()=>this.wrappedVisual.getSubSelectablesAsync(v)):this.promiseFactory.resolve(this.getSubSelectables(v))}onDataViewObjectChanged(v,m){if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(()=>this.wrappedVisual.onDataViewObjectChanged(v,m))}executeSafely(v){try{return v()}catch(m){this.telemetryService&&this.logVisualExceptionEvent(m)}}executeSafelyAsync(v){var m=this;return(0,r.A)(function*(){try{return yield v()}catch(p){m.telemetryService&&m.logVisualExceptionEvent(p)}})()}logVisualExceptionEvent(v){h(v,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)}}function h(o,v,m,p,y,S){var C=!!v?.custom,{version:u,apiVersion:E}=v||{};y.logEvent(t.ir,{visualType:v.name,isCustom:C,apiVersion:E,visualName:m,instanceId:p,isDeprecated:!!v.isDeprecated,source:o.fileName,lineNumber:o.lineNumber,columnNumber:o.columnNumber,message:C?void 0:(0,a.qd)(o),stack:C?void 0:(0,a.lO)(o)}),C&&S?.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:E&&(0,d.x6)(E)?.major,apiMinorVersion:E&&(0,d.x6)(E)?.minor,visualMajorVersion:u&&(0,d.x6)(u)?.major,visualMinorVersion:u&&(0,d.x6)(u)?.minor,isDeprecated:!!v?.isDeprecated},activityName:t.jr,activityStatus:i.A.Failed,correlationId:y?.root?.id,visualId:v?.name})}},195788:function(me,j,e){function r(l){return new a(l)}function i(l){return new t(l)}e.d(j,{E:function(){return i},r:function(){return r}});class a{constructor(g){this.colorPalette={},this.colorIndex=0,this.colors=g}getColor(g){var n=this.colorPalette[g];if(n)return n;var d=this.colors;return n=this.colorPalette[g]=d[this.colorIndex++],this.colorIndex>=d.length&&(this.colorIndex=0),n}reset(){return this.colorIndex=0,this.colorPalette={},this}}class t extends a{constructor(g){var n=g.colorPalette.dataColors;super(n.getAllColors()),this.isHighContrast=g.isHighContrast,this.foreground=g.colorPalette.foreground,this.foregroundLight=g.colorPalette.foregroundLight,this.foregroundDark=g.colorPalette.foregroundDark,this.foregroundNeutralLight=g.colorPalette.foregroundNeutralLight,this.foregroundNeutralDark=g.colorPalette.foregroundNeutralDark,this.foregroundNeutralSecondary=g.colorPalette.foregroundNeutralSecondary,this.foregroundNeutralSecondaryAlt=g.colorPalette.foregroundNeutralSecondaryAlt,this.foregroundNeutralSecondaryAlt2=g.colorPalette.foregroundNeutralSecondaryAlt2,this.foregroundNeutralTertiary=g.colorPalette.foregroundNeutralTertiary,this.foregroundNeutralTertiaryAlt=g.colorPalette.foregroundNeutralTertiaryAlt,this.foregroundSelected=g.colorPalette.foregroundSelected,this.foregroundButton=g.colorPalette.foregroundButton,this.background=g.colorPalette.background,this.backgroundLight=g.colorPalette.backgroundLight,this.backgroundNeutral=g.colorPalette.backgroundNeutral,this.backgroundDark=g.colorPalette.backgroundDark,this.hyperlink=g.colorPalette.hyperlink,this.visitedHyperlink=g.colorPalette.visitedHyperlink,this.mapPushpin=g.colorPalette.mapPushpin,this.shapeStroke=g.colorPalette.shapeStroke;var d=n.getSentimentColors();this.bad=d.bad,this.neutral=d.neutral,this.good=d.good;var s=n.getGradientColors();this.minimum=s.minColor,this.center=s.midColor,this.maximium=s.maxColor,this.null=s.nullColor,this.negative=d.bad,this.positive=d.good,this.selection=g.colorPalette.selection,this.separator=g.colorPalette.separator}}},625935:function(me,j,e){e.d(j,{Y:function(){return g}});var r=e(430602),i=e(201991),a=e(942596),t=e(981265),l=e(464205);class g{constructor(d,s=!1){this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=d.hostServices,this.apiVersion=d.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=s}select(d,s=!1){var h=this.promiseFactory.defer();return d?(d instanceof Array||(d=[d]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(d,s):(this.selectInternal(d,s),this.sendSelectionToHost(this.selectedIds,s)),h.resolve(this.selectedIds),h.promise):(h.reject(),h.promise)}showContextMenu(d,s,h){var o=this.promiseFactory.defer();return d||(d={}),this.sendContextMenuToHost(d,s,h),o.resolve(null),o.promise}toggleExpandCollapse(d,s){var h=this.promiseFactory.defer();return this.sendExpandCollapseToHost(d,!0===s),h.resolve(null),h.promise}hasSelection(){return this.selectedIds.length>0}clear(){var d=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),d.resolve(null),d.promise}getSelectionIds(){return this.selectedIds}setSelectionIds(d){this.selectedIds=d}sendSelectionToHost(d,s){if(this.noIframe||!this.apiVersion||(0,i.lt)(this.apiVersion,"2.0.0")){var h=this.dataPointObjectName,o={type:t.H6.DataPointSelection,visualObjects:_.chain(d).filter(m=>m.hasIdentity()).map(m=>({objectName:h,selectorsByColumn:m.getSelectorsByColumn()})).value(),selectors:void 0,selectionMode:s?a.v.Difference:a.v.Single},v=!1;_.isEmpty(d)||(v=d[0].getSelector()&&!d[0].getSelectorsByColumn()),v&&(o.selectors=_.chain(d).filter(m=>m.hasIdentity()).map(m=>m.getSelector()).value()),this.hostServices.onSelect(o)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(d,s))}sendContextMenuToHost(d,s,h){d&&s&&this.hostServices.customVisualOnContextMenu({data:[d],position:s,dataRoles:h?[h]:void 0})}sendExpandCollapseToHost(d,s){d&&null!=d.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:d,entireLevel:s})}selectInternal(d,s){d.length<1||(d.length>1?this.selectedIds=s?d.filter(h=>!this.selectedIds.some(o=>o.equals(h))).concat(this.selectedIds.filter(h=>!d.some(o=>o.equals(h)))):d:g.containsSelection(this.selectedIds,d[0])?this.selectedIds=s?this.selectedIds.filter(h=>!d[0].equals(h)):this.selectedIds.length>1?d:[]:s?this.selectedIds.push(d[0]):this.selectedIds=d)}static containsSelection(d,s){return d.some(h=>s.equals(h))}static getSelectorsByColumn(d){return d&&d[0]instanceof r.r?d:_(d).filter(s=>s&&s.hasIdentity).map(s=>s.getSelectorsByColumn()).compact().value()}static createChangeForFilterProperty(d,s){var h={},o={objectName:d.objectName,selector:void 0,properties:h};return null==s?(h[d.propertyName]={},{remove:[o]}):(h[d.propertyName]=s,{merge:[o]})}getFilterFromSelectors(){if(this.hasSelection()){var d=_.chain(this.selectedIds).filter(s=>s.hasIdentity()).map(s=>s.getSelector()).value();return(0,l.ss)(d,!1)}}prepareCustomVisualSelectEventArgs(d,s){var h={selectionIds:[],multiSelect:s};if(d&&d[0]&&(d[0].dataMap||d[0].measures))for(var o of d)h.selectionIds.push(o);return h}applySelectionFilter(){this.hostServices.persistProperties(g.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))}registerOnSelectCallback(d){this.onSelectCallback=d}invokeOnSelectCallback(d){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(d)}}},66460:function(me,j,e){e.d(j,{e:function(){return g},oL:function(){return l},vs:function(){return a}});var r=e(785463),i=e(147293);function a(n){return new t(n)}class t{constructor(d){this.hostServices=d.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}trace(d,s){this.telemetryService&&this.telemetryService.trace(d,s)}}function l(n){switch(n){case i.Zf.Error:return"VisualEventError";case i.Zf.Trace:return"VisualEventTrace";case i.Zf.RenderStarted:return"VisualEventRenderStarted";case i.Zf.RenderCompleted:return"VisualEventRenderCompleted";default:return void r.Y.assertFail("Unknown VisualEventType: "+n)}}function g(n){switch(n){case"VisualEventError":return i.Zf.Error;case"VisualEventTrace":return i.Zf.Trace;case"VisualEventRenderStarted":return i.Zf.RenderStarted;case"VisualEventRenderCompleted":return i.Zf.RenderCompleted;default:return void r.Y.assertFail("Unknown VisualEventType: "+n)}}},412984:function(me,j,e){e.d(j,{N:function(){return i}});var r=e(625935);function i(t){return new a(t)}class a{constructor(l){this.hostServices=l.hostServices,this.tooltipService=this.hostServices.tooltips()}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(l){if(this.enabled()){var g={coordinates:l.coordinates,dataItems:l.dataItems,isTouchEvent:l.isTouchEvent,identities:r.Y.getSelectorsByColumn(l.identities)};this.tooltipService.show(g)}}move(l){if(this.enabled()){var g={coordinates:l.coordinates,dataItems:l.dataItems,isTouchEvent:l.isTouchEvent,identities:r.Y.getSelectorsByColumn(l.identities)};this.tooltipService.move(g)}}hide(l){this.enabled()&&this.tooltipService.hide(l)}}},32764:function(me,j,e){e.d(j,{CE:function(){return t},Rr:function(){return a},Tm:function(){return g}});var r=e(785463),i=e(464205);function a(n){var s=null!=n.data||null!=n.selectors,h=_.some(n.visualObjects,o=>o.selectorsByColumn&&o.selectorsByColumn.metadata&&!_.isArray(o.selectorsByColumn.metadata));return s||h}function t(n){var d;if(n.data2)d=n.data2;else{if(n.selectors||n.data)return r.Y.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(n.selectors||n.data,o=>function(n){if(n){var d={};return d[""]=n.data,{dataMap:d,metadata:[n.metadata]}}}(o));if(!n.visualObjects)return[];d=_.map(n.visualObjects,o=>o.selectorsByColumn)}for(var s of d){var h=s.metadata;h&&!_.isArray(h)&&(s.metadata=[h])}return d}function g(n){return null!=n.selectors?n.selectors:n.data?n.data:n.visualObjects?_.map(n.visualObjects,d=>(0,i.j9)(d.selectorsByColumn)):n.data}},694069:function(me,j,e){e.d(j,{K8:function(){return s},x3:function(){return h}});var r=e(785463),i=e(928912),a=e(677754);var d=window;function s(m){return o(m,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===d.resourceLoaderIncludePackageId)}function h(m){var p=m.getAbsoluteUri("/sharedresources");return o(m,p,!1)}function o(m,p,y){return r.Y.assertValue(m,"httpService"),r.Y.assertValue(p,"uri"),r.Y.assertValue(y,"includePackageIdInUri"),new v(m,p,y)}class v{constructor(p,y,S){this.httpService=p,this.uri=y,this.includePackageIdInUri=S}get(p,y,S,C){var u=this.uri;this.includePackageIdInUri&&(u=this.uri+p+"/");var E=i.n4.urlCombine(u,_.map(S.split("/"),f=>encodeURIComponent(f)).join("/")),c=this.httpService.powerbiRequestOptions();return c.timeout=a.bj,c.responseType="text",C&&null!=C.retries&&(c.retryCount=C.retries),this.httpService.get(E,c).then(f=>f.data)}getBlob(p,y,S,C){var u=this.uri;this.includePackageIdInUri&&(u=this.uri+p+"/");var E=i.n4.urlCombine(u,encodeURIComponent(S)),c=this.httpService.powerbiRequestOptions();return c.responseType=i.YQ,C&&null!=C.retries&&(c.retryCount=C.retries),this.httpService.get(E,c).then(f=>f.data)}}},202253:function(me,j,e){e.d(j,{a:function(){return o}});var r=e(523324),i=e(597794),a=e(66460),t=e(785463),l=e(982699),g=e(103965),n=e(636712),d=e(871090),s=e(147293);function o(p,y,S,C,u,E,c,f,D){return t.Y.assertValue(p,"messageProxy"),new m(p,y,S,C,u,E,c,f,D)}var m=(()=>{class p{constructor(S,C,u,E,c,f,D,b,T=15e3){this.messageProxy=S,this.telemetryService=C,this.certifiedEventsService=u,this.approvedResourcesService=E,this.featureSwitchService=c,this.isDebugVisual=f,this.promiseFactory=D,this.privilegeService=b,this.updateTimeOut=T,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,t.Y.assertValue(S,"messageProxy"),this.deferredCache={},this.messageProxy.on(l.R,M=>this.onMessageReceived(M)),this.messageProxy.on(l.wA,M=>this.onMessageError(M))}get plugin(){return this._plugin}get isDebug(){return this.isDebugVisual}init(S,C){this.visualDelegate=S,C&&(this._plugin=C,this.isSandboxReady=!0)}setPluginReadyHandler(S){this.pluginReadyHandler=S}logEvent(...S){if(!this.telemetryService)return null;var u,C=S.shift();return u="string"==typeof C?this.getEventFactory(C):C,this.telemetryService.logEvent.apply(this.telemetryService,[u,...S])}logStandardizedFeatureEvent(S){S.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logStandardizedFeatureEvent(S)}logTimedStandardizedFeatureEvent(S){S.correlationId=this.telemetryService.root?.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(S)}getEventFactory(S){switch(S){case"VisualEventError":return n.T2;case"VisualEventTrace":return n.MB;case"VisualException":return d.ir;case"VisualEventRenderStarted":return n.Ix;case"VisualEventRenderCompleted":return n.CM;case"VisualApiUsage":return d.o0;default:return void t.Y.assertFail("Unknown eventType: "+S)}}logVisualEvent(...S){var C=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(C)||this.approvedResourcesService.isTrustedResource(C))){var[u,E,c]=S,f={visualType:C,instanceId:E instanceof Object?E.instanceId:E};c=E instanceof Object?E.payload:c;var D=(0,a.e)(u);switch(D){case s.Zf.RenderStarted:case s.Zf.RenderCompleted:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;c="";break;case s.Zf.Trace:case s.Zf.Error:var b=this.approvedResourcesService.getTelemetryUsageLimit(C);if(this.telemetryUsageCount>=b)return;this.telemetryUsageCount++,this.telemetryUsageCount===b&&this.telemetryService.logEvent(n.sf,f),c=c?c.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void t.Y.assertFail("Invalid visual event type: "+D)}return this.logEvent.apply(this,[u,{...f,payload:c}])}}ready(S){t.Y.assertValue(S,"proxyInitOptions"),this.contentWindow=S,this.messageProxy.contentWindow=S,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0}update(S){if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&S.updateId){var u=this.promiseFactory.defer();this.deferredCache[S.updateId]=u;var E=setTimeout(()=>{u.resolve(null),this.telemetryService.logEvent(n.LV,{visualType:this.plugin.name,timeOut:this.updateTimeOut,parentId:this.telemetryService.root.id})},this.updateTimeOut);S.updateCallBack=()=>u.resolve(null);var c=this.invoke("update",[S]);return c&&c.catch(f=>u.reject(f)),u.promise.catch(f=>f).finally(()=>{clearTimeout(E),S.updateId&&delete this.deferredCache[S.updateId]}),u.promise}return this.invoke("update",[S]),Promise.resolve(void 0)}invoke(S,C){if(t.Y.assertValue(S,"eventName"),this.isSandboxReady)return this.execute(S,C);this.methodQueue.push({methodName:S,arguments:C})}postMessage(S,C){this.messageProxy.postMessage({eventName:S,arguments:C})}postMessageAsync(S,C){return this.messageProxy.postMessageAsync({eventName:S,arguments:C})}onPluginReady(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)}destroy(){this.messageProxy.off(l.R),this.messageProxy.off(l.wA),this.messageProxy.destroy(),this.contentWindow=null}execute(S,C){if(_.isFunction(this.visualDelegate[S]))return this.visualDelegate[S].apply(this.visualDelegate,C);this.postMessage(S,C)}flushCallStack(){for(;this.methodQueue.length>0;){var S=this.methodQueue.shift();this.execute(S.methodName,S.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()}onMessageReceived(S){if(this.validateMessageSource(S)){var C=()=>{this.telemetryService.logEvent(n.ud,{visualType:this._plugin.name,environment:this.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:S.message.eventName})},u=this[S.message.eventName];if("function"==typeof u)return u.approvedMessage?u.apply(this,S.message.arguments):C();if(this.visualDelegate)return"function"==typeof(u=this.visualDelegate[S.message.eventName])&&u.approvedMessage?u.apply(this.visualDelegate,S.message.arguments):C()}}onMessageError(S){this.validateMessageSource(S)&&S.message&&S.message.error&&!_.isEqual(S.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(d.z9,{visualName:this._plugin.name,debugErrorInfo:S.message.error.eventName+";"+S.message.error.message}),this.lastErrorMessage=_.cloneDeep(S.message))}refreshHostData(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()}getResourceUrl(S){var C=(0,g.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(C)?this.visualDelegate.getResourceUrl(C,S):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+C+"] is not authorized.",isError:!0,promiseId:S}])}getAADAuthenticationToken(S){var C=(0,g.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(C)?this.visualDelegate.getAADAuthenticationToken(C,S):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+C+"] is not authorized.",isError:!0,promiseId:S}])}getAADToken(S){var C=(0,g.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(C)?this.visualDelegate.getAADToken(C,S):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+C+"] is not authorized.",isError:!0,promiseId:S}])}getWACToken(S){var C=(0,g.wF)(this.plugin.name,this.isDebugVisual);!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(C)?this.visualDelegate.getWACToken(S.resourceSiteUrl,S.resourceEtag,C,S.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+C+"] is not authorized.",isError:!0,promiseId:S.promiseId}])}renderingStarted(S,C){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(n.ou,{visualType:this.plugin.name,instanceId:S,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})}renderingFinished(S,C){if(this.deferredCache[C]&&this.deferredCache[C].resolve(null),void 0!==this.renderEventStartTime){var u=(new Date).toISOString();this.telemetryService.logEvent(n.mv,{visualType:this.plugin.name,instanceId:S,start:this.renderEventStartTime,end:u,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}}renderingFailed(S,C,u){this.deferredCache[C]&&this.deferredCache[C].reject(u),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(n.Qz,{visualType:this.plugin.name,instanceId:S,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)}getWebAccessStatus(S,C){var u=this.privilegeService.getWebAccessStatus(this.plugin,S);this.postMessage("handleGetWebAccessStatus",[{promiseId:C,status:u}])}validateMessageSource(S){return!!this.featureSwitchService.featureSwitches.cvMessageChannel||!!S.source&&!!this.contentWindow&&this.contentWindow===S.source}}return(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],p.prototype,"logEvent",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"logStandardizedFeatureEvent",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"logTimedStandardizedFeatureEvent",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",Object)],p.prototype,"logVisualEvent",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"onPluginReady",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"refreshHostData",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"getResourceUrl",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"getAADAuthenticationToken",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Number]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"getAADToken",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[Object]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"getWACToken",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"renderingStarted",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"renderingFinished",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,String,String]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"renderingFailed",null),(0,r.__decorate)([(0,i.HJ)(),(0,r.__metadata)("design:type",Function),(0,r.__metadata)("design:paramtypes",[String,Number]),(0,r.__metadata)("design:returntype",void 0)],p.prototype,"getWebAccessStatus",null),p})()},675762:function(me,j,e){e.d(j,{b:function(){return i}});var r=e(619584);function i(){return new a}class a{constructor(){this.suppressAnimations=!1}deferRenderOperation(l,g){return(0,r.A)(function*(){var n=$.Deferred();return setTimeout(()=>{g(),n.resolve()}),n.promise()})()}clearOperationsQueue(){}}},380455:function(me,j,e){e.d(j,{o:function(){return l}});var r=e(56175),i=e(785463),a=e(989927),t=e(597794),l=(d,s)=>{i.Y.assertValue(d,"options");var h=d.promiseFactory.defer(s),o=d.visualPlugin;if(d.visualSandbox&&function(d){var s=d.visualPlugin,h=d.featureSwitches||{},o=d.approvedResourceService;return!!s&&(!!(d.approvedResourceService&&d.approvedResourceService.isTrustedResource&&d.approvedResourceService.isTrustedResource(s.name))||!(!(0,a.g4)(s)||!h.approvedResourcesDisabled&&!s.apiVersion&&o&&o.isApprovedResource(s.name))&&h.sandboxVisualsEnabled)}(d)){var v=d.visualSandbox.getVisualPlugin(o,d.telemetryService,d.isDebugVisual);v.createES6?v.createES6().then(m=>h.resolve(m)):v.create?h.resolve((0,t.Un)(v.create(),d.run)):h.reject("either create or createES6 must be defined")}else o.module?o.createES6&&!o.module.css?h.resolve((0,t.I2)(o,o.create,d.promiseFactory,d.telemetryService,void 0,d.run,d.certifiedEventsService)):d.moduleLoader.require({javascript:o.createES6?void 0:o.module.javascript,css:o.module.css}).then(m=>h.resolve((0,t.I2)(o,o.create,d.promiseFactory,d.telemetryService,m,d.run,d.certifiedEventsService)),m=>h.reject(m)):h.resolve((0,t.I2)(o,o.create,d.promiseFactory,d.telemetryService,void 0,d.run,d.certifiedEventsService));return(0,r.L)(h)}},69476:function(me,j,e){e.d(j,{z:function(){return t}});var r=e(248080),i=e(113577),a=e(636712);function t(g,n,d){return new l(g,n,d)}class l{constructor(n,d,s){this.telemetryService=n,this.visualPlugin=d,this.localizationService=s}logWarnings(n,d){if(!_.isEmpty(n))for(var s of n)s instanceof r.E&&this.logDsrLimitsWarning(s,d)}logDsrLimitsWarning(n,d){var m,p,y,s=n.limits,h=n.getDetails(this.localizationService).message,o=n.code,v=d.type;s.Primary&&(m=this.getLimitString(n.limits.Primary)),s.Secondary&&(p=this.getLimitString(n.limits.Secondary)),s.Intersection&&(y=this.getLimitString(n.limits.Intersection));var S=d.dataViews,C=d&&d.data&&d.data.isFirstSegment,u=C||_.some(S,O=>O&&O.metadata&&O.metadata.segment);if(!u||!1!==C)for(var E of S)if(E&&E.categorical){var c=_.head(E.categorical.categories),f=0;c&&(f=c.values&&c.values.length||0);var D=E.categorical.values&&E.categorical.values.grouped(),b=D&&D.length||0,T=!(!E.categorical.values||!E.categorical.values.source),M=this.visualPlugin.capabilities(d.type),V=M&&M.drilldown&&_.head(M.drilldown.roles),w=!1,P=d.dataTransforms;V&&P&&(w=_.filter(P.selects,O=>O.roles&&O.roles[V]).length>1);var N=void 0,I=this.visualPlugin.getPlugin(d.type);I&&I.getAdditionalTelemetry&&(N=JSON.stringify(I.getAdditionalTelemetry(E))),this.telemetryService.logEvent(a.Ai,{errorCode:o,targetVisualType:v,primaryDataReduction:m,secondaryDataReduction:p,intersectionDataReduction:y,primaryCount:f,secondaryCount:b,hasCategoryHierarchy:w,hasDynamicSeries:T,visualTelemetry:N,isSegmented:u,message:h})}}getLimitString(n){switch(n.Type){case i.gT.Top:return"Top:"+n.Count;case i.gT.Bottom:return"Bottom:"+n.Count;case i.gT.Sample:return"Sample:"+n.Count}}}},636712:function(me,j,e){e.d(j,{Ai:function(){return ne},BH:function(){return H},C9:function(){return L},CM:function(){return g},D:function(){return Q},E3:function(){return A},HI:function(){return U},IJ:function(){return ee},Ix:function(){return t},LV:function(){return p},MB:function(){return S},MT:function(){return B},Nt:function(){return N},Ow:function(){return w},Qz:function(){return v},T2:function(){return u},TM:function(){return F},Wm:function(){return I},YK:function(){return T},ZY:function(){return D},at:function(){return i},fu:function(){return R},is:function(){return J},mv:function(){return h},ou:function(){return d},p3:function(){return x},qi:function(){return V},r6:function(){return Y},sf:function(){return c},ud:function(){return k},z9:function(){return P}});var r=e(817491),i=function(ae){return ae.PublishToWeb="PublishToWeb",ae.ReportServer="ReportServer",ae.ExportAPI="ExportAPI",ae.PaaSEmbed="PaaSEmbed",ae.FSDisabled="FSDisabled",ae}({}),a="PBI.VisualEvent.RenderStarted",t=r.Xi[a]=(0,r.Vp)(a),l="PBI.VisualEvent.RenderCompleted",g=r.Xi[l]=(0,r.Vp)(l),n="PBI.VisualEvent.RenderingStarted",d=r.Xi[n]=(0,r.Vp)(n),s="PBI.VisualEvent.RenderingCompleted",h=r.Xi[s]=(0,r.Vp)(s),o="PBI.VisualEvent.RenderingFailed",v=r.Xi[o]=(0,r.Vp)(o),m="PBI.VisualEvent.UpdateTimeOut",p=r.Xi[m]=(0,r.Vp)(m),y="PBI.VisualEvent.Trace",S=r.Xi[y]=(0,r.Vp)(y),C="PBI.VisualEvent.Error",u=r.Xi[C]=(0,r.Vp)(C),E="PBI.VisualEvent.ReachedTelemetryUsageLimit",c=r.Xi[E]=(0,r.Vp)(E),f="PBI.VisualEvent.LaunchURL",D=r.Xi[f]=(0,r.Vp)(f),b="PBI.VisualEvent.DownloadContentValidationFailed",T=r.Xi[b]=(0,r.Vp)(b),M="PBI.VisualEvent.DownloadContent",V=r.Xi[M]=(0,r.Vp)(M),w="PBI.VisualEvent.GetAvailableServicePlans",P=r.Xi[w]=(0,r.Vp)(w),N="PBI.VisualEvent.LicenseIsUnsupportedEnv",I=r.Xi[N]=(0,r.Vp)(N),O="PBI.VisualEvent.LicenseServiceIsUndefined",R=r.Xi[O]=(0,r.Vp)(O),W="PBI.VisualEvent.ServicePlansResponseIsUndefined",F=r.Xi[W]=(0,r.Vp)(W),U="PBI.VisualEvent.NotifyLicenseRequired",B=r.Xi[U]=(0,r.Vp)(U),x="PBI.VisualEvent.ClearLicenseNotification",A=r.Xi[x]=(0,r.Vp)(x),L="PBI.VisualEvent.NotifyLicenseFeatureBlocked",Y=r.Xi[L]=(0,r.Vp)(L),z="PBI.VisualEvent.Privileges",H=r.Xi[z]=(0,r.Vp)(z),Z="PBI.VisualEvent.Privileges.Violation",k=r.Xi[Z]=(0,r.Vp)(Z),K="PBI.VisualEvent.ExternalMigration.UndefinedGet",ee=r.Xi[K]=(0,r.Vp)(K),Q="PBI.VisualEvent.CapabilitiesTelemetry",J=r.Xi[Q]=(0,r.Vp)(Q),X="PBI.DsrDataLimitsWarning",ne=r.Xi[X]=(0,r.Vp)(X)},437849:function(me,j,e){e.d(j,{T:function(){return n}});var r=e(748958),i=e(35899),a=e(785463),t=e(304703),l=e(41324),g=e(98339);class n{static cloneThemeCollection(s){return _.clone(s)}static loadHighContrastTheme(s,h,o,v,m){return m&&!o.isThemeLoaded(m)?n.loadTheme(r.X.SharedResources,s,h,o,v,m):s.resolve()}static loadThemeAndBaseTheme(s,h,o,v,m){try{var p=[],y=m.customTheme,S=m.baseTheme&&m.baseTheme.name;y&&y.name&&!o.isThemeLoaded(y.name)&&p.push(n.loadTheme(m.customTheme.type,s,h,o,v,y.name,y.version,!0)),S&&!o.isThemeLoaded(S)&&p.push(n.loadTheme(m.baseTheme.type,s,h,o,v,S));var C=s.defer();return s.all(p).finally(()=>{var u=!0;y&&y.name&&!o.isThemeLoaded(y.name)&&(u=!1,t.Cn.error("Error loading custom theme",!1)),S&&!o.isThemeLoaded(S)&&(u=!1,t.Cn.error("Error loading base theme",!1)),C.resolve(u)}),C.promise}catch(u){return t.Cn.error(`Error loading report theme - ${n.getLoadError(u)}`),s.resolve(!1)}}static loadTheme(s,h,o,v,m,p,y,S){return a.Y.assert(()=>s===r.X.RegisteredResources||s===r.X.SharedResources,"resource type should either be registered or shared"),s===r.X.RegisteredResources?n.loadRegisteredResourceTheme(h,o,v,m,p,y):s===r.X.SharedResources?n.loadSharedResourceTheme(p,m,v,o,h,y,S):void 0}static getLoadError(s){return(0,g.Ae)(s)}static loadRegisteredResourceTheme(s,h,o,v,m,p){return(0,g.OM)(s,h,v,m).then(y=>{n.resolveLoadedTheme(m,y,o,p)}).catch(y=>{t.Cn.error(`Error loading theme - ${n.getLoadError(y)}`)})}static loadSharedResourceTheme(s,h,o,v,m,p,y){return(0,g.qF)(h,{packageType:r.X.SharedResources,itemName:s},v,m,{itemTypeFromReference:y?l.gH.CustomTheme:l.gH.BaseTheme}).then(S=>{n.resolveLoadedTheme(s,S,o,p)}).catch(S=>{t.Cn.error(`Error loading base theme ${s} - ${n.getLoadError(S)}`)})}static resolveLoadedTheme(s,h,o,v){if(!o.isThemeLoaded(s)){var m=(0,i.G)(h);a.Y.assertValue(m,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),m&&o.addCustomTheme(s,m,v)}}}},827677:function(me,j,e){e.d(j,{o:function(){return pt}});var r=e(201991),i=e(785463),a=e(147293),t=e(566436),l=e(597794),g=e(194329),n=e(824258),d=e(375953),s=e(981265),h=e(977961),o=e(625935);class v{constructor(ie,G,se){this.powerbiHost=ie,this.visualHostTooltipService=se,this.tooltipService=new m(G,this.visualHostTooltipService)}onSelecting(ie){ie.action=a.Ii.Selection}onSelect(ie){this.powerbiHost&&this.powerbiHost.onSelect(ie)}persistProperties(ie){this.powerbiHost&&this.powerbiHost.persistProperties(ie)}tooltips(){return this.visualHostTooltipService}applyJsonFilter(ie,G,se,He){this.powerbiHost.applyJsonFilter(ie,G,se,He)}applyIdentityFilter(ie,G,se,He){this.powerbiHost.applyIdentityFilter(ie,G,se,He)}getJSONFilter(ie,G){return this.promiseFactory().reject()}createSelectionIdBuilder(){return new t.tJ}createTooltipService(){return this.tooltipService}createSelectionManager(ie){return new o.Y({hostServices:this,apiVersion:ie},!0)}getLocalizedString(ie){return null}locale(){return navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}onSwitchFocusModeState(ie){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(ie)}onDisplayWarningIcon(ie,G){if(this.powerbiHost){var Mt=h.EK,zt=new n.G(h.oX,ie.substr(0,h.AA),G.substr(0,Mt));this.powerbiHost.setWarnings([zt])}}loadMoreData(){}loadWindow(ie){}setShouldDeferData(){}fetchMoreData(ie){return!0}launchUrl(ie){}destroy(){}refreshHostData(){}onContextMenu(){}authenticationService(){return null}telemetry(){return null}localStorageService(){return null}eventService(){return null}licenseManagerService(){return null}acquireAADTokenService(){return null}visualTimeSynchronization(){return null}alertScreenReader(ie){}alertWithDebounce(ie,G){}requestFocus(){}onDragStart(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(){return!1}setNodeExpansionState(ie){}setLevelExpansionState(ie){}setCanDrill(ie){}onCustomSort(ie){}getViewMode(){return a.nE.View}getEditMode(){return a.WF.Default}setWarnings(ie){}getWarnings$(){}setToolbar(ie){}shouldRetainSelection(){return!1}geocoder(){return(0,g.NH)()}geolocation(){i.Y.assertFail("Not being used anywhere")}promiseFactory(){return(0,d.C)()}ignoreDefaultFilter(){return!1}drill(ie){}getIdentityDisplayNames(ie){}setIdentityDisplayNames(ie){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(ie,G){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.fv.Single}dropdown(){}networkAvailability(){}downloadService(){}setAriaMetadata(ie){}artifactService(){}getSectionsMetadata$(){}getBookmarksMetadata$(){}onNotifyLicense(ie){}onClearLicenseNotification(){}onNotifyFeatureBlocked(ie){}getSubSelectionService(){}webAccessService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}localStorageV2Service(){return null}dateTimeFormatService(){}visualExportService(){}visualHostSubSelectionService(){return null}annotations(){}enableLoadMoreData(ie){}}class m{constructor(ie,G){i.Y.assert(()=>!!G,"visualHostTooltip should be defined"),this.tooltipService=G,this.element=ie}enabled(){return this.tooltipService&&this.tooltipService.enabled()}show(ie){if(this.enabled()){var G={coordinates:this.fixCoordinates(ie.coordinates),dataItems:ie.dataItems,isTouchEvent:ie.isTouchEvent,identities:o.Y.getSelectorsByColumn(ie.identities)};this.tooltipService.show(G)}}move(ie){if(this.enabled()){var G={coordinates:this.fixCoordinates(ie.coordinates),dataItems:ie.dataItems,isTouchEvent:ie.isTouchEvent,identities:o.Y.getSelectorsByColumn(ie.identities)};this.tooltipService.move(G)}}hide(ie){this.enabled()&&this.tooltipService.hide(ie)}fixCoordinates(ie){var G=this.element.offset();return ie[0]=ie[0]+G.left,ie[1]=ie[1]+G.top,ie}}var y=e(619584),S=e(523324),u=(e(250536),e(251476)),E=e(869574),c=e(141451),f=e(613801),D=e(253261);class T{constructor(ie){this.windowMessageProxy=ie}logStandardizedFeatureEvent(ie){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[ie]})}logTimedStandardizedFeatureEvent(ie){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[ie]})}startTimedStandardizedFeatureEvent(ie){return new M(this,ie)}}class M{constructor(ie,G){this.certifiedEventsService=ie,this.event=_.cloneDeep(G),this.event.operationStartTime=(0,D.t)()}setAttributes(ie){this.event.activityAttributes={...ie}}setAttribute(ie,G){this.event.activityAttributes[ie]=G}getAttributes(){return this.event.activityAttributes}complete(ie,G){this.event.resultCode=G,this.event.activityStatus=ie,this.event.operationEndTime=(0,D.t)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)}}var V=e(871090);class I{constructor(ie){this.windowMessageProxy=ie}getOpenActivityById(ie){}suspend(){}resume(){}flush(){}restart(){}stopActivity(ie,G,se){}startPerfEventDeprecated(ie,G,...se){return new O({info:{}})}logEvent(ie,G){return i.Y.assert(()=>!_.isArray(G),"Parameters has to be an object and instance of some telemetry factory arguments"),ie===V.o0?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",G]}):ie===V.ir?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",G]}):i.Y.assertFail("Unknown eventFactory name ["+ie+"]: sandboxTelemetryProxyService.ts#logEvent"),null}logTelemetryData(ie,G,se){return null}logChildEvent(ie,G,...se){}startActivity(ie,G,...se){return new O({info:{}})}startChildActivity(ie,G,...se){}startEvent(ie,...G){return new O({info:{}})}startMonitoredActivity(ie,G,se){var Mt={info:{}};return{activityEvent:Mt,activityDeferred:new O(Mt)}}startChildEvent(ie,G,...se){return new O({info:{}})}logTrace(ie){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(ie,G){}getHostData(){}setExpAssignmentContext(ie){}}class O{constructor(ie){i.Y.assertValue(ie,"event"),this.event=ie,this.promise=new Promise((G,se)=>{this.onResolve=G,this.onReject=se})}resolve(){this.isEnded=!0,this.onResolve()}cancel(ie){return ie?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})}reject(ie){this.isEnded=!0,this.onReject()}isActive(){return!this.isEnded}}class W{constructor(){}getOpenActivityById(ie){}suspend(){}resume(){}flush(){}restart(){}stopActivity(ie,G,se){}startPerfEventDeprecated(ie,G,...se){return new O({info:{}})}logEvent(ie,...G){return null}logTelemetryData(ie,G,se){return null}logChildEvent(ie,G,...se){}startActivity(ie,G,...se){return new O({info:{}})}startChildActivity(ie,G,...se){}startEvent(ie,...G){return new O({info:{}})}startMonitoredActivity(ie,G,se){var Mt={info:{}};return{activityEvent:Mt,activityDeferred:new O(Mt)}}startChildEvent(ie,G,...se){return new O({info:{}})}logTrace(ie){}get sessionId(){}get appInstanceId(){}get root(){}setHostInfo(ie,G){}getHostData(){}setExpAssignmentContext(ie){}}var F=e(430602),U=e(149094),B=e(738060),x=e(717312),A=e(887734),L=e(180666),Y=e(839538),z=e(864754),H=e(41324),Z=e(202009),k=e(776360),K=e(873728),ee=e(982699),Q=e(390447);function J(){var Je=(0,d.C)(),G={messageProxy:(0,K.Ev)(Je,window.parent),promiseFactory:Je,resourceProvider:{get:se=>se,getOptional:se=>se,format:se=>se}};return new X(G)}class X{constructor(ie){i.Y.assertValue(ie.messageProxy,"messageProxy"),i.Y.assertValue(ie.promiseFactory,"promiseFactory"),this.messageProxy=ie.messageProxy,this.promiseFactory=ie.promiseFactory,this.resourceProvider=ie.resourceProvider,this.messageProxy.on(ee.R,G=>this.onMessageReceived(G)),this.hostOrigin=new URL(window.location.href).origin}onMessageReceived(ie){if(ie.source===parent&&ie.origin===this.hostOrigin&&"loadVisualPluginWithContent"===ie.message.eventName)return this.loadVisualPluginWithContent.apply(this,ie.message.arguments)}loadVisualPluginWithContent(ie){var G=this.promiseFactory.defer(),se=ie.pluginName,He=ie.mappedPluginContent,Mt=He[H.gH.CustomVisualJavascript].content,zt=He[H.gH.CustomVisualsCss].content;try{(0,Z.Sh)(se,Mt),(0,Z.iz)(se,zt);var or=z.q[se];or.iconUrl=(0,k.s)(se),or.content={js:Mt,css:zt,iconBase64:or.iconUrl},(0,Q.s)(or),or.capabilities.objects=(0,Y.lK)(or.capabilities.objects,this.resourceProvider),G.resolve(or)}catch(rr){G.reject(rr)}return G.promise}}function ne(){if(!ae){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var Je=J;window.powerbi.visualSandbox.createResourceLoaderHost=()=>Je(),ae=!0}}var ae=!1;ne();var oe=e(473001),Me=e(582626),Ye=e(558109),Le=e(168376),lt=e(624550),ut=e(289239),St=e(329332),ze=e(336983),Be=e(627201),Ce=e(446024),Ae=e(210340),be=e(563147),Ie=e(147854),ve=e(810818),xe=e(676741),Ee=e(761448);function Ne(){return window.powerbi||(window.powerbi={}),window.powerbi}var Ue=e(195788),_e=e(464205),at=e(640700),ot=function(Je){return Je[Je.merge=0]="merge",Je[Je.remove=1]="remove",Je}({});var Nt=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function he(Je,ie){var G={get:(se,He)=>{var Mt=se[He],zt=`${Je}.${He.toString()}`;return void 0===Mt?Nt.has(zt)||(function(Je){var G=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[Je]});window.parent.postMessage(G,"*")}(zt),Nt.add(zt)):Mt&&"object"==typeof Mt&&ie>0&&(Mt=new Proxy(Mt,he(zt,ie-1))),Mt},set:(se,He,Mt)=>(se[He]=Mt,!0)};return G}function je(){var Je;window.powerbi=(Je=(0,Ye.N0)(),new Proxy(Je,he("powerbi",3)))}var tt=e(923805),$e=e(552426),de=e(282293),De=e(419216),re=e(401260),ce=e(856751),te=e(412984),Te=e(32764);class et{constructor(ie,G,se){this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}acquireAADToken(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[ie.id]}),ie.deferred.promise}getAcquireAADTokenStatus(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[ie.id]}),ie.deferred.promise}}class At{constructor(ie,G,se){i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory"),this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}getResourceUrl(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[ie.id]}),ie.deferred.promise}getAADAuthenticationToken(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[ie.id]}),ie.deferred.promise}getAADToken(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[ie.id]}),ie.deferred.promise}getWACToken(ie,G){var se=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:G,resourceSiteUrl:ie,promiseId:se.id}]}),se.deferred.promise}getSignedInAccessToken(){return this.promiseFactory.reject()}getClusterInfo(){return this.promiseFactory.reject()}}class Re{constructor(ie,G,se){i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory"),this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}downloadFile(ie,G,se,He){throw new Error("Not implemented")}getExportStatus(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[ie.id]}),ie.deferred.promise}exportVisualsContent(ie,G,se,He){var Mt=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return ie&&G&&se&&He?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[ie,G,se,He,Mt.id]}):Mt.deferred.reject(),Mt.deferred.promise}}class pe{constructor(ie,G){this.messageProxy=ie,this.instanceId=G,i.Y.assertValue(ie,"messageProxy")}renderingStarted(ie){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,ie.updateId]})}renderingFinished(ie){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,ie.updateId]})}renderingFailed(ie,G){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,ie.updateId,G]})}}class ke{constructor(ie,G,se){this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se,i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory")}getAvailableServicePlans(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[ie.id]}),ie.deferred.promise}notifyLicenseRequired(ie){var G=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[ie,G.id]}),G.deferred.promise}notifyFeatureBlocked(ie){var G=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[ie,G.id]}),G.deferred.promise}clearLicenseNotification(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[ie.id]}),ie.deferred.promise}}class ft{constructor(ie,G,se){i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory"),this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}getStorageStatus(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[ie.id]}),ie.deferred.promise}getStorageData(ie){var G=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[ie,G.id]}),G.deferred.promise}setStorageData(ie,G){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[ie,G,se.id]}),se.deferred.promise}removeStorageData(ie){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[ie]})}}class Ut{constructor(ie,G,se){i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory"),this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}getStorageStatus(){var ie=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[ie.id]}),ie.deferred.promise}getStorageData(ie){var G=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[ie,G.id]}),G.deferred.promise}setStorageData(ie,G){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[ie,G,se.id]}),se.deferred.promise}removeStorageData(ie){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[ie]})}}var Kt=e(66460);class qt{constructor(ie,G){this.messageProxy=ie,i.Y.assertValue(ie,"messageProxy"),this.instanceId=G}trace(ie,G){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,Kt.oL)(ie),{instanceId:this.instanceId,payload:G}]})}logStandardizedFeatureEvent(){}}class Ge{constructor(ie){i.Y.assertValue(ie,"messageProxy"),this.messageProxy=ie,this.rootElement=window.document.body}serializeIdentities(ie){return ie&&ie[0]instanceof F.r?ie:ie&&_(ie).map(se=>(0,De.MG)(se)).compact().value()}show(ie){var G=ie&&{coordinates:ie.coordinates,dataItems:ie.dataItems,identities:this.serializeIdentities(ie.identities),isTouchEvent:ie.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[G]})}move(ie){var G=ie&&{coordinates:ie.coordinates,dataItems:ie.dataItems,identities:this.serializeIdentities(ie.identities),isTouchEvent:ie.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[G]})}hide(ie){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[ie]})}visible(){return!1}isTouchOptimized(){return!1}container(){return this.rootElement}enabled(){return!0}}class xt{constructor(ie,G,se){i.Y.assertValue(ie,"messageProxy"),i.Y.assertValue(G,"promiseFactory"),this.messageProxy=ie,this.promiseFactory=G,this.sandboxPromiseHandler=se}getWebAccessStatus(ie){var G=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[ie,G.id]}),G.deferred.promise}}class nt{constructor(ie){i.Y.assertValue(ie,"messageProxy"),this.messageProxy=ie}subSelect(ie){ie&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[ie]})}updateRegionOutlines(ie){ie&&this.messageProxy.postMessage({eventName:"updateRegionOutlines",arguments:[ie]})}}var Wt={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},kt={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"};class Ht{constructor(ie,G){this.messageProxy=ie,this.sandboxPromiseHandler=G,this.loadMoreDataEnabled=!0,i.Y.assertValue(ie,"messageProxy"),this.visualHostTooltipService=new Ge(ie),this.queryDictionary=Ht.parseUrlParameters(),this.authService=function(Je,ie,G){return new At(Je,ie,G)}(ie,this.promiseFactory(),G),this.storageService=function(Je,ie,G){return new ft(Je,ie,G)}(ie,this.promiseFactory(),G),this.hostWebAccessService=function(Je,ie,G){return new xt(Je,ie,G)}(ie,this.promiseFactory(),G),this.contentDownloadService=function(Je,ie,G){return new Re(Je,ie,G)}(ie,this.promiseFactory(),G),this.licensesManagerService=function(Je,ie,G){return new ke(Je,ie,G)}(ie,this.promiseFactory(),G),this.acquireTokenService=function(Je,ie,G){return new et(Je,ie,G)}(ie,this.promiseFactory(),G),this.storageV2Service=function(Je,ie,G){return new Ut(Je,ie,G)}(ie,this.promiseFactory(),G),this.hostSubSelectionService=new nt(ie),this.dialogPromiseFactory=this.promiseFactory()}initInstanceId(ie){this._instanceId=ie,this.telemetryService=function(Je,ie){return new qt(Je,ie)}(this.messageProxy,ie),this.eventsService=function(Je,ie){return new pe(Je,ie)}(this.messageProxy,ie)}static initialize(){re.Z&&(re.Z.localizationOptions=Ht.createTooltipLocaleOptions())}static createLocaleOptions(){return{null:kt.NullValue,true:kt.BooleanTrue,false:kt.BooleanFalse,NaN:kt.NaNValue,infinity:kt.InfinityValue,negativeInfinity:kt.NegativeInfinityValue,beautify:ie=>Ht.beautify(ie),describe:ie=>Ht.describeUnit(ie),restatementComma:kt.Restatement_Comma,restatementCompoundAnd:kt.Restatement_CompoundAnd,restatementCompoundOr:kt.Restatement_CompoundOr}}static createTooltipLocaleOptions(){return{highlightedValueDisplayName:kt.Tooltip_HighlightedValueDisplayName}}getLocalizedString(ie){return kt[ie]}onSelecting(ie){ie.action=a.Ii.Selection}onSelect(ie){var G;if((0,Te.Rr)(ie)){var se=ie;G={data:(0,De.zl)(se.data),data2:(0,De.MG)(se.data2),selectors:(0,De.zl)(se.selectors)}}else{var{type:He,visualObjects:Mt}=ie;G={type:He,visualObjects:(0,De.fU)(Mt)}}this.messageProxy.postMessage({eventName:"onSelect",arguments:[G]})}customVisualOnContextMenu(ie){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[ie]})}customVisualOnExpandCollapse(ie){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[ie]})}switchFocusModeState(ie){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[ie]})}displayWarningIcon(ie,G){null!=ie&&null!=G&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[ie,G]})}persistProperties(ie){var G,se=ie;G=this.apiVersion&&((0,r.gt)(this.apiVersion,"2.0.0")||(0,r.eq)(this.apiVersion,"2.0.0"))?ie:se.merge||se.remove||se.replace?{merge:se.merge?(0,ce.lK)(se.merge):null,replace:se.replace?(0,ce.lK)(se.replace):null,remove:se.remove?(0,ce.lK)(se.remove):null}:(0,ce.lK)(ie),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[G]})}sendSelectionIdsToHost(ie){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[ie]})}loadMoreData(){this.fetchMoreData(!0)}loadWindow(ie){}fetchMoreData(ie){return!!this.loadMoreDataEnabled&&(!1!==ie&&(ie=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[ie]}),!0)}launchUrl(ie){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[ie]})}setCanDrill(ie){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[ie]})}drill(ie){this.messageProxy.postMessage({eventName:"drill",arguments:[ie]})}openModalDialog(ie,G,se){var He=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[ie,G,se,He.id]}),He.deferred.promise}tooltips(){return this.visualHostTooltipService}telemetry(){return this.telemetryService}authenticationService(){return this.authService}localStorageService(){return this.storageService}localStorageV2Service(){return this.storageV2Service}eventService(){return this.eventsService}licenseManagerService(){return this.licensesManagerService}acquireAADTokenService(){return this.acquireTokenService}visualTimeSynchronization(){return this.visualTimeSynchronizationService}networkAvailability(){return this.networkAvailabilityService}webAccessService(){return this.hostWebAccessService}visualHostSubSelectionService(){return this.hostSubSelectionService}getSectionsMetadata$(){}getBookmarksMetadata$(){}downloadService(){return this.contentDownloadService}artifactService(){}getQueryStringValue(ie){return this.queryDictionary&&this.queryDictionary[ie]}locale(){var ie=this.queryDictionary&&this.queryDictionary.locale;return i.Y.assert(()=>!!ie,"custom visual locale parameter is not valid"),ie||navigator.language}loader(){return{require:()=>this.promiseFactory().reject()}}applyJsonFilter(ie,G,se,He){var Mt=[ie,G,se];return He&&Mt.push(He),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Mt}),!0}applyIdentityFilter(ie,G,se,He){var Mt=[ie,G,se];return He&&Mt.push(He),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Mt}),!0}getJSONFilter(ie,G){return this.promiseFactory().reject()}static parseUrlParameters(ie=window.location.search){var G={},se=ie;if(se&&"?"===se.substr(0,1)){var He=se.substr(1).split("&");for(var Mt of He){var zt=Mt&&Mt.split("=");zt&&2===zt.length&&(G[decodeURIComponent(zt[0])]=decodeURIComponent(zt[1]))}}return G}destroy(){this.messageProxy.destroy(),this.messageProxy=null}refreshHostData(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})}createSelectionIdBuilder(){return new F.r}createTooltipService(){return(0,te.N)({hostServices:this})}createSelectionManager(ie){return new o.Y({hostServices:this,apiVersion:ie})}applyCustomSort(ie){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[ie]})}alertScreenReader(ie){}alertWithDebounce(ie,G){}requestFocus(){}setShouldDeferData(){}onDragStart(){}onContextMenu(){}onSwitchFocusModeState(){}onDisplayWarningIcon(){}onClearCustomizedWarningIcon(){}getVisualLinkProperties(){}canSelect(){return!1}canExpandCollapse(ie){return!1}setNodeExpansionState(ie){}setLevelExpansionState(ie){}onCustomSort(ie){}getViewMode(){return a.nE.View}getEditMode(){return a.WF.Default}setWarnings(ie){}getWarnings$(){}setToolbar(ie){}shouldRetainSelection(){return!1}geocoder(){return(0,g.NH)()}geolocation(){i.Y.assertFail("Not being used anywhere")}promiseFactory(){return(0,d.C)()}ignoreDefaultFilter(){return!1}getIdentityDisplayNames(ie){}setIdentityDisplayNames(ie){}setFilterExpressionMetadata(){}getFilterExpressionMetadata(){}getUIComponentFactory(){}onHyperlinkClick(ie,G){}isVisualEnabled(){return this.promiseFactory().resolve(!0)}isVisualLoading(){return this.promiseFactory().resolve(!1)}dataMultiSelectMode(){return s.fv.Single}dropdown(){}setAriaMetadata(ie){}onNotifyLicense(ie){}onClearLicenseNotification(){}onNotifyFeatureBlocked(ie){}getSubSelectionService(){}getAzureMapToken(){}azureMapsEndpoint(){}geocoderIndexedDB(){}triggerUpdate(){}azureMapsHostEnvironment(){return{isPublishToWebHost:!1,isScreenshotExportHost:!1}}dateTimeFormatService(){}visualExportService(){}annotations(){}get instanceId(){return this._instanceId}static beautify(ie){var G=Wt[ie];return G&&kt[G]||ie}static describeUnit(ie){var G=-1===ie?"Auto":ie.toString(),se=kt["DisplayUnitSystem_E"+G+"_Title"],He=ie<=0?"{0}":kt["DisplayUnitSystem_E"+G+"_LabelFormat"];if(se||He)return{title:se,format:He}}enableLoadMoreData(ie){this.loadMoreDataEnabled=ie}}var mr=e(709099),_r=e(776639),Vr=!1,Br=function(Je){return Je.Click="click",Je.MouseUp="mouseup",Je.MSPointerUp="MSPointerUp",Je.PointerUp="pointerup",Je.Dblclick="dblclick",Je}({}),Fr=function(Je){return Je.Tap="tap",Je.TouchCancel="touchcancel",Je.Touchend="touchend",Je}({}),jr=function(Je){return Je.KeyDown="keydown",Je}({}),Lr=function(Je){return Je.KeyDown="keydown",Je}({}),wr=Object.values(Br),Yr=Object.values(Fr),vr=Object.values(jr),Ur=wr.concat(Yr),xr=Object.values(Lr),Zr=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],Kr={Escape:[]},qr={Escape:[],y:["ctrlKey"],z:["ctrlKey"]},Gr=(()=>{class Je{constructor(G){this.id=++Je.counter,this.deferred=G}static getLastId(){return Je.counter}}return Je.counter=0,Je})(),Ir=(()=>{class Je{constructor(G){this.id=++Je.counter,this.deferred=G}static getLastId(){return Je.counter}}return Je.counter=0,Je})();class Qr{constructor(){this.promises={},this.promises2={}}CreatePromise(ie){var G=new Gr(ie);return this.promises[G.id]=G,G}ResolvePromise(ie,G){var se=this.promises[ie];se&&(se.deferred.resolve(G),this.promises[ie]=null)}RejectPromise(ie,G){var se=this.promises[ie];se&&(se.deferred.reject(G),this.promises[ie]=null)}CreatePromise2(ie){var G=new Ir(ie);return this.promises2[G.id]=G,G}ResolvePromise2(ie,G){var se=this.promises2[ie];se&&(se.deferred.resolve(G),this.promises2[ie]=null)}RejectPromise2(ie,G){var se=this.promises2[ie];se&&(se.deferred.reject(G),this.promises2[ie]=null)}}function hr(){return window.powerbi.visuals.plugins}function kr(Je){var G=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[Je.blockedURI,Je.violatedDirective,Je.originalPolicy]});window.parent.postMessage(G,"*")}function Or(Je,ie=!1){var G=(0,d.C)(),se=location.hash.slice(1);if(se&&!se.match(/^[\w-]{1,36}$/))throw"invalid nonce";var He=(0,tt.s)(Vr=!!se,G,parent,window.location.origin,!0,se);Ht.initialize(),Me.Y.getQueryStringValue("pbiglobals")&&function(){var Je=(0,Ye.N0)();Je.FilterAction=ot,Je.VisualDataRoleKind=a.Ts,Je.VisualDataChangeOperationKind=a.YB,Je.VisualUpdateType=a.YL,Je.VisualPermissions=a.jU,Je.formattingService=at.r9;var ie=function(){var Je=Ne();return Je.data||(Je.data={}),Je.data}();Ce.EG&&(ie.SQExprBuilder={},ie.SQExprBuilder.entity=Ce.EG,ie.SQExprBuilder.subqueryRef=Ce.a_,ie.SQExprBuilder.namedQueryRef=Ce.JP,ie.SQExprBuilder.columnRef=Ce.sX,ie.SQExprBuilder.measureRef=Ce.K6,ie.SQExprBuilder.nativeMeasure=Ce.IW,ie.SQExprBuilder.nativeColumn=Ce.Oi,ie.SQExprBuilder.aggregate=Ce.QD,ie.SQExprBuilder.selectRef=Ce.o4,ie.SQExprBuilder.percentile=Ce.Ym,ie.SQExprBuilder.rangePercent=Ce.Lg,ie.SQExprBuilder.arithmetic=Ce.Bm,ie.SQExprBuilder.floor=Ce.RI,ie.SQExprBuilder.scopedEval=Ce.bg,ie.SQExprBuilder.filteredEval=Ce.Ge,ie.SQExprBuilder.withRef=Ce.IS,ie.SQExprBuilder.groupRef=Ce.bR,ie.SQExprBuilder.hierarchy=Ce.Sk,ie.SQExprBuilder.propertyVariationSource=Ce.U7,ie.SQExprBuilder.hierarchyLevel=Ce.Mw,ie.SQExprBuilder.transformTableRef=Ce.CR,ie.SQExprBuilder.transformOutputRoleRef=Ce.Cv,ie.SQExprBuilder.roleRef=Ce.a3,ie.SQExprBuilder.summaryValueRef=Ce.ft,ie.SQExprBuilder.allRolesRef=Ce.G9,ie.SQExprBuilder.and=Ce.Uo,ie.SQExprBuilder.between=Ce.Tq,ie.SQExprBuilder.inValues=Ce.eu,ie.SQExprBuilder.inTable=Ce.Kd,ie.SQExprBuilder.or=Ce.or,ie.SQExprBuilder.compare=Ce.UD,ie.SQExprBuilder.conditional=Ce.Jr,ie.SQExprBuilder.contains=Ce.gR,ie.SQExprBuilder.exists=Ce.t2,ie.SQExprBuilder.equal=Ce.LC,ie.SQExprBuilder.not=Ce.AU,ie.SQExprBuilder.startsWith=Ce.w1,ie.SQExprBuilder.nullConstant=Ce.gN,ie.SQExprBuilder.emptyString=Ce.bQ,ie.SQExprBuilder.now=Ce.tB,ie.SQExprBuilder.defaultValue=Ce.Jh,ie.SQExprBuilder.anyValue=Ce.mh,ie.SQExprBuilder.boolean=Ce.zM,ie.SQExprBuilder.dateAdd=Ce.El,ie.SQExprBuilder.dateTime=Ce.KQ,ie.SQExprBuilder.dateSpan=Ce.b5,ie.SQExprBuilder.decimal=Ce._,ie.SQExprBuilder.double=Ce.gd,ie.SQExprBuilder.integer=Ce.nd,ie.SQExprBuilder.text=Ce.Qq,ie.SQExprBuilder.typedConstant=Ce.FT,ie.SQExprBuilder.fromRawValue=Ce.G3,ie.SQExprBuilder.sparklineData=Ce.yC,ie.SQExprBuilder.setAggregate=be.a,ie.SQExprBuilder.removeAggregate=xe.s,ie.SQExprBuilder.setPercentOfGrandTotal=Ae.p,ie.SQExprBuilder.removePercentOfGrandTotal=ve.x,ie.SQExprBuilder.setPercentOfRoleTotal=Ee.L,ie.SQExprBuilder.removePercentOfRoleTotal=Ie.L,ie.SQExprBuilder.removeEntityVariables=Ce.bY,ie.SQExprBuilder.setVisualCalcExpression=Ce.is,ie.SQExprBuilder.fillRule=Ce.Kf,ie.SQExprBuilder.themeDataColor=Ce.Bg,ie.SQExprBuilder.resourcePackageItem=Ce.SC,ie.SQExprBuilder.discretize=Ce.z,ie.SQExprBuilder.member=Ce.Dc,ie.SQExprBuilder.color=Ce.yW,ie.SQExprBuilder.nativeVisualCalc=Ce.zy,ie.SQExprBuilder.fieldExpr=Be.to,ie.SQExprBuilder.fromColumnAggr=Be.cu,ie.SQExprBuilder.fromColumn=Be.fq,ie.SQExprBuilder.fromGroupingColumnAggr=Be.Xq,ie.SQExprBuilder.fromGroupingColumn=Be.O7,ie.SQExprBuilder.fromEntity=Be.Oj,ie.SQExprBuilder.fromEntityAggr=Be.R3,ie.SQExprBuilder.fromColumnHierarchyVariation=Be.D2,ie.SQExprBuilder.fromColumnHierarchyLevelVariation=Be.Vm,ie.SQExprBuilder.fromColumnSubquery=Be.li,ie.SQExprBuilder.fromColumnAggrSubquery=Be.kf,ie.SQExprBuilder.fromColumnTransformRef=Be.ah,ie.SQExprBuilder.fromHierarchyLevelAggr=Be.$Q,ie.SQExprBuilder.fromHierarchyLevel=Be.yt,ie.SQExprBuilder.fromHierarchy=Be.gl,ie.SQExprBuilder.fromArithmetic=Be.xA,ie.SQExprBuilder.fromConstant=Be.hu,ie.SQExprBuilder.fromSparklineData=Be.Sg,ie.SQExprBuilder.fromNativeVisualCalc=Be.Hu),ie.Selector={},ie.Selector.AllEncompasingKey=_e.Rf,ie.Selector.isScopeIdentity=_e.fF,ie.Selector.isScopeWildcard=_e.rh,ie.Selector.isScopeTotal=_e.pB,ie.Selector.isRoleWildcard=_e.jG,ie.Selector.isWildcard=_e.z2,ie.Selector.isWildcardSelector=_e.EU,ie.Selector.toScopeIdentities=_e.uR,ie.Selector.getScopeIdentities=_e.Bz,ie.Selector.filterFromSelector=_e.ss,ie.Selector.filterFromSelectorsByColumn=_e.sJ,ie.Selector.filterExprsFromSelectors=_e.$B,ie.Selector.hasIdentities=_e.Dj,ie.Selector.equals=_e.aI,ie.Selector.equalsDataArray=_e.XJ,ie.Selector.equalsSelectorsByColumn=_e.Pv,ie.Selector.equalsSelectorsByColumnArray=_e.Sn,ie.Selector.equalsData=_e.mu,ie.Selector.getKey=_e.i7,ie.Selector.getDecomposedKeys=_e.kH,ie.Selector.containsWildcard=_e.Ac,ie.Selector.hasRoleWildcard=_e.zP,ie.Selector.convertSelectorsByColumnToSelector=_e.j9,ie.Selector.getSelectorTargetExpr=_e.is,ie.Selector.normalizeSelector=_e.Pl,ie.Selector.clone=_e.o8,ie.SQCompareExpr=Ce.j_,ie.createDataViewScopeIdentity=ut.UQ,ie.createDisplayNameGetter=St.D,ie.DataViewObjectDefinitions={},ie.DataViewObjectDefinitions.allPropertiesAreEqual=Le.lj,ie.DataViewObjectDefinitions.clone=Le.o8,ie.DataViewObjectDefinitions.cloneDefinitions=Le.GO,ie.DataViewObjectDefinitions.deleteObjectDefinition=Le.gr,ie.DataViewObjectDefinitions.deleteProperties=Le.DS,ie.DataViewObjectDefinitions.deleteProperty=Le.BJ,ie.DataViewObjectDefinitions.encodePropertyValue=Le.TK,ie.DataViewObjectDefinitions.ensure=Le.D8,ie.DataViewObjectDefinitions.extend=Le.X$,ie.DataViewObjectDefinitions.getDataBoundExprs=lt.TW,ie.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=lt.yR,ie.DataViewObjectDefinitions.getObjectDefinition=Le.lY,ie.DataViewObjectDefinitions.getObjectDefinitions=Le.ep,ie.DataViewObjectDefinitions.getPropertyContainer=Le.pG,ie.DataViewObjectDefinitions.getUnequalProperties=Le.V4,ie.DataViewObjectDefinitions.getValue=Le._W,ie.DataViewObjectDefinitions.getValueFormatting=Le.xr,ie.DataViewObjectDefinitions.isEmpty=Le.Im,ie.DataViewObjectDefinitions.isObjectPropertySQExpr=Le.ui,ie.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=Le.JZ,ie.DataViewObjectDefinitions.isPropertyDefinition=Le.hg,ie.DataViewObjectDefinitions.moveProperty=Le.F4,ie.DataViewObjectDefinitions.propertiesAreEqual=Le.Y2,ie.DataViewObjectDefinitions.reduce=Le.TS,ie.DataViewObjectDefinitions.setValue=Le.KY,ie.DataViewObjectDefinitions.setValueFormatting=Le.pR,ie.DataViewObjectDefinitions.updateSelector=Le.rZ,ie.DataViewObjectDefinitions.visitPropertyDefinitions=Le.po,ie.DataViewObjectDefinitions.visitPropertyExprs=Le.bY;var G=function(){var Je=Ne();return Je.extensibility||(Je.extensibility={}),Je.extensibility}();G.createColorPalette=Ue.r,G.createExtendedColorPalette=Ue.E,G.getVisualApiVersions=l.IL,G.visualApiVersions=(0,l.IL)();var se=(0,Ye.qV)();se.buildValueDetailsForColumnValue=t.qs,se.SelectionId=t.M3,se.SelectionIdBuilder=t.tJ;var He=function(){var Je=(0,Ye.qV)();return Je.valueFormatter||(Je.valueFormatter={}),Je.valueFormatter}();He.beautifyTrace=ze.lw,He.allowFormatBeautificationTraced=ze.z$,He.getLocalizedString=ze.ZM,He.getFormatMetadata=ze.lg,He.setLocaleOptions=ze.rL,He.createDefaultFormatter=ze.i8,He.create=ze.vt,He.format=ze.GP,He.formatVariantMeasureValueWithDataPointObjects=ze._s,He.createDisplayUnitSystem=ze.eH,He.getDisplayUnits=ze.W9,He.getFormatString=ze.Bq,He.getDefaultFormatString=ze.gQ,He.getLabelPrecision=ze.jp,He.getFormatStringWithDataPointObjects=ze.p9,He.formatListAnd=ze.$4,He.formatListOr=ze.be}(),(0,Ye.qV)().plugins={},je();var zt={promiseFactory:G},or=function(Je){return new I(Je)}(He),rr=function(Je){return new T(Je)}(He),Gt=new Qr,Er=function(Je,ie){return i.Y.assertValue(Je,"messageProxy"),new Ht(Je,ie)}(He,Gt),ct={$element:Je,hostServices:Er,hostServicesControl:Er,dataProxy:Xr(G),promiseFactory:G,messageProxy:He,resourceLoader:(0,f.AM)(zt,null),resourceProvider:{get:_t=>_t,getOptional:_t=>_t,format:_t=>_t},telemetryProxyService:or,certifiedEventsProxyService:rr,instanceId:"",sandboxPromiseHandler:Gt},ht=Er.getQueryStringValue("cspiframe");return He.contentWindow=ht?window.parent.parent:window.parent,new Et(ct,ie)}function Xr(Je){var ie=new W,se={promiseFactory:()=>Je},He=(0,c.H)((0,E.w$)({dsr:{name:"dsr",reader:Mt=>new L.Z(Mt,{execute:()=>Je.reject()},ie,{dsrV2:!1},null,void 0,void 0)}},{}),se);return(0,U.bu)(Je,He,ie)}function wt(Je,ie,G){var Mt,se=Je.content,He=Je.hasBeenInjected||hr()&&hr().hasOwnProperty(Je.name)&&hr()[Je.name].hasBeenInjected;return(!ie||!He)&&((0,Z.Sh)(Je.name,se.js,G,Je.apiVersion),(0,Z.iz)(Je.name,se.css)),!Je.apiVersion||(0,r.lt)(Je.apiVersion,{major:3,minor:0,patch:0})?(i.Y.assertValue(hr()[Je.name],"Visual does not have a plugin"),Mt=hr()[Je.name]):(i.Y.assertValue(window[Je.name],"Visual does not have a plugin"),Mt=window[Je.name].default),Je.apiVersion&&(Mt.iconUrl=Je.iconUrl,Mt.capabilities=Je.capabilities,Mt.localizationResources=Je.localizationResources,Mt.isDeprecated=Je.isDeprecated,Mt.version=Je.version),ie&&(Mt.hasBeenInjected=!0,Mt.approvedForNoIframe=!0,hr()[Je.name]=Mt),Mt}var Et=(()=>{class Je{constructor(G,se=!1){this.isolate=se,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=He=>{var Mt=_.pick(He.originalEvent,Zr);this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Mt]})},this.relayKeyboardEventListener=He=>{var Mt=_.pick(He.originalEvent,Zr);this.isSupportedKeyBoardEvent(He.originalEvent)&&this.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Mt]})},this.container=G.$element,this.hostServices=G.hostServices,this.hostServicesControl=G.hostServicesControl,this.dataProxy=G.dataProxy,this.promiseFactory=G.promiseFactory,this.messageProxy=G.messageProxy,this.resourceLoader=G.resourceLoader,this.resourceProvider=G.resourceProvider,this.telemetryProxyService=G.telemetryProxyService,this.certifiedEventsProxyService=G.certifiedEventsProxyService,this.sandboxPromiseHandler=G.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new de.T,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(ee.R,He=>this.onMessageReceived(He))}get visual(){return this._visual}init(G){this.hostServices.initInstanceId(G.instanceId),this.hostServicesControl.initInstanceId(G.instanceId),this.style=(0,A.bJ)(G.style);var se={animation:G.animation,element:this.container,host:this.hostServices,interactivity:G.interactivity,style:this.style,viewport:G.viewport,localizationResources:this.plugin.localizationResources,hostEnv:G.hostEnv,dataMultiSelectMode:G.dataMultiSelectMode};return this.featureSwitches=G.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(se)}destroy(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(ee.R),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()}categoriesExists(G){return!!(G&&G.dataViews&&G.dataViews.length>0&&G.dataViews[0].categorical&&G.dataViews[0].categorical.categories&&G.dataViews[0].categorical.categories.length>0&&G.dataViews[0].categorical.categories[0]&&G.dataViews[0].categorical.categories[0].values)}getHostCategoriesValues(G,se,He){try{if(G){if(He)for(var Mt=0;Mt<G.length;Mt++)G[Mt]&&(G[Mt]=new Date(G[Mt]));se.dataViews[0].categorical.categories[0].values=G}}catch(zt){this.sendError(zt)}return se}update(G){var He,se=G.message.arguments[0];if(this.formatMode!==!!se.formatMode&&(this.formatMode=se.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=se.serializedDataView?se.serializedDataView.stringifiedDataView:null;var Mt=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),zt=se.serializedDataView?[this.dataViewSerializer.deserializeDataView(se.serializedDataView,(0,r.gt)(this.plugin.apiVersion,"3.5.9"),Mt,[],(0,r.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(se.subSelections);var or=this.lastVisualUpdateOptions={dataViews:zt,suppressAnimations:se.suppressAnimations,viewMode:se.viewMode,editMode:se.editMode,viewport:se.viewport,type:se.type,operationKind:a.YB.Create,resizeMode:se.resizeMode,isInFocus:se.isInFocus,jsonFilters:se.jsonFilters?se.jsonFilters:null,updateId:se.updateId,formatMode:se.formatMode,subSelections:se.subSelections,pendingChanges:se.pendingChanges};this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(se.selections,!(0,r.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(or,G,se)):(this.fixUpdateOptionsAndUpdateVisual(or,G,se),this.onRestoreCvSelectionIds(se.selections,!(0,r.gt)(this.plugin.apiVersion,"2.4.0")))}else se.dataTransforms&&(He=x.R.deserializeDataViewTransformActions(se.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(se.dataViewSource,He,!0).then(rr=>{var Gt=this.lastVisualUpdateOptions={dataViews:rr.dataViews,suppressAnimations:se.suppressAnimations,viewMode:se.viewMode,editMode:se.editMode,viewport:se.viewport,type:se.type,operationKind:a.YB.Create,resizeMode:se.resizeMode,isInFocus:se.isInFocus,jsonFilters:se.jsonFilters?se.jsonFilters:null,updateId:se.updateId};this.visualHasNullFilter(He)&&this.onRestoreSelection(null),this.fixUpdateOptionsAndUpdateVisual(Gt,G,se)}).catch(rr=>this.sendError(rr))}visualHasNullFilter(G){if(this.plugin?.capabilities?.objects?.general?.properties?.filter){var se=G?.objects?.general;if(se&&se.length>0&&se[0]?.properties&&!se[0].properties.filter)return!0}return!1}updateWithCachedData(G){var He,Mt,zt,se=G.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var or=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=se.dataViewMetadata?JSON.parse(se.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=or}Mt=this.lastVisualUpdateOptions.dataViews,zt=!0}else se.dataTransforms&&(He=x.R.deserializeDataViewTransformActions(se.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=He,Mt=(0,B.Bb)(this.lastDataViewTransformApplyOptions).dataViews;var rr=this.lastVisualUpdateOptions={dataViews:Mt,suppressAnimations:se.suppressAnimations,viewMode:se.viewMode,editMode:se.editMode,viewport:se.viewport,type:se.type,operationKind:a.YB.Create,resizeMode:se.resizeMode,isInFocus:se.isInFocus,jsonFilters:se.jsonFilters?se.jsonFilters:null,updateId:se.updateId,formatMode:se.formatMode,subSelections:se.subSelections,pendingChanges:se.pendingChanges};this.fixUpdateOptionsAndUpdateVisual(rr,G,se,zt)}loadResourcePackage(G){i.Y.assertValue(G,"resourcePackage"),this.resourceLoader.loadVisualPlugin(G).then(se=>{this.plugin=se,this.createAdapter()}).catch(()=>{var se=new Error("Unable to load plugin, resource package id: "+G.id);return this.sendError(se)})}createAdapter(){var G=this.plugin;if(this.container.addClass("visual-"+G.name),this._visual=(0,l.I2)(G,G.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!G||!this.visual){var se=new Error("Unable to create visual from plugin "+G.name);return this.sendError(se)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()}loadWithoutResourcePackage(G){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var He=G.apiVersion?this.isolate&&(0,r.lt)(G.apiVersion,"3.0.0"):this.isolate;this.plugin=wt(G,!1,He),(0,Q.s)(this.plugin),this.createAdapter()}}enumerateObjectInstances(G){if(this.visual.enumerateObjectInstances){var se=this.visual.enumerateObjectInstances(G);if(se){var He=se,Mt=this.plugin&&this.plugin.apiVersion&&!(0,r.lt)(this.plugin.apiVersion,"2.0.0");return He&&He.instances?Mt?{instances:He.instances,containers:He.containers}:{instances:(0,ce.lK)(He.instances),containers:He.containers?(0,ce.RU)(He.containers,this.resourceProvider):null}:Mt?se:(0,ce.lK)(se)}}}enumerateObjectRepetition(){if(this.visual.enumerateObjectRepetition){var G=this.visual.enumerateObjectRepetition();return G?(0,_r.lK)(G):void 0}}getFormattingModel(){return this.visual.getFormattingModel?.()}getSubSelectionStyles(G){return this.reCreateSelectionIds(G),this.visual.getSubSelectionStyles?.(G)}getSubSelectionShortcuts(G,se){return this.reCreateSelectionIds(G),this.visual.getSubSelectionShortcuts?.(G,se)}getSubSelectables(G){return this.visual.getSubSelectables?.(G)}focusVisualIframeWindow(){window.focus()}sendUpdateResult(){var G=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[G]})}sendSandboxReady(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})}flushQueue(){for(;this.messageQueue.length>0;){var G=this.messageQueue.shift();this.executeMessage(G)}}sendError(G,se){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:se?se.id:null,eventName:se?se.eventName:null,name:G.name,message:G.message,pluginName:this.plugin.name}})}sendErrorMessage(G,se){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:G,message:se,pluginName:this.plugin.name}})}onMessageReceived(G){if(this.isVisualInitialized||"loadResourcePackage"===G.message.eventName||"loadWithoutResourcePackage"===G.message.eventName)return this.executeMessage(G);this.messageQueue.push(G)}validateSandboxHostMessage(G){var He=this[G.message.eventName];return He?"function"!=typeof He?{error:"not a function"}:He.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}validateVisualMessage(G){var se=G.message;if(!this.visual)return{error:"unset visual"};var He=this.visual[se.eventName];return He?"function"!=typeof He?{error:"not a function"}:l.UW.prototype[se.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}}executeMessage(G){var He,Mt,se=G.message,zt="SandboxHost.executeMessage rejected message:";if(!Vr){if(G.source!==window&&G.source.parent===window)return;if(G.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(se.eventName,`${zt} invalid source`);if(G.origin!==this.hostOrigin)return this.sendErrorMessage(se.eventName,`${zt} invalid origin`)}try{if((He=this.validateSandboxHostMessage(G)).ok)return"update"===se.eventName||"updateWithCachedData"===se.eventName||"handleLoadMoreDataResult"===se.eventName?this[se.eventName].call(this,G):this[se.eventName].apply(this,se.arguments);if((Mt=this.validateVisualMessage(G)).ok)return this.visual[se.eventName].apply(this.visual,se.arguments)}catch(or){return void this.sendError(or,se)}this.sendErrorMessage(se.eventName,`${zt} ${He?.error}, ${Mt?.error}`)}reCreateSelectionIds(G){G&&G.forEach(se=>{var He=se.customVisualObjects[0].selectionId;se.customVisualObjects[0].selectionId=He&&new F.r(He.dataMap,He.measures)})}transformDataViewSource(G,se,He){var Mt=this.promiseFactory.defer();return(G?this.createDataView(G):this.promiseFactory.resolve({dataView:null})).then(or=>{var rr=(0,B.Bb)(this.lastDataViewTransformApplyOptions={prototype:or.dataView,objectDescriptors:this.plugin.capabilities?this.plugin.capabilities.objects:void 0,dataViewMappings:this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:void 0,dataRoles:this.plugin.capabilities?this.plugin.capabilities.dataRoles:void 0,drillCapabilities:this.plugin.capabilities&&this.plugin.capabilities.drilldown,expandCollapseCapabilties:this.plugin.capabilities&&this.plugin.capabilities.expandCollapse,transforms:se,colorAllocatorFactory:(0,u.r)(),bypassConcatenation:He,visualStyle:this.style,keepAllMetadataColumnsCapability:!!this.plugin.capabilities&&this.plugin.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews;Mt.resolve({dataViews:rr})}).catch(or=>this.sendError(or)),Mt.promise}createDataView(G){i.Y.assertValue(G,"dataViewSource");var se=this.promiseFactory.defer();return this.dataProxy.execute({type:G.type,query:{dataSources:null,command:G.data}}).then(Mt=>{var or=(0,mr.yB)(Mt&&Mt.dataReaderResult?Mt.dataReaderResult.dataView:null,this.plugin.capabilities?this.plugin.capabilities.dataViewMappings:null);se.resolve({dataView:or.dataView})}).catch(Mt=>this.sendError(Mt)),se.promise}attachWindowResizeListener(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")}detachWindowResizeListener(){$(window).off("resize")}windowResizeListener(){if(this.lastVisualUpdateOptions){var G=$(window).height(),se=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(se-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(G-this.lastVisualUpdateOptions.viewport.height)<=1)){var He=(0,oe.IL)(this.lastVisualUpdateOptions);He.viewport={width:se,height:G,scale:this.lastVisualUpdateOptions.viewport.scale},He.type=a.YL.Resize,He.resizeMode=a.OJ.Resizing,this.visual.update(He)}}}attachRelayUIEventListener(){$(window).on(vr.join(" "),this.relayKeyboardEventListener),this.container.on(Ur.join(" "),this.relayUIEventListener)}detachRelayUIEventListener(){$(window).off(vr.join(" "),this.relayKeyboardEventListener),this.container.off(Ur.join(" "),this.relayUIEventListener)}attachFormatModeRelayUIEventListener(){$(window).on(xr.join(" "),this.relayKeyboardEventListener)}detachFormatModeRelayUIEventListener(){$(window).off(xr.join(" "),this.relayKeyboardEventListener)}handleAttachingEventListeners(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())}isSupportedKeyBoardEvent(G){var se=this.formatMode?qr:Kr;return G.key in se&&_.every(se[G.key],Mt=>Mt in G&&G[Mt])}handleLoadMoreDataResult(G){var se=this;return(0,y.A)(function*(){var He=G.message.arguments[1];if(se.plugin&&se.plugin.apiVersion&&!(0,r.lt)(se.plugin.apiVersion,"2.0.0")){var Mt=G.message.arguments[0],zt=G.message.arguments[2];if(Mt&&se.stringifiedDataView!==Mt.stringifiedDataView){se.stringifiedDataView=Mt.stringifiedDataView;var or=!(!se.plugin.capabilities.expandCollapse||!se.plugin.capabilities.dataViewMappings[0].matrix),rr=[se.dataViewSerializer.deserializeDataView(Mt,(0,r.gt)(se.plugin.apiVersion,"3.5.9"),or,zt,(0,r.ge)(se.plugin.apiVersion,"5.3.0"))];se.lastVisualUpdateOptions.type=a.YL.Data,He?((0,$e.Jn)(se.lastVisualUpdateOptions.dataViews[0],rr[0]),se.lastVisualUpdateOptions.operationKind=a.YB.Append,yield se.aggregateDataViewSizeAndUpdateVisual(G.packedSize)):(se.lastVisualUpdateOptions.dataViews[0]=rr[0],se.lastVisualUpdateOptions.operationKind=a.YB.Segment,yield se.visual.update(se.lastVisualUpdateOptions))}}else{i.Y.assert(()=>se.lastDataViewTransformApplyOptions&&!!se.lastDataViewTransformApplyOptions.prototype,"Expected to have previous segment already");var Gt=G.message.arguments[0],Er=Gt?Gt.dataReaderResult.dataView:null;Er&&(se.lastVisualUpdateOptions.type=a.YL.Data,He?((0,$e.Jn)(se.lastDataViewTransformApplyOptions.prototype,Er),se.lastVisualUpdateOptions.dataViews=(0,B.Bb)(se.lastDataViewTransformApplyOptions).dataViews,se.lastVisualUpdateOptions.operationKind=a.YB.Append,yield se.aggregateDataViewSizeAndUpdateVisual(G.packedSize)):(se.lastVisualUpdateOptions.dataViews[0]=Er,se.lastVisualUpdateOptions.operationKind=a.YB.Segment,yield se.visual.update(se.lastVisualUpdateOptions)))}se.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]})})()}aggregateDataViewSizeAndUpdateVisual(G){var se=this;return(0,y.A)(function*(){se.aggregatedDataViewSize+=G,se.hostServicesControl.enableLoadMoreData(!(se.aggregatedDataViewSize>=104857600)),yield se.visual.update(se.lastVisualUpdateOptions)})()}handleGetResourceUrlResult(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId,G.payload):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.payload)}handleGetAADAuthenticationTokenResult(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId,G.payload):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G)}handleGetAADTokenResult(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId,G.payload):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.payload)}handleGetWACTokenResult(G){G.isError?this.sandboxPromiseHandler.RejectPromise2(G.promiseId,G.payload?G.payload:""):this.sandboxPromiseHandler.ResolvePromise2(G.promiseId,G.wacToken)}handleGetStorageStatus(G){this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.status)}handleGetStorageData(G){G.data?this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.data):this.sandboxPromiseHandler.RejectPromise(G.promiseId)}handleSetStorageData(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.freeSpace)}handleGetStorageV2Data(G){G.isError||!G.data?this.sandboxPromiseHandler.RejectPromise(G.promiseId):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.data)}handleSetStorageV2Data(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.resultInfo)}handleExportVisualsContentStatus(G){void 0!==G.status?this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.status):this.sandboxPromiseHandler.RejectPromise(G.promiseId)}handleExportVisualsContent(G){void 0!==G.data?this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.data):this.sandboxPromiseHandler.RejectPromise(G.promiseId)}handleGetWebAccessStatus(G){void 0!==G.status?this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.status):this.sandboxPromiseHandler.RejectPromise(G.promiseId)}handleModalDialogResult(G){G.isError?this.sandboxPromiseHandler.RejectPromise(G.promiseId,G.data):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.data)}handleAcquireAADTokenResult(G){this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.data)}handleGetAcquireAADTokenStatus(G){this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.status)}handleLicenseResult(G){G.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(G.promiseId)}handleLicenseNotificationResult(G){null==G.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(G.promiseId):this.sandboxPromiseHandler.ResolvePromise(G.promiseId,G.licenseNotificationResult)}onRestoreSelection(G){var se=this.hostServices.selectionManager;if(se)if(G&&G.selection){var He=G.selection.map(Mt=>t.M3.fromSelectorsByColumn((0,De.bZ)(Mt)));se.setSelectionIds(He),se.invokeOnSelectCallback(He)}else se.setSelectionIds([]),se.invokeOnSelectCallback([])}onRestoreCvSelectionIds(G,se=!0){var He=this.hostServices.selectionManager;if(He){var Mt=[];G?(Mt=_.map(G,zt=>new F.r(zt.serializedDataMap,zt.measures)),He.setSelectionIds(Mt)):He.setSelectionIds([]),se&&He.invokeOnSelectCallback(Mt)}}fixUpdateOptionsAndUpdateVisual(G,se,He,Mt=!1){Mt||(G=this.categoriesExists(G)?this.getHostCategoriesValues(He.categoriesValues,G,He.isCategoryDate):G,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=se.packedSize),this.visual.update(G),this.sendUpdateResult()}}return(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",Object)],Je.prototype,"init",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"destroy",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"update",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"updateWithCachedData",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"loadWithoutResourcePackage",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",Object)],Je.prototype,"enumerateObjectInstances",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[]),(0,S.__metadata)("design:returntype",Array)],Je.prototype,"enumerateObjectRepetition",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[]),(0,S.__metadata)("design:returntype",Object)],Je.prototype,"getFormattingModel",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Array]),(0,S.__metadata)("design:returntype",Object)],Je.prototype,"getSubSelectionStyles",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Array,String]),(0,S.__metadata)("design:returntype",Array)],Je.prototype,"getSubSelectionShortcuts",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Number]),(0,S.__metadata)("design:returntype",Array)],Je.prototype,"getSubSelectables",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"focusVisualIframeWindow",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",Promise)],Je.prototype,"handleLoadMoreDataResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetResourceUrlResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetAADAuthenticationTokenResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetAADTokenResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetWACTokenResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetStorageStatus",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetStorageData",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleSetStorageData",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetStorageV2Data",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleSetStorageV2Data",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleExportVisualsContentStatus",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleExportVisualsContent",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetWebAccessStatus",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleModalDialogResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleAcquireAADTokenResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleGetAcquireAADTokenStatus",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleLicenseResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"handleLicenseNotificationResult",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"onRestoreSelection",null),(0,S.__decorate)([(0,l.HJ)(),(0,S.__metadata)("design:type",Function),(0,S.__metadata)("design:paramtypes",[Array,Object]),(0,S.__metadata)("design:returntype",void 0)],Je.prototype,"onRestoreCvSelectionIds",null),Je})(),It=!1;!function(){if(!It){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var Je=Or;window.powerbi.visualSandbox.createSandboxHost=(ie,G=!1)=>Je(ie,G),It=!0}}();var gr=!1;(function(){if(!gr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var Je=kr;window.powerbi.visualSandbox.onSecurityPolicyViolation=ie=>Je(ie),gr=!0}})(),ne();class pt{constructor(ie){this.isolate=!0,this.promiseFactory=ie.promiseFactory,this.plugin=ie.plugin,this.tooltipService=ie.visualHostTooltip}init(ie){var G=ie.host.tooltips();G&&(this.tooltipService=G),this.cvContainer=ie.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(Je,ie,G){return new v(Je,ie,G)}(ie.host,this.cvContainer,this.tooltipService),this.visual.init({animation:ie.animation,element:this.cvContainer,host:this.hostServices,interactivity:ie.interactivity,style:ie.style,viewport:ie.viewport,localizationResources:this.plugin.localizationResources})}update(ie){return this.visual.update({dataViews:ie.dataViews,suppressAnimations:ie.suppressAnimations,viewMode:ie.viewMode,editMode:ie.editMode,viewport:ie.viewport,type:ie.type,operationKind:a.YB.Create,resizeMode:ie.resizeMode,isInFocus:ie.isInFocus,jsonFilters:ie.jsonFilters?ie.jsonFilters:null})}enumerateObjectInstancesAsync(ie){var G=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var se=this.visual.enumerateObjectInstances(ie);return se&&se.instances&&G.resolve({instances:se.instances,containers:se.containers}),G.resolve(se),G.promise}}enumerateObjectRepetitionAsync(){var ie=this.promiseFactory.defer(),G=this.visual.enumerateObjectRepetition();return ie.resolve(G),ie.promise}getFormattingModelAsync(){if(this.visual.getFormattingModel){var ie=this.promiseFactory.defer();return ie.resolve(this.visual.getFormattingModel()),ie.promise}}onRestoreSelection(ie){var G=this.hostServices.selectionManager;if(G){if(ie&&ie.selection){var se=ie.selection.map(He=>t.M3.fromSelectorsByColumn(He));G.setSelectionIds(se),G.invokeOnSelectCallback(se)}return!0}}onClearSelection(){var ie=this.hostServices.selectionManager;ie&&(ie.setSelectionIds([]),ie.invokeOnSelectCallback([]))}loadWithoutResourcePackage(ie){var se=ie.apiVersion?this.isolate&&(0,r.lt)(ie.apiVersion,"3.0.0"):this.isolate;this.plugin=wt(ie,!0,se),this.createAdapter()}visualHasMethod(ie){return _.isFunction(this[ie])}destroy(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()}createAdapter(){i.Y.assertValue(this.plugin,"Visual does not have a plugin");var ie=this.plugin;this.visual=(0,l.I2)(ie,ie.create,this.promiseFactory,null),i.Y.assertValue(this.visual,"Unable to create visual from plugin ")}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}}},938233:function(me,j,e){e.d(j,{A:function(){return p}});var r=e(928912),i=e(809912),a=e(785463),t=e(201991),l=e(957350),g=e(582626),n=e(700862),d=e(103965),s=e(419216),h=e(364785),o=e(636712);class v{constructor(u,E,c){this.proxy=u,this.plugin=E,this.telemetryService=c,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new h.c,this.proxy.setPluginReadyHandler(()=>{this.isPluginReady=!0,this.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new h.c,Promise.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(()=>{this.postUpdateMessage()})}update(u){if(this.firstUpdateMessageSent)return this.proxy.update(u);if(this.updateMessage){this.updateMessage.type|=u.type,u.dataViews?.length>0&&(this.updateMessage.dataViews=u.dataViews);var E=u,c=_.clone(this.updateMessage);for(var f in E)"type"!==f&&"dataViews"!==f&&void 0!==E[f]&&(c[f]=E[f]);this.updateMessage=c}else this.updateMessage=u,this.updateMessageSentDeferred=new h.c;return(0,n._x)(u,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise}postUpdateMessage(){this.updateMessage&&this.proxy.update(this.updateMessage).then(()=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.resolve()}).catch(u=>{this.updateMessage=void 0,this.firstUpdateMessageSent=!0,this.updateMessageSentDeferred.reject(u)})}destroy(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(o.LV,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0}}class p{constructor(u){this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=u.plugin.name,this.proxy=u.proxy,this.featureSwitchService=u.featureSwitchService,this.visualSandboxUri=u.visualSandboxUri,this.frontEndUrl=u.frontEndUrl?u.frontEndUrl:"'self'",this.hostEnv=u.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null,this.connectionNonce=u.connectionNonce;var E=_.map(u.sandboxProperties,M=>(0,d.bA)(M)).join(" "),c="";u.plugin.capabilities&&u.plugin.capabilities.supportsKeyboardFocus&&(c=" tabindex=0");var f="";this.featureSwitchService.featureSwitches.forceColorSchemeForIFrames||(f="color-scheme: auto;"),this.iframeHtml=`<iframe style="border:none;${f}" class="visual-sandbox empty-sandbox-visual" sandbox="${E}" name="visual-sandbox"${c} aria-label="${u.localizationService.get("CustomVisualIframeAriaLabel")}"></iframe>`,this.plugin=u.plugin,this.telemetryService=u.telemetryService,this.certifiedEventsService=u.certifiedEventsService,this.localizationService=u.localizationService,this.privilegeService=u.privilegeService;var D={urlLauncher:u.urlLauncher,visualHostTooltip:u.visualHostTooltip,hostEnv:u.hostEnv,dataMultiSelectMode:u.dataMultiSelectMode,sandboxPropertiesString:E,allowModalDialog:_.isFunction(u.openIFrameDialog),dialogSandboxUri:u.dialogSandboxUri,openIFrameDialog:u.openIFrameDialog,getEmbedHostType:u.getEmbedHostType},b=new n.XK(this.proxy,u.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,u.approvedResourcesService,u.visualsLicenseService,u.visualDownloadService,u.visualLocalStorageV2ProxyService,u.privilegeService,u.customVisualsTokenManagerService,D,u.instanceId);this.proxy.init(b,u.plugin);var T=window.powerbi.visuals.plugins[this.pluginName];a.Y.assertValue(T.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[T]),this.plugin.capabilities?.privileges&&this.telemetryService.logEvent(o.BH,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}get sandbox(){return!0}init(u){this.element=u.element,this.tooltipService=u.host.tooltips(),u.featureSwitches&&(!this.updateMessagesProcessor&&u.featureSwitches.cvAggregateUpdateMessages&&(0,t.ge)(this.plugin.apiVersion??"2.0.0","4.2.0")&&(this.updateMessagesProcessor=new v(this.proxy,this.plugin,this.telemetryService)),u.featureSwitches=this.filterFeatureSwitches(u.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(()=>{this.initializeContainerTimerId=void 0,this.element&&this.initContainer(u.viewport)},0),this.proxy.invoke("init",[u])}update(u){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(u):this.proxy.update(u)}enumerateObjectInstancesAsync(u){return this.proxy.invoke("enumerateObjectInstancesAsync",[u])}getFormattingModelAsync(){return this.proxy.invoke("getFormattingModelAsync",[])}getSubSelectionStylesAsync(u){return this.proxy.invoke("getSubSelectionStylesAsync",[u])}getSubSelectionShortcutsAsync(u,E){return this.proxy.invoke("getSubSelectionShortcutsAsync",[u,E])}getSubSelectablesAsync(u){return this.proxy.invoke("getSubSelectablesAsync",[u])}enumerateObjectRepetitionAsync(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])}onRestoreSelection(u){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[u]);var E=u.selection.map(c=>(0,s.MG)(c));return this.proxy.invoke("onRestoreSelection",[{selection:E}])}visualHasMethod(u){return _.isFunction(this[u])}destroy(){void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),this.accessibilityUpperIndicator?.remove(),this.accessibilityLowerIndicator?.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])}hideTooltip(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})}initContainer(u){this.marker=(0,r.ni)(`customVisual:${this.pluginName}:initContainer`);var c=u.width,f=u.height;this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(c,f):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,c,f)),this.plugin.capabilities?.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)}createCspIframe(u,E){var f=`<html><head><meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'"></head><body style="margin:0;overflow:hidden;">${this.iframeHtml}</body></html>`,D=$(document.createElement("iframe"));return D.attr({class:"visual-sandbox",srcdoc:f}),D.height(E),D.width(u),D.one("load",()=>{var M=$(D[0].contentWindow.document.querySelectorAll(".visual-sandbox"));this.initSandboxIframe(M,u,E)}),D}getCSP(){var u=void 0,E=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==E&&!this.isAsterisk(E)){var c=E.join(" ");u=`default-src ${this.frontEndUrl} data: blob: 'unsafe-inline' 'unsafe-eval' ${c};`}return u}isAsterisk(u){return 1===u.length&&"*"===u[0]}initSandboxIframe(u,E,c){var f=this.generateIFrameUrl();u.attr({src:f}),u.height(c),u.width(E),u.one("load",()=>this.onIFrameLoad(u)),u.on("mouseout",()=>this.hideTooltip())}initAccessibilityIndicators(){var u={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(u),this.accessibilityLowerIndicator.css(u),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0"),this.accessibilityUpperIndicator.on("focus",E=>this.handleIndicatorFocus(E)),this.accessibilityLowerIndicator.on("focus",E=>this.handleIndicatorFocus(E))}handleIndicatorFocus(u){u.preventDefault(),this.proxy.postMessage("focusVisualIframeWindow",[])}initWithAccessibilityIndicators(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)}onIFrameLoad(u){this.proxy.ready(u[0].contentWindow),this.marker()}generateIFrameUrl(){a.Y.assert(()=>!!this.localizationService.currentLanguageLocale,"current language locale is not valid");var u=g.Y.clearAllQueriesFromUrl(this.visualSandboxUri),E={locale:(0,l.JK)(this.localizationService.currentLanguageLocale)};this.hostEnv===i.J1.Desktop&&(E.plugin=this.pluginName),g.Y.getQueryStringValue("unmin")&&(E.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(E.cspiframe="1"),this.featureSwitchService.featureSwitches.emCVDisableGlobals||(E.pbiglobals="1");var c=this.getCSP();c&&(E.csp=btoa(c));var f=this.connectionNonce?`#${this.connectionNonce}`:"";return u+g.Y.rebuildQueryString(E)+f}filterFeatureSwitches(u,E){var c={};return u&&E&&(c=_.reduce(Object.keys(u),(f,D)=>(E.indexOf(D)>-1&&(f[D]=u[D]),f),{})),c}supportCustomVisualSelectionId(){return this.proxy.plugin?.apiVersion&&(0,t.ge)(this.proxy.plugin.apiVersion,"2.0.0")}}for(var S of["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"])(C=>{p.prototype[C]||(p.prototype[C]=function(){return this.proxy.invoke(C,_.toArray(arguments))})})(S)},700862:function(me,j,e){e.d(j,{g3:function(){return Fe},ab:function(){return Te},Dg:function(){return et},XK:function(){return At},_x:function(){return vt}});var r=e(619584),i=e(523324),a=e(568146),t=e(386426),l=e(981265),g=e(419216),n=e(498832);function d(st,Re){if(Re)return st.convertCVSelectionIdToPowerbiSelctionId(Re).getSelectorsByColumn()}function s(st,Re){return Re&&0!==Re.length&&Re[0].objectName?_.map(Re,q=>({objectName:q.objectName,selectorsByColumn:d(st,q.selectionId)})):[{objectName:t.cp.VisualArea,selectorsByColumn:{}}]}function h(st,Re){if(Re){var q=[];return Re.forEach(pe=>{(function(st){if(!st||!st.selectionOrigin||st.selectionOrigin.x<0||st.selectionOrigin.y<0)return!1;var Re=st.customVisualObjects;return!(!Re||Re.some(q=>!q))})(pe)&&q.push({visualObjects:s(st,pe.customVisualObjects),displayName:pe.displayName,subSelectionType:pe.subSelectionType,selectionOrigin:{x:pe.selectionOrigin.x,y:pe.selectionOrigin.y},showUI:pe.showUI,immediateDirectEdit:pe.immediateDirectEdit,metadata:pe.metadata,target:pe.target})}),q}}function y(st,Re){Re.destinationInfo&&c(st,Re.destinationInfo)}function C(st,Re){E(st,Re.relatedToggledFormattingIds),c(st,Re)}function E(st,Re){Re?.forEach(q=>{c(st,q)})}function c(st,Re){Re?.selector&&(Re.selector=function(st,Re){return st.deserializeOpaqueIdentity(Re),(0,g.BE)(Re)}(st,Re.selector))}var b={[l.tI.Arc]:function(st,Re){return!!(N(st.center,Re)&&null!=st.innerRadius&&null!=st.outerRadius)&&(st.innerRadius=st.innerRadius*Re.scale,st.outerRadius=st.outerRadius*Re.scale,!O(st)||M(st.clipPath,Re))},[l.tI.Group]:void 0,[l.tI.Line]:w,[l.tI.Polygon]:w,[l.tI.Rectangle]:function(st,Re){if(null!=st.x&&null!=st.y&&null!=st.width&&null!=st.height){var it=Re.fixCoordinates([st.x,st.y]);st.x=it[0],st.y=it[1],st.width=st.width*Re.scale,st.height=st.height*Re.scale;var ft=st,Pt=ft.cVDirectEdit;return Pt&&(ft.directEdit=()=>Pt,delete ft.cVDirectEdit),!ft.clipPath||M(ft.clipPath,Re)}return!1}};function M(st,Re){for(var q=[st],pe=Re.loopLimit,Ve=!1,ke=0;q.length&&ke<pe;){var it=q.pop();if(Ve=!1,ke++,it){if(I(it)){it.outlines.forEach(Pt=>q.push(Pt));continue}Ve=(0,b[it.type])(it,Re)}if(!Ve)return!1}return Ve&&ke<pe}function w(st,Re){for(var q of st.points)if(!N(q,Re))return!1;return!O(st)||M(st.clipPath,Re)}function N(st,Re){if(null!=st.x&&null!=st.y){var q=Re.fixCoordinates([st.x,st.y]);return st.x=q[0],st.y=q[1],!0}return!1}function I(st){return st&&st.type===l.tI.Group}function O(st){return!!st.clipPath}var R=e(597794),W=e(444384),F=e(672582);function U(st,Re){return{...st,hierarchyData:st.hierarchyData.map(pe=>B(pe,Re))}}function B(st,Re){var q={identity:Re.getCustomVisualOpaqueIdentityByDataViewScopeIdentity(st.identity),operator:st.operator};return st.children?.length&&(q.children=st.children.map(pe=>B(pe,Re))),q}function x(st,Re){return{...st,hierarchyData:st.hierarchyData.map(pe=>A(pe,Re))}}function A(st,Re){if(!(0,F.Nn)(st.identity))throw new Error("invalid CustomVisualOpaqueIdentity");var q={identity:Re.getDataViewScopeIdentityByCustomVisualOpaqueIdentity(st.identity),value:Re.getDataViewValueByCustomVisualOpaqueIdentity(st.identity),operator:st.operator};return st.children?.length&&(q.children=st.children.map(pe=>A(pe,Re))),q}var L=e(251476),Y=e(873728),z=e(824258),H=e(809912),Z=e(282293),k=e(430602),K=e(103965),ee=e(864508),Q=e(738060),J=e(717312),X=e(785463),ne=e(32764);function oe(st,Re){if(function(st){return null!=st?.control?.properties?.descriptor?.objectName}(st)){var q=st.control.properties;q.descriptor=Me(Re,q.descriptor)}else{var pe=st?.control?.properties;Object.keys(pe).forEach(Ve=>{var ke=pe[Ve];ke.descriptor=Me(Re,ke.descriptor)})}}function Me(st,Re){return st.deserializeOpaqueIdentity(Re?.altConstantValueSelector),st.deserializeOpaqueIdentity(Re?.selector),function(st){return{...st,selector:(0,g.BE)(st.selector),altConstantValueSelector:(0,g.BE)(st.altConstantValueSelector)}}(Re)}var lt=e(201991),ut=e(147293),St=e(874215),ze=e(894361),Be=e(51926),Ce=e(137258),Ie=102400,xe=(0,Ce.bq)("LVSTORAGE:","1",Ie,43200),ye=new class{loadDictionary(Re,q,pe=!1){var Ve=this.getStorageKey(Re,q,pe),ke=xe.getData(Ve);return ke||(ke={}),ke}saveDictionary(Re,q,pe,Ve=!1){var ke=this.getStorageKey(Re,q,Ve);xe.setData(ke,_(pe).isEmpty()?void 0:pe)}getStorageKey(Re,q,pe){return pe?q:btoa((Re??"NA")+"|"+q)}getData(Re,q,pe){var Ve=null;try{var ke=this.loadDictionary(Re,q);Ve=atob(ke[btoa(pe)])}catch{Ve=this.getAndRemoveLegacyData(Re,q,pe)}return Ve}setData(Re,q,pe,Ve){try{var it=this.loadDictionary(Re,q);it[btoa(pe)]=btoa(Ve);var ft=JSON.stringify(it).length;return ft<=Ie&&this.saveDictionary(Re,q,it),Ie-ft}catch{}return 0}remove(Re,q,pe){try{var Ve=this.loadDictionary(Re,q);Ve[btoa(pe)]=void 0,this.saveDictionary(Re,q,Ve)}catch{}}getAndRemoveLegacyData(Re,q,pe){var Ve=this.loadDictionary("",q,!0),ke=Ve[pe];return void 0!==ke&&(Ve[pe]=void 0,this.saveDictionary("",q,Ve,!0),this.setData(Re,q,pe,ke)),ke}},Xe=e(724535),fe=e(942596),Se=e(702087),qe=e(982699),Ue=e(636712);class he{constructor(Re,q,pe,Ve){this.messageProxy=Re,this.telemetryService=q,this.plugin=pe,this.instanceId=Ve,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,X.Y.assertValue(Re,"messageProxy"),setTimeout(()=>{this._minDisplayDurationReached=!0},2e3),this.messageProxy.on(qe.R,ke=>this.onMessageReceived(ke)),this.messageProxy.on(qe.wA,ke=>this.onMessageError(ke))}set dialog(Re){this._dialog=Re}set iframe(Re){this._iframe=Re}get modalDialogState(){return this._modalDialogState}postMessage(Re,q){this.messageProxy.postMessage({eventName:Re,arguments:q})}postMessageAsync(Re,q){return this.messageProxy.postMessageAsync({eventName:Re,arguments:q})}destroy(){this.messageProxy.off(qe.R),this.messageProxy.off(qe.wA),this.messageProxy.destroy(),this._dialog=null,this._iframe=null}onMessageReceived(Re){this.validateMessageSource(Re)&&(_.isFunction(this[Re.message.eventName])?this[Re.message.eventName].apply(this,Re.message.arguments):this.telemetryService.logEvent(Ue.T2,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))}onMessageError(Re){this.validateMessageSource(Re)&&Re.message&&Re.message.error&&this.telemetryService.logEvent(Ue.T2,{visualType:this.plugin.name,instanceId:this.instanceId,payload:Re.message.error})}onDialogSetState(Re){this._modalDialogState=Re}onDialogClose(Re,q){q&&(this._modalDialogState=q),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(Re)}onDialogResize(Re,q){if(this._dialog){var pe=_.clamp(Re,200,Math.ceil(.9*window.innerWidth))+2,Ve=_.clamp(q,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(pe,Ve)}}validateMessageSource(Re){return X.Y.assertValue(Re,"message"),!(!Re.source||!this._iframe||this._iframe.contentWindow!==Re.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],Re.message.eventName))}}var Qe=e(928912),je=["txt","csv","json","tmplt","xml","pdf","xlsx"],tt=31457280;class $e{constructor(Re,q,pe,Ve){this.visualDownloadService=Re,this.telemetryService=q,this.plugin=pe,this.instanceId=Ve}exportVisualsContent(Re,q,pe,Ve,ke){var it=q.split(".").pop();pe=pe.toLowerCase();var ft=this.getBlobSize(Re,pe);return this.validateContentSource(Re,q,pe,Ve,ft)?this.visualDownloadService.exportVisualsContent(Re,q,pe,Ve,this.plugin.name,ft).then(Pt=>(this.telemetryService.logEvent(Ue.qi,{isFileSaved:Pt,contentSize:ft,visualType:this.plugin.name,instanceId:this.instanceId,extension:it}),{promiseId:ke,data:{downloadCompleted:Pt,fileName:Pt?q:void 0}}),()=>({promiseId:ke,data:{downloadCompleted:!1}})):this.handleInvalidRequest(ft,it,ke)}validateContentSource(Re,q,pe,Ve,ke){var it=q.split(".").pop().toLowerCase(),ft=je.filter(Ut=>it===Ut).length>0,Pt=null===q.match(/[:/\\]/);return!(!Re||!pe||!Ve||!Pt||!ft||ke>tt)}getBlobSize(Re,q){if(!Re)return 0;if(Re.length>tt)return tt+1;var Ve=new Blob([Re],{type:Qe.mo});return Ve?"base64"===q?3*Ve.size/4:Ve.size:0}handleInvalidRequest(Re,q,pe){return this.telemetryService.logEvent(Ue.YK,{contentSize:Re,visualType:this.plugin.name,instanceId:this.instanceId,extension:q}),Promise.resolve({promiseId:pe,data:{downloadCompleted:!1}})}}var de=e(887734),De=function(st){return st[st.AlreadyOpen=1]="AlreadyOpen",st[st.NotAllowed=2]="NotAllowed",st[st.BlockedByUser=3]="BlockedByUser",st}({}),re=e(856751),ce=e(776639),te=e(977961),Te={[ut.Zb.General]:"icon",[ut.Zb.UnsupportedEnv]:"unsupported environment blocker",[ut.Zb.VisualIsBlocked]:"blocker"},Fe={[H.J1.Web]:"Web",[H.J1.PublishToWeb]:"PublishToWeb",[H.J1.Desktop]:"Desktop",[H.J1.Embed]:"Embed",[H.J1.ReportServer]:"ReportServer",[H.J1.ExportReportHost]:"ExportReportHost",[H.J1.Mobile]:"Mobile",[H.J1.DashboardHost]:"DashboardHost",[H.J1.Unknown]:"Unknown"},et={[l.QC.Allowed]:"Allowed",[l.QC.DisabledByAdmin]:"DisabledByAdmin",[l.QC.NotSupported]:"NotSupported",[l.QC.NotDeclared]:"NotDeclared"};function vt(st,Re){if(st.visualHasData&&(!st.dataViews||0===st.dataViews.length))return!0;var q=Re.capabilities;return st.visualRequiresData&&st.dataViews&&0===st.dataViews.length&&!(q&&q.supportsLandingPage&&(q&&q.supportsEmptyDataView||st.viewMode===ut.nE.Edit))}var At=(()=>{class st{constructor(q,pe,Ve,ke,it,ft,Pt,Ut,Kt,Qt,qt,nr,Ge){this.proxy=q,this.promiseFactory=pe,this.telemetryService=Ve,this.certifiedEventsService=ke,this.featureSwitchService=it,this.approvedResourcesService=ft,this.licenseService=Pt,this.visualDownloadService=Ut,this.visualLocalStorageV2ProxyService=Kt,this.privilegeService=Qt,this.customVisualsTokenManagerService=qt,this.visualSandboxOptions=nr,this.instanceId=Ge,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new Z.T,this.visualSelections=[],this.asyncSerializer=new W.P}get sandbox(){return!0}init(q){this.visualHostServices=q.host,this.visualAdapterHostServices=q.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=q.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=q.element,this.resize(q.viewport),this.visualStyle=q.style;var pe=this.visualSandboxOptions?.hostEnv;this.isExportVisualsContentSupported=!!pe&&!!(pe&(H.J1.Web|H.J1.Desktop))&&!!q.interactivity?.isVisualInteractive,q.interactivity=q.interactivity||{},q.interactivity.allowModalDialog=this.visualSandboxOptions?.allowModalDialog&&q.interactivity.isVisualInteractive,this.initOptions=q;var Ve={animation:q.animation,interactivity:q.interactivity,viewport:q.viewport,style:(0,de.Ot)(q.style),featureSwitches:q.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[Ve])}getHostEnvString(){return this.visualSandboxOptions?.hostEnv?Fe[this.visualSandboxOptions.hostEnv]:"Undefined"}update(q){this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(q));var pe=this.promiseFactory.defer(),Ve=(ke,it)=>this.proxy.postMessageAsync(ke,it);return vt(q,this.proxy.plugin)?(q.updateCallBack&&q.updateCallBack(),pe.resolve(null),pe.promise):this.asyncSerializer.enqueue(()=>this.updateCore(q,Ve))}updateCore(q,pe){var Ve=this;return(0,r.A)(function*(){var ke,it,ft,Pt=[];if(Ve.formatMode=q.formatMode,(q.type&ut.YL.All)===ut.YL.All||(q.type&ut.YL.Resize)!==ut.YL.Resize||q.resizeMode===ut.OJ.Resized){var Ut=Ve.proxy&&Ve.proxy.plugin&&Ve.proxy.plugin.apiVersion;if(q.dataViews&&q.dataViews[0]&&(0,K.Ht)(Ve.proxy?.plugin)){X.Y.assert(()=>q.dataViews.length<=1,"Custom Visuals should only use one dataView");try{q?.dataViews[0]?.metadata?.columns&&(q.dataViews[0].metadata.columns=_.filter(q.dataViews[0].metadata.columns,We=>We.roles||""!==We.displayName))}catch(We){X.Y.assertFail("failed to filter columns: "+We)}Ve.shouldUpdateWithCachedData(q)?ft=Ve.dataViewSerializer.serializeDataViewMetadata(q.dataViews[0]):it=Ve.dataViewSerializer.serializeDataViewForCv(q.dataViews[0],Ve.proxy.plugin.capabilities,!1,(0,lt.gt)(Ut,"3.5.9"),[],(0,lt.ge)(Ut,"5.3.0"),(0,lt.ge)(Ut,"5.9.0")),Pt=Ve.RestoreCvSelectionIds(Ve.visualSelections)}var qt,Kt=!!(q.dataViews&&q.dataViews.length>0&&q.dataViews[0].categorical&&q.dataViews[0].categorical.categories&&q.dataViews[0].categorical.categories.length>0&&q.dataViews[0].categorical.categories[0]&&q.dataViews[0].categorical.categories[0].values),Qt=[];Kt&&(Qt=q.dataViews[0].categorical.categories[0].values,q.dataViews[0].categorical.categories[0].source&&q.dataViews[0].categorical.categories[0].source.type&&(qt=q.dataViews[0].categorical.categories[0].source.type.dateTime));var Ge,nr=q?.dataViews?.[0]?.metadata?.objects,Ct=nr&&(0,Be._W)(nr,K.PO);if(Ct)try{Ge=yield Ve.getJSONFilter(Ct)}catch{Ge=[]}else Ge=[];Ve.dataTransforms=q.dataTransforms;var xt={dataViewSource:q.visualDefinitionData?q.visualDefinitionData.dataViewSource:null,dataTransforms:J.R.serializeDataViewTransformActions(q.dataTransforms,Ve.proxy.plugin.capabilities.objects||{}),suppressAnimations:q.suppressAnimations,viewMode:q.viewMode,editMode:q.editMode,viewport:q.viewport,type:q.type,resizeMode:q.resizeMode,isInFocus:q.isInFocus,categoriesValues:Kt?Qt:null,isCategoryDate:qt,serializedDataView:it,jsonFilters:Ge,dataViewMetadata:ft,selections:Pt,updateId:q.updateId,formatMode:q.formatMode,subSelections:Ve.convertToCustomVisualSubSelections(q.subSelections),pendingChanges:q.pendingChanges};Ve.shouldUpdateWithCachedData(q)?(Ve.lastDataViewSource=xt.dataViewSource,xt.dataViewSource=null,ke=yield pe("updateWithCachedData",[xt])):(Ve.lastDataViewSource=xt.dataViewSource,ke=yield pe("update",[xt]))}else q.updateCallBack&&q.updateCallBack();return window.setTimeout(()=>Ve.resize(q.viewport)),ke})()}getJSONFilter(q){var pe=this;return(0,r.A)(function*(){var Ve=yield pe.visualHostServices.getJSONFilter(q,pe.dataViewSerializer.identitiesArray);return _.map(Ve,ke=>pe.processGetJsonFilter(ke))})()}processGetJsonFilter(q){return q.filterType===St.FilterType.HierarchyIdentity?this.processGetHierarchyIdentityJsonFilter(q):q}processGetHierarchyIdentityJsonFilter(q){return U(q,this.dataViewSerializer)}logCapabilitiesTelemetry(q){var Ct,xt,pe=this.proxy.plugin,Ve=pe?.capabilities,ke=q?.dataViews?.[0]?.metadata?.objects,it={sorting:{implicit:!!Ve?.sorting?.implicit,default:!!Ve?.sorting?.default,custom:!!Ve?.sorting?.custom},expandCollapse:Kt(ke,Ve?.expandCollapse?.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:Kt(ke,Ve?.subtotals?.matrix?.rowSubtotalsType,ut.Zx.Top),Bottom:Kt(ke,Ve?.subtotals?.matrix?.rowSubtotalsType,ut.Zx.Bottom)}}},ft=function Qt(Ge){var Ct=[],xt=new Map(Object.entries(Ge));for(var We of Object.keys(Ge)){var nt=xt.get(We);if("boolean"==typeof nt)nt&&Ct.push(We);else{var Wt=Qt(nt);Wt.length&&Ct.push({[We]:Wt})}}return Ct}(it);if(ft.length){this.telemetryService.logEvent(Ue.is,{visualType:pe.name,existingCapabilities:JSON.stringify({apiVersion:pe.apiVersion,visualVersion:pe.version,existingTrackedCapabilities:ft})});var Ut={apiMajorVersion:pe.apiVersion&&(0,lt.x6)(pe.apiVersion)?.major,apiMinorVersion:pe.apiVersion&&(0,lt.x6)(pe.apiVersion)?.minor,visualMajorVersion:pe.version&&(0,lt.x6)(pe.version)?.major,visualMinorVersion:pe.version&&(0,lt.x6)(pe.version)?.minor};Ct=Ut,function nr(Ge,Ct,xt=""){var We=new Map(Object.entries(Ge));for(var nt of Object.keys(Ge)){var Wt=We.get(nt),kt=""!==xt?xt+"."+nt:nt;"boolean"==typeof Wt?Wt&&Ct.push(kt):nr(Wt,Ct,kt)}}(it,xt=[]),xt.forEach(We=>{var nt=We.split("."),Wt=nt[0],kt=1===nt.length?nt[0]:nt.slice(1).join(".");Ct[Wt]=Ct[Wt]?Ct[Wt]+", "+kt:kt}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:{...Ut},activityName:Ue.D,correlationId:this.telemetryService.root?.id,visualId:pe.name})}function Kt(Ge,Ct,xt){var We=!1;return Ct&&(We=Ct.propertyIdentifier?(0,Be._W)(Ge,Ct.propertyIdentifier,Ct.defaultValue)===xt:Ct.defaultValue===xt),We}}getFormattingModelAsync(){return this.asyncSerializer.enqueue(()=>{var q=this.promiseFactory.defer();return this.proxy.postMessageAsync("getFormattingModel",[]).then(pe=>{var Ve=pe;if(!Ve)return q.resolve(null);var ke=function(st,Re){return Re?.cards.forEach(q=>{q?.groups?.forEach(pe=>{pe?.slices?.forEach(Ve=>{oe(Ve,st)}),pe?.container?.containerItems?.forEach(Ve=>{Ve?.slices?.forEach(ke=>{oe(ke,st)}),Ve?.groups?.forEach(ke=>{ke?.slices?.forEach(it=>{oe(it,st)})})})})}),Re}(this.dataViewSerializer,Ve);q.resolve(ke)}).catch(pe=>q.reject(pe)),q.promise})}getSubSelectionStylesAsync(q){return this.asyncSerializer.enqueue(()=>{var pe=this.promiseFactory.defer(),Ve=this.convertToCustomVisualSubSelections(q);return this.proxy.postMessageAsync("getSubSelectionStyles",[Ve]).then(ke=>{if(!ke)return pe.resolve(void 0);var it=function(st,Re){if(Re)return function(st){if(st.type=st.type??n.RV.None,st.type===n.RV.Text||st.type===n.RV.NumericText){var Re={label:"",reference:{objectName:"",propertyName:""}};"font"in st&&(st.font=st.font??Re),st.fontColor=st.fontColor??Re}}(Re),Object.values(Re)?.forEach(q=>{c(st,q?.reference)}),Re}(this.dataViewSerializer,ke);pe.resolve(it)}).catch(ke=>pe.reject(ke)),pe.promise})}getSubSelectionShortcutsAsync(q,pe){return this.asyncSerializer.enqueue(()=>{var Ve=this.promiseFactory.defer(),ke=this.convertToCustomVisualSubSelections(q);return this.proxy.postMessageAsync("getSubSelectionShortcuts",[ke,pe]).then(it=>{if(!it)return Ve.resolve(void 0);var ft=function(st,Re){return Re?.forEach(q=>{if(q)switch(q.type){case n.P2.Reset:!function(st,Re){E(st,Re.relatedResetFormattingIds),E(st,Re.excludedResetFormattingIds)}(st,q);break;case n.P2.Toggle:C(st,q);break;case n.P2.ConditionalFormatting:c(st,q);break;case n.P2.Navigate:y(st,q);break;case n.P2.SubMenu:!function(st,Re){Re.shortcuts?.forEach(q=>{if(q)switch(q.type){case n.P2.Toggle:C(st,q);break;case n.P2.Navigate:y(st,q);break;case n.P2.ConditionalFormatting:c(st,q)}})}(st,q);break;case n.P2.SetValue:!function(st,Re){Re.referencesAndValues?E(st,Re.referencesAndValues):Re.referencesAndValues=[]}(st,q)}}),Re}(this.dataViewSerializer,it);Ve.resolve(ft)}).catch(it=>Ve.reject(it)),Ve.promise})}getSubSelectablesAsync(q){return this.asyncSerializer.enqueue(()=>{var pe=this.promiseFactory.defer();return this.proxy.postMessageAsync("getSubSelectables",[q]).then(Ve=>{if(!Ve)return pe.resolve(void 0);var ke=h(this.dataViewSerializer,Ve);pe.resolve(ke)}).catch(Ve=>pe.reject(Ve)),pe.promise})}enumerateObjectInstancesAsync(q){return this.asyncSerializer.enqueue(()=>{var pe=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[q]).then(Ve=>{var ke=Ve;if(!ke)return pe.resolve(null);if(ke.instances){var it;if((0,K.Ht)(this.proxy?.plugin)){var ft=this.dataViewSerializer.deserializeVisualObjectInstance(ke.instances);it=(0,re.iu)(ft)}else it=(0,re.iu)(ke.instances);var Pt={instances:it,containers:ke.containers?(0,re.EX)(ke.containers):null};return pe.resolve(Pt)}(0,K.Ht)(this.proxy?.plugin)&&(Ve=this.dataViewSerializer.deserializeVisualObjectInstance(Ve));var Ut=(0,re.iu)(Ve);pe.resolve(Ut)}).catch(Ve=>pe.reject(Ve)),pe.promise})}enumerateObjectRepetitionAsync(){return this.asyncSerializer.enqueue(()=>(this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(q=>{if(!q)return this.enumerateObjectRepetitionAsyncPromise.resolve(null);var Ve=(0,ce.iu)(q);this.enumerateObjectRepetitionAsyncPromise.resolve(Ve)}).catch(q=>this.enumerateObjectRepetitionAsyncPromise.reject(q)),this.enumerateObjectRepetitionAsyncPromise.promise))}onSelect(q){var pe;if((0,ne.Rr)(q)){var Ve=q;pe={data:(0,g.mV)(Ve.data),data2:(0,g.bZ)(Ve.data2),selectors:(0,g.mV)(Ve.selectors)}}else{var{visualObjects:ke}=q;pe={type:l.H6.DataPointSelection,visualObjects:(0,g.kv)(ke)}}this.visualHostServices.onSelect(pe)}subSelect(q){if(this.formatMode&&q){var pe,Ve=h(this.dataViewSerializer,[q]);if(Ve&&Ve[0]){var ke=this.fixCoordinates([Ve[0].selectionOrigin.x,Ve[0].selectionOrigin.y]);if(pe={...Ve[0],type:l.H6.FormattingSubSelection,selectionOrigin:{x:ke[0],y:ke[1]}},this.visualHostServices.onSelect(pe),Ve[0].showUI){var it=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2,clientX:ke[0],clientY:ke[1]});Ve[0].visualObjects[0].objectName!==t.cp.VisualArea&&(0,Xe.o)(it),this.element.get(0).dispatchEvent(it)}}}}updateRegionOutlines(q){if(this.formatMode&&q){var Ve=function(st,Re){for(var q=[],pe=Math.min(st.length,Re.loopLimit),Ve=0;Ve<pe;Ve++)M(st[Ve].outline,Re)&&q.push(st[Ve]);return q}(q,{fixCoordinates:it=>this.fixCoordinates(it),loopLimit:1e5,scale:this.viewPortScale}),ke=this.visualHostServices.getSubSelectionService();ke?.updateRegionOutlines(Ve)}}convertToCustomVisualSubSelections(q){if(q){var pe=this.proxy?.plugin?.apiVersion;return q.map(Ve=>{var ke=Ve.visualObjects.map(it=>{var ft=it.selectorsByColumn&&this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(it.selectorsByColumn,(0,lt.ge)(pe,"5.8.0"));return{objectName:it.objectName,selectionId:ft&&new k.r(ft.serializedDataMap,ft.measures)}});return{...Ve,visualObjects:[],customVisualObjects:ke}})}}transformCvSelectionIdsAndSelect(q){var pe;if(this.visualSelections=[],q.selectionIds)for(var Ve of(pe={type:l.H6.DataPointSelection,visualObjects:[]},q.selectionIds)){Ve=new k.r(Ve.dataMap,Ve.measures);var it=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ve).getSelectorsByColumn();pe.visualObjects.push({objectName:"dataPoint",selectorsByColumn:it}),this.visualSelections.push(it)}else pe={type:l.H6.DataPointSelection,visualObjects:[]};pe.selectionMode=q.multiSelect?fe.v.Difference:fe.v.Single,this.visualHostServices.onSelect(pe)}onRestoreCvSelectionIds(q){if(q.selection){var pe=this.RestoreCvSelectionIds(q.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[pe]),!0}}RestoreCvSelectionIds(q){this.visualSelections=q;var pe=[];for(var Ve of q)if(Ve){var ke=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(Ve);ke&&pe.push(ke)}return pe}onUpdateResult(q){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!q)}onRelayUIEvent(q){var pe=this.element.offset();if(null!=pe){var Ve;switch(q.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":case"dblclick":Ve=new MouseEvent(q.type,{screenX:q.screenX,screenY:q.screenY,clientX:q.clientX?q.clientX+pe.left:pe.left,clientY:q.clientY?q.clientY+pe.top:pe.top,ctrlKey:q.ctrlKey,shiftKey:q.shiftKey,altKey:q.altKey,metaKey:q.metaKey,buttons:q.buttons,relatedTarget:q.relatedTarget,bubbles:q.bubbles});break;case"tap":case"touchend":case"touchcancel":var Pt=q,Ut=this.createTouchList(Pt.touches,pe),Kt=this.createTouchList(Pt.changedTouches,pe),Qt=this.createTouchList(Pt.targetTouches,pe);Ve=new TouchEvent(Pt.type,{touches:Ut,targetTouches:Qt,changedTouches:Kt,view:window,ctrlKey:Pt.ctrlKey,shiftKey:Pt.shiftKey,altKey:Pt.altKey,metaKey:Pt.metaKey});break;case"keydown":Ve=new KeyboardEvent(q.type,{altKey:q.altKey,bubbles:q.bubbles,cancelable:q.cancelable,code:q.code,composed:q.composed,ctrlKey:q.ctrlKey,key:q.key,keyCode:q.keyCode,metaKey:q.metaKey,shiftKey:q.shiftKey});break;default:return}this.element.get(0).dispatchEvent(Ve)}}createTouchList(q,pe){var Ve=[];if(null==q)return Ve;for(var ke=0;ke<q.length;ke++){var it=q.item(ke),ft=new Touch({identifier:it.identifier,target:it.target,clientX:it.clientX?it.clientX+pe.left:pe.left,clientY:it.clientY?it.clientY+pe.top:pe.top,screenX:it.screenX,screenY:it.screenY,pageX:it.pageX?it.pageX+pe.left:pe.left,pageY:it.pageY?it.pageY+pe.top:pe.top,radiusX:it.radiusX,radiusY:it.radiusY,rotationAngle:it.rotationAngle,force:it.force});Ve.push(ft)}return Ve}persistProperties(q){var Ve,pe=q;pe.merge||pe.remove||pe.replace?(this.deserilizePersistedSelectors(pe),Ve={merge:pe.merge?(0,re.iu)(pe.merge):null,remove:pe.remove?(0,re.iu)(pe.remove):null,replace:pe.replace?(0,re.iu)(pe.replace):null}):Ve=(0,re.iu)(q),this.visualHostServices.persistProperties(Ve)}deserilizePersistedSelectors(q){var pe=Ve=>{Ve?.map(ke=>(this.dataViewSerializer.deserializeOpaqueIdentity(ke.selector),ke))};pe(q.merge),pe(q.remove),pe(q.replace)}applyJsonFilter(q,pe,Ve,ke){switch(q&&q.length>0&&q[0].filterType){case St.FilterType.Identity:return this.applyIdentityFilter(q,pe,Ve,ke);case St.FilterType.HierarchyIdentity:return this.applyHierarchyIdentityFilter(q,pe,Ve,ke);default:return this.visualHostServices.applyJsonFilter(q,pe,Ve,ke)}}applyHierarchyIdentityFilter(q,pe,Ve,ke,it){var ft=this.proxy.plugin.apiVersion;if(ft&&!(0,lt.lt)(ft,"5.9.0")){try{q[0]=x(q[0],this.dataViewSerializer)}catch{return void it({telemetryServiceArgs:{aborted:!0}})}this.visualHostServices.applyJsonFilter(q,pe,Ve,ke)}else it({telemetryServiceArgs:{aborted:!0,invalidApiVersion:!0}})}refreshHostData(){this.visualHostServices.refreshHostData()}setCanDrill(q,pe){this.featureSwitchService.featureSwitches.drillStateToggleable&&(pe({telemetryServiceArgs:{drillAllowed:q}}),this.visualHostServices.setCanDrill(q))}drill(q){!q?.roleName||!q?.drillType||this.visualHostServices.drill(q)}onCustomVisualContextMenu(q,pe){if(q&&q.data&&q.position&&q.data[0]){var ft,Ve=q.data[0],ke=new k.r(Ve.dataMap,Ve.measures,Ve.nodeIsCollapsed,Ve.nodeIndexes),it=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if(it&&it.expandCollapse){var Ut=this.getRowsRoles(it);Ut&&_.isEqual(Ut,q.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(ke)?(ft=this.dataViewSerializer.getNodeIndexOfSelectionId(ke),_.isEmpty(ft)&&(pe({telemetryServiceArgs:{expandCollapseAborted:!0}}),ft=void 0,q.dataRoles=void 0)):(pe({telemetryServiceArgs:{expandCollapseAborted:!0}}),q.dataRoles=void 0))}var Qt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ke),qt=this.fixCoordinates([q.position.x,q.position.y]),nr=Qt.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:nr?[nr]:void 0,nodeIndex:ft,position:{x:qt[0],y:qt[1]},copyArgs:q.copyArgs,dataRoles:q.dataRoles})}}onCustomVisualExpandCollapse(q,pe){var Ve=q&&q.data,ke=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,it=this.getRowsRoles(ke);if(Ve&&null!=Ve.nodeIsCollapsed&&ke&&ke.expandCollapse&&it)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(Ve)){var Ut=this.dataViewSerializer.getNodeIndexOfSelectionId(Ve);if(_.isEmpty(Ut))pe({telemetryServiceArgs:{aborted:!0}});else{var Kt=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ve).getSelectorsByColumn();q.entireLevel?this.visualHostServices.setLevelExpansionState({data:Kt,dataRoles:it,isCollapse:!Ve.nodeIsCollapsed,nodeIndex:Ut}):this.visualHostServices.setNodeExpansionState({data:Kt,dataRoles:it,isCollapse:!Ve.nodeIsCollapsed,nodeIndex:Ut})}}else pe({telemetryServiceArgs:{aborted:!0}});else pe({telemetryServiceArgs:{aborted:!0}})}exportVisualsContentStatusInternal(){var q=this.privilegeService.getExportContentStatus(this.proxy.plugin);return q===l.QC.Allowed&&!this.isExportVisualsContentSupported&&(q=l.QC.NotSupported),q}exportVisualsContentStatus(q){var pe=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:pe,promiseId:q}])}exportVisualsContent(q,pe,Ve,ke,it,ft){var Pt=this.exportVisualsContentStatusInternal();Pt===l.QC.Allowed||Pt===l.QC.DisabledByAdmin?new $e(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(q,this.proxy.plugin.name+"_"+pe,Ve,ke,it).then(Ge=>{this.proxy.postMessage("handleExportVisualsContent",[Ge])}):(ft({telemetryServiceArgs:{cvHostEnvironment:this.visualSandboxOptions?.hostEnv?Fe[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",Pt),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:it}]))}onSwitchFocusModeState(q){this.visualHostServices.onSwitchFocusModeState(q)}onDisplayWarningIcon(q,pe,Ve){var ft=te.EK,Pt=new z.G(te.oX,q.substr(0,te.AA),pe.substr(0,ft));this.visualHostServices.setWarnings([Pt]),Ve({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})}getRowsRoles(q){var pe=q&&q.dataViewMappings&&q.dataViewMappings[0]&&q.dataViewMappings[0].matrix&&q.dataViewMappings[0].matrix.rows;return pe?Se.e1.fromMatrixRows(pe):void 0}fixCoordinates(q){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return q;var pe=this.element.offset();return q[0]=q[0]*this.viewPortScale+pe.left,q[1]=q[1]*this.viewPortScale+pe.top,q}deserializeIdentities(q){if(q&&(0,K.Ht)(this.proxy?.plugin)){var pe=[];for(var Ve of q)pe.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Ve));return pe&&_(pe).map(ft=>ft.getSelectorsByColumn()).compact().value()}return q&&_(q).map(ft=>(0,g.bZ)(ft)).compact().value()}showTooltip(q){if(this.tooltipService&&this.tooltipService.enabled()){var pe=_.cloneDeep(q);pe.coordinates=this.fixCoordinates(pe.coordinates),pe.identities=this.deserializeIdentities(q.identities),this.tooltipService.show(pe)}}moveTooltip(q){if(this.tooltipService&&this.tooltipService.enabled()){var pe=_.cloneDeep(q);pe.coordinates=this.fixCoordinates(pe.coordinates),pe.identities=this.deserializeIdentities(q.identities),this.tooltipService.move(pe)}}hideTooltip(q){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(q)}getAvailableServicePlans(q){if(this.telemetryService.logEvent(Ue.z9,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(Ue.Ow),this.licenseService){var pe=(0,K.wF)(this.proxy.plugin.name,this.proxy.isDebug);this.licenseService.getServicePlans(pe).then(ke=>{if(!ke)throw Error("servicePlansResponse is undefined");var{servicePlans:it,isLicenseInfoAvailable:ft,isLicenseUnsupported:Pt}=ke;this.proxy.postMessage("handleLicenseResult",[{promiseId:q,licenseInfoResult:{plans:it,isLicenseUnsupportedEnv:Pt,isLicenseInfoAvailable:ft}}])}).catch(()=>{this.telemetryService.logEvent(Ue.TM,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:q,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(Ue.fu,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:q,licenseInfoResult:void 0}])}acquireAADToken(q){var pe=this;return(0,r.A)(function*(){var Ve=yield pe.customVisualsTokenManagerService.acquireTokenForCustomVisual(pe.proxy.plugin,pe.proxy.isDebug),ke=pe.getAcquireAADTokenResult(Ve);pe.proxy.postMessage("handleAcquireAADTokenResult",[{promiseId:q,data:ke}])})()}getAcquireAADTokenResult(q){if(q){var{accessToken:pe,cloudName:Ve,expiresOn:ke,userId:it,tenantId:ft}=q;return{accessToken:pe,expiresOn:ke,userInfo:{userId:it,tenantId:ft},fabricInfo:{cloudName:Ve}}}return{accessToken:null}}getAcquireAADTokenStatus(q,pe){var Ve=this;return(0,r.A)(function*(){var ke=yield Ve.getAcquireAADTokenPrivilegeStatus(),it=et[ke];pe({activityAttributesArgs:{status:it},telemetryServiceArgs:{status:it}}),Ve.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:q,status:ke}])})()}getAcquireAADTokenPrivilegeStatus(){var q=this;return(0,r.A)(function*(){var pe=q.privilegeService.getAcquireAADTokenStatus(q.proxy.plugin);return pe!==l.QC.Allowed||(yield q.isAcquireAADTokenSupported())?pe:l.QC.NotSupported})()}isAcquireAADTokenSupported(){var q=this;return(0,r.A)(function*(){return q.isDebugOrApprovedResource()&&!!(yield q.privilegeService.getAcquireAADTokenAudience(q.proxy.plugin,q.proxy.isDebug))})()}isDebugOrApprovedResource(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)}notifyLicenseRequired(q,pe){var Ve=this;return(0,r.A)(function*(){var ke={promiseId:pe,licenseNotificationResult:void 0},it=yield Ve.licenseService.isLicenseUnsupportedEnv();null==q||it!==(q===ut.Zb.UnsupportedEnv)||q===ut.Zb.General&&Ve.visualHostServices.getViewMode()!==ut.nE.Edit?ke.licenseNotificationResult=!1:(Ve.visualHostServices.onNotifyLicense(q),ke.licenseNotificationResult=!0),Ve.proxy.postMessage("handleLicenseNotificationResult",[ke]);var ft=null==q?"null":Te[q];Ve.telemetryService.logEvent(Ue.MT,{visualType:Ve.proxy.plugin.name,notificationType:ft,responseValue:ke.licenseNotificationResult}),Ve.logLicensingStandardizedFeatureEvent(Ue.HI,{notificationType:ft,responseValue:ke.licenseNotificationResult})})()}notifyFeatureBlocked(q,pe){var Ve=this;return(0,r.A)(function*(){var ke={promiseId:pe,licenseNotificationResult:void 0};(yield Ve.licenseService.isLicenseUnsupportedEnv())?ke.licenseNotificationResult=!1:(Ve.visualHostServices.onNotifyFeatureBlocked(q),ke.licenseNotificationResult=!0),Ve.proxy.postMessage("handleLicenseNotificationResult",[ke]),Ve.telemetryService.logEvent(Ue.r6,{visualType:Ve.proxy.plugin.name,responseValue:ke.licenseNotificationResult}),Ve.logLicensingStandardizedFeatureEvent(Ue.C9,{responseValue:ke.licenseNotificationResult})})()}clearLicenseNotification(q){var pe={promiseId:q,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[pe]),this.telemetryService.logEvent(Ue.E3,{visualType:this.proxy.plugin.name,responseValue:pe.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ue.p3,{responseValue:pe.licenseNotificationResult})}logLicensingStandardizedFeatureEvent(q,pe){this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:pe,activityName:q,correlationId:this.telemetryService.root?.id,visualId:this.proxy.plugin.name})}loadMoreData(q){this.canHandleLoadMoreData&&(void 0===q&&(q=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(pe=>{if(this.proxy&&this.proxy.plugin&&(0,K.Ht)(this.proxy.plugin)&&pe&&pe.result&&pe.result.dataReaderResult&&pe.result.dataReaderResult.dataView){X.Y.assert(()=>!!this.dataViewSerializer.identitiesArray,"identitiesArray should be defined because update was called");var Ve=this.proxy.plugin,ke=pe.result.dataReaderResult.dataView;ke=(0,Q.Bb)({prototype:ke,objectDescriptors:Ve.capabilities?Ve.capabilities.objects:null,dataViewMappings:Ve.capabilities?Ve.capabilities.dataViewMappings:null,transforms:this.dataTransforms,colorAllocatorFactory:(0,L.r)(),dataRoles:Ve.capabilities?Ve.capabilities.dataRoles:null,drillCapabilities:Ve.capabilities&&Ve.capabilities.drilldown,expandCollapseCapabilties:Ve.capabilities&&Ve.capabilities.expandCollapse,visualStyle:this.visualStyle,keepAllMetadataColumnsCapability:!!Ve.capabilities&&Ve.capabilities.keepAllMetadataColumns,featureSwitches:this.featureSwitches}).dataViews[0];var it=this.dataViewSerializer.serializeDataViewForCv(ke,Ve.capabilities,!0,(0,lt.gt)(Ve.apiVersion,"3.5.9"),pe.secondToLastNodesIndex,(0,lt.ge)(Ve.apiVersion,"5.3.0"),(0,lt.ge)(Ve.apiVersion,"5.9.0"));Ve.capabilities&&Ve.capabilities.expandCollapse&&this.visualAdapterHostServices.mergeNewSegmentDataView(pe),this.proxy.postMessageAsync("handleLoadMoreDataResult",[it,q,pe.secondToLastNodesIndex]).then(()=>{pe.performanceActivity&&pe.performanceActivity.resolve()})}else this.proxy.postMessageAsync("handleLoadMoreDataResult",[pe&&pe.result,q,void 0]).then(()=>{pe.performanceActivity&&pe.performanceActivity.resolve()});this.canHandleLoadMoreData=!0}).catch(pe=>{this.visualAdapterHostServices.stopProgressBar(),this.canHandleLoadMoreData=!0})))}getResourceUrl(q,pe){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(q).then(Ve=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:Ve,isError:!1,promiseId:pe}])}).catch(Ve=>{this.proxy.postMessage("handleGetResourceUrlResult",[{payload:Ve,isError:!0,promiseId:pe}])})}getAADAuthenticationToken(q,pe){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(q).then(Ve=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Ve.payload,isError:!1,promiseId:pe,resourceUrl:Ve.resourceUrl}])}).catch(Ve=>{this.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Ve,isError:!0,promiseId:pe}])})}getAADToken(q,pe){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(q).then(Ve=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:Ve,isError:!1,promiseId:pe}])}).catch(Ve=>{this.proxy.postMessage("handleGetAADTokenResult",[{payload:Ve,isError:!0,promiseId:pe}])})}getWACToken(q,pe,Ve,ke){this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(q,pe,Ve).then(it=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:it.accessToken,wacToken:it,isError:!1,promiseId:ke}])}).catch(it=>{this.proxy.postMessage("handleGetWACTokenResult",[{payload:it,isError:!0,promiseId:ke}])})}launchUrl(q){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(q,this.proxy.plugin.name)}openModalDialog(q,pe,Ve,ke){if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||!this.initOptions?.interactivity?.allowModalDialog||q.length>80||/[^0-9a-zA-Z_ \.]/.test(q))this.proxy.postMessage("handleModalDialogResult",[{promiseId:ke,isError:!0,data:{error:De.NotAllowed}}]);else if(st.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:ke,isError:!0,data:{error:De.BlockedByUser}}]);else{pe.position&&pe.position.type===l.u7.RelativeToVisual&&([pe.position.left,pe.position.top]=this.fixCoordinates([pe.position.left,_.clamp(pe.position.top,0,pe.position.top)]));var Pt=new he((0,Y.Ev)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),Ut=this.proxy.plugin.displayName,Kt=this.visualSandboxOptions.dialogSandboxUri,Qt=this.visualSandboxOptions.sandboxPropertiesString,qt=JSON.stringify(Ve),nr=this.generateDialogScript(q,qt),Ge=this.proxy.plugin.content.css,nt=this.visualSandboxOptions.openIFrameDialog({title:Ut,subTitle:pe.title,iconUrl:this.proxy.plugin.iconUrl,size:pe.size,position:pe.position,actionButtons:pe.actionButtons,sandboxProperties:Qt,iframeSrc:Kt,onIframeLoad:kt=>{kt.contentWindow&&(Pt.iframe=kt,kt.contentWindow.postMessage({messageType:"DialogContent",style:Ge,scriptContent:nr},"*"))},onBlockRequest:kt=>{st.dialogBlockedVisuals[this.proxy.plugin.name]=kt},onClose:kt=>{Pt.dialog=null,this.proxy.postMessage("handleModalDialogResult",[{promiseId:ke,data:{actionId:kt,resultState:Pt.modalDialogState}}]),Pt.destroy()}});nt?Pt.dialog=nt:this.proxy.postMessage("handleModalDialogResult",[{promiseId:ke,isError:!0,data:{error:De.AlreadyOpen}}])}}getLocalStorageStatusInternal(){var q=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return q===l.QC.Allowed&&(q=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?l.QC.Allowed:l.QC.DisabledByAdmin),q}isLocalStoragePermitted(){var q=this.getLocalStorageStatusInternal(),pe=q===l.QC.Allowed;return pe||this.logPrivilegesViolation("LocalStorage",q),pe}getStorageStatus(q,pe){var ke={promiseId:q,status:this.getLocalStorageStatusInternal()};pe({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[ke])}getStorageData(q,pe){if(this.isLocalStoragePermitted()){var Ve=ye.getData((0,ze.ug)()?.puid,this.proxy.plugin.name,q);this.proxy.postMessage("handleGetStorageData",[{promiseId:pe,data:Ve}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:pe,data:null}])}setStorageData(q,pe,Ve){if(this.isLocalStoragePermitted()){var ke=ye.setData((0,ze.ug)()?.puid,this.proxy.plugin.name,q,pe);this.proxy.postMessage("handleSetStorageData",[{promiseId:Ve,freeSpace:ke,isError:ke<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:Ve,freeSpace:0,isError:!0}])}removeStorageData(q){this.isLocalStoragePermitted()&&ye.remove((0,ze.ug)()?.puid,this.proxy.plugin.name,q)}getStorageV2Status(q,pe){var Ve=this;return(0,r.A)(function*(){var it={status:yield Ve.visualLocalStorageV2ProxyService.getStorageV2Status(Ve.proxy.plugin),promiseId:q};pe({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),Ve.proxy.postMessage("handleGetStorageStatus",[it])})()}getStorageV2Data(q,pe){var Ve=this;return(0,r.A)(function*(){var ke=yield Ve.visualLocalStorageV2ProxyService.getStorageV2Data(q,Ve.proxy.plugin),it={promiseId:pe,...ke};Ve.proxy.postMessage("handleGetStorageV2Data",[it])})()}setStorageV2Data(q,pe,Ve){var ke=this;return(0,r.A)(function*(){var it=yield ke.visualLocalStorageV2ProxyService.setStorageV2Data(q,pe,ke.proxy.plugin),ft={promiseId:Ve,...it};ke.proxy.postMessage("handleSetStorageV2Data",[ft])})()}removeStorageV2Data(q){var pe=this;return(0,r.A)(function*(){pe.visualLocalStorageV2ProxyService.removeStorageV2Data(q,pe.proxy.plugin)})()}onSecurityPolicyViolation(q,pe,Ve){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,q),`{"violatedDirective": "${pe}", "blockedURI": "${q}"}`)}onGlobalUndefinedGet(q){if(q.length>256||/[^0-9a-zA-Z_\.]/.test(q))X.Y.assert(()=>!1,"invalid property provided");else if(!q.startsWith(`powerbi.visuals.plugins.${this.proxy.plugin.name}`)){var Ve=`${this.proxy.plugin.name}:${q}`;st.globalUndefinedGets.has(Ve)||(st.globalUndefinedGets.add(Ve),this.logUndefinedGet(q))}}stopProgressBar(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()}onRestoreSelection(q){return this.proxy.postMessage("onRestoreSelection",[q]),!0}onClearSelection(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])}destroy(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()}logPrivilegesViolation(q,pe,Ve){this.telemetryService.logEvent(Ue.ud,{visualType:this.proxy.plugin.name,environment:this.visualSandboxOptions?.hostEnv?Fe[this.visualSandboxOptions.hostEnv]:"Undefined",privilege:q,status:et[pe],parameters:Ve})}logUndefinedGet(q){this.telemetryService.logEvent(Ue.IJ,{visualType:this.proxy.plugin.name,property:q,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})}resize(q){this.viewPortScale=q.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:q.width,height:q.height})}shouldUpdateWithCachedData(q){return(!q.visualDefinitionData||!q.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),q.visualDefinitionData&&q.visualDefinitionData.dataViewSource&&q.visualDefinitionData.dataViewSource===this.lastDataViewSource}generateDialogScript(q,pe){return this.proxy.plugin.content.js+`\nconst host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            ${this.proxy.plugin.name}.default.createModalDialog('${q}', dialogConstructionOptions, ${pe});\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");`}applyIdentityFilter(q,pe,Ve,ke){var it=q[0].target;if(!(0,lt.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){ke=it&&it.length>0?ut.Bs.merge:ut.Bs.remove;var Pt=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(it);this.visualHostServices.applyIdentityFilter(Pt,pe,Ve,ke)}}applyCustomSort(q,pe){q&&q.sortDescriptors&&this.proxy?.plugin?.capabilities?.sorting?.custom?this.visualHostServices.onCustomSort({sortDescriptors:q.sortDescriptors,suppressAnnouncements:!0}):pe({telemetryServiceArgs:{aborted:!0}})}}return st.dialogBlockedVisuals={},st.globalUndefinedGets=new Set,(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onSelect",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"subSelect",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"updateRegionOutlines",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"transformCvSelectionIdsAndSelect",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onUpdateResult",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[UIEvent]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onRelayUIEvent",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"persistProperties",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"applyJsonFilter",null),(0,i.__decorate)([(0,ee.JO)(a.Y.HierarchyIdentityFilter,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"applyHierarchyIdentityFilter",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.DynamicDrillControl,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"setCanDrill",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"drill",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.ContextMenu,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onCustomVisualContextMenu",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.ExpandCollapse,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onCustomVisualExpandCollapse",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"exportVisualsContentStatus",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.DownloadAFileFromCV,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"exportVisualsContent",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onSwitchFocusModeState",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.InformativeIcon,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onDisplayWarningIcon",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.ReportTooltips),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"showTooltip",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"moveTooltip",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"hideTooltip",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"getAvailableServicePlans",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.AcquireAADToken),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"acquireAADToken",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.AcquireAADTokenStatus,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"getAcquireAADTokenStatus",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Number]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"notifyLicenseRequired",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"notifyFeatureBlocked",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"clearLicenseNotification",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.FetchMoreData),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Boolean]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"loadMoreData",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"launchUrl",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.ModalDialog),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"openModalDialog",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorage,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"getStorageStatus",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"getStorageData",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"setStorageData",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorage),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"removeStorageData",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorageV2,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Number,Function]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"getStorageV2Status",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,Number]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"getStorageV2Data",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,Number]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"setStorageV2Data",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.LocalStorageV2),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",Promise)],st.prototype,"removeStorageV2Data",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String,String,String]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onSecurityPolicyViolation",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[String]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"onGlobalUndefinedGet",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"stopProgressBar",null),(0,i.__decorate)([(0,R.HJ)(),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"applyIdentityFilter",null),(0,i.__decorate)([(0,R.HJ)(),(0,ee.JO)(a.Y.CustomSorting,!0),(0,i.__metadata)("design:type",Function),(0,i.__metadata)("design:paramtypes",[Object,Function]),(0,i.__metadata)("design:returntype",void 0)],st.prototype,"applyCustomSort",null),st})()},282293:function(me,j,e){e.d(j,{T:function(){return d}});var r=e(785463),i=e(289239),a=e(566436),t=e(842354),l=e(103965),n="children";class d{constructor(){this.serializeDataViewFromScrathTimes=0,this.matrixIdentityToValueMapper=new Map,this.initializeFields()}serializeDataViewForCv(h,o,v,m,p,y=!1,S=!1){if(v||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),h){h=this.filterDataViewsType(h,o),this.isExpandCollapseSupported=!!h.matrix&&!!o.expandCollapse,this.isExpandCollapseSupported&&(v&&(r.Y.assert(()=>!_.isEmpty(p),"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=p),h.matrix.rows.levels.forEach((c,f)=>{c.sources&&c.sources[0]&&c.sources[0].queryName&&(this.rowsLevel.length>f?this.rowsLevel[f]=c.sources[0].queryName:this.rowsLevel.push(c.sources[0].queryName))}));var C=this.getValueSource(h),u=this.getValueGroups(h);this.shouldShareIdentityIndexStrategy=y&&!!h.matrix,S&&(S=!!h.matrix&&(0,l.I0)(o));var E=JSON.stringify(h,(c,f)=>this.replacer(c,f,m,S));return r.Y.assert(()=>_.isEmpty(this.stackNodeIndex),"stackNodeIndex should be empty"),{valueSource:C,valueGroups:u,stringifiedDataView:E}}}serializeDataViewMetadata(h){return h.metadata?JSON.stringify(h.metadata,(o,v)=>this.replacer(o,v)):null}deserializeDataView(h,o,v=!1,m=[],p=!1){var y;return this.isExpandCollapseSupported=v,this.lastNodeIndex=m,y=o||this.isExpandCollapseSupported&&p?JSON.parse(h.stringifiedDataView,(S,C)=>this.deserializeDataViewHelper(S,C,p)):JSON.parse(h.stringifiedDataView),this.reconstructValuesGroups(y,h),this.reconstructValuesSource(y,h),y}convertOpaqueIdentitiesToScopeIds(h){var o=[];if(h&&h.length>0)for(var v of h){var m=this.replaceOpaqueIndexWithScopeIds(v);m&&(m.opaqueIdentity={identityIndex:v},o.push(m))}return o}getDataViewScopeIdentityByCustomVisualOpaqueIdentity(h){return this.replaceOpaqueIndexWithScopeIds(h.identityIndex)}convertCVSelectionIdToPowerbiSelctionId(h){var o=JSON.parse(JSON.stringify(h),(v,m)=>this.replaceOpaqueIdentitiesWithDataViewScopeIdentities(v,m));return a.M3.createWithSelectorForColumnAndMeasures(o.dataMap,o.measures)}restoreIdentitiesIndexesFromSelectionId(h,o){var v={serializedDataMap:{},measures:h.metadata};return _.map(h.dataMap,(p,y)=>{r.Y.assert(()=>p.length<=1,"dataMap can only have one selector per column"),v.serializedDataMap[y]=[{identityIndex:this.ensureIdentityIsMapped(p[0])}]}),v.serializedDataMap=o&&!h.dataMap?null:v.serializedDataMap,v}getNodeIndexOfSelectionId(h){var o=[];if(h&&h.dataMap){if(h.nodeIndexes?.length)return h.nodeIndexes;for(var v in h.dataMap){var m=_.first(h.dataMap[v]).identityIndex;null!=this.identityNodeIndexArray[m]&&o.push(this.identityNodeIndexArray[m])}}return o}sortSelectionIdAccordingToRows(h){if(!h||!h.dataMap)return!1;var o=Object.keys(h.dataMap),v=Object.keys(h.dataMap).sort((y,S)=>this.rowsLevel.indexOf(y)-this.rowsLevel.indexOf(S)),m=!_.isEmpty(v)&&!_.isEmpty(this.rowsLevel)&&v.length<=this.rowsLevel.length&&v.every((y,S)=>y===this.rowsLevel[S]);if(m){var p=h.nodeIndexes;p?.length&&p.length===o.length&&(h.nodeIndexes=Object.entries(p).sort(([y],[S])=>this.rowsLevel.indexOf(o[Number(y)])-this.rowsLevel.indexOf(o[Number(S)])).map(([,y])=>y)),h.dataMap=v.reduce((y,S)=>(y[S]=h.dataMap[S],y),{})}return m}deserializeVisualObjectInstance(h){return JSON.parse(JSON.stringify(h,(o,v)=>this.replaceOpaqueIdentities(v)))}deserializeOpaqueIdentity(h){h?.data&&(h.data=h.data.map(o=>this.replaceOpaqueIdentities(o)))}flushIdentitiesArray(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(h=>{h.opaqueIdentity=void 0,h.serializeDataViewFromScrathTimes=void 0})}getCustomVisualOpaqueIdentityByDataViewScopeIdentity(h){return{identityIndex:this.ensureIdentityIsMapped(h)}}getDataViewValueByCustomVisualOpaqueIdentity(h){var{identityIndex:o}=h;if(o>=0)return this.matrixIdentityToValueMapper.get(o)}getValueGroups(h){if(h&&h.categorical&&h.categorical.values&&h.categorical.values.grouped){var o=h.categorical.values.grouped();return JSON.stringify(o,(v,m)=>this.replacer(v,m))}return null}getValueSource(h){return h&&h.categorical&&h.categorical.values&&h.categorical.values.source?h.categorical.values.source:null}deserializeDataViewHelper(h,o,v){if(o&&(v&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&null!=o.identity?.identityIndex&&(o.nodeIndex=o.nodeIndex??parseInt(h,10)),h===n&&o instanceof Array)){if(v&&this.isExpandCollapseSupported&&!_.isEmpty(o)&&_.first(o).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var m in o){var p=o[m];p.identity&&(p.nodeIndex=p.nodeIndex??Number(m),p.nodeIndex+=this.lastNodeIndex[p.level])}for(var y=0;y<o.length;y++)if(o[y]&&(o[y].isDate&&(o[y].value=new Date(o[y].value)),o[y].values))for(var S in o[y].values)o[y].values[S].isDate&&(o[y].values[S].value=new Date(o[y].values[S].value))}return o}replacer(h,o,v,m=!1){if(o){if(m&&o.levelValues&&this.isDataViewScopeIdentity(o.identity)&&this.valuesStack.push(o.levelValues?.[0]?.value),!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(h,10))&&o.identity&&this.isDataViewScopeIdentity(o.identity)&&(this.stackNodeIndex.push(parseInt(h,10)+this.getNodeIndexOffset(o)),o.needOffset&&delete o.needOffset),this.isDataViewScopeIdentity(o)){if(o.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&o.opaqueIdentity&&null!=o.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var p=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]=p)}return{identityIndex:o.opaqueIdentity.identityIndex}}r.Y.assert(()=>_.isEmpty(this.lastNodeIndex)||!_.isEmpty(this.lastNodeIndex)&&null==o.opaqueIdentity,"The new segment's values should not have opaqueIdentity"),o.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var y=-1;return this.shouldShareIdentityIndexStrategy&&(y=this.getIndexOfIdentity(o))>-1?(o.opaqueIdentity={identityIndex:y},this.valuesStack.pop()):(o.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[o.key]=this.identitiesArray.length),this.valuesStack.length&&this.matrixIdentityToValueMapper.set(this.identitiesArray.length,this.valuesStack.pop()),this.identitiesArray.push(o)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[o.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),o.opaqueIdentity}if(o instanceof Array){var S=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&h===n&&o.length&&o[0].isMerge)for(var C of o)C.identity&&(C.needOffset=!0);if(v&&h===n)for(var u=0;u<o.length;u++)if(o[u]&&(o[u].value&&o[u].value instanceof Date&&(o[u].isDate=!0),o[u].values))for(var E in o[u].values)o[u].values[E].value&&o[u].values[E].value instanceof Date&&(o[u].values[E].isDate=!0);return S.push(...o||[]),S}if("object"==typeof o&&!this.dontNeedToClone(o)){var c={};for(var f in o)c[f]=o[f];return c}}return o}replaceOpaqueIdentities(h){if(h){var o=h.identityIndex;if(void 0!==o&&o>=0&&o<this.identitiesArray.length)return(0,t.V)(this.identitiesArray[h.identityIndex])}return h}getNodeIndexOffset(h){return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&h.needOffset?(r.Y.assert(()=>h.level<this.lastNodeIndex.length,"node's level is too high"),this.lastNodeIndex[h.level]):0}getIndexOfIdentity(h){return this.shouldShareIdentityIndexStrategy?this.identitiesIndexesMapper[h.key]??-1:_.findIndex(this.identitiesArray,v=>(0,i.aI)(v,h))}ensureIdentityIsMapped(h){var o=this.getIndexOfIdentity(h);return-1===o&&(o=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[h.key]=o),this.identitiesArray.push(h)),o}replaceOpaqueIdentitiesWithDataViewScopeIdentities(h,o){return o&&void 0!==o.identityIndex?this.identitiesArray[o.identityIndex]:o}filterDataViewsType(h,o){return o.dataViewMappings&&(o.dataViewMappings[0].categorical||(h.categorical=null),o.dataViewMappings[0].matrix||(h.matrix=null),o.dataViewMappings[0].table||(h.table=null),o.dataViewMappings[0].tree||(h.tree=null),o.dataViewMappings[0].single||(h.single=null)),h}dontNeedToClone(h){return h._proto_===Object.prototype||h instanceof Date}isDataViewScopeIdentity(h){return!!(h&&h.expr&&h.key&&h.kind)}reconstructValuesSource(h,o){o&&o.valueSource&&(h.categorical.values.source=o.valueSource)}reconstructValuesGroups(h,o){h&&h.categorical&&h.categorical.values&&h.categorical.values[0]&&(h.categorical.values.grouped=function(){return JSON.parse(o.valueGroups)})}replaceOpaqueIndexWithScopeIds(h){return h>=0&&h<this.identitiesArray.length?this.identitiesArray[h]:null}initializeFields(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1,this.matrixIdentityToValueMapper.clear(),this.valuesStack=[]}}},809877:function(me,j,e){e.d(j,{GO:function(){return h},Rr:function(){return o},gj:function(){return v}});var r=e(638631),i=e(203780),a=e(852760),t=["popperViewRef"],l=["*","*"];function g(S,C){if(1&S&&(r.\u0275\u0275elementStart(0,"div",5),r.\u0275\u0275projection(1),r.\u0275\u0275elementEnd()),2&S){var u=r.\u0275\u0275nextContext();r.\u0275\u0275property("innerHTML",u.text,r.\u0275\u0275sanitizeHtml)}}function n(S,C){1&S&&(r.\u0275\u0275elementStart(0,"div",6),r.\u0275\u0275projection(1,1),r.\u0275\u0275elementEnd())}class d{}fr(d,"CLICK","click"),fr(d,"HOVER","hover"),fr(d,"MOUSEDOWN","mousedown"),fr(d,"NONE","none");class s{}fr(s,"Top","top"),fr(s,"Bottom","bottom"),fr(s,"Left","left"),fr(s,"Right","right"),fr(s,"TopStart","top-start"),fr(s,"BottomStart","bottom-start"),fr(s,"LeftStart","left-start"),fr(s,"RightStart","right-start"),fr(s,"TopEnd","top-end"),fr(s,"BottomEnd","bottom-end"),fr(s,"LeftEnd","left-end"),fr(s,"RightEnd","right-end"),fr(s,"Auto","auto"),fr(s,"AutoStart","auto-start"),fr(s,"AutoEnd","auto-end");const m=class{constructor(C,u,E,c){fr(this,"elemRef"),fr(this,"renderer"),fr(this,"viewRef"),fr(this,"CDR"),fr(this,"popperOptions",{disableAnimation:!1,disableDefaultStyling:!1,placement:s.Auto,boundariesElement:"",trigger:d.HOVER,positionFixed:!1,appendToBody:!1,popperModifiers:{}}),fr(this,"referenceObject"),fr(this,"isMouseOver",!1),fr(this,"onHidden",new r.EventEmitter),fr(this,"text"),fr(this,"popperInstance"),fr(this,"displayType","none"),fr(this,"opacity",0),fr(this,"ariaHidden","true"),fr(this,"arrowColor",null),fr(this,"onUpdate"),fr(this,"state",!0),fr(this,"globalResize"),fr(this,"popperViewRef"),this.elemRef=C,this.renderer=u,this.viewRef=E,this.CDR=c}onMouseOver(){this.isMouseOver=!0}showOnLeave(){this.isMouseOver=!1,(this.popperOptions.trigger===d.HOVER||this.popperOptions.hideOnMouseLeave)&&this.hide()}onDocumentResize(){this.update()}ngOnDestroy(){this.clean(),this.popperOptions.appendTo&&this.elemRef&&this.elemRef.nativeElement&&this.elemRef.nativeElement.parentNode&&(this.viewRef.detach(),this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement))}clean(){this.toggleVisibility(!1),this.popperInstance&&(this.popperInstance.disableEventListeners(),this.popperInstance.destroy())}show(){if(this.referenceObject){var C=this.popperOptions.appendTo&&document.querySelector(this.popperOptions.appendTo);C&&this.elemRef.nativeElement.parentNode!==C&&(this.elemRef.nativeElement.parentNode&&this.elemRef.nativeElement.parentNode.removeChild(this.elemRef.nativeElement),C.appendChild(this.elemRef.nativeElement));var u={placement:this.popperOptions.placement,positionFixed:this.popperOptions.positionFixed,modifiers:{arrow:{element:this.popperViewRef.nativeElement.querySelector(".ngxp__arrow")}}};this.onUpdate&&(u.onUpdate=this.onUpdate);var E=this.popperOptions.boundariesElement&&document.querySelector(this.popperOptions.boundariesElement);u.modifiers&&E&&(u.modifiers.preventOverflow={boundariesElement:E}),u.modifiers&&void 0!==this.popperOptions.preventOverflow&&(u.modifiers.preventOverflow=u.modifiers.preventOverflow||{},u.modifiers.preventOverflow.enabled=this.popperOptions.preventOverflow,u.modifiers.preventOverflow.enabled||(u.modifiers.hide={enabled:!1})),this.determineArrowColor(),u.modifiers=Object.assign(u.modifiers,this.popperOptions.popperModifiers),this.popperInstance=new i.A(this.referenceObject,this.popperViewRef.nativeElement,u),this.popperInstance.enableEventListeners(),this.scheduleUpdate(),this.toggleVisibility(!0),this.globalResize=this.renderer.listen("document","resize",this.onDocumentResize.bind(this))}}determineArrowColor(){["background-color","backgroundColor"].some(C=>!(!this.popperOptions.styles||!this.popperOptions.styles.hasOwnProperty(C)||(this.arrowColor=this.popperOptions.styles[C],0)))}update(){this.popperInstance&&this.popperInstance.update()}scheduleUpdate(){this.popperInstance&&this.popperInstance.scheduleUpdate()}hide(){this.popperInstance&&this.popperInstance.destroy(),this.toggleVisibility(!1),this.onHidden.emit()}toggleVisibility(C){C?(this.opacity=1,this.displayType="block",this.ariaHidden="false"):(this.opacity=0,this.displayType="none",this.ariaHidden="true"),this.CDR.destroyed||this.CDR.detectChanges()}extractAppliedClassListExpr(C){if(!C||"string"!=typeof C)return null;try{return C.replace(/ /,"").split(",").reduce((u,E)=>(u[E]=!0,u),{})}catch{return null}}clearGlobalResize(){this.globalResize&&"function"==typeof this.globalResize&&this.globalResize()}};fr(m,"\u0275fac",function(u){return new(u||m)(r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject(r.ViewContainerRef),r.\u0275\u0275directiveInject(r.ChangeDetectorRef))}),fr(m,"\u0275cmp",r.\u0275\u0275defineComponent({type:m,selectors:[["popper-content"]],viewQuery:function(u,E){var c;1&u&&r.\u0275\u0275viewQuery(t,5),2&u&&r.\u0275\u0275queryRefresh(c=r.\u0275\u0275loadQuery())&&(E.popperViewRef=c.first)},hostBindings:function(u,E){1&u&&r.\u0275\u0275listener("mouseover",function(){return E.onMouseOver()})("mouseleave",function(){return E.showOnLeave()})},ngContentSelectors:l,decls:5,vars:20,consts:[["popperViewRef",""],[3,"ngStyle","ngClass"],["class","ngxp__inner",3,"innerHTML",4,"ngIf"],["class","ngxp__inner",4,"ngIf"],[1,"ngxp__arrow",3,"ngClass"],[1,"ngxp__inner",3,"innerHTML"],[1,"ngxp__inner"]],template:function(u,E){1&u&&(r.\u0275\u0275projectionDef(l),r.\u0275\u0275elementStart(0,"div",1,0),r.\u0275\u0275template(2,g,2,1,"div",2)(3,n,2,0,"div",3),r.\u0275\u0275element(4,"div",4),r.\u0275\u0275elementEnd()),2&u&&(r.\u0275\u0275styleProp("display",E.displayType)("opacity",E.opacity),r.\u0275\u0275classProp("ngxp__container",!E.popperOptions.disableDefaultStyling)("ngxp__animation",!E.popperOptions.disableAnimation),r.\u0275\u0275property("ngStyle",E.popperOptions.styles)("ngClass",E.extractAppliedClassListExpr(E.popperOptions.applyClass)),r.\u0275\u0275attribute("aria-hidden",E.ariaHidden)("aria-describedby",E.popperOptions.ariaDescribe||null)("role",E.popperOptions.ariaRole),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",E.text),r.\u0275\u0275advance(),r.\u0275\u0275property("ngIf",!E.text),r.\u0275\u0275advance(),r.\u0275\u0275styleProp("border-color",E.arrowColor),r.\u0275\u0275classProp("__force-arrow",E.arrowColor),r.\u0275\u0275property("ngClass",E.extractAppliedClassListExpr(E.popperOptions.applyArrowClass)))},dependencies:[a.NgClass,a.NgIf,a.NgStyle],styles:[".ngxp__container{display:none;position:absolute;border-radius:3px;border:1px solid grey;box-shadow:0 0 2px #00000080;padding:10px}.ngxp__container.ngxp__animation{-webkit-animation:ngxp-fadeIn .15s ease-out;-moz-animation:ngxp-fadeIn .15s ease-out;-o-animation:ngxp-fadeIn .15s ease-out;animation:ngxp-fadeIn .15s ease-out}.ngxp__container>.ngxp__arrow{border-color:gray;width:0;height:0;border-style:solid;position:absolute;margin:5px}.ngxp__container[x-placement^=top],.ngxp__container[x-placement^=bottom],.ngxp__container[x-placement^=right],.ngxp__container[x-placement^=left]{display:block}.ngxp__container[x-placement^=top]{margin-bottom:5px}.ngxp__container[x-placement^=top]>.ngxp__arrow{border-width:5px 5px 0 5px;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;bottom:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=top]>.ngxp__arrow.__force-arrow{border-right-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=bottom]{margin-top:5px}.ngxp__container[x-placement^=bottom]>.ngxp__arrow{border-width:0 5px 5px 5px;border-top-color:transparent;border-right-color:transparent;border-left-color:transparent;top:-5px;left:calc(50% - 5px);margin-top:0;margin-bottom:0}.ngxp__container[x-placement^=bottom]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-right-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=right]{margin-left:5px}.ngxp__container[x-placement^=right]>.ngxp__arrow{border-width:5px 5px 5px 0;border-top-color:transparent;border-bottom-color:transparent;border-left-color:transparent;left:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=right]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-left-color:transparent!important}.ngxp__container[x-placement^=left]{margin-right:5px}.ngxp__container[x-placement^=left]>.ngxp__arrow{border-width:5px 0 5px 5px;border-top-color:transparent;border-bottom-color:transparent;border-right-color:transparent;right:-5px;top:calc(50% - 5px);margin-left:0;margin-right:0}.ngxp__container[x-placement^=left]>.ngxp__arrow.__force-arrow{border-top-color:transparent!important;border-bottom-color:transparent!important;border-right-color:transparent!important}@-webkit-keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}@keyframes ngxp-fadeIn{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}\n"],encapsulation:2,changeDetection:0}));let h=m;const p=class p{constructor(C,u,E,c,f,D={}){fr(this,"viewContainerRef"),fr(this,"changeDetectorRef"),fr(this,"resolver"),fr(this,"elementRef"),fr(this,"renderer"),fr(this,"popperDefaults"),fr(this,"popperContentClass",h),fr(this,"popperContentRef"),fr(this,"shown",!1),fr(this,"scheduledShowTimeout"),fr(this,"scheduledHideTimeout"),fr(this,"subscriptions",[]),fr(this,"eventListeners",[]),fr(this,"globalEventListeners",[]),fr(this,"popperContent"),fr(this,"content"),fr(this,"disabled"),fr(this,"placement"),fr(this,"showTrigger"),fr(this,"targetElement"),fr(this,"showDelay"),fr(this,"hideTimeout",0),fr(this,"timeoutAfterShow",0),fr(this,"boundariesElement"),fr(this,"showOnStart"),fr(this,"closeOnClickOutside"),fr(this,"hideOnClickOutside"),fr(this,"hideOnScroll"),fr(this,"hideOnMouseLeave"),fr(this,"positionFixed"),fr(this,"popperModifiers"),fr(this,"disableStyle"),fr(this,"disableAnimation"),fr(this,"applyClass"),fr(this,"applyArrowClass"),fr(this,"ariaDescribe"),fr(this,"ariaRole"),fr(this,"styles"),fr(this,"appendTo"),fr(this,"preventOverflow"),fr(this,"popperOnShown",new r.EventEmitter),fr(this,"popperOnHidden",new r.EventEmitter),fr(this,"popperOnUpdate",new r.EventEmitter),this.viewContainerRef=C,this.changeDetectorRef=u,this.resolver=E,this.elementRef=c,this.renderer=f,this.popperDefaults=D,p.baseOptions={...p.baseOptions,...this.popperDefaults}}hideOnClickOutsideHandler(C){this.disabled||!this.hideOnClickOutside||C.srcElement&&C.srcElement===this.popperContent.elemRef.nativeElement||this.popperContent.elemRef.nativeElement.contains(C.srcElement)||this.scheduledHide(C,this.hideTimeout)}hideOnScrollHandler(C){this.disabled||!this.hideOnScroll||this.scheduledHide(C,this.hideTimeout)}applyTriggerListeners(){switch(this.showTrigger){case d.CLICK:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"click",this.toggle.bind(this)));break;case d.MOUSEDOWN:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mousedown",this.toggle.bind(this)));break;case d.HOVER:this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseenter",this.scheduledShow.bind(this,this.showDelay))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout)))}this.showTrigger!==d.HOVER&&this.hideOnMouseLeave&&(this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchend",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"touchcancel",this.scheduledHide.bind(this,null,this.hideTimeout))),this.eventListeners.push(this.renderer.listen(this.elementRef.nativeElement,"mouseleave",this.scheduledHide.bind(this,null,this.hideTimeout))))}static assignDefined(C,...u){for(var E of u)for(var c of Object.keys(E)){var f=E[c];void 0!==f&&(C[c]=f)}return C}ngOnInit(){if(this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?this.closeOnClickOutside:this.hideOnClickOutside,"string"==typeof this.content){var C=this.content;this.popperContent=this.constructContent(),this.popperContent.text=C}else this.popperContent=this.content;var u=this.popperContent;u.referenceObject=this.getRefElement(),this.setContentProperties(u),this.setDefaults(),this.applyTriggerListeners(),this.showOnStart&&this.scheduledShow()}ngOnChanges(C){C.popperDisabled&&C.popperDisabled.currentValue&&this.hide(),C.content&&!C.content.firstChange&&"string"==typeof C.content.currentValue&&(this.popperContent.text=C.content.currentValue),C.applyClass&&!C.applyClass.firstChange&&"string"==typeof C.applyClass.currentValue&&(this.popperContent.popperOptions.applyClass=C.applyClass.currentValue),C.applyArrowClass&&!C.applyArrowClass.firstChange&&"string"==typeof C.applyArrowClass.currentValue&&(this.popperContent.popperOptions.applyArrowClass=C.applyArrowClass.currentValue)}ngOnDestroy(){this.subscriptions.forEach(C=>C.unsubscribe&&C.unsubscribe()),this.subscriptions.length=0,this.clearEventListeners(),this.clearGlobalEventListeners(),clearTimeout(this.scheduledShowTimeout),clearTimeout(this.scheduledHideTimeout),this.popperContent&&this.popperContent.clean()}toggle(){this.disabled||(this.shown?this.scheduledHide(null,this.hideTimeout):this.scheduledShow())}show(){if(this.shown)this.overrideHideTimeout();else{this.shown=!0;var C=this.popperContent,u=this.getRefElement();C.referenceObject!==u&&(C.referenceObject=u),this.setContentProperties(C),C.show(),this.popperOnShown.emit(this),this.timeoutAfterShow>0&&this.scheduledHide(null,this.timeoutAfterShow),this.globalEventListeners.push(this.renderer.listen("document","touchend",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen("document","click",this.hideOnClickOutsideHandler.bind(this))),this.globalEventListeners.push(this.renderer.listen(this.getScrollParent(this.getRefElement()),"scroll",this.hideOnScrollHandler.bind(this)))}}hide(){if(!this.disabled){if(!this.shown)return void this.overrideShowTimeout();this.shown=!1,this.popperContentRef?this.popperContentRef.instance.hide():this.popperContent.hide(),this.popperOnHidden.emit(this),this.clearGlobalEventListeners()}}scheduledShow(C=this.showDelay){this.disabled||(this.overrideHideTimeout(),this.scheduledShowTimeout=setTimeout(()=>{this.show(),this.applyChanges()},C))}scheduledHide(C=null,u=this.hideTimeout){this.disabled||(this.overrideShowTimeout(),this.scheduledHideTimeout=setTimeout(()=>{var E=C?C.toElement:null,c=!!this.popperContent.popperViewRef&&this.popperContent.popperViewRef.nativeElement;!c||c===E||c.contains(E)||this.content.isMouseOver||(this.hide(),this.applyChanges())},u))}getRefElement(){return this.targetElement||this.viewContainerRef.element.nativeElement}applyChanges(){this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges()}setDefaults(){this.showDelay=typeof this.showDelay>"u"?p.baseOptions.showDelay:this.showDelay,this.showTrigger=typeof this.showTrigger>"u"?p.baseOptions.trigger:this.showTrigger,this.hideOnClickOutside=typeof this.hideOnClickOutside>"u"?p.baseOptions.hideOnClickOutside:this.hideOnClickOutside,this.hideOnScroll=typeof this.hideOnScroll>"u"?p.baseOptions.hideOnScroll:this.hideOnScroll,this.hideOnMouseLeave=typeof this.hideOnMouseLeave>"u"?p.baseOptions.hideOnMouseLeave:this.hideOnMouseLeave,this.ariaRole=typeof this.ariaRole>"u"?p.baseOptions.ariaRole:this.ariaRole,this.ariaDescribe=typeof this.ariaDescribe>"u"?p.baseOptions.ariaDescribe:this.ariaDescribe,this.styles=typeof this.styles>"u"?Object.assign({},p.baseOptions.styles):this.styles}clearEventListeners(){this.eventListeners.forEach(C=>{C&&"function"==typeof C&&C()}),this.eventListeners.length=0}clearGlobalEventListeners(){this.globalEventListeners.forEach(C=>{C&&"function"==typeof C&&C()}),this.globalEventListeners.length=0}overrideShowTimeout(){this.scheduledShowTimeout&&(clearTimeout(this.scheduledShowTimeout),this.scheduledHideTimeout=0)}overrideHideTimeout(){this.scheduledHideTimeout&&(clearTimeout(this.scheduledHideTimeout),this.scheduledHideTimeout=0)}constructContent(){var C=this.resolver.resolveComponentFactory(this.popperContentClass);return this.popperContentRef=this.viewContainerRef.createComponent(C),this.popperContentRef.instance}setContentProperties(C){C.popperOptions=p.assignDefined(C.popperOptions,p.baseOptions,{showDelay:this.showDelay,disableAnimation:this.disableAnimation,disableDefaultStyling:this.disableStyle,placement:this.placement,boundariesElement:this.boundariesElement,trigger:this.showTrigger,positionFixed:this.positionFixed,popperModifiers:this.popperModifiers,ariaDescribe:this.ariaDescribe,ariaRole:this.ariaRole,applyClass:this.applyClass,applyArrowClass:this.applyArrowClass,hideOnMouseLeave:this.hideOnMouseLeave,styles:this.styles,appendTo:this.appendTo,preventOverflow:this.preventOverflow}),C.onUpdate=this.onPopperUpdate.bind(this),this.subscriptions.push(C.onHidden.subscribe(this.hide.bind(this)))}getScrollParent(C){var E=C instanceof HTMLElement&&window.getComputedStyle(C).overflowY;return C?"visible"!==E&&"hidden"!==E&&C.scrollHeight>=C.clientHeight?C:this.getScrollParent(C.parentNode)||document:null}onPopperUpdate(C){this.popperOnUpdate.emit(C)}};fr(p,"baseOptions",{showDelay:0,placement:s.Auto,hideOnClickOutside:!0,hideOnMouseLeave:!1,hideOnScroll:!1,showTrigger:d.HOVER,appendTo:void 0,ariaRole:"popper",ariaDescribe:"",styles:{}}),fr(p,"\u0275fac",function(u){return new(u||p)(r.\u0275\u0275directiveInject(r.ViewContainerRef),r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(r.ComponentFactoryResolver),r.\u0275\u0275directiveInject(r.ElementRef),r.\u0275\u0275directiveInject(r.Renderer2),r.\u0275\u0275directiveInject("popperDefaults"))}),fr(p,"\u0275dir",r.\u0275\u0275defineDirective({type:p,selectors:[["","popper",""]],inputs:{content:[r.\u0275\u0275InputFlags.None,"popper","content"],disabled:[r.\u0275\u0275InputFlags.None,"popperDisabled","disabled"],placement:[r.\u0275\u0275InputFlags.None,"popperPlacement","placement"],showTrigger:[r.\u0275\u0275InputFlags.None,"popperTrigger","showTrigger"],targetElement:[r.\u0275\u0275InputFlags.None,"popperTarget","targetElement"],showDelay:[r.\u0275\u0275InputFlags.None,"popperDelay","showDelay"],hideTimeout:[r.\u0275\u0275InputFlags.None,"popperTimeout","hideTimeout"],timeoutAfterShow:[r.\u0275\u0275InputFlags.None,"popperTimeoutAfterShow","timeoutAfterShow"],boundariesElement:[r.\u0275\u0275InputFlags.None,"popperBoundaries","boundariesElement"],showOnStart:[r.\u0275\u0275InputFlags.None,"popperShowOnStart","showOnStart"],closeOnClickOutside:[r.\u0275\u0275InputFlags.None,"popperCloseOnClickOutside","closeOnClickOutside"],hideOnClickOutside:[r.\u0275\u0275InputFlags.None,"popperHideOnClickOutside","hideOnClickOutside"],hideOnScroll:[r.\u0275\u0275InputFlags.None,"popperHideOnScroll","hideOnScroll"],hideOnMouseLeave:[r.\u0275\u0275InputFlags.None,"popperHideOnMouseLeave","hideOnMouseLeave"],positionFixed:[r.\u0275\u0275InputFlags.None,"popperPositionFixed","positionFixed"],popperModifiers:"popperModifiers",disableStyle:[r.\u0275\u0275InputFlags.None,"popperDisableStyle","disableStyle"],disableAnimation:[r.\u0275\u0275InputFlags.None,"popperDisableAnimation","disableAnimation"],applyClass:[r.\u0275\u0275InputFlags.None,"popperApplyClass","applyClass"],applyArrowClass:[r.\u0275\u0275InputFlags.None,"popperApplyArrowClass","applyArrowClass"],ariaDescribe:[r.\u0275\u0275InputFlags.None,"popperAriaDescribeBy","ariaDescribe"],ariaRole:[r.\u0275\u0275InputFlags.None,"popperAriaRole","ariaRole"],styles:[r.\u0275\u0275InputFlags.None,"popperStyles","styles"],appendTo:[r.\u0275\u0275InputFlags.None,"popperAppendTo","appendTo"],preventOverflow:[r.\u0275\u0275InputFlags.None,"popperPreventOverflow","preventOverflow"]},outputs:{popperOnShown:"popperOnShown",popperOnHidden:"popperOnHidden",popperOnUpdate:"popperOnUpdate"},exportAs:["popper"],features:[r.\u0275\u0275NgOnChangesFeature]}));let o=p;const y=class y{ngDoBootstrap(){}static forRoot(C={}){return{ngModule:y,providers:[{provide:"popperDefaults",useValue:C}]}}};fr(y,"\u0275fac",function(u){return new(u||y)}),fr(y,"\u0275mod",r.\u0275\u0275defineNgModule({type:y})),fr(y,"\u0275inj",r.\u0275\u0275defineInjector({providers:[{provide:"popperDefaults",useValue:{}}],imports:[a.CommonModule]}));let v=y},892784:function(me){me.exports={Q:"1.39"}},481041:function(me){me.exports={t:"5.63"}}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;